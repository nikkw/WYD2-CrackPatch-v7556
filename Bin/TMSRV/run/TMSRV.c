
#include <windows.h>
#include <math.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Data declarations

extern char asc_4C4B40[159]; // weak
extern _UNKNOWN sub_4EAEF4; // weak
extern char aTmsrv_dll[10]; // idb
extern char aSetItemPriceIn[47]; // weak
extern char aSystem[8]; // weak
extern char aErrSetItemPric[36]; // weak
extern char aItemprice_bin[14]; // weak
extern char aWb[3]; // weak
extern char aDD[6]; // weak
extern char aItemprice_txt[14]; // weak
extern char aRt[3]; // weak
extern char byte_5840D0; // weak
extern char aDDDDDDD[21]; // weak
extern char a4_4x2_2x2_2x2_[37]; // weak
extern _UNKNOWN unk_584124; // weak
extern char aEmptyOrLongStr[24]; // weak
extern char aCanTParseStrin[22]; // weak
extern char aDS[6]; // weak
extern char aCanTFindMatchM[28]; // weak
extern char aSS[6]; // weak
extern char aTooMuchItemsIn[33]; // weak
extern char aEemptyOrLongSt[33]; // weak
extern char aEmptyOrLongS_0[28]; // weak
extern char aS_0[3]; // weak
extern char aDDDDDDDDD[27]; // weak
extern char aSSettingsLotto[22]; // weak
extern char aRb[3]; // weak
extern char aItemname_csv[13]; // weak
extern char Text[]; // idb
extern char Caption[]; // idb
extern char aTooLongItemNam[19]; // weak
extern char aSystem_0[7]; // weak
extern char aCheckMax_iteml[]; // idb
extern char aDSS[9]; // weak
extern char aItemname_bin[13]; // weak
extern char a____TmsrvRunS[19]; // weak
extern char aUnregisterdEff[]; // idb
extern char aD_D_D_D_D[15]; // weak
extern char aD_D[6]; // weak
extern char aDSSSDDDDDSDSDS[99]; // weak
extern char aCanTWriteExtra[]; // idb
extern char aError[]; // idb
extern char aExtraitem_bin[14]; // weak
extern char aEffect_hDefine[27]; // idb
extern char aSSSSS[15]; // weak
extern char aDefine[8]; // weak
extern char aSS_0[7]; // weak
extern char aInclude[9]; // weak
extern char aThereIsNoEffec[]; // idb
extern char a____TmsrvRunIt[29]; // weak
extern char aItemeffect_h[]; // idb
extern char aDDDD[12]; // weak
extern char aInititem_csv[]; // idb
extern char a____TmsrvRunIn[29]; // weak
extern char a_Inititem_csv[15]; // weak
extern char aD_D_D_D_D_D[18]; // weak
extern char aDDDDDDDDDDDDDS[69]; // weak
extern char aSkilldata_csv[]; // idb
extern char a____TmsrvRunSk[30]; // weak
extern char a_Skilldata_csv[16]; // weak
extern char aDDDSSSS[21]; // weak
extern char aCanTParseStr_0[]; // idb
extern char a_Guilds_bak[13]; // weak
extern char a_Guilds_txt[13]; // weak
extern char aDbdddzdidDDDDD[65]; // weak
extern char a_Serverlist_bi[17]; // weak
extern char aDDS[9]; // weak
extern char aCanTOpenServer[]; // idb
extern char aAddress[]; // idb
extern char a____Serverlist[21]; // weak
extern char a_Serverlist_tx[17]; // weak
extern char aAttributemap_d[]; // idb
extern char a____TmsrvRunAt[33]; // weak
extern char aDSSS[12]; // weak
extern char aD[3]; // weak
extern char aWarning[]; // idb
extern char aPcRoomIpIsOver[]; // idb
extern char aGameroomip_txt[15]; // weak
extern char aBlockipIpIsOve[]; // idb
extern char aBlockip_txt[12]; // weak
extern char aSys[5]; // weak
extern char aSetsegmentSe_0[47]; // weak
extern char aSetsegmentSegm[47]; // weak
extern char aWrongSetsegmen[17]; // weak
extern char aErrClanOutOrRa[22]; // weak
extern char aCanTReadNpc50[]; // idb
extern char aCanTReadNpc49[]; // idb
extern char aCanTReadNpc48[]; // idb
extern char aCanTReadNpc47[]; // idb
extern char aCanTReadNpc46[]; // idb
extern char aCanTReadNpc45[]; // idb
extern char aCanTReadNpc44[]; // idb
extern char aCanTReadNpc43[]; // idb
extern char aCanTReadNpc42[]; // idb
extern char aCanTReadNpc41[]; // idb
extern char aCanTReadNpc39[]; // idb
extern char aCanTReadNpc36[]; // idb
extern char aCanTReadNpc35[]; // idb
extern char aCanTReadNpc34[]; // idb
extern char aCanTReadNpc33[]; // idb
extern char aCanTReadNpc32[]; // idb
extern char aCanTReadNpc31[]; // idb
extern char aCanTReadNpc30[]; // idb
extern char aCanTReadNpc29[]; // idb
extern char aCanTReadNpc28[]; // idb
extern char aCanTReadNpc27[]; // idb
extern char aCanTReadNpc26[]; // idb
extern char aCanTReadNpc25[]; // idb
extern char aCanTReadNpc24[]; // idb
extern char aCanTReadNpc23[]; // idb
extern char aCanTReadNpc22[]; // idb
extern char aCanTReadNpc21[]; // idb
extern char aCanTReadNpc20[]; // idb
extern char aCanTReadNpc19[]; // idb
extern char aCanTReadNpc18[]; // idb
extern char aCanTReadNpc17[]; // idb
extern char aCanTReadNpc16[]; // idb
extern char aCanTReadNpc15[]; // idb
extern char aCanTReadNpc14[]; // idb
extern char aCanTReadNpc13[]; // idb
extern char aCanTReadNpc12[]; // idb
extern char aCanTReadNpc11[]; // idb
extern char aCanTReadNpc10[]; // idb
extern char aCanTReadNpc7[]; // idb
extern char aCanTReadNpc6[]; // idb
extern char aCanTReadNpc5[]; // idb
extern char aCanTReadNpc4[]; // idb
extern char aCanTReadNpc3[]; // idb
extern char aCanTReadNpc2[]; // idb
extern char aCanTReadNpc1[]; // idb
extern char aCanTReadNpc0[]; // idb
extern char aSS_1[8]; // weak
extern char a4d_0[9]; // weak
extern char a4d[10]; // weak
extern char asc_584FBC[49]; // weak
extern char aS_1[5]; // weak
extern char aCanTFindNpcgen[]; // idb
extern char aError_0[]; // idb
extern char aNpcgener_txt[13]; // weak
extern char aNpcgener_new_t[17]; // weak
extern char aWt[3]; // weak
extern char aNpcGeneraterSA[]; // idb
extern char aFollower[10]; // weak
extern char aCanTReadNpcFil[]; // idb
extern char a__[3]; // weak
extern char a_[2]; // weak
extern char aLeader[8]; // weak
extern char aDestaction[12]; // weak
extern char aDestwait[10]; // weak
extern char aDesty[7]; // weak
extern char aDestx[7]; // weak
extern char aDestrange[11]; // weak
extern char aSegment3action[16]; // weak
extern char aSegment3wait[14]; // weak
extern char aSegment3y[11]; // weak
extern char aSegment3x[11]; // weak
extern char aSegment3range[15]; // weak
extern char aSegment2action[16]; // weak
extern char aSegment2wait[14]; // weak
extern char aSegment2y[11]; // weak
extern char aSegment2x[11]; // weak
extern char aSegment2range[15]; // weak
extern char aSegment1action[16]; // weak
extern char aSegment1wait[14]; // weak
extern char aSegment1y[11]; // weak
extern char aSegment1x[11]; // weak
extern char aSegment1range[15]; // weak
extern char aStartaction[13]; // weak
extern char aStartwait[11]; // weak
extern char aStarty[8]; // weak
extern char aStartx[8]; // weak
extern char aStartrange[12]; // weak
extern char aFormation[11]; // weak
extern char aRoutetype[11]; // weak
extern char aFleeaction4[13]; // weak
extern char aFleeaction3[13]; // weak
extern char aFleeaction2[13]; // weak
extern char aFleeaction1[13]; // weak
extern char aDieaction4[12]; // weak
extern char aDieaction3[12]; // weak
extern char aDieaction2[12]; // weak
extern char aDieaction1[12]; // weak
extern char aFightaction4[14]; // weak
extern char aFightaction3[14]; // weak
extern char aFightaction2[14]; // weak
extern char aFightaction1[14]; // weak
extern char aMaxgroup[10]; // weak
extern char aMingroup[10]; // weak
extern char aMaxnummob[11]; // weak
extern char aMinutegenerate[16]; // weak
extern char aSSS[9]; // weak
extern char aSys_0[4]; // weak
extern char aCanTFindCountr[28]; // weak
extern char aSSSSSS[18]; // weak
extern char aErrCanTOpenCou[31]; // weak
extern char a__[9]; // weak
extern char aCanTAllocMemor[]; // idb
extern char aWsaasyncselect[]; // idb
extern char aListenFail[]; // idb
extern char aBindingFail[]; // idb
extern char aInitializeSock[]; // idb
extern char aInitializeSo_0[]; // idb
extern char aSingleBindingF[20]; // weak
extern char aInitializeSing[30]; // weak
extern char aSockDIpD_D_D_D[34]; // weak
extern char aErrSend2DDD[19]; // weak
extern char aErrSend1DDD[19]; // weak
extern char aDddosAttack[13]; // weak
extern char aDos[6]; // weak
extern char aBlockCountry[14]; // weak
extern char aIp[5]; // weak
extern char byte_585560[]; // weak
extern char byte_585568[]; // weak
extern char byte_585570[]; // weak
extern char byte_585578[]; // weak
extern char byte_58557C[]; // weak
extern char byte_585580[]; // weak
extern char byte_585584[]; // weak
extern char byte_585588[]; // weak
extern char byte_585590[]; // weak
extern char byte_585594[]; // weak
extern char byte_58559C[]; // weak
extern char byte_5855A0[]; // weak
extern char byte_5855A4[]; // weak
extern char byte_5855A8[]; // weak
extern char aErrMobHaveKill[33]; // weak
extern char aGetemptylowmob[35]; // weak
extern char aGetemptymobgri[37]; // weak
extern char aGetemptymobg_0[32]; // weak
extern char aGetS[7]; // weak
extern char aAccessorydataL[]; // idb
extern char aArmordataLoadF[]; // idb
extern char aWeapondataLoad[]; // idb
extern char aSSSS[12]; // weak
extern char a_HellgateHellg[35]; // weak
extern char a_HellgateHel_0[34]; // weak
extern char a_HellgateHel_1[38]; // weak
extern char aSaveall[8]; // weak
extern char aPkgate[7]; // weak
extern char aSetHeightXDYDH[31]; // weak
extern char aSetheight[10]; // weak
extern char aXDYDHeightD[20]; // weak
extern char aHeight[7]; // weak
extern char aBossgate[9]; // weak
extern char aColor[6]; // weak
extern char aSetCastleServe[18]; // weak
extern char aSetNormalServe[18]; // weak
extern char aSetcastleserve[16]; // weak
extern char aDBufferDropIte[25]; // weak
extern char aShowdropitem[13]; // weak
extern char aSetKhepraDropI[21]; // weak
extern char aReadkhepraitem[15]; // weak
extern char aKhepraZoneStar[18]; // weak
extern char aKheprastart[12]; // weak
extern char aKhepraFieldOpe[18]; // weak
extern char aKhepraFieldClo[19]; // weak
extern char aKheprafield[12]; // weak
extern char aJackpotUCoinU[19]; // weak
extern char aGamble[7]; // weak
extern char aGambleServerOn[17]; // weak
extern char aGambleServerOf[18]; // weak
extern char aSetgambleserve[16]; // weak
extern char aSetPkDropOn[15]; // weak
extern char aSetPkDropOff[16]; // weak
extern char aPkdrop[7]; // weak
extern char aSetNonePkServe[19]; // weak
extern char aSetPkServer[14]; // weak
extern char aNonepk[7]; // weak
extern char aPanelServer[13]; // weak
extern char aPanelserver[12]; // weak
extern char a122_168_0_5[12]; // weak
extern char aLocalserver[12]; // weak
extern char aStopGoldCoin[15]; // weak
extern char aStartGoldCoin[16]; // weak
extern char aStopgoldcoin[13]; // weak
extern char aEventdoor2[11]; // weak
extern char aEventdoor_0[10]; // weak
extern char aEventdoor[10]; // weak
extern char aSetMobHp[11]; // weak
extern char aSetmobhp[9]; // weak
extern char aRare_0[5]; // weak
extern char aCanTFindGameco[26]; // weak
extern char aGameconfig_txt[15]; // weak
extern char aConfig[7]; // weak
extern char aCanTKickEqualO[37]; // weak
extern char aCanTFindUser_[17]; // weak
extern char aKick[5]; // weak
extern char aTeleport[9]; // weak
extern char aItemDIndexDD_0[54]; // weak
extern char aEvent[6]; // weak
extern char aSnoopOn[9]; // weak
extern char aSnoopOff[10]; // weak
extern char aSnoop[6]; // weak
extern char aRebuildgenerat[17]; // weak
extern char aRebuild[8]; // weak
extern char aChiefsummon_0[12]; // weak
extern char aChiefsummon[12]; // weak
extern char aChiefnotice_0[12]; // weak
extern char aChiefnotice[12]; // weak
extern char aMission[8]; // weak
extern char aNotice[7]; // weak
extern char aQuizresulto[12]; // weak
extern char aQuizresultx[12]; // weak
extern char aQuizdoor_0[9]; // weak
extern char aQuizdoor[9]; // weak
extern char aQuizmodeOff[13]; // weak
extern char aQuizmodeOn[12]; // weak
extern char aQuizmode[9]; // weak
extern char aSetWarHour[13]; // weak
extern char aWarhour[8]; // weak
extern char aSetConnectBill[20]; // weak
extern char aSetConnectFail[18]; // weak
extern char aSD[6]; // weak
extern char aNoBiserver_txt[16]; // weak
extern char aBiserver_txt[13]; // weak
extern char aAlreadyConnect[18]; // weak
extern char aBillconnect[12]; // weak
extern char aSetDisconnectB[23]; // weak
extern char aNotConnected[14]; // weak
extern char aBilldisconnect[15]; // weak
extern char aReadquiz[9]; // weak
extern char aSetCryptDDD[21]; // weak
extern char aCrypt[6]; // weak
extern char aSetBilling[12]; // weak
extern char aNotConnectedTo[51]; // weak
extern char aBillmode[9]; // weak
extern char aClearRanking[14]; // weak
extern char aClearranking[13]; // weak
extern char aOnRanking[13]; // weak
extern char aStopRanking[13]; // weak
extern char aStopranking[12]; // weak
extern char aReadTotoGame[15]; // weak
extern char a_Totogame_csv[15]; // weak
extern char aReadtotogame[13]; // weak
extern char aMatchScoreDDDD[26]; // weak
extern char aMatchscore[11]; // weak
extern char aStopSellTotoTi[25]; // weak
extern char aStopmatch[10]; // weak
extern char aReadlottoFaile[17]; // weak
extern char aReadlottoSucce[18]; // weak
extern char aReadlotto[10]; // weak
extern char aEncodeTypeDVal[25]; // weak
extern char aEncode[7]; // weak
extern char aSetWeather[12]; // weak
extern char aWeather[8]; // weak
extern char aRead256QuestCo[20]; // weak
extern char aRead256questco[17]; // weak
extern char aRead256QuestEx[19]; // weak
extern char aRead256questex[16]; // weak
extern char aSetPotal[10]; // weak
extern char aStopPotal[11]; // weak
extern char aStoppotal[10]; // weak
extern char aSetLevelUp[13]; // weak
extern char aStopLevelUp[14]; // weak
extern char aStoplevelup[12]; // weak
extern char aSetLeaveVillag[18]; // weak
extern char aStopLeaveVilla[19]; // weak
extern char aLeavevill[10]; // weak
extern char aSetCastleDoorO[21]; // weak
extern char aSetCastleDoorL[23]; // weak
extern char aSetcastledoor[14]; // weak
extern char aReloadLanguage[16]; // weak
extern char aLanguage_wo_tx[16]; // weak
extern char aRebuildlang[12]; // weak
extern char aReadPcRoomIpSu[24]; // weak
extern char aReadPcRoomIpEr[22]; // weak
extern char aReadpcroomip[13]; // weak
extern char aSetblockcountr[16]; // weak
extern char aUseblockcountr[16]; // weak
extern char aReadBlockIpSuc[22]; // weak
extern char aReadBlockIpErr[20]; // weak
extern char aReadblockip[12]; // weak
extern char aSetStopQuest[15]; // weak
extern char aSetStartQuest[16]; // weak
extern char aStopquest[10]; // weak
extern char aSetStopMaileag[24]; // weak
extern char aSetStartMailea[24]; // weak
extern char aStopmileage[12]; // weak
extern char aReloadHellRate[17]; // weak
extern char aReloadhellrate[15]; // weak
extern char aSetGameroom[13]; // weak
extern char aOffGameroom[13]; // weak
extern char aGameroom[9]; // weak
extern char aUsedmobnum[11]; // weak
extern char aOnCreateCharac[20]; // weak
extern char aOffCreateChara[21]; // weak
extern char aCreatechar[11]; // weak
extern char aSTargetSMinute[23]; // weak
extern char aSDMinute[15]; // weak
extern char aSTargetS[13]; // weak
extern char aBlockUserTarge[31]; // weak
extern char aCanTFileThatUs[21]; // weak
extern char aBlock[6]; // weak
extern char aMute[5]; // weak
extern char aSetNightmarOn[16]; // weak
extern char aSetNightmarOff[17]; // weak
extern char aNightmare[10]; // weak
extern char aSetRareSwitc_0[19]; // weak
extern char aSetRareSwitchO[20]; // weak
extern char aRareswitch[11]; // weak
extern char aSetDuelLetterM[30]; // weak
extern char aDuelletterlimi[16]; // weak
extern char aSetNewbiZoneLe[21]; // weak
extern char aNewbielev[10]; // weak
extern char aSetRandomQuizE[31]; // weak
extern char aSetrandomquiz[14]; // weak
extern char aSetCreatehar_0[27]; // weak
extern char aSetCreatehardc[28]; // weak
extern char aCreatehardchar[20]; // weak
extern char aSetAddcracke_0[21]; // weak
extern char aSetAddcrackerr[22]; // weak
extern char aAddcrackerror[14]; // weak
extern char aRandomQuizSend[22]; // weak
extern char aSendrandomquiz[15]; // weak
extern char aReadRandomQuiz[17]; // weak
extern char aReadrandomquiz[15]; // weak
extern char aSetServerVersi[25]; // weak
extern char aAppversionup[13]; // weak
extern char aOnRandomQuizMa[34]; // weak
extern char aOnRandomQuizEe[28]; // weak
extern char aOffRandomQuiz[16]; // weak
extern char aRandomquiz[11]; // weak
extern char aSetDTownTaxI64[24]; // weak
extern char aTowntax[8]; // weak
extern char aSetUserMaxLeve[23]; // weak
extern char aMaxlevel[9]; // weak
extern char aOnRotto[9]; // weak
extern char aOffRotto[10]; // weak
extern char aLottoticket[12]; // weak
extern char aOnMaxLevelTick[25]; // weak
extern char aOffMaxLevelTic[26]; // weak
extern char aMaxlevelticket[15]; // weak
extern char aSetBlessMoneyI[23]; // weak
extern char aBlessmoney[11]; // weak
extern char aIndexDKoreanSL[30]; // weak
extern char aMobname_report[19]; // weak
extern char aExportmobname[14]; // weak
extern char aSetItempriceDD[20]; // weak
extern char aItemprice[10]; // weak
extern char aOnSealOfSoul[16]; // weak
extern char aOffSealOfSoul[17]; // weak
extern char aSealofsoul[11]; // weak
extern char aClearTeleportZ[20]; // weak
extern char aCleartelzone[13]; // weak
extern char aOn8thskill[12]; // weak
extern char aOff8thskill[13]; // weak
extern char a8thskill[9]; // weak
extern char aOnCasino[10]; // weak
extern char aOffCasino[11]; // weak
extern char aCasinoticket[13]; // weak
extern char aOnGuildWarMant[20]; // weak
extern char aOffGuildWarMan[21]; // weak
extern char aUseguildmantle[15]; // weak
extern char aSetDropBonus[15]; // weak
extern char aWrongDropPosit[20]; // weak
extern char aWrongDropBonus[22]; // weak
extern char aDrop[5]; // weak
extern char aSetChallangerG[40]; // weak
extern char aChall[6]; // weak
extern char aSetChampionGui[38]; // weak
extern char aChamp[6]; // weak
extern char aSetCloseServer[17]; // weak
extern char aSetOpenServer[17]; // weak
extern char aOpenserver[11]; // weak
extern char aSetNcharexpD[16]; // weak
extern char aSetncharexp[12]; // weak
extern char aSetChangeRuneZ[24]; // weak
extern char aSetchangerunez[18]; // weak
extern char aSetTownTaxI64d[21]; // weak
extern char aSetrunezonetax[15]; // weak
extern char aClearrune[10]; // weak
extern char aSetDungeonEv_0[22]; // weak
extern char aSetDungeonEven[21]; // weak
extern char aDungeonevent[13]; // weak
extern char aSetDeadpoint0[16]; // weak
extern char aSetDeadpoint1[16]; // weak
extern char aDeadpoint[10]; // weak
extern char aSetMonitormode[16]; // weak
extern char aOffMonitormode[16]; // weak
extern char aMonitor[8]; // weak
extern char aSetDoubleZone[16]; // weak
extern char aOffDoubleZone[16]; // weak
extern char aDoublezone[11]; // weak
extern char aSetDoubleLevel[20]; // weak
extern char aDoublelev[10]; // weak
extern char aSetDoublemode[15]; // weak
extern char aDouble[7]; // weak
extern char aSetNoPatch[13]; // weak
extern char aNopatch[8]; // weak
extern char aEvnotice[9]; // weak
extern char aEvon[5]; // weak
extern char aEvdelete[9]; // weak
extern char aEvindex[8]; // weak
extern char aEvrate[7]; // weak
extern char aEvitem[7]; // weak
extern char aEvend[6]; // weak
extern char aItemDIndexDDDR[56]; // weak
extern char aEvstart[8]; // weak
extern char aVsmodeNormal[15]; // weak
extern char aVsmodeCastleWa[19]; // weak
extern char aVsmodeNonePk[16]; // weak
extern char aVsmode[7]; // weak
extern char aTranslevel_0[11]; // weak
extern char aTranslevel[11]; // weak
extern char aGamblemoneyRat[20]; // weak
extern char aRate[5]; // weak
extern char aGamblemoneyChe[21]; // weak
extern char aGamblemoneyCle[21]; // weak
extern char aClear[6]; // weak
extern char aMoneycube[10]; // weak
extern char aChangeBattleRo[27]; // weak
extern char aErrBattleroyal[35]; // weak
extern char aBattleroyal[12]; // weak
extern char aChangeSapphire[18]; // weak
extern char aErrSapphire100[26]; // weak
extern char aSapphire[9]; // weak
extern char aChangeStatSapp[21]; // weak
extern char aErrStatsapphir[26]; // weak
extern char aStatsapphire[13]; // weak
extern char aTrrateSuccess[16]; // weak
extern char aErrTrrate11615[33]; // weak
extern char aErrTrrate116It[27]; // weak
extern char aTrrate[7]; // weak
extern char aTrsourceSucces[18]; // weak
extern char aErrSource116It[27]; // weak
extern char aTrsource[9]; // weak
extern char aTroktargetSucc[20]; // weak
extern char aSSSDDDDDDD[30]; // weak
extern char aErrTreasure116[35]; // weak
extern char aTrtarget[9]; // weak
extern char aReadQuest[11]; // weak
extern char aReadquest[10]; // weak
extern char aSetKingdomClan[20]; // weak
extern char aKingdomclan[12]; // weak
extern char aReloadguild_0[12]; // weak
extern char aReloadguild[12]; // weak
extern char aReloadnpc_0[10]; // weak
extern char aReloadnpc[10]; // weak
extern char aClinetMessageO[22]; // weak
extern char aClientmsg[10]; // weak
extern char aWeeklyGuildMod[18]; // weak
extern char aForceGuildMode[17]; // weak
extern char aWeekmode[9]; // weak
extern char aReloadItemeffe[29]; // weak
extern char aReaditemeffect[15]; // weak
extern char aReloadSkilldat[17]; // weak
extern char aReadskilldata[14]; // weak
extern char aReloadItemlist[16]; // weak
extern char aReaditemlist[13]; // weak
extern char aSetEventHourD[18]; // weak
extern char aEventhour[10]; // weak
extern char aSetGuildBatt_0[22]; // weak
extern char aGuildhour[10]; // weak
extern char aSetGuildBattle[21]; // weak
extern char aGuildday[9]; // weak
extern char aRestartLog[12]; // weak
extern char aGame[5]; // weak
extern char aLog[4]; // weak
extern char aBoss[5]; // weak
extern char aCreate[7]; // weak
extern char aNoEmptyMobGrid[18]; // weak
extern char aNoEmptyMob[13]; // weak
extern char aNoMonsterFileI[34]; // weak
extern char aCreateMobSucce[19]; // weak
extern char aNpccreate[10]; // weak
extern char aNowstateSetD[18]; // weak
extern char aSnowquest[10]; // weak
extern char aGenerateItem[14]; // weak
extern char aGenerateitem[13]; // weak
extern char aGenerationInde[23]; // weak
extern char aGenerate[9]; // weak
extern char aDelayrebootTim[21]; // weak
extern char aDelayreboot[12]; // weak
extern char aReboot[7]; // weak
extern char aBlockclan_0[10]; // weak
extern char aBlockclan[10]; // weak
extern char a4d8d4d4d4d4d_0[57]; // weak
extern char aDDDDDDDDDD[30]; // weak
extern char aNoEmptySpaceFo[32]; // weak
extern char aRare[5]; // weak
extern char a4d8d4d4d4d4d4d[50]; // weak
extern char aErase[6]; // weak
extern char aSetGuildboard[15]; // weak
extern char aGuildboard[11]; // weak
extern char aSetPartybonus[15]; // weak
extern char aPartybonus[11]; // weak
extern char aSetPotioncount[21]; // weak
extern char aPotioncount[12]; // weak
extern char aSetCharsellBil[18]; // weak
extern char aCharselbill[12]; // weak
extern char aSetFreeLevel[15]; // weak
extern char aBillfree[9]; // weak
extern char aSetChallNameDS[23]; // weak
extern char aChallname[10]; // weak
extern char aSetChampNameDS[23]; // weak
extern char aChampname[10]; // weak
extern char aSetItemFirstAt[29]; // weak
extern char aSetitemmaster[14]; // weak
extern char aSetItemDestroy[27]; // weak
extern char aItemdestroy[12]; // weak
extern char aStartMarathonS[22]; // weak
extern char aStopMarathonSe[21]; // weak
extern char aMarathonserver[15]; // weak
extern char aSetDecay[10]; // weak
extern char aDecay[6]; // weak
extern char aSaveall_0[8]; // weak
extern char aGuildSummonD[16]; // weak
extern char aGsummon[8]; // weak
extern char aSetTimer[10]; // weak
extern char aSetTimerCanTBe[35]; // weak
extern char aTimer[6]; // weak
extern char aSetUseNameOn[16]; // weak
extern char aSetUseNameOff[17]; // weak
extern char aSetusename[11]; // weak
extern char aUserRecallS[18]; // weak
extern char aClean[6]; // weak
extern char aCheckconn[10]; // weak
extern char aUserSDEf1DDF2D[46]; // weak
extern char aCheckname[10]; // weak
extern char aSmconn[7]; // weak
extern char aSmname[7]; // weak
extern char aGuildwar[9]; // weak
extern char aEnd[4]; // weak
extern char aStart[6]; // weak
extern char aSetKingdomSetD[21]; // weak
extern char aKingdom[8]; // weak
extern char aDGuildFameIsD[20]; // weak
extern char aEtcSetGuildFam[25]; // weak
extern char aSetGuildFameD[18]; // weak
extern char aGuildfame[10]; // weak
extern char aDelete[7]; // weak
extern char aKillmob[8]; // weak
extern char aMissonModeSetD[21]; // weak
extern char aMissionItemlis[47]; // weak
extern char aMissionitem[12]; // weak
extern char aItemDeleteMode[26]; // weak
extern char aDeleteItemlist[46]; // weak
extern char aLoad[5]; // weak
extern char aDeleteitem[11]; // weak
extern char aCheck[6]; // weak
extern char aMovestopChki_0[25]; // weak
extern char aMovestopChking[24]; // weak
extern char aMovestopcheck[14]; // weak
extern char aSetSnowFieldDr[25]; // weak
extern char aSetsnowfielddr[17]; // weak
extern char aJackpotPoint_0[24]; // weak
extern char aJackpotPointUO[23]; // weak
extern char aJackpotpoint[13]; // weak
extern char aJackpotToUserD[21]; // weak
extern char aJackpottouser[14]; // weak
extern char aJackpotModeD[18]; // weak
extern char aJackpotmode[12]; // weak
extern char aSetRemote[11]; // weak
extern char aRemote[7]; // weak
extern char aSetName[9]; // weak
extern char aName[5]; // weak
extern char aNpcSRed_[13]; // weak
extern char aFailOpenFile[17]; // weak
extern char aRead[5]; // weak
extern char aNpcSSaved[14]; // weak
extern char aFailSaveFile[17]; // weak
extern char aSave[5]; // weak
extern char aRemoveall[10]; // weak
extern char aSet[4]; // weak
extern char aSetSpecial[12]; // weak
extern char aSpecial[8]; // weak
extern char aSetCritical[13]; // weak
extern char aCritical[9]; // weak
extern char aSetAttackrun[14]; // weak
extern char aAttackrun[10]; // weak
extern char aSetScorebonus[15]; // weak
extern char aScorebonus[11]; // weak
extern char aSetSpecial3[14]; // weak
extern char aSpecial3[9]; // weak
extern char aSetSpecial2[14]; // weak
extern char aSpecial2[9]; // weak
extern char aSetSpecial1[14]; // weak
extern char aSpecial1[9]; // weak
extern char aSetSpecial0[14]; // weak
extern char aSpecial0[9]; // weak
extern char aSetSkillbonus[15]; // weak
extern char aSkillbonus[11]; // weak
extern char aSetMerchant[13]; // weak
extern char aMerchant[9]; // weak
extern char aSetFame[9]; // weak
extern char aFame[5]; // weak
extern char aSetCoin[9]; // weak
extern char aCoin[5]; // weak
extern char aSetCon[8]; // weak
extern char aCon[4]; // weak
extern char aSetDex[8]; // weak
extern char aDex[4]; // weak
extern char aSetInt[8]; // weak
extern char aInt[4]; // weak
extern char aSetStr[8]; // weak
extern char aStr[4]; // weak
extern char aSetExp[8]; // weak
extern char aExp[4]; // weak
extern char aSetDam[8]; // weak
extern char aDam[4]; // weak
extern char aSetAc[7]; // weak
extern char aAc[3]; // weak
extern char aSetMp[7]; // weak
extern char aMp[3]; // weak
extern char aSetHp[7]; // weak
extern char aHp[3]; // weak
extern char aSetLevel[10]; // weak
extern char aLevel[6]; // weak
extern char aSetClearskill[15]; // weak
extern char aClearskill[11]; // weak
extern char aSetClearquest[15]; // weak
extern char aClearquest[11]; // weak
extern char aHtmlBuilt[11]; // weak
extern char aBuildhtml[10]; // weak
extern char aSetSanc[9]; // weak
extern char aSanc[5]; // weak
extern char aSetCpoint[11]; // weak
extern char aCpoint[7]; // weak
extern char aResetSetsocket[16]; // weak
extern char aResetsock[10]; // weak
extern char aAdmS[7]; // weak
extern char aFindauto[9]; // weak
extern _UNKNOWN unk_587B3C; // weak
extern char aRestatall[10]; // weak
extern char aRestat[7]; // weak
extern char aSetbit[7]; // weak
extern char aEqdelete[9]; // weak
extern char aTeleport_0[9]; // weak
extern char aGiveexp[8]; // weak
extern char aGivegold[9]; // weak
extern char aQitem[6]; // weak
extern char aSkill[6]; // weak
extern char aEquip[6]; // weak
extern char aDeleteitem_0[11]; // weak
extern char aErrRewardWrong[41]; // weak
extern char aReward[7]; // weak
extern char aNotequip[9]; // weak
extern char aCheckstat[10]; // weak
extern char aCheckclass[11]; // weak
extern char aCheckbit[9]; // weak
extern char aEqitem[7]; // weak
extern char aTimecheck[10]; // weak
extern char aIslog[6]; // weak
extern char aIstrans[8]; // weak
extern char aGoldcheck[10]; // weak
extern char aConname[8]; // weak
extern char aItemsanc[9]; // weak
extern char aItem[5]; // weak
extern char aLevel_0[6]; // weak
extern char aSpeech[7]; // weak
extern char aErrConditionWr[44]; // weak
extern char aCondition[10]; // weak
extern char aErrBase_speech[46]; // weak
extern char aBase_speech[12]; // weak
extern char aPosition[9]; // weak
extern char aName_0[5]; // weak
extern char aErrCommandLeng[34]; // weak
extern char aErrWrongQuestN[44]; // weak
extern char aSSSSSSSSSSS[33]; // weak
extern char aErrFailToCreat[48]; // weak
extern char aQuest[6]; // weak
extern char aSS_2[5]; // weak
extern int dword_587E14; // weak
extern int dword_587E18; // weak
extern char byte_587E1C; // weak
extern char aQueScrapInvenD[19]; // weak
extern char aQueScrapSendFa[23]; // weak
extern char aSS_3[9]; // weak
extern char aQueQuestDCharS[38]; // weak
extern char aErrWrongQues_0[43]; // weak
extern char aQueSepheroteCr[27]; // weak
extern char aQueSoulMerged[16]; // weak
extern char aSysChangedGuil[31]; // weak
extern char aQueRemoveMantl[18]; // weak
extern char aQueGetKingdomM[22]; // weak
extern char aErrSnowImpWron[24]; // weak
extern char aQueSapphireRed[49]; // weak
extern char aQueChobo_quest[36]; // weak
extern char aQueGetMantleDS[44]; // weak
extern char aQueTranschar2M[31]; // weak
extern char aQueTranscharSC[38]; // weak
extern char aQueDeviceCir_0[48]; // weak
extern char aQueDeviceCircl[31]; // weak
extern char aQueMysticLandQ[25]; // weak
extern char aEtcCrystalDDFr[62]; // weak
extern char a_gold_[7]; // weak
extern char aTraS0[9]; // weak
extern char aTra_gold_0[13]; // weak
extern char aEtcTransForFam[23]; // weak
extern char aEtcHandcoreIte[58]; // weak
extern char aEtcCarryItemDD[23]; // weak
extern char aErrGuildIndexE[25]; // weak
extern char aEtcTownspeople[34]; // weak
extern char aEtcNormalCharD[36]; // weak
extern char aEtcChangeSubcl[29]; // weak
extern char aNoticeS[15]; // weak
extern char aDDDDDDDD[24]; // weak
extern char aMission_txt[12]; // weak
extern char aNotS[7]; // weak
extern char aCntS[7]; // weak
extern char aSummonChief[13]; // weak
extern char aErrGridmulti_0[31]; // weak
extern char aErrGrid1EmptyD[26]; // weak
extern char aMobGridHasEmpt[40]; // weak
extern char aDestEmptyGrid[16]; // weak
extern char aPcStepInOtherM[28]; // weak
extern char aNpcChargeOther[28]; // weak
extern char aPcDoNotHaveHis[28]; // weak
extern char aNpcDoNotHaveHi[29]; // weak
extern char aErrGridmultica[29]; // weak
extern char aErrGrid3EmptyD[27]; // weak
extern char aErrGrid2EmptyD[27]; // weak
extern char asc_588460[2]; // weak
extern char aEtcTownspeop_0[37]; // weak
extern char aPcStepInOthe_0[35]; // weak
extern char aNpcChargeOth_0[35]; // weak
extern char aPcDoNotHaveH_0[35]; // weak
extern char aNpcDoNotHave_0[36]; // weak
extern char aCargoFailDDDDD[27]; // weak
extern char aCargoDDDDD[22]; // weak
extern char aAngelSelDS[16]; // weak
extern char aEtcKindomdraon[42]; // weak
extern char aEtcCrownGuildD[58]; // weak
extern char aCraCloseUserTy[24]; // weak
extern char aCraAccountCrac[39]; // weak
extern char aCraPointDDType[28]; // weak
extern char aTra_npc_0SX4dY[30]; // weak
extern char aSDSI64d[15]; // weak
extern char aSDDSD[15]; // weak
extern char aSDDD[12]; // weak
extern char aSI64dI64dI64dI[33]; // weak
extern char aSDD[9]; // weak
extern char aSDSDSD_0[19]; // weak
extern char aSDSDSD[18]; // weak
extern char aGameOptionSett[23]; // weak
extern char aSSSDSDSSDSSSD[39]; // weak
extern char aDDDDDDDDDSD[40]; // weak
extern char aNotGameServ_11[]; // idb
extern char aRareItemDropSe[26]; // weak
extern char aDDDDD[15]; // weak
extern char aDDDDDDDDDDDD_0[113]; // weak
extern char aNotGameServ_10[]; // idb
extern char aTreasureSettin[20]; // weak
extern char aNotGameServe_9[]; // idb
extern char aNotGameServe_8[]; // idb
extern char aNotGameServe_7[]; // idb
extern char aNotGameServe_6[]; // idb
extern char aDDDDDDDDDDDDDD[48]; // weak
extern char aNotGameServe_5[]; // idb
extern char aItemDropBonusS[27]; // weak
extern char aNotGameServe_4[]; // idb
extern char aFreeexp[8]; // weak
extern char aSDSDSDSDSD[30]; // weak
extern char aNotGameServe_3[]; // idb
extern char aBillingSetting[19]; // weak
extern char aNotGameServe_2[]; // idb
extern char aSDSDSDSDSDSDSD[42]; // weak
extern char aNotGameServe_1[]; // idb
extern char aEtcEventSettin[21]; // weak
extern char aNotGameServe_0[]; // idb
extern char aSDSDSDSDSDSDDD[45]; // weak
extern char aNotGameServerG[]; // idb
extern char aDropItemEventS[27]; // weak
extern char aNoGameconfig_t[]; // idb
extern char aCreatehardch_0[23]; // weak
extern char aGameblemoneyD[16]; // weak
extern char aItemdeletemode[18]; // weak
extern char aKingdomfieldD[16]; // weak
extern char aLogdemonSS[15]; // weak
extern char aEncodeD[10]; // weak
extern char aAddcrackerrorD[18]; // weak
extern char aNightmareDBles[32]; // weak
extern char aItempriceDDSea[31]; // weak
extern char aRandomquizDExp[30]; // weak
extern char aTowntaxI64dI64[39]; // weak
extern char aDuelletterli_0[23]; // weak
extern char a8thskillDMaxle[46]; // weak
extern char aLottoticketDMa[44]; // weak
extern char aUse_guildwar_m[62]; // weak
extern char aItemdestroyDIt[55]; // weak
extern char aNonepkserverDG[50]; // weak
extern char aGameOptionSe_0[22]; // weak
extern char aRareModeDStopg[68]; // weak
extern char a4d8d4d4d4d4d_1[58]; // weak
extern char aRareItemDrop_0[25]; // weak
extern char a5d5d5d[92]; // weak
extern char a4d2d2d2d2d2d2d[34]; // weak
extern char a4d_1[6]; // weak
extern char aTreasureSett_0[19]; // weak
extern char aS3d3d3d3d3d3d3[37]; // weak
extern char a3d3d3d3d3d3d3d[35]; // weak
extern char aItemDropBonu_0[26]; // weak
extern char aBillmodeDFreee[88]; // weak
extern char aBillingSetti_0[18]; // weak
extern char aDoubleDDeadpoi[100]; // weak
extern char aEtcEventSett_0[20]; // weak
extern char aEvindexDEvdele[78]; // weak
extern char aS_2[4]; // weak
extern char aDropItemEven_0[26]; // weak
extern char aD_D_D_D[12]; // weak
extern char aErrSendBillSes[27]; // weak
extern char aWyd_4_4d2_2d2_[52]; // weak
extern char aTict[5]; // weak
extern char aV_S[5]; // weak
extern char aErrReadingRand[58]; // weak
extern char aRandomquiz_txt[15]; // weak
extern char aSSettingsRando[27]; // weak
extern char aErrReadingGu_0[45]; // weak
extern char aErrReadingGuil[47]; // weak
extern char aGuild_txt[10]; // weak
extern char aSSettingsGuild[34]; // weak
extern char aErrWritingGu_0[51]; // weak
extern char asc_589538[2]; // weak
extern char aD_0[4]; // weak
extern char aErrWritingGuil[54]; // weak
extern char aGldSCurrentDD[21]; // weak
extern char asc_58959C[2]; // weak
extern char aErrNoEmptyMobg[34]; // weak
extern char aErrNoEmptymobC[26]; // weak
extern char aErrNoEmptyMo_1[35]; // weak
extern char aErrNoEmptyMobD[21]; // weak
extern char aErrNoEmptyMo_0[35]; // weak
extern char aErrNoEmptymobL[27]; // weak
extern char aErrZeroDivideD[21]; // weak
extern char aErrArgmoWrongI[73]; // weak
extern char aErrArgmoIndexW[73]; // weak
extern char aIdxDNameSOldDN[29]; // weak
extern char ClassName[]; // idb
extern char IconName[]; // idb
extern char WindowName[]; // idb
extern char aStyle_0[13]; // weak
extern char aBodyTdThFontSi[29]; // weak
extern char aAHoverTextColo[52]; // weak
extern char aAActiveColorRe[36]; // weak
extern char aAVisitedColor3[62]; // weak
extern char aALinkColor1111[59]; // weak
extern char aStyle[13]; // weak
extern char aScript_0[11]; // weak
extern char asc_5898E8[3]; // weak
extern char aSelf_close[15]; // weak
extern char aOpener_documen[48]; // weak
extern char asc_58993C[3]; // weak
extern char aFunctionF_show[23]; // weak
extern char aScript[10]; // weak
extern char aTableBody[17]; // weak
extern char aTdWidth155Bgco[83]; // weak
extern char aTr_0[7]; // weak
extern char aTdWidth155Heig[42]; // weak
extern char aTr[5]; // weak
extern char aTrTdColspan5_3[66]; // weak
extern char aTrTdColspan5_2[78]; // weak
extern char aTrTdColspan5_1[66]; // weak
extern char aTrTdColspan5_0[78]; // weak
extern char aTrTdColspan5Bg[53]; // weak
extern char aBodyLeftmargin[69]; // weak
extern char aTdWidth140Heig[124]; // weak
extern char aTrHeight10[16]; // weak
extern char aSearchweapon_h[17]; // weak
extern char aSearcharmor_ht[16]; // weak
extern char aD_1[5]; // weak
extern char aI_0[5]; // weak
extern char a_iw[4]; // weak
extern char aTextdataloadLv[80]; // weak
extern char aDDDDDDDDDDD[33]; // weak
extern char aLvitem_txt[11]; // weak
extern char aR[2]; // weak
extern char aTextdataloadDe[70]; // weak
extern char aDeleteitem_txt[15]; // weak
extern char aCountryip_csv[14]; // weak
extern char aSysStartInitia[22]; // weak
extern char aErrCanTConne_0[34]; // weak
extern char aCanTConnectToD[]; // idb
extern char aErrCanTConnect[32]; // weak
extern char aCanTGetServerG[]; // idb
extern char aCanTFindLocali[]; // idb
extern char aRebootingError[]; // idb
extern char aLocalip_txt[12]; // weak
extern char aErrWsainitiali[23]; // weak
extern char aGamb[5]; // weak
extern char aChat[5]; // weak
extern char aBill[5]; // weak
extern char aPcroom[7]; // weak
extern char pszFaceName[]; // idb
extern char aEtcItemDropCou[68]; // weak
extern char aErrBuyGuildI_0[44]; // weak
extern char aErrBuyGuildIte[48]; // weak
extern char aTraSD[10]; // weak
extern char aNewrnkSDDDDD[25]; // weak
extern char aEtcTownTaxCoin[26]; // weak
extern char aEtcTownTaxSilv[34]; // weak
extern char aLvlSLevelUpToD[22]; // weak
extern char aS_3[4]; // weak
extern char aErrDbsavingqui[28]; // weak
extern char aCraCraAccountC[39]; // weak
extern char aCharloginfail[15]; // weak
extern char aStaLoginCharSE[61]; // weak
extern char aCanTStartCanTG[30]; // weak
extern char aErrLoginUndefi[26]; // weak
extern char aErrCriticalUnk[26]; // weak
extern char aSysSetGuildCla[44]; // weak
extern char aSysSetServerTo[37]; // weak
extern char aSysSetCitizenD[37]; // weak
extern char aErrCnfAccoun_0[60]; // weak
extern char aErrCnfAccountL[57]; // weak
extern char aCnfcharlogin[14]; // weak
extern char aSysConfirmDele[29]; // weak
extern char aSysConfirmNewC[26]; // weak
extern char aStaD_D_D_DXX_0[28]; // weak
extern char aSysSSSSDDDD[28]; // weak
extern char aCraDoubleAccou[49]; // weak
extern char aPcrLoginD_D_D_[39]; // weak
extern char aStaD_D_D_DXXXX[42]; // weak
extern char aItemSentInSavi[31]; // weak
extern char a_fail_empty_[13]; // weak
extern char a_web2_[7]; // weak
extern char a_web1_[7]; // weak
extern char aSS_5[11]; // weak
extern char a_fail_name_[12]; // weak
extern char a_fail_play_[12]; // weak
extern char aTraS[7]; // weak
extern char aSysTrasGod2Cha[32]; // weak
extern char aSysCompletePut[28]; // weak
extern char aSysFailPutInCa[24]; // weak
extern char aErrFailPutInCa[42]; // weak
extern char aSysCompleteOut[28]; // weak
extern char aSysFailOutInCa[44]; // weak
extern char aErrFailOutInCa[24]; // weak
extern char aSysDeleteGuild[23]; // weak
extern char aErr_msg_delete[43]; // weak
extern char aSysCreateSub_0[29]; // weak
extern char aErr_msg_crea_0[47]; // weak
extern char aErrCreateGuild[43]; // weak
extern char aSysCreateGuild[25]; // weak
extern char aErr_msg_create[37]; // weak
extern char aUnknownDbMessa[39]; // weak
extern char aSysCreateSubGu[29]; // weak
extern char aErrUpdateGui_1[43]; // weak
extern char aErrupdateGuild[31]; // weak
extern char aErrUpdateGui_0[33]; // weak
extern char aSysUpdateGui_0[35]; // weak
extern char aErrUpdateGuild[32]; // weak
extern char aComplateServer[21]; // weak
extern char aD_S_S_S_S_CDND[40]; // weak
extern char aErr_msg_initgu[44]; // weak
extern char aEtcGuildReport[38]; // weak
extern char aServerWarDToD[20]; // weak
extern char aDbSetSapphireD[24]; // weak
extern char aTranspercharac[23]; // weak
extern char aSysOutputWarWi[48]; // weak
extern char aEtcRuneGateOpe[22]; // weak
extern char aEtcBannerS[14]; // weak
extern char aEtcCashCharg_1[34]; // weak
extern char aEtcCashChargeS[31]; // weak
extern char aEtcCashCharg_0[31]; // weak
extern char aEtcCashChargeF[28]; // weak
extern char aErrPacketTypeD[44]; // weak
extern char aSysDisconnectL[49]; // weak
extern char aRefMountLife_1[43]; // weak
extern char aEtcChargeCastl[40]; // weak
extern char aCraAccountCr_1[39]; // weak
extern char aPrimEndPrimium[25]; // weak
extern char aErrWrongItemDa[23]; // weak
extern char aPrimEndTimeLim[75]; // weak
extern char aEtcNightmareCl[36]; // weak
extern char aErrSendFailClo[32]; // weak
extern char aLevelUpToD[15]; // weak
extern char aErrReconnectBi[36]; // weak
extern char aErrStartReco_0[28]; // weak
extern char aSysSaveDDS[22]; // weak
extern char aSysServerDow_0[25]; // weak
extern char aSysCleaningUse[38]; // weak
extern char aSysServerDownC[47]; // weak
extern char aErrIntervalZer[28]; // weak
extern char aSysRuneQuestZo[30]; // weak
extern char aSysTownTaxRepo[61]; // weak
extern char aSysKhepraHpDat[27]; // weak
extern char aPrimEndPrimi_1[40]; // weak
extern char aPrimEndPrimi_0[41]; // weak
extern char aSysGuildWarSum[30]; // weak
extern char aEtcUseElixerIt[27]; // weak
extern char aSysChangeGuild[36]; // weak
extern char aSysGuildWarDRe[47]; // weak
extern char aSysGuildWarT_0[25]; // weak
extern char aSysOwnerGuildD[23]; // weak
extern char aSysGuildWarTyp[25]; // weak
extern char aErrMoreThan3Gu[42]; // weak
extern char aSysGuildWarSur[32]; // weak
extern char aSysNotFinalDaG[45]; // weak
extern char aSysBaseWarResu[34]; // weak
extern char aSysWarDataTgsD[80]; // weak
extern char aEtcBritemCreat[25]; // weak
extern char a_Chat_logS4_4d[47]; // weak
extern char aDDSD[12]; // weak
extern char aSSS_1[11]; // weak
extern char a2_2d2_2d2_2d2_[38]; // weak
extern char a_Gamble_logS4_[49]; // weak
extern char a_Billing_logS4[50]; // weak
extern char a2_2d2_2d2_2d_1[52]; // weak
extern char a2_2d2_2d2_2d_0[52]; // weak
extern char a_GrlogS4_4d_2_[44]; // weak
extern char a_LogS4_4d_2_2d[42]; // weak
extern char aIndexD[9]; // weak
extern char aMobDNameS[15]; // weak
extern char aConnDModeDName[24]; // weak
extern char aDDS_0[9]; // weak
extern char aErrCriticalClo[35]; // weak
extern char aSaveandquitmob[19]; // weak
extern char aPcrLogoutFdD[17]; // weak
extern char aCloFdDDConnD[21]; // weak
extern char aReadmobUnknown[16]; // weak
extern char aErrReadmobEnoe[23]; // weak
extern char aErrReadmobEmfi[22]; // weak
extern char aErrReadmobEexi[22]; // weak
extern char a_SS[8]; // weak
extern char aSysKhepraDelet[32]; // weak
extern char aErrNoVineSoulT[25]; // weak
extern char aErrNoCastleGat[27]; // weak
extern char aSysErrKhepraDe[23]; // weak
extern char aSysErrKingDele[23]; // weak
extern char aErrCriticalSav[34]; // weak
extern char aSysLogoutCharS[50]; // weak
extern char aErrCharLogoutN[32]; // weak
extern char a_Quiz_txt[11]; // weak
extern char aInititemNotMat[38]; // weak
extern char aSysLogStart[14]; // weak
extern char aErrCanTFindSSe[37]; // weak
extern char aCanTFindHeight[]; // idb
extern char aErr[]; // idb
extern char aErrLoadHeightG[26]; // weak
extern char a_Heightmap_dat[16]; // weak
extern char aMobname_csv[12]; // weak
extern char aMobname_txt[12]; // weak
extern char aErrReadingChal[39]; // weak
extern char aChall_txt[10]; // weak
extern char aSSettingsChall[34]; // weak
extern char aD_2[4]; // weak
extern char aErrWritingChal[45]; // weak
extern char aKhepraKilledCh[31]; // weak
extern char aErrKhepraItemS[29]; // weak
extern char aHell[5]; // weak
extern char aHellHellgate_n[42]; // weak
extern char aEtcEndlessTowe[32]; // weak
extern char aEtcKingdomWarK[38]; // weak
extern char aEtcPkMobKill_0[39]; // weak
extern char aEtcPkSKiller_0[44]; // weak
extern char aEtcPkMobKiller[63]; // weak
extern char aEtcPkSKillerSD[68]; // weak
extern char aChoSXDYD[17]; // weak
extern char aErrRuneQuest_0[24]; // weak
extern char aErrRemovepar_1[30]; // weak
extern char aErrRemovepar_0[28]; // weak
extern char aErrRemoveparty[33]; // weak
extern char aGate[5]; // weak
extern char aErrUpdateitemM[31]; // weak
extern char aErrDowarMyDT_0[34]; // weak
extern char aErrDowarMyDTaD[22]; // weak
extern char aErrDoallyMyDTa[23]; // weak
extern char aSysUpdateGui_1[34]; // weak
extern char aErrDodepriva_0[23]; // weak
extern char aErrDodeprivate[25]; // weak
extern char aRnkDDSDDSDD[28]; // weak
extern char aEtcSetusebuffa[27]; // weak
extern char aNo_D[17]; // weak
extern char aEtcNightmareBo[28]; // weak
extern char aEtcNightmareLe[38]; // weak
extern char aHellHellgate_2[28]; // weak
extern char aHellHellgate_1[40]; // weak
extern char aHellHellgate_0[34]; // weak
extern char aHellHellgate_l[32]; // weak
extern char aEtcGamble1Si_2[31]; // weak
extern char aEtcGamble1Si_1[32]; // weak
extern char aEtcGamble1Si_0[30]; // weak
extern char aEtcGamble1Silv[31]; // weak
extern char aEtcJackpotU[15]; // weak
extern char aSystem_1[9]; // weak
extern char aErrCanTReadKhe[35]; // weak
extern char aKhepradropitem[19]; // weak
extern char aStaCharSExpULe[28]; // weak
extern char aStaD_D_D_DXX_1[33]; // weak
extern char aSysErrCharSExp[32]; // weak
extern char aSysUpdatemantl[43]; // weak
extern char aExpsettingerro[]; // idb
extern char aDLineExpOverIn[36]; // weak
extern char aQuest256exp_tx[16]; // weak
extern char aQuest256coin_t[17]; // weak
extern char aGuildstring_tx[16]; // weak
extern char aErrReadingIdpr[57]; // weak
extern char aIdprehibit_txt[15]; // weak
extern char aSSettingsIdpre[27]; // weak
extern char aEtcTreasure_ma[27]; // weak
extern char aEtcDieKingdomS[19]; // weak
extern char aEtcMoneyZoneSP[26]; // weak
extern char aErrQuestScrllS[48]; // weak
extern char aGameDBuyDDDSco[37]; // weak
extern char aErrTotodataErr[45]; // weak
extern char aTotodata_txt[13]; // weak
extern char aSDSDDDSDDD[30]; // weak
extern char aErrStandingbyP[50]; // weak
extern char aErrBattleproce[66]; // weak
extern char aChoS[7]; // weak
extern char aEtcMountResurr[39]; // weak
extern char aSysCreateGui_0[48]; // weak
extern char aErrCreateGui_0[38]; // weak
extern char aErrGuildcounte[22]; // weak
extern char aSS_6[6]; // weak
extern char aSysCreateSub_1[29]; // weak
extern char aSysTrasGod2Sub[36]; // weak
extern char aKingdomwarStar[24]; // weak
extern char aKingdomwarEndD[22]; // weak
extern char aEtcSetGuildF_0[28]; // weak
extern char aSysTrasHardcor[35]; // weak
extern char asc_58F3D4[3]; // weak
extern char aMacaddress_txt[15]; // weak
extern char aEtcIcequeenKil[23]; // weak
extern char aDWyd_serverSta[30]; // weak
extern char aHashidxAlloc_h[29]; // weak
extern char aUltemp0UltempA[47]; // weak
extern char aCoregistermall[39]; // weak
extern int (__stdcall *off_58F508[15])(); // weak
extern char aCouldNotCallGe[55]; // weak
extern char aCouldNotCallDu[54]; // weak
extern char aImplicitFreein[72]; // weak
extern char aRequestidNot_0[66]; // weak
extern char aNoValidRequest[47]; // weak
extern char aRequestidNotFo[60]; // weak
extern char aAt0xX[9]; // weak
extern char aMemoryOperatio[56]; // weak
extern char aA[2]; // weak
extern char aW[2]; // weak
extern char aGetprocaddress[53]; // weak
extern char aSymloadmodule6[]; // idb
extern char aUndecoratesymb[]; // idb
extern char aStackwalk64[]; // idb
extern char aSymsetoptions[]; // idb
extern char aSyminitialize[]; // idb
extern char aSymgetsymfroma[]; // idb
extern char aSymgetoptions[]; // idb
extern char aSymgetmodulein[]; // idb
extern char aSymgetmoduleba[]; // idb
extern char aSymgetlinefrom[]; // idb
extern char aSymfunctiontab[]; // idb
extern char ProcName[]; // idb
extern char aLoadlibraryDbg[50]; // weak
extern char LibFileName[]; // idb
extern char a_mem_log[9]; // weak
extern char a_mem_xmlLeaks[15]; // weak
extern char a_exp_log[9]; // weak
extern char a_exp_xml[9]; // weak
extern char aUnhandledExcep[102]; // weak
extern char aMemreport_0[14]; // weak
extern char aComLeaks[67]; // weak
extern char aMaxCollisionsI[26]; // weak
extern char aMaxUsedI[26]; // weak
extern char aSumCollisionsI[26]; // weak
extern char aFreedI[26]; // weak
extern char aInsertsI[26]; // weak
extern char aTableSizeI[26]; // weak
extern char aHashTableStati[30]; // weak
extern char aLeaks[63]; // weak
extern char aMemoryReport[63]; // weak
extern char asc_58FBA4[3]; // weak
extern char aMemreport[12]; // weak
extern char aDateSTimeS[21]; // weak
extern char aNumberOfLeaksI[27]; // weak
extern char aLeak[9]; // weak
extern char aPointerRequest[52]; // weak
extern char aLeakRequestidU[33]; // weak
extern char aRequestid12iRe[42]; // weak
extern char aApos[7]; // weak
extern char aQuot[7]; // weak
extern char aGt[5]; // weak
extern char aLt[5]; // weak
extern char aAmp[6]; // weak
extern char asc_58FCC4[3]; // weak
extern char a8_8x[7]; // weak
extern char aStackDump[17]; // weak
extern char aCall8_8x[14]; // weak
extern char aAddr8_8x8_8x[22]; // weak
extern char aCode8_8x[14]; // weak
extern char aTimeS[11]; // weak
extern char aTueJun21521392[25]; // weak
extern char aError_log[10]; // weak
extern char asc_58FD64[3]; // weak
extern char aLuGetlasterror[26]; // weak
extern char asc_58FD88[4]; // weak
extern char aModuleSBase08l[26]; // weak
extern char aLuSymTypeSFile[35]; // weak
extern char aLuOffset0x8_8x[26]; // weak
extern char aLuModSBase08lx[33]; // weak
extern char aSrcfile[12]; // weak
extern char aSymtypeLd[12]; // weak
extern char aDia[4]; // weak
extern char aSym[4]; // weak
extern char aDeferred[11]; // weak
extern char aExported[11]; // weak
extern char aPdb[4]; // weak
extern char aCv[3]; // weak
extern char aCoff[5]; // weak
extern char aNosymbols[12]; // weak
extern char aLuSymgetmodule[44]; // weak
extern char aSrcfileSLineLu[44]; // weak
extern char aLuSLuLdBytesS[30]; // weak
extern char aLuLineSLuLdByt[35]; // weak
extern char aLuSymgetlinefr[47]; // weak
extern char aSrcfileSymgetl[52]; // weak
extern char aDeclSDecl_offs[30]; // weak
extern char aStackentry[13]; // weak
extern char aLuDeclS[19]; // weak
extern char aSigSLdBytes[26]; // weak
extern char aSLdBytes[20]; // weak
extern char aSymgetsymfro_0[44]; // weak
extern char aStackentryDecl[44]; // weak
extern char aNosymbolsPc0[26]; // weak
extern char aLuNosymbolsPc0[28]; // weak
extern char aLu3d[10]; // weak
extern char aLuSyminitializ[42]; // weak
extern char aSystemroot[]; // idb
extern char a_nt_alternate_[]; // idb
extern char Name[]; // idb
extern char asc_59016C[2]; // weak
extern char aLu[6]; // weak
extern char aLuErrorlogNotI[64]; // weak
extern char aModule32next[]; // idb
extern char aModule32first[]; // idb
extern char aCreatetoolhelp[]; // idb
extern char aTlhelp32_dll[13]; // weak
extern char aKernel32_dll[13]; // weak
extern char aLuMoreThanLuMo[41]; // weak
extern char aLuEpmFailedGet[37]; // weak
extern char aGetmoduleinfor[]; // idb
extern char aGetmodulebasen[]; // idb
extern char aGetmodulefilen[]; // idb
extern char aEnumprocessmod[]; // idb
extern char aPsapi_dll[]; // idb
extern int dword_5902F8; // weak
extern _UNKNOWN unk_5902FC; // weak
extern _UNKNOWN unk_5907A0; // weak
extern _UNKNOWN unk_590800; // weak
extern char aFormatNull[15]; // weak
extern char aSprintf_c[10]; // weak
extern char aStringNull[15]; // weak
extern char aFclose_c[9]; // weak
extern char aStrNull[12]; // weak
extern char aSscanf_c[9]; // weak
extern char aFgets_c[8]; // weak
extern char aMode_t0[18]; // weak
extern char aModeNull[13]; // weak
extern char aFile_t0[18]; // weak
extern char aFopen_c[8]; // weak
extern char aFileNull[13]; // weak
extern char aI386Chkesp_c[14]; // weak
extern char aTheValueOfEspW[220]; // weak
extern char aFseek_c[8]; // weak
extern char aFprintf_c[10]; // weak
extern char aErrorMemoryAll[50]; // weak
extern char aInvalidAllocat[36]; // weak
extern char aClientHookAl_0[33]; // weak
extern char aClientHookAllo[53]; // weak
extern char aDbgheap_c[10]; // weak
extern char a_crtcheckmemor[18]; // weak
extern char a_pfirstblockPo[26]; // weak
extern char a_plastblockPol[25]; // weak
extern char aFreallocFreall[50]; // weak
extern char a_block_typePol[58]; // weak
extern char aPoldblockNline[69]; // weak
extern char a_crtisvalidhea[34]; // weak
extern char aAllocationTooL[45]; // weak
extern char aClientHookRe_0[36]; // weak
extern char aClientHookReAl[56]; // weak
extern char a_pfirstblockPh[22]; // weak
extern char a_plastblockPhe[21]; // weak
extern char aPheadNblockuse[30]; // weak
extern char aPheadNlineIgno[61]; // weak
extern char aDamageAfterHsB[42]; // weak
extern char aDamageBeforeHs[43]; // weak
extern char a_block_type_is[39]; // weak
extern char aClientHookFree[27]; // weak
extern char aMemoryCheckErr[58]; // weak
extern char aHsLocatedAt0x0[41]; // weak
extern char aHsAllocatedAtF[32]; // weak
extern char aDamageOnTopOfF[41]; // weak
extern char aDamaged[8]; // weak
extern char a_heapchkFail_3[43]; // weak
extern char a_heapchkFail_2[34]; // weak
extern char a_heapchkFail_1[34]; // weak
extern char a_heapchkFail_0[35]; // weak
extern char a_heapchkFailsW[36]; // weak
extern char aBadMemoryBlock[35]; // weak
extern char a_crtmemcheckpo[40]; // weak
extern char aObjectDumpComp[23]; // weak
extern char aCrtBlockAt0x08[49]; // weak
extern char aNormalBlockAt0[40]; // weak
extern char aClientBlockAt0[52]; // weak
extern char aLd[7]; // weak
extern char aHsD[11]; // weak
extern char aFileErrorD[20]; // weak
extern char aDumpingObjects[20]; // weak
extern char aDataSS[16]; // weak
extern char a_2x[6]; // weak
extern char aDetectedMemory[24]; // weak
extern char aFscanf_c[9]; // weak
extern char aStreamNull[15]; // weak
extern char aPrintf_c[9]; // weak
extern char aOnexit_c[9]; // weak
extern _UNKNOWN unk_591110; // weak
extern char aStrupr_c[9]; // weak
extern char aAP[4]; // weak
extern char aAmPm[6]; // weak
extern char aSDS[12]; // weak
extern char asc_591278[2]; // weak
extern char aSecondChanceAs[]; // idb
extern char aWsprintfa[]; // idb
extern char aUser32_dll[]; // idb
extern char aMicrosoftVisua[35]; // weak
extern char aDebugSProgramS[83]; // weak
extern char a___[4]; // weak
extern char aDbgrpt_c[9]; // weak
extern char aSzusermessageN[22]; // weak
extern char aDbgdel_cpp[11]; // weak
extern char a_file_c[8]; // weak
extern char aFtell_c[8]; // weak
extern _UNKNOWN unk_591490; // weak
extern char aInconsistentIo[63]; // weak
extern char a_flsbuf_c[10]; // weak
extern char byte_5914E8[]; // weak
extern char aOutput_c[9]; // weak
extern char aCh_t0[15]; // weak
extern char a_freebuf_c[11]; // weak
extern char aInput_c[8]; // weak
extern char a_filbuf_c[10]; // weak
extern char a_open_c[8]; // weak
extern char aFilenameNull[17]; // weak
extern char aStream_c[9]; // weak
extern char aIsprocessorfea[]; // idb
extern char ModuleName[]; // idb
extern char a_sftbuf_c[10]; // weak
extern char aFlag0Flag1[23]; // weak
extern _UNKNOWN unk_591628; // weak
extern _UNKNOWN unk_591638; // weak
extern _UNKNOWN unk_591650; // weak
extern _UNKNOWN unk_591660; // weak
extern _UNKNOWN unk_591670; // weak
extern _UNKNOWN unk_591688; // weak
extern char aIoinit_c[9]; // weak
extern char aOsfinfo_c[10]; // weak
extern char aChsize_c[9]; // weak
extern char aSize0[10]; // weak
extern char String2[]; // idb
extern const WCHAR SrcStr; // idb
extern _UNKNOWN unk_5916D8; // weak
extern char aTzset_c[8]; // weak
extern char aTz[3]; // weak
extern char aVsprintf_c[11]; // weak
extern char aGetlastactivep[]; // idb
extern char aGetactivewindo[]; // idb
extern char aMessageboxa[]; // idb
extern char aStdenvp_c[10]; // weak
extern char aStdargv_c[10]; // weak
extern char aA_env_c[8]; // weak
extern char aMicrosoftVis_0[37]; // weak
extern char a_getbuf_c[10]; // weak
extern char aMbtowc_c[9]; // weak
extern char aMb_cur_max1Mb_[35]; // weak
extern char aUngetc_c[9]; // weak
extern _UNKNOWN unk_591B28; // weak
extern char aWtombenv_c[11]; // weak
extern char aA_cmp_c[8]; // weak
extern char aCchcount10Cchc[61]; // weak
extern _UNKNOWN unk_591C58; // weak
extern char aSetenv_c[9]; // weak
extern char aStringTooLong[16]; // weak
extern int (__stdcall *off_591C90)(int); // weak
extern int (__stdcall *off_591CA0)(int); // weak
extern char aInvalidStringP[24]; // weak
extern int (__stdcall *off_591CC8)(int); // weak
extern char aStrlwr_c[9]; // weak
extern int (__stdcall *off_591CE4)(int); // weak
extern char aUnknownExcepti[18]; // weak
extern int (__stdcall *off_591D04)(int); // weak
extern _UNKNOWN unk_591D08; // weak
extern _UNKNOWN unk_592B08; // weak
extern _UNKNOWN unk_592B38; // weak
extern _UNKNOWN unk_592B70; // weak
extern _UNKNOWN unk_592C20; // weak
extern _UNKNOWN unk_592C50; // weak
extern _UNKNOWN unk_592C80; // weak
extern _UNKNOWN unk_592CB0; // weak
extern _UNKNOWN unk_592CE0; // weak
extern _UNKNOWN unk_592D40; // weak
extern _UNKNOWN unk_592D78; // weak
extern _UNKNOWN unk_592DA8; // weak
extern _UNKNOWN unk_592E48; // weak
extern _UNKNOWN unk_592E58; // weak
extern _UNKNOWN unk_592E80; // weak
extern _UNKNOWN unk_592EB8; // weak
extern _UNKNOWN unk_592EC8; // weak
extern _UNKNOWN unk_592EF0; // weak
extern _UNKNOWN unk_592F48; // weak
extern _UNKNOWN unk_592F58; // weak
extern _UNKNOWN unk_594000; // weak
extern _UNKNOWN unk_594238; // weak
extern _UNKNOWN unk_59433C; // weak
extern _UNKNOWN unk_594654; // weak
extern _UNKNOWN unk_594758; // weak
extern _UNKNOWN unk_594960; // weak
extern _UNKNOWN unk_594A64; // weak
extern _UNKNOWN unk_594C6C; // weak
extern int dword_594D70[]; // weak
extern int dword_594D74[]; // weak
extern int dword_594D78[]; // weak
extern int dword_594D7C[]; // weak
extern int dword_594D80[]; // weak
extern int dword_594D84[]; // weak
extern int dword_594DD0[]; // weak
extern int dword_594DD4[]; // weak
extern int dword_594DD8[]; // weak
extern int dword_594DDC[]; // weak
extern int dword_594DE0[]; // weak
extern int dword_594DE4[]; // weak
extern int dword_594DE8[]; // weak
extern int dword_594DEC[]; // weak
extern int dword_594DF0[]; // weak
extern int dword_594DF4[]; // weak
extern int dword_594DF8[]; // weak
extern int dword_594DFC[]; // weak
extern int dword_594E00[]; // weak
extern int dword_594E04[]; // weak
extern int dword_594E08[]; // weak
extern int dword_594E0C[]; // weak
extern int dword_594E10[]; // weak
extern int dword_594E14[]; // weak
extern int dword_594E18[]; // weak
extern int dword_594E1C[]; // weak
extern int dword_594E20[]; // weak
extern int dword_594F20; // weak
extern int dword_594F68; // weak
extern int dword_594F6C; // weak
extern int dword_594F70; // weak
extern int dword_594F74[]; // weak
extern int dword_594F84[]; // weak
extern int dword_594F94[]; // weak
extern int dword_594FA4[]; // weak
extern int dword_594FB4; // weak
extern int dword_594FBC[]; // weak
extern int dword_595018[]; // weak
extern int dword_595048[]; // weak
extern int dword_59507C[]; // weak
extern int dword_59519C[]; // weak
extern int dword_5952BC[]; // weak
extern int dword_595500[]; // weak
extern int dword_595564[]; // weak
extern int dword_595568[]; // weak
extern int dword_59556C[]; // weak
extern int dword_595570[]; // weak
extern int dword_595574[]; // weak
extern int dword_595578[]; // weak
extern _UNKNOWN unk_5958C4; // weak
extern int dword_595904[]; // weak
extern _DWORD dword_5959C8[1440]; // idb
extern char byte_597048[]; // weak
extern char byte_597049[]; // weak
extern int dword_5970C0[]; // weak
extern int dword_597250[]; // weak
extern int dword_597350[]; // weak
extern int dword_597390[]; // weak
extern int dword_5973D0[]; // weak
extern int dword_597410[]; // weak
extern int dword_597450[]; // weak
extern int dword_597454[]; // weak
extern int dword_597458[]; // weak
extern int dword_59745C[]; // weak
extern int dword_597460[]; // weak
extern int dword_597464[]; // weak
extern int dword_597720[]; // weak
extern int dword_597724[]; // weak
extern int dword_597728[]; // weak
extern int dword_59772C[]; // weak
extern int dword_597730[]; // weak
extern int dword_597734[]; // weak
extern char a012[7]; // weak
extern char a0123456789ABCD[33]; // weak
extern char a0123456789AB_0[129]; // weak
extern int dword_597D70[]; // weak
extern int dword_597D74[]; // weak
extern int dword_597F00[]; // weak
extern int dword_597F28[]; // weak
extern int dword_597F2C[]; // weak
extern int dword_598574[]; // weak
extern void *off_598578; // weak
extern int dword_598898[]; // weak
extern int dword_59889C[]; // weak
extern int dword_5988A0[]; // weak
extern int dword_5988A4[]; // weak
extern int dword_5988A8[]; // weak
extern int dword_5988AC[]; // weak
extern int dword_59A328[]; // weak
extern int dword_59A32C[]; // weak
extern int dword_59A330[]; // weak
extern int dword_59A334[]; // weak
extern int dword_59A338[]; // weak
extern int dword_59A33C[]; // weak
extern int dword_59A340[]; // weak
extern int dword_59A348[]; // weak
extern int dword_59A350[]; // weak
extern int dword_59A354[]; // weak
extern int dword_59A358[]; // weak
extern int dword_59A368[]; // weak
extern void *off_59A47C; // weak
extern void *off_59A494; // weak
extern _BYTE off_59A4AC[24]; // idb
extern void *off_59A4C4; // weak
extern char byte_59A4DC[]; // weak
extern int dword_59A53C[]; // weak
extern int dword_59A540[]; // weak
extern int dword_59A544[]; // weak
extern char *off_59BEB0; // weak
extern _UNKNOWN unk_59BEB8; // weak
extern char byte_5A054C[]; // weak
extern char byte_5A054D[]; // weak
extern __int16 word_5A08E8[]; // weak
extern __int16 word_5A0938[]; // weak
extern __int16 word_5A09D8[]; // weak
extern int dword_5A0A50; // weak
extern int dword_5A0A54; // weak
extern int dword_5A0A58; // weak
extern int dword_5A0A64; // weak
extern int dword_5A0A68; // weak
extern int dword_5A0A6C; // weak
extern int dword_5A0A70[]; // weak
extern int dword_5A0A74[]; // weak
extern int dword_5A0A78[]; // weak
extern int dword_5A0A7C[]; // weak
extern int dword_5A0B10[]; // weak
extern int dword_5A0B14[]; // weak
extern int dword_5A0B18[]; // weak
extern int dword_5A0B1C[]; // weak
extern int dword_5A0B28; // weak
extern int dword_5A0B38; // weak
extern int dword_5A0B48; // weak
extern int dword_5A0B58; // weak
extern int dword_5A0B68; // weak
extern int dword_5A0B78; // weak
extern int dword_5A0B88; // weak
extern int dword_5A0B98; // weak
extern int dword_5A0BA8; // weak
extern int dword_5A0BB8; // weak
extern int dword_5A0BC8; // weak
extern int dword_5A0BD8; // weak
extern int dword_5A0BE8; // weak
extern int dword_5A0BF8; // weak
extern int dword_5A0C08; // weak
extern int dword_5A0C18; // weak
extern int dword_5A0C28; // weak
extern int dword_5A0C38; // weak
extern int dword_5A0C48; // weak
extern int dword_5A0C58; // weak
extern int dword_5A0C60[]; // weak
extern int dword_5A0C64[]; // weak
extern int dword_5A0C68[]; // weak
extern int dword_5A0C6C[]; // weak
extern int dword_5A0E80[]; // weak
extern int dword_5A0EDC[]; // weak
extern int dword_5A0EE0[]; // weak
extern int dword_5A0F0C; // weak
extern int dword_5A0F10; // weak
extern int dword_5A0F14; // weak
extern int dword_5A0F18; // weak
extern int dword_5A0FA8; // weak
extern int dword_5A0FAC; // weak
extern int dword_5A0FB0; // weak
extern int dword_5A0FB4; // weak
extern char cp[]; // idb
extern int dword_5A0FFC; // weak
extern int dword_5A1000; // weak
extern int dword_5A1004; // weak
extern int dword_5A1008; // weak
extern int dword_5A1010[]; // weak
extern int dword_5A1014[]; // weak
extern int dword_5A1030; // weak
extern int dword_5A1034; // weak
extern int dword_5A1038; // weak
extern int dword_5A103C; // weak
extern int dword_5A1040; // weak
extern int dword_5A1044; // weak
extern int dword_5A104C; // weak
extern int dword_5A1050; // weak
extern int dword_5A1054; // weak
extern int dword_5A1058; // weak
extern int dword_5A105C; // weak
extern int dword_5A1060; // weak
extern int dword_5A1064; // weak
extern int dword_5A1068; // weak
extern int dword_5A106C; // weak
extern int dword_5A1070; // weak
extern int dword_5A1074; // weak
extern int dword_5A1078; // weak
extern int dword_5A107C[]; // weak
extern int dword_5A1080[]; // weak
extern int dword_5A1084; // weak
extern int dword_5A1088; // weak
extern int dword_5A108C; // weak
extern int dword_5A1090; // weak
extern int dword_5A1094[]; // weak
extern int dword_5A10D8; // weak
extern int dword_5A10DC; // weak
extern int dword_5A10E0; // weak
extern int dword_5A10E4; // weak
extern int dword_5A10E8; // weak
extern int dword_5A10EC; // weak
extern int dword_5A10F0; // weak
extern int dword_5A10F4[]; // weak
extern int dword_5A10F8[]; // weak
extern int dword_5A11E4; // weak
extern int dword_5A11E8; // weak
extern int dword_5A11EC; // weak
extern int dword_5A11F0; // weak
extern int dword_5A1258[]; // weak
extern int dword_5A125C[]; // weak
extern int dword_5A1270[]; // weak
extern int dword_5A1274[]; // weak
extern int dword_5A1284[]; // weak
extern int dword_5A1288[]; // weak
extern int dword_5A1294[]; // weak
extern int dword_5A12A0[]; // weak
extern int dword_5A12A4; // weak
extern int dword_5A12A8; // weak
extern int dword_5A12AC[]; // weak
extern int dword_5A12B0; // weak
extern int dword_5A12B4; // weak
extern int dword_5A12C4[]; // weak
extern int dword_5A12DC[]; // weak
extern int dword_5A1344; // Cliver
extern int dword_5A1348; // weak
extern int dword_5A134C; // weak
extern int dword_5A1350; // weak
extern int dword_5A1354; // weak
extern __int16 word_5A1368[]; // weak
extern __int16 word_5A136A[]; // weak
extern int dword_5A1438[]; // weak
extern int dword_5A144C; // weak
extern int dword_5A14A0; // weak
extern char aUnnamed_0[8]; // weak
extern char byte_5A14B2; // weak
extern char byte_5A14B3; // weak
extern char aUnnamed[8]; // weak
extern char byte_5A14D2; // weak
extern char byte_5A14D3; // weak
extern int dword_5A14E4; // weak
extern int dword_5A14E8; // weak
extern int dword_5A14EC; // weak
extern int dword_5A14F0; // weak
extern int dword_5A1504; // weak
extern int dword_5A1508; // weak
extern int dword_5A150C; // weak
extern int dword_5A1510; // weak
extern int dword_5A1514[]; // weak
extern int dword_5A1518[]; // weak
extern __int16 word_5A1604[]; // weak
extern int dword_5A162C; // weak
extern int dword_5A17E8[]; // weak
extern int dword_5A17EC[]; // weak
extern int dword_5A1804[]; // weak
extern int dword_5A1834[]; // weak
extern char off_5A1B3C[]; // weak
extern char *off_5A1B4C[5]; // weak
extern char aExceptions_log[16]; // weak
extern int dword_5A1C64; // weak
extern __int16 word_5A1CA4; // weak
extern __int16 word_5A1CA8; // weak
extern __int16 word_5A1CAC; // weak
extern __int16 word_5A1CB0; // weak
extern __int16 word_5A1CB4; // weak
extern __int16 word_5A1CB8; // weak
extern __int16 word_5A1CBC; // weak
extern int dword_5A1CC0; // weak
extern int (*off_5A1CD8)(void); // weak
extern int dword_5A1CF0; // weak
extern int dword_5A1CF4; // weak
extern int dword_5A1CF8; // weak
extern char byte_5A1CFC; // weak
extern char byte_5A1CFD; // weak
extern char byte_5A1CFE; // weak
extern char *off_5A1D00[5]; // weak
extern _DWORD dword_5A1D14[7]; // idb
extern char *(*off_5A1D30)[43]; // weak
extern volatile LONG dword_5A1DF8; // idb
extern int dword_5A1DFC[]; // weak
extern HANDLE hFile; // idb
extern char *off_5A1E14[3]; // weak
extern void *off_5A1E20; // weak
extern int dword_5A1E30[]; // weak
extern _UNKNOWN unk_5A1E40; // weak
extern _UNKNOWN unk_5A1E60; // weak
extern int (__cdecl *off_5A20A0)(_DWORD); // weak
extern int dword_5A20A4; // weak
extern char *off_5A20A8; // weak
extern wchar_t *off_5A20AC; // weak
extern char asc_5A20B0[6]; // weak
extern char asc_5A20B8[2]; // weak
extern char byte_5A20C0[]; // weak
extern int dword_5A20C8[]; // weak
extern __int16 word_5A20CC[]; // weak
extern _UNKNOWN unk_5A20D8; // weak
extern int (__cdecl *off_5A21C0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__cdecl *off_5A21C4)(_DWORD); // weak
extern int (__cdecl *off_5A21C8)(_DWORD, _DWORD, _DWORD); // weak
extern int (__cdecl *off_5A21CC)(_DWORD); // weak
extern int (*off_5A21D0[2])(); // weak
extern int (*off_5A21D4)(); // weak
extern __int16 off_5A21D8[2]; // weak
extern __int16 word_5A21E2[]; // weak
extern int cbMultiByte; // idb
extern char byte_5A23E8; // weak
extern int (__cdecl *off_5A23F0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int dword_5A23F8; // weak
extern int (*off_5A2404)(void); // weak
extern int dword_5A2408[]; // weak
extern int dword_5A240C[]; // weak
extern _UNKNOWN unk_5A2570; // weak
extern int dword_5A2578; // weak
extern int dword_5A257C; // weak
extern int dword_5A2580; // weak
extern LPSTR lpMultiByteStr; // idb
extern LPSTR off_5A2608; // idb
extern int dword_5A2610; // weak
extern int dword_5A2614; // weak
extern int dword_5A2618; // weak
extern int dword_5A2620; // weak
extern int dword_5A2624; // weak
extern int dword_5A2628; // weak
extern int dword_5A262C[]; // weak
extern int dword_5A2630[]; // weak
extern int dword_5A2660[]; // weak
extern int dword_5A2664[]; // weak
extern _TBYTE tbyte_5A26FA; // weak
extern void *off_5A270D; // weak
extern _UNKNOWN unk_5A2720; // weak
extern int dword_5A2728[]; // weak
extern int dword_5A2798; // weak
extern int dword_5A279C; // weak
extern int dword_5A27A0; // weak
extern int dword_5A27A4; // weak
extern int dword_5A27A8[]; // weak
extern LPCVOID lpBuffer; // idb
extern _UNKNOWN unk_5A2840; // weak
extern _UNKNOWN unk_5A2858; // weak
extern int dword_5A2870[]; // weak
extern _DWORD off_5A2874[2]; // idb
extern int dword_5A2948; // weak
extern double dbl_5A2968; // weak
extern double dbl_5A2978; // weak
extern _UNKNOWN unk_5A2990; // weak
extern _UNKNOWN unk_5A2AF0; // weak
extern int dword_5A3130[]; // weak
extern int dword_5A3134[]; // weak
extern int dword_5A3138[]; // weak
extern int dword_5A3148[]; // weak
extern int dword_5A39F0[]; // weak
extern int dword_5A3A00[]; // weak
extern char byte_5A3AB8[]; // weak
extern _UNKNOWN unk_5B8D80; // weak
extern _UNKNOWN unk_7A1200; // weak
extern _UNKNOWN unk_800000; // weak
extern _UNKNOWN unk_8A3AB8; // weak
extern int dword_8A58B8; // weak
extern int dword_8A58BC[]; // weak
extern char byte_8A5BDC[]; // weak
extern char byte_8A67C4[384]; // idb
extern _UNKNOWN unk_8A6944; // weak
extern _UNKNOWN unk_8A69C4; // weak
extern _UNKNOWN unk_8A6A44; // weak
extern _UNKNOWN unk_8A6AC4; // weak
extern _UNKNOWN unk_8A7344; // weak
extern _UNKNOWN unk_8A73C4; // weak
extern _UNKNOWN unk_8A7444; // weak
extern _UNKNOWN unk_8A7644; // weak
extern _UNKNOWN unk_8A76C4; // weak
extern _UNKNOWN unk_8A7744; // weak
extern _UNKNOWN unk_8A7844; // weak
extern _UNKNOWN unk_8A7944; // weak
extern _UNKNOWN unk_8A81C4; // weak
extern _UNKNOWN unk_8A8244; // weak
extern _UNKNOWN unk_8A82C4; // weak
extern _UNKNOWN unk_8A8344; // weak
extern _UNKNOWN unk_8A83C4; // weak
extern _UNKNOWN unk_8A86C4; // weak
extern _UNKNOWN unk_8A8744; // weak
extern _UNKNOWN unk_8A8844; // weak
extern _UNKNOWN unk_8A8A44; // weak
extern _UNKNOWN unk_8A8B44; // weak
extern _UNKNOWN unk_8A92C4; // weak
extern _UNKNOWN unk_8A9544; // weak
extern _UNKNOWN unk_8A95C4; // weak
extern _UNKNOWN unk_8A9644; // weak
extern _UNKNOWN unk_8AA044; // weak
extern _UNKNOWN unk_8AA544; // weak
extern _UNKNOWN unk_8AA5C4; // weak
extern _UNKNOWN unk_8AA644; // weak
extern _UNKNOWN unk_8AA6C4; // weak
extern _UNKNOWN unk_8AA744; // weak
extern _UNKNOWN unk_8AA7C4; // weak
extern _UNKNOWN unk_8AA844; // weak
extern _UNKNOWN unk_8AA8C4; // weak
extern _UNKNOWN unk_8AA944; // weak
extern _UNKNOWN unk_8AA9C4; // weak
extern _UNKNOWN unk_8AAA44; // weak
extern _UNKNOWN unk_8AAAC4; // weak
extern _UNKNOWN unk_8AAB44; // weak
extern _UNKNOWN unk_8AABC4; // weak
extern _UNKNOWN unk_8AAC44; // weak
extern _UNKNOWN unk_8AACC4; // weak
extern _UNKNOWN unk_8AAD44; // weak
extern _UNKNOWN unk_8AADC4; // weak
extern _UNKNOWN unk_8AAE44; // weak
extern _UNKNOWN unk_8AAEC4; // weak
extern _UNKNOWN unk_8AAF44; // weak
extern _UNKNOWN unk_8AAFC4; // weak
extern _UNKNOWN unk_8AB0C4; // weak
extern _UNKNOWN unk_8AB144; // weak
extern _UNKNOWN unk_8AB3C4; // weak
extern _UNKNOWN unk_8AB444; // weak
extern _UNKNOWN unk_8AB544; // weak
extern _UNKNOWN unk_8AB5C4; // weak
extern _UNKNOWN unk_8AB644; // weak
extern _UNKNOWN unk_8AB6C4; // weak
extern _UNKNOWN unk_8AB744; // weak
extern _UNKNOWN unk_8AB7C4; // weak
extern _UNKNOWN unk_8AB844; // weak
extern _UNKNOWN unk_8AB8C4; // weak
extern _UNKNOWN unk_8AB944; // weak
extern _UNKNOWN unk_8AB9C4; // weak
extern _UNKNOWN unk_8ABAC4; // weak
extern _UNKNOWN unk_8ABE44; // weak
extern _UNKNOWN unk_8ABEC4; // weak
extern _UNKNOWN unk_8ABF44; // weak
extern _UNKNOWN unk_8AC044; // weak
extern _UNKNOWN unk_8AC0C4; // weak
extern _UNKNOWN unk_8AC144; // weak
extern _UNKNOWN unk_8AC1C4; // weak
extern _UNKNOWN unk_8AC5C4; // weak
extern _UNKNOWN unk_8AC644; // weak
extern _UNKNOWN unk_8AC6C4; // weak
extern _UNKNOWN unk_8AC744; // weak
extern _UNKNOWN unk_8AC8C4; // weak
extern _UNKNOWN unk_8ACAC4; // weak
extern _UNKNOWN unk_8ACB44; // weak
extern _UNKNOWN unk_8ACBC4; // weak
extern _UNKNOWN unk_8ACC44; // weak
extern _UNKNOWN unk_8ACCC4; // weak
extern _UNKNOWN unk_8ACD44; // weak
extern _UNKNOWN unk_8ACE44; // weak
extern _UNKNOWN unk_8ACEC4; // weak
extern _UNKNOWN unk_8ACFC4; // weak
extern _UNKNOWN unk_8AD0C4; // weak
extern _UNKNOWN unk_8AD144; // weak
extern _UNKNOWN unk_8AD1C4; // weak
extern _UNKNOWN unk_8AD4C4; // weak
extern _UNKNOWN unk_8AD544; // weak
extern _UNKNOWN unk_8AD5C4; // weak
extern _UNKNOWN unk_8AD644; // weak
extern _UNKNOWN unk_8AD6C4; // weak
extern _UNKNOWN unk_8AD744; // weak
extern _UNKNOWN unk_8ADA44; // weak
extern _UNKNOWN unk_8ADAC4; // weak
extern _UNKNOWN unk_8ADCC4; // weak
extern _UNKNOWN unk_8AE2C4; // weak
extern _UNKNOWN unk_8AE344; // weak
extern _UNKNOWN unk_8AE3C4; // weak
extern _UNKNOWN unk_8AE444; // weak
extern _UNKNOWN unk_8AE4C4; // weak
extern _UNKNOWN unk_8AE544; // weak
extern _UNKNOWN unk_8AE5C4; // weak
extern _UNKNOWN unk_8AE844; // weak
extern _UNKNOWN unk_8AE8C4; // weak
extern _UNKNOWN unk_8AE944; // weak
extern _UNKNOWN unk_8AE9C4; // weak
extern _UNKNOWN unk_8AEAC4; // weak
extern _UNKNOWN unk_8AEB44; // weak
extern _UNKNOWN unk_8AEBC4; // weak
extern _UNKNOWN unk_8AED44; // weak
extern _UNKNOWN unk_8AEDC4; // weak
extern _UNKNOWN unk_8AF044; // weak
extern _UNKNOWN unk_8AF144; // weak
extern _UNKNOWN unk_8AF1C4; // weak
extern _UNKNOWN unk_8AF244; // weak
extern _UNKNOWN unk_8AF2C4; // weak
extern _UNKNOWN unk_8AF3C4; // weak
extern _UNKNOWN unk_8AF444; // weak
extern _UNKNOWN unk_8AF544; // weak
extern _UNKNOWN unk_8AF5C4; // weak
extern _UNKNOWN unk_8AF6C4; // weak
extern _UNKNOWN unk_8AF744; // weak
extern _UNKNOWN unk_8AF8C4; // weak
extern _UNKNOWN unk_8AF944; // weak
extern _UNKNOWN unk_8AF9C4; // weak
extern _UNKNOWN unk_8AFB44; // weak
extern _UNKNOWN unk_8AFD44; // weak
extern _UNKNOWN unk_8AFDC4; // weak
extern _UNKNOWN unk_8AFE44; // weak
extern _UNKNOWN unk_8AFEC4; // weak
extern _UNKNOWN unk_8AFF44; // weak
extern _UNKNOWN unk_8B0044; // weak
extern _UNKNOWN unk_8B00C4; // weak
extern _UNKNOWN unk_8B0144; // weak
extern _UNKNOWN unk_8B01C4; // weak
extern _UNKNOWN unk_8B0244; // weak
extern _UNKNOWN unk_8B02C4; // weak
extern _UNKNOWN unk_8B0344; // weak
extern _UNKNOWN unk_8B03C4; // weak
extern _UNKNOWN unk_8B0444; // weak
extern _UNKNOWN unk_8B04C4; // weak
extern _UNKNOWN unk_8B06C4; // weak
extern _UNKNOWN unk_8B0744; // weak
extern _UNKNOWN unk_8B0844; // weak
extern _UNKNOWN unk_8B08C4; // weak
extern _UNKNOWN unk_8B0CC4; // weak
extern _UNKNOWN unk_8B11C4; // weak
extern _UNKNOWN unk_8B14C4; // weak
extern _UNKNOWN unk_8B1544; // weak
extern _UNKNOWN unk_8B15C4; // weak
extern _UNKNOWN unk_8B16C4; // weak
extern _UNKNOWN unk_8B18C4; // weak
extern _UNKNOWN unk_8B1944; // weak
extern _UNKNOWN unk_8B1A44; // weak
extern _UNKNOWN unk_8B1C44; // weak
extern _UNKNOWN unk_8B1DC4; // weak
extern _UNKNOWN unk_8B1E44; // weak
extern _UNKNOWN unk_8B22C4; // weak
extern _UNKNOWN unk_8B2344; // weak
extern _UNKNOWN unk_8B2444; // weak
extern _UNKNOWN unk_8B24C4; // weak
extern _UNKNOWN unk_8B2944; // weak
extern _UNKNOWN unk_8B2AC4; // weak
extern _UNKNOWN unk_8B2BC4; // weak
extern _UNKNOWN unk_8B2CC4; // weak
extern _UNKNOWN unk_8B2D44; // weak
extern _UNKNOWN unk_8B2DC4; // weak
extern _UNKNOWN unk_8B2E44; // weak
extern _UNKNOWN unk_8B2FC4; // weak
extern _UNKNOWN unk_8B3044; // weak
extern _UNKNOWN unk_8B31C4; // weak
extern _UNKNOWN unk_8B3244; // weak
extern _UNKNOWN unk_8B35C4; // weak
extern _UNKNOWN unk_8B3744; // weak
extern _UNKNOWN unk_8B37C4; // weak
extern _UNKNOWN unk_8B3944; // weak
extern _UNKNOWN unk_8B3A44; // weak
extern _UNKNOWN unk_8B3B44; // weak
extern _UNKNOWN unk_8B3BC4; // weak
extern _UNKNOWN unk_8B3C44; // weak
extern _UNKNOWN unk_8B3CC4; // weak
extern _UNKNOWN unk_8B3D44; // weak
extern _UNKNOWN unk_8B3E44; // weak
extern _UNKNOWN unk_8B3EC4; // weak
extern _UNKNOWN unk_8B3F44; // weak
extern _UNKNOWN unk_8B3FC4; // weak
extern _UNKNOWN unk_8B4044; // weak
extern _UNKNOWN unk_8B40C4; // weak
extern _UNKNOWN unk_8B45C4; // weak
extern _UNKNOWN unk_8B47C4; // weak
extern _UNKNOWN unk_8B4844; // weak
extern _UNKNOWN unk_8B48C4; // weak
extern _UNKNOWN unk_8B4944; // weak
extern _UNKNOWN unk_8B4F44; // weak
extern int dword_8B61C8[]; // weak
extern int dword_8B61D0[]; // weak
extern int dword_8B61D8[]; // weak
extern int dword_8B61DC[]; // weak
extern int dword_8B61E0[]; // weak
extern int dword_8B61E4[]; // weak
extern __int16 word_8B61E8[]; // weak
extern int dword_8B61EC[]; // weak
extern int dword_8B61F0[]; // weak
extern int dword_8B61F4[]; // weak
extern int dword_8B6210[]; // weak
extern __int16 word_8B88D0[]; // weak
extern __int16 word_8B88D2[]; // weak
extern __int16 word_8B88D4[]; // weak
extern __int16 word_8B88D6[]; // weak
extern _UNKNOWN unk_8B8BD0; // weak
extern _UNKNOWN unk_8B8BE0; // weak
extern _UNKNOWN unk_8B8BF0; // weak
extern char byte_8B8C00[]; // weak
extern int dword_8C8BD0[]; // weak
extern int dword_8C8D60[]; // weak
extern int dword_8CBC40[]; // weak
extern char byte_8CCC40[]; // weak
extern _UNKNOWN unk_989680; // weak
extern char byte_9CCC40[]; // weak
extern __int16 word_9CCC80[]; // weak
extern __int16 word_9CCC82[]; // weak
extern __int16 word_9CCC84[]; // weak
extern __int16 word_9CCC86[]; // weak
extern __int16 word_9CCC88[]; // weak
extern __int16 word_9CCC8A[]; // weak
extern __int16 word_9CCC8C[]; // weak
extern __int16 word_9CCC8E[]; // weak
extern __int16 word_9CCC90[]; // weak
extern __int16 word_9CCC92[]; // weak
extern int dword_9CCCC0[]; // weak
extern __int16 word_9CCCC4[]; // weak
extern __int16 word_9CCCC6[]; // weak
extern __int16 word_9CCCC8[]; // weak
extern __int16 word_9CCCCA[]; // weak
extern int dword_9DE31C; // weak
extern int dword_9DEC68; // weak
extern char byte_AAAEF0[]; // weak
extern char byte_AACA70[]; // weak
extern int dword_AACD30; // weak
extern int dword_AACD34; // weak
extern int dword_AACD38; // weak
extern int dword_AACD3C; // weak
extern int dword_AACD40; // weak
extern int dword_AACD44; // weak
extern int dword_AACD48; // weak
extern int dword_AACD4C; // weak
extern int dword_AACD54; // weak
extern int dword_AACD58; // weak
extern int dword_AACD5C; // weak
extern int dword_AACD60; // weak
extern int dword_AACD64; // weak
extern int dword_BAECA8[]; // weak
extern int dword_BAF0A8; // weak
extern int dword_BAF0AC; // weak
extern int dword_BAF180; // weak
extern int dword_BAF184; // weak
extern int dword_BAF188; // weak
extern int dword_BAF194; // weak
extern int dword_BAF198; // weak
extern int dword_BAF19C; // weak
extern int dword_BAF1A0[]; // weak
extern int dword_BAF1A4; // weak
extern int dword_BAF1A8; // weak
extern int dword_BAF1AC; // weak
extern int dword_BAF1B0; // weak
extern int dword_BAF1B4[]; // weak
extern int dword_BAF1B8; // weak
extern int dword_BAF1BC; // weak
extern int dword_BAF1C0; // weak
extern int dword_BAF1C4; // weak
extern int dword_BAF1C8[]; // weak
extern int dword_BAF1CC; // weak
extern int dword_BAF1D0; // weak
extern int dword_BAF1D4[]; // weak
extern int dword_BAF1D8; // weak
extern int dword_BAF1DC; // weak
extern int dword_BAF1E0[]; // weak
extern int dword_BAF1E4[]; // weak
extern int dword_BAF1E8[]; // weak
extern int dword_BAF348[]; // weak
extern int dword_BAF34C[]; // weak
extern int dword_BAF350[]; // weak
extern int dword_BAF4B0; // weak
extern int dword_BAF4B4; // weak
extern int dword_BAF4B8; // weak
extern int dword_BAF4BC[]; // weak
extern int dword_BAF4C0; // weak
extern int dword_BAF4C4; // weak
extern int dword_BAF4C8; // weak
extern int dword_BAF4CC; // weak
extern int dword_BAF4D0[]; // weak
extern int dword_BAF4D4; // weak
extern int dword_BAF4D8; // weak
extern int dword_BAF4DC; // weak
extern int dword_BAF4E0[]; // weak
extern int dword_BAF4E4; // weak
extern int dword_BAF4E8; // weak
extern int dword_BAF4EC[]; // weak
extern int dword_BAF4F0; // weak
extern int dword_BAF4F4; // weak
extern int dword_BAF4F8[]; // weak
extern int dword_BAF4FC[]; // weak
extern int dword_BAF500[]; // weak
extern int dword_BAF5AC[]; // weak
extern int dword_BAF5B0[]; // weak
extern int dword_BAF5B4[]; // weak
extern int dword_BAF660; // weak
extern int dword_BAF664; // weak
extern int dword_BAF668; // weak
extern int dword_BAF66C; // weak
extern int dword_BAF670; // weak
extern int dword_BAF674[]; // weak
extern int dword_BAF678; // weak
extern int dword_BAF67C; // weak
extern int dword_BAF680; // weak
extern int dword_BAF684; // weak
extern int dword_BAF688[]; // weak
extern int dword_BAF68C; // weak
extern int dword_BAF690; // weak
extern int dword_BAF694; // weak
extern int dword_BAF698[]; // weak
extern int dword_BAF69C; // weak
extern int dword_BAF6A0; // weak
extern int dword_BAF6A4; // weak
extern int dword_BAF6A8[]; // weak
extern int dword_BAF6AC; // weak
extern int dword_BAF6B0; // weak
extern int dword_BAF6B4; // weak
extern int dword_BAF6B8[]; // weak
extern int dword_BAF6BC[]; // weak
extern int dword_BAF6C0[]; // weak
extern int dword_BAF6C4[]; // weak
extern int dword_BAF778[]; // weak
extern int dword_BAF77C[]; // weak
extern int dword_BAF780[]; // weak
extern int dword_BAF784[]; // weak
extern int dword_BAF990[]; // weak
extern _UNKNOWN unk_BAF994; // weak
extern int dword_BAF9A4[]; // weak
extern int dword_BAF9A8[]; // weak
extern _UNKNOWN unk_BAF9AC; // weak
extern int dword_BAFCAC[]; // weak
extern int dword_BAFCB0[]; // weak
extern int dword_BAFCB4[]; // weak
extern int dword_BAFCB8[]; // weak
extern int dword_BAFCBC[]; // weak
extern _UNKNOWN unk_BAFCC0; // weak
extern _UNKNOWN unk_BAFCE0; // weak
extern int dword_BB05EC[]; // weak
extern int dword_BB05F0[]; // weak
extern int dword_BB05F4[]; // weak
extern int dword_BB05F8[]; // weak
extern int dword_BB0600[]; // weak
extern int dword_BB0604[]; // weak
extern __int16 word_BB0608[]; // weak
extern _UNKNOWN unk_BB070C; // weak
extern __int16 word_BD6940[]; // weak
extern char byte_BD6942[]; // weak
extern char byte_BD6943[]; // weak
extern char byte_BD6944[]; // weak
extern char byte_BD6945[]; // weak
extern char byte_BD6946[]; // weak
extern char byte_BD6947[]; // weak
extern __int16 word_BD6990; // weak
extern char byte_BD6992; // weak
extern char byte_BD6993; // weak
extern char byte_BD6994; // weak
extern char byte_BD6995; // weak
extern char byte_BD6996; // weak
extern char byte_BD6997; // weak
extern int dword_BD6998[]; // weak
extern int dword_BD6A4C; // weak
extern int dword_BD6A50; // weak
extern int dword_BD6A54; // weak
extern __int16 word_BDE6FE[]; // weak
extern __int16 word_BDE750[]; // weak
extern _UNKNOWN unk_BDE990; // weak
extern _UNKNOWN unk_BDE9A0; // weak
extern int dword_BDE9C4[]; // weak
extern int dword_BDE9C8; // weak
extern int dword_BDE9CC; // weak
extern _UNKNOWN unk_BDE9D0; // weak
extern _UNKNOWN unk_BDEA50; // weak
extern _UNKNOWN unk_BDEAA0; // weak
extern int dword_BDEAA4[]; // weak
extern int dword_BDEAA8[]; // weak
extern int dword_BDEAAC[]; // weak
extern int dword_BDEAB0[]; // weak
extern int dword_BDEAB4[]; // weak
extern int dword_BDEAB8[]; // weak
extern int dword_BDEACC[]; // weak
extern int dword_BDEAE0[]; // weak
extern int dword_BDEAF4[]; // weak
extern char byte_BDEB08[]; // weak
extern char byte_BDEC98[]; // weak
extern char byte_BDEF18[]; // weak
extern int dword_BDF058[]; // weak
extern int dword_BDF05C[]; // weak
extern int dword_BDF064[]; // weak
extern _UNKNOWN unk_BDF068; // weak
extern __int16 word_BDF0B2[]; // weak
extern char byte_BDF356[]; // weak
extern char byte_BDF357[]; // weak
extern char byte_BDF358[]; // weak
extern char byte_BDF359[]; // weak
extern char byte_BDF35A[]; // weak
extern char byte_BDF35B[]; // weak
extern _UNKNOWN unk_BDF35C; // weak
extern __int16 word_BDF38A[]; // weak
extern char byte_BDF64A[]; // weak
extern char byte_BDF64B[]; // weak
extern int dword_C4B81C; // weak
extern int dword_C4F28C; // weak
extern int dword_C4FE3C; // weak
extern _UNKNOWN unk_E0B000; // weak
extern _UNKNOWN unk_FF0000; // weak
extern _UNKNOWN unk_FFFFFF; // weak
extern _UNKNOWN unk_1000000; // weak
extern _UNKNOWN unk_1010100; // weak
extern _UNKNOWN unk_13F9480; // weak
extern int dword_14001E0; // weak
extern _UNKNOWN unk_1C9C380; // weak
extern _UNKNOWN unk_1E13380; // weak
extern _UNKNOWN unk_1E28500; // weak
extern int dword_1FD7F20[]; // weak
extern int dword_1FDEC80; // weak
extern int dword_1FDEC84[]; // weak
extern int dword_1FDEC88[]; // weak
extern int dword_1FDEC8C; // weak
extern int dword_1FDEC90; // weak
extern int dword_1FDEC94; // weak
extern int dword_1FDEC98; // weak
extern int dword_1FDEC9C; // weak
extern char byte_1FDECA0[]; // weak
extern char byte_1FDECAE[]; // weak
extern char byte_1FDECAF[]; // weak
extern char byte_1FDECB0[]; // weak
extern char byte_1FDECB1[]; // weak
extern __int16 word_1FDECB2[]; // weak
extern char byte_1FDECB4[]; // weak
extern __int16 word_1FDECB6[]; // weak
extern int dword_1FDECB8[]; // weak
extern int dword_1FDECBC[]; // weak
extern __int16 word_1FDECC0[]; // weak
extern __int16 word_1FDECC2[]; // weak
extern __int16 word_1FDECC4[]; // weak
extern __int16 word_1FDECC6[]; // weak
extern __int16 word_1FDECC8[]; // weak
extern char byte_1FDECCA[]; // weak
extern char byte_1FDECCB[]; // weak
extern __int16 word_1FDECCC[]; // weak
extern __int16 word_1FDECCE[]; // weak
extern __int16 word_1FDECD0[]; // weak
extern __int16 word_1FDECD2[]; // weak
extern __int16 word_1FDECD4[]; // weak
extern __int16 word_1FDECD6[]; // weak
extern __int16 word_1FDECD8[]; // weak
extern __int16 word_1FDECDA[]; // weak
extern char byte_1FDECDC[]; // weak
extern char byte_1FDECDD[]; // weak
extern char byte_1FDECDE[]; // weak
extern char byte_1FDECDF[]; // weak
extern __int16 word_1FDECE0[]; // weak
extern __int16 word_1FDECE2[]; // weak
extern __int16 word_1FDECE4[]; // weak
extern __int16 word_1FDECE8[]; // weak
extern __int16 word_1FDECEA[]; // weak
extern __int16 word_1FDECEC[]; // weak
extern __int16 word_1FDECEE[]; // weak
extern __int16 word_1FDECF0[]; // weak
extern __int16 word_1FDECF2[]; // weak
extern __int16 word_1FDECF4[]; // weak
extern __int16 word_1FDECF6[]; // weak
extern char byte_1FDECF8[]; // weak
extern char byte_1FDECF9[]; // weak
extern char byte_1FDECFA[]; // weak
extern int dword_1FDECFC[]; // weak
extern char byte_1FDED00[]; // weak
extern char byte_1FDED01[]; // weak
extern char byte_1FDED02[]; // weak
extern char byte_1FDED03[]; // weak
extern __int16 word_1FDED04[]; // weak
extern char byte_1FDED06[]; // weak
extern char byte_1FDED07[]; // weak
extern char byte_1FDED08[]; // weak
extern char byte_1FDED09[]; // weak
extern char byte_1FDED0A[]; // weak
extern char byte_1FDED0B[]; // weak
extern __int16 word_1FDED0C[]; // weak
extern __int16 word_1FDED14[]; // weak
extern __int16 word_1FDED1C[]; // weak
extern __int16 word_1FDED24[]; // weak
extern __int16 word_1FDED2C[]; // weak
extern __int16 word_1FDED2E[]; // weak
extern char byte_1FDED30[]; // weak
extern char byte_1FDED31[]; // weak
extern char byte_1FDED32[]; // weak
extern char byte_1FDED33[]; // weak
extern __int16 word_1FDED34[]; // weak
extern __int16 word_1FDED3C[]; // weak
extern char byte_1FDED3E[]; // weak
extern char byte_1FDED3F[]; // weak
extern char byte_1FDED40[]; // weak
extern char byte_1FDED41[]; // weak
extern char byte_1FDED42[]; // weak
extern char byte_1FDED43[]; // weak
extern __int16 word_1FDED4C[]; // weak
extern __int16 word_1FDED54[]; // weak
extern __int16 word_1FDED5C[]; // weak
extern __int16 word_1FDED64[]; // weak
extern char byte_1FDED66[]; // weak
extern char byte_1FDED67[]; // weak
extern char byte_1FDED68[]; // weak
extern char byte_1FDED69[]; // weak
extern char byte_1FDED6A[]; // weak
extern char byte_1FDED6B[]; // weak
extern __int16 word_1FDED6C[]; // weak
extern __int16 word_1FDED6E[]; // weak
extern char byte_1FDED70[]; // weak
extern __int16 word_1FDED74[]; // weak
extern int dword_1FDED7C[]; // weak
extern int dword_1FDED80[]; // weak
extern __int16 word_1FDEF5C[]; // weak
extern __int16 word_1FDEF74[]; // weak
extern char byte_1FDEF76[]; // weak
extern char byte_1FDEF77[]; // weak
extern char byte_1FDEF78[]; // weak
extern char byte_1FDEF79[]; // weak
extern char byte_1FDEF7A[]; // weak
extern char byte_1FDEF7B[]; // weak
extern int dword_1FDEF7C[]; // weak
extern __int16 word_1FDEF80[]; // weak
extern __int16 word_1FDEF82[]; // weak
extern __int16 word_1FDEF84[]; // weak
extern char byte_1FDEF86[]; // weak
extern char byte_1FDEF87[]; // weak
extern char byte_1FDEF88[]; // weak
extern char byte_1FDEF89[]; // weak
extern char byte_1FDEF8A[]; // weak
extern char byte_1FDEF8B[]; // weak
extern char byte_1FDEF8C[]; // weak
extern char byte_1FDEF8D[]; // weak
extern char byte_1FDEF8E[]; // weak
extern char byte_1FDEF8F[]; // weak
extern char byte_1FDEF90[]; // weak
extern char byte_1FDEF91[]; // weak
extern char byte_1FDEF92[]; // weak
extern char byte_1FDEF93[]; // weak
extern int dword_1FDEF94[]; // weak
extern int dword_1FDEF98[]; // weak
extern int dword_1FDEFA8[]; // weak
extern int dword_1FDEFAC[]; // weak
extern _UNKNOWN unk_1FDEFB4; // weak
extern char byte_1FDF034[]; // weak
extern char byte_1FDF035[]; // weak
extern char byte_1FDF037[]; // weak
extern char byte_1FDF038[]; // weak
extern char byte_1FDF039[]; // weak
extern _UNKNOWN unk_1FDF03A; // weak
extern char byte_1FDF03D[]; // weak
extern char byte_1FDF03F[]; // weak
extern int dword_1FDF044[]; // weak
extern int dword_1FDF048[]; // weak
extern int dword_1FDF04C[]; // weak
extern __int16 word_1FDF050[]; // weak
extern int dword_1FDF06C[]; // weak
extern _UNKNOWN unk_1FDF070; // weak
extern _UNKNOWN unk_1FDF074; // weak
extern __int16 word_1FDF084[]; // weak
extern __int16 word_1FDF086[]; // weak
extern int dword_1FDF088[]; // weak
extern __int16 word_1FDF08C[]; // weak
extern __int16 word_1FDF094[]; // weak
extern __int16 word_1FDF096[]; // weak
extern __int16 word_1FDF098[]; // weak
extern char byte_1FDF09A[]; // weak
extern char byte_1FDF09B[]; // weak
extern __int16 word_1FDF09C[]; // weak
extern __int16 word_1FDF09E[]; // weak
extern __int16 word_1FDF0A4[]; // weak
extern __int16 word_1FDF0A6[]; // weak
extern __int16 word_1FDF0A8[]; // weak
extern __int16 word_1FDF0AA[]; // weak
extern int dword_1FDF0B0[]; // weak
extern _UNKNOWN unk_1FDF0B4; // weak
extern __int16 word_1FDF0C8[]; // weak
extern __int16 word_1FDF0CA[]; // weak
extern int dword_1FDF0E0[]; // weak
extern char byte_1FDF154[]; // weak
extern char byte_1FDF155[]; // weak
extern __int16 word_1FDF156[]; // weak
extern int dword_1FDF158[]; // weak
extern char byte_1FDF1CC[]; // weak
extern int dword_1FDF1D0[]; // weak
extern int dword_1FDF1D4[]; // weak
extern int dword_1FDF1D8[]; // weak
extern int dword_1FDF1DC[]; // weak
extern int dword_1FDF1E0[]; // weak
extern int dword_1FDF1E4[]; // weak
extern int dword_1FDF1E8[]; // weak
extern int dword_1FDF1EC[]; // weak
extern int dword_1FDF1F0[]; // weak
extern int dword_1FDF1F4[]; // weak
extern int dword_1FDF1F8[]; // weak
extern int dword_1FDF1FC[]; // weak
extern int dword_1FDF200[]; // weak
extern char byte_1FDF208[]; // weak
extern int dword_1FDF220[]; // weak
extern int dword_1FDF228[]; // weak
extern int dword_1FDF22C[]; // weak
extern int dword_1FDF230[]; // weak
extern int dword_1FDF234[]; // weak
extern int dword_1FDF238[]; // weak
extern int dword_1FDF24C[]; // weak
extern int dword_1FDF260[]; // weak
extern int dword_1FDF274[]; // weak
extern int dword_1FDF278[]; // weak
extern int dword_1FDF27C[]; // weak
extern __int16 word_1FDF280[]; // weak
extern __int16 word_1FDF282[]; // weak
extern __int16 word_1FDF288[]; // weak
extern __int16 word_1FDF28A[]; // weak
extern int dword_1FDF2A8[]; // weak
extern int dword_1FDF2B0[]; // weak
extern int dword_1FDF2B4[]; // weak
extern int dword_1FDF2B8[]; // weak
extern int dword_1FDF2BC[]; // weak
extern int dword_1FDF2C0[]; // weak
extern int dword_1FDF2C8[]; // weak
extern int dword_1FDF2CC[]; // weak
extern int dword_1FDF2D4[]; // weak
extern int dword_1FDF2D8[]; // weak
extern int dword_1FDF2DC[]; // weak
extern int dword_1FDF2E0[]; // weak
extern int dword_1FDF2E4[]; // weak
extern int dword_1FDF2E8[]; // weak
extern int dword_1FDF2EC[]; // weak
extern int dword_1FDF2F0[]; // weak
extern int dword_1FDF2F8[]; // weak
extern int dword_1FDF2FC[]; // weak
extern int dword_1FDF300[]; // weak
extern int dword_1FDF304[]; // weak
extern int dword_1FDF308[]; // weak
extern int dword_1FDF314[]; // weak
extern int dword_1FDF318[]; // weak
extern char byte_1FDF31C[]; // weak
extern char byte_1FDF334[]; // weak
extern char byte_1FDF335[]; // weak
extern int dword_1FDF338[]; // weak
extern int dword_1FDF33C[]; // weak
extern int dword_1FDF340[]; // weak
extern int dword_1FDF344[]; // weak
extern int dword_1FDF34C[]; // weak
extern __int16 word_1FDF350[]; // weak
extern int dword_1FDF354[]; // weak
extern int dword_1FDF358[]; // weak
extern _UNKNOWN unk_2625A00; // weak
extern _UNKNOWN unk_2EF0000; // weak
extern _UNKNOWN unk_2FAF080; // weak
extern SOCKET s; // idb
extern int dword_34EA4EC[]; // weak
extern SOCKET dword_34EA500; // idb
extern HWND hWnd; // idb
extern __int16 word_34EA550[]; // weak
extern _UNKNOWN unk_4000000; // weak
extern _UNKNOWN unk_5265C00; // weak
extern char byte_54EA550[]; // weak
extern _UNKNOWN unk_54EA558; // weak
extern _UNKNOWN unk_54EA84C; // weak
extern _UNKNOWN unk_54EAB40; // weak
extern _UNKNOWN unk_54EAE38; // weak
extern int dword_54EB278; // weak
extern _UNKNOWN unk_54EB288; // weak
extern char byte_54EB29C[]; // weak
extern __int16 word_54EB3E0; // weak
extern int dword_54EB494; // weak
extern _UNKNOWN unk_54EB638; // weak
extern _UNKNOWN unk_54EB92C; // weak
extern _UNKNOWN unk_54EBC20; // weak
extern _UNKNOWN unk_54EBF14; // weak
extern _UNKNOWN unk_54EC208; // weak
extern _UNKNOWN unk_54EC4FC; // weak
extern _UNKNOWN unk_54EC7F0; // weak
extern _UNKNOWN unk_54ECAE4; // weak
extern _UNKNOWN unk_54ECDD8; // weak
extern _UNKNOWN unk_54ED0CC; // weak
extern _UNKNOWN unk_54ED3C0; // weak
extern _UNKNOWN unk_54ED6B4; // weak
extern _UNKNOWN unk_54F2088; // weak
extern int dword_54F20D8; // weak
extern int dword_54F20DC; // weak
extern char byte_54F20E0; // weak
extern int dword_54F2100[]; // weak
extern __int16 word_54F2104[]; // weak
extern _UNKNOWN unk_54F2106; // weak
extern char byte_54F2107[]; // weak
extern char byte_54F2108[]; // weak
extern _UNKNOWN unk_54F2109; // weak
extern char byte_54F210A[]; // weak
extern char byte_54F210B[]; // weak
extern int dword_54F210C[]; // weak
extern int dword_54F2110[]; // weak
extern char byte_54F2980[]; // weak
extern char byte_54F2987[]; // weak
extern char byte_54F2988[]; // weak
extern char byte_54F29E8[]; // weak
extern _UNKNOWN unk_54F8108; // weak
extern char byte_54F8189; // weak
extern _UNKNOWN nPos; // weak
extern __int16 word_54F8194[]; // weak
extern _UNKNOWN unk_5F5E100; // weak
extern __int16 word_74F8198[]; // weak
extern __int16 word_74F819A[]; // weak
extern char byte_74F819C[]; // weak
extern char byte_74F819D[]; // weak
extern char byte_74F819E[]; // weak
extern char byte_74F819F[]; // weak
extern char byte_74F81A0[]; // weak
extern char byte_74F81A1[]; // weak
extern _UNKNOWN unk_74F81A2; // weak
extern _UNKNOWN unk_74F81AA; // weak
extern _UNKNOWN unk_74F81B2; // weak
extern _UNKNOWN unk_74F81BA; // weak
extern __int16 word_74F81C2[]; // weak
extern __int16 word_74F81C4[]; // weak
extern __int16 word_74F81C6[]; // weak
extern __int16 word_74F81C8[]; // weak
extern __int16 word_74F81CA[]; // weak
extern __int16 word_74F84D8; // weak
extern __int16 word_74F84DE; // weak
extern int dword_74F8668[]; // weak
extern int dword_74F866C; // weak
extern int dword_74F8670; // weak
extern int dword_74F8674; // weak
extern int dword_74F8678[]; // weak
extern int dword_74F868C; // weak
extern int dword_74F87F8[]; // weak
extern int dword_74F87FC[]; // weak
extern int dword_74F8800[]; // weak
extern int dword_74F8804[]; // weak
extern _WORD word_74F8898[640]; // idb
extern char byte_74F8D98[]; // weak
extern char byte_74F9198[]; // weak
extern int dword_74F91C0[]; // weak
extern int dword_74F91C4[]; // weak
extern _UNKNOWN unk_74F91C8; // weak
extern int dword_74F91D0[]; // weak
extern char byte_74F9260[]; // weak
extern int dword_74F9268[]; // weak
extern _UNKNOWN unk_74F92F0; // weak
extern __int16 word_74F9338[]; // weak
extern __int16 word_74F934C[]; // weak
extern __int16 word_750BA40[]; // weak
extern char byte_750BA42[]; // weak
extern char byte_750BA43[]; // weak
extern char byte_750BA44[]; // weak
extern char byte_750BA45[]; // weak
extern char byte_750BA46[]; // weak
extern char byte_750BA47[]; // weak
extern int dword_750BA68[]; // weak
extern int dword_750BA6C[]; // weak
extern __int64 qword_750BA88; // weak
extern int dword_750BA90[]; // weak
extern int dword_750BAB8[]; // weak
extern __int16 word_750BAC4[]; // weak
extern int dword_752BAC4[]; // weak
extern char byte_752BAD8[]; // weak
extern char byte_752BAD9[]; // weak
extern char byte_752BAE6[]; // weak
extern char byte_752BAE7[]; // weak
extern int dword_752BAE8[]; // weak
extern int dword_752BAEC[]; // weak
extern int dword_752BAF0[]; // weak
extern int dword_752BAF4[]; // weak
extern int dword_752BAF8[]; // weak
extern int dword_752BB04[]; // weak
extern _UNKNOWN unk_752BB28; // weak
extern int dword_752BB38[]; // weak
extern int dword_752BB3C[]; // weak
extern int dword_752BB40[]; // weak
extern int dword_752BB44[]; // weak
extern int dword_752BB48[]; // weak
extern int dword_752BF44[]; // weak
extern __int16 word_752BF48[]; // weak
extern _UNKNOWN unk_752BF4C; // weak
extern char byte_752BFD0[]; // weak
extern __int16 word_752BFE6[]; // weak
extern _UNKNOWN unk_752BFE8; // weak
extern char byte_752C06C[]; // weak
extern int dword_752C0AC[]; // weak
extern int dword_752C0B0[]; // weak
extern int dword_752C0B4[]; // weak
extern int dword_752C0B8[]; // weak
extern int dword_752C0BC[]; // weak
extern int dword_752C0C0[]; // weak
extern int dword_752C0C4[]; // weak
extern int dword_752C0C8[]; // weak
extern _UNKNOWN unk_752C0CC; // weak
extern char byte_752C0DC[]; // weak
extern __int16 word_752C11C[]; // weak
extern int dword_752C3A4[]; // weak
extern char byte_752C3B4[]; // weak
extern int dword_752C3C4[]; // weak
extern char byte_752C3C8[]; // weak
extern char byte_752C3CC[]; // weak
extern char byte_752C3E0[]; // weak
extern char byte_752C3E1[]; // weak
extern char byte_752C3E2[]; // weak
extern char byte_752C3E3[]; // weak
extern _UNKNOWN unk_752C3EC; // weak
extern int dword_752C3FC[]; // weak
extern int dword_752C400[]; // weak
extern int dword_752C404[]; // weak
extern int dword_752C408[]; // weak
extern int dword_752C40C[]; // weak
extern int dword_752C414[]; // weak
extern int dword_752C430[]; // weak
extern int dword_752C434[]; // weak
extern int dword_752C438[]; // weak
extern int dword_752C43C[]; // weak
extern int dword_752C440[]; // weak
extern int dword_752C444[]; // weak
extern int dword_752C448[]; // weak
extern int dword_752C44C[]; // weak
extern int dword_752C450[]; // weak
extern int dword_752C454[]; // weak
extern int dword_752C458[]; // weak
extern int dword_752C45C[]; // weak
extern int dword_752C460[]; // weak
extern int dword_752C464[]; // weak
extern int dword_752C468[]; // weak
extern int dword_752C46C[]; // weak
extern int dword_752C470[]; // weak
extern int dword_752C474[]; // weak
extern int dword_752C478[]; // weak
extern int dword_752C47C[]; // weak
extern int dword_752C480[]; // weak
extern int dword_752C484[]; // weak
extern int dword_752C488[]; // weak
extern char byte_752C48C[]; // weak
extern char byte_752C48D[]; // weak
extern char byte_752C48E[]; // weak
extern char byte_752C48F[]; // weak
extern char byte_752C490[]; // weak
extern char byte_752C491[]; // weak
extern char byte_752C492[]; // weak
extern char byte_752C493[]; // weak
extern char byte_752C494[]; // weak
extern char byte_752C495[]; // weak
extern char byte_752C496[]; // weak
extern char byte_752C497[]; // weak
extern char byte_752C498[]; // weak
extern char byte_752C499[]; // weak
extern char byte_752C49A[]; // weak
extern char byte_752C49B[]; // weak
extern int dword_752C49C[]; // weak
extern int dword_752C4A0[]; // weak
extern int dword_752C4A4[]; // weak
extern int dword_752C4A8[]; // weak
extern int dword_752C4AC[]; // weak
extern int dword_752C4B0[]; // weak
extern int dword_752C4B4[]; // weak
extern int dword_752C4B8[]; // weak
extern int dword_752C4BC[]; // weak
extern _UNKNOWN unk_752C4CC; // weak
extern int dword_752C500[]; // weak
extern int dword_752C504[]; // weak
extern int dword_752C568[]; // weak
extern int dword_752C56C[]; // weak
extern int dword_752C570[]; // weak
extern int dword_752C574[]; // weak
extern int dword_752C578[]; // weak
extern int dword_752C57C[]; // weak
extern int dword_752C580[]; // weak
extern int dword_752C584[]; // weak
extern int dword_752C588[]; // weak
extern int dword_752C58C[]; // weak
extern int dword_752C590[]; // weak
extern char byte_782F298[]; // weak
extern _UNKNOWN unk_7861F80; // weak
extern _UNKNOWN unk_8000000; // weak
extern int dword_882F298[]; // weak
extern int dword_882F3C4[]; // weak
extern int dword_882F4F0[]; // weak
extern int dword_882F4F4[]; // weak
extern char byte_882F516[]; // weak
extern char byte_882F517[]; // weak
extern const CHAR String; // idb
extern char byte_882F57C; // weak
extern char byte_882F57D; // weak
extern char byte_882F716; // weak
extern char byte_882F717; // weak
extern __int16 word_882F930[]; // weak
extern _UNKNOWN unk_884F930; // weak
extern _UNKNOWN unk_884F994; // weak
extern _UNKNOWN unk_884F9F8; // weak
extern _UNKNOWN unk_884FA5C; // weak
extern int dword_884FAC0[]; // weak
extern int dword_88634D0[]; // weak
extern int dword_88634D4; // weak
extern int dword_88634D8; // weak
extern int dword_88634DC; // weak
extern int dword_88634E0; // weak
extern int dword_88634E4; // weak
extern int dword_88634E8; // weak
extern int dword_88634EC; // weak
extern int dword_88634F0[]; // weak
extern __int16 word_8863698[]; // weak
extern char byte_886369A[]; // weak
extern char byte_886369B[]; // weak
extern char byte_886369C[]; // weak
extern char byte_886369D[]; // weak
extern char byte_886369E[]; // weak
extern char byte_886369F[]; // weak
extern int dword_88636A0[]; // weak
extern int dword_88636A4[]; // weak
extern int dword_88636A8[]; // weak
extern int dword_88636AC[]; // weak
extern int dword_88636B0[]; // weak
extern int dword_88636B4[]; // weak
extern int dword_88636B8[]; // weak
extern int dword_88636BC[]; // weak
extern int dword_88636C0[]; // weak
extern int dword_88636C4[]; // weak
extern int dword_88636C8[]; // weak
extern int dword_88B5EE8[]; // weak
extern char byte_88B5EEC[]; // weak
extern char byte_88B5EED[]; // weak
extern char byte_88B5EF6[]; // weak
extern char byte_88B5EF7[]; // weak
extern char byte_88B5EF8[]; // weak
extern char byte_88B5EF9[]; // weak
extern char byte_88B5F02[]; // weak
extern char byte_88B5F03[]; // weak
extern char byte_88B5F04[]; // weak
extern char byte_88B5F05[]; // weak
extern char byte_88B5F0E[]; // weak
extern char byte_88B5F0F[]; // weak
extern char byte_88B5F10[]; // weak
extern char byte_88B5F11[]; // weak
extern char byte_88B5F1A[]; // weak
extern char byte_88B5F1B[]; // weak
extern char byte_88B5F1C[]; // weak
extern char byte_88B5F1D[]; // weak
extern char byte_88B5F1E[]; // weak
extern int dword_88B5F20[]; // weak
extern int dword_8C75EE8; // weak
extern int dword_8C75EEC; // weak
extern char byte_8C75EF0[]; // weak
extern int dword_8C75EF8; // weak
extern int dword_8C75EFC; // weak
extern int dword_8C75F00; // weak
extern int dword_8C75F0C; // weak
extern int dword_8C75F10; // weak
extern int dword_8C75F14; // weak
extern int dword_8C75F18; // weak
extern int dword_8C75F1C; // weak
extern int dword_8C75F20[]; // weak
extern int dword_8C75F48; // weak
extern int dword_8C75F50; // weak
extern int dword_8C75F54; // weak
extern int dword_8C75F58; // weak
extern int dword_8C75F5C; // weak
extern int dword_8C75F60; // weak
extern int dword_8C75F64; // weak
extern int dword_8C75F68; // weak
extern int dword_8C75F6C; // weak
extern int dword_8C75F70; // weak
extern char byte_8C75F74[]; // weak
extern int dword_8C76154; // weak
extern int dword_8C76158; // weak
extern int dword_8C7615C; // weak
extern int dword_8C76160; // weak
extern __int64 qword_8C76168; // weak
extern int dword_8C76170; // weak
extern int dword_8C76174; // weak
extern int dword_8C76178; // weak
extern int dword_8C7617C; // weak
extern int dword_8C76180; // weak
extern int dword_8C76184; // weak
extern int dword_8C76188; // weak
extern int dword_8C7618C; // weak
extern int dword_8C76190; // weak
extern int dword_8C76194; // weak
extern int dword_8C76198; // weak
extern int dword_8C7619C; // weak
extern int dword_8C761A0; // weak
extern int dword_8C761A8; // weak
extern int dword_8C761AC; // weak
extern int dword_8C761B4; // weak
extern int dword_8C761B8; // weak
extern int dword_8C761BC; // weak
extern int dword_8C761C0; // weak
extern int dword_8C761C4; // weak
extern __int64 qword_8C761C8; // weak
extern __int64 qword_8C761D0; // weak
extern _WORD dword_8C761D8[6]; // idb
extern int dword_8C761E4; // weak
extern int dword_8C761E8; // weak
extern int dword_8C761EC; // weak
extern int dword_8C761F0; // weak
extern int dword_8C761F4; // weak
extern int dword_8C761F8; // weak
extern int dword_8C761FC; // weak
extern int dword_8C76200; // weak
extern int dword_8C76204; // weak
extern int dword_8C76208; // weak
extern int dword_8C7620C; // weak
extern int dword_8C76210; // weak
extern int dword_8C76214; // weak
extern int dword_8C76240[]; // weak
extern int dword_8C76254; // weak
extern int dword_8C76258[]; // weak
extern int dword_8C7625C; // weak
extern int dword_8C76260; // weak
extern int dword_8C76264; // weak
extern int dword_8C7626C; // weak
extern int dword_8C76270; // weak
extern int dword_8C76274; // weak
extern int dword_8C76278; // weak
extern int dword_8C76280; // weak
extern int dword_8C76284; // weak
extern int dword_8C76288; // weak
extern int dword_8C7628C[]; // weak
extern int dword_8C762A0; // weak
extern int dword_8C762A4; // weak
extern int dword_8C762A8; // weak
extern int dword_8C762AC; // weak
extern int dword_8C762B0; // weak
extern int dword_8C762B4; // weak
extern int dword_8C762BC; // weak
extern int dword_8C762C0; // weak
extern int dword_8C762C4; // weak
extern int dword_8C762C8; // weak
extern int dword_8C762D0; // weak
extern int dword_8C762D4; // weak
extern int dword_8C762D8; // weak
extern int dword_8C762DC; // weak
extern int dword_8C762E0; // weak
extern int dword_8C762E4; // weak
extern int dword_8C762E8; // weak
extern int dword_8C762EC[]; // weak
extern int dword_8C762F0; // weak
extern int dword_8C762F4; // weak
extern int dword_8C762F8[]; // weak
extern int dword_8C762FC; // weak
extern int dword_8C76300; // weak
extern int dword_8C76304; // weak
extern int dword_8C7630C; // weak
extern int dword_8C76310; // weak
extern int dword_8C76314; // weak
extern int dword_8C76318; // weak
extern int dword_8C7631C; // weak
extern int dword_8C76320; // weak
extern int dword_8C76328; // weak
extern int dword_8C7632C; // weak
extern int dword_8C76330; // weak
extern int dword_8C76340; // weak
extern int dword_8C76344; // weak
extern int dword_8C76348; // weak
extern int dword_8C7634C; // weak
extern int dword_8C76350; // weak
extern int dword_8C76354; // weak
extern char byte_8C76358; // weak
extern char byte_8C76359; // weak
extern char byte_8C7635A; // weak
extern char byte_8C7635B; // weak
extern char byte_8C7635C; // weak
extern char byte_8C7635D; // weak
extern char byte_8C7635E; // weak
extern char byte_8C7635F; // weak
extern HGDIOBJ h; // idb
extern int dword_8C76364; // weak
extern int dword_8C76368; // weak
extern int dword_8C7636C; // weak
extern int dword_8C76370; // weak
extern int dword_8C76374; // weak
extern int dword_8C76378; // weak
extern int dword_8C7637C; // weak
extern int dword_8C76380; // weak
extern char byte_8C76384; // weak
extern int dword_8C76388; // weak
extern int dword_8C7638C; // weak
extern int dword_8C76390; // weak
extern int dword_8C76394; // weak
extern __int16 word_8C76398[]; // weak
extern int dword_8C763A0[]; // weak
extern __int16 word_8C76418[]; // weak
extern __int16 word_8C76424[]; // weak
extern __int16 word_8C76434[]; // weak
extern char byte_8C76444[]; // weak
extern char byte_8C76445; // weak
extern char byte_8C76446; // weak
extern int dword_8C76448; // weak
extern char byte_8C7644C; // weak
extern char byte_8C7644D; // weak
extern char byte_8C7644E; // weak
extern char byte_8C7644F; // weak
extern char byte_8C76450; // weak
extern char byte_8C76451; // weak
extern char byte_8C76454[]; // weak
extern char byte_8C7645C[]; // weak
extern char byte_8C7645D; // weak
extern int dword_8C76460; // weak
extern int dword_8C76464; // weak
extern int dword_8C76468; // weak
extern int dword_8C7646C[]; // weak
extern int dword_8C76484; // weak
extern int dword_8C76488; // weak
extern int dword_8C7648C; // weak
extern int dword_8C76490; // weak
extern int dword_8C76494; // weak
extern int dword_8C7649C; // weak
extern int dword_8C764A0; // weak
extern int dword_8C764A4; // weak
extern int dword_8C764A8; // weak
extern int dword_8C764AC; // weak
extern int dword_8C764B0; // weak
extern int dword_8C764B4; // weak
extern int dword_8C764B8; // weak
extern int dword_8C764BC; // weak
extern int dword_8C764C0; // weak
extern int dword_8C764C4; // weak
extern int dword_8C764C8; // weak
extern int dword_8C764CC[]; // weak
extern int dword_8C76508[]; // weak
extern int dword_8C76514[]; // weak
extern int dword_8C76548; // weak
extern int dword_8C76560; // weak
extern int dword_8C76568; // weak
extern int dword_8C7656C; // weak
extern char byte_A64E574; // weak
extern int dword_A64E578; // weak
extern _DWORD dword_A64E580[336567]; // idb
extern _UNKNOWN unk_A797060; // weak
extern _DWORD dword_A797070[336567]; // idb
extern int dword_A8DFB4C; // weak
extern int dword_A8DFB50; // weak
extern int dword_A8DFB54; // weak
extern int dword_A8DFB58; // weak
extern int dword_A8DFB5C; // weak
extern int dword_A8DFB60; // weak
extern int dword_A8DFB64; // weak
extern int dword_A8DFB68; // weak
extern int dword_A8DFB6C; // weak
extern int dword_A8DFB70; // weak
extern int dword_A8DFB74; // weak
extern int dword_A8DFB78; // weak
extern int dword_A8DFB7C; // weak
extern int dword_A8DFB80; // weak
extern int dword_A8DFB84; // weak
extern int dword_A8DFB88; // weak
extern int dword_A8DFB8C; // weak
extern int dword_A8DFB90; // weak
extern int dword_A8DFB94; // weak
extern HMODULE hModule; // idb
extern volatile LONG dword_A8DFB9C; // idb
extern struct _RTL_CRITICAL_SECTION CriticalSection; // idb
extern volatile LONG Addend; // idb
extern int (__cdecl *dword_A8DFBBC)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *dword_A8DFBC0)(_DWORD); // weak
extern _DWORD dword_A8DFBC4; // idb
extern int (__stdcall *dword_A8DFBC8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern _DWORD dword_A8DFBCC; // idb
extern int (__fastcall *dword_A8DFBD0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (*dword_A8DFBD4)(void); // weak
extern int (__stdcall *dword_A8DFBD8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *dword_A8DFBDC)(_DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *dword_A8DFBE0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *dword_A8DFBE4)(_DWORD); // weak
extern int (__stdcall *dword_A8DFBE8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (__stdcall *dword_A8DFBEC)(_DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int dword_A8DFBF0; // weak
extern _UNKNOWN dword_A8DFBF4; // weak
extern int dword_A969A28; // weak
extern int dword_A969A2C; // weak
extern int dword_A969A30; // weak
extern int dword_A969A34; // weak
extern int dword_A969A38; // weak
extern int dword_A969A3C; // weak
extern int dword_A969A40; // weak
extern int dword_A969A48; // weak
extern int dword_A969A50; // weak
extern __int64 qword_A969A54; // weak
extern int dword_A969A5C; // weak
extern int dword_A969A60; // weak
extern int dword_A969A64; // weak
extern int dword_A969A68; // weak
extern int dword_A969A6C; // weak
extern int dword_A969A70; // weak
extern int dword_A969A74; // weak
extern int dword_A969A78; // weak
extern int dword_A969A7C; // weak
extern int dword_A969A80; // weak
extern int dword_A969A88; // weak
extern int dword_A969A8C; // weak
extern int dword_A969A90; // weak
extern int dword_A969A98; // weak
extern char byte_A969AA0; // weak
extern int dword_A969AA4; // weak
extern int dword_A969AA8; // weak
extern int dword_A969AAC; // weak
extern int (*dword_A969AB0)(_DWORD, const char *, ...); // weak
extern int dword_A969AB4; // weak
extern int dword_A969AB8; // weak
extern int dword_A969AC0; // weak
extern int dword_A969AC4; // weak
extern int dword_A969AC8; // weak
extern char byte_A969ACC; // weak
extern int dword_A969AD0; // weak
extern char byte_A969AD4; // weak
extern int dword_A969AD8[]; // weak
extern int dword_A969AE0; // idb
extern int dword_A969AE4; // weak
extern int dword_A969AE8; // weak
extern int dword_A969AEC; // weak
extern int (__cdecl *dword_A969AF0)(_DWORD, _DWORD); // weak
extern int (*dword_A969AF4)(void); // weak
extern int dword_A969AF8; // weak
extern int dword_A969AFC; // weak
extern _UNKNOWN unk_A969B00; // weak
extern LCID dword_A969B08; // idb
extern UINT dword_A969B18; // idb
extern int dword_A969B20; // weak
extern struct _TIME_ZONE_INFORMATION TimeZoneInformation; // idb
extern int dword_A969BD4; // weak
extern int dword_A969BD8; // weak
extern _DWORD dword_A969BE0[12]; // idb
extern double dbl_A969C10; // weak
extern char byte_A969C18; // weak
extern int dword_A969C1C; // weak
extern int dword_A969C20; // weak
extern int dword_A969C24; // weak
extern int dword_A969C28; // weak
extern int (__stdcall *dword_A969C30)(_DWORD, _DWORD, _DWORD, _DWORD); // weak
extern int (*dword_A969C34)(void); // weak
extern int (__stdcall *dword_A969C38)(_DWORD); // weak
extern int dword_A969C3C; // weak
extern char Filename[260]; // idb
extern int dword_A969D44; // weak
extern int (*dword_A969D48)(void); // weak
extern int dword_A969D4C; // weak
extern int dword_A969D50; // weak
extern __int16 word_A969D58; // weak
extern char byte_A969D5A; // weak
extern _UNKNOWN unk_A969D5C; // weak
extern int dword_A969D78; // weak
extern int dword_A969D7C; // weak
extern int dword_A969D80; // weak
extern int dword_A969D84; // weak
extern LPTOP_LEVEL_EXCEPTION_FILTER lpTopLevelExceptionFilter; // idb
extern int dword_A969D8C; // weak
extern char byte_A969D90; // weak
extern int dword_A969DA0[]; // weak
extern UINT uNumber; // idb
extern int dword_A969EE0; // weak
extern int dword_A969EF0; // weak
extern int dword_A969EF4; // weak
extern int dword_A969EF8; // weak
extern int dword_A969EFC; // weak
extern LPVOID lpMem; // idb
extern HANDLE hHeap; // idb
extern UINT CodePage; // idb
extern __int16 word_A969F90[]; // weak
extern int dword_A969F9C; // weak
extern char byte_A969FA0[]; // weak
extern char byte_A96A0A0[]; // weak
extern char byte_A96A0A1[]; // weak
extern LCID Locale; // idb
extern int dword_A96A1A8; // weak
extern int dword_A96A1B4; // weak
extern int dword_A96B500; // weak
extern int (__cdecl *dword_A96B504)(_DWORD, _DWORD, _DWORD); // weak
extern int dword_A96B510; // weak
extern int dword_A96B520; // weak
extern int dword_A96B524; // weak
extern int dword_A96B528; // weak
extern int dword_A96B52C; // weak
extern int dword_A96B53C; // weak
extern int (__cdecl *dword_A96B540)(_DWORD, _DWORD); // weak
extern char byte_A96B54C; // weak

//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

_DWORD __stdcall sub_401005(_DWORD, _DWORD); // weak
int __cdecl sub_40100A(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_40100F(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401023(_DWORD, _DWORD); // weak
int sub_401028(void); // weak
_DWORD __stdcall sub_40102D(_DWORD); // weak
_DWORD __cdecl sub_401032(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401037(_DWORD, char); // weak
_DWORD __cdecl sub_40103C(_DWORD); // weak
_DWORD __stdcall sub_401046(_DWORD); // weak
int __thiscall sub_40104B(_DWORD); // weak
_DWORD __stdcall sub_401050(_DWORD); // weak
int sub_40105A(void); // weak
_DWORD __cdecl sub_40105F(_DWORD); // weak
int __thiscall sub_401064(_DWORD); // weak
_DWORD __cdecl sub_401069(_DWORD); // weak
_DWORD __cdecl sub_401073(_DWORD); // weak
_DWORD __cdecl sub_401078(_DWORD); // weak
_DWORD __cdecl sub_40107D(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401087(_DWORD, char); // weak
_DWORD __cdecl sub_40108C(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401091(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401096(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_40109B(_DWORD); // weak
_DWORD __cdecl sub_4010A5(_DWORD); // weak
int sub_4010AA(); // weak
_DWORD __cdecl sub_4010AF(HINSTANCE hInstance, _DWORD nCmdShow); // weak
int sub_4010B4(void); // weak
_DWORD __stdcall sub_4010B9(_DWORD); // weak
_DWORD __cdecl sub_4010C8(_DWORD); // weak
int sub_4010CD(void); // weak
_DWORD __cdecl sub_4010D7(_DWORD); // weak
_DWORD __stdcall sub_4010E1(_DWORD); // weak
int sub_4010E6(void); // weak
_DWORD __cdecl sub_4010EB(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4010F0(_DWORD, _DWORD); // weak
int sub_4010F5(void); // weak
_DWORD __cdecl sub_4010FF(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401104(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401109(_DWORD, _DWORD, _DWORD); // weak
int sub_40110E(void); // weak
int sub_401113(void); // weak
int __thiscall sub_401127(_DWORD); // weak
_DWORD __cdecl sub_40112C(_DWORD, u_long hostlong); // weak
_DWORD __cdecl sub_401131(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_40113B(_DWORD, _DWORD); // weak
int sub_401145(); // weak
int sub_40114A(void); // weak
_DWORD __cdecl sub_40114F(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401154(_DWORD); // weak
_DWORD __cdecl sub_40115E(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401163(_DWORD, char, char); // weak
_DWORD __stdcall sub_401168(_DWORD); // weak
int __thiscall sub_40116D(_DWORD); // weak
int sub_401172(void); // weak
_DWORD __cdecl sub_401177(_DWORD, _DWORD, _DWORD); // weak
_DWORD __stdcall sub_40117C(__int16); // weak
_DWORD __cdecl sub_401181(_DWORD, _DWORD); // weak
int sub_40118B(void); // weak
int sub_401190(void); // weak
int sub_401195(void); // weak
_DWORD __stdcall sub_40119F(_DWORD, _DWORD, _DWORD); // weak
_DWORD __stdcall sub_4011A4(_DWORD); // weak
_DWORD __cdecl sub_4011A9(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4011AE(_DWORD); // weak
_DWORD __cdecl sub_4011B3(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4011BD(_DWORD); // weak
int sub_4011C2(void); // weak
_DWORD __cdecl sub_4011C7(_DWORD); // weak
_DWORD __cdecl sub_4011CC(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4011D1(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4011D6(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __stdcall sub_4011DB(__int16); // weak
_DWORD __cdecl sub_4011E0(_DWORD); // weak
int sub_4011EF(void); // weak
_DWORD __cdecl sub_4011F4(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_4011F9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int sub_4011FE(void); // weak
_DWORD __stdcall sub_401203(_DWORD, _DWORD); // weak
int sub_401208(void); // weak
_DWORD __cdecl sub_40120D(_DWORD); // weak
int sub_401212(void); // weak
_DWORD __cdecl sub_401217(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __stdcall sub_40121C(_DWORD); // weak
_DWORD __cdecl sub_401221(_DWORD); // weak
_DWORD __stdcall sub_40122B(_DWORD); // weak
_DWORD __cdecl sub_401230(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __stdcall sub_401244(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401253(_DWORD); // weak
_DWORD __cdecl sub_401258(_DWORD); // weak
int sub_401262(void); // weak
_DWORD __stdcall sub_401271(_DWORD); // weak
int __thiscall sub_401276(_DWORD); // weak
_DWORD __stdcall sub_40127B(_DWORD); // weak
int sub_401280(); // weak
_DWORD __stdcall sub_401285(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_40128F(_DWORD, char); // weak
int __cdecl sub_4012A8(_DWORD, _DWORD); // weak
int __thiscall sub_4012AD(_DWORD); // weak
_DWORD __stdcall sub_4012B2(char *cp, u_short hostshort, _DWORD, u_int wMsg); // weak
_DWORD __cdecl sub_4012B7(_DWORD); // weak
_DWORD __cdecl sub_4012BC(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_4012C1(_DWORD); // weak
_DWORD __cdecl sub_4012C6(_DWORD); // weak
_DWORD __stdcall sub_4012D0(_DWORD); // weak
_DWORD __stdcall sub_4012D5(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4012DA(_DWORD); // weak
int sub_4012E9(); // weak
int sub_4012F8(void); // weak
int __thiscall sub_4012FD(_DWORD); // weak
_DWORD __cdecl sub_401302(_DWORD); // weak
int sub_401307(void); // weak
_DWORD __cdecl SendDamage(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __stdcall sub_401311(_DWORD, _DWORD, _DWORD, _DWORD); // weak
int sub_401316(void); // weak
_DWORD __cdecl sub_401320(_DWORD); // weak
_DWORD __stdcall sub_40132A(_DWORD, _DWORD); // weak
_DWORD __stdcall sub_40132F(_DWORD); // weak
_DWORD __cdecl sub_401339(_DWORD, __int16, __int16, _DWORD); // weak
_DWORD __cdecl sub_401348(_DWORD); // weak
int sub_40134D(); // weak
_DWORD __cdecl sub_401352(_DWORD); // weak
_DWORD __cdecl sub_401357(_DWORD); // weak
_DWORD __cdecl sub_40135C(_DWORD); // weak
int sub_401366(void); // weak
_DWORD __cdecl sub_401375(_DWORD, _DWORD); // weak
int __thiscall sub_40137A(_DWORD); // weak
int sub_401389(void); // weak
_DWORD __cdecl sub_401393(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401398(_DWORD); // weak
_DWORD __cdecl sub_4013A7(_DWORD); // weak
int sub_4013AC(void); // weak
int sub_4013B1(void); // weak
int sub_4013B6(void); // weak
_DWORD __cdecl sub_4013BB(_DWORD); // weak
_DWORD __cdecl sub_4013C0(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4013C5(_DWORD, LPCSTR lpText); // weak
int __thiscall sub_4013CA(_DWORD); // weak
_DWORD __cdecl sub_4013CF(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4013D4(_DWORD); // weak
_DWORD __cdecl sub_4013D9(_DWORD); // weak
int sub_4013DE(void); // weak
_DWORD __cdecl sub_4013E3(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_4013E8(_DWORD, _DWORD); // weak
_DWORD __stdcall sub_4013ED(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_4013F2(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401401(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401406(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_40140B(_DWORD); // weak
int __thiscall sub_401410(_DWORD); // weak
int __thiscall sub_40141A(_DWORD); // weak
int sub_40141F(void); // weak
_DWORD __cdecl sub_401424(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401429(_DWORD); // weak
_DWORD __cdecl sub_40142E(_DWORD); // weak
_DWORD __cdecl sub_401433(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401438(_DWORD, _DWORD); // weak
int sub_40143D(void); // weak
_DWORD __cdecl sub_401442(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401447(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_40144C(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_40145B(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __thiscall sub_401465(_DWORD); // weak
_DWORD __cdecl sub_40146A(_DWORD); // weak
_DWORD __stdcall sub_40146F(char); // weak
_DWORD __stdcall sub_401474(_DWORD); // weak
_DWORD __cdecl sub_401479(_DWORD); // weak
_DWORD __cdecl sub_40147E(_DWORD); // weak
_DWORD __cdecl sub_401483(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401488(_DWORD, _DWORD); // weak
int __cdecl sub_401492(_DWORD); // weak
_DWORD __cdecl sub_401497(_DWORD); // weak
int sub_40149C(); // weak
int sub_4014A1(void); // weak
int sub_4014AB(); // weak
_DWORD __cdecl sub_4014B0(_DWORD, _DWORD); // weak
int sub_4014B5(void); // weak
_DWORD __cdecl sub_4014BA(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_4014BF(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_4014C4(_DWORD, _DWORD); // weak
int __thiscall sub_4014C9(_DWORD); // weak
int __thiscall sub_4014CE(_DWORD); // weak
_DWORD __cdecl sub_4014E2(_DWORD); // weak
int __thiscall sub_4014E7(_DWORD); // weak
_DWORD __cdecl sub_4014EC(HINSTANCE hInstance); // weak
_DWORD __cdecl sub_4014F1(_DWORD); // weak
_DWORD __cdecl sub_4014F6(_DWORD); // weak
_DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl SendEtc(_DWORD); // weak
_DWORD __cdecl sub_401505(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_40150F(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401514(_DWORD); // weak
int __cdecl sub_401519(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_40151E(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401523(_DWORD); // weak
_DWORD __cdecl sub_401528(_DWORD); // weak
int sub_40152D(); // weak
_DWORD __cdecl sub_401532(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401537(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_40153C(_DWORD); // weak
int sub_401546(void); // weak
int __thiscall sub_40154B(_DWORD); // weak
_DWORD __cdecl sub_401550(_DWORD, _DWORD); // weak
_DWORD __stdcall sub_401555(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_40155F(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401564(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401569(_DWORD, _DWORD); // weak
int sub_401573(void); // weak
_DWORD __cdecl sub_401578(_DWORD); // weak
int sub_40157D(void); // weak
int __thiscall sub_401582(_DWORD); // weak
int __thiscall sub_40159B(_DWORD); // weak
_DWORD __cdecl sub_4015A5(_DWORD); // weak
_DWORD __stdcall sub_4015AA(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_4015AF(_DWORD); // weak
int sub_4015B4(void); // weak
int __thiscall sub_4015BE(_DWORD); // weak
_DWORD __cdecl sub_4015CD(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_4015D2(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl Log(_DWORD, _DWORD, _DWORD); // weak
_DWORD __stdcall sub_4015DC(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4015E6(_DWORD, _DWORD); // weak
int sub_4015EB(void); // weak
_DWORD __cdecl sub_4015F5(_DWORD); // weak
_DWORD __cdecl sub_4015FA(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD); // weak
int sub_401604(void); // weak
int sub_40160E(void); // weak
int sub_401613(void); // weak
int sub_40161D(void); // weak
_DWORD __stdcall sub_401622(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401627(_DWORD); // weak
_DWORD __cdecl sub_40162C(_DWORD); // weak
_DWORD __stdcall sub_401631(_DWORD, _DWORD, _DWORD); // weak
int sub_401636(void); // weak
int __thiscall sub_401640(_DWORD); // weak
int sub_401645(void); // weak
int __thiscall sub_40164A(_DWORD); // weak
_DWORD __cdecl sub_40164F(_DWORD); // weak
int __thiscall sub_401654(_DWORD); // weak
_DWORD __cdecl sub_401659(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401663(_DWORD, __int16, __int16); // weak
_DWORD __cdecl sub_401668(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401672(_DWORD); // weak
_DWORD __stdcall sub_401677(_DWORD, _DWORD, _DWORD); // weak
int sub_40167C(void); // weak
_DWORD __stdcall sub_401686(char *cp, u_short hostshort, _DWORD, u_int wMsg); // weak
int sub_401690(void); // weak
_DWORD __cdecl sub_40169A(_DWORD, _DWORD); // weak
int __thiscall sub_4016A4(_DWORD); // weak
_DWORD __cdecl sub_4016A9(_DWORD); // weak
_DWORD __cdecl sub_4016AE(_DWORD, _DWORD, char); // weak
_DWORD __cdecl sub_4016B8(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4016BD(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4016CC(_DWORD); // weak
_DWORD __cdecl sub_4016D1(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_4016D6(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __stdcall sub_4016DB(_DWORD); // weak
_DWORD __cdecl sub_4016E5(_DWORD); // weak
_DWORD __cdecl sub_4016EA(_DWORD, _DWORD, _DWORD, _DWORD, char, _DWORD); // weak
_DWORD __stdcall sub_4016EF(_DWORD); // weak
_DWORD __stdcall sub_4016F4(char *cp, u_short hostshort, _DWORD, u_int wMsg); // weak
_DWORD __cdecl sub_4016FE(_DWORD, _DWORD); // weak
int sub_401703(void); // weak
int sub_401708(void); // weak
_DWORD __cdecl sub_401712(_DWORD, _DWORD); // weak
int sub_401721(void); // weak
_DWORD __cdecl sub_40172B(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401730(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_40173A(_DWORD); // weak
_DWORD __cdecl sub_40173F(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401744(_DWORD, _DWORD, _DWORD); // weak
int __fastcall sub_401749(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_40174E(_DWORD, char); // weak
_DWORD __cdecl sub_401753(_DWORD); // weak
_DWORD __cdecl sub_40175D(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_40176C(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401776(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_40177B(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401780(_DWORD); // weak
_DWORD __stdcall sub_40178A(_DWORD); // weak
_DWORD __cdecl sub_40178F(_DWORD); // weak
int __thiscall sub_401794(_DWORD); // weak
int __thiscall sub_401799(_DWORD); // weak
_DWORD __cdecl sub_40179E(_DWORD, _DWORD); // weak
_DWORD __stdcall sub_4017A3(_DWORD); // weak
_DWORD __cdecl sub_4017AD(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4017B2(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4017C1(_DWORD); // weak
int __thiscall sub_4017C6(_DWORD); // weak
_DWORD __stdcall sub_4017CB(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __stdcall sub_4017D5(_DWORD, _DWORD); // weak
int __thiscall sub_4017DA(_DWORD); // weak
_DWORD __cdecl sub_4017E4(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4017E9(_DWORD, _DWORD); // weak
int __thiscall sub_4017F3(_DWORD); // weak
int sub_4017F8(void); // weak
int __thiscall sub_4017FD(_DWORD); // weak
_DWORD __cdecl sub_401807(_DWORD); // weak
int sub_40180C(void); // weak
_DWORD __cdecl sub_401811(_DWORD); // weak
_DWORD __cdecl sub_40181B(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_40182F(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401834(_DWORD, _DWORD); // weak
int sub_401839(void); // weak
int __thiscall sub_40183E(_DWORD); // weak
_DWORD __cdecl sub_401843(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __stdcall sub_401848(_DWORD); // weak
_DWORD __stdcall sub_40184D(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401857(_DWORD, _DWORD); // weak
int sub_40185C(void); // weak
_DWORD __cdecl sub_401861(_DWORD); // weak
_DWORD __cdecl sub_401866(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_40186B(_DWORD); // weak
_DWORD __cdecl sub_401870(_DWORD); // weak
_DWORD __cdecl sub_401875(_DWORD); // weak
_DWORD __cdecl sub_40187F(_DWORD, char); // weak
_DWORD __cdecl sub_401884(_DWORD, __int16, _DWORD, _DWORD); // weak
int sub_401889(void); // weak
_DWORD __stdcall sub_401898(_DWORD, _DWORD); // weak
_DWORD __stdcall sub_4018A2(_DWORD, char); // weak
_DWORD __cdecl sub_4018A7(_DWORD); // weak
_DWORD __cdecl sub_4018AC(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_4018B1(_DWORD); // weak
_DWORD __cdecl sub_4018B6(_DWORD); // weak
_DWORD __cdecl sub_4018BB(_DWORD); // weak
_DWORD __cdecl sub_4018C5(_DWORD); // weak
_DWORD __cdecl sub_4018CA(_DWORD, _DWORD); // weak
int __thiscall sub_4018D4(_DWORD); // weak
_DWORD __cdecl sub_4018D9(_DWORD); // weak
_DWORD __cdecl sub_4018DE(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl SendEnvEffect(_DWORD, _DWORD, _DWORD, _DWORD, __int16, __int16); // weak
int __thiscall sub_4018ED(_DWORD); // weak
_DWORD __cdecl sub_4018F7(_DWORD); // weak
_DWORD __cdecl sub_4018FC(_DWORD); // weak
_DWORD __cdecl sub_401906(_DWORD, _DWORD); // weak
int __thiscall sub_40190B(_DWORD); // weak
_DWORD __cdecl sub_401910(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401915(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_40191A(_DWORD); // weak
_DWORD __cdecl sub_40191F(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401929(_DWORD); // weak
_DWORD __cdecl sub_40192E(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int sub_401933(void); // weak
_DWORD __cdecl sub_401938(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __thiscall sub_40193D(_DWORD); // weak
_DWORD __stdcall sub_401947(HWND hWnd, _DWORD, u_short hostshort, u_int wMsg); // weak
_DWORD __cdecl sub_401951(_DWORD); // weak
int sub_401956(void); // weak
_DWORD __cdecl SetAffect(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD); // weak
_DWORD __cdecl sub_401965(_DWORD); // weak
_DWORD __cdecl sub_401974(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401979(_DWORD, _DWORD, u_long hostlong, _DWORD); // weak
_DWORD __cdecl sub_401983(_DWORD, _DWORD); // weak
int sub_401988(void); // weak
_DWORD __cdecl sub_40198D(_DWORD, char); // weak
_DWORD __cdecl sub_401992(_DWORD); // weak
_DWORD __cdecl sub_40199C(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4019A1(_DWORD, __int16, __int16, _DWORD, _DWORD, _DWORD); // weak
_DWORD __stdcall sub_4019A6(_DWORD, _DWORD); // weak
int sub_4019B0(void); // weak
int sub_4019B5(void); // weak
_DWORD __stdcall sub_4019BA(_DWORD, _DWORD); // weak
int sub_4019C9(void); // weak
_DWORD __cdecl sub_4019CE(_DWORD, _DWORD, _DWORD); // weak
int sub_4019D3(void); // weak
_DWORD __cdecl sub_4019D8(_DWORD, _DWORD); // weak
_DWORD __stdcall sub_4019DD(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4019E7(_DWORD); // weak
int __thiscall sub_4019EC(_DWORD); // weak
int sub_4019F1(void); // weak
_DWORD __cdecl sub_4019F6(_DWORD, _DWORD, _DWORD); // weak
int __thiscall sub_4019FB(_DWORD); // weak
_DWORD __cdecl sub_401A00(_DWORD, _DWORD, _DWORD); // weak
_DWORD __stdcall sub_401A05(_DWORD); // weak
int __thiscall sub_401A0A(_DWORD); // weak
_DWORD __cdecl sub_401A0F(_DWORD); // weak
_DWORD __cdecl sub_401A14(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401A1E(_DWORD); // weak
int __thiscall sub_401A23(_DWORD); // weak
_DWORD __cdecl sub_401A2D(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401A37(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401A3C(_DWORD); // weak
_DWORD __cdecl sub_401A46(_DWORD); // weak
_DWORD __cdecl sub_401A4B(_DWORD); // weak
int sub_401A50(void); // weak
_DWORD __cdecl sub_401A55(char, _DWORD); // weak
_DWORD __cdecl sub_401A5A(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401A69(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401A6E(_DWORD, _DWORD); // weak
int sub_401A73(void); // weak
_DWORD __cdecl sub_401A78(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401A7D(_DWORD); // weak
_DWORD __cdecl sub_401A82(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401A87(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401A8C(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401A91(_DWORD); // weak
_DWORD __stdcall sub_401A96(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401AA5(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401AAA(_DWORD, _DWORD, _DWORD); // weak
_DWORD __stdcall sub_401AAF(_DWORD); // weak
_DWORD __cdecl sub_401AB4(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401AB9(_DWORD); // weak
int __cdecl sub_401ABE(_DWORD); // weak
_DWORD __cdecl sub_401AC3(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401ACD(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401AD7(_DWORD); // weak
_DWORD __cdecl sub_401ADC(_DWORD, _DWORD); // weak
_DWORD __stdcall sub_401AE1(_DWORD); // weak
int __thiscall sub_401AEB(_DWORD); // weak
int sub_401AFA(void); // weak
_DWORD __cdecl sub_401B13(_DWORD, _DWORD, _DWORD, _DWORD); // weak
int __thiscall sub_401B18(_DWORD); // weak
_DWORD __cdecl sub_401B1D(_DWORD, _DWORD); // weak
int sub_401B22(void); // weak
_DWORD __cdecl sub_401B27(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401B2C(_DWORD, _DWORD); // weak
_DWORD __stdcall sub_401B36(_DWORD); // weak
_DWORD __stdcall sub_401B40(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401B45(_DWORD, __int16, __int16); // weak
int sub_401B4A(void); // weak
_DWORD __cdecl sub_401B5E(_DWORD); // weak
_DWORD __cdecl sub_401B63(_DWORD, _DWORD); // weak
int __thiscall sub_401B68(_DWORD); // weak
int sub_401B72(void); // weak
_DWORD __stdcall sub_401B77(_DWORD); // weak
_DWORD __cdecl sub_401B81(_DWORD, _DWORD, _DWORD); // weak
int sub_401B86(void); // weak
_DWORD __cdecl sub_401B90(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401B95(_DWORD, _DWORD); // weak
int sub_401B9A(void); // weak
_DWORD __cdecl sub_401B9F(_DWORD, _DWORD); // weak
int sub_401BA4(void); // weak
_DWORD __stdcall sub_401BA9(_DWORD); // weak
_DWORD __cdecl sub_401BB3(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401BB8(_DWORD, _DWORD, _DWORD); // weak
int sub_401BBD(void); // weak
_DWORD __cdecl sub_401BC2(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __thiscall sub_401BC7(_DWORD); // weak
int sub_401BD6(void); // weak
int sub_401BDB(void); // weak
int __thiscall sub_401BE5(_DWORD); // weak
int sub_401BEA(void); // weak
int sub_401BF4(void); // weak
int sub_401BF9(void); // weak
_DWORD __cdecl sub_401BFE(_DWORD); // weak
_DWORD __cdecl sub_401C03(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401C08(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401C12(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401C17(_DWORD); // weak
_DWORD __cdecl sub_401C1C(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401C21(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401C26(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401C2B(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401C35(_DWORD); // weak
_DWORD __cdecl sub_401C44(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401C49(_DWORD); // weak
int __thiscall sub_401C4E(_DWORD); // weak
_DWORD __cdecl sub_401C53(_DWORD, _DWORD); // weak
_DWORD __stdcall sub_401C58(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401C5D(_DWORD, _DWORD, _DWORD, _DWORD); // weak
int sub_401C62(void); // weak
_DWORD __cdecl sub_401C6C(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401C71(_DWORD); // weak
_DWORD __cdecl sub_401C76(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401C7B(_DWORD); // weak
int sub_401C80(void); // weak
_DWORD __cdecl sub_401C85(_DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_401C8A(_DWORD, _DWORD); // weak
int sub_401C8F(void); // weak
_DWORD __cdecl sub_401C9E(_DWORD, _DWORD, _DWORD, _DWORD); // weak
int sub_401CA8(void); // weak
_DWORD __cdecl sub_401CAD(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_401CB2(_DWORD); // weak
signed int __cdecl sub_402980();
// int __usercall sub_4029B0<eax>(int a1<ebx>, int a2<esi>);
signed int __cdecl sub_402D30(int a1, signed int a2);
int __cdecl sub_402DC0(int a1, signed int a2);
int __cdecl sub_402E40(int a1, signed int a2);
int __cdecl sub_402ED0(int a1, signed int a2);
int __cdecl sub_403480(int a1, int a2);
int __cdecl sub_403740(int a1, int a2, int a3);
int __cdecl sub_403EF0(int a1, int a2);
int __cdecl sub_404060(int a1, int a2);
int __cdecl sub_4040F0(int a1, int a2);
int __cdecl sub_404260(int a1);
int __cdecl sub_4042D0(int a1, signed int a2, signed int a3);
// int __usercall sub_404400<eax>(int a1<ebx>, int a2<esi>, int a3, signed int a4);
// int __usercall sub_404480<eax>(int a1<ebx>, int a2<esi>, int a3, signed int a4);
int __cdecl sub_404BF0(int a1, signed int a2, signed int a3);
// int __usercall sub_404D10<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_404E70<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
int __cdecl sub_4057D0(int a1, char a2);
int __cdecl sub_4063D0(int a1, unsigned __int8 a2);
int __cdecl sub_406D80(int a1, unsigned __int8 a2);
char __cdecl sub_407490(int a1, signed int a2);
int __cdecl sub_4077B0(int a1);
int __cdecl sub_407A50(int a1);
int __cdecl sub_407C90(int a1);
int __cdecl sub_407EC0(int a1, int a2);
int __cdecl sub_408080(int a1);
signed int __cdecl sub_408100(int a1, signed int a2, signed int a3);
int __cdecl sub_408380(int a1);
char __cdecl sub_408430(int a1, char a2);
int __cdecl sub_408620(int a1, int a2);
int __cdecl sub_4087B0(int a1, int a2, int a3, signed int a4);
int __cdecl sub_4088A0(int a1, char a2);
int __cdecl sub_408D60(int a1, char a2);
int __cdecl sub_408F00(int a1);
int __cdecl sub_409000(int a1);
int __cdecl sub_409310();
int __cdecl sub_4093B0(int a1, int a2);
// int __usercall sub_4094D0<eax>(int a1<ebx>);
int __cdecl sub_409650(int a1);
int __cdecl sub_409830(int a1, int a2, int a3, int a4, int a5, signed int a6, signed int a7, int a8, signed int a9, int a10);
signed int __cdecl sub_40CF50(int a1, int a2);
int __cdecl sub_40D000(int a1);
int __cdecl sub_40D140(signed int a1);
signed int __cdecl sub_40D1B0(int a1, int a2);
signed int __cdecl sub_40D310(int a1, int a2);
int __cdecl sub_40D420(int a1);
int __cdecl sub_40D490(int a1, int a2, int a3, signed int a4, int a5, signed int a6, int a7);
bool __cdecl sub_40DA70(int a1, signed int a2);
int __cdecl sub_40DB10(int a1, int a2, int a3, int a4);
int __cdecl sub_40DE90(void *a1, char a2);
int __cdecl sub_40E070(void *a1, const void *a2, int a3, const void *a4);
// int __usercall sub_40E230<eax>(int a1<ebx>, int a2<esi>, const CHAR *a3);
// int __usercall sub_40E580<eax>(int a1<ebx>, int a2<esi>, const CHAR *a3, int a4);
// int __usercall sub_40ECB0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_40EF50<eax>(int a1<ebx>);
// int __usercall sub_40F060<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_40F4B0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63);
// int __usercall sub_40FE10<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_410170();
signed int __cdecl sub_410320(signed int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8);
int __cdecl sub_410960(int a1, int a2, signed int a3);
int __cdecl sub_410BC0(int a1, int a2, int a3, int a4);
int __cdecl sub_410E40(int a1, int a2, int a3, int a4, void *a5, int a6, int a7, int a8);
int __cdecl sub_411C00(int a1, int a2, int a3, int a4);
int __cdecl sub_411CB0(int a1, int a2, int a3, int a4, int a5, int a6);
// int __usercall sub_412A50<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_412D10<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4131B0<eax>(int a1<ebx>, int a2, int a3);
// int __usercall sub_413230<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
// int __usercall sub_4135C0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_413A40<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_413BA0(signed int a1, int a2, int a3, int a4, signed int a5);
int __cdecl sub_4144E0(int a1);
// int __usercall sub_414610<eax>(int a1<ebx>, int a2<esi>, const CHAR *a3);
// int __usercall sub_414900<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_414B90<eax>(int a1<ebx>, int a2<esi>);
unsigned int __cdecl sub_414E20();
signed int __cdecl sub_414E70(char a1, char a2);
int __cdecl sub_414ED0(int a1, char a2);
int __cdecl sub_414F20(int a1, char a2);
int __cdecl sub_416B20(signed int a1);
int __cdecl sub_416B70(int a1);
int __cdecl sub_416CE0(int a1);
int __thiscall sub_416E90(int this);
signed int __cdecl sub_416F00();
int __thiscall sub_416F30(int this);
signed int __cdecl sub_416FB0();
int __thiscall sub_416FE0(int this);
int __thiscall sub_4171F0(int this);
int __thiscall sub_417890(int this);
int __thiscall sub_417EF0(int this);
__int16 __thiscall sub_417F30(void *this, __int16 a2);
int __thiscall sub_418070(void *this, __int16 a2);
int __thiscall sub_418100(void *this);
int __thiscall sub_418630(int this);
int __thiscall sub_418AF0(int this, signed int a2);
int __thiscall sub_41A760(int this, int a2);
int __thiscall sub_41ABC0(int this);
int __thiscall sub_41AEF0(int this, int a2);
int __thiscall sub_41B210(int this);
int __thiscall sub_41B640(int this, int a2);
int __thiscall sub_41B9C0(int this);
int __thiscall sub_41BC90(void *this);
int __thiscall sub_41BE40(int this);
signed int __thiscall sub_41BF60(int this);
int __thiscall sub_41C250(void *this);
signed int __cdecl sub_41C2C0();
void *__thiscall sub_41C2F0(void *this);
signed int __cdecl sub_41C320();
// int __usercall sub_41C350<eax>(const CHAR *a1<ecx>, int a2<ebx>);
// int __usercall sub_41D9A0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>);
// int __usercall sub_41DDC0<eax>(int a1<ebx>, int a2, LPCSTR lpText);
// int __userpurge sub_41DE50<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, signed int a4, int a5);
// int __usercall sub_41F140<eax>(int a1<ebx>, int a2<esi>, const CHAR *a3);
int __cdecl sub_41F670(unsigned int a1);
// int __usercall sub_41F730<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>);
// int __usercall sub_41F830<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>);
int __thiscall sub_41F8C0(int this);
int __thiscall sub_41F970(void *this);
// int __userpurge sub_41F9E0<eax>(int a1<ecx>, int a2<ebx>, HWND hWnd, int a4, u_short hostshort, u_int wMsg);
// int __userpurge sub_41FBB0<eax>(int a1<ecx>, int a2<ebx>, const char *cp, u_short hostshort, int a5, u_int wMsg);
int __thiscall sub_41FE90(void *this, const char *cp, u_short hostshort, int a4, u_int wMsg);
// int __userpurge sub_420130<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, const char *cp, u_short hostshort, int a6, u_int wMsg);
int __thiscall sub_420540(int this);
int __thiscall sub_4205F0(void *this, int a2, int a3);
int __thiscall sub_420D10(void *this, int a2, int a3);
int __thiscall sub_420E00(int this, int a2);
int __thiscall sub_420ED0(int this, int a2, int a3);
int __thiscall sub_421140(void *this, const void *a2, int a3, int a4);
int __thiscall sub_4215B0(int this);
// int __usercall sub_421660<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>);
int __thiscall sub_4219A0(void *this, int a2, int a3);
int __thiscall sub_421FE0(void *this);
int __thiscall sub_4220B0(void *this);
int __thiscall sub_422100(int this);
int __thiscall sub_422270(void *this, SOCKET s);
int __thiscall sub_422690(void *this);
int __cdecl sub_422750(int a1, int a2, void *a3);
int __cdecl sub_422EC0(int a1, char a2, char a3);
int __cdecl sub_422F30(int a1, char a2);
int __cdecl sub_422FB0(int a1, char a2);
char __cdecl sub_4233F0(int a1, int a2);
int __cdecl sub_423550(int a1, char a2, char a3);
int __cdecl sub_423CB0(int a1, int a2);
int __cdecl sub_424190(int a1);
signed int __cdecl sub_424370(int a1, int a2, int a3);
int __cdecl sub_4244B0(int a1, int a2);
int __cdecl sub_424590(int a1);
int __cdecl sub_424B40(int a1);
int __cdecl sub_424EC0(int a1);
int __cdecl sub_4252C0(int a1);
int __cdecl sub_425570(int a1, __int16 a2);
int __cdecl sub_425600(int a1, signed int a2, int a3, int a4);
signed int __cdecl sub_425790(int a1, int a2);
bool __cdecl sub_425910(int a1, int a2);
bool __cdecl sub_425A00(int a1, int a2);
int __cdecl sub_425AF0(signed int a1, int a2);
int __cdecl sub_425C40(int a1, int a2, int a3);
int __cdecl sub_427020(int a1, signed int a2, signed int a3);
// int __usercall sub_427120<eax>(int a1<ebx>, signed int a2, int a3);
int __cdecl sub_427E90(signed int a1, int a2);
int __cdecl sub_428930(int a1, int a2);
int __cdecl sub_4289E0(int a1, int a2);
__int16 __cdecl sub_428AF0(int a1, __int16 a2, __int16 a3, int a4);
char __cdecl sub_428BC0(signed int a1, signed int a2);
int __cdecl sub_428C70(signed int a1, signed int a2, int a3);
int __cdecl sub_429B30(signed int a1);
int __cdecl sub_429C40(signed int a1);
signed int __cdecl sub_429CB0(int a1, int a2);
// int __usercall sub_429E10<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, signed int a6);
// int __usercall sub_42A400<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5);
// int __usercall sub_42A950<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5);
int __cdecl sub_42ADC0(signed int a1);
int __cdecl sub_42AE30(signed int a1);
char __cdecl sub_42AEC0(signed int a1, signed int a2);
int __cdecl sub_42AF40(signed int a1, signed int a2);
int __cdecl sub_42B000(int a1);
int __cdecl sub_42B050(int a1);
char __cdecl sub_42B0D0(signed int a1, signed int a2);
char __cdecl sub_42B150(signed int a1, signed int a2);
// int __usercall sub_42B1D0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6, int a7);
int __cdecl sub_42B680(int a1);
bool __cdecl sub_42B710(int a1);
int __cdecl sub_42BA00(int a1, int a2);
int __cdecl sub_42BA80(int a1, int a2);
int __cdecl sub_42BD10(int a1);
int __cdecl sub_42C220(int a1);
int __cdecl sub_42C8D0(int a1);
int __cdecl sub_42CDB0(int a1);
int __cdecl sub_42CE80(int a1, int a2, int a3, int a4, int a5, int a6, signed int a7);
// int __usercall sub_42D0C0<eax>(int a1<ebx>);
// int __usercall sub_42D190<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_42D8E0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_42DFF0<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_42E770();
// int __usercall sub_42E830<eax>(int a1<ebx>, int a2<esi>, int a3, signed int a4, int a5);
// int __usercall sub_4388B0<eax>(int a1<ebx>, int a2<esi>, signed int a3);
// int __usercall sub_438BF0<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_438DA0<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_43A6A0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_43AA70<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4, __int16 a5, int a6);
// int __usercall sub_43ADF0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
// int __usercall sub_43D7D0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6);
// int __usercall sub_446510<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_446710(int a1);
int __cdecl SendClientMsg(signed int a1, const void *a2);
// int __usercall sub_446CA0<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_446DA0<eax>(int a1<ebx>, int a2<esi>, int a3);
int __cdecl sub_446FB0();
int __cdecl sub_4471C0(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_4472B0(int a1, int a2);
int __cdecl sub_447410(int a1, __int16 a2, __int16 a3);
int __cdecl sub_447480(int a1, __int16 a2, __int16 a3, int a4);
int __cdecl sub_447570(int a1, __int16 a2, __int16 a3, int a4, int a5, int a6);
int __cdecl sub_4475F0(signed int a1, signed int a2, int a3);
int __cdecl sub_447780(int a1, int a2, int a3);
int __cdecl sub_4478E0(int a1);
int __cdecl sub_447990(int a1, int a2, int a3, int a4, __int16 a5, __int16 a6);
int __cdecl sub_447A60(signed int a1, __int16 a2, int a3, int a4);
int __cdecl sub_447B20(signed int a1, signed int a2);
int __cdecl sub_447C80(signed int a1);
int __cdecl sub_447F20(int a1, int a2);
// int __usercall sub_448160<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4, int a5, int a6);
int __cdecl sub_448EA0(int a1, __int16 a2, __int16 a3);
// int __usercall sub_448F50<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6);
int __cdecl sub_449410(int a1, int a2, int a3, int a4);
int __cdecl sub_449640(signed int a1, __int16 a2, __int16 a3, int a4);
int __cdecl sub_449730(int a1, int a2);
int __cdecl sub_449EE0(signed int a1);
int __cdecl sub_449FC0(signed int a1);
int __cdecl sub_44A2E0(signed int a1);
int __cdecl sub_44A460(signed int a1);
int __cdecl sub_44A550(signed int a1);
// int __usercall sub_44A640<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_44AE00<eax>(int a1<ebx>, int a2<esi>, int a3, char a4);
int __cdecl sub_44AF90(signed int a1, int a2, int a3);
int __cdecl sub_44B2C0(int a1, int a2);
int __cdecl sub_44B400(signed int a1, int a2, char a3);
int __cdecl sub_44B570(signed int a1, int a2, __int16 a3);
int __cdecl sub_44B6E0(signed int a1, int a2);
int __cdecl sub_44B780(signed int a1);
int __cdecl sub_44B8C0();
int __cdecl sub_44B9E0(signed int a1);
int __cdecl sub_44BB40(signed int a1);
int __cdecl sub_44BC50(int a1);
int __cdecl sub_44BD10();
int __cdecl sub_44BD90();
int __cdecl sub_44BE50(signed int a1, int a2, int a3, int a4, int a5);
// int __usercall sub_44BFA0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6);
int __cdecl sub_44C3E0(int a1);
int __cdecl sub_44C490(signed int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_44C7E0(signed int a1, int a2, int a3);
// int __usercall sub_44CA70<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4, const void *a5);
int __cdecl sub_44CD70(int a1, int a2, char a3);
// int __usercall sub_44CDF0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5);
// int __usercall sub_44D360<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44D3A0();
// int __usercall sub_44D3E0<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44D430();
// int __usercall sub_44D470<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44D4B0();
// int __usercall sub_44D4F0<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44D540();
// int __usercall sub_44D580<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44D5C0();
// int __usercall sub_44D620<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44D670();
// int __usercall sub_44D6D0<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44D710();
// int __usercall sub_44D770<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44D7C0();
// int __usercall sub_44D820<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44D860();
// int __usercall sub_44D8C0<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44D910();
// int __usercall sub_44D960<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44D9A0();
// int __usercall sub_44D9E0<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44DA30();
// int __usercall sub_44DA70<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44DAB0();
// int __usercall sub_44DAF0<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44DB40();
// int __usercall sub_44DB80<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44DBC0();
// int __usercall sub_44DC00<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_44DC50();
int __cdecl sub_44DC90(int a1);
int __cdecl sub_44DD00(int a1);
int __cdecl sub_44DD70(int a1);
int __cdecl sub_44DDE0(int a1, int a2, int a3);
int __cdecl sub_44DED0();
// int __usercall sub_44DFA0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
// int __usercall sub_44E740<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_44EBA0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5);
// int __usercall sub_44EE40<eax>(int a1<ebx>, signed int a2, int a3);
int __cdecl sub_44F090();
int __cdecl sub_44F260();
// int __usercall sub_44F3F0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_451400<eax>(int a1<ebx>, int a2);
int __cdecl sub_452FD0();
int __cdecl sub_453060(int a1);
signed int __cdecl sub_453110(int a1);
// int __usercall sub_4531D0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, u_long hostlong, int a6);
// int __usercall sub_4535B0<eax>(int a1<ebx>, int a2<esi>, int a3, u_long hostlong);
int __cdecl sub_4536E0(signed int a1, signed int a2, int a3, signed int a4, int a5);
// int __usercall sub_454DB0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4551A0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4555A0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_455BB0<eax>(int a1<ebx>, int a2<esi>, int a3, signed int a4);
int __cdecl sub_4560E0(int a1, signed int a2, int a3);
// int __usercall sub_4572C0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6, const void *a7);
// int __usercall sub_4579A0<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4, int a5);
// int __usercall sub_45A010<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_45A200<eax>(int a1<ebx>, HINSTANCE hInstance);
// int __usercall sub_45A320<eax>(int a1<ebx>, HINSTANCE hInstance, int nCmdShow);
// int __usercall sub_45A400<eax>(int a1<ebx>, int a2<esi>, const CHAR *a3);
// int __usercall sub_45A580<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_45A950<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_45AC70<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_45B520<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_45B940<eax>(int a1<ebx>, int a2<esi>);
// int __userpurge sub_45BB40<eax>(int a1<ebx>, int a2<esi>, HINSTANCE a3, int a4, int a5, int a6);
int __cdecl sub_45DB50(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_45DC90(int a1, int a2);
int __cdecl sub_45DE40(signed int a1);
int __cdecl sub_45E010(signed int a1, int a2);
// int __usercall sub_49E610<eax>(int a1<ebx>, int a2<esi>, u_long *a3);
// int __usercall sub_49F100<eax>(int a1<ebx>, int a2<esi>, int a3);
__int16 __cdecl sub_4A9AB0(int a1, int a2, int a3, int a4, int a5, signed int a6, int a7);
// int __usercall sub_4AB070<eax>(int a1<ebx>, int a2<esi>, int a3);
int __cdecl sub_4AB1B0();
// int __usercall sub_4AB3A0<eax>(int a1<ebx>, int a2<esi>, signed int a3);
// int __usercall sub_4AC330<eax>(int a1<ebx>, int a2<esi>, signed int a3);
int __cdecl sub_4AE770(int a1, int a2, int a3, int a4);
int __cdecl sub_4AE9F0(int a1);
int __cdecl sub_4AEB70(int a1);
int __cdecl sub_4AEC70();
int __cdecl sub_4AED80();
// int __usercall sub_4AF390<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4B13B0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4B2120<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_4B2A00(int a1, int a2, int a3, int a4, signed int a5);
// int __usercall sub_4B2E00<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4, int a5, int a6, signed int a7);
int __cdecl sub_4B3390(int a1, int a2, int a3, int a4);
int __cdecl sub_4B34A0(int a1, int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_4B3630(int a1, int a2, int a3, int a4, int a5);
// int __usercall sub_4B37D0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6, int a7);
int __cdecl sub_4B3A10(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_4B3B40(int a1, int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_4B3CA0();
int __cdecl sub_4B3DF0(int a1);
int __cdecl sub_4B3F50(int a1);
int __cdecl sub_4B40B0(int a1);
int __cdecl sub_4B4140();
int __cdecl sub_4B42F0(int a1, int a2, int a3, int a4);
int __cdecl sub_4B4400(int a1);
int __cdecl sub_4B45A0(int a1);
// int __usercall sub_4B4700<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4B5230<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4B6E60<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4B6F70<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
// int __usercall sub_4B7130<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4B7210<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
// int __usercall sub_4B73C0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4B7490<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4B75D0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4B76D0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4B77D0<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4);
// int __usercall sub_4B7950<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
// int __usercall sub_4B7B00<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
int __cdecl sub_4B7EC0();
int __cdecl sub_4B7F60();
int __cdecl sub_4B7FD0();
// int __usercall sub_4B80A0<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4B8240<eax>(int a1<ebx>, int a2<esi>, signed int a3);
// int __usercall sub_4B8B80<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4B8DC0<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4);
int __cdecl sub_4B9480(int a1, int a2);
// int __usercall sub_4B96C0<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4B9A00<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4B9E60<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_4BA630();
// int __usercall sub_4BA6B0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4BA810<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_4BA980(signed int a1, signed int a2);
// int __usercall sub_4BADF0<eax>(int a1<ebx>, int a2<esi>, signed int a3, signed int a4, int a5, int a6);
int __cdecl sub_4BFF60(int a1, int a2, int a3, int a4, char a5, int a6);
int __cdecl sub_4C0290(signed int a1);
// int __usercall sub_4C0460<eax>(int a1<ebx>, int a2<esi>, signed int a3, signed int a4);
int __cdecl sub_4C0B20(int a1, int a2, int a3);
int __cdecl sub_4C0FE0(signed int a1);
// int __usercall sub_4C1210<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
// int __usercall sub_4C16B0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
// int __usercall sub_4C1970<eax>(int a1<ebx>, int a2<esi>, signed int a3, signed int a4);
// int __usercall sub_4C1FC0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4C2CF0<eax>(int a1<ebx>, int a2<esi>, int a3, signed int a4, signed int a5);
int __cdecl sub_4C3A90();
int __cdecl sub_4C3B40(signed int a1, int a2);
int __cdecl sub_4C3C20(signed int a1, int a2, int a3, int a4);
int __cdecl sub_4C3DA0(signed int a1, int a2, int a3);
int __cdecl sub_4C3EA0(signed int a1, int a2);
int __cdecl sub_4C3FD0(signed int a1, signed int a2, signed int a3, signed int a4);
// int __usercall sub_4C4FD0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
int __cdecl sub_4C5240();
signed int __cdecl sub_4C5420(int a1);
signed int __cdecl sub_4C5570(int a1);
__int16 __cdecl sub_4C56C0(signed int a1);
__int16 __cdecl sub_4C57B0(signed int a1);
// int __usercall sub_4C5A20<eax>(int a1<ebx>, int a2<esi>, signed int a3);
// int __usercall sub_4C6360<eax>(int a1<ebx>, signed int a2);
int __cdecl sub_4C65F0();
int __cdecl sub_4C6790();
int __cdecl sub_4C6A90(int a1, int a2);
// int __usercall sub_4C6B60<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_4C7460(int a1);
int __cdecl sub_4C75D0(int a1, int a2, int a3, int a4, int a5, int a6);
// int __usercall sub_4C7710<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4C7870<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_4C7FE0(int a1);
bool __cdecl sub_4C8140(int a1);
bool __cdecl sub_4C81D0(signed int a1, signed int a2);
// int __usercall sub_4C8580<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, unsigned int a6);
int __cdecl sub_4C8A40(int a1);
int __cdecl sub_4C8B60(int a1, int a2);
int __cdecl sub_4C8DF0(int a1, int a2, int a3);
int __cdecl sub_4C9680();
// int __usercall sub_4C96F0<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_4C9AF0(int a1, int a2);
bool __cdecl sub_4C9C80(int a1);
int __cdecl sub_4C9D80();
int __cdecl sub_4C9F20(signed int a1, int a2);
int __cdecl sub_4CA150(signed int a1, int a2);
int __cdecl sub_4CA2A0(int a1);
int __cdecl sub_4CA3A0(signed int a1, signed int a2);
int __cdecl sub_4CA620();
int __cdecl sub_4CA7A0(int a1, signed int a2);
// int __usercall sub_4CA870<eax>(int a1<ebx>, int a2, int a3);
int __cdecl sub_4CCCC0(int a1, signed int a2, int a3, int a4, int a5);
// int __usercall sub_4CCFF0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4CD150<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4CD310<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4CD4D0<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_4CD690(signed int a1, signed int a2);
// int __usercall sub_4CD750<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
// int __usercall sub_4CDB70<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4);
int __cdecl sub_4CDDF0(signed int a1, signed int a2);
int __cdecl sub_4CE2A0(signed int a1, int a2);
// int __usercall sub_4CE550<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4CE750<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4CE880<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4CEE60<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4);
// int __usercall sub_4D0230<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4D0430<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_4D0600(signed int a1, signed int a2);
int __cdecl sub_4D0A70();
// int __usercall sub_4D0E50<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5);
// int __usercall sub_4D15D0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
int __cdecl sub_4D1E20(int a1, int a2);
int __cdecl sub_4D1F10(int a1, int a2, int a3, int a4);
int __cdecl sub_4D2250(int a1, int a2);
// int __usercall sub_4D2E70<eax>(int a1<ebx>, int a2<esi>, int a3);
int __cdecl sub_4D39F0(int a1, int a2);
int __cdecl sub_4D3A90(int a1, int a2);
int __cdecl sub_4D3BF0(int a1, int a2, int a3);
signed int __cdecl sub_4D3DF0(int a1, int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_4D3F00(int a1);
int __cdecl sub_4D4030(int a1, int a2);
int __cdecl sub_4D41F0();
int __cdecl sub_4D4390();
int __cdecl sub_4D4680();
int __cdecl sub_4D46D0();
int __cdecl sub_4D48D0(int a1, int a2);
int __cdecl sub_4D4F80();
int __cdecl sub_4D5AD0(int a1, int a2, int a3, int a4);
int __cdecl sub_4D5D20(int a1);
int __cdecl sub_4D5FC0(signed int a1);
int __cdecl sub_4D61F0(signed int a1);
// int __usercall sub_4D6330<eax>(int a1<ebx>, int a2<esi>, int a3);
int __cdecl sub_4D6540(unsigned __int16 a1, int a2);
// int __usercall sub_4D6700<eax>(int a1<ebx>, int a2<esi>, int a3, LPCSTR lpMultiByteStr);
// int __usercall sub_4D6D80<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
int __cdecl sub_4D7490(int a1);
int __cdecl sub_4D7570(int a1);
int __cdecl sub_4D7AD0(int a1);
// int __usercall sub_4D7C10<eax>(int a1<ebx>, int a2, __int16 a3);
int __cdecl sub_4D8340(signed int a1, int a2);
int __cdecl sub_4D8520();
// int __usercall sub_4D8620<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4D8E40<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4D90E0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4D9210<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4D9960<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4);
// int __usercall sub_4D9BA0<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4DA070<eax>(int a1<ebx>, int a2<esi>, signed int a3);
// int __usercall sub_4DA3C0<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4DA5F0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
signed int __cdecl sub_4DA950();
int __cdecl sub_4DA9D0();
int __cdecl sub_4DACA0();
int __cdecl sub_4DAE00(int a1);
int __cdecl sub_4DAEB0(signed int a1, signed int a2);
signed int __cdecl sub_4DB410(int a1, int a2);
int __cdecl sub_4DB470(signed int a1);
// int __usercall sub_4DB9A0<eax>(int a1<ebx>, int a2<esi>, unsigned int a3, int a4, int a5);
// int __usercall sub_4DBD90<eax>(int a1<ebx>, int a2<esi>, unsigned int a3);
// int __usercall sub_4DBE30<eax>(int a1<ebx>, int a2<esi>, unsigned int a3);
// int __usercall sub_4DBFF0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, unsigned int a5);
int __thiscall sub_4DC140(void *this);
// int __userpurge sub_4DC1A0<eax>(int a1<ebx>, int a2, int a3, int a4);
// int __userpurge sub_4DC260<eax>(int a1<ebx>, int a2);
// int __userpurge sub_4DC2C0<eax>(int a1<ebx>, int a2);
int __stdcall sub_4DC360(int a1, int a2);
// int __userpurge sub_4DC3A0<eax>(int a1<ebx>, int a2, int a3);
int __stdcall sub_4DC4D0(int a1, int a2, int a3);
signed int __stdcall sub_4DC520(int a1, int a2);
int __stdcall sub_4DC550(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_4DC5B0(int a1, int a2);
// int __userpurge sub_4DC600<eax>(int a1<ebx>, int a2, int a3, int a4);
int __stdcall sub_4DC730(int a1, int a2, int a3);
int __stdcall sub_4DC760(int a1, int a2, int a3);
int __stdcall sub_4DC790(int a1, int a2, int a3);
int __stdcall sub_4DC7C0(int a1, int a2, int a3, int a4);
signed int __stdcall sub_4DC7F0(int a1);
signed int __stdcall sub_4DC820(int a1);
int __thiscall sub_4DC850(void *this);
// int __userpurge sub_4DC8A0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, char a4);
void *__thiscall sub_4DC910(void *this);
void *__thiscall sub_4DC950(void *this);
int __cdecl sub_4DC980();
// int __usercall sub_4DCAA0<eax>(int a1<ebx>, int a2, int a3, int a4, int a5, signed int a6, int a7, int a8);
// int __usercall sub_4DD270<eax>(int a1<ebx>, int a2<esi>, char a3);
// int __usercall sub_4DD330<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4, int a5);
int __cdecl sub_4DD6E0(signed int a1);
// int __usercall sub_4DD720<eax>(int a1<ebx>, int a2<esi>, signed int a3);
// int __usercall sub_4DD8D0<eax>(int a1<ebx>);
// int __usercall sub_4DDC40<eax>(int a1<ebx>, int a2, int a3, int a4);
// int __userpurge TopLevelExceptionFilter<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4DDE90<eax>(int a1<ebx>);
// int __usercall sub_4DE070<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4DE540<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
// int __usercall sub_4DE5F0<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __userpurge sub_4DE820<eax>(int a1<ebx>, int a2<esi>, unsigned int a3, unsigned int a4, int a5, void *a6, unsigned int a7, int a8);
// int __usercall sub_4DE9F0<eax>(int a1<ebx>, int a2<esi>, unsigned int a3);
// int __usercall sub_4DEAC0<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __userpurge sub_4DECF0<eax>(int a1<ebx>, int a2<esi>, signed int a3, unsigned int a4, int a5, void *a6, unsigned int a7, int a8);
// int __usercall sub_4DEEC0<eax>(int a1<ebx>, int a2<esi>, signed int a3);
int __cdecl sub_4DF110(int a1, int a2);
// int __usercall sub_4DF2E0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
// int __usercall sub_4DF670<eax>(int a1<ebx>, int a2, int a3, int a4);
// int __usercall sub_4DF6E0<eax>(int a1<ebx>, int a2, int a3, int a4, int a5, int a6);
// int __usercall sub_4E0C90<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5);
// int __usercall sub_4E0E30<eax>(int a1<ebx>, int a2, int a3, int a4, int a5);
// int __usercall sub_4E0EB0<eax>(int a1<ebx>, int a2, int a3);
int __thiscall sub_4E1210(void *this);
int __thiscall sub_4E12B0(void *this);
// int __usercall sub_4E1340<eax>(int a1<ebx>, int a2, int a3, int a4, int a5);
int __cdecl sub_4E1720();
int __thiscall sub_4E1760(void *this, int a2);
int __thiscall sub_4E17C0(void *this, int a2);
int __thiscall sub_4E1840(void *this, int a2, int a3);
int __thiscall sub_4E18B0(void *this);
int __thiscall sub_4E1900(void *this, int a2);
int __thiscall sub_4E1950(void *this, int a2);
int __thiscall sub_4E19A0(void *this, int a2);
int __thiscall sub_4E19F0(void *this, char a2);
int __thiscall sub_4E1A40(void *this, int a2);
int __cdecl sub_4E1AA0(int a1);
int __thiscall sub_4E1AF0(int this);
int __thiscall sub_4E1B50(int this);
int __thiscall sub_4E1B90(void *this, int a2, int a3, int a4);
int __thiscall sub_4E1C10(void *this, int a2);
int __thiscall sub_4E1C80(void *this);
int __thiscall sub_4E1D30(int this);
int __thiscall sub_4E1D70(int this);
int __thiscall sub_4E1DB0(int this);
int __thiscall sub_4E1E20(void *this, int a2);
int __thiscall sub_4E1E80(void *this);
int __thiscall sub_4E1EE0(void *this, int a2, int a3, int a4, int a5);
int __thiscall sub_4E1F60(void *this, int a2);
// int __userpurge sub_4E1FC0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4, unsigned int a5);
int __cdecl sub_4E2090(void *a1, const void *a2, unsigned int a3);
// int __userpurge sub_4E20E0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, unsigned int a4, char a5);
int __cdecl sub_4E21B0(void *a1, unsigned int a2, unsigned __int8 *a3);
int __thiscall sub_4E2200(void *this, int a2);
// int __userpurge sub_4E2260<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4, unsigned int a5, unsigned int a6);
int __thiscall sub_4E2440(void *this, int a2);
_UNKNOWN *__cdecl sub_4E24A0();
int __thiscall sub_4E24D0(void *this, char a2);
int __thiscall sub_4E25E0(void *this, int a2, int a3);
int __thiscall sub_4E2670(void *this, int a2, int a3);
int __thiscall sub_4E2700(void *this, int a2, int a3);
// int __userpurge sub_4E2770<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4, int a5);
// int __userpurge sub_4E27C0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4, unsigned int a5, unsigned int a6);
int __thiscall sub_4E28D0(void *this, int a2, int a3);
// int __userpurge sub_4E2960<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, unsigned int a4, int a5);
int __cdecl sub_4E2A60(void *a1, const void *a2, unsigned int a3);
int __thiscall sub_4E2AB0(int this);
int __thiscall sub_4E2AF0(int this, int a2);
int __cdecl sub_4E2B60(int a1, int a2);
// int __userpurge sub_4E2BA0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, unsigned int a4, unsigned __int8 a5);
int __stdcall sub_4E2D50(int a1);
// int __userpurge sub_4E2D90<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4, int a5);
int __thiscall sub_4E2DE0(void *this, int a2, unsigned int a3, int a4);
int __thiscall sub_4E30E0(void *this, int a2);
int __thiscall sub_4E3130(void *this);
int __thiscall sub_4E31A0(void *this, unsigned int a2);
int __thiscall sub_4E3350(int this);
int __thiscall sub_4E3400(void *this, int a2, int a3, int a4);
int __thiscall sub_4E3480(void *this, int a2, int a3, int a4);
int __thiscall sub_4E3500(void *this, int a2, int a3);
int __thiscall sub_4E3550(void *this, int a2, int a3);
signed int __cdecl sub_4E35A0();
int __thiscall sub_4E3600(void *this, int a2, int a3);
int __cdecl sub_4E3650(int a1, int a2, int a3);
char __cdecl sub_4E3720();
int __cdecl sub_4E3750(int a1, int a2, int a3);
int __cdecl sub_4E37C0(int a1, int a2, int a3);
int __cdecl sub_4E3820(int a1, int a2, int a3);
int __cdecl sub_4E3890();
// int __usercall sub_4E38D0<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4E3930<eax>(int a1<ebx>, int a2<esi>, unsigned int a3);
int __cdecl sub_4E3990(int a1, int a2);
int __cdecl sub_4E3A40(int a1, int a2);
signed int __cdecl sub_4E3A70();
int __thiscall sub_4E3AA0(void *this, int a2);
// int __userpurge sub_4E3B30<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, char a4);
int __thiscall sub_4E3BA0(void *this, int a2);
// int __usercall sub_4E3C60<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_4E3CA0();
// int __usercall sub_4E3CF0<eax>(int a1<ebx>, int a2<esi>);
signed int __cdecl sub_4E3D40();
// int __stdcall closesocket(SOCKET s);
// int __stdcall WSAStartup(WORD wVersionRequested, LPWSADATA lpWSAData);
// int __stdcall WSAAsyncSelect(SOCKET s, HWND hWnd, u_int wMsg, __int32 lEvent);
// int __stdcall listen(SOCKET s, int backlog);
// int __stdcall bind(SOCKET s, const struct sockaddr *name, int namelen);
// u_short __stdcall htons(u_short hostshort);
// int __stdcall gethostname(char *name, int namelen);
// SOCKET __stdcall socket(int af, int type, int protocol);
// int __stdcall send(SOCKET s, const char *buf, int len, int flags);
// int __stdcall WSAGetLastError();
// int __stdcall connect(SOCKET s, const struct sockaddr *name, int namelen);
// unsigned __int32 __stdcall inet_addr(const char *cp);
// int __stdcall recv(SOCKET s, char *buf, int len, int flags);
// u_long __stdcall ntohl(u_long netlong);
// SOCKET __stdcall accept(SOCKET s, struct sockaddr *addr, int *addrlen);
// u_long __stdcall htonl(u_long hostlong);
// int __usercall sub_4E3F40<eax>(int a1<ebx>, int a2<esi>, int a3, const char *a4);
// unsigned int __usercall sub_4E4040<eax>(int a1<ebx>, int a2<esi>, const void *a3, unsigned int a4, unsigned int a5, int a6);
// signed int __usercall sub_4E4260<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4E4340<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, char *a5, char a6);
// int __usercall sub_4E4400<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5);
// int __usercall sub_4E4530<eax>(int a1<ebx>, int a2<esi>, LPCSTR lpFileName, int a4, int a5);
// int __usercall sub_4E4620<eax>(int a1<ebx>, int a2<esi>, const CHAR *a3, int a4);
void *__cdecl sub_4E4640(void *a1, unsigned __int8 a2, unsigned int a3);
// int __usercall sub_4E46A0<eax>(char a1<zf>, int result<eax>, int a3<ebx>, char a4<dil>, int a5<esi>);
int __cdecl sub_4E46E0(int a1);
int __cdecl Rand()();
void __cdecl sub_4E4720(int a1);
int __cdecl sub_4E4730(int a1, int a2);
int __cdecl loc_4E4791(int, int); // weak
void *__cdecl sub_4E4810(void *a1, const void *a2, unsigned int a3);
int __cdecl loc_4E486C(int, int, int); // weak
int __cdecl loc_4E4968(int, int, int); // weak
int __cdecl loc_4E49F4(int, int, int); // weak
int __cdecl sub_4E4B50(int a1);
int __cdecl sub_4E4BD0(int a1, int a2);
int __cdecl sub_4E4CA0();
void __cdecl sub_4E4CD0();
void __cdecl sub_4E4CE0();
// signed __int64 __usercall sub_4E4D4C<edx:eax>(double a1<st0>);
int __cdecl sub_4E4D80(int a1, int a2);
// int __usercall sub_4E4E40<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int *a4);
// int __usercall sub_4E4F40<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int *a4);
// unsigned int __usercall sub_4E5090<eax>(int a1<ebx>, int a2<esi>, int a3, unsigned int a4, unsigned int a5, int a6);
// int __usercall sub_4E5260<eax>(int a1<ebx>, int a2<esi>, int a3, LONG lDistanceToMove, DWORD dwMoveMethod);
int __stdcall sub_4E5390(unsigned __int64 a1, unsigned int a2, int a3);
// int __usercall sub_4E5440<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, char a5);
// int __usercall sub_4E54F0<eax>(int a1<ebx>, int a2<esi>, unsigned int a3);
// int __usercall sub_4E5510<eax>(int ebx0<ebx>, int esi0<esi>, unsigned int a1, int a2, int a3, int a4);
// int __usercall sub_4E5540<eax>(int a1<ebx>, int a2<esi>, unsigned int a3, int a4);
// int __usercall sub_4E5560<eax>(int ebx0<ebx>, int esi0<esi>, unsigned int a1, int a2, int a3, int a4, int a5);
// int __usercall sub_4E55D0<eax>(int ebx0<ebx>, int esi0<esi>, unsigned int a1, int a2, int a3, int a4);
// int __usercall sub_4E58F0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
// int __usercall sub_4E5910<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6, int a7);
// int __usercall sub_4E5990<eax>(int a1<ebx>, int a2<esi>, int a3, unsigned int a4, int a5, int a6, int a7);
// int __usercall sub_4E59C0<eax>(int a1<ebx>, int a2<esi>, int a3, unsigned int a4, int a5, int a6, int a7, int a8);
// int __usercall sub_4E5F00<eax>(int a1<ebx>, int a2<esi>, int a3, unsigned int a4, int a5, int a6, int a7);
// void __usercall sub_4E5F30(int a1<ebx>, int a2<esi>, int a3);
// void __usercall sub_4E5F50(int a1<ebx>, int a2<esi>, int a3, signed int a4);
// int __usercall sub_4E6360<eax>(int a1<ebx>, int a2<esi>, int a3, signed int a4);
int (__cdecl *__cdecl sub_4E6560(int (*a1)()))(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// signed int __usercall sub_4E6580<eax>(int ebx0<ebx>, int esi0<esi>, int a1, unsigned __int8 a2, int a3);
// signed int __usercall sub_4E6610<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_4E6970(int a1);
bool __cdecl sub_4E6A00(const void *lp, UINT_PTR ucb, int a3);
signed int __cdecl sub_4E6A50(int a1);
// int __usercall sub_4E6BD0<eax>(int ebx0<ebx>, int a2<esi>, int a1);
// int __usercall sub_4E6E60<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4);
// int __usercall sub_4E7110<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4);
// signed int __usercall sub_4E7230<eax>(int a1<ebx>, int a2<edi>, int a3<esi>);
int __cdecl sub_4E7380(int (*a1)(void), int a2);
_DWORD __cdecl sub_4E73C0(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4E73D0(_DWORD, _DWORD); // weak
_DWORD __cdecl sub_4E73E0(_DWORD, _DWORD); // weak
// PEXCEPTION_RECORD __userpurge sub_4E73F0<eax>(int a1<eax>, PVOID TargetFrame, PEXCEPTION_RECORD ExceptionRecord);
int __stdcall loc_4E741C(PVOID TargetFrame, PEXCEPTION_RECORD ExceptionRecord); // weak
// int __usercall sub_4E7450<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>, int a5, int a6, int a7, int a8);
// void __usercall sub_4E74C0(int a1<edi>, int a2<esi>, int a3, int a4, int a5, int a6, int a7);
// int __usercall sub_4E7530<eax>(int ebx0<ebx>, int edi0<edi>, int esi0<esi>, void *a1, int a2, int a3);
// int __usercall sub_4E7570<eax>(int a1<ebx>, int a2, int a3, int a4, int a5, int a6, int a7, int a8);
int __cdecl loc_4E760A(int, int, int, int, int, int, int); // weak
// int __usercall sub_4E7640<eax>(int a1<ebp>, int a2<ebx>, int a3<edi>, int a4<esi>);
int __cdecl sub_4E76D0(int a1, int a2, int a3, int a4, int a5);
void __cdecl sub_4E7760(PVOID TargetFrame);
int __cdecl loc_4E7778(PVOID TargetFrame); // weak
signed int __cdecl sub_4E7780(int a1, int a2, int a3, int a4);
// int __usercall sub_4E77A2<eax>(int a1<ebp>, int a2, int a3);
signed int __thiscall sub_4E780A(int this);
void __cdecl sub_4E782D();
// int __userpurge sub_4E7836<eax>(int result<eax>, int a2<ebp>, int a3);
int __stdcall loc_4E7840(int); // weak
int __cdecl sub_4E7850(int a1, int a2, unsigned int a3);
signed int __cdecl sub_4E7950(int a1, int a2, signed int a3);
// int __usercall sub_4E7990<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, char *a5, char a6);
int __cdecl sub_4E7A20(int, int, DWORD nNumberOfBytesToRead); // idb
signed int __cdecl sub_4E7E80(UINT a1);
int __cdecl sub_4E7F70(signed int a1, signed int lpBuffer, DWORD nNumberOfBytesToWrite);
// int __usercall sub_4E8220<eax>(int a1<ebx>, int a2<esi>, LPCSTR lpFileName, __int16 a4, int a5);
// int __usercall sub_4E8260<eax>(int a1<ebx>, int a2<esi>, LPCSTR lpFileName, __int16 a4, int a5, int a6);
unsigned __int64 __stdcall sub_4E8750(__int64 a1, __int64 a2);
// signed int __usercall sub_4E8790<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, LPCSTR lpFileName, int a5);
// signed int __usercall sub_4E88D0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, HANDLE hFindFile, int a5);
int __cdecl sub_4E8A00(HANDLE hFindFile); // idb
// signed int __usercall sub_4E8A30<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, const FILETIME *lpFileTime);
// int __usercall sub_4E8AC0<eax>(int a1<ebx>, int a2<esi>, int a3, char a4);
// int __usercall sub_4E8B40<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4E8BF0<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4E8C10<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_4E8C60(int a1, int a2, int a3, void (__thiscall *a4)(_DWORD));
// int __usercall sub_4E8CD1<eax>(int a1<ebp>);
int __cdecl sub_4E8D00(int a1, int a2, int a3, void (__thiscall *a4)(_DWORD));
// int __usercall sub_4E8D75<eax>(int a1<ebp>);
// int __userpurge sub_4E8DB0<eax>(int a1<eax>, int a2, int a3, int a4, void (__thiscall *a5)(_DWORD));
// int __usercall sub_4E8E30<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4);
// LPCSTR __usercall sub_4E8E60<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, LPCSTR lpMultiByteStr);
// int __usercall sub_4E8F60<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int *a4);
// int __usercall sub_4E91C0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4);
int __cdecl sub_4E9350(int a1, int a2, unsigned int a3);
// int __usercall sub_4E99D0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, unsigned int a5, int a6, int a7);
// int __usercall sub_4E99F0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, unsigned int a5, int a6, int a7, char *(*a8)[43]);
// int __usercall sub_4E9B30<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, char a4, int a5, unsigned int *a6, int a7, int a8);
int __cdecl sub_4EA150(int a1, int a2, int a3);
unsigned int __cdecl sub_4EA1A0(signed int a1, unsigned int a2, unsigned int *a3, int a4);
unsigned int __cdecl sub_4EA250(signed int a1, unsigned int *a2, int a3);
// int __usercall sub_4EA300<eax>(int ebx0<ebx>, int edi0<edi>, int esi0<esi>, int a1, int a2, int a3, int a4, int a5);
// int __usercall sub_4EA820<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4);
// int __usercall sub_4EA860<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5);
int __cdecl sub_4EAB70(int a1, int a2);
int __stdcall sub_4EABF0(unsigned __int64 a1, __int64 a2);
_DWORD __cdecl sub_4EACB0(_DWORD); // weak
signed int __cdecl sub_4EAD10(int a1);
signed int __cdecl sub_4EADD0();
signed int __cdecl sub_4EADE0(int a1);
// int __usercall sub_4EAEC0<eax>(__int16 a1<fpstat>, double a2<st1>, char a3, char a4, char a5, double a6, double a7);
unsigned int __cdecl sub_4EAFA0();
// unsigned int __usercall sub_4EAFE0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, UINT uExitCode);
// unsigned int __usercall sub_4EB000<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, UINT uExitCode);
// unsigned int __usercall sub_4EB060<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, UINT uExitCode, int a5, int a6);
unsigned int __cdecl sub_4EB140(unsigned int a1, unsigned int a2);
void __cdecl sub_4EB170();
// signed int __usercall sub_4EB280<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6, const char *a7, char a8);
// bool __usercall sub_4EB610<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7, int a8);
// int __usercall sub_4EB920<eax>(int a1<ebx>, int a2<esi>, unsigned int a3);
// void __usercall sub_4EB940(int a1<ebx>, int a2<esi>, int a3);
// void __usercall sub_4EB990(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4EBA20<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4EBB50<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_4EBB70(int a1);
int __cdecl sub_4EBC40(int a1);
int __cdecl sub_4EBD10(LPCSTR lpExistingFileName, LPCSTR lpNewFileName); // idb
int __cdecl sub_4EBD60(LPCSTR lpFileName); // idb
// int __usercall sub_4EBDD0<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4EC060<eax>(int ebx0<ebx>, int esi0<esi>, int a1, int a2, int a3, char a4);
void *__cdecl sub_4EC160(void *a1, const void *a2, unsigned int a3);
int __cdecl loc_4EC1BC(int, int, int); // weak
int __cdecl loc_4EC2B8(int, int, int); // weak
int __cdecl loc_4EC344(int, int, int); // weak
// LONG __usercall sub_4EC4A0<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>);
// unsigned int __usercall sub_4EC5DA<eax>(int a1<ebx>, int a2<ebp>, int a3<edi>, int a4<esi>);
// int __usercall sub_4EC600<eax>(int ebx0<ebx>, int a2<esi>, int a1);
// void __usercall sub_4EC630(int a1<ebx>, int a2<esi>, int a3);
// signed int __usercall sub_4EC660<eax>(int a1<ebx>, int esi0<esi>, unsigned __int8 Buffer, int a2);
// int __usercall sub_4EC8E0<eax>(int ebx0<ebx>, int esi0<esi>, int a1, int a2, int a3);
// signed int __usercall sub_4ED610<eax>(int a1<ebx>, int esi0<esi>, unsigned __int8 Buffer, int a2, int a3);
// signed int __usercall sub_4ED690<eax>(int a1<ebx>, int esi0<esi>, unsigned __int8 Buffer, int a2, int a3, int a4);
// signed int __usercall sub_4ED6D0<eax>(int ebx0<ebx>, int esi0<esi>, int a1, int a2, int a3, int a4);
int __cdecl sub_4ED720(int a1);
__int64 __cdecl sub_4ED740(int a1);
__int16 __cdecl sub_4ED760(int a1);
// int __usercall sub_4ED780<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4ED820<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, char *a5, int a6);
// int __usercall sub_4EEC00<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int a4);
// signed int __usercall sub_4EEC60<eax>(int a1<ebx>, int a2<esi>, int a3);
// signed int __usercall sub_4EECC0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
// signed int __usercall sub_4EECE0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5);
// signed int __usercall sub_4EED20<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4EEF00<eax>(int a1<ebx>, int a2<esi>, LPCSTR lpFileName, int a4, int a5, int a6);
// int __usercall sub_4EF290<eax>(int a1<ebx>, int a2<esi>);
// signed int __usercall sub_4EF380<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, UINT CodePage);
UINT __cdecl sub_4EF680(UINT a1);
signed int __cdecl sub_4EF6E0(int a1);
int __cdecl sub_4EF760();
// BOOL __usercall sub_4EF7E0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>);
// signed int __usercall sub_4EFB10<eax>(int a1<ebx>, int a2<edi>, int a3<esi>);
int __cdecl sub_4EFB50(int a1, unsigned __int8 a2);
int __cdecl loc_4EFB56(int, char); // weak
int __cdecl sub_4EFC10();
bool __cdecl sub_4EFC30();
bool __cdecl sub_4EFC90();
// int __usercall sub_4EFCE0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int *a4);
int __cdecl sub_4EFD90(int a1);
bool __cdecl sub_4EFE70(int a1);
// int __usercall sub_4EFEA0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6);
int __cdecl sub_4EFEF0(char *a1, int a2, int a3, int a4);
int __cdecl sub_4F00B0(char *a1, int a2, int a3);
int __cdecl sub_4F0240(char *a1, int a2, int a3, int a4);
int __cdecl sub_4F0340(char *a1, int a2, int a3, int a4);
int __cdecl sub_4F0380(char *a1, int a2, int a3);
int __cdecl sub_4F03B0(char *a1, int a2, int a3, int a4, int a5);
void __cdecl sub_4F0410(int a1, int a2);
// int __usercall sub_4F0440<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int a4, __int16 a5);
signed int __cdecl sub_4F0500(UINT a1, LONG lDistanceToMove, DWORD dwMoveMethod);
// signed int __usercall sub_4F05F0<eax>(int a1<ebx>, int a2<esi>, int a3);
// int __usercall sub_4F0750<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
bool __cdecl sub_4F0840(int a1);
LPVOID __cdecl sub_4F0870(int dwBytes);
LPVOID __cdecl sub_4F0890(int dwBytes, int a2);
LPVOID __cdecl sub_4F08F0(int dwBytes);
signed int __cdecl sub_4F0950();
LPVOID __cdecl sub_4F0960(LPVOID lpMem, int dwBytes);
LPVOID __cdecl sub_4F09F0(int lpMem, int dwBytes);
void __cdecl sub_4F0BC0(LPVOID lpMem);
signed int __cdecl sub_4F0C10();
signed int __cdecl sub_4F0C80(int a1);
signed int __cdecl sub_4F0DA0();
unsigned int __cdecl sub_4F0E00(int a1);
bool __cdecl sub_4F0E60(int a1, int a2);
int __cdecl sub_4F0EC0(unsigned int a1, int a2);
int __cdecl sub_4F1490(int a1);
char *__cdecl sub_4F19D0();
signed int __cdecl sub_4F1AE0(int a1);
signed int __cdecl sub_4F1CD0(int a1, int a2, int a3);
signed int __cdecl sub_4F23F0();
// int __usercall sub_4F2A10<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int lp, int a5, int a6, int a7, int a8, int a9, int a10, char a11);
// int __usercall sub_4F2B00<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int ExceptionRecord, int TargetFrame, int a6, int a7, int a8, char a9, int a10, int a11);
// int __usercall sub_4F2DA0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, PEXCEPTION_RECORD ExceptionRecord, int TargetFrame, int a6, int a7, int a8, int a9, int a10, int a11);
signed int __cdecl sub_4F2EC0(int a1, int a2, int a3);
// unsigned int __usercall sub_4F2F80<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>, int a5, int a6, int a7, int a8);
// int __usercall sub_4F3080<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4);
// int __usercall sub_4F30B0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, PEXCEPTION_RECORD ExceptionRecord, int TargetFrame, int a6, int a7, int a8, unsigned int a9, int a10, int a11, int a12, void *a13);
// int __usercall sub_4F3170<eax>(int a1<eax>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7, int a8, int a9, int a10);
// int __usercall sub_4F3243<eax>(int a1<ebp>);
bool __cdecl sub_4F32C0(int a1);
// unsigned int __usercall sub_4F3310<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>, int a5, int a6, unsigned int a7, int a8);
// int __usercall sub_4F3590<eax>(int result<eax>, int a2);
int __cdecl sub_4F3620(int a1, int a2);
// void __userpurge sub_4F3670(int a1<ebp>, int a2<edi>, int a3<esi>, int a4, int a5, int a6);
// unsigned int __usercall sub_4F36C0<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>);
// unsigned int __usercall sub_4F372A<eax>(int a1<ebx>, int a2<edi>, int a3<esi>);
// unsigned int __usercall sub_4F3770<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>);
// unsigned int __usercall sub_4F37DA<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>);
unsigned int __cdecl sub_4F3800(unsigned int a1);
// UINT __usercall sub_4F3890<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4F3C00<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_4F3D30(int, HANDLE hHandle); // idb
signed int __cdecl sub_4F3DE0(signed int a1);
signed int __cdecl sub_4F3EB0(signed int a1);
// signed int __usercall sub_4F4000<eax>(int a1<ebx>, int a2<esi>, signed int a3, LONG lDistanceToMove);
// signed int __usercall sub_4F4270<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, signed int a5, int a6, int a7, int a8, int a9, int a10);
// signed int __usercall sub_4F4368<eax>(int a1<ebp>);
// int __usercall sub_4F4440<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>, LCID Locale, DWORD dwMapFlags, LPCSTR lpMultiByteStr, int cbMultiByte, LPSTR lpDestStr, int cchDest, UINT CodePage, int a12);
int __cdecl sub_4F4750(int a1, int a2);
// int __usercall sub_4F47A0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>);
// int __usercall sub_4F47D0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>);
bool __cdecl sub_4F4B50(int a1);
int __cdecl sub_4F4E50(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11);
_UNKNOWN *__cdecl sub_4F5050(signed int *a1);
char __cdecl sub_4F5220(int a1, int a2);
signed int __cdecl sub_4F52B0(UINT a1);
// double __usercall sub_4F537C<st0>(__int16 a1<cx>, int a2<ebp>, long double a3<st1>, long double a4<st0>);
double __cdecl sub_4F53CC();
double __fastcall sub_4F53D5(__int16 a1);
double __cdecl sub_4F53F2();
// int __usercall sub_4F5484<eax>(__int16 a1<fpstat>, double a2<st1>, char a3, char a4, char a5, double a6, double a7);
int sub_4F54BE(void); // weak
// double __usercall sub_4F54C5<st0>(int a1<ebp>, double result<st0>);
double __cdecl sub_4F5621(double a1);
// int __usercall sub_4F5660<eax>(int a1<edx>, __int16 a2<cx>, int a3<ebp>, __int16 a4<fpstat>, double _ST7<st0>, char a6, char a7, char a8);
// int __usercall sub_4F56C7<eax>(int a1<edx>, int a2<ebp>, __int16 a3<fpstat>, double _ST6<st1>, double a5<st0>, char a6, char a7, char a8);
// double __usercall sub_4F579F<st0>(int a1<ebp>, double a2<st1>, double a3<st0>);
// double __usercall sub_4F57C7<st0>(int a1<ebp>, double a2<st1>, double a3<st0>);
// void __usercall sub_4F5806(int a1<ebp>);
// void __usercall sub_4F5819(int a1<ebp>);
int loc_4F5820(); // weak
void __cdecl sub_4F5830();
// double __usercall sub_4F5847<st0>(int a1<eax>, int a2<edx>, int a3<ecx>, double a4<st0>, __int16 a5, int a6, int a7, int a8);
int __cdecl loc_4F5850(__int16, int, int, int); // weak
double __cdecl sub_4F58A5(_DWORD); // weak
// double __usercall sub_4F58BC<st0>(int a1<eax>, double result<st0>);
double __fastcall sub_4F58D5(int a1, int a2);
int __cdecl sub_4F5918(int a1, int a2);
int __cdecl sub_4F5A20(unsigned int a1, int a2, unsigned int a3);
int __cdecl sub_4F5A70(unsigned int a1, int a2, unsigned int a3, int a4);
int __stdcall sub_4F5BF0(__int64 a1, int a2, unsigned int a3, int a4);
// int __usercall sub_4F5D10<eax>(int ebx0<ebx>, int esi0<esi>, int a1, int a2, int a3, int a4);
signed int __stdcall sub_4F5FB0(int a1);
// signed int __usercall sub_4F6020<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4);
unsigned int __cdecl sub_4F61E0(int a1);
int __cdecl sub_4F6240(int a1, int a2, int a3);
// int __usercall sub_4F6300<eax>(int a1<ebx>, int a2<esi>);
LONG __cdecl sub_4F63B0(int a1, struct _EXCEPTION_POINTERS *ExceptionInfo);
unsigned int __cdecl sub_4F6560(int a1);
// unsigned __int8 *__usercall sub_4F65C0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>);
// int __usercall sub_4F6680<eax>(int a1<ebx>, int a2<edi>, int a3<esi>);
// int __usercall sub_4F67D0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>);
int __cdecl sub_4F68B0(int a1, int a2, int a3, int a4, int a5);
// int __usercall sub_4F6CE0<eax>(int a1<ebx>, int a2<esi>);
// signed int __usercall sub_4F6F00<eax>(int a1<ebx>, int a2<esi>);
// signed int __usercall sub_4F6F50<eax>(int ebx0<ebx>, int a2<esi>, int a1);
// int __usercall sub_4F7160<eax>(int ebx0<ebx>, int a2<esi>, int a1);
int __cdecl sub_4F7230(signed int a1);
int __cdecl sub_4F7260(LPSTR lpMultiByteStr, const WCHAR WideCharStr); // idb
__int64 __stdcall sub_4F7300(unsigned __int64 a1, unsigned int a2, unsigned int a3);
int __stdcall sub_4F7370(unsigned __int64 a1, __int64 a2);
// signed int __usercall sub_4F73F0<eax>(int a1<ebx>, int a2<esi>, LPWSTR lpWideCharStr, LPCSTR lpMultiByteStr, unsigned int a5);
// int __usercall sub_4F76B0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int a4);
// int __usercall sub_4F7940<eax>(__int64 a1<edx:eax>, unsigned __int8 a2<cl>);
// signed int __usercall sub_4F7960<eax>(int a1<ebx>, int a2<esi>, int a3, int a4);
// BOOL __usercall sub_4F7AA0<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>, DWORD dwInfoType, LPCSTR lpMultiByteStr, int cbMultiByte, LPWORD lpCharType, UINT CodePage, LCID Locale, int a11);
int __cdecl sub_4F7CA0(int a1, int a2);
int __cdecl sub_4F7CF0(int a1, int a2);
signed int __cdecl sub_4F7D70(__int16 a1);
signed __int16 __cdecl sub_4F7EF0(int a1);
signed int __cdecl sub_4F8050(char a1);
// int __usercall sub_4F8110<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int a4);
signed int __cdecl sub_4F8240(int a1, signed int a2);
signed int __cdecl sub_4F82D0(int a1, signed int a2);
signed int __cdecl sub_4F8380(int a1, signed int a2);
int __cdecl sub_4F8460(int a1, int a2);
int __cdecl sub_4F84B0(int a1);
signed int __cdecl sub_4F84E0(int a1);
int __cdecl sub_4F8520(int a1, signed int a2);
int __cdecl sub_4F8610(int a1, int a2, int a3);
int __cdecl sub_4F8860(int a1, int a2);
int __cdecl sub_4F8880(int a1, int a2);
signed int __cdecl sub_4F88A0(int a1, int a2);
// int __usercall sub_4F8960<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5);
// int __usercall sub_4F89E0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5);
void *__cdecl sub_4F8A20(int a1, int a2, int a3);
int *__cdecl sub_4F8B20(char a1);
int __cdecl sub_4F8BA0(int a1, int a2);
// int __usercall sub_4F8D10<eax>(int a1<ebx>, int a2<esi>);
// LONG __userpurge sub_4F8D20<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, struct _EXCEPTION_POINTERS *a4);
LONG (__stdcall *__cdecl sub_4F8D80())(struct _EXCEPTION_POINTERS *);
LPTOP_LEVEL_EXCEPTION_FILTER __cdecl sub_4F8DA0();
signed int __cdecl sub_4F8DC0(const void *lp, UINT_PTR ucb);
int __cdecl sub_4F8DF0(LPVOID lp, UINT_PTR ucb); // idb
int __cdecl sub_4F8E20(FARPROC lpfn); // idb
// unsigned int __usercall sub_4F8E50<eax>(int a1<ebx>, int a2<edi>, int a3<esi>);
signed int __cdecl sub_4F8E70(signed int a1, int a2);
// int __usercall sub_4F8F70<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4);
// int __usercall sub_4F9040<eax>(__int16 a1<fpstat>, int a2, int a3, int a4);
bool __cdecl sub_4F92C0(unsigned __int8 a1);
bool __cdecl sub_4F9340(unsigned __int8 a1, int a2, char a3);
signed int __cdecl sub_4F93B0(unsigned int a1, unsigned int a2, int a3);
signed int __cdecl sub_4F93F0(int a1, int a2);
int __cdecl sub_4F94A0(int a1);
int __cdecl sub_4F9500(int a1);
int __cdecl sub_4F9570(int a1, int a2, int a3);
// int __usercall sub_4F96B0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7, int a8, int a9, int a10);
signed int __cdecl sub_4FA230(unsigned int a1, unsigned int a2, __int16 a3, signed int a4, char a5, int a6);
// int __usercall sub_4FA750<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, PCNZCH lpMultiByteStr, PCNZCH lpString2, int cchCount2);
// signed int __usercall sub_4FA7A0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>);
// int __usercall sub_4FAAB0<eax>(__int16 a1<fpstat>, ULONG_PTR Arguments, int a3, char a4, __int16 a5, int a6, int a7);
bool __cdecl sub_4FAF80(char a1, double *a2, __int16 a3);
double __cdecl sub_4FB300(signed int a1, int a2, int a3, int a4, int a5, int a6, double a7);
signed int __cdecl sub_4FB3A0(signed int a1);
char *__cdecl sub_4FB3E0(int a1);
signed int __cdecl sub_4FB420(char a1);
int __cdecl sub_4FB4A0();
// int __usercall sub_4FB4B0<eax>(__int16 a1<fpstat>, char a2, char a3, char a4);
// int __usercall sub_4FB4D0<eax>(__int16 a1<fpstat>, char a2, char a3, char a4);
int __cdecl sub_4FB4F0();
int __cdecl sub_4FB530(char a1);
int __cdecl sub_4FB5B0(int a1, int a2);
char *__cdecl sub_4FB9F0(int a1, signed int a2, int a3);
// int __usercall sub_4FBAC0<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>, LCID Locale, DWORD dwCmpFlags, PCNZCH lpMultiByteStr, signed int cbMultiByte, PCNZCH lpString2, signed int cchCount2, UINT CodePage);
int __cdecl sub_4FBEC0(int a1, int a2);
// signed int __usercall sub_4FBF10<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5);
// int __usercall sub_4FC1F0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, const CHAR *a4, int a5);
// int *__usercall sub_4FC270<eax>(int a1<ebx>, int a2<esi>, int *a3);
double __cdecl sub_4FC360(double a1, __int16 a2);
double __cdecl sub_4FC4D0(double a1, int a2);
// void __usercall sub_4FC610(int a1<ebx>, int a2<esi>);
// int __userpurge sub_4FC670<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4);
int __thiscall sub_4FC6E0(void *this);
// void __usercall sub_4FC700(int a1<ecx>, int a2<ebx>, int a3<esi>);
// void __usercall sub_4FC730(int a1<ecx>, int a2<ebx>, int a3<esi>);
// int __userpurge sub_4FC790<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, char a4);
// int __userpurge sub_4FC7C0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4);
// int __userpurge sub_4FC7F0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4);
// void __usercall sub_4FC860(int a1<ecx>, int a2<ebx>, int a3<esi>);
// void __usercall sub_4FC880(int a1<ecx>, int a2<ebx>, int a3<esi>);
// int __userpurge sub_4FC8B0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, char a4);
// int __userpurge sub_4FC8E0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4);
// void __usercall sub_4FC910(int a1<ebx>, int a2<esi>);
// int __userpurge sub_4FC970<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4);
// void __usercall sub_4FC9A0(int a1<ecx>, int a2<ebx>, int a3<esi>);
// void __usercall sub_4FC9C0(int a1<ecx>, int a2<ebx>, int a3<esi>);
// int __userpurge sub_4FC9F0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, char a4);
// int __userpurge sub_4FCA20<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4);
// int __usercall sub_4FCA50<eax>(int a1<ebx>, int a2<esi>);
// int __usercall sub_4FCA70<eax>(int a1<ebx>, int a2<esi>);
int __cdecl sub_4FCA90();
// int __usercall sub_4FCAC0<eax>(int a1<ebx>, int a2<esi>);
void __cdecl sub_4FCAE0();
// void __stdcall RtlUnwind(PVOID TargetFrame, PVOID TargetIp, PEXCEPTION_RECORD ExceptionRecord, PVOID ReturnValue);
// LPCSTR __usercall sub_4FCC50<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, LPCSTR lpMultiByteStr);
// int __userpurge sub_4FCD80<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, char a4);
// int __userpurge sub_4FCDB0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int *a4);
// int __userpurge sub_4FCE20<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4);
// void __usercall sub_4FCEE0(int a1<ecx>, int a2<ebx>, int a3<esi>);
int __thiscall sub_4FCF20(int this);
void __thiscall sub_4FCF50(int this);
// int __userpurge sub_4FCF80<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, char a4);
void __stdcall sub_4FD090(int a1, int a2);
// int __usercall sub_504280<eax>(int a1<ebp>);
// int __usercall SEH_421FE0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// int __usercall sub_5042A0<eax>(int a1<ebp>);
// int __usercall sub_5042A9<eax>(int a1<ebp>);
// int __usercall SEH_4DF110<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// int __usercall sub_5042E0<eax>(int a1<ebp>);
// int __usercall sub_5042EC<eax>(int a1<ebp>);
// int __usercall sub_5042F8<eax>(int a1<ebp>);
// int __usercall sub_504304<eax>(int a1<ebp>);
// int __usercall sub_504310<eax>(int a1<ebp>);
// int __usercall sub_50431C<eax>(int a1<ebp>);
// int __usercall sub_504328<eax>(int a1<ebp>);
// int __usercall sub_504334<eax>(int a1<ebp>);
// int __usercall sub_504340<eax>(int a1<ebp>);
// int __usercall sub_50434C<eax>(int a1<ebp>);
// int __usercall sub_504358<eax>(int a1<ebp>);
// int __usercall sub_504364<eax>(int a1<ebp>);
// int __usercall sub_504370<eax>(int a1<ebp>);
// int __usercall sub_50437C<eax>(int a1<ebp>);
// int __usercall sub_504388<eax>(int a1<ebp>);
// int __usercall sub_504394<eax>(int a1<ebp>);
// int __usercall SEH_4DF6E0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// int __usercall sub_5043E0<eax>(int a1<ebp>);
// int __usercall SEH_4E0EB0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// int __usercall sub_504400<eax>(int a1<ebp>);
// int __usercall SEH_4E1210<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// int __usercall sub_504420<eax>(int a1<ebp>);
// int __usercall SEH_4E12B0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// int __usercall sub_504440<eax>(int a1<ebp>);
// int __usercall SEH_4E1340<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// int __usercall SEH_4E31A0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// int __usercall sub_504470<eax>(int a1<ebp>);
// int __usercall sub_504479<eax>(int a1<ebp>);
// int __usercall SEH_4E3650<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// int __usercall sub_5044B0<eax>(int a1<ebp>);
// int __usercall SEH_4E3990<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// int __usercall sub_5044E0<eax>(int a1<ebp>);
// int __usercall SEH_4E3BA0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// int __usercall sub_504500<eax>(int a1<ebp>);
// int __usercall SEH_4FC610<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// void __usercall sub_504520(int a1<ebx>, int a2<ebp>, int a3<esi>);
// int __usercall SEH_4FC670<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// void __usercall sub_504540(int a1<ebx>, int a2<ebp>, int a3<esi>);
// int __usercall SEH_4FC730<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// void __usercall sub_504560(int a1<ebx>, int a2<ebp>, int a3<esi>);
// int __usercall SEH_4FC7F0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// int __usercall sub_504580<eax>(int a1<ebp>);
// int __usercall SEH_4FC910<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7);
// LONG __usercall start<eax>(int a1<ebx>, int a2<edi>, int a3<esi>);
// HGDIOBJ __stdcall SelectObject(HDC hdc, HGDIOBJ h);
// COLORREF __stdcall SetTextColor(HDC hdc, COLORREF color);
// BOOL __stdcall TextOutA(HDC hdc, int x, int y, LPCSTR lpString, int c);
// HGDIOBJ __stdcall GetStockObject(int i);
// HFONT __stdcall CreateFontA(int cHeight, int cWidth, int cEscapement, int cOrientation, int cWeight, DWORD bItalic, DWORD bUnderline, DWORD bStrikeOut, DWORD iCharSet, DWORD iOutPrecision, DWORD iClipPrecision, DWORD iQuality, DWORD iPitchAndFamily, LPCSTR pszFaceName);
// BOOL __stdcall DeleteObject(HGDIOBJ ho);
// LONG __stdcall InterlockedIncrement(volatile LONG *lpAddend);
// LONG __stdcall InterlockedDecrement(volatile LONG *lpAddend);
// BOOL __stdcall CloseHandle(HANDLE hObject);
// BOOL __stdcall GetThreadContext(HANDLE hThread, LPCONTEXT lpContext);
// BOOL __stdcall DuplicateHandle(HANDLE hSourceProcessHandle, HANDLE hSourceHandle, HANDLE hTargetProcessHandle, LPHANDLE lpTargetHandle, DWORD dwDesiredAccess, BOOL bInheritHandle, DWORD dwOptions);
// HANDLE __stdcall GetCurrentThread();
// void __stdcall InitializeCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// BOOL __stdcall FreeLibrary(HMODULE hLibModule);
// FARPROC __stdcall GetProcAddress(HMODULE hModule, LPCSTR lpProcName);
// HMODULE __stdcall LoadLibraryA(LPCSTR lpLibFileName);
// LPTOP_LEVEL_EXCEPTION_FILTER __stdcall SetUnhandledExceptionFilter(LPTOP_LEVEL_EXCEPTION_FILTER lpTopLevelExceptionFilter);
// void __stdcall DeleteCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// void __stdcall LeaveCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// void __stdcall EnterCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// void __stdcall SetLastError(DWORD dwErrCode);
// DWORD __stdcall GetCurrentProcessId();
// DWORD __stdcall GetEnvironmentVariableA(LPCSTR lpName, LPSTR lpBuffer, DWORD nSize);
// DWORD __stdcall GetCurrentDirectoryA(DWORD nBufferLength, LPSTR lpBuffer);
// int __stdcall CompareStringW(LCID Locale, DWORD dwCmpFlags, PCNZWCH lpString1, int cchCount1, PCNZWCH lpString2, int cchCount2);
// int __stdcall CompareStringA(LCID Locale, DWORD dwCmpFlags, PCNZCH lpString1, int cchCount1, PCNZCH lpString2, int cchCount2);
// HANDLE __stdcall GetCurrentProcess();
// BOOL __stdcall IsBadCodePtr(FARPROC lpfn);
// BOOL __stdcall GetStringTypeW(DWORD dwInfoType, LPCWSTR lpSrcStr, int cchSrc, LPWORD lpCharType);
// BOOL __stdcall GetStringTypeA(LCID Locale, DWORD dwInfoType, LPCSTR lpSrcStr, int cchSrc, LPWORD lpCharType);
// LPWCH __stdcall GetEnvironmentStringsW();
// LPCH __stdcall GetEnvironmentStrings();
// BOOL __stdcall FreeEnvironmentStringsW(LPWCH);
// BOOL __stdcall FreeEnvironmentStringsA(LPCH);
// LONG __stdcall UnhandledExceptionFilter(struct _EXCEPTION_POINTERS *ExceptionInfo);
// BOOL __stdcall FlushFileBuffers(HANDLE hFile);
// int __stdcall LCMapStringW(LCID Locale, DWORD dwMapFlags, LPCWSTR lpSrcStr, int cchSrc, LPWSTR lpDestStr, int cchDest);
// int __stdcall LCMapStringA(LCID Locale, DWORD dwMapFlags, LPCSTR lpSrcStr, int cchSrc, LPSTR lpDestStr, int cchDest);
// int __stdcall MultiByteToWideChar(UINT CodePage, DWORD dwFlags, LPCSTR lpMultiByteStr, int cbMultiByte, LPWSTR lpWideCharStr, int cchWideChar);
// int __stdcall WideCharToMultiByte(UINT CodePage, DWORD dwFlags, LPCWSTR lpWideCharStr, int cchWideChar, LPSTR lpMultiByteStr, int cbMultiByte, LPCSTR lpDefaultChar, LPBOOL lpUsedDefaultChar);
// BOOL __stdcall SetEndOfFile(HANDLE hFile);
// BOOL __stdcall SetStdHandle(DWORD nStdHandle, HANDLE hHandle);
// UINT __stdcall SetHandleCount(UINT uNumber);
// LPVOID __stdcall VirtualAlloc(LPVOID lpAddress, SIZE_T dwSize, DWORD flAllocationType, DWORD flProtect);
// BOOL __stdcall VirtualFree(LPVOID lpAddress, SIZE_T dwSize, DWORD dwFreeType);
// HANDLE __stdcall HeapCreate(DWORD flOptions, SIZE_T dwInitialSize, SIZE_T dwMaximumSize);
// BOOL __stdcall HeapDestroy(HANDLE hHeap);
// BOOL __stdcall HeapFree(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem);
// BOOL __stdcall ReadProcessMemory(HANDLE hProcess, LPCVOID lpBaseAddress, LPVOID lpBuffer, SIZE_T nSize, SIZE_T *lpNumberOfBytesRead);
// DWORD __stdcall GetLastError();
// SIZE_T __stdcall VirtualQuery(LPCVOID lpAddress, PMEMORY_BASIC_INFORMATION lpBuffer, SIZE_T dwLength);
// void __stdcall Sleep(DWORD dwMilliseconds);
// DWORD __stdcall GetTickCount();
// DWORD __stdcall GetModuleFileNameA(HMODULE hModule, LPSTR lpFilename, DWORD nSize);
// void __stdcall RaiseException(DWORD dwExceptionCode, DWORD dwExceptionFlags, DWORD nNumberOfArguments, const ULONG_PTR *lpArguments);
// BOOL __stdcall SetCurrentDirectoryA(LPCSTR lpPathName);
// LPVOID __stdcall HeapReAlloc(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem, SIZE_T dwBytes);
// LPVOID __stdcall HeapAlloc(HANDLE hHeap, DWORD dwFlags, SIZE_T dwBytes);
// DWORD __stdcall SetFilePointer(HANDLE hFile, LONG lDistanceToMove, PLONG lpDistanceToMoveHigh, DWORD dwMoveMethod);
// UINT __stdcall GetOEMCP();
// UINT __stdcall GetACP();
// BOOL __stdcall GetCPInfo(UINT CodePage, LPCPINFO lpCPInfo);
// DWORD __stdcall GetVersion();
// LPSTR __stdcall GetCommandLineA();
// void __stdcall GetStartupInfoA(LPSTARTUPINFOA lpStartupInfo);
// HMODULE __stdcall GetModuleHandleA(LPCSTR lpModuleName);
// BOOL __stdcall DeleteFileA(LPCSTR lpFileName);
// BOOL __stdcall SetEnvironmentVariableA(LPCSTR lpName, LPCSTR lpValue);
// BOOL __stdcall MoveFileA(LPCSTR lpExistingFileName, LPCSTR lpNewFileName);
// void __stdcall OutputDebugStringA(LPCSTR lpOutputString);
// HANDLE __stdcall GetStdHandle(DWORD nStdHandle);
// void __stdcall DebugBreak();
// BOOL __stdcall TerminateProcess(HANDLE hProcess, UINT uExitCode);
// void __stdcall ExitProcess(UINT uExitCode);
// void __stdcall GetLocalTime(LPSYSTEMTIME lpSystemTime);
// void __stdcall GetSystemTime(LPSYSTEMTIME lpSystemTime);
// DWORD __stdcall GetTimeZoneInformation(LPTIME_ZONE_INFORMATION lpTimeZoneInformation);
// BOOL __stdcall FileTimeToLocalFileTime(const FILETIME *lpFileTime, LPFILETIME lpLocalFileTime);
// BOOL __stdcall FileTimeToSystemTime(const FILETIME *lpFileTime, LPSYSTEMTIME lpSystemTime);
// BOOL __stdcall IsBadWritePtr(LPVOID lp, UINT_PTR ucb);
// BOOL __stdcall IsBadReadPtr(const void *lp, UINT_PTR ucb);
// BOOL __stdcall HeapValidate(HANDLE hHeap, DWORD dwFlags, LPCVOID lpMem);
// BOOL __stdcall ReadFile(HANDLE hFile, LPVOID lpBuffer, DWORD nNumberOfBytesToRead, LPDWORD lpNumberOfBytesRead, LPOVERLAPPED lpOverlapped);
// BOOL __stdcall WriteFile(HANDLE hFile, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite, LPDWORD lpNumberOfBytesWritten, LPOVERLAPPED lpOverlapped);
// DWORD __stdcall GetFileType(HANDLE hFile);
// HANDLE __stdcall CreateFileA(LPCSTR lpFileName, DWORD dwDesiredAccess, DWORD dwShareMode, LPSECURITY_ATTRIBUTES lpSecurityAttributes, DWORD dwCreationDisposition, DWORD dwFlagsAndAttributes, HANDLE hTemplateFile);
// HANDLE __stdcall FindFirstFileA(LPCSTR lpFileName, LPWIN32_FIND_DATAA lpFindFileData);
// BOOL __stdcall FindNextFileA(HANDLE hFindFile, LPWIN32_FIND_DATAA lpFindFileData);
// BOOL __stdcall FindClose(HANDLE hFindFile);
// void __stdcall PostQuitMessage(int nExitCode);
// int __stdcall MessageBoxA(HWND hWnd, LPCSTR lpText, LPCSTR lpCaption, UINT uType);
// LPSTR __stdcall CharNextA(LPCSTR lpsz);
// UINT_PTR __stdcall SetTimer(HWND hWnd, UINT_PTR nIDEvent, UINT uElapse, TIMERPROC lpTimerFunc);
// int __stdcall ReleaseDC(HWND hWnd, HDC hDC);
// HDC __stdcall GetDC(HWND hWnd);
// ATOM __stdcall RegisterClassA(const WNDCLASSA *lpWndClass);
// HCURSOR __stdcall LoadCursorA(HINSTANCE hInstance, LPCSTR lpCursorName);
// HICON __stdcall LoadIconA(HINSTANCE hInstance, LPCSTR lpIconName);
// BOOL __stdcall UpdateWindow(HWND hWnd);
// BOOL __stdcall ShowWindow(HWND hWnd, int nCmdShow);
// HWND __stdcall CreateWindowExA(DWORD dwExStyle, LPCSTR lpClassName, LPCSTR lpWindowName, DWORD dwStyle, int X, int Y, int nWidth, int nHeight, HWND hWndParent, HMENU hMenu, HINSTANCE hInstance, LPVOID lpParam);
// LRESULT __stdcall DispatchMessageA(const MSG *lpMsg);
// BOOL __stdcall TranslateMessage(const MSG *lpMsg);
// BOOL __stdcall GetMessageA(LPMSG lpMsg, HWND hWnd, UINT wMsgFilterMin, UINT wMsgFilterMax);
// BOOL __stdcall SetWindowTextA(HWND hWnd, LPCSTR lpString);
// DWORD __stdcall timeGetTime();
// HRESULT __stdcall CoRevokeMallocSpy();
// HRESULT __stdcall CoRegisterMallocSpy(LPMALLOCSPY pMallocSpy);


//----- (00402980) --------------------------------------------------------
signed int __cdecl sub_402980()
{
  return -858993460;
}

//----- (004029B0) --------------------------------------------------------
int __usercall sub_4029B0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-504h]@0
  int v5; // [sp+4h] [bp-500h]@0
  int v6; // [sp+8h] [bp-4FCh]@0
  char v7; // [sp+Ch] [bp-4F8h]@1
  char v8; // [sp+4Ch] [bp-4B8h]@14
  int v9; // [sp+CCh] [bp-438h]@14
  char v10; // [sp+D0h] [bp-434h]@13
  int v11; // [sp+150h] [bp-3B4h]@11
  int j; // [sp+154h] [bp-3B0h]@8
  int v13; // [sp+158h] [bp-3ACh]@4
  int i; // [sp+15Ch] [bp-3A8h]@2
  char v15; // [sp+160h] [bp-3A4h]@4
  int v16; // [sp+1E0h] [bp-324h]@1
  int v17; // [sp+1E4h] [bp-320h]@1
  int v18[199]; // [sp+1E8h] [bp-31Ch]@11
  int v19; // [sp+504h] [bp+0h]@5

  memset(&v7, -858993460, 0x4F8u);
  sub_4E4640(&v17, 0, 0x320u);
  v2 = sub_4E4620(a1, a2, "ItemPrice.txt", (int)"rt");
  v16 = v2;
  if ( v2 )
  {
    for ( i = 0; i < 100; ++i )
    {
      v13 = sub_4E4400(a1, a2, (int)&v15, 125, v16);
      if ( !v13 )
        break;
      sub_4E4340(a1, (int)&v19, a2, (int)&v15, "%d %d", (char)(&v17 + 2 * i));
    }
    sub_4E4260(a1, a2, v16);
    v2 = sub_4E4620(a1, a2, "ItemPrice.bin", (int)"wb");
    v16 = v2;
    if ( v2 )
    {
      sub_4E4040(a1, a2, &v17, 0x320u, 1u, v16);
      v2 = sub_4E4260(a1, a2, v16);
    }
    for ( j = 0; j < 100 && *(&v17 + 2 * j); ++j )
    {
      v11 = *(&v17 + 2 * j);
      if ( 3 * dword_9CCCC0[35 * v11] >= v18[2 * j] && 30 * dword_9CCCC0[35 * v11] / 100 <= v18[2 * j] )
      {
        v9 = dword_9CCCC0[35 * v11];
        dword_9CCCC0[35 * v11] = v18[2 * j];
        sub_4E3F40(a1, a2, (int)&v8, "set item price index [%d] set%d before %d to%d");
        v2 = Log(&v8, "-system", 0);
      }
      else
      {
        sub_4E3F40(a1, a2, (int)&v10, "err,set item price index [%d] set%d");
        v2 = Log(&v10, "-system", 0);
      }
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 9CCCC0: using guessed type int dword_9CCCC0[];
// 4029B0: using guessed type int var_31C[199];

//----- (00402D30) --------------------------------------------------------
signed int __cdecl sub_402D30(int a1, signed int a2)
{
  signed int result; // eax@2
  char v3; // [sp+Ch] [bp-4Ch]@1
  int v4; // [sp+4Ch] [bp-Ch]@1
  int v5; // [sp+50h] [bp-8h]@1
  int v6; // [sp+54h] [bp-4h]@1

  memset(&v3, -858993460, 0x4Cu);
  v6 = a2 / 8;
  v5 = a2 % 8;
  v4 = 1 << a2 % 8;
  if ( v4 & *(_BYTE *)(a2 / 8 + a1) )
    result = 1;
  else
    result = 0;
  return result;
}

//----- (00402DC0) --------------------------------------------------------
int __cdecl sub_402DC0(int a1, signed int a2)
{
  int result; // eax@1
  char v3; // [sp+Ch] [bp-4Ch]@1
  int v4; // [sp+4Ch] [bp-Ch]@1
  int v5; // [sp+50h] [bp-8h]@1
  int v6; // [sp+54h] [bp-4h]@1

  memset(&v3, -858993460, 0x4Cu);
  v6 = a2 / 8;
  v5 = a2 % 8;
  v4 = 1 << a2 % 8;
  result = a2 / 8 + a1;
  *(_BYTE *)(v6 + a1) |= v4;
  return result;
}

//----- (00402E40) --------------------------------------------------------
int __cdecl sub_402E40(int a1, signed int a2)
{
  int result; // eax@1
  char v3; // [sp+Ch] [bp-4Ch]@1
  int v4; // [sp+4Ch] [bp-Ch]@1
  int v5; // [sp+50h] [bp-8h]@1
  int v6; // [sp+54h] [bp-4h]@1

  memset(&v3, -858993460, 0x4Cu);
  v6 = a2 / 8;
  v5 = a2 % 8;
  v4 = (1 << a2 % 8) ^ 0xFF;
  result = a2 / 8 + a1;
  *(_BYTE *)(v6 + a1) &= ~(1 << a2 % 8);
  return result;
}

//----- (00402ED0) --------------------------------------------------------
int __cdecl sub_402ED0(int a1, signed int a2)
{
  int v2; // eax@3
  char v4; // [sp+0h] [bp-68h]@0
  int v5; // [sp+4h] [bp-64h]@0
  int v6; // [sp+8h] [bp-60h]@0
  char v7; // [sp+Ch] [bp-5Ch]@1
  int v8; // [sp+4Ch] [bp-1Ch]@111
  int v9; // [sp+50h] [bp-18h]@8
  int v10; // [sp+54h] [bp-14h]@8
  int v11; // [sp+58h] [bp-10h]@8
  int v12; // [sp+5Ch] [bp-Ch]@8
  int v13; // [sp+60h] [bp-8h]@6
  int v14; // [sp+64h] [bp-4h]@1

  memset(&v7, -858993460, 0x5Cu);
  v14 = *(_WORD *)a1;
  if ( v14 > 0 && v14 < 6500 )
  {
    if ( a2 < 500000 )
    {
      v13 = sub_4014E2(a1);
      if ( v13 < 3 )
      {
        v12 = word_9CCCC6[70 * v14];
        v11 = sub_401C44(a1, 60);
        v10 = sub_401C44(a1, 2);
        v9 = sub_401672(a1);
        if ( v12 != 64 && v12 != 192 )
        {
          if ( v11 >= 8 || v10 >= 12 )
          {
            v2 = 1;
            return sub_4E46A0(1, v2, v6, v4, v5);
          }
        }
        else
        {
          if ( v11 >= 12 || v10 >= 27 )
          {
            v2 = 1;
            return sub_4E46A0(1, v2, v6, v4, v5);
          }
        }
        if ( v9 <= 0
          && v14 != 419
          && v14 != 420
          && v14 != 657
          && (v14 < 470 || v14 >= 495)
          && (v14 < 3310 || v14 > 3999) )
        {
          if ( v14 < 2300 || v14 > 2386 )
          {
            if ( v14 >= 551
              && v14 <= 562
              && *(_BYTE *)(a1 + 2)
              && *(_BYTE *)(a1 + 2) != 59
              && *(_BYTE *)(a1 + 4)
              && *(_BYTE *)(a1 + 4) != 59 )
            {
              v2 = 1;
            }
            else
            {
              if ( v14 < 667 || v14 > 671 )
              {
                if ( v14 < 2391 || v14 > 2416 )
                {
                  if ( (v14 < 315 || v14 > 341) && (v14 < 2330 || v14 > 2388) && v14 != 3327 && v14 != 3140 )
                  {
                    if ( (v14 < 777 || v14 > 785) && (v14 < 3173 || v14 > 3190) )
                    {
                      if ( v14 != 4013 && v14 != 4014 )
                      {
                        if ( v14 < 4016 || v14 > 4025 )
                        {
                          if ( v14 < 4114 || v14 > 4116 )
                          {
                            if ( v14 == 4127 )
                            {
                              v2 = 1;
                            }
                            else
                            {
                              if ( v14 < 4128 || v14 > 4130 )
                              {
                                if ( v14 == 4110 )
                                {
                                  v2 = 1;
                                }
                                else
                                {
                                  if ( v14 == 3170 )
                                  {
                                    v2 = 1;
                                  }
                                  else
                                  {
                                    if ( v14 < 4051 || v14 > 4055 )
                                    {
                                      if ( v14 == 5338 )
                                      {
                                        v2 = 1;
                                      }
                                      else
                                      {
                                        if ( v14 != 412 && v14 != 413 )
                                        {
                                          if ( v14 < 1760 || v14 > 1763 )
                                          {
                                            switch ( v14 )
                                            {
                                              case 1742:
                                                v2 = 1;
                                                break;
                                              case 4010:
                                                v2 = 1;
                                                break;
                                              case 4011:
                                                v2 = 1;
                                                break;
                                              case 4900:
                                                v2 = 1;
                                                break;
                                              case 4901:
                                                v2 = 1;
                                                break;
                                              case 4902:
                                                v2 = 1;
                                                break;
                                              case 4007:
                                                v2 = 1;
                                                break;
                                              case 4104:
                                                v2 = 1;
                                                break;
                                              case 4140:
                                                v2 = 1;
                                                break;
                                              case 4049:
                                                v2 = 1;
                                                break;
                                              default:
                                                if ( v14 < 4152 || v14 > 4156 )
                                                {
                                                  if ( v14 == 4141 )
                                                  {
                                                    v2 = 1;
                                                  }
                                                  else
                                                  {
                                                    if ( v14 < 5110 || v14 > 5133 )
                                                    {
                                                      v8 = dword_9CCCC0[35 * v14];
                                                      v2 = v8 >= 500000;
                                                    }
                                                    else
                                                    {
                                                      v2 = 1;
                                                    }
                                                  }
                                                }
                                                else
                                                {
                                                  v2 = 1;
                                                }
                                                break;
                                            }
                                          }
                                          else
                                          {
                                            v2 = 1;
                                          }
                                        }
                                        else
                                        {
                                          v2 = 1;
                                        }
                                      }
                                    }
                                    else
                                    {
                                      v2 = 1;
                                    }
                                  }
                                }
                              }
                              else
                              {
                                v2 = 1;
                              }
                            }
                          }
                          else
                          {
                            v2 = 1;
                          }
                        }
                        else
                        {
                          v2 = 1;
                        }
                      }
                      else
                      {
                        v2 = 1;
                      }
                    }
                    else
                    {
                      v2 = 1;
                    }
                  }
                  else
                  {
                    v2 = 1;
                  }
                }
                else
                {
                  v2 = 1;
                }
              }
              else
              {
                v2 = 1;
              }
            }
          }
          else
          {
            v2 = 1;
          }
        }
        else
        {
          v2 = 1;
        }
      }
      else
      {
        v2 = 1;
      }
    }
    else
    {
      v2 = 1;
    }
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 401672: using guessed type _DWORD __cdecl sub_401672(_DWORD);
// 401C44: using guessed type _DWORD __cdecl sub_401C44(_DWORD, _DWORD);
// 9CCCC0: using guessed type int dword_9CCCC0[];
// 9CCCC6: using guessed type __int16 word_9CCCC6[];

//----- (00403480) --------------------------------------------------------
int __cdecl sub_403480(int a1, int a2)
{
  __int16 v2; // ax@16
  int v3; // eax@20
  char v5; // [sp+0h] [bp-78h]@0
  int v6; // [sp+4h] [bp-74h]@0
  int v7; // [sp+8h] [bp-70h]@0
  char v8; // [sp+Ch] [bp-6Ch]@1
  int v9; // [sp+4Ch] [bp-2Ch]@31
  int v10; // [sp+50h] [bp-28h]@28
  int i; // [sp+54h] [bp-24h]@21
  int v12; // [sp+58h] [bp-20h]@21
  int v13; // [sp+5Ch] [bp-1Ch]@21
  int v14; // [sp+60h] [bp-18h]@16
  int v15; // [sp+64h] [bp-14h]@12
  int v16; // [sp+68h] [bp-10h]@7
  int v17; // [sp+6Ch] [bp-Ch]@1
  int v18; // [sp+70h] [bp-8h]@1
  int v19; // [sp+74h] [bp-4h]@1

  memset(&v8, -858993460, 0x6Cu);
  v19 = *(_BYTE *)(a1 + 20);
  v18 = sub_4012DA(a2);
  v17 = 0;
  if ( v18 == 1 && *(_DWORD *)(a1 + 732) & 0x40000000 )
    v18 = 2;
  if ( v18 == 2 )
  {
    v17 = 1600;
  }
  else
  {
    if ( v18 == 1 )
    {
      v17 = 4 * *(_WORD *)(a1 + 64);
      v16 = sub_40191F(a1 + 92, 86);
      if ( v16 > 56 )
        v16 = 56;
      v17 += 3 * v16;
      if ( (signed int)*(_WORD *)(a1 + 64) >= 355 )
        v17 -= 2 * *(_WORD *)(a1 + 64) - 708;
    }
    else
    {
      v17 = 3 * *(_WORD *)(a1 + 64);
      v15 = *(_WORD *)(a1 + 64) - 199;
      if ( (signed int)*(_WORD *)(a1 + 64) > 354 )
        v15 -= *(_WORD *)(a1 + 64) - 354;
      if ( v15 > 0 )
        v17 += v15;
    }
  }
  v2 = *(_WORD *)(a1 + 22);
  v14 = v2 & 1;
  if ( v2 & 1 )
    v17 += 9;
  if ( v19 >= 0 && v19 <= 3 )
  {
    v13 = 0;
    v12 = 1;
    for ( i = 0; i < 24; ++i )
    {
      if ( v12 & *(_DWORD *)(a1 + 732) )
        v13 += dword_8B61C8[24 * (i + 24 * v19)];
      v12 *= 2;
    }
    for ( i = 24; i < 32; ++i )
    {
      v10 = i + 72;
      if ( v12 & *(_DWORD *)(a1 + 732) )
        v13 += dword_8B61C8[24 * v10];
      v12 *= 2;
    }
    v9 = v17 - v13;
    if ( v17 == v13 )
    {
      v3 = 1;
    }
    else
    {
      *(_WORD *)(a1 + 740) = v9;
      v3 = 0;
    }
  }
  else
  {
    v3 = 0;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4012DA: using guessed type _DWORD __cdecl sub_4012DA(_DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 8B61C8: using guessed type int dword_8B61C8[];

//----- (00403740) --------------------------------------------------------
int __cdecl sub_403740(int a1, int a2, int a3)
{
  int v3; // eax@9
  char v5; // [sp+0h] [bp-9Ch]@0
  int v6; // [sp+4h] [bp-98h]@0
  int v7; // [sp+8h] [bp-94h]@0
  char v8; // [sp+Ch] [bp-90h]@1
  int v9; // [sp+4Ch] [bp-50h]@84
  int v10; // [sp+50h] [bp-4Ch]@66
  int j; // [sp+54h] [bp-48h]@61
  int v12; // [sp+58h] [bp-44h]@50
  int v13; // [sp+5Ch] [bp-40h]@38
  int v14; // [sp+60h] [bp-3Ch]@32
  int v15; // [sp+64h] [bp-38h]@28
  int v16; // [sp+68h] [bp-34h]@13
  int v17; // [sp+6Ch] [bp-30h]@13
  int v18; // [sp+70h] [bp-2Ch]@13
  int v19; // [sp+74h] [bp-28h]@13
  int v20; // [sp+78h] [bp-24h]@13
  int v21; // [sp+7Ch] [bp-20h]@13
  int v22; // [sp+80h] [bp-1Ch]@13
  int v23; // [sp+84h] [bp-18h]@10
  int v24; // [sp+88h] [bp-14h]@7
  unsigned int v25; // [sp+8Ch] [bp-10h]@5
  unsigned int v26; // [sp+90h] [bp-Ch]@3
  int v27; // [sp+94h] [bp-8h]@3
  int i; // [sp+98h] [bp-4h]@1

  memset(&v8, -858993460, 0x90u);
  for ( i = 0; i < 100; ++i )
  {
    v27 = *(_WORD *)(a1 + 36);
    v26 = *(_DWORD *)(a1 + 28);
    if ( v27 <= dword_5A0FAC - 1 )
      break;
    if ( v27 > 400 )
      break;
    v25 = dword_597F28[v27];
    if ( v26 >= v25 )
      break;
    --*(_WORD *)(a1 + 36);
    --*(_WORD *)(a1 + 64);
  }
  v24 = *(_BYTE *)(a1 + 20);
  if ( v24 >= 0 && v24 <= 3 )
  {
    v23 = sub_4012DA(a2);
    if ( v23 == 1 && *(_DWORD *)(a1 + 732) & 0x40000000 )
      v23 = 2;
    v22 = *(_WORD *)(a1 + 52) - dword_594D70[6 * v24];
    v21 = *(_WORD *)(a1 + 54) - dword_594D74[6 * v24];
    v20 = *(_WORD *)(a1 + 56) - dword_594D78[6 * v24];
    v19 = *(_WORD *)(a1 + 58) - dword_594D7C[6 * v24];
    v18 = v19 + v20 + v21 + v22;
    v17 = *(_WORD *)(a1 + 36);
    v16 = 0;
    if ( v23 )
    {
      if ( v23 == 1 )
      {
        if ( v17 > 354 )
        {
          v16 = 2124;
          v14 = sub_40191F(a1 + 92, 86);
          if ( v14 >= 57 )
            v16 = v16 + 8 * v14 - 280;
          else
            v16 += 3 * v14;
          v16 += 12 * (v17 - 354);
        }
        else
        {
          v16 = 6 * v17;
          v15 = sub_40191F(a1 + 92, 86);
          if ( v15 >= 57 )
            v16 = v16 + 8 * v15 - 280;
          else
            v16 += 3 * v15;
        }
      }
      else
      {
        if ( v23 == 2 )
        {
          v13 = sub_40191F(a1 + 92, 86);
          if ( v13 )
          {
            v16 = 7 * v13;
            if ( v13 > 60 )
            {
              v16 += 3 * (v13 - 60);
              if ( v13 > 75 )
                v16 = v16 + 4 * v13 - 300;
              if ( v13 > 80 )
                v16 = v16 + 4 * v13 - 320;
              if ( v13 > 85 )
                v16 = v16 + 4 * v13 - 340;
              if ( v13 > 90 )
                v16 = v16 + 4 * v13 - 360;
              if ( v13 > 95 )
                v16 = v16 + 4 * v13 - 380;
            }
          }
          v16 += 6 * v17;
          v12 = 0;
          if ( v17 >= 120 )
          {
            v12 = 4 * v17 - 480;
            if ( v17 > 149 )
              v12 = v12 + 2 * v17 - 298;
            if ( v17 > 159 )
              v12 = v12 + 2 * v17 - 318;
            if ( v17 > 169 )
              v12 = v12 + 2 * v17 - 338;
            if ( v17 > 179 )
              v12 = v12 + 2 * v17 - 358;
            if ( v17 > 189 )
              v12 = v12 + 2 * v17 - 378;
          }
          v16 += v12;
          for ( j = 0; j < 4; ++j )
          {
            if ( sub_401A55(*(_BYTE *)(a3 + 1), j) )
              v16 += 100;
          }
          v10 = *(_BYTE *)(a3 + 3);
          switch ( v10 )
          {
            case 1:
              v16 += 100;
              break;
            case 2:
              v16 += 300;
              break;
            case 3:
              v16 += 600;
              break;
            case 4:
              v16 += 900;
              break;
            case 5:
              v16 += 1200;
              break;
            case 6:
              v16 += 1400;
              break;
            case 7:
              v16 += 1600;
              break;
            case 8:
              v16 += 1800;
              break;
          }
          v16 += 1000;
        }
      }
    }
    else
    {
      if ( v17 > 354 )
      {
        v16 = 1770;
        if ( v17 >= 254 )
          v16 += 500;
        if ( v17 >= 299 )
          v16 += 550;
        v16 += 12 * (v17 - 354);
      }
      else
      {
        v16 = 5 * v17;
        if ( v17 >= 254 )
          v16 += 5 * (v17 - 254);
        if ( v17 >= 299 )
          v16 += 10 * (v17 - 299);
      }
    }
    if ( v16 >= v18 )
    {
      *(_WORD *)(a1 + 736) = v16 - v18;
    }
    else
    {
      v9 = v22;
      if ( v22 < v21 )
        v9 = v21;
      if ( v9 < v20 )
        v9 = v20;
      if ( v9 < v19 )
        v9 = v19;
      if ( v9 == v22 )
      {
        *(_WORD *)(a1 + 52) += v16 - v18;
        *(_WORD *)(a1 + 736) = 0;
      }
      else
      {
        if ( v9 == v21 )
        {
          *(_WORD *)(a1 + 54) += v16 - v18;
          *(_WORD *)(a1 + 736) = 0;
        }
        else
        {
          if ( v9 == v20 )
          {
            *(_WORD *)(a1 + 56) += v16 - v18;
            *(_WORD *)(a1 + 736) = 0;
          }
          else
          {
            if ( v9 == v19 )
            {
              *(_WORD *)(a1 + 58) += v16 - v18;
              *(_WORD *)(a1 + 736) = 0;
            }
          }
        }
      }
    }
    v3 = 1;
  }
  else
  {
    v3 = 0;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4012DA: using guessed type _DWORD __cdecl sub_4012DA(_DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 401A55: using guessed type _DWORD __cdecl sub_401A55(char, _DWORD);
// 594D70: using guessed type int dword_594D70[];
// 594D74: using guessed type int dword_594D74[];
// 594D78: using guessed type int dword_594D78[];
// 594D7C: using guessed type int dword_594D7C[];
// 597F28: using guessed type int dword_597F28[];
// 5A0FAC: using guessed type int dword_5A0FAC;

//----- (00403EF0) --------------------------------------------------------
int __cdecl sub_403EF0(int a1, int a2)
{
  char v3; // [sp+0h] [bp-60h]@0
  int v4; // [sp+4h] [bp-5Ch]@0
  int v5; // [sp+8h] [bp-58h]@0
  char v6; // [sp+Ch] [bp-54h]@1
  int v7; // [sp+4Ch] [bp-14h]@7
  int v8; // [sp+50h] [bp-10h]@5
  int v9; // [sp+54h] [bp-Ch]@1
  int v10; // [sp+58h] [bp-8h]@1
  int v11; // [sp+5Ch] [bp-4h]@1

  memset(&v6, -858993460, 0x54u);
  v11 = sub_4012DA(a2);
  v10 = *(_BYTE *)(a1 + 63) + *(_BYTE *)(a1 + 62) + *(_BYTE *)(a1 + 61) + *(_BYTE *)(a1 + 60);
  v9 = 2 * *(_WORD *)(a1 + 36);
  if ( v11 == 1 && *(_DWORD *)(a1 + 732) & 0x40000000 )
  {
    v9 = 855;
  }
  else
  {
    if ( v11 == 1 )
    {
      v8 = *(_WORD *)(a1 + 36) - 199;
      if ( v8 > 0 )
        v9 += v8;
      v7 = sub_40191F(a1 + 92, 86);
      if ( v7 > 56 )
        v7 = 56;
      v9 += 2 * v7;
      if ( (signed int)*(_WORD *)(a1 + 36) >= 355 )
        v9 -= 2 * *(_WORD *)(a1 + 36) - 708;
    }
  }
  *(_WORD *)(a1 + 738) = v9 - v10;
  return sub_4E46A0(1, 1, v5, v3, v4);
}
// 4012DA: using guessed type _DWORD __cdecl sub_4012DA(_DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);

//----- (00404060) --------------------------------------------------------
int __cdecl sub_404060(int a1, int a2)
{
  char v3; // [sp+0h] [bp-50h]@0
  int v4; // [sp+4h] [bp-4Ch]@0
  int v5; // [sp+8h] [bp-48h]@0
  char v6; // [sp+Ch] [bp-44h]@1
  int v7; // [sp+4Ch] [bp-4h]@1

  memset(&v6, -858993460, 0x44u);
  v7 = sub_4012DA(a2);
  if ( v7 )
    *(_WORD *)(a1 + 38) = 2 * *(_WORD *)(a1 + 36) + 4;
  else
    *(_WORD *)(a1 + 38) = *(_WORD *)(a1 + 36) + 4;
  return sub_4E46A0(1, 1, v5, v3, v4);
}
// 4012DA: using guessed type _DWORD __cdecl sub_4012DA(_DWORD);

//----- (004040F0) --------------------------------------------------------
int __cdecl sub_4040F0(int a1, int a2)
{
  int v2; // eax@3
  char v4; // [sp+0h] [bp-6Ch]@0
  int v5; // [sp+4h] [bp-68h]@0
  int v6; // [sp+8h] [bp-64h]@0
  char v7; // [sp+Ch] [bp-60h]@1
  int v8; // [sp+4Ch] [bp-20h]@4
  int v9; // [sp+50h] [bp-1Ch]@4
  int v10; // [sp+54h] [bp-18h]@4
  int v11; // [sp+58h] [bp-14h]@4
  int v12; // [sp+5Ch] [bp-10h]@4
  int v13; // [sp+60h] [bp-Ch]@4
  int v14; // [sp+64h] [bp-8h]@1
  int v15; // [sp+68h] [bp-4h]@1

  memset(&v7, -858993460, 0x60u);
  v15 = *(_BYTE *)(a1 + 20);
  v14 = sub_4012DA(a2);
  if ( v15 >= 0 && v15 <= 3 )
  {
    v13 = dword_594D80[6 * v15];
    v12 = 2 * (*(_WORD *)(a1 + 58) - dword_594D7C[6 * v15]);
    v11 = dword_594F74[v15 + 4 * v14] * *(_WORD *)(a1 + 36);
    *(_WORD *)(a1 + 44) = v11 + v12 + (_WORD)v13;
    *(_WORD *)(a1 + 72) = v11 + v12 + (_WORD)v13;
    v10 = dword_594D84[6 * v15];
    v9 = 2 * (*(_WORD *)(a1 + 54) - dword_594D74[6 * v15]);
    v8 = dword_594F94[v15 + 4 * v14] * *(_WORD *)(a1 + 36);
    *(_WORD *)(a1 + 46) = v8 + v9 + (_WORD)v10;
    *(_WORD *)(a1 + 74) = v8 + v9 + (_WORD)v10;
    v2 = 1;
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4012DA: using guessed type _DWORD __cdecl sub_4012DA(_DWORD);
// 594D74: using guessed type int dword_594D74[];
// 594D7C: using guessed type int dword_594D7C[];
// 594D80: using guessed type int dword_594D80[];
// 594D84: using guessed type int dword_594D84[];
// 594F74: using guessed type int dword_594F74[];
// 594F94: using guessed type int dword_594F94[];

//----- (00404260) --------------------------------------------------------
int __cdecl sub_404260(int a1)
{
  char v2; // [sp+Ch] [bp-44h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  memset(&v2, -858993460, 0x44u);
  v3 = *(_BYTE *)(a1 + 7);
  v3 &= 0xFu;
  if ( v3 < 1 )
    v3 = 1;
  if ( v3 > 7 )
    v3 = 7;
  return v3;
}

//----- (004042D0) --------------------------------------------------------
int __cdecl sub_4042D0(int a1, signed int a2, signed int a3)
{
  char v4; // [sp+0h] [bp-58h]@0
  int v5; // [sp+4h] [bp-54h]@0
  int v6; // [sp+8h] [bp-50h]@0
  char v7; // [sp+Ch] [bp-4Ch]@1
  int v8; // [sp+4Ch] [bp-Ch]@3
  int v9; // [sp+50h] [bp-8h]@3
  int v10; // [sp+54h] [bp-4h]@1
  int v11; // [sp+68h] [bp+10h]@1

  memset(&v7, -858993460, 0x4Cu);
  v10 = a1 - a2 / 2;
  v11 = a3 / 2;
  if ( v11 > 7 )
    v11 = 7;
  v9 = 12 - v11;
  v8 = Rand()() % (12 - v11) + v11 + 99;
  v10 = v8 * v10 / 100;
  if ( v10 >= -50 )
  {
    if ( v10 < -50 || v10 >= 0 )
    {
      if ( v10 >= 0 && v10 <= 50 )
      {
        v10 = 5 * v10 / 4;
        v10 += 7;
      }
    }
    else
    {
      v10 += 50;
      v10 /= 7;
    }
  }
  else
  {
    v10 = 0;
  }
  if ( v10 <= 0 )
    v10 = 1;
  return sub_4E46A0(1, v10, v6, v4, v5);
}

//----- (00404400) --------------------------------------------------------
int __usercall sub_404400<eax>(int a1<ebx>, int a2<esi>, int a3, signed int a4)
{
  int v4; // eax@3
  char v6; // [sp+0h] [bp-4Ch]@0
  int v7; // [sp+4h] [bp-48h]@0
  int v8; // [sp+8h] [bp-44h]@0
  char v9; // [sp+Ch] [bp-40h]@1

  memset(&v9, -858993460, 0x40u);
  if ( a4 >= 0 && a4 < 500 )
    v4 = sub_4E3F40(a1, a2, a3, &byte_8A67C4[128 * a4]);
  else
    sub_4E4720(a3);
  return sub_4E46A0(1, v4, v8, v6, v7);
}

//----- (00404480) --------------------------------------------------------
int __usercall sub_404480<eax>(int a1<ebx>, int a2<esi>, int a3, signed int a4)
{
  int v4; // eax@3
  char v6; // [sp+0h] [bp-4Ch]@0
  int v7; // [sp+4h] [bp-48h]@0
  int v8; // [sp+8h] [bp-44h]@0
  char v9; // [sp+Ch] [bp-40h]@1

  memset(&v9, -858993460, 0x40u);
  if ( a4 >= 0 && a4 < 500 )
    v4 = sub_4E3F40(a1, a2, a3, &byte_8A67C4[128 * a4]);
  else
    sub_4E4720(a3);
  return sub_4E46A0(1, v4, v8, v6, v7);
}

//----- (00404BF0) --------------------------------------------------------
int __cdecl sub_404BF0(int a1, signed int a2, signed int a3)
{
  char v4; // [sp+0h] [bp-58h]@0
  int v5; // [sp+4h] [bp-54h]@0
  int v6; // [sp+8h] [bp-50h]@0
  char v7; // [sp+Ch] [bp-4Ch]@1
  int v8; // [sp+4Ch] [bp-Ch]@3
  int v9; // [sp+50h] [bp-8h]@3
  int v10; // [sp+54h] [bp-4h]@1

  memset(&v7, -858993460, 0x4Cu);
  v10 = a1 - a2 / 2;
  if ( a3 > 15 )
    a3 = 15;
  v9 = 21 - a3;
  v8 = Rand()() % (21 - a3) + a3 + 90;
  v10 = v8 * v10 / 100;
  if ( v10 >= -50 )
  {
    if ( v10 < -50 || v10 >= 0 )
    {
      if ( v10 >= 0 && v10 <= 45 )
      {
        v10 = 5 * v10 / 4;
        v10 += 5;
      }
    }
    else
    {
      v10 += 50;
      v10 /= 10;
    }
  }
  else
  {
    v10 = 0;
  }
  if ( v10 <= 0 )
    v10 = 1;
  return sub_4E46A0(1, v10, v6, v4, v5);
}

//----- (00404D10) --------------------------------------------------------
int __usercall sub_404D10<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-168h]@0
  int v6; // [sp+4h] [bp-164h]@0
  int v7; // [sp+8h] [bp-160h]@0
  char v8; // [sp+Ch] [bp-15Ch]@1
  __int16 v9; // [sp+4Ch] [bp-11Ch]@1
  char v10; // [sp+50h] [bp-118h]@1
  char v11; // [sp+54h] [bp-114h]@1
  char v12; // [sp+58h] [bp-110h]@1
  char v13; // [sp+5Ch] [bp-10Ch]@1
  char v14; // [sp+60h] [bp-108h]@1
  char v15; // [sp+64h] [bp-104h]@1
  char v16; // [sp+68h] [bp-100h]@1
  int v17; // [sp+168h] [bp+0h]@1

  memset(&v8, -858993460, 0x15Cu);
  sub_4E4720((int)&v16);
  sub_401073(&v16);
  sub_4E4640((void *)a3, 0, 8u);
  sub_4E4640(&v9, 0, 0x1Cu);
  sub_4E4340(a1, (int)&v17, a2, (int)&v16, "%d %d %d %d %d %d %d", (unsigned int)&v9);
  *(_WORD *)a3 = v9;
  *(_BYTE *)(a3 + 2) = v10;
  *(_BYTE *)(a3 + 3) = v11;
  *(_BYTE *)(a3 + 4) = v12;
  v3 = a3;
  *(_BYTE *)(a3 + 5) = v13;
  LOBYTE(v3) = v14;
  *(_BYTE *)(a3 + 6) = v14;
  *(_BYTE *)(a3 + 7) = v15;
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401073: using guessed type _DWORD __cdecl sub_401073(_DWORD);

//----- (00404E70) --------------------------------------------------------
int __usercall sub_404E70<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-68h]@0
  int v7; // [sp+4h] [bp-64h]@0
  int v8; // [sp+8h] [bp-60h]@0
  char v9; // [sp+Ch] [bp-5Ch]@1
  int v10; // [sp+4Ch] [bp-1Ch]@1
  int v11; // [sp+50h] [bp-18h]@1
  int v12; // [sp+54h] [bp-14h]@1
  int v13; // [sp+58h] [bp-10h]@1
  int v14; // [sp+5Ch] [bp-Ch]@1
  int v15; // [sp+60h] [bp-8h]@1
  int v16; // [sp+64h] [bp-4h]@1

  memset(&v9, -858993460, 0x5Cu);
  v16 = *(_WORD *)a3;
  LOBYTE(v15) = *(_BYTE *)(a3 + 2);
  LOBYTE(v14) = *(_BYTE *)(a3 + 3);
  LOBYTE(v13) = *(_BYTE *)(a3 + 4);
  LOBYTE(v12) = *(_BYTE *)(a3 + 5);
  LOBYTE(v11) = *(_BYTE *)(a3 + 6);
  LOBYTE(v10) = *(_BYTE *)(a3 + 7);
  v4 = sub_4E3F40(a1, a2, a4, " %4.4x%2.2x%2.2x%2.2x%2.2x%2.2x%2.2x");
  return sub_4E46A0(1, v4, v8, v6, v7);
}

//----- (004057D0) --------------------------------------------------------
int __cdecl sub_4057D0(int a1, char a2)
{
  int v2; // eax@3
  char v4; // [sp+0h] [bp-88h]@0
  int v5; // [sp+4h] [bp-84h]@0
  int v6; // [sp+8h] [bp-80h]@0
  char v7; // [sp+Ch] [bp-7Ch]@1
  int v8; // [sp+4Ch] [bp-3Ch]@162
  int v9; // [sp+50h] [bp-38h]@143
  int v10; // [sp+54h] [bp-34h]@114
  int k; // [sp+58h] [bp-30h]@104
  int v12; // [sp+5Ch] [bp-2Ch]@95
  int j; // [sp+60h] [bp-28h]@92
  int v14; // [sp+64h] [bp-24h]@80
  int v15; // [sp+68h] [bp-20h]@66
  int v16; // [sp+6Ch] [bp-1Ch]@66
  int v17; // [sp+70h] [bp-18h]@46
  int i; // [sp+74h] [bp-14h]@43
  int v19; // [sp+78h] [bp-10h]@4
  int v20; // [sp+7Ch] [bp-Ch]@4
  int v21; // [sp+80h] [bp-8h]@1
  int v22; // [sp+84h] [bp-4h]@1

  memset(&v7, -858993460, 0x7Cu);
  v22 = 0;
  v21 = *(_WORD *)a1;
  if ( v21 > 0 && v21 <= 6500 )
  {
    v20 = word_9CCCC4[70 * v21];
    v19 = word_9CCCC6[70 * v21];
    if ( (unsigned __int8)a2 != 67 && (unsigned __int8)a2 != 68 || v20 >= 41 && v20 <= 50 )
    {
      if ( (unsigned __int8)a2 == 42 && (*(_BYTE *)(a1 + 4) == 71 || *(_BYTE *)(a1 + 6) == 71) )
        a2 = 71;
      if ( (unsigned __int8)a2 == 2 && v19 == 32 && (*(_BYTE *)(a1 + 4) == 73 || *(_BYTE *)(a1 + 6) == 73) )
        a2 = 73;
      if ( (unsigned __int8)a2 == 46 && (*(_BYTE *)(a1 + 4) == 70 || *(_BYTE *)(a1 + 6) == 70) )
        a2 = 70;
      if ( (unsigned __int8)a2 == 45 && (*(_BYTE *)(a1 + 4) == 69 || *(_BYTE *)(a1 + 6) == 69) )
        a2 = 69;
      if ( (unsigned __int8)a2 == 53 && (*(_BYTE *)(a1 + 4) == 72 || *(_BYTE *)(a1 + 6) == 72) )
        a2 = 72;
      if ( (unsigned __int8)a2 == 1 )
        v22 += word_9CCC86[70 * v21];
      if ( (unsigned __int8)a2 == 22 )
        v22 += word_9CCC88[70 * v21];
      if ( (unsigned __int8)a2 == 23 )
        v22 += word_9CCC8A[70 * v21];
      if ( (unsigned __int8)a2 == 24 )
        v22 += word_9CCC8C[70 * v21];
      if ( (unsigned __int8)a2 == 25 )
        v22 += word_9CCC8E[70 * v21];
      if ( (unsigned __int8)a2 == 17 )
        v22 += (unsigned __int16)word_9CCCC6[70 * v21];
      if ( (unsigned __int8)a2 != 78 )
      {
        for ( i = 0; i < 12; ++i )
        {
          if ( *(&word_9CCC90[70 * v21] + 2 * i) == (unsigned __int8)a2 )
          {
            v17 = *(&word_9CCC92[70 * v21] + 2 * i);
            if ( (unsigned __int8)a2 == 26 && v17 == 1 )
              v17 = 10;
            v22 += v17;
          }
        }
      }
      if ( (signed int)*(_WORD *)a1 < 2330 || (signed int)*(_WORD *)a1 >= 2390 )
      {
        if ( (signed int)*(_WORD *)a1 < 3980 || (signed int)*(_WORD *)a1 >= 4000 )
        {
          for ( j = 0; j < 3; ++j )
          {
            if ( *(_BYTE *)(a1 + 2 * j + 2) == (unsigned __int8)a2 )
            {
              v12 = *(_BYTE *)(a1 + 2 * j + 3);
              if ( (unsigned __int8)a2 == 26 && v12 == 1 )
                v12 = 10;
              v22 += v12;
            }
          }
          if ( (unsigned __int8)a2 == 49
            || (unsigned __int8)a2 == 50
            || (unsigned __int8)a2 == 51
            || (unsigned __int8)a2 == 52 )
          {
            for ( k = 0; k < 12; ++k )
            {
              if ( *(&word_9CCC90[70 * v21] + 2 * k) == 54 )
                v22 += *(&word_9CCC92[70 * v21] + 2 * k);
            }
            for ( k = 0; k < 3; ++k )
            {
              if ( *(_BYTE *)(a1 + 2 * k + 2) == 54 )
                v22 += *(_BYTE *)(a1 + 2 * k + 3);
            }
          }
          v10 = sub_4014E2(a1);
          if ( (signed int)*(_WORD *)a1 <= 40 )
            v10 = 0;
          if ( v10 >= 9 && v19 & 0xF00 )
            ++v10;
          if ( v10
            && (unsigned __int8)a2 != 33
            && (unsigned __int8)a2 != 18
            && (unsigned __int8)a2 != 17
            && (unsigned __int8)a2 != 21
            && (unsigned __int8)a2 != 27
            && (unsigned __int8)a2 != 1
            && (unsigned __int8)a2 != 22
            && (unsigned __int8)a2 != 23
            && (unsigned __int8)a2 != 24
            && (unsigned __int8)a2 != 25
            && (unsigned __int8)a2 != 38
            && (unsigned __int8)a2 != 78
            && (unsigned __int8)a2 != 84
            && (unsigned __int8)a2 != 86
            && (unsigned __int8)a2 != 112
            && (unsigned __int8)a2 != 87
            && (unsigned __int8)a2 != 88
            && (unsigned __int8)a2 != 48
            && (unsigned __int8)a2 != 47
            && (unsigned __int8)a2 != 113 )
          {
            if ( v10 > 10 )
            {
              if ( v10 >= 11 )
              {
                v9 = v10 - 10;
                if ( v10 == 11 )
                {
                  v9 = 220;
                }
                else
                {
                  switch ( v9 )
                  {
                    case 2:
                      v9 = 250;
                      break;
                    case 3:
                      v9 = 280;
                      break;
                    case 4:
                      v9 = 320;
                      break;
                    case 5:
                      v9 = 370;
                      break;
                  }
                }
                v22 *= 10;
                v22 = v9 * v22 / 100;
                v22 /= 10;
              }
            }
            else
            {
              v22 *= v10 + 10;
              v22 /= 10;
            }
          }
          if ( (unsigned __int8)a2 == 29 )
          {
            if ( v22 >= 3 )
              v22 = 2;
            if ( v22 > 0 && v10 >= 9 )
              ++v22;
          }
          if ( (unsigned __int8)a2 == 56 || (unsigned __int8)a2 == 57 )
          {
            LOBYTE(v8) = v22;
            v22 = (unsigned __int8)v22;
          }
          if ( (unsigned __int8)a2 == 48 || (unsigned __int8)a2 == 47 )
            v22 *= v10;
          if ( (unsigned __int8)a2 == 33 && (v22 < 0 || v22 > 7) )
            v22 = 0;
          v2 = v22;
        }
        else
        {
          v14 = *(_WORD *)a1 - 3980;
          switch ( a2 )
          {
            case 2:
              v2 = dword_597720[6 * v14];
              break;
            case 0x3C:
              v2 = dword_597724[6 * v14];
              break;
            case 0x28:
              v2 = dword_597728[6 * v14];
              break;
            default:
              if ( (unsigned __int8)a2 != 49
                && (unsigned __int8)a2 != 50
                && (unsigned __int8)a2 != 51
                && (unsigned __int8)a2 != 52 )
                v2 = v22;
              else
                v2 = dword_59772C[6 * v14];
              break;
          }
        }
      }
      else
      {
        switch ( a2 )
        {
          case 0x50:
            v2 = *(_WORD *)(a1 + 2);
            break;
          case 0x51:
            v2 = *(_BYTE *)(a1 + 4);
            break;
          case 0x4F:
            v2 = *(_BYTE *)(a1 + 5);
            break;
          case 0x52:
            v2 = *(_BYTE *)(a1 + 6);
            break;
          default:
            if ( (unsigned __int8)a2 != 83 )
            {
              if ( (signed int)*(_WORD *)a1 >= 2362
                && (signed int)*(_WORD *)a1 < 2390
                && (signed int)*(_WORD *)(a1 + 2) > 0 )
              {
                v16 = *(_BYTE *)(a1 + 4);
                v15 = *(_WORD *)a1 - 2360;
                if ( (unsigned __int8)a2 == 2 )
                {
                  v2 = dword_597450[6 * v15] * (v16 + 20) / 100;
                  return sub_4E46A0(1, v2, v6, v4, v5);
                }
                if ( (unsigned __int8)a2 == 60 )
                {
                  v2 = dword_597454[6 * v15] * (v16 + 15) / 100;
                  return sub_4E46A0(1, v2, v6, v4, v5);
                }
                if ( (unsigned __int8)a2 == 40 )
                {
                  v2 = dword_597458[6 * v15];
                  return sub_4E46A0(1, v2, v6, v4, v5);
                }
                if ( (unsigned __int8)a2 == 49
                  || (unsigned __int8)a2 == 50
                  || (unsigned __int8)a2 == 51
                  || (unsigned __int8)a2 == 52 )
                {
                  v2 = dword_59745C[6 * v15];
                  return sub_4E46A0(1, v2, v6, v4, v5);
                }
              }
              v2 = v22;
              return sub_4E46A0(1, v2, v6, v4, v5);
            }
            v2 = *(_BYTE *)(a1 + 7);
            break;
        }
      }
    }
    else
    {
      v2 = 0;
    }
  }
  else
  {
    v2 = v22;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 597450: using guessed type int dword_597450[];
// 597454: using guessed type int dword_597454[];
// 597458: using guessed type int dword_597458[];
// 59745C: using guessed type int dword_59745C[];
// 597720: using guessed type int dword_597720[];
// 597724: using guessed type int dword_597724[];
// 597728: using guessed type int dword_597728[];
// 59772C: using guessed type int dword_59772C[];
// 9CCC86: using guessed type __int16 word_9CCC86[];
// 9CCC88: using guessed type __int16 word_9CCC88[];
// 9CCC8A: using guessed type __int16 word_9CCC8A[];
// 9CCC8C: using guessed type __int16 word_9CCC8C[];
// 9CCC8E: using guessed type __int16 word_9CCC8E[];
// 9CCC90: using guessed type __int16 word_9CCC90[];
// 9CCC92: using guessed type __int16 word_9CCC92[];
// 9CCCC4: using guessed type __int16 word_9CCCC4[];
// 9CCCC6: using guessed type __int16 word_9CCCC6[];

//----- (004063D0) --------------------------------------------------------
int __cdecl sub_4063D0(int a1, unsigned __int8 a2)
{
  int v2; // eax@3
  char v4; // [sp+0h] [bp-7Ch]@0
  int v5; // [sp+4h] [bp-78h]@0
  int v6; // [sp+8h] [bp-74h]@0
  char v7; // [sp+Ch] [bp-70h]@1
  int v8; // [sp+4Ch] [bp-30h]@125
  int v9; // [sp+50h] [bp-2Ch]@106
  int v10; // [sp+54h] [bp-28h]@83
  int v11; // [sp+58h] [bp-24h]@71
  int v12; // [sp+5Ch] [bp-20h]@57
  int v13; // [sp+60h] [bp-1Ch]@57
  int j; // [sp+64h] [bp-18h]@32
  int v15; // [sp+68h] [bp-14h]@23
  int i; // [sp+6Ch] [bp-10h]@20
  int v17; // [sp+70h] [bp-Ch]@7
  int v18; // [sp+74h] [bp-8h]@1
  int v19; // [sp+78h] [bp-4h]@1

  memset(&v7, -858993460, 0x70u);
  v19 = 0;
  v18 = *(_WORD *)a1;
  if ( v18 > 0 && v18 <= 6500 )
  {
    if ( v18 < 3200 || v18 > 3300 )
    {
      v17 = word_9CCCC6[70 * v18];
      if ( a2 == 1 )
        v19 += word_9CCC86[70 * v18];
      if ( a2 == 22 )
        v19 += word_9CCC88[70 * v18];
      if ( a2 == 23 )
        v19 += word_9CCC8A[70 * v18];
      if ( a2 == 24 )
        v19 += word_9CCC8C[70 * v18];
      if ( a2 == 25 )
        v19 += word_9CCC8E[70 * v18];
      if ( a2 == 17 )
        v19 += (unsigned __int16)word_9CCCC6[70 * v18];
      if ( a2 != 78 )
      {
        for ( i = 0; i < 12; ++i )
        {
          if ( *(&word_9CCC90[70 * v18] + 2 * i) == a2 )
          {
            v15 = *(&word_9CCC92[70 * v18] + 2 * i);
            if ( a2 == 26 && v15 == 1 )
              v15 = 10;
            v19 += v15;
          }
        }
      }
      if ( a2 == 49 || a2 == 50 || a2 == 51 || a2 == 52 )
      {
        for ( j = 0; j < 12; ++j )
        {
          if ( *(&word_9CCC90[70 * v18] + 2 * j) == 54 )
            v19 += *(&word_9CCC92[70 * v18] + 2 * j);
        }
        for ( j = 0; j < 3; ++j )
        {
          if ( *(_BYTE *)(a1 + 2 * j + 2) == 54 )
            v19 += *(_BYTE *)(a1 + 2 * j + 3);
        }
      }
      if ( (signed int)*(_WORD *)a1 < 2330 || (signed int)*(_WORD *)a1 >= 2390 )
      {
        if ( (signed int)*(_WORD *)a1 < 3980 || (signed int)*(_WORD *)a1 >= 4000 )
        {
          v10 = sub_4014E2(a1);
          if ( v10 >= 9 && v17 & 0xF00 )
            ++v10;
          if ( v10
            && a2 != 33
            && a2 != 18
            && a2 != 17
            && a2 != 21
            && a2 != 27
            && a2 != 1
            && a2 != 22
            && a2 != 23
            && a2 != 24
            && a2 != 25
            && a2 != 38
            && a2 != 78
            && a2 != 84
            && a2 != 86
            && a2 != 48
            && a2 != 47 )
          {
            if ( v10 > 10 )
            {
              if ( v10 >= 11 )
              {
                v9 = v10 - 10;
                if ( v10 == 11 )
                {
                  v9 = 220;
                }
                else
                {
                  switch ( v9 )
                  {
                    case 2:
                      v9 = 250;
                      break;
                    case 3:
                      v9 = 280;
                      break;
                    case 4:
                      v9 = 320;
                      break;
                    case 5:
                      v9 = 370;
                      break;
                  }
                }
                v19 *= 10;
                v19 = v9 * v19 / 100;
                v19 /= 10;
              }
            }
            else
            {
              v19 *= v10 + 10;
              v19 /= 10;
            }
          }
          if ( a2 == 29 )
          {
            if ( v19 >= 3 )
              v19 = 2;
            if ( v19 > 0 && v10 >= 9 )
              ++v19;
          }
          if ( a2 == 56 || a2 == 57 )
          {
            LOBYTE(v8) = v19;
            v19 = (unsigned __int8)v19;
          }
          if ( a2 == 48 || a2 == 47 )
            v19 *= v10;
          v2 = v19;
        }
        else
        {
          v11 = *(_WORD *)a1 - 3980;
          switch ( a2 )
          {
            case 2u:
              v2 = dword_597720[6 * v11];
              break;
            case 0x3Cu:
              v2 = dword_597724[6 * v11];
              break;
            case 0x28u:
              v2 = dword_597728[6 * v11];
              break;
            default:
              if ( a2 != 49 && a2 != 50 && a2 != 51 && a2 != 52 )
                v2 = v19;
              else
                v2 = dword_59772C[6 * v11];
              break;
          }
        }
      }
      else
      {
        switch ( a2 )
        {
          case 0x50u:
            v2 = *(_WORD *)(a1 + 2);
            break;
          case 0x51u:
            v2 = *(_BYTE *)(a1 + 4);
            break;
          case 0x4Fu:
            v2 = *(_BYTE *)(a1 + 5);
            break;
          case 0x52u:
            v2 = *(_BYTE *)(a1 + 6);
            break;
          default:
            if ( a2 != 83 )
            {
              if ( (signed int)*(_WORD *)a1 >= 2362
                && (signed int)*(_WORD *)a1 < 2390
                && (signed int)*(_WORD *)(a1 + 2) > 0 )
              {
                v13 = *(_BYTE *)(a1 + 4);
                v12 = *(_WORD *)a1 - 2360;
                if ( a2 == 2 )
                {
                  v2 = dword_597450[6 * v12] * (v13 + 20) / 100;
                  return sub_4E46A0(1, v2, v6, v4, v5);
                }
                if ( a2 == 60 )
                {
                  v2 = dword_597454[6 * v12] * (v13 + 15) / 100;
                  return sub_4E46A0(1, v2, v6, v4, v5);
                }
                if ( a2 == 40 )
                {
                  v2 = dword_597458[6 * v12];
                  return sub_4E46A0(1, v2, v6, v4, v5);
                }
                if ( a2 == 49 || a2 == 50 || a2 == 51 || a2 == 52 )
                {
                  v2 = dword_59745C[6 * v12];
                  return sub_4E46A0(1, v2, v6, v4, v5);
                }
              }
              v2 = v19;
              return sub_4E46A0(1, v2, v6, v4, v5);
            }
            v2 = *(_BYTE *)(a1 + 7);
            break;
        }
      }
    }
    else
    {
      v2 = v19;
    }
  }
  else
  {
    v2 = v19;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 597450: using guessed type int dword_597450[];
// 597454: using guessed type int dword_597454[];
// 597458: using guessed type int dword_597458[];
// 59745C: using guessed type int dword_59745C[];
// 597720: using guessed type int dword_597720[];
// 597724: using guessed type int dword_597724[];
// 597728: using guessed type int dword_597728[];
// 59772C: using guessed type int dword_59772C[];
// 9CCC86: using guessed type __int16 word_9CCC86[];
// 9CCC88: using guessed type __int16 word_9CCC88[];
// 9CCC8A: using guessed type __int16 word_9CCC8A[];
// 9CCC8C: using guessed type __int16 word_9CCC8C[];
// 9CCC8E: using guessed type __int16 word_9CCC8E[];
// 9CCC90: using guessed type __int16 word_9CCC90[];
// 9CCC92: using guessed type __int16 word_9CCC92[];
// 9CCCC6: using guessed type __int16 word_9CCCC6[];

//----- (00406D80) --------------------------------------------------------
int __cdecl sub_406D80(int a1, unsigned __int8 a2)
{
  int v2; // eax@3
  char v4; // [sp+0h] [bp-6Ch]@0
  int v5; // [sp+4h] [bp-68h]@0
  int v6; // [sp+8h] [bp-64h]@0
  char v7; // [sp+Ch] [bp-60h]@1
  int v8; // [sp+4Ch] [bp-20h]@56
  int v9; // [sp+50h] [bp-1Ch]@35
  int j; // [sp+54h] [bp-18h]@25
  int v11; // [sp+58h] [bp-14h]@16
  int i; // [sp+5Ch] [bp-10h]@13
  int v13; // [sp+60h] [bp-Ch]@13
  int v14; // [sp+64h] [bp-8h]@7
  int v15; // [sp+68h] [bp-4h]@7

  memset(&v7, -858993460, 0x60u);
  if ( (signed int)*(_WORD *)a1 < 2330 || (signed int)*(_WORD *)a1 >= 2390 )
  {
    if ( (signed int)*(_WORD *)a1 < 3980 || (signed int)*(_WORD *)a1 >= 4000 )
    {
      v15 = 0;
      v14 = *(_WORD *)a1;
      if ( v14 > 0 && v14 <= 6500 )
      {
        if ( v14 < 3200 || v14 > 3300 )
        {
          v13 = word_9CCCC6[70 * v14];
          for ( i = 0; i < 3; ++i )
          {
            if ( *(_BYTE *)(a1 + 2 * i + 2) == a2 )
            {
              v11 = *(_BYTE *)(a1 + 2 * i + 3);
              if ( a2 == 26 && v11 == 1 )
                v11 = 10;
              v15 += v11;
            }
          }
          if ( a2 == 49 || a2 == 50 || a2 == 51 || a2 == 52 )
          {
            for ( j = 0; j < 12; ++j )
            {
              if ( *(&word_9CCC90[70 * v14] + 2 * j) == 54 )
                v15 += *(&word_9CCC92[70 * v14] + 2 * j);
            }
            for ( j = 0; j < 3; ++j )
            {
              if ( *(_BYTE *)(a1 + 2 * j + 2) == 54 )
                v15 += *(_BYTE *)(a1 + 2 * j + 3);
            }
          }
          v9 = sub_4014E2(a1);
          if ( v9 >= 9 && v13 & 0xF00 )
            ++v9;
          if ( v9
            && a2 != 33
            && a2 != 18
            && a2 != 17
            && a2 != 21
            && a2 != 27
            && a2 != 1
            && a2 != 22
            && a2 != 23
            && a2 != 24
            && a2 != 25
            && a2 != 38
            && a2 != 78
            && a2 != 84
            && a2 != 86 )
          {
            if ( v9 > 10 )
            {
              if ( v9 >= 11 )
              {
                v8 = v9 - 10;
                if ( v9 == 11 )
                {
                  v8 = 220;
                }
                else
                {
                  switch ( v8 )
                  {
                    case 2:
                      v8 = 250;
                      break;
                    case 3:
                      v8 = 280;
                      break;
                    case 4:
                      v8 = 320;
                      break;
                    case 5:
                      v8 = 370;
                      break;
                  }
                }
                v15 *= 10;
                v15 = v8 * v15 / 100;
                v15 /= 10;
              }
            }
            else
            {
              v15 *= v9 + 10;
              v15 /= 10;
            }
          }
          v2 = v15;
        }
        else
        {
          v2 = v15;
        }
      }
      else
      {
        v2 = v15;
      }
    }
    else
    {
      v2 = 0;
    }
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 9CCC90: using guessed type __int16 word_9CCC90[];
// 9CCC92: using guessed type __int16 word_9CCC92[];
// 9CCCC6: using guessed type __int16 word_9CCCC6[];

//----- (00407490) --------------------------------------------------------
char __cdecl sub_407490(int a1, signed int a2)
{
  int v2; // eax@1
  char v4; // [sp+Ch] [bp-4Ch]@1
  bool v5; // [sp+4Ch] [bp-Ch]@27
  bool v6; // [sp+50h] [bp-8h]@21
  bool v7; // [sp+54h] [bp-4h]@15

  LOBYTE(v2) = -52;
  memset(&v4, -858993460, 0x4Cu);
  if ( a2 < 126 && a2 > 115 || a2 == 43 )
  {
    if ( *(_BYTE *)(a1 + 2) != 43 && (v2 = *(_BYTE *)(a1 + 4), v2 != 43) && *(_BYTE *)(a1 + 6) != 43 )
    {
      v7 = (signed int)*(_BYTE *)(a1 + 2) >= 115 && (LOBYTE(v2) = a1, (signed int)*(_BYTE *)(a1 + 2) <= 126);
      if ( v7 )
      {
        LOBYTE(v2) = a2;
        *(_BYTE *)(a1 + 2) = a2;
      }
      else
      {
        v6 = (signed int)*(_BYTE *)(a1 + 4) >= 115 && (LOBYTE(v2) = a1, (signed int)*(_BYTE *)(a1 + 4) <= 126);
        if ( v6 )
        {
          LOBYTE(v2) = a2;
          *(_BYTE *)(a1 + 4) = a2;
        }
        else
        {
          v5 = (signed int)*(_BYTE *)(a1 + 6) >= 115 && (LOBYTE(v2) = a1, (signed int)*(_BYTE *)(a1 + 6) <= 126);
          if ( v5 )
          {
            LOBYTE(v2) = a2;
            *(_BYTE *)(a1 + 6) = a2;
          }
        }
      }
    }
    else
    {
      if ( *(_BYTE *)(a1 + 2) == 43 )
      {
        LOBYTE(v2) = a2;
        *(_BYTE *)(a1 + 2) = a2;
      }
      else
      {
        if ( *(_BYTE *)(a1 + 4) == 43 )
        {
          LOBYTE(v2) = a1;
          *(_BYTE *)(a1 + 4) = a2;
        }
        else
        {
          LOBYTE(v2) = a2;
          *(_BYTE *)(a1 + 6) = a2;
        }
      }
    }
  }
  return v2;
}

//----- (004077B0) --------------------------------------------------------
int __cdecl sub_4077B0(int a1)
{
  int result; // eax@3
  char v2; // [sp+Ch] [bp-54h]@1
  bool v3; // [sp+4Ch] [bp-14h]@33
  bool v4; // [sp+50h] [bp-10h]@27
  bool v5; // [sp+54h] [bp-Ch]@21
  int v6; // [sp+58h] [bp-8h]@37
  int v7; // [sp+5Ch] [bp-4h]@10

  memset(&v2, -858993460, 0x54u);
  if ( (signed int)*(_WORD *)a1 < 2330 || (signed int)*(_WORD *)a1 >= 2390 )
  {
    if ( (signed int)*(_WORD *)a1 < 3200 || (signed int)*(_WORD *)a1 >= 3300 )
    {
      if ( (signed int)*(_WORD *)a1 < 3980 || (signed int)*(_WORD *)a1 >= 4000 )
      {
        LOBYTE(v7) = 0;
        if ( *(_BYTE *)(a1 + 2) != 43 && *(_BYTE *)(a1 + 4) != 43 && *(_BYTE *)(a1 + 6) != 43 )
        {
          v5 = (signed int)*(_BYTE *)(a1 + 2) >= 115 && (signed int)*(_BYTE *)(a1 + 2) <= 126;
          if ( v5 )
          {
            LOBYTE(v7) = *(_BYTE *)(a1 + 3);
          }
          else
          {
            v4 = (signed int)*(_BYTE *)(a1 + 4) >= 115 && (signed int)*(_BYTE *)(a1 + 4) <= 126;
            if ( v4 )
            {
              LOBYTE(v7) = *(_BYTE *)(a1 + 5);
            }
            else
            {
              v3 = (signed int)*(_BYTE *)(a1 + 6) >= 115 && (signed int)*(_BYTE *)(a1 + 6) <= 126;
              if ( v3 )
                LOBYTE(v7) = *(_BYTE *)(a1 + 7);
            }
          }
        }
        else
        {
          if ( *(_BYTE *)(a1 + 2) == 43 )
          {
            LOBYTE(v7) = *(_BYTE *)(a1 + 3);
          }
          else
          {
            if ( *(_BYTE *)(a1 + 4) == 43 )
              LOBYTE(v7) = *(_BYTE *)(a1 + 5);
            else
              LOBYTE(v7) = *(_BYTE *)(a1 + 7);
          }
        }
        v6 = (unsigned __int8)v7;
        if ( *(_WORD *)a1 != 786 && *(_WORD *)a1 != 1936 && *(_WORD *)a1 != 1937 )
        {
          if ( v6 < 230 )
            v6 %= 10;
          else
            v6 -= 220;
          if ( v6 >= 10 )
          {
            if ( v6 <= 35 )
              v6 = (v6 - 10) / 4 + 10;
          }
        }
        result = v6;
      }
      else
      {
        result = 0;
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00407A50) --------------------------------------------------------
int __cdecl sub_407A50(int a1)
{
  int result; // eax@3
  char v2; // [sp+Ch] [bp-54h]@1
  bool v3; // [sp+4Ch] [bp-14h]@33
  bool v4; // [sp+50h] [bp-10h]@27
  bool v5; // [sp+54h] [bp-Ch]@21
  int v6; // [sp+58h] [bp-8h]@37
  int v7; // [sp+5Ch] [bp-4h]@10

  memset(&v2, -858993460, 0x54u);
  if ( (signed int)*(_WORD *)a1 < 2330 || (signed int)*(_WORD *)a1 >= 2390 )
  {
    if ( (signed int)*(_WORD *)a1 < 3200 || (signed int)*(_WORD *)a1 >= 3300 )
    {
      if ( (signed int)*(_WORD *)a1 < 3980 || (signed int)*(_WORD *)a1 >= 4000 )
      {
        LOBYTE(v7) = 0;
        if ( *(_BYTE *)(a1 + 2) != 43 && *(_BYTE *)(a1 + 4) != 43 && *(_BYTE *)(a1 + 6) != 43 )
        {
          v5 = (signed int)*(_BYTE *)(a1 + 2) >= 115 && (signed int)*(_BYTE *)(a1 + 2) <= 126;
          if ( v5 )
          {
            LOBYTE(v7) = *(_BYTE *)(a1 + 3);
          }
          else
          {
            v4 = (signed int)*(_BYTE *)(a1 + 4) >= 115 && (signed int)*(_BYTE *)(a1 + 4) <= 126;
            if ( v4 )
            {
              LOBYTE(v7) = *(_BYTE *)(a1 + 5);
            }
            else
            {
              v3 = (signed int)*(_BYTE *)(a1 + 6) >= 115 && (signed int)*(_BYTE *)(a1 + 6) <= 126;
              if ( v3 )
                LOBYTE(v7) = *(_BYTE *)(a1 + 7);
            }
          }
        }
        else
        {
          if ( *(_BYTE *)(a1 + 2) == 43 )
          {
            LOBYTE(v7) = *(_BYTE *)(a1 + 3);
          }
          else
          {
            if ( *(_BYTE *)(a1 + 4) == 43 )
              LOBYTE(v7) = *(_BYTE *)(a1 + 5);
            else
              LOBYTE(v7) = *(_BYTE *)(a1 + 7);
          }
        }
        v6 = (unsigned __int8)v7;
        if ( (signed int)(unsigned __int8)v7 < 230 )
          v6 %= 10;
        else
          v6 -= 220;
        result = v6;
      }
      else
      {
        result = 0;
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00407C90) --------------------------------------------------------
int __cdecl sub_407C90(int a1)
{
  int result; // eax@3
  char v2; // [sp+Ch] [bp-54h]@1
  bool v3; // [sp+4Ch] [bp-14h]@33
  bool v4; // [sp+50h] [bp-10h]@27
  bool v5; // [sp+54h] [bp-Ch]@21
  int v6; // [sp+58h] [bp-8h]@37
  int v7; // [sp+5Ch] [bp-4h]@10

  memset(&v2, -858993460, 0x54u);
  if ( (signed int)*(_WORD *)a1 < 2330 || (signed int)*(_WORD *)a1 >= 2390 )
  {
    if ( (signed int)*(_WORD *)a1 < 3200 || (signed int)*(_WORD *)a1 >= 3300 )
    {
      if ( (signed int)*(_WORD *)a1 < 3980 || (signed int)*(_WORD *)a1 >= 4000 )
      {
        LOBYTE(v7) = 0;
        if ( *(_BYTE *)(a1 + 2) != 43 && *(_BYTE *)(a1 + 4) != 43 && *(_BYTE *)(a1 + 6) != 43 )
        {
          v5 = (signed int)*(_BYTE *)(a1 + 2) >= 115 && (signed int)*(_BYTE *)(a1 + 2) <= 126;
          if ( v5 )
          {
            LOBYTE(v7) = *(_BYTE *)(a1 + 3);
          }
          else
          {
            v4 = (signed int)*(_BYTE *)(a1 + 4) >= 115 && (signed int)*(_BYTE *)(a1 + 4) <= 126;
            if ( v4 )
            {
              LOBYTE(v7) = *(_BYTE *)(a1 + 5);
            }
            else
            {
              v3 = (signed int)*(_BYTE *)(a1 + 6) >= 115 && (signed int)*(_BYTE *)(a1 + 6) <= 126;
              if ( v3 )
                LOBYTE(v7) = *(_BYTE *)(a1 + 7);
            }
          }
        }
        else
        {
          if ( *(_BYTE *)(a1 + 2) == 43 )
          {
            LOBYTE(v7) = *(_BYTE *)(a1 + 3);
          }
          else
          {
            if ( *(_BYTE *)(a1 + 4) == 43 )
              LOBYTE(v7) = *(_BYTE *)(a1 + 5);
            else
              LOBYTE(v7) = *(_BYTE *)(a1 + 7);
          }
        }
        v6 = (unsigned __int8)v7;
        if ( (signed int)(unsigned __int8)v7 <= 210 )
        {
          v6 /= 10;
          result = v6;
        }
        else
        {
          result = 0;
        }
      }
      else
      {
        result = 0;
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00407EC0) --------------------------------------------------------
int __cdecl sub_407EC0(int a1, int a2)
{
  int v2; // eax@3
  char v4; // [sp+0h] [bp-5Ch]@0
  int v5; // [sp+4h] [bp-58h]@0
  int v6; // [sp+8h] [bp-54h]@0
  char v7; // [sp+Ch] [bp-50h]@1
  int v8; // [sp+4Ch] [bp-10h]@10
  int v9; // [sp+50h] [bp-Ch]@10
  int v10; // [sp+54h] [bp-8h]@10
  int v11; // [sp+58h] [bp-4h]@10

  memset(&v7, -858993460, 0x50u);
  if ( (signed int)*(_WORD *)a1 < 2330 || (signed int)*(_WORD *)a1 >= 2390 )
  {
    if ( (signed int)*(_WORD *)a1 < 3980 || (signed int)*(_WORD *)a1 >= 4000 )
    {
      if ( a2 && a2 != 1 )
      {
        v2 = 0;
      }
      else
      {
        v11 = sub_4014E2(a1) % 12;
        v10 = sub_4014F6(a1);
        v9 = sub_40191F(a1, 87);
        v8 = 0;
        if ( v9 )
        {
          if ( a2 )
            v8 = *(&dword_59519C[12 * (v9 - 1)] + v11);
          else
            v8 = *(&dword_59507C[12 * (v9 - 1)] + v11);
          v8 += v10 * dword_5952BC[v11];
          v2 = v8;
        }
        else
        {
          if ( (signed int)*(_WORD *)a1 < 2300 || (signed int)*(_WORD *)a1 >= 2330 )
          {
            v2 = 0;
          }
          else
          {
            v8 = *(&dword_594FBC[12 * a2] + v11);
            v8 += v10 * dword_5952BC[v11];
            v2 = v8;
          }
        }
      }
    }
    else
    {
      v2 = 0;
    }
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 4014F6: using guessed type _DWORD __cdecl sub_4014F6(_DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 594FBC: using guessed type int dword_594FBC[];
// 59507C: using guessed type int dword_59507C[];
// 59519C: using guessed type int dword_59519C[];
// 5952BC: using guessed type int dword_5952BC[];

//----- (00408080) --------------------------------------------------------
int __cdecl sub_408080(int a1)
{
  int result; // eax@3
  char v2; // [sp+Ch] [bp-48h]@1
  int v3; // [sp+4Ch] [bp-8h]@4
  int v4; // [sp+50h] [bp-4h]@4

  memset(&v2, -858993460, 0x48u);
  if ( (signed int)*(_WORD *)a1 >= 2360 || (signed int)*(_WORD *)a1 < 2390 )
  {
    v4 = *(_BYTE *)(a1 + 4);
    v4 /= 10;
    v3 = dword_595018[v4];
    result = v3;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 595018: using guessed type int dword_595018[];

//----- (00408100) --------------------------------------------------------
signed int __cdecl sub_408100(int a1, signed int a2, signed int a3)
{
  char v4; // [sp+Ch] [bp-54h]@1
  bool v5; // [sp+4Ch] [bp-14h]@34
  bool v6; // [sp+50h] [bp-10h]@28
  bool v7; // [sp+54h] [bp-Ch]@22
  int v8; // [sp+58h] [bp-8h]@11
  int v9; // [sp+5Ch] [bp-4h]@9

  memset(&v4, -858993460, 0x54u);
  if ( a2 < 0 )
    a2 = 0;
  if ( a2 > 33 )
    return 0;
  if ( a3 < 0 )
    a3 = 0;
  if ( a3 > 20 )
    a3 = 20;
  v9 = 0;
  if ( a2 > 9 )
  {
    v9 = a2 - 9;
    a2 = 9;
  }
  v8 = 0;
  if ( v9 > 0 )
    v8 = v9 + 229;
  else
    v8 = a2 + 10 * a3;
  if ( *(_BYTE *)(a1 + 2) == 43 )
  {
    *(_BYTE *)(a1 + 3) = v8;
  }
  else
  {
    if ( *(_BYTE *)(a1 + 4) == 43 )
    {
      *(_BYTE *)(a1 + 5) = v8;
    }
    else
    {
      if ( *(_BYTE *)(a1 + 6) == 43 )
      {
        *(_BYTE *)(a1 + 7) = v8;
      }
      else
      {
        v7 = (signed int)*(_BYTE *)(a1 + 2) >= 115 && (signed int)*(_BYTE *)(a1 + 2) <= 126;
        if ( v7 )
        {
          *(_BYTE *)(a1 + 3) = v8;
        }
        else
        {
          v6 = (signed int)*(_BYTE *)(a1 + 4) >= 115 && (signed int)*(_BYTE *)(a1 + 4) <= 126;
          if ( v6 )
          {
            *(_BYTE *)(a1 + 5) = v8;
          }
          else
          {
            v5 = (signed int)*(_BYTE *)(a1 + 6) >= 115 && (signed int)*(_BYTE *)(a1 + 6) <= 126;
            if ( v5 )
            {
              *(_BYTE *)(a1 + 7) = v8;
            }
            else
            {
              if ( *(_BYTE *)(a1 + 2) )
              {
                if ( *(_BYTE *)(a1 + 4) )
                {
                  if ( *(_BYTE *)(a1 + 6) )
                    return 0;
                  *(_BYTE *)(a1 + 6) = 43;
                  *(_BYTE *)(a1 + 7) = v8;
                }
                else
                {
                  *(_BYTE *)(a1 + 4) = 43;
                  *(_BYTE *)(a1 + 5) = v8;
                }
              }
              else
              {
                *(_BYTE *)(a1 + 2) = 43;
                *(_BYTE *)(a1 + 3) = v8;
              }
            }
          }
        }
      }
    }
  }
  return 1;
}

//----- (00408380) --------------------------------------------------------
int __cdecl sub_408380(int a1)
{
  char v2; // [sp+Ch] [bp-44h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  memset(&v2, -858993460, 0x44u);
  v3 = 0;
  if ( *(_BYTE *)(a1 + 2) == 61 || *(_BYTE *)(a1 + 4) == 61 || *(_BYTE *)(a1 + 6) == 61 )
  {
    if ( *(_BYTE *)(a1 + 2) == 61 )
    {
      v3 = *(_BYTE *)(a1 + 3);
    }
    else
    {
      if ( *(_BYTE *)(a1 + 4) == 61 )
        v3 = *(_BYTE *)(a1 + 5);
      else
        v3 = *(_BYTE *)(a1 + 7);
    }
  }
  return v3;
}

//----- (00408430) --------------------------------------------------------
char __cdecl sub_408430(int a1, char a2)
{
  char result; // al@17
  char v3; // [sp+Ch] [bp-40h]@1

  memset(&v3, -858993460, 0x40u);
  if ( *(_WORD *)a1 == 419
    || *(_WORD *)a1 == 420
    || *(_WORD *)a1 == 412
    || *(_WORD *)a1 == 413
    || (signed int)*(_WORD *)a1 >= 2390 && (signed int)*(_WORD *)a1 <= 2418 )
  {
    if ( *(_BYTE *)(a1 + 2) == 59 )
    {
      *(_BYTE *)(a1 + 2) = 0;
      *(_BYTE *)(a1 + 3) = 0;
    }
    if ( *(_BYTE *)(a1 + 4) == 59 )
    {
      *(_BYTE *)(a1 + 2) = 0;
      *(_BYTE *)(a1 + 5) = 0;
    }
    if ( *(_BYTE *)(a1 + 6) == 59 )
    {
      *(_BYTE *)(a1 + 2) = 0;
      *(_BYTE *)(a1 + 7) = 0;
    }
  }
  if ( *(_BYTE *)(a1 + 2) != 61 && *(_BYTE *)(a1 + 4) != 61 && *(_BYTE *)(a1 + 6) != 61 )
  {
    if ( !*(_BYTE *)(a1 + 2) || !*(_BYTE *)(a1 + 4) || (result = *(_BYTE *)(a1 + 6)) == 0 )
    {
      if ( *(_BYTE *)(a1 + 2) )
      {
        if ( *(_BYTE *)(a1 + 4) )
        {
          *(_BYTE *)(a1 + 6) = 61;
          result = a1;
          *(_BYTE *)(a1 + 7) = a2;
        }
        else
        {
          *(_BYTE *)(a1 + 4) = 61;
          result = a1;
          *(_BYTE *)(a1 + 5) = a2;
        }
      }
      else
      {
        result = a1;
        *(_BYTE *)(a1 + 2) = 61;
        *(_BYTE *)(a1 + 3) = a2;
      }
    }
  }
  else
  {
    if ( *(_BYTE *)(a1 + 2) == 61 )
    {
      result = a2;
      *(_BYTE *)(a1 + 3) = a2;
    }
    else
    {
      if ( *(_BYTE *)(a1 + 4) == 61 )
      {
        result = a1;
        *(_BYTE *)(a1 + 5) = a2;
      }
      else
      {
        result = a2;
        *(_BYTE *)(a1 + 7) = a2;
      }
    }
  }
  return result;
}

//----- (00408620) --------------------------------------------------------
int __cdecl sub_408620(int a1, int a2)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-54h]@0
  int v5; // [sp+4h] [bp-50h]@0
  int v6; // [sp+8h] [bp-4Ch]@0
  char v7; // [sp+Ch] [bp-48h]@1
  int v8; // [sp+4Ch] [bp-8h]@20
  int v9; // [sp+50h] [bp-4h]@20

  memset(&v7, -858993460, 0x48u);
  if ( *(_WORD *)a1 == *(_WORD *)a2 )
  {
    switch ( *(_WORD *)a1 )
    {
      case 0x19F:
        v2 = 1;
        break;
      case 0x1A3:
        v2 = 1;
        break;
      case 0x1A4:
        v2 = 1;
        break;
      case 0x19C:
        v2 = 1;
        break;
      case 0x19D:
        v2 = 1;
        break;
      case 0xFD1:
        v2 = 1;
        break;
      default:
        if ( (signed int)*(_WORD *)a1 < 3200 || (signed int)*(_WORD *)a1 > 3220 )
        {
          if ( (signed int)*(_WORD *)a1 < 2390 || (signed int)*(_WORD *)a1 > 2419 )
          {
            v2 = 0;
          }
          else
          {
            v9 = sub_4014E2(a1);
            v8 = sub_4014E2(a2);
            v2 = v9 == v8;
          }
        }
        else
        {
          v2 = 1;
        }
        break;
    }
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);

//----- (004087B0) --------------------------------------------------------
int __cdecl sub_4087B0(int a1, int a2, int a3, signed int a4)
{
  int result; // eax@4
  char v5; // [sp+Ch] [bp-44h]@1
  int v6; // [sp+4Ch] [bp-4h]@1

  memset(&v5, -858993460, 0x44u);
  v6 = 0;
  if ( a3 )
  {
    if ( a3 == 1 )
    {
      if ( a4 < 0 || a4 >= 64 )
        return 0;
      v6 = a1 + 8 * a4 + 220;
    }
    else
    {
      if ( a3 != 2 )
        return 0;
      if ( a4 < 0 || a4 >= 128 )
        return 0;
      v6 = a2 + 8 * a4;
    }
  }
  else
  {
    if ( a4 < 0 || a4 >= 16 )
      return 0;
    v6 = a1 + 8 * a4 + 92;
  }
  if ( (signed int)*(_WORD *)v6 > 0 && (signed int)*(_WORD *)v6 <= 6500 )
    result = v6;
  else
    result = 0;
  return result;
}

//----- (004088A0) --------------------------------------------------------
int __cdecl sub_4088A0(int a1, char a2)
{
  int v2; // eax@4
  int v3; // eax@6
  int v4; // edx@10
  int v5; // eax@15
  int v6; // esi@21
  int v7; // eax@21
  int v8; // esi@21
  char v10; // [sp+0h] [bp-C0h]@0
  int v11; // [sp+4h] [bp-BCh]@0
  int v12; // [sp+8h] [bp-B8h]@0
  char v13; // [sp+Ch] [bp-B4h]@1
  int v14; // [sp+4Ch] [bp-74h]@59
  int v15; // [sp+50h] [bp-70h]@49
  int v16; // [sp+54h] [bp-6Ch]@29
  int v17; // [sp+58h] [bp-68h]@24
  int v18; // [sp+5Ch] [bp-64h]@21
  int v19; // [sp+60h] [bp-60h]@21
  int v20; // [sp+64h] [bp-5Ch]@21
  int v21; // [sp+68h] [bp-58h]@21
  int v22; // [sp+6Ch] [bp-54h]@21
  int v23; // [sp+70h] [bp-50h]@10
  int i; // [sp+74h] [bp-4Ch]@7
  int v25; // [sp+78h] [bp-48h]@10
  int v26; // [sp+7Ch] [bp-44h]@53
  int v27; // [sp+80h] [bp-40h]@54
  int v28; // [sp+84h] [bp-3Ch]@56
  int v29; // [sp+88h] [bp-38h]@57
  int v30; // [sp+8Ch] [bp-34h]@58
  int v31; // [sp+B8h] [bp-8h]@2
  int v32; // [sp+BCh] [bp-4h]@1

  memset(&v13, -858993460, 0xB4u);
  v32 = 0;
  if ( (unsigned __int8)a2 == 27 )
  {
    v32 = sub_40198D(a1, a2);
    v31 = *(_BYTE *)(a1 + 20);
    if ( v32 < 2 )
    {
      if ( v31 == 3 )
      {
        v2 = *(_DWORD *)(a1 + 732);
        if ( v2 & 0x80000 )
          v32 = 2;
      }
    }
    v3 = v32;
  }
  else
  {
    for ( i = 0; i < 16; ++i )
    {
      *(&v25 + i) = 0;
      v4 = *(_WORD *)(a1 + 8 * i + 92);
      v23 = *(_WORD *)(a1 + 8 * i + 92);
      if ( v23 || i == 7 )
      {
        if ( i >= 1 && i <= 5 )
        {
          v4 = i;
          *(&v25 + i) = word_9CCCC4[70 * v23];
        }
        v5 = (unsigned __int8)a2;
        if ( ((unsigned __int8)a2 != 2 || i != 6) && ((unsigned __int8)a2 != 60 || i != 7) )
        {
          if ( i != 7 || (v4 = (unsigned __int8)a2, (unsigned __int8)a2 != 2) )
          {
            v15 = 0;
            LOBYTE(v4) = a2;
            v15 = sub_40191F(a1 + 8 * i + 92, v4);
            v32 += v15;
          }
          else
          {
            LOBYTE(v5) = a2;
            v6 = sub_40191F(a1 + 140, v5);
            v7 = sub_40191F(a1 + 140, 73);
            v22 = v7 + v6;
            LOBYTE(v7) = a2;
            v8 = sub_40191F(a1 + 148, v7);
            v21 = sub_40191F(a1 + 148, 73) + v8;
            v20 = *(_WORD *)(a1 + 140);
            v19 = *(_WORD *)(a1 + 148);
            v18 = 0;
            if ( v20 > 0 && v20 < 6500 )
              v18 = word_9CCCC4[70 * v20];
            v17 = 0;
            if ( v19 > 0 && v19 < 6500 )
              v17 = word_9CCCC4[70 * v19];
            if ( v18 && v17 )
            {
              v16 = 0;
              if ( v18 != 47 || v17 != 45 )
              {
                if ( v18 == v17 )
                  v16 = 50;
                else
                  v16 = 30;
                if ( !*(_BYTE *)(a1 + 20) && *(_DWORD *)(a1 + 732) & 0x200 )
                  v16 += 15;
                if ( *(_BYTE *)(a1 + 20) == 3 && *(_DWORD *)(a1 + 732) & 0x400 )
                  v16 += 10;
                if ( v22 <= v21 )
                  v32 += v16 * v22 / 100 + v21;
                else
                  v32 += v16 * v21 / 100 + v22;
              }
              else
              {
                v32 += v22;
              }
            }
            else
            {
              if ( v22 <= v21 )
                v32 += v21;
              else
                v32 += v22;
            }
          }
        }
      }
    }
    if ( ((unsigned __int8)a2 == 3 || (unsigned __int8)a2 == 53)
      && (!v26 || v26 == v27)
      && v27
      && v27 == v28
      && v28 == v29
      && v29 == v30 )
    {
      v14 = *(_WORD *)(a1 + 92) % 10;
      if ( v14 > 5 && v27 == 10 )
      {
        v3 = v32;
        return sub_4E46A0(1, v3, v12, v10, v11);
      }
      v32 = 105 * v32 / 100;
    }
    if ( v32 < 0 )
      v32 = 0;
    v3 = v32;
  }
  return sub_4E46A0(1, v3, v12, v10, v11);
}
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 40198D: using guessed type _DWORD __cdecl sub_40198D(_DWORD, char);
// 9CCCC4: using guessed type __int16 word_9CCCC4[];

//----- (00408D60) --------------------------------------------------------
int __cdecl sub_408D60(int a1, char a2)
{
  int v2; // ecx@4
  char v4; // [sp+0h] [bp-5Ch]@0
  int v5; // [sp+4h] [bp-58h]@0
  int v6; // [sp+8h] [bp-54h]@0
  char v7; // [sp+Ch] [bp-50h]@1
  int v8; // [sp+4Ch] [bp-10h]@4
  int i; // [sp+50h] [bp-Ch]@1
  int v10; // [sp+54h] [bp-8h]@1
  int v11; // [sp+58h] [bp-4h]@1

  memset(&v7, -858993460, 0x50u);
  v11 = 0;
  v10 = 0;
  for ( i = 0; i < 16; ++i )
  {
    v2 = i;
    v8 = *(_WORD *)(a1 + 8 * i + 92);
    if ( v8 )
    {
      LOBYTE(v2) = a2;
      v10 = sub_40191F(a1 + 8 * i + 92, v2);
      if ( v11 < v10 )
        v11 = v10;
    }
  }
  return sub_4E46A0(1, v11, v6, v4, v5);
}
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);

//----- (00408F00) --------------------------------------------------------
int __cdecl sub_408F00(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-58h]@0
  int v4; // [sp+4h] [bp-54h]@0
  int v5; // [sp+8h] [bp-50h]@0
  char v6; // [sp+Ch] [bp-4Ch]@1
  char v7; // [sp+4Ch] [bp-Ch]@7
  int i; // [sp+50h] [bp-8h]@4
  int v9; // [sp+54h] [bp-4h]@1

  memset(&v6, -858993460, 0x4Cu);
  v1 = sub_4E4B50(a1);
  v9 = v1;
  if ( v1 >= 4 && v9 < 16 )
  {
    for ( i = 0; i < v9; ++i )
    {
      v1 = i + a1;
      v7 = *(_BYTE *)(i + a1);
      if ( v7 >= 0 )
      {
        if ( v7 < 97 || v7 > 122 )
        {
          v1 = v7;
          if ( v7 < 65 || v7 > 90 )
          {
            if ( v7 < 48 || (v1 = v7, v7 > 57) )
            {
              if ( v7 != 45 )
              {
                LOBYTE(v1) = 0;
                return sub_4E46A0(1, v1, v5, v3, v4);
              }
            }
          }
        }
      }
      else
      {
        v1 = i++ + 1;
      }
    }
    LOBYTE(v1) = 1;
  }
  else
  {
    LOBYTE(v1) = 0;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}

//----- (00409000) --------------------------------------------------------
int __cdecl sub_409000(int a1)
{
  char v2; // [sp+0h] [bp-58h]@0
  int v3; // [sp+4h] [bp-54h]@0
  int v4; // [sp+8h] [bp-50h]@0
  char v5; // [sp+Ch] [bp-4Ch]@1
  char v6; // [sp+4Ch] [bp-Ch]@4
  int i; // [sp+50h] [bp-8h]@1
  int v8; // [sp+54h] [bp-4h]@1

  memset(&v5, -858993460, 0x4Cu);
  v8 = sub_4E4B50(a1);
  for ( i = 0; i < v8; ++i )
  {
    v6 = *(_BYTE *)(i + a1);
    if ( v6 >= 0 )
    {
      if ( (v6 < 97 || v6 > 122) && (v6 < 65 || v6 > 90) && (v6 < 48 || v6 > 57) )
      {
        if ( v6 != 45 )
        {
          if ( v6 != 64 )
            *(_BYTE *)(i + a1) = 32;
        }
      }
    }
    else
    {
      *(_BYTE *)(i + a1) = 32;
    }
  }
  return sub_4E46A0(1, 1, v4, v2, v3);
}

//----- (00409310) --------------------------------------------------------
int __cdecl sub_409310()
{
  char v1; // [sp+0h] [bp-54h]@0
  int v2; // [sp+4h] [bp-50h]@0
  int v3; // [sp+8h] [bp-4Ch]@0
  char v4; // [sp+Ch] [bp-48h]@1
  int v5; // [sp+4Ch] [bp-8h]@1
  int v6; // [sp+50h] [bp-4h]@1

  memset(&v4, -858993460, 0x48u);
  sub_4E4640(&unk_8A3AB8, 0, 0x1E00u);
  sub_4E4640(dword_5A39F0, 0, 0xC8u);
  sub_4010CD();
  v6 = 1;
  v5 = 0;
  sub_4010E6();
  sub_401889();
  sub_4017F8();
  sub_401316();
  sub_4010B4();
  return sub_4E46A0(1, v6, v3, v1, v2);
}
// 4010B4: using guessed type int sub_4010B4(void);
// 4010CD: using guessed type int sub_4010CD(void);
// 4010E6: using guessed type int sub_4010E6(void);
// 401316: using guessed type int sub_401316(void);
// 4017F8: using guessed type int sub_4017F8(void);
// 401889: using guessed type int sub_401889(void);
// 5A39F0: using guessed type int dword_5A39F0[];

//----- (004093B0) --------------------------------------------------------
int __cdecl sub_4093B0(int a1, int a2)
{
  int result; // eax@1
  char v3; // [sp+Ch] [bp-5Ch]@1
  int v4; // [sp+4Ch] [bp-1Ch]@5
  int j; // [sp+50h] [bp-18h]@3
  int i; // [sp+54h] [bp-14h]@1
  int v7; // [sp+58h] [bp-10h]@1
  int v8; // [sp+5Ch] [bp-Ch]@1
  int v9; // [sp+60h] [bp-8h]@5
  int v10; // [sp+64h] [bp-4h]@5

  memset(&v3, -858993460, 0x5Cu);
  result = a2 + dword_8C762A0;
  v8 = a2 + dword_8C762A0;
  v7 = a2 + dword_8C762A4;
  for ( i = dword_8C762A4; i < v7; ++i )
  {
    for ( j = dword_8C762A0; j < v8; ++j )
    {
      v10 = (j >> 2) & 0x3FF;
      v9 = (i >> 2) & 0x3FF;
      LOBYTE(v4) = *(&byte_8CCC40[1024 * ((i >> 2) & 0x3FF)] + ((j >> 2) & 0x3FF));
      if ( v4 & 2 )
        *(_BYTE *)(a1 + j + dword_5A1034 * (i - dword_8C762A4) - dword_8C762A0) = 127;
    }
    result = i + 1;
  }
  return result;
}
// 5A1034: using guessed type int dword_5A1034;
// 8C762A0: using guessed type int dword_8C762A0;
// 8C762A4: using guessed type int dword_8C762A4;

//----- (004094D0) --------------------------------------------------------
int __usercall sub_4094D0<eax>(int a1<ebx>)
{
  int v1; // eax@1
  int v2; // eax@6
  int v3; // eax@6
  char v5; // [sp+0h] [bp-154h]@1
  int v6; // [sp+4h] [bp-150h]@6
  int v7; // [sp+8h] [bp-14Ch]@6
  char v8; // [sp+Ch] [bp-148h]@1
  int i; // [sp+4Ch] [bp-108h]@1
  int v10; // [sp+50h] [bp-104h]@1
  CHAR PathName[256]; // [sp+54h] [bp-100h]@1
  int v12; // [sp+154h] [bp+0h]@1

  memset(&v8, -858993460, 0x148u);
  v1 = GetModuleFileNameA(0, PathName, 0x100u);
  sub_4E46A0(&v5 == &v5, v1, a1, (unsigned int)&v12, (int)&v5);
  v10 = sub_4E4B50((int)PathName);
  for ( i = v10 - 1; i > 0; --i )
  {
    if ( PathName[i] == 92 )
    {
      PathName[i] = 0;
      break;
    }
  }
  v2 = SetCurrentDirectoryA(PathName);
  v3 = sub_4E46A0(&v5 == &v5, v2, a1, (unsigned int)&v12, (int)&v5);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4094D0: using guessed type CHAR PathName[256];

//----- (00409650) --------------------------------------------------------
int __cdecl sub_409650(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-58h]@0
  int v4; // [sp+4h] [bp-54h]@0
  int v5; // [sp+8h] [bp-50h]@0
  char v6; // [sp+Ch] [bp-4Ch]@1
  int v7; // [sp+4Ch] [bp-Ch]@1
  int v8; // [sp+50h] [bp-8h]@1
  int v9; // [sp+54h] [bp-4h]@1

  memset(&v6, -858993460, 0x4Cu);
  v9 = sub_4E4B50(a1);
  v8 = a1;
  v1 = sub_4E4BD0(a1, 95);
  v7 = v1;
  do
  {
    if ( !v7 )
      break;
    *(_BYTE *)v7 = 32;
    v1 = sub_4E4BD0(v7, 95);
    v7 = v1;
    --v9;
  }
  while ( v9 >= 0 );
  return sub_4E46A0(1, v1, v5, v3, v4);
}

//----- (00409830) --------------------------------------------------------
int __cdecl sub_409830(int a1, int a2, int a3, int a4, int a5, signed int a6, signed int a7, int a8, signed int a9, int a10)
{
  int v10; // esi@7
  int v11; // eax@7
  int v12; // eax@7
  int v13; // esi@9
  int v14; // esi@11
  int v15; // esi@13
  int v16; // esi@15
  int v17; // eax@15
  int v18; // eax@15
  int v19; // eax@128
  int v20; // edx@148
  int v21; // eax@165
  int v22; // eax@216
  int v23; // eax@219
  int v24; // ecx@222
  int v25; // edx@244
  int v26; // eax@250
  int v27; // eax@262
  __int64 v28; // qax@338
  __int64 v29; // qax@339
  int v30; // eax@417
  char v32; // [sp+0h] [bp-228h]@0
  int v33; // [sp+4h] [bp-224h]@0
  int v34; // [sp+8h] [bp-220h]@0
  char v35; // [sp+Ch] [bp-21Ch]@1
  int v36; // [sp+4Ch] [bp-1DCh]@287
  int v37; // [sp+50h] [bp-1D8h]@271
  int v38; // [sp+54h] [bp-1D4h]@182
  int v39; // [sp+58h] [bp-1D0h]@182
  int v40; // [sp+5Ch] [bp-1CCh]@146
  int v41; // [sp+60h] [bp-1C8h]@146
  bool v42; // [sp+64h] [bp-1C4h]@29
  int v43; // [sp+68h] [bp-1C0h]@400
  int v44; // [sp+6Ch] [bp-1BCh]@399
  int v45; // [sp+70h] [bp-1B8h]@399
  unsigned int v46; // [sp+74h] [bp-1B4h]@397
  int v47; // [sp+78h] [bp-1B0h]@397
  int v48; // [sp+7Ch] [bp-1ACh]@397
  unsigned int v49; // [sp+80h] [bp-1A8h]@394
  int v50; // [sp+84h] [bp-1A4h]@394
  int v51; // [sp+88h] [bp-1A0h]@394
  int v52; // [sp+8Ch] [bp-19Ch]@391
  int v53; // [sp+90h] [bp-198h]@370
  int v54; // [sp+94h] [bp-194h]@366
  int v55; // [sp+98h] [bp-190h]@339
  int v56; // [sp+9Ch] [bp-18Ch]@338
  int v57; // [sp+A0h] [bp-188h]@335
  int v58; // [sp+A4h] [bp-184h]@331
  int v59; // [sp+A8h] [bp-180h]@306
  int v60; // [sp+ACh] [bp-17Ch]@302
  int v61; // [sp+B0h] [bp-178h]@264
  int v62; // [sp+B4h] [bp-174h]@262
  int v63; // [sp+B8h] [bp-170h]@260
  int v64; // [sp+BCh] [bp-16Ch]@256
  int v65; // [sp+C0h] [bp-168h]@256
  int v66; // [sp+C4h] [bp-164h]@250
  int v67; // [sp+C8h] [bp-160h]@250
  int v68; // [sp+CCh] [bp-15Ch]@250
  int v69; // [sp+D0h] [bp-158h]@250
  int v70; // [sp+D4h] [bp-154h]@250
  int v71; // [sp+D8h] [bp-150h]@246
  int v72; // [sp+DCh] [bp-14Ch]@246
  int v73; // [sp+E0h] [bp-148h]@244
  int v74; // [sp+E4h] [bp-144h]@242
  int v75; // [sp+E8h] [bp-140h]@230
  int v76; // [sp+ECh] [bp-13Ch]@215
  int v77; // [sp+F0h] [bp-138h]@215
  int v78; // [sp+F4h] [bp-134h]@215
  int v79; // [sp+F8h] [bp-130h]@215
  int v80; // [sp+FCh] [bp-12Ch]@215
  int v81; // [sp+100h] [bp-128h]@208
  int v82; // [sp+104h] [bp-124h]@238
  int v83; // [sp+108h] [bp-120h]@238
  int v84; // [sp+10Ch] [bp-11Ch]@238
  int v85; // [sp+110h] [bp-118h]@238
  int v86; // [sp+114h] [bp-114h]@238
  int v87; // [sp+118h] [bp-110h]@198
  int v88; // [sp+11Ch] [bp-10Ch]@195
  int v89; // [sp+120h] [bp-108h]@191
  int v90; // [sp+124h] [bp-104h]@191
  int v91; // [sp+128h] [bp-100h]@191
  int v92; // [sp+12Ch] [bp-FCh]@188
  int v93; // [sp+130h] [bp-F8h]@184
  float v94; // [sp+134h] [bp-F4h]@182
  int v95; // [sp+138h] [bp-F0h]@177
  int v96; // [sp+13Ch] [bp-ECh]@170
  int v97; // [sp+140h] [bp-E8h]@170
  int v98; // [sp+144h] [bp-E4h]@164
  int v99; // [sp+148h] [bp-E0h]@155
  int v100; // [sp+14Ch] [bp-DCh]@151
  int v101; // [sp+150h] [bp-D8h]@150
  int v102; // [sp+154h] [bp-D4h]@148
  float v103; // [sp+158h] [bp-D0h]@146
  int v104; // [sp+15Ch] [bp-CCh]@130
  int v105; // [sp+160h] [bp-C8h]@128
  int v106; // [sp+164h] [bp-C4h]@126
  int v107; // [sp+168h] [bp-C0h]@122
  int v108; // [sp+16Ch] [bp-BCh]@122
  int v109; // [sp+170h] [bp-B8h]@121
  int k; // [sp+174h] [bp-B4h]@117
  int v111; // [sp+178h] [bp-B0h]@117
  int v112; // [sp+17Ch] [bp-ACh]@117
  int v113; // [sp+180h] [bp-A8h]@117
  int v114; // [sp+184h] [bp-A4h]@117
  int v115; // [sp+188h] [bp-A0h]@117
  int v116; // [sp+18Ch] [bp-9Ch]@117
  int v117; // [sp+190h] [bp-98h]@117
  int v118; // [sp+194h] [bp-94h]@117
  int v119; // [sp+198h] [bp-90h]@117
  int v120; // [sp+19Ch] [bp-8Ch]@117
  int v121; // [sp+1A0h] [bp-88h]@117
  int v122; // [sp+1A4h] [bp-84h]@111
  int v123; // [sp+1A8h] [bp-80h]@101
  int v124; // [sp+1ACh] [bp-7Ch]@100
  int v125; // [sp+1B0h] [bp-78h]@97
  int j; // [sp+1B4h] [bp-74h]@94
  int v127; // [sp+1B8h] [bp-70h]@94
  int v128; // [sp+1BCh] [bp-6Ch]@94
  int v129; // [sp+1C0h] [bp-68h]@91
  int v130; // [sp+1C4h] [bp-64h]@89
  int v131; // [sp+1C8h] [bp-60h]@87
  int v132; // [sp+1CCh] [bp-5Ch]@54
  int v133; // [sp+1D0h] [bp-58h]@39
  int v134; // [sp+1D4h] [bp-54h]@36
  int v135; // [sp+1D8h] [bp-50h]@25
  int v136; // [sp+1DCh] [bp-4Ch]@20
  int v137; // [sp+1E0h] [bp-48h]@20
  int v138; // [sp+1E4h] [bp-44h]@15
  int v139; // [sp+1E8h] [bp-40h]@15
  int v140; // [sp+1ECh] [bp-3Ch]@15
  int v141; // [sp+1F0h] [bp-38h]@15
  int v142; // [sp+1F4h] [bp-34h]@15
  int v143; // [sp+1F8h] [bp-30h]@13
  int v144; // [sp+1FCh] [bp-2Ch]@11
  int v145; // [sp+200h] [bp-28h]@9
  int v146; // [sp+204h] [bp-24h]@7
  int v147; // [sp+208h] [bp-20h]@7
  int v148; // [sp+20Ch] [bp-1Ch]@5
  int v149; // [sp+210h] [bp-18h]@5
  int v150; // [sp+214h] [bp-14h]@5
  int i; // [sp+218h] [bp-10h]@2
  int v152; // [sp+21Ch] [bp-Ch]@1
  int v153; // [sp+220h] [bp-8h]@1
  int v154; // [sp+224h] [bp-4h]@1

  memset(&v35, -858993460, 0x21Cu);
  *(_BYTE *)(a1 + 21) = 0;
  v154 = 0;
  memcpy((void *)(a1 + 64), (const void *)(a1 + 36), 0x1Cu);
  v153 = *(_WORD *)(a1 + 68);
  v152 = *(_WORD *)(a1 + 72);
  if ( sub_4012DA(a5) == 1 )
  {
    for ( i = 0; i < 4; ++i )
    {
      if ( sub_401A55(*(_BYTE *)(a4 + 1), i) )
      {
        v150 = dword_59A53C[3 * i];
        v149 = dword_59A540[3 * i];
        v148 = dword_59A544[3 * i];
        *(_WORD *)(a1 + 74) += v150;
        v152 += v148;
        *(_WORD *)(a1 + 66) += v149;
      }
    }
  }
  v10 = sub_401AB4(a1, 3);
  v147 = sub_401AB4(a1, 53) + v10;
  v11 = sub_401AB4(a1, 2);
  v153 += v11;
  v12 = sub_401AB4(a1, 4);
  v152 += v12;
  *(_WORD *)(a1 + 66) += v147;
  *(_WORD *)(a1 + 74) += sub_401AB4(a1, 5);
  *(_WORD *)(a1 + 80) += sub_401AB4(a1, 7);
  *(_WORD *)(a1 + 82) += sub_401AB4(a1, 8);
  *(_WORD *)(a1 + 84) += sub_401AB4(a1, 9);
  *(_WORD *)(a1 + 86) += sub_401AB4(a1, 10);
  v146 = sub_401AB4(a1, 11) + *(_BYTE *)(a1 + 88);
  if ( v146 > 255 )
    v146 = 255;
  v13 = sub_401AB4(a1, 12) + *(_BYTE *)(a1 + 89);
  v145 = sub_401AB4(a1, 74) + v13;
  if ( v145 > 255 )
    v145 = 255;
  v14 = sub_401AB4(a1, 13) + *(_BYTE *)(a1 + 90);
  v144 = sub_401AB4(a1, 74) + v14;
  if ( v144 > 255 )
    v144 = 255;
  v15 = sub_401AB4(a1, 14) + *(_BYTE *)(a1 + 91);
  v143 = sub_401AB4(a1, 74) + v15;
  if ( v143 > 255 )
    v143 = 255;
  *(_BYTE *)(a1 + 88) = v146;
  *(_BYTE *)(a1 + 89) = v145;
  *(_BYTE *)(a1 + 90) = v144;
  *(_BYTE *)(a1 + 91) = v143;
  *(_BYTE *)(a1 + 743) = sub_401AB4(a1, 44);
  v16 = sub_401AB4(a1, 60);
  v154 = sub_401AB4(a1, 68) + v16;
  v142 = *(_BYTE *)(a1 + 71) & 0xF;
  v17 = sub_401AB4(a1, 29);
  v142 += v17;
  v141 = 10 * ((signed int)*(_BYTE *)(a1 + 43) >> 4);
  v18 = sub_401AB4(a1, 26);
  v141 += v18;
  v140 = sub_401AB4(a1, 47);
  v139 = sub_401AB4(a1, 48);
  v138 = *(_WORD *)(a1 + 92);
  if ( v138 <= 0 || v138 >= 22 && v138 <= 25 || v138 == 32 )
    v138 = a5;
  v137 = v138 / 10;
  v136 = v138 % 10;
  if ( v138 / 10 < 4 )
  {
    *(_BYTE *)(a1 + 94) = 43;
    *(_BYTE *)(a1 + 95) = 0;
    if ( *(_BYTE *)(a1 + 16) == 7 || *(_BYTE *)(a1 + 16) == 8 || *(_BYTE *)(a1 + 16) == 9 )
      *(_BYTE *)(a1 + 16) = 0;
    v135 = *(_WORD *)(a1 + 204);
    v42 = a6 >> 7 >= 27 && a6 >> 7 <= 30 && a7 >> 7 >= 21 && a7 >> 7 <= 24;
    if ( v42 )
      v142 -= 2;
    if ( (signed int)*(_WORD *)(a1 + 206) > 0 )
    {
      if ( v135 < 2360 || v135 > 2390 )
      {
        if ( v135 >= 3980 && v135 < 4000 )
        {
          v133 = v135 - 3980;
          v142 = dword_597730[6 * (v135 - 3980)];
        }
      }
      else
      {
        v134 = v135 - 2360;
        v142 = dword_597460[6 * (v135 - 2360)];
      }
    }
    if ( v142 <= 0 )
      v142 = 0;
    if ( v142 > 6 )
      v142 = 6;
  }
  if ( sub_4012DA(a5) == 1 && *(_DWORD *)(a1 + 732) & 0x40000000 )
  {
    if ( *(_BYTE *)(a1 + 20) )
    {
      switch ( *(_BYTE *)(a1 + 20) )
      {
        case 1:
          v153 += 800;
          v152 += 800;
          *(_WORD *)(a1 + 66) += 950;
          *(_WORD *)(a1 + 74) += 1700;
          break;
        case 2:
          v153 += 880;
          v152 += 800;
          *(_WORD *)(a1 + 66) += 950;
          *(_WORD *)(a1 + 74) += 1300;
          break;
        case 3:
          v153 += 800;
          v152 += 800;
          *(_WORD *)(a1 + 66) += 950;
          *(_WORD *)(a1 + 74) += 700;
          break;
      }
    }
    else
    {
      v153 += *(_WORD *)(a1 + 68) + 880;
      v152 += 1600;
      *(_WORD *)(a1 + 66) += 950;
      *(_WORD *)(a1 + 74) += 300;
    }
  }
  v132 = *(_WORD *)(a1 + 212);
  if ( *(_BYTE *)(a1 + 16) != 4
    && (v132 == 543
     || v132 == 545
     || v132 == 1766
     || v132 == 1767
     || v132 == 1768
     || v132 == 3191
     || v132 == 3194
     || v132 == 3197) )
    *(_BYTE *)(a1 + 16) = 7;
  if ( *(_BYTE *)(a1 + 16) != 4
    && (v132 == 544
     || v132 == 546
     || v132 == 1769
     || v132 == 1770
     || v132 == 1771
     || v132 == 3192
     || v132 == 3195
     || v132 == 3198) )
    *(_BYTE *)(a1 + 16) = 8;
  if ( *(_BYTE *)(a1 + 16) != 4 && v132 == 1720 )
    *(_BYTE *)(a1 + 16) = 9;
  if ( *(_BYTE *)(a1 + 16) != 4 && (v132 == 734 || v132 == 736) )
    *(_BYTE *)(a1 + 16) = 7;
  if ( *(_BYTE *)(a1 + 16) != 4 && (v132 == 735 || v132 == 737) )
    *(_BYTE *)(a1 + 16) = 8;
  if ( *(_BYTE *)(a1 + 20) == 3 )
  {
    if ( *(_DWORD *)(a1 + 732) & 4 )
    {
      v131 = *(_WORD *)(a1 + 140);
      if ( v131 > 0 )
      {
        if ( v131 < 6500 )
        {
          v130 = word_9CCCC4[70 * v131];
          if ( v130 == 42 || v130 == 43 )
          {
            v129 = v145 / 5 + 10;
            if ( *(_DWORD *)(a1 + 732) & 0x80 )
              v129 += 310;
            v153 += v129;
          }
        }
      }
    }
  }
  v128 = sub_401AB4(a1, 45) + 100;
  v152 = v128 * v152 / 100;
  v127 = sub_401AB4(a1, 46) + 100;
  *(_WORD *)(a1 + 74) = v127 * *(_WORD *)(a1 + 74) / 100;
  for ( j = 1; j <= 7; ++j )
  {
    v125 = *(_WORD *)(a1 + 8 * j + 92);
    if ( v125 > 0 )
    {
      if ( v125 < 6500 )
      {
        v124 = sub_4014E2(a1 + 8 * j + 92);
        if ( v124 >= 9 )
        {
          v123 = word_9CCCC6[70 * v125];
          switch ( v123 )
          {
            case 4:
              *(_WORD *)(a1 + 66) += 25;
              break;
            case 8:
              *(_WORD *)(a1 + 66) += 25;
              break;
            case 16:
              *(_BYTE *)(a1 + 21) |= 0x40u;
              break;
            case 128:
              *(_WORD *)(a1 + 66) += 25;
              break;
            case 64:
            case 192:
              v122 = word_9CCCC4[70 * v125];
              if ( v122 == 47 )
              {
                v154 += 16;
              }
              else
              {
                if ( v122 == 44 )
                  v154 += 16;
                else
                  v153 += 40;
              }
              break;
          }
        }
      }
    }
  }
  v121 = 0;
  v120 = 0;
  v119 = 100;
  v118 = 100;
  v117 = 100;
  v116 = 100;
  v115 = 0;
  *(_DWORD *)a10 = 0;
  v114 = *(_BYTE *)(a1 + 752);
  v113 = *(_BYTE *)(a1 + 753);
  v112 = *(_BYTE *)(a1 + 754);
  v111 = *(_BYTE *)(a1 + 755);
  for ( k = 0; k < 16; ++k )
  {
    if ( a2 )
    {
      v109 = *(_BYTE *)(a2 + 8 * k);
      if ( v109 )
      {
        v108 = *(_WORD *)(a2 + 8 * k + 2);
        v107 = *(_BYTE *)(a2 + 8 * k + 1);
        switch ( v109 )
        {
          case 1:
            if ( v107 == 255 )
              v142 -= 3;
            else
              --v142;
            v106 = 30;
            v141 -= 30;
            break;
          case 2:
            v142 += v108;
            v105 = *(_DWORD *)a10;
            v19 = v105;
            LOBYTE(v19) = v105 | 0x80;
            *(_DWORD *)a10 = v19;
            break;
          case 3:
            v104 = v108;
            if ( (signed int)*(_WORD *)(a1 + 92) < 50 )
              v104 -= 40;
            if ( v107 == 255 )
              v104 += 20;
            v114 -= v104;
            v113 -= v104;
            v112 -= v104;
            v111 -= v104;
            break;
          case 4:
            if ( v108 )
            {
              switch ( v108 )
              {
                case 1:
                  v119 += 5;
                  v153 += 40;
                  v154 += 12;
                  break;
                case 2:
                  v119 += 6;
                  v153 += 60;
                  v154 += 16;
                  break;
                case 3:
                  v119 += 15;
                  v153 += 80;
                  v154 += 20;
                  break;
              }
            }
            else
            {
              v119 += 3;
              v153 += 20;
              v154 += 10;
            }
            break;
          case 5:
            v41 = 100 - v108;
            v103 = (double)(100 - v108) / 100.0;
            v40 = *(_WORD *)(a1 + 84);
            *(_WORD *)(a1 + 84) = sub_4E4D4C((double)v40 * v103);
            break;
          case 6:
            v102 = *(_DWORD *)a10;
            v20 = v102;
            BYTE1(v20) |= 8u;
            *(_DWORD *)a10 = v20;
            break;
          case 7:
            v101 = v107 / 10 + 10;
            v141 -= v101;
            if ( (signed int)*(_WORD *)(a1 + 92) > 50 )
            {
              v100 = *(_WORD *)(a1 + 82);
              v100 -= v101 + 10;
              *(_WORD *)(a1 + 82) = v100;
            }
            break;
          case 8:
            if ( v108 & 2 )
            {
              v99 = 25;
              v114 += 25;
              v113 += 25;
              v112 += 25;
              v111 += 25;
            }
            if ( v108 & 0x10 )
              v152 += 20 * *(_WORD *)(a1 + 66) / 100 + *(_WORD *)(a1 + 64) / 2;
            if ( v108 & 0x20 )
            {
              v119 += 5;
              v154 += 4;
              v152 = 107 * v152 / 100;
            }
            if ( v108 & 0x80 )
              v115 = 1;
            break;
          case 9:
            v98 = v107 / 3 + 15;
            v119 += 5;
            if ( *(_BYTE *)(a1 + 20) == 1 )
            {
              v21 = *(_DWORD *)(a1 + 732);
              if ( v21 & 0x100000 )
              {
                v98 *= 5;
                v119 += 15;
                if ( (unsigned int)&unk_800000 & *(_DWORD *)(a1 + 732) )
                  v119 += 7;
              }
            }
            v153 += v98;
            break;
          case 10:
            v97 = v108 + v107 / 5;
            v96 = *(_WORD *)(a1 + 64);
            if ( sub_4012DA(a5) == 1 && *(_DWORD *)(a1 + 732) & 0x40000000 )
              v96 = 400;
            if ( v107 == 255 )
              v97 += v96 / 2;
            v153 -= v97;
            break;
          case 11:
            v95 = v108 + v107 / 3;
            if ( *(_BYTE *)(a1 + 20) == 1 && (unsigned int)&unk_800000 & *(_DWORD *)(a1 + 732) )
              v95 += 100;
            *(_WORD *)(a1 + 66) += v95;
            break;
          case 12:
            v39 = 100 - v108;
            v94 = (double)(100 - v108) / 100.0;
            v38 = *(_WORD *)(a1 + 66);
            *(_WORD *)(a1 + 66) = sub_4E4D4C((double)v38 * v94);
            break;
          case 13:
            v93 = v107 / 10 + v108;
            v119 += v93;
            if ( *(_DWORD *)(a1 + 732) & 0x8000 )
              v119 += 5;
            v117 -= 10;
            break;
          case 14:
            v92 = *(_WORD *)(a1 + 64);
            if ( sub_4012DA(a5) == 1 && *(_DWORD *)(a1 + 732) & 0x40000000 )
              v92 += 400;
            v91 = 4 * v92 / 3 + v107 + v108;
            v90 = v91 + *(_WORD *)(a1 + 86);
            v89 = 0;
            if ( *(_DWORD *)(a1 + 732) & 0x80 )
              v89 = v107;
            *(_WORD *)(a1 + 86) = v89 + v90;
            break;
          case 15:
            v88 = v107 / 10 + v108;
            if ( *(_BYTE *)(a1 + 20) == 1 && (unsigned int)&unk_800000 & *(_DWORD *)(a1 + 732) )
              v88 = 120 * v88 / 100;
            v87 = v88 + *(_BYTE *)(a1 + 88);
            if ( v87 > 255 )
              v87 = 255;
            *(_BYTE *)(a1 + 88) = v87;
            v87 = v88 + *(_BYTE *)(a1 + 89);
            if ( v87 > 255 )
              v87 = 255;
            *(_BYTE *)(a1 + 89) = v87;
            v87 = v88 + *(_BYTE *)(a1 + 90);
            if ( v87 > 255 )
              v87 = 255;
            *(_BYTE *)(a1 + 90) = v87;
            v87 = v88 + *(_BYTE *)(a1 + 91);
            if ( v87 > 255 )
              v87 = 255;
            *(_BYTE *)(a1 + 91) = v87;
            break;
          case 16:
            v81 = v108 - 1;
            if ( v108 - 1 >= 0 && v81 < 5 && *(_BYTE *)(a1 + 20) == 2 )
            {
              if ( v81 == 4 )
                *(_WORD *)(a1 + 92) = 32;
              else
                *(_WORD *)(a1 + 92) = v81 + 22;
              v80 = 0;
              v79 = 0;
              v78 = 0;
              v77 = 0;
              v76 = 0;
              if ( *(_WORD *)(a1 + 92) == 22 && (v22 = *(_DWORD *)(a1 + 732), v22 & 0x200000) )
              {
                v80 = 10;
                v76 += dword_59A358[17 * v81];
                *(_BYTE *)(a1 + 742) = LOBYTE(dword_59A354[17 * v81]) * *(_BYTE *)(a1 + 90) / 50
                                     + dword_59A350[17 * v81];
              }
              else
              {
                if ( *(_WORD *)(a1 + 92) == 23 && (v23 = *(_DWORD *)(a1 + 732), v23 & 0x200000) )
                {
                  v79 = 20;
                  v77 += 20;
                  v76 += dword_59A358[17 * v81];
                }
                else
                {
                  if ( *(_WORD *)(a1 + 92) == 24 && (v24 = *(_DWORD *)(a1 + 732), v24 & 0x200000) )
                  {
                    v80 = 10;
                    v78 = 5;
                    v79 = 5;
                    v77 += 20;
                    v76 += dword_59A358[17 * v81];
                  }
                  else
                  {
                    if ( *(_WORD *)(a1 + 92) == 25 )
                    {
                      v76 += dword_59A358[17 * v81];
                    }
                    else
                    {
                      if ( *(_WORD *)(a1 + 92) == 32 )
                      {
                        v77 += 10;
                        v76 += dword_59A358[17 * v81];
                      }
                    }
                  }
                }
              }
              if ( (unsigned int)&unk_800000 & *(_DWORD *)(a1 + 732) )
              {
                v80 += 5;
                v78 += 2;
              }
              v75 = 0;
              v75 = -dword_59A368[17 * v81] / 12;
              if ( sub_4012DA(a5) == 1 && *(_DWORD *)(a1 + 732) & 0x40000000 )
              {
                v75 = 9;
              }
              else
              {
                v75 = (v143 + 2 * *(_WORD *)(a1 + 64)) / 3;
                v75 = (v75 - dword_59A368[17 * v81]) / 12;
              }
              if ( v75 <= 0 )
                v75 = 0;
              if ( v75 > 9 )
                v75 = 9;
              *(_BYTE *)(a1 + 94) = 43;
              *(_BYTE *)(a1 + 95) = v75;
              v85 = v80 + dword_59A328[17 * v81];
              v84 = v80 + dword_59A32C[17 * v81];
              v83 = v84 - v85;
              v82 = v107 * (v84 - v85) / 200 + v85;
              v119 = v119 + v107 * (v84 - v85) / 200 + v85 - 100;
              v85 = v78 + dword_59A330[17 * v81];
              v84 = v78 + dword_59A334[17 * v81];
              v83 = v84 - v85;
              v82 = v107 * (v84 - v85) / 200 + v85;
              v86 = *(_WORD *)(a1 + 66);
              v86 = v82 * v86 / 100;
              if ( *(_WORD *)(a1 + 92) == 22 )
                v86 += 5;
              *(_WORD *)(a1 + 66) = v86;
              v85 = v79 + dword_59A338[17 * v81];
              v84 = v79 + dword_59A33C[17 * v81];
              v83 = v84 - v85;
              v82 = v107 * (v84 - v85) / 200 + v85;
              v86 = v82 * v152 / 100;
              v152 = v82 * v152 / 100;
              v114 += v76;
              v113 += v76;
              v112 += v76;
              v111 += v76;
              v121 = v77 + dword_59A348[17 * v81];
              v120 = dword_59A340[17 * v81];
            }
            break;
          case 18:
            v74 = *(_DWORD *)a10;
            *(_DWORD *)a10 = v74 | 1;
            break;
          case 19:
            v73 = *(_DWORD *)a10;
            v25 = v73;
            BYTE1(v25) |= 2u;
            *(_DWORD *)a10 = v25;
            break;
          case 21:
            v72 = v107 / 3 + 10;
            *(_WORD *)(a1 + 66) -= v72;
            v71 = v107 / 10 + v108;
            if ( *(_DWORD *)(a1 + 732) & 0x80 )
              v71 += 5;
            v119 += v71;
            break;
          case 24:
            v70 = 0;
            v69 = 0;
            v68 = 0;
            v67 = *(_DWORD *)a10;
            v26 = v67;
            LOBYTE(v26) = v67 | 8;
            *(_DWORD *)a10 = v26;
            v70 = v107;
            *(_WORD *)(a1 + 66) += v107;
            v66 = sub_40191F(a1 + 148, 17);
            if ( v66 == 128 )
            {
              v69 += 30;
              v118 += 30;
            }
            if ( *(_DWORD *)(a1 + 732) & 0x8000 )
              v118 += 10;
            v114 += v69;
            v113 += v69;
            v112 += v69;
            v111 += v69;
            break;
          case 25:
            v64 = 0;
            v65 = (v108 + v107 / 4) / 10;
            if ( v107 == 255 )
              v65 += 20;
            v114 += v65;
            v113 += v65;
            v111 += v65;
            break;
          case 26:
            v63 = *(_DWORD *)a10;
            *(_DWORD *)a10 = v63 | 0x20;
            break;
          case 27:
            v62 = *(_DWORD *)a10;
            v27 = v62;
            LOBYTE(v27) = v62 | 4;
            *(_DWORD *)a10 = v27;
            break;
          case 28:
            v61 = *(_DWORD *)a10;
            *(_DWORD *)a10 = v61 | 0x40;
            break;
          case 29:
            if ( sub_4012DA(a5) == 1 )
            {
              if ( *(_DWORD *)(a1 + 732) & 0x40000000 )
              {
                if ( a9 < 1 || a9 > 10 )
                  a9 = 1;
                v37 = a9 - 1;
                switch ( a9 )
                {
                  case 1:
                    *(_WORD *)(a1 + 80) += 80 * *(_WORD *)(a1 + 80) / 100;
                    *(_WORD *)(a1 + 86) += 60 * *(_WORD *)(a1 + 86) / 100;
                    break;
                  case 2:
                    *(_WORD *)(a1 + 82) += 80 * *(_WORD *)(a1 + 82) / 100;
                    *(_WORD *)(a1 + 86) += 60 * *(_WORD *)(a1 + 86) / 100;
                    break;
                  case 3:
                    *(_WORD *)(a1 + 84) += 80 * *(_WORD *)(a1 + 84) / 100;
                    *(_WORD *)(a1 + 86) += 60 * *(_WORD *)(a1 + 86) / 100;
                    break;
                  case 4:
                    *(_WORD *)(a1 + 80) += 80 * *(_WORD *)(a1 + 80) / 100;
                    *(_WORD *)(a1 + 84) += 60 * *(_WORD *)(a1 + 84) / 100;
                    break;
                  case 5:
                    *(_WORD *)(a1 + 82) += 80 * *(_WORD *)(a1 + 82) / 100;
                    *(_WORD *)(a1 + 84) += 60 * *(_WORD *)(a1 + 84) / 100;
                    break;
                  case 6:
                    *(_WORD *)(a1 + 86) += 80 * *(_WORD *)(a1 + 86) / 100;
                    *(_WORD *)(a1 + 84) += 60 * *(_WORD *)(a1 + 84) / 100;
                    break;
                  case 7:
                    *(_WORD *)(a1 + 80) += 120 * *(_WORD *)(a1 + 80) / 100;
                    break;
                  case 8:
                    *(_WORD *)(a1 + 82) += 120 * *(_WORD *)(a1 + 82) / 100;
                    break;
                  case 9:
                    *(_WORD *)(a1 + 86) += 120 * *(_WORD *)(a1 + 86) / 100;
                    break;
                  case 10:
                    *(_WORD *)(a1 + 84) += 120 * *(_WORD *)(a1 + 84) / 100;
                    break;
                  default:
                    continue;
                }
              }
            }
            else
            {
              if ( *(_DWORD *)(a1 + 732) & 0x40000000 )
              {
                if ( a9 < 1 || a9 > 10 )
                  a9 = 1;
                v36 = a9 - 1;
                switch ( a9 )
                {
                  case 1:
                    *(_WORD *)(a1 + 80) += 40 * *(_WORD *)(a1 + 80) / 100;
                    *(_WORD *)(a1 + 86) += 30 * *(_WORD *)(a1 + 86) / 100;
                    break;
                  case 2:
                    *(_WORD *)(a1 + 82) += 40 * *(_WORD *)(a1 + 82) / 100;
                    *(_WORD *)(a1 + 86) += 30 * *(_WORD *)(a1 + 86) / 100;
                    break;
                  case 3:
                    *(_WORD *)(a1 + 84) += 40 * *(_WORD *)(a1 + 84) / 100;
                    *(_WORD *)(a1 + 86) += 30 * *(_WORD *)(a1 + 86) / 100;
                    break;
                  case 4:
                    *(_WORD *)(a1 + 80) += 40 * *(_WORD *)(a1 + 80) / 100;
                    *(_WORD *)(a1 + 84) += 30 * *(_WORD *)(a1 + 84) / 100;
                    break;
                  case 5:
                    *(_WORD *)(a1 + 82) += 40 * *(_WORD *)(a1 + 82) / 100;
                    *(_WORD *)(a1 + 84) += 30 * *(_WORD *)(a1 + 84) / 100;
                    break;
                  case 6:
                    *(_WORD *)(a1 + 84) += 40 * *(_WORD *)(a1 + 86) / 100;
                    *(_WORD *)(a1 + 84) += 30 * *(_WORD *)(a1 + 84) / 100;
                    break;
                  case 7:
                    *(_WORD *)(a1 + 80) += 60 * *(_WORD *)(a1 + 80) / 100;
                    break;
                  case 8:
                    *(_WORD *)(a1 + 82) += 60 * *(_WORD *)(a1 + 82) / 100;
                    break;
                  case 9:
                    *(_WORD *)(a1 + 86) += 60 * *(_WORD *)(a1 + 86) / 100;
                    break;
                  case 10:
                    *(_WORD *)(a1 + 84) += 60 * *(_WORD *)(a1 + 84) / 100;
                    break;
                  default:
                    continue;
                }
              }
              else
              {
                *(_WORD *)(a1 + 80) = 2000;
                *(_WORD *)(a1 + 82) = 2000;
                v152 = 10000;
              }
            }
            break;
          case 31:
            v60 = v108 + v107 / 10;
            if ( *(_DWORD *)(a1 + 732) & 0x8000 )
              v60 += 100;
            *(_WORD *)(a1 + 66) += v60;
            break;
          case 33:
            v59 = 0;
            if ( !v108 )
              v59 = 202;
            if ( v108 == 1 )
              v59 = 209;
            if ( v108 == 2 )
              v59 = 212;
            if ( v108 == 3 )
              v59 = 230;
            if ( v108 == 4 )
              v59 = 229;
            if ( v108 == 5 )
              v59 = 216;
            if ( v108 == 6 )
              v59 = 226;
            if ( v108 == 7 )
              v59 = 298;
            *(_WORD *)(a1 + 92) = v59;
            break;
          case 34:
            v119 += 15;
            v153 += 80;
            v154 += 20;
            v117 += 30;
            v116 += 30;
            break;
          case 35:
            if ( *(_DWORD *)(a2 + 8 * k + 4) < 1000000 )
            {
              v117 += 10;
              v116 += 10;
            }
            else
            {
              v117 += 30;
              v116 += 30;
            }
            break;
          case 36:
            v58 = *(_DWORD *)a10;
            *(_DWORD *)a10 = v58 | 0x10;
            break;
          case 37:
            *(_DWORD *)a8 = 3 * *(_BYTE *)(a1 + 90) / 10 + 24;
            break;
          case 38:
            v57 = *(_WORD *)(a1 + 64);
            if ( sub_4012DA(a5) == 1 )
            {
              if ( *(_DWORD *)(a1 + 732) & 0x40000000 )
                v57 += 400;
              v28 = v57 + *(_BYTE *)(a1 + 90);
              v56 = (((BYTE4(v28) & 3) + (signed int)v28) >> 2) + *(_WORD *)(a1 + 74) / 4;
              v152 += v56 + 750;
              *(_WORD *)(a1 + 74) -= v56;
            }
            else
            {
              v29 = v57 + *(_BYTE *)(a1 + 90);
              v55 = (((BYTE4(v29) & 3) + (signed int)v29) >> 2) + *(_WORD *)(a1 + 74) / 8;
              v152 += v55 + 750;
              *(_WORD *)(a1 + 74) -= v55;
            }
            break;
        }
      }
    }
  }
  if ( v137 < 4 )
  {
    v153 += *(_BYTE *)(a1 + 88) + *(_WORD *)(a1 + 84) / 8 + *(_WORD *)(a1 + 80) / 3;
    if ( v136 > 5 )
      v153 += 2 * *(_WORD *)(a1 + 64);
    else
      v153 += *(_WORD *)(a1 + 64);
  }
  if ( v114 < 0 )
    v114 = 0;
  if ( v114 > 100 )
    v114 = 100;
  *(_BYTE *)(a1 + 752) = v114;
  if ( v113 < 0 )
    v113 = 0;
  if ( v113 > 100 )
    v113 = 100;
  *(_BYTE *)(a1 + 753) = v113;
  if ( v112 < 0 )
    v112 = 0;
  if ( v112 > 100 )
    v112 = 100;
  *(_BYTE *)(a1 + 754) = v112;
  if ( v111 < 0 )
    v111 = 0;
  if ( v111 > 100 )
    v111 = 100;
  *(_BYTE *)(a1 + 755) = v111;
  if ( v119 != 100 )
    v153 = v119 * v153 / 100;
  if ( v118 != 100 )
    *(_WORD *)(a1 + 66) = v118 * *(_WORD *)(a1 + 66) / 100;
  if ( v117 != 100 )
  {
    v54 = v117 * v152 / 100;
    if ( v54 > 64000 )
      v54 = 64000;
    v152 = v54;
  }
  if ( v116 != 100 )
  {
    v53 = v116 * *(_WORD *)(a1 + 74) / 100;
    if ( v53 > 64000 )
      v53 = 64000;
    *(_WORD *)(a1 + 74) = v53;
  }
  if ( v115 == 1 )
  {
    v152 += *(_WORD *)(a1 + 74) / 2;
    *(_WORD *)(a1 + 74) /= 2;
  }
  if ( v140 < 0 )
    v140 = 0;
  if ( v140 > 1000 )
    v140 = 1000;
  *(_BYTE *)(a1 + 750) = v140 / 4;
  if ( v139 < 0 )
    v139 = 0;
  if ( v139 > 1000 )
    v139 = 1000;
  *(_BYTE *)(a1 + 751) = v139 / 4;
  v141 += *(_WORD *)(a1 + 84) / 5 + v121;
  v142 += v120;
  if ( v142 <= 0 )
    v142 = 0;
  if ( v142 > 6 )
    v142 = 6;
  if ( v141 < 0 )
    v141 = 0;
  if ( v141 > 150 )
    v141 = 150;
  v141 /= 10;
  v141 &= 0xFu;
  *(_BYTE *)(a1 + 71) = v142 + 16 * v141;
  v52 = *(_BYTE *)(a1 + 17);
  if ( v137 >= 4 )
  {
    if ( (signed int)*(_BYTE *)(a1 + 17) >= 100 && (signed int)*(_BYTE *)(a1 + 17) < 200 )
      v52 = 8;
  }
  else
  {
    if ( sub_4012DA(a5) == 1 && *(_DWORD *)(a1 + 732) & 0x40000000 )
    {
      v48 = dword_598574[*(_WORD *)(a1 + 36)];
      v47 = (int)*(&off_598578 + *(_WORD *)(a1 + 36));
      v46 = (v47 - v48) / 0xAu;
      if ( *(_DWORD *)a3 >= (signed int)v46 )
        *(_WORD *)(a1 + 66) /= 2;
    }
    else
    {
      v51 = dword_597F28[*(_WORD *)(a1 + 36)];
      v50 = dword_597F2C[*(_WORD *)(a1 + 36)];
      v49 = (v50 - v51) / 0xAu;
      if ( *(_DWORD *)a3 >= (signed int)(4 * (v50 - v51) / 0xAu) / 5 )
        *(_WORD *)(a1 + 66) /= 2;
    }
    LOBYTE(v45) = *(_BYTE *)(a1 + 726);
    v44 = (unsigned __int8)v45;
    if ( (signed int)(unsigned __int8)v45 < 75 )
    {
      v44 = 75 - v44;
      v43 = v44 / 10;
      if ( v44 < 60 )
      {
        v152 -= 7 * v43 * v152 / 100;
      }
      else
      {
        v152 /= 5;
        *(_WORD *)(a1 + 84) /= 2;
      }
      v153 += 3 * v43 * v153 / 100;
      *(_BYTE *)(a1 + 749) += 4 * v43;
      *(_WORD *)(a1 + 66) -= 100 * v43;
      if ( (signed int)*(_WORD *)(a1 + 66) < 0 )
        *(_WORD *)(a1 + 66) = 0;
    }
  }
  *(_BYTE *)(a1 + 70) = v52 | *(_BYTE *)(a1 + 70) & 0xF0;
  if ( v154 >= 1000 )
    v154 = 1000;
  *(_BYTE *)(a1 + 749) = v154 / 4;
  if ( v153 > 32000 )
    v153 = 32000;
  *(_WORD *)(a1 + 68) = v153;
  if ( v152 > 64000 )
    v152 = 64000;
  *(_WORD *)(a1 + 72) = v152;
  if ( *(_WORD *)(a1 + 76) > (signed int)*(_WORD *)(a1 + 72) )
    *(_WORD *)(a1 + 76) = *(_WORD *)(a1 + 72);
  v30 = a1;
  if ( *(_WORD *)(a1 + 78) > (signed int)*(_WORD *)(a1 + 74) )
  {
    v30 = a1;
    *(_WORD *)(a1 + 78) = *(_WORD *)(a1 + 74);
  }
  return sub_4E46A0(1, v30, v34, v32, v33);
}
// 4012DA: using guessed type _DWORD __cdecl sub_4012DA(_DWORD);
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 401A55: using guessed type _DWORD __cdecl sub_401A55(char, _DWORD);
// 401AB4: using guessed type _DWORD __cdecl sub_401AB4(_DWORD, _DWORD);
// 597460: using guessed type int dword_597460[];
// 597730: using guessed type int dword_597730[];
// 597F28: using guessed type int dword_597F28[];
// 597F2C: using guessed type int dword_597F2C[];
// 598574: using guessed type int dword_598574[];
// 598578: using guessed type void *off_598578;
// 59A328: using guessed type int dword_59A328[];
// 59A32C: using guessed type int dword_59A32C[];
// 59A330: using guessed type int dword_59A330[];
// 59A334: using guessed type int dword_59A334[];
// 59A338: using guessed type int dword_59A338[];
// 59A33C: using guessed type int dword_59A33C[];
// 59A340: using guessed type int dword_59A340[];
// 59A348: using guessed type int dword_59A348[];
// 59A350: using guessed type int dword_59A350[];
// 59A354: using guessed type int dword_59A354[];
// 59A358: using guessed type int dword_59A358[];
// 59A368: using guessed type int dword_59A368[];
// 59A53C: using guessed type int dword_59A53C[];
// 59A540: using guessed type int dword_59A540[];
// 59A544: using guessed type int dword_59A544[];
// 9CCCC4: using guessed type __int16 word_9CCCC4[];
// 9CCCC6: using guessed type __int16 word_9CCCC6[];

//----- (0040CF50) --------------------------------------------------------
signed int __cdecl sub_40CF50(int a1, int a2)
{
  char v3; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  memset(&v3, -858993460, 0x44u);
  for ( i = 0; i < 5; ++i )
  {
    if ( a1 >= dword_594DE8[21 * i]
      && a1 <= dword_594DF0[21 * i]
      && a2 >= dword_594DEC[21 * i]
      && a2 <= dword_594DF4[21 * i] )
      return i;
  }
  return 5;
}
// 594DE8: using guessed type int dword_594DE8[];
// 594DEC: using guessed type int dword_594DEC[];
// 594DF0: using guessed type int dword_594DF0[];
// 594DF4: using guessed type int dword_594DF4[];

//----- (0040D000) --------------------------------------------------------
int __cdecl sub_40D000(int a1)
{
  char v2; // [sp+Ch] [bp-4Ch]@1
  int v3; // [sp+50h] [bp-8h]@1
  int v4; // [sp+54h] [bp-4h]@1

  memset(&v2, -858993460, 0x4Cu);
  v4 = 0;
  v3 = 0;
  if ( *(_BYTE *)(a1 + 2) == 56 || *(_BYTE *)(a1 + 4) == 56 || *(_BYTE *)(a1 + 6) == 56 )
  {
    if ( *(_BYTE *)(a1 + 2) == 56 )
    {
      v4 = *(_BYTE *)(a1 + 3);
    }
    else
    {
      if ( *(_BYTE *)(a1 + 4) == 56 )
        v4 = *(_BYTE *)(a1 + 5);
      else
        v4 = *(_BYTE *)(a1 + 7);
    }
  }
  if ( *(_BYTE *)(a1 + 2) == 57 || *(_BYTE *)(a1 + 4) == 57 || *(_BYTE *)(a1 + 6) == 57 )
  {
    if ( *(_BYTE *)(a1 + 2) == 57 )
    {
      v3 = *(_BYTE *)(a1 + 3);
    }
    else
    {
      if ( *(_BYTE *)(a1 + 4) == 57 )
        v3 = *(_BYTE *)(a1 + 5);
      else
        v3 = *(_BYTE *)(a1 + 7);
    }
  }
  return v3 + (v4 << 8);
}

//----- (0040D140) --------------------------------------------------------
int __cdecl sub_40D140(signed int a1)
{
  char v2; // [sp+Ch] [bp-44h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  memset(&v2, -858993460, 0x44u);
  v3 = 0;
  if ( a1 >= 526 && a1 <= 537 )
    v3 = (a1 - 526) % 3 + 1;
  return v3;
}

//----- (0040D1B0) --------------------------------------------------------
signed int __cdecl sub_40D1B0(int a1, int a2)
{
  char v3; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  memset(&v3, -858993460, 0x44u);
  for ( i = 0; i < 5; ++i )
  {
    if ( a1 >= dword_594DF8[21 * i]
      && a1 <= dword_594E00[21 * i]
      && a2 >= dword_594DFC[21 * i]
      && a2 <= dword_594E04[21 * i] )
      return i;
  }
  return 5;
}
// 594DF8: using guessed type int dword_594DF8[];
// 594DFC: using guessed type int dword_594DFC[];
// 594E00: using guessed type int dword_594E00[];
// 594E04: using guessed type int dword_594E04[];

//----- (0040D310) --------------------------------------------------------
signed int __cdecl sub_40D310(int a1, int a2)
{
  char v3; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  memset(&v3, -858993460, 0x44u);
  for ( i = 0; i < 5; ++i )
  {
    if ( a1 >= dword_594DE8[21 * i]
      && a1 <= dword_594DF0[21 * i]
      && a2 >= dword_594DEC[21 * i]
      && a2 <= dword_594DF4[21 * i] )
      return i;
  }
  return 5;
}
// 594DE8: using guessed type int dword_594DE8[];
// 594DEC: using guessed type int dword_594DEC[];
// 594DF0: using guessed type int dword_594DF0[];
// 594DF4: using guessed type int dword_594DF4[];

//----- (0040D420) --------------------------------------------------------
int __cdecl sub_40D420(int a1)
{
  int result; // eax@1

  *(_WORD *)a1 = 0;
  *(_BYTE *)(a1 + 2) = 0;
  *(_BYTE *)(a1 + 3) = 0;
  *(_BYTE *)(a1 + 4) = 0;
  *(_BYTE *)(a1 + 5) = 0;
  *(_BYTE *)(a1 + 6) = 0;
  result = a1;
  *(_BYTE *)(a1 + 7) = 0;
  return result;
}

//----- (0040D490) --------------------------------------------------------
int __cdecl sub_40D490(int a1, int a2, int a3, signed int a4, int a5, signed int a6, int a7)
{
  int v7; // eax@3
  signed int v8; // eax@61
  signed int v9; // eax@72
  char v11; // [sp+0h] [bp-ACh]@0
  int v12; // [sp+4h] [bp-A8h]@0
  int v13; // [sp+8h] [bp-A4h]@0
  char v14; // [sp+Ch] [bp-A0h]@1
  int v15; // [sp+4Ch] [bp-60h]@74
  int v16; // [sp+50h] [bp-5Ch]@72
  int v17; // [sp+54h] [bp-58h]@72
  int v18; // [sp+58h] [bp-54h]@72
  int v19; // [sp+5Ch] [bp-50h]@72
  int v20; // [sp+60h] [bp-4Ch]@72
  int v21; // [sp+64h] [bp-48h]@72
  int v22; // [sp+68h] [bp-44h]@72
  int v23; // [sp+6Ch] [bp-40h]@72
  int v24; // [sp+70h] [bp-3Ch]@64
  int v25; // [sp+74h] [bp-38h]@61
  int v26; // [sp+78h] [bp-34h]@48
  int v27; // [sp+7Ch] [bp-30h]@34
  int v28; // [sp+80h] [bp-2Ch]@34
  int v29; // [sp+84h] [bp-28h]@31
  int v30; // [sp+88h] [bp-24h]@16
  int v31; // [sp+8Ch] [bp-20h]@16
  int v32; // [sp+90h] [bp-1Ch]@14
  int v33; // [sp+94h] [bp-18h]@12
  int v34; // [sp+98h] [bp-14h]@7
  int v35; // [sp+9Ch] [bp-10h]@7
  int v36; // [sp+A0h] [bp-Ch]@6
  int v37; // [sp+A4h] [bp-8h]@4
  int v38; // [sp+A8h] [bp-4h]@1

  memset(&v14, -858993460, 0xA0u);
  v38 = *(_WORD *)a1;
  if ( v38 > 0 && v38 < 6500 )
  {
    v37 = word_9CCCC4[70 * v38];
    if ( a3 == 15 )
    {
      v7 = 0;
    }
    else
    {
      v36 = word_9CCCCA[70 * v38];
      if ( a3 != -1 )
      {
        v35 = sub_40191F(a1, 17);
        v34 = (v35 >> a3) & 1;
        if ( !v34 )
        {
          v7 = 0;
          return sub_4E46A0(1, v7, v13, v11, v12);
        }
        if ( a3 == 6 || a3 == 7 )
        {
          v33 = a3 == 6 ? 7 : 6;
          v32 = *(_WORD *)(a5 + 8 * v33);
          if ( v32 > 0 )
          {
            if ( v32 < 6500 )
            {
              v31 = word_9CCCC4[70 * v32];
              v30 = sub_40191F(a5 + 8 * v33, 17);
              if ( v35 == 64 || v30 == 64 )
              {
                if ( v37 == 46 )
                {
                  if ( v30 != 128 )
                  {
                    v7 = 0;
                    return sub_4E46A0(1, v7, v13, v11, v12);
                  }
                }
                else
                {
                  if ( v31 != 46 )
                  {
                    v7 = 0;
                    return sub_4E46A0(1, v7, v13, v11, v12);
                  }
                  if ( v35 != 128 )
                  {
                    v7 = 0;
                    return sub_4E46A0(1, v7, v13, v11, v12);
                  }
                }
              }
            }
          }
        }
      }
      if ( a4 >= 22 && a4 <= 25 || a4 == 32 )
        a4 = a6;
      v29 = 0;
      if ( v38 >= 2300 && v38 < 2390 )
        v29 = (v38 - 2300) % 30;
      v28 = a4 / 10;
      v27 = a4 % 10;
      if ( a3 != 1
        || *(_WORD *)a1 == 747
        || *(_WORD *)a1 == 3500
        || *(_WORD *)a1 == 3507
        || *(_WORD *)a1 == 3501
        || *(_WORD *)a1 == 3502
        || v27 <= 5
        || *(_WORD *)a1 == 3303
        || *(_WORD *)a1 == 3507 )
      {
        if ( v29 != 19 && v29 != 20 || v27 > 5 )
        {
          v26 = sub_40191F(a1, 112);
          switch ( v26 )
          {
            case 1:
              if ( v27 < 6 )
              {
                v7 = 0;
                return sub_4E46A0(1, v7, v13, v11, v12);
              }
              break;
            case 2:
              if ( v27 >= 6 )
              {
                v7 = 0;
                return sub_4E46A0(1, v7, v13, v11, v12);
              }
              break;
            case 3:
              if ( v27 < 6 )
              {
                v7 = 0;
                return sub_4E46A0(1, v7, v13, v11, v12);
              }
              if ( a7 != 1 )
              {
                v7 = 0;
                return sub_4E46A0(1, v7, v13, v11, v12);
              }
              break;
          }
          v8 = sub_40191F(a1, 18);
          v25 = (v8 >> v28) & 1;
          if ( !v25 )
          {
            if ( v27 <= 5 )
            {
              v7 = 0;
              return sub_4E46A0(1, v7, v13, v11, v12);
            }
            v24 = sub_40191F(a1, 17);
            if ( v24 != 64 && v24 != 128 && v24 != 192 )
            {
              v7 = 0;
              return sub_4E46A0(1, v7, v13, v11, v12);
            }
          }
          if ( v37 % 10 < 9 || v37 >= 40 || v27 >= 6 )
          {
            v23 = sub_40191F(a1, 1);
            v22 = sub_40191F(a1, 22);
            v21 = sub_40191F(a1, 23);
            v20 = sub_40191F(a1, 24);
            v19 = sub_40191F(a1, 25);
            v9 = sub_40191F(a1, 21);
            v18 = v9 % 10;
            v17 = v9 % 10;
            v16 = v9 % 10 / 10;
            if ( a3 == 7 && v18 )
            {
              v15 = 100;
              if ( v16 || v17 <= 1 )
              {
                if ( v16 == 6 && v17 > 1 )
                  v15 = 150;
              }
              else
              {
                v15 = 130;
              }
              v23 = v15 * v23 / 100;
              v22 = v15 * v22 / 100;
              v21 = v15 * v21 / 100;
              v20 = v15 * v20 / 100;
              v19 = v15 * v19 / 100;
            }
            if ( v27 <= 5 )
            {
              if ( v23 > *(_WORD *)a2 )
              {
                v7 = 0;
                return sub_4E46A0(1, v7, v13, v11, v12);
              }
              if ( v22 > *(_WORD *)(a2 + 16) )
              {
                v7 = 0;
                return sub_4E46A0(1, v7, v13, v11, v12);
              }
              if ( v21 > *(_WORD *)(a2 + 18) )
              {
                v7 = 0;
                return sub_4E46A0(1, v7, v13, v11, v12);
              }
              if ( v20 > *(_WORD *)(a2 + 20) )
              {
                v7 = 0;
                return sub_4E46A0(1, v7, v13, v11, v12);
              }
              if ( v19 > *(_WORD *)(a2 + 22) )
              {
                v7 = 0;
                return sub_4E46A0(1, v7, v13, v11, v12);
              }
            }
            v7 = 1;
            return sub_4E46A0(1, v7, v13, v11, v12);
          }
          v7 = 0;
        }
        else
        {
          v7 = 0;
        }
      }
      else
      {
        v7 = 0;
      }
    }
  }
  else
  {
    v7 = 0;
  }
  return sub_4E46A0(1, v7, v13, v11, v12);
}
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 9CCCC4: using guessed type __int16 word_9CCCC4[];
// 9CCCCA: using guessed type __int16 word_9CCCCA[];

//----- (0040DA70) --------------------------------------------------------
bool __cdecl sub_40DA70(int a1, signed int a2)
{
  bool result; // eax@2
  char v3; // [sp+Ch] [bp-44h]@1
  int v4; // [sp+4Ch] [bp-4h]@3

  memset(&v3, -858993460, 0x44u);
  if ( a2 >= 30 )
  {
    v4 = a2 / 15;
    if ( a2 / 15 != 2 || *(_WORD *)(a1 + 480) == 3467 )
      result = v4 != 3 || *(_WORD *)(a1 + 488) == 3467;
    else
      result = 0;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (0040DB10) --------------------------------------------------------
int __cdecl sub_40DB10(int a1, int a2, int a3, int a4)
{
  int v4; // eax@29
  char v6; // [sp+0h] [bp-FCh]@0
  int v7; // [sp+4h] [bp-F8h]@0
  int v8; // [sp+8h] [bp-F4h]@0
  char v9; // [sp+Ch] [bp-F0h]@1
  int m; // [sp+4Ch] [bp-B0h]@22
  int l; // [sp+50h] [bp-ACh]@20
  int k; // [sp+54h] [bp-A8h]@7
  int j; // [sp+58h] [bp-A4h]@5
  int v14; // [sp+5Ch] [bp-A0h]@5
  int v15; // [sp+60h] [bp-9Ch]@5
  char v16[8]; // [sp+64h] [bp-98h]@5
  int i; // [sp+6Ch] [bp-90h]@1
  char v18[128]; // [sp+70h] [bp-8Ch]@1
  char v19[8]; // [sp+F0h] [bp-Ch]@1
  int v20; // [sp+F8h] [bp-4h]@1

  memset(&v9, -858993460, 0xF0u);
  v20 = sub_40191F(a1, 33);
  sub_4E4810(v19, (char *)&unk_5958C4 + 8 * v20, 8u);
  sub_4E4640(v18, 0, 0x7Eu);
  for ( i = 0; i < 128; ++i )
  {
    if ( *(_WORD *)(a2 + 8 * i) )
    {
      v20 = sub_40191F(a2 + 8 * i, 33);
      sub_4E4810(v16, (char *)&unk_5958C4 + 8 * v20, 8u);
      v15 = i % 9;
      v14 = i / 9;
      for ( j = 0; j < 4; ++j )
      {
        for ( k = 0; k < 2; ++k )
        {
          if ( *(&v16[2 * j] + k) == 1 && v14 + j >= 0 && v15 + k >= 0 && v14 + j < 14 )
          {
            if ( v15 + k < 9 )
              *(&v18[9 * (v14 + j)] + v15 + k) = 1;
          }
        }
      }
    }
  }
  for ( l = 0; l < 4; ++l )
  {
    for ( m = 0; m < 2; ++m )
    {
      if ( *(&v19[2 * l] + m) == 1 )
      {
        if ( a4 + l < 0 || a3 + m < 0 || a4 + l >= 14 || a3 + m >= 9 )
        {
          v4 = 0;
          return sub_4E46A0(1, v4, v8, v6, v7);
        }
        if ( *(&v18[9 * (a4 + l)] + a3 + m) == 1 )
        {
          v4 = 0;
          return sub_4E46A0(1, v4, v8, v6, v7);
        }
      }
    }
  }
  v4 = 1;
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 40DB10: using guessed type char var_C[8];
// 40DB10: using guessed type char var_8C[128];
// 40DB10: using guessed type char var_98[8];

//----- (0040DE90) --------------------------------------------------------
int __cdecl sub_40DE90(void *a1, char a2)
{
  void *v2; // eax@4
  int v3; // edx@15
  int v4; // eax@15
  int v5; // eax@16
  char v7; // [sp+0h] [bp-110h]@0
  int v8; // [sp+4h] [bp-10Ch]@0
  int v9; // [sp+8h] [bp-108h]@0
  char v10; // [sp+Ch] [bp-104h]@1
  int j; // [sp+4Ch] [bp-C4h]@9
  int v12; // [sp+50h] [bp-C0h]@9
  int v13; // [sp+54h] [bp-BCh]@9
  int v14; // [sp+58h] [bp-B8h]@7
  int v15[29]; // [sp+5Ch] [bp-B4h]@15
  int v16[15]; // [sp+D0h] [bp-40h]@1
  int i; // [sp+10Ch] [bp-4h]@1

  memset(&v10, -858993460, 0x104u);
  sub_4E4640(v16, 0xFFu, 0x3Cu);
  for ( i = 0; i < 15; ++i )
  {
    v2 = a1;
    if ( *((_WORD *)a1 + 4 * i) )
    {
      LOBYTE(v2) = a2;
      v16[i] = sub_40191F((char *)a1 + 8 * i, v2);
    }
    else
    {
      v16[i] = -1;
    }
  }
  sub_4E4640(&v14, 0, 0x78u);
  for ( i = 0; i < 15; ++i )
  {
    v13 = 0;
    v12 = -1;
    for ( j = 0; j < 15; ++j )
    {
      if ( v16[j] > v12 )
      {
        v13 = j;
        v12 = v16[j];
      }
    }
    if ( v12 == -1 )
      break;
    v16[v13] = -1;
    v3 = *((_DWORD *)a1 + 2 * v13 + 1);
    v4 = i;
    *(&v14 + 2 * i) = *((_DWORD *)a1 + 2 * v13);
    v15[2 * v4] = v3;
  }
  v5 = (int)sub_4E4810(a1, &v14, 0x78u);
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 40DE90: using guessed type int var_40[15];
// 40DE90: using guessed type int var_B4[29];

//----- (0040E070) --------------------------------------------------------
int __cdecl sub_40E070(void *a1, const void *a2, int a3, const void *a4)
{
  int v4; // ecx@15
  int v5; // edx@15
  int v6; // eax@17
  char v8; // [sp+0h] [bp-D4h]@0
  int v9; // [sp+4h] [bp-D0h]@0
  int v10; // [sp+8h] [bp-CCh]@0
  char v11; // [sp+Ch] [bp-C8h]@1
  int v12; // [sp+4Ch] [bp-88h]@14
  int j; // [sp+50h] [bp-84h]@10
  int v14; // [sp+54h] [bp-80h]@4
  int i; // [sp+58h] [bp-7Ch]@1
  int v16; // [sp+5Ch] [bp-78h]@1
  int v17[29]; // [sp+60h] [bp-74h]@15

  memset(&v11, -858993460, 0xC8u);
  sub_4E4810(&v16, a4, 0x78u);
  sub_4E4810(a1, a2, 0x200u);
  for ( i = 0; i < 15; ++i )
  {
    v14 = *(_BYTE *)(i + a3);
    if ( v14 != -1 )
      sub_40173A((char *)a1 + 8 * v14);
  }
  sub_40174E(&v16, 33);
  for ( i = 0; i < 15; ++i )
  {
    if ( *((_WORD *)&v16 + 4 * i) )
    {
      for ( j = 0; j < 60; ++j )
      {
        if ( !*((_WORD *)a1 + 4 * j) )
        {
          v12 = sub_4017E4(a1, j);
          if ( v12 )
          {
            v4 = v17[2 * i];
            v5 = j;
            *((_DWORD *)a1 + 2 * j) = *(&v16 + 2 * i);
            *((_DWORD *)a1 + 2 * v5 + 1) = v4;
            break;
          }
        }
      }
      if ( j == 60 )
      {
        v6 = 0;
        return sub_4E46A0(1, v6, v10, v8, v9);
      }
    }
  }
  v6 = 1;
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 40173A: using guessed type _DWORD __cdecl sub_40173A(_DWORD);
// 40174E: using guessed type _DWORD __cdecl sub_40174E(_DWORD, char);
// 4017E4: using guessed type _DWORD __cdecl sub_4017E4(_DWORD, _DWORD);
// 40E070: using guessed type int var_74[29];

//----- (0040E230) --------------------------------------------------------
int __usercall sub_40E230<eax>(int a1<ebx>, int a2<esi>, const CHAR *a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-468h]@0
  int v6; // [sp+4h] [bp-464h]@0
  int v7; // [sp+8h] [bp-460h]@0
  char v8; // [sp+Ch] [bp-45Ch]@1
  char v9; // [sp+4Ch] [bp-41Ch]@22
  int v10; // [sp+CCh] [bp-39Ch]@20
  char v11; // [sp+D0h] [bp-398h]@12
  int i; // [sp+150h] [bp-318h]@6
  int v13; // [sp+154h] [bp-314h]@6
  int v14; // [sp+158h] [bp-310h]@2
  int v15; // [sp+15Ch] [bp-30Ch]@2
  int v16; // [sp+160h] [bp-308h]@13
  char v17; // [sp+264h] [bp-204h]@2
  char v18[509]; // [sp+265h] [bp-203h]@13
  char v19; // [sp+462h] [bp-6h]@3
  char v20; // [sp+463h] [bp-5h]@3
  int v21; // [sp+464h] [bp-4h]@1
  int v22; // [sp+468h] [bp+0h]@3

  memset(&v8, -858993460, 0x45Cu);
  sub_4E4640(byte_8A67C4, 0xF4u, 0x80u);
  v3 = sub_4E4620(a1, a2, a3, (int)"rt");
  v21 = v3;
  if ( v3 )
  {
    while ( 1 )
    {
      v15 = -1;
      v14 = sub_4E4400(a1, a2, (int)&v17, 512, v21);
      if ( !v14 )
        break;
      sub_4E4340(a1, (int)&v22, a2, (int)&v17, "%d %s", (unsigned int)&v15);
      v19 = 0;
      v20 = 0;
      if ( v15 > 0 && v15 <= 500 )
      {
        v13 = 0;
        for ( i = 0; i < 256; ++i )
        {
          if ( *(&v17 + i) == 9 )
          {
            v13 = i;
            break;
          }
        }
        if ( v13 )
        {
          v16 = (int)&v18[v13];
          for ( i = 0; i < 128; ++i )
          {
            if ( *(_BYTE *)(i + v16) == 9 || *(_BYTE *)(i + v16) == 10 || !*(_BYTE *)(i + v16) )
            {
              *(_BYTE *)(i + v16) = 0;
              break;
            }
          }
          v10 = sub_4E4B50(v16);
          if ( v10 <= 0 || v10 >= 94 )
          {
            sub_4E3F40(a1, a2, (int)&v9, "Empty or Long String-%s");
            Log(&v9, "-system", 0);
            *(_BYTE *)(v16 + 95) = 0;
            *(_BYTE *)(v16 + 94) = 0;
          }
          sub_4E4720((int)&byte_8A67C4[128 * v15]);
        }
        else
        {
          sub_4E3F40(a1, a2, (int)&v11, "Can't parse String-%s");
          Log(&v11, "-system", 0);
        }
      }
    }
    v3 = sub_4E4260(a1, a2, v21);
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40E230: using guessed type char var_203[509];

//----- (0040E580) --------------------------------------------------------
int __usercall sub_40E580<eax>(int a1<ebx>, int a2<esi>, const CHAR *a3, int a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-870h]@0
  int v7; // [sp+4h] [bp-86Ch]@0
  int v8; // [sp+8h] [bp-868h]@0
  char v9; // [sp+Ch] [bp-864h]@1
  char v10; // [sp+4Ch] [bp-824h]@47
  char v11; // [sp+CCh] [bp-7A4h]@39
  int v12; // [sp+14Ch] [bp-724h]@37
  int i; // [sp+150h] [bp-720h]@31
  int v14; // [sp+154h] [bp-71Ch]@30
  char v15; // [sp+158h] [bp-718h]@30
  char v16; // [sp+258h] [bp-618h]@30
  char v17; // [sp+358h] [bp-518h]@27
  char v18; // [sp+3D8h] [bp-498h]@24
  char v19; // [sp+458h] [bp-418h]@21
  int v20; // [sp+4D8h] [bp-398h]@19
  char v21; // [sp+4DCh] [bp-394h]@11
  int j; // [sp+55Ch] [bp-314h]@5
  int v23; // [sp+560h] [bp-310h]@5
  int v24; // [sp+564h] [bp-30Ch]@4
  int v25; // [sp+568h] [bp-308h]@12
  char v26; // [sp+56Ch] [bp-304h]@5
  int v27; // [sp+66Ch] [bp-204h]@1
  char v28; // [sp+670h] [bp-200h]@4
  char v29[509]; // [sp+671h] [bp-1FFh]@12
  char v30; // [sp+86Eh] [bp-2h]@5
  char v31; // [sp+86Fh] [bp-1h]@5
  int v32; // [sp+870h] [bp+0h]@5

  memset(&v9, -858993460, 0x864u);
  v4 = sub_4E4620(a1, a2, a3, (int)"rt");
  v27 = v4;
  if ( v4 )
  {
    dword_AACD64 = 0;
    if ( a4 )
    {
      while ( 1 )
      {
        sub_4E4640(&v16, 0, 0x100u);
        sub_4E4640(&v15, 0, 0x100u);
        v14 = sub_4E4400(a1, a2, (int)&v28, 1024, v27);
        if ( !v14 )
          break;
        for ( i = 0; ; ++i )
        {
          if ( i < 1024 )
          {
            if ( *(&v28 + i) == 44 )
              *(&v28 + i) = 32;
            if ( *(&v28 + i) )
              continue;
          }
          break;
        }
        sub_4E4340(a1, (int)&v32, a2, (int)&v28, "%s %s", (unsigned int)&v16);
        v12 = 0;
        v12 = sub_4E4B50((int)&v15);
        if ( v12 > 0 && v12 < 16 )
        {
          for ( dword_AACD64 = 0;
                dword_AACD64 < 1024
             && sub_4E4D80((int)&v16, (int)((char *)&unk_8B8BD0 + 64 * dword_AACD64))
             && sub_4E4D80((int)&v16, (int)((char *)&unk_8B8BE0 + 64 * dword_AACD64));
                ++dword_AACD64 )
            ;
          if ( dword_AACD64 == 1024 )
          {
            sub_4E3F40(a1, a2, (int)&v10, "Can't Find match mobname-%s");
            Log(&v10, "-system", 0);
          }
          else
          {
            sub_4E4720((int)((char *)&unk_8B8BF0 + 64 * dword_AACD64));
          }
        }
        else
        {
          sub_4E3F40(a1, a2, (int)&v11, "EEmpty or Long String-2nd-%s(%d)");
          Log(&v11, "-system", 0);
        }
      }
    }
    else
    {
      sub_4E4640(&unk_8B8BD0, 0, 0x10000u);
      while ( 1 )
      {
        v24 = sub_4E4400(a1, a2, (int)&v28, 1024, v27);
        if ( !v24 )
          break;
        sub_4E4340(a1, (int)&v32, a2, (int)&v28, "%s", (unsigned int)&v26);
        v30 = 0;
        v31 = 0;
        v23 = 0;
        for ( j = 0; j < 256; ++j )
        {
          if ( *(&v28 + j) == 9 )
          {
            v23 = j;
            break;
          }
        }
        if ( v23 )
        {
          v25 = (int)&v29[v23];
          for ( j = 0; j < 128; ++j )
          {
            if ( *(_BYTE *)(j + v25) == 9 || *(_BYTE *)(j + v25) == 10 || !*(_BYTE *)(j + v25) )
            {
              *(_BYTE *)(j + v25) = 0;
              break;
            }
          }
          v20 = 0;
          v20 = sub_4E4B50((int)&v26);
          if ( v20 > 0 && v20 < 16 )
          {
            v20 = sub_4E4B50(v25);
            if ( v20 > 0 && v20 < 16 )
            {
              if ( dword_AACD64 < 0 || dword_AACD64 >= 1024 )
              {
                sub_4E3F40(a1, a2, (int)&v17, "Too much items in mobname.txt-%s");
                Log(&v17, "-system", 0);
                break;
              }
              sub_4E4720((int)((char *)&unk_8B8BD0 + 64 * dword_AACD64));
              sub_4E4720((int)((char *)&unk_8B8BE0 + 64 * dword_AACD64));
              sub_4E4720((int)((char *)&unk_8B8BF0 + 64 * dword_AACD64++));
            }
            else
            {
              sub_4E3F40(a1, a2, (int)&v18, "EEmpty or Long String-2nd-%s(%d)");
              Log(&v18, "-system", 0);
            }
          }
          else
          {
            sub_4E3F40(a1, a2, (int)&v19, "Empty or Long String-1st-%s");
            Log(&v19, "-system", 0);
          }
        }
        else
        {
          sub_4E3F40(a1, a2, (int)&v21, "Can't parse String-%s");
          Log(&v21, "-system", 0);
        }
      }
    }
    v4 = sub_4E4260(a1, a2, v27);
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// AACD64: using guessed type int dword_AACD64;
// 40E580: using guessed type char var_1FF[509];

//----- (0040ECB0) --------------------------------------------------------
int __usercall sub_40ECB0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-17Ch]@0
  int v5; // [sp+4h] [bp-178h]@0
  int v6; // [sp+8h] [bp-174h]@0
  char v7; // [sp+Ch] [bp-170h]@1
  int i; // [sp+4Ch] [bp-130h]@5
  int v9; // [sp+50h] [bp-12Ch]@4
  char v10[256]; // [sp+54h] [bp-128h]@4
  int v11; // [sp+154h] [bp-28h]@4
  int v12; // [sp+158h] [bp-24h]@4
  int v13; // [sp+174h] [bp-8h]@4
  int v14; // [sp+178h] [bp-4h]@1
  int v15; // [sp+17Ch] [bp+0h]@11

  memset(&v7, -858993460, 0x170u);
  v14 = sub_4E4620(a1, a2, "S:/Settings/Lotto.txt", (int)"rb");
  if ( v14 )
  {
    sub_4E4640(byte_AACA70, 0, 0x2BCu);
    while ( 1 )
    {
      v13 = -1;
      sub_4E4640(&v12, 0, 0x1Cu);
      v11 = 0;
      v9 = sub_4E4400(a1, a2, (int)v10, 256, v14);
      if ( !v9 )
        break;
      for ( i = 0; ; ++i )
      {
        if ( i < 256 )
        {
          if ( v10[i] == 44 )
            v10[i] = 32;
          if ( v10[i] )
            continue;
        }
        break;
      }
      sub_4E4340(a1, (int)&v15, a2, (int)v10, "%d %d %d %d %d %d %d %d %d", (unsigned int)&v13);
      v13 -= 80;
      if ( v13 >= 0 && v13 < 100 )
      {
        for ( i = 0; i < 7; ++i )
        {
          if ( *(&v12 + i) <= 0 || *(&v12 + i) > 45 )
            *(&v12 + i) = 0;
          *(&byte_AACA70[7 * v13] + i) = *((_BYTE *)&v12 + 4 * i);
        }
        if ( v11 <= 0 || v11 >= 990000 )
          v11 = 100000;
        dword_8C8BD0[v13] = v11;
      }
    }
    sub_4E4260(a1, a2, v14);
    v2 = 1;
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 8C8BD0: using guessed type int dword_8C8BD0[];
// 40ECB0: using guessed type char var_128[256];

//----- (0040EF50) --------------------------------------------------------
int __usercall sub_40EF50<eax>(int a1<ebx>)
{
  int v1; // eax@2
  int v2; // eax@2
  char v4; // [sp+0h] [bp-D4h]@2
  int v5; // [sp+4h] [bp-D0h]@4
  int v6; // [sp+8h] [bp-CCh]@4
  char v7; // [sp+Ch] [bp-C8h]@1
  int v8; // [sp+4Ch] [bp-88h]@1
  int v9; // [sp+50h] [bp-84h]@1
  char v10; // [sp+54h] [bp-80h]@3
  int v11; // [sp+D4h] [bp+0h]@2

  memset(&v7, -858993460, 0xC8u);
  v9 = 52000;
  sub_4E4640(byte_9CCC40, 0, 0xCB20u);
  v8 = 1;
  v8 = sub_401393("itemlist.csv", 0);
  if ( v8 )
  {
    sub_4E4720((int)&v10);
    v8 = sub_401393(&v10, 0);
    sub_4018BB("itemname.csv");
    v2 = sub_401366();
  }
  else
  {
    v1 = MessageBoxA(0, "There is no file", "itemlist.csv", 0);
    v2 = sub_4E46A0(&v4 == &v4, v1, a1, (unsigned int)&v11, (int)&v4);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401366: using guessed type int sub_401366(void);
// 401393: using guessed type _DWORD __cdecl sub_401393(_DWORD, _DWORD);
// 4018BB: using guessed type _DWORD __cdecl sub_4018BB(_DWORD);

//----- (0040F060) --------------------------------------------------------
int __usercall sub_40F060<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@4
  int v3; // eax@16
  char v5; // [sp+0h] [bp-968h]@16
  int v6; // [sp+4h] [bp-964h]@28
  int v7; // [sp+8h] [bp-960h]@28
  char v8; // [sp+Ch] [bp-95Ch]@1
  int j; // [sp+4Ch] [bp-91Ch]@23
  int v10; // [sp+50h] [bp-918h]@17
  char v11; // [sp+54h] [bp-914h]@14
  char v12; // [sp+154h] [bp-814h]@14
  int i; // [sp+254h] [bp-714h]@8
  int v14; // [sp+258h] [bp-710h]@7
  const CHAR Text[1024]; // [sp+25Ch] [bp-70Ch]@7
  char v16[62]; // [sp+65Ch] [bp-30Ch]@7
  char v17; // [sp+69Ah] [bp-2CEh]@23
  char v18; // [sp+69Bh] [bp-2CDh]@23
  char v19; // [sp+75Ch] [bp-20Ch]@7
  int v20; // [sp+85Ch] [bp-10Ch]@7
  int v21; // [sp+860h] [bp-108h]@5
  int v22; // [sp+864h] [bp-104h]@1
  char v23; // [sp+868h] [bp-100h]@1
  int v24; // [sp+968h] [bp+0h]@14

  memset(&v8, -858993460, 0x95Cu);
  sub_4E3F40(a1, a2, (int)&v23, "%s");
  v22 = sub_4E4620(a1, a2, &v23, (int)"rb");
  if ( !v22 )
  {
    sub_4E3F40(a1, a2, (int)&v23, "../../TMSRV/Run/%s");
    v22 = sub_4E4620(a1, a2, &v23, (int)"rb");
  }
  if ( v22 )
  {
    v21 = sub_4E4620(a1, a2, "Itemname.bin", (int)"wb");
    if ( v21 )
    {
      while ( 1 )
      {
        v20 = -1;
        sub_4E4640(&v19, 0, 0x100u);
        sub_4E4640(v16, 0, 0x100u);
        v14 = sub_4E4400(a1, a2, (int)Text, 1024, v22);
        if ( !v14 )
          break;
        for ( i = 0; ; ++i )
        {
          if ( i < 1024 )
          {
            if ( Text[i] == 44 )
              Text[i] = 32;
            if ( Text[i] )
              continue;
          }
          break;
        }
        v12 = 0;
        v11 = 0;
        sub_4E4340(a1, (int)&v24, a2, (int)Text, "%d %s %s", (unsigned int)&v20);
        if ( v20 != -1 )
        {
          if ( v20 < 6500 )
          {
            v10 = sub_4E4B50((int)&v19);
            if ( v10 > 0 && v10 < 63 )
            {
              v10 = sub_4E4B50((int)v16);
              if ( v10 > 0 && v10 < 63 )
              {
                v18 = 0;
                v17 = 0;
                sub_4E4720((int)&byte_9CCC40[140 * v20]);
                sub_4E4040(a1, a2, &v20, 4u, 1u, v21);
                for ( j = 0; j < 62; ++j )
                  v16[j] += j;
                sub_4E4040(a1, a2, v16, 0x40u, 1u, v21);
              }
              else
              {
                Log("too long Item Name", "system", 0);
              }
            }
            else
            {
              Log("too long Item Name", "system", 0);
            }
          }
          else
          {
            a2 = (int)&v5;
            v3 = MessageBoxA(0, Text, "check MAX_ITEMLIST", 0);
            sub_4E46A0(&v5 == &v5, v3, a1, (unsigned int)&v24, (int)&v5);
          }
        }
      }
      sub_4E4260(a1, a2, v21);
      sub_4E4260(a1, a2, v22);
      v2 = 1;
    }
    else
    {
      v2 = 0;
    }
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v7, v5, v6);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40F060: using guessed type char var_30C[62];
// 40F060: using guessed type const CHAR Text[1024];

//----- (0040F4B0) --------------------------------------------------------
int __usercall sub_40F4B0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, int a42, int a43, int a44, int a45, int a46, int a47, int a48, int a49, int a50, int a51, int a52, int a53, int a54, int a55, int a56, int a57, int a58, int a59, int a60, int a61, int a62, int a63)
{
  int v67; // eax@3
  int v68; // eax@3
  int v69; // eax@17
  int v70; // eax@33
  char v72; // [sp+0h] [bp-14D8h]@3
  int v73; // [sp+4h] [bp-14D4h]@43
  int v74; // [sp+8h] [bp-14D0h]@43
  char v75; // [sp+Ch] [bp-14CCh]@1
  int v76; // [sp+4Ch] [bp-148Ch]@36
  int k; // [sp+50h] [bp-1488h]@28
  int j; // [sp+54h] [bp-1484h]@24
  int v79; // [sp+58h] [bp-1480h]@20
  int v80; // [sp+5Ch] [bp-147Ch]@20
  int v81; // [sp+60h] [bp-1478h]@20
  int v82; // [sp+64h] [bp-1474h]@20
  int v83; // [sp+68h] [bp-1470h]@20
  int v84; // [sp+6Ch] [bp-146Ch]@20
  int v85; // [sp+70h] [bp-1468h]@20
  int v86; // [sp+74h] [bp-1464h]@18
  int v87; // [sp+78h] [bp-1460h]@15
  int v88; // [sp+7Ch] [bp-145Ch]@15
  int v89; // [sp+80h] [bp-1458h]@15
  int v90; // [sp+84h] [bp-1454h]@15
  int v91; // [sp+88h] [bp-1450h]@15
  char v92; // [sp+8Ch] [bp-144Ch]@15
  char v93; // [sp+18Ch] [bp-134Ch]@15
  int i; // [sp+28Ch] [bp-124Ch]@9
  int v95; // [sp+290h] [bp-1248h]@8
  const CHAR Text[1024]; // [sp+294h] [bp-1244h]@8
  int v97; // [sp+694h] [bp-E44h]@8
  int v98; // [sp+698h] [bp-E40h]@8
  __int16 v99[2]; // [sp+69Ch] [bp-E3Ch]@8
  char v100[256]; // [sp+6CCh] [bp-E0Ch]@8
  char v101; // [sp+12CCh] [bp-20Ch]@8
  char v102; // [sp+130Ah] [bp-1CEh]@19
  char v103; // [sp+130Bh] [bp-1CDh]@19
  int v104; // [sp+13CCh] [bp-10Ch]@8
  int v105; // [sp+13D0h] [bp-108h]@4
  char v106; // [sp+13D4h] [bp-104h]@4
  int v107; // [sp+14D4h] [bp-4h]@2
  int v108; // [sp+14D8h] [bp+0h]@3

  memset(&v75, -858993460, 0x14CCu);
  if ( !a4 || (v107 = sub_4E4620(a1, a2, "extraitem.bin", (int)"wb")) != 0 )
  {
    sub_4E3F40(a1, a2, (int)&v106, "%s");
    v105 = sub_4E4620(a1, a2, &v106, (int)"rb");
    if ( !v105 )
    {
      sub_4E3F40(a1, a2, (int)&v106, "../../TMSRV/Run/%s");
      v105 = sub_4E4620(a1, a2, &v106, (int)"rb");
    }
    if ( v105 )
    {
      while ( 1 )
      {
        v104 = -1;
        sub_4E4640(&v101, 0, 0x100u);
        sub_4E4640(v100, 0, 0xC00u);
        sub_4E4640(v99, 0, 0x30u);
        v98 = 48;
        v97 = 3072;
        v95 = sub_4E4400(a1, a2, (int)Text, 1024, v105);
        if ( !v95 )
          break;
        for ( i = 0; ; ++i )
        {
          if ( i < 1024 )
          {
            if ( Text[i] == 44 )
              Text[i] = 32;
            if ( Text[i] )
              continue;
          }
          break;
        }
        v93 = 0;
        v92 = 0;
        v91 = 0;
        v90 = 0;
        v89 = 0;
        v88 = 0;
        v87 = 0;
        sub_4E4340(
          a1,
          (int)&v108,
          a2,
          (int)Text,
          "%d %s %s %s %d %d %d %d %d %s %d %s %d %s %d %s %d %s %d %s %d %s %d %s %d %s %d %s %d %s %d %s %d",
          (unsigned int)&v104);
        if ( v104 != -1 )
        {
          if ( v104 < 6500 )
          {
            v86 = sub_4E4B50((int)&v101);
            if ( v86 >= 63 )
            {
              Log("too long Item Name", "system", 0);
              v103 = 0;
              v102 = 0;
            }
            sub_4E4720((int)&byte_9CCC40[140 * v104]);
            v85 = 0;
            v84 = 0;
            v83 = 0;
            v82 = 0;
            v81 = 0;
            v80 = 0;
            v79 = 0;
            if ( v93 == 46 )
              v93 = 32;
            if ( v92 == 46 )
              v92 = 32;
            sub_4E4340(a1, (int)&v108, a2, (int)&v93, "%d.%d", (unsigned int)&v85);
            sub_4E4340(a1, (int)&v108, a2, (int)&v92, "%d.%d.%d.%d.%d", (unsigned int)&v83);
            word_9CCC80[70 * v104] = v85;
            word_9CCC82[70 * v104] = v84;
            word_9CCC86[70 * v104] = v83;
            word_9CCC88[70 * v104] = v82;
            word_9CCC8A[70 * v104] = v81;
            word_9CCC8C[70 * v104] = v80;
            word_9CCC8E[70 * v104] = v79;
            word_9CCCC4[70 * v104] = v91;
            dword_9CCCC0[35 * v104] = v90;
            word_9CCCC6[70 * v104] = v89;
            word_9CCCCA[70 * v104] = v88;
            word_9CCCC8[70 * v104] = v87;
            word_9CCC84[70 * v104] = 0;
            for ( j = 0; j < 12; ++j )
            {
              if ( v100[256 * j] )
              {
                for ( k = 0; k < 127 && sub_4E4D80((int)&byte_8A5BDC[24 * k], (int)&v100[256 * j]); ++k )
                  ;
                if ( j == 127 )
                {
                  a2 = (int)&v72;
                  v70 = MessageBoxA(0, (LPCSTR)&a67, "Unregisterd effect", 0);
                  sub_4E46A0(&v72 == &v72, v70, a1, (unsigned int)&v108, (int)&v72);
                }
                else
                {
                  *(&word_9CCC90[70 * v104] + 2 * j) = k;
                  *(&word_9CCC92[70 * v104] + 2 * j) = v99[2 * j];
                }
              }
            }
            if ( v104 == 592 )
              v76 = 1;
            if ( a4 )
            {
              sub_4E4040(a1, a2, &v104, 2u, 1u, v107);
              sub_4E4040(a1, a2, &byte_9CCC40[140 * v104], 0x8Cu, 1u, v107);
            }
          }
          else
          {
            a2 = (int)&v72;
            v69 = MessageBoxA(0, Text, "check MAX_ITEMLIST", 0);
            sub_4E46A0(&v72 == &v72, v69, a1, (unsigned int)&v108, (int)&v72);
          }
        }
      }
      sub_4E4260(a1, a2, v105);
      if ( a4 )
        sub_4E4260(a1, a2, v107);
      v68 = 1;
    }
    else
    {
      v68 = 0;
    }
  }
  else
  {
    v67 = MessageBoxA(0, "Can't write extraitem.bin", "ERROR", 0x1000u);
    sub_4E46A0(&v72 == &v72, v67, a1, (unsigned int)&v108, (int)&v72);
    v68 = 0;
  }
  return sub_4E46A0(1, v68, v74, v72, v73);
}
// 40F4B0: too many input arguments, some ignored
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 9CCC80: using guessed type __int16 word_9CCC80[];
// 9CCC82: using guessed type __int16 word_9CCC82[];
// 9CCC84: using guessed type __int16 word_9CCC84[];
// 9CCC86: using guessed type __int16 word_9CCC86[];
// 9CCC88: using guessed type __int16 word_9CCC88[];
// 9CCC8A: using guessed type __int16 word_9CCC8A[];
// 9CCC8C: using guessed type __int16 word_9CCC8C[];
// 9CCC8E: using guessed type __int16 word_9CCC8E[];
// 9CCC90: using guessed type __int16 word_9CCC90[];
// 9CCC92: using guessed type __int16 word_9CCC92[];
// 9CCCC0: using guessed type int dword_9CCCC0[];
// 9CCCC4: using guessed type __int16 word_9CCCC4[];
// 9CCCC6: using guessed type __int16 word_9CCCC6[];
// 9CCCC8: using guessed type __int16 word_9CCCC8[];
// 9CCCCA: using guessed type __int16 word_9CCCCA[];
// 40F4B0: using guessed type const CHAR Text[1024];
// 40F4B0: using guessed type char var_E0C[256];
// 40F4B0: using guessed type __int16 var_E3C[2];

//----- (0040FE10) --------------------------------------------------------
int __usercall sub_40FE10<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@7
  int v3; // eax@7
  int v4; // eax@18
  int v5; // eax@20
  char v7; // [sp+0h] [bp-3E0h]@7
  int v8; // [sp+4h] [bp-3DCh]@23
  int v9; // [sp+8h] [bp-3D8h]@23
  char v10; // [sp+Ch] [bp-3D4h]@1
  int v11; // [sp+4Ch] [bp-394h]@16
  int v12; // [sp+50h] [bp-390h]@9
  int v13; // [sp+54h] [bp-38Ch]@8
  char v14; // [sp+158h] [bp-288h]@16
  char v15; // [sp+1D7h] [bp-209h]@12
  char v16; // [sp+1D8h] [bp-208h]@12
  char v17; // [sp+258h] [bp-188h]@11
  const CHAR Text; // [sp+2D8h] [bp-108h]@9
  int v19; // [sp+3D8h] [bp-8h]@4
  int i; // [sp+3DCh] [bp-4h]@1
  int v21; // [sp+3E0h] [bp+0h]@7

  memset(&v10, -858993460, 0x3D4u);
  for ( i = 0; i < 127; ++i )
    byte_8A5BDC[24 * i] = 0;
  v19 = sub_4E4620(a1, a2, "ItemEffect.h", (int)"rb");
  if ( !v19 )
    v19 = sub_4E4620(a1, a2, "../../TMSRV/Run/ItemEffect.h", (int)"rb");
  if ( v19 )
  {
    v13 = 0;
    while ( 1 )
    {
      v12 = sub_4E4400(a1, a2, (int)&Text, 255, v19);
      if ( !v12 )
        break;
      if ( Text != 13 )
      {
        v17 = 0;
        sub_4E4340(a1, (int)&v21, a2, (int)&Text, "%s", (unsigned int)&v17);
        if ( sub_4E4D80((int)&v17, (int)"#include") )
        {
          if ( !sub_4E4D80((int)&v17, (int)"#define") )
          {
            sub_4E4340(a1, (int)&v21, a2, (int)&Text, "%s %s %s %s %s", (unsigned int)&v17);
            if ( v13 )
            {
              v11 = sub_4E4F40(a1, (int)&v21, a2, (signed int *)&v14);
              if ( v11 > 0 && v11 < 127 )
              {
                if ( byte_8A5BDC[24 * v11] )
                {
                  a2 = (int)&v7;
                  v5 = MessageBoxA(0, &Text, &byte_8A5BDC[24 * v11], 0);
                  sub_4E46A0(&v7 == &v7, v5, a1, (unsigned int)&v21, (int)&v7);
                }
                else
                {
                  sub_4E4810(&byte_8A5BDC[24 * v11], &v16, 0x18u);
                }
              }
              else
              {
                a2 = (int)&v7;
                v4 = MessageBoxA(0, &Text, "Effect.h Define Value ", 0);
                sub_4E46A0(&v7 == &v7, v4, a1, (unsigned int)&v21, (int)&v7);
              }
            }
            else
            {
              v13 = 1;
            }
          }
        }
        else
        {
          sub_4E4340(a1, (int)&v21, a2, (int)&Text, "%s \"%s", (unsigned int)&v17);
          *(&v15 + sub_4E4B50((int)&v16)) = 0;
          sub_401889();
        }
      }
    }
    v3 = sub_4E4260(a1, a2, v19);
  }
  else
  {
    v2 = MessageBoxA(0, "ItemEffect.h", "there is no effect file.", 0);
    v3 = sub_4E46A0(&v7 == &v7, v2, a1, (unsigned int)&v21, (int)&v7);
  }
  return sub_4E46A0(1, v3, v9, v7, v8);
}
// 401889: using guessed type int sub_401889(void);

//----- (00410170) --------------------------------------------------------
int __cdecl sub_410170()
{
  int v0; // eax@20
  char v2; // [sp+0h] [bp-5Ch]@0
  int v3; // [sp+4h] [bp-58h]@0
  int v4; // [sp+8h] [bp-54h]@0
  char v5; // [sp+Ch] [bp-50h]@1
  int i; // [sp+4Ch] [bp-10h]@2
  int v7; // [sp+50h] [bp-Ch]@1
  int v8; // [sp+54h] [bp-8h]@1
  int v9; // [sp+58h] [bp-4h]@1

  memset(&v5, -858993460, 0x50u);
  sub_4E4640(dword_8CBC40, 0, 0x1000u);
  v9 = 512;
  v8 = 0;
  v7 = 0;
  do
  {
    for ( i = 0; i < 1024; i += v9 )
    {
      if ( !dword_8CBC40[i] )
      {
        if ( v7 )
        {
          if ( v7 == 1 )
          {
            dword_8CBC40[i] = 512 - v8;
          }
          else
          {
            if ( v7 == 2 )
              dword_8CBC40[i] = v8 + 512;
            else
              dword_8CBC40[i] = 1024 - v8;
          }
        }
        else
        {
          dword_8CBC40[i] = v8;
        }
        if ( dword_8CBC40[i] > 999 )
          dword_8CBC40[i] = 999;
        ++v7;
        if ( v7 >= 4 )
          v7 = 0;
        if ( !v7 )
          ++v8;
      }
    }
    v0 = v9 / 2;
    v9 /= 2;
  }
  while ( v9 );
  dword_8CBC40[0] = 512;
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 8CBC40: using guessed type int dword_8CBC40[];

//----- (00410320) --------------------------------------------------------
signed int __cdecl sub_410320(signed int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  signed int result; // eax@3
  char v9; // [sp+Ch] [bp-5Ch]@1
  int v10; // [sp+4Ch] [bp-1Ch]@25
  int v11; // [sp+50h] [bp-18h]@20
  int v12; // [sp+54h] [bp-14h]@20
  int v13; // [sp+58h] [bp-10h]@19
  int j; // [sp+5Ch] [bp-Ch]@16
  int i; // [sp+60h] [bp-8h]@14
  int v16; // [sp+64h] [bp-4h]@1

  memset(&v9, -858993460, 0x5Cu);
  *(_DWORD *)a8 = 0;
  v16 = 0;
  if ( a1 < 10 && a1 >= 0 )
  {
    if ( a2 == 1 && (a3 == 3 || a3 == 2) )
      v16 = 1;
    if ( a3 == 1 && (a2 == 3 || a2 == 2) )
      v16 = -1;
    if ( v16 )
    {
      for ( i = 0; i <= 5; ++i )
      {
        for ( j = 0; j <= 5; ++j )
        {
          v13 = *(&dword_5959C8[144 * a1] + 36 * a7 + 6 * i + j);
          if ( v13 )
          {
            v13 *= v16;
            v12 = a4 + j - 2;
            v11 = a5 + i - 2;
            if ( a4 + j - 2 - dword_8C762A0 < 1
              || v11 - dword_8C762A4 < 1
              || v12 - dword_8C762A0 > dword_5A1034 - 2
              || v11 - dword_8C762A4 > dword_5A1038 - 2 )
              break;
            v10 = v13 + *(_BYTE *)(a6 + v12 + dword_5A1034 * (v11 - dword_8C762A4) - dword_8C762A0);
            if ( v10 > 127 )
              v10 = 127;
            if ( v10 < -128 )
              v10 = -128;
            if ( *(&dword_5959C8[144 * a1] + 36 * a7 + 6 * i + j) )
              *(_DWORD *)a8 = v10;
            *(_BYTE *)(a6 + v12 + dword_5A1034 * (v11 - dword_8C762A4) - dword_8C762A0) = v10;
          }
        }
      }
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 5A1034: using guessed type int dword_5A1034;
// 5A1038: using guessed type int dword_5A1038;
// 8C762A0: using guessed type int dword_8C762A0;
// 8C762A4: using guessed type int dword_8C762A4;

//----- (00410960) --------------------------------------------------------
int __cdecl sub_410960(int a1, int a2, signed int a3)
{
  char v4; // [sp+Ch] [bp-44h]@1
  int v5; // [sp+4Ch] [bp-4h]@1

  memset(&v4, -858993460, 0x44u);
  v5 = dword_8B61D0[24 * a1];
  v5 = v5 * (a3 / 2 + 100) / 100;
  return (100 - a2) * v5 / 100;
}
// 8B61D0: using guessed type int dword_8B61D0[];

//----- (00410BC0) --------------------------------------------------------
int __cdecl sub_410BC0(int a1, int a2, int a3, int a4)
{
  int v5; // ecx@4
  int v6; // eax@9
  char v7; // [sp+Ch] [bp-58h]@1
  int v8; // [sp+4Ch] [bp-18h]@23
  int i; // [sp+50h] [bp-14h]@21
  int v10; // [sp+54h] [bp-10h]@21
  int v11; // [sp+58h] [bp-Ch]@12
  int v12; // [sp+5Ch] [bp-8h]@12
  int v13; // [sp+60h] [bp-4h]@12

  memset(&v7, -858993460, 0x58u);
  *(_BYTE *)a4 = 0;
  if ( !a3 )
    return 0;
  if ( (signed int)*(_WORD *)a3 >= 1024 )
  {
    v5 = *(_WORD *)a3 & 0x3FF;
    if ( v5 < 0 )
      LOWORD(v5) = ((unsigned __int16)(v5 - 1) | 0xFC00) + 1;
    *(_WORD *)a3 = v5;
  }
  if ( a2 && (signed int)*(_WORD *)a2 >= 1024 )
  {
    v6 = *(_WORD *)a2 & 0x3FF;
    if ( v6 < 0 )
      LOWORD(v6) = ((unsigned __int16)(v6 - 1) | 0xFC00) + 1;
    *(_WORD *)a2 = v6;
  }
  v13 = 1;
  v11 = 100 * (((signed int)*(_BYTE *)(a1 + 71) >> 4) - 5);
  v12 = 4 * *(_BYTE *)(a1 + 742);
  if ( a2 && a3 && *(_WORD *)a3 != *(_WORD *)a2 )
  {
    if ( *(_WORD *)a2 > (signed int)*(_WORD *)a3 )
      *(_WORD *)a3 = *(_WORD *)a2;
    if ( *(_WORD *)a2 < (signed int)*(_WORD *)a3 )
    {
      if ( *(_WORD *)a2 + 5 < *(_WORD *)a3 )
      {
        *(_WORD *)a3 = *(_WORD *)a2;
        return 0;
      }
      *(_WORD *)a2 = *(_WORD *)a3;
    }
  }
  v10 = dword_8CBC40[*(_WORD *)a3];
  for ( i = 0; i < 2; ++i )
  {
    v8 = 0;
    if ( !i && v10 < v11 )
      v8 = 1;
    if ( i == 1 )
    {
      if ( 1000 - v10 < v12 )
        v8 = 1;
    }
    *(_BYTE *)a4 |= (_BYTE)v8 << i;
  }
  if ( a2 )
    ++*(_WORD *)a2;
  ++*(_WORD *)a3;
  return v13;
}
// 8CBC40: using guessed type int dword_8CBC40[];

//----- (00410E40) --------------------------------------------------------
int __cdecl sub_410E40(int a1, int a2, int a3, int a4, void *a5, int a6, int a7, int a8)
{
  int v8; // eax@189
  char v10; // [sp+0h] [bp-84h]@0
  int v11; // [sp+4h] [bp-80h]@0
  int v12; // [sp+8h] [bp-7Ch]@0
  char v13; // [sp+Ch] [bp-78h]@1
  int v14; // [sp+4Ch] [bp-38h]@10
  int v15; // [sp+50h] [bp-34h]@10
  int v16; // [sp+54h] [bp-30h]@10
  int v17; // [sp+58h] [bp-2Ch]@10
  int v18; // [sp+5Ch] [bp-28h]@10
  int v19; // [sp+60h] [bp-24h]@10
  int v20; // [sp+64h] [bp-20h]@10
  int v21; // [sp+68h] [bp-1Ch]@10
  int v22; // [sp+6Ch] [bp-18h]@10
  int i; // [sp+70h] [bp-14h]@1
  int v24; // [sp+74h] [bp-10h]@1
  int v25; // [sp+78h] [bp-Ch]@1
  int v26; // [sp+7Ch] [bp-8h]@1
  int v27; // [sp+80h] [bp-4h]@1

  memset(&v13, -858993460, 0x78u);
  v27 = a1;
  v26 = a2;
  v25 = *(_DWORD *)a3;
  v24 = *(_DWORD *)a4;
  sub_4E4640(a5, 0, 0x18u);
  for ( i = 0; i < a6 && i < 23; ++i )
  {
    if ( a1 - dword_8C762A0 < 1
      || a2 - dword_8C762A4 < 1
      || a1 - dword_8C762A0 > dword_5A1034 - 2
      || a2 - dword_8C762A4 > dword_5A1038 - 2 )
    {
      *((_BYTE *)a5 + i) = 0;
      break;
    }
    v22 = *(_BYTE *)(a7 + a1 + dword_5A1034 * (a2 - dword_8C762A4) - dword_8C762A0);
    v21 = *(_BYTE *)(a7 + a1 + dword_5A1034 * (a2 - dword_8C762A4 - 1) - dword_8C762A0);
    v20 = *(_BYTE *)(a7 + a1 + dword_5A1034 * (a2 - dword_8C762A4 - 1) - dword_8C762A0 + 1);
    v19 = *(_BYTE *)(a7 + a1 + dword_5A1034 * (a2 - dword_8C762A4) - dword_8C762A0 + 1);
    v18 = *(_BYTE *)(a7 + a1 + dword_5A1034 * (a2 - dword_8C762A4 + 1) - dword_8C762A0 + 1);
    v17 = *(_BYTE *)(a7 + a1 + dword_5A1034 * (a2 - dword_8C762A4 + 1) - dword_8C762A0);
    v16 = *(_BYTE *)(a7 + a1 + dword_5A1034 * (a2 - dword_8C762A4 + 1) - dword_8C762A0 - 1);
    v15 = *(_BYTE *)(a7 + a1 + dword_5A1034 * (a2 - dword_8C762A4) - dword_8C762A0 - 1);
    v14 = *(_BYTE *)(a7 + a1 + dword_5A1034 * (a2 - dword_8C762A4 - 1) - dword_8C762A0 - 1);
    if ( v25 == a1 && v24 == a2 )
    {
      *((_BYTE *)a5 + i) = 0;
      break;
    }
    if ( v25 != a1 || v24 <= a2 || v17 >= a8 + v22 || v17 <= v22 - a8 )
    {
      if ( v25 != a1 || v24 >= a2 || v21 >= a8 + v22 || v21 <= v22 - a8 )
      {
        if ( v25 <= a1
          || v24 >= a2
          || v20 >= a8 + v22
          || v20 <= v22 - a8
          || (v21 >= a8 + v22 || v21 <= v22 - a8) && (v19 >= a8 + v22 || v19 <= v22 - a8) )
        {
          if ( v25 <= a1 || v24 != a2 || v19 >= a8 + v22 || v19 <= v22 - a8 )
          {
            if ( v25 <= a1
              || v24 <= a2
              || v18 >= a8 + v22
              || v18 <= v22 - a8
              || (v17 >= a8 + v22 || v17 <= v22 - a8) && (v19 >= a8 + v22 || v19 <= v22 - a8) )
            {
              if ( v25 >= a1
                || v24 <= a2
                || v16 >= a8 + v22
                || v16 <= v22 - a8
                || (v17 >= a8 + v22 || v17 <= v22 - a8) && (v15 >= a8 + v22 || v15 <= v22 - a8) )
              {
                if ( v25 >= a1 || v24 != a2 || v15 >= a8 + v22 || v15 <= v22 - a8 )
                {
                  if ( v25 >= a1
                    || v24 >= a2
                    || v14 >= a8 + v22
                    || v14 <= v22 - a8
                    || (v21 >= a8 + v22 || v21 <= v22 - a8) && (v15 >= a8 + v22 || v15 <= v22 - a8) )
                  {
                    if ( v25 <= a1 || v24 >= a2 || v19 >= a8 + v22 || v19 <= v22 - a8 )
                    {
                      if ( v25 <= a1 || v24 >= a2 || v21 >= a8 + v22 || v21 <= v22 - a8 )
                      {
                        if ( v25 <= a1 || v24 <= a2 || v19 >= a8 + v22 || v19 <= v22 - a8 )
                        {
                          if ( v25 <= a1 || v24 <= a2 || v17 >= a8 + v22 || v17 <= v22 - a8 )
                          {
                            if ( v25 >= a1 || v24 <= a2 || v15 >= a8 + v22 || v15 <= v22 - a8 )
                            {
                              if ( v25 >= a1 || v24 <= a2 || v17 >= a8 + v22 || v17 <= v22 - a8 )
                              {
                                if ( v25 >= a1 || v24 >= a2 || v15 >= a8 + v22 || v15 <= v22 - a8 )
                                {
                                  if ( v25 >= a1 || v24 >= a2 || v21 >= a8 + v22 || v21 <= v22 - a8 )
                                  {
                                    if ( v25 == a1 + 1 || v24 == a2 + 1 || v25 == a1 - 1 || v24 == a2 - 1 )
                                    {
                                      *((_BYTE *)a5 + i) = 0;
                                      break;
                                    }
                                    if ( v25 != a1
                                      || v24 <= a2
                                      || v18 >= a8 + v22
                                      || v18 <= v22 - a8
                                      || (v17 >= a8 + v22 || v17 <= v22 - a8) && (v19 >= a8 + v22 || v19 <= v22 - a8) )
                                    {
                                      if ( v25 != a1
                                        || v24 <= a2
                                        || v16 >= a8 + v22
                                        || v16 <= v22 - a8
                                        || (v17 >= a8 + v22 || v17 <= v22 - a8) && (v15 >= a8 + v22 || v15 <= v22 - a8) )
                                      {
                                        if ( v25 != a1
                                          || v24 >= a2
                                          || v20 >= a8 + v22
                                          || v20 <= v22 - a8
                                          || (v21 >= a8 + v22 || v21 <= v22 - a8)
                                          && (v19 >= a8 + v22 || v19 <= v22 - a8) )
                                        {
                                          if ( v25 != a1
                                            || v24 >= a2
                                            || v14 >= a8 + v22
                                            || v14 <= v22 - a8
                                            || (v21 >= a8 + v22 || v21 <= v22 - a8)
                                            && (v15 >= a8 + v22 || v15 <= v22 - a8) )
                                          {
                                            if ( v25 >= a1
                                              || v24 != a2
                                              || v16 >= a8 + v22
                                              || v16 <= v22 - a8
                                              || (v17 >= a8 + v22 || v17 <= v22 - a8)
                                              && (v15 >= a8 + v22 || v15 <= v22 - a8) )
                                            {
                                              if ( v25 >= a1
                                                || v24 != a2
                                                || v14 >= a8 + v22
                                                || v14 <= v22 - a8
                                                || (v21 >= a8 + v22 || v21 <= v22 - a8)
                                                && (v15 >= a8 + v22 || v15 <= v22 - a8) )
                                              {
                                                if ( v25 <= a1
                                                  || v24 != a2
                                                  || v18 >= a8 + v22
                                                  || v18 <= v22 - a8
                                                  || (v17 >= a8 + v22 || v17 <= v22 - a8)
                                                  && (v19 >= a8 + v22 || v19 <= v22 - a8) )
                                                {
                                                  if ( v25 <= a1
                                                    || v24 != a2
                                                    || v20 >= a8 + v22
                                                    || v20 <= v22 - a8
                                                    || (v21 >= a8 + v22 || v21 <= v22 - a8)
                                                    && (v19 >= a8 + v22 || v19 <= v22 - a8) )
                                                  {
                                                    *((_BYTE *)a5 + i) = 0;
                                                    break;
                                                  }
                                                  *((_BYTE *)a5 + i) = 51;
                                                  ++a1;
                                                  --a2;
                                                }
                                                else
                                                {
                                                  *((_BYTE *)a5 + i) = 57;
                                                  ++a1;
                                                  ++a2;
                                                }
                                              }
                                              else
                                              {
                                                *((_BYTE *)a5 + i) = 49;
                                                --a1;
                                                --a2;
                                              }
                                            }
                                            else
                                            {
                                              *((_BYTE *)a5 + i) = 55;
                                              --a1;
                                              ++a2;
                                            }
                                          }
                                          else
                                          {
                                            *((_BYTE *)a5 + i) = 49;
                                            --a1;
                                            --a2;
                                          }
                                        }
                                        else
                                        {
                                          *((_BYTE *)a5 + i) = 51;
                                          ++a1;
                                          --a2;
                                        }
                                      }
                                      else
                                      {
                                        *((_BYTE *)a5 + i) = 55;
                                        --a1;
                                        ++a2;
                                      }
                                    }
                                    else
                                    {
                                      *((_BYTE *)a5 + i) = 57;
                                      ++a1;
                                      ++a2;
                                    }
                                  }
                                  else
                                  {
                                    *((_BYTE *)a5 + i) = 50;
                                    --a2;
                                  }
                                }
                                else
                                {
                                  *((_BYTE *)a5 + i) = 52;
                                  --a1;
                                }
                              }
                              else
                              {
                                *((_BYTE *)a5 + i) = 56;
                                ++a2;
                              }
                            }
                            else
                            {
                              *((_BYTE *)a5 + i) = 52;
                              --a1;
                            }
                          }
                          else
                          {
                            *((_BYTE *)a5 + i) = 56;
                            ++a2;
                          }
                        }
                        else
                        {
                          *((_BYTE *)a5 + i) = 54;
                          ++a1;
                        }
                      }
                      else
                      {
                        *((_BYTE *)a5 + i) = 50;
                        --a2;
                      }
                    }
                    else
                    {
                      *((_BYTE *)a5 + i) = 54;
                      ++a1;
                    }
                  }
                  else
                  {
                    *((_BYTE *)a5 + i) = 49;
                    --a1;
                    --a2;
                  }
                }
                else
                {
                  *((_BYTE *)a5 + i) = 52;
                  --a1;
                }
              }
              else
              {
                *((_BYTE *)a5 + i) = 55;
                --a1;
                ++a2;
              }
            }
            else
            {
              *((_BYTE *)a5 + i) = 57;
              ++a1;
              ++a2;
            }
          }
          else
          {
            *((_BYTE *)a5 + i) = 54;
            ++a1;
          }
        }
        else
        {
          *((_BYTE *)a5 + i) = 51;
          ++a1;
          --a2;
        }
      }
      else
      {
        *((_BYTE *)a5 + i) = 50;
        --a2;
      }
    }
    else
    {
      *((_BYTE *)a5 + i) = 56;
      ++a2;
    }
  }
  if ( v27 != a1 || v26 != a2 )
  {
    *(_DWORD *)a3 = a1;
    *(_DWORD *)a4 = a2;
    v8 = v27 != a1 || v26 != a2;
  }
  else
  {
    v8 = 0;
  }
  return sub_4E46A0(1, v8, v12, v10, v11);
}
// 5A1034: using guessed type int dword_5A1034;
// 5A1038: using guessed type int dword_5A1038;
// 8C762A0: using guessed type int dword_8C762A0;
// 8C762A4: using guessed type int dword_8C762A4;

//----- (00411C00) --------------------------------------------------------
int __cdecl sub_411C00(int a1, int a2, int a3, int a4)
{
  int result; // eax@9
  char v5; // [sp+Ch] [bp-48h]@1
  int v6; // [sp+4Ch] [bp-8h]@5
  int v7; // [sp+50h] [bp-4h]@2

  memset(&v5, -858993460, 0x48u);
  if ( a1 <= a3 )
    v7 = a3 - a1;
  else
    v7 = a1 - a3;
  if ( a2 <= a4 )
    v6 = a4 - a2;
  else
    v6 = a2 - a4;
  if ( v7 > 6 || v6 > 6 )
  {
    if ( v7 <= v6 )
      result = v6 + 1;
    else
      result = v7 + 1;
  }
  else
  {
    result = *(&dword_595904[7 * v6] + v7);
  }
  return result;
}
// 595904: using guessed type int dword_595904[];

//----- (00411CB0) --------------------------------------------------------
int __cdecl sub_411CB0(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  char v8; // [sp+0h] [bp-8Ch]@0
  int v9; // [sp+4h] [bp-88h]@0
  int v10; // [sp+8h] [bp-84h]@0
  char v11; // [sp+Ch] [bp-80h]@1
  int i; // [sp+4Ch] [bp-40h]@43
  int v13; // [sp+50h] [bp-3Ch]@43
  int v14; // [sp+54h] [bp-38h]@41
  int v15; // [sp+58h] [bp-34h]@41
  int j; // [sp+5Ch] [bp-30h]@24
  int v17; // [sp+60h] [bp-2Ch]@24
  int v18; // [sp+64h] [bp-28h]@22
  int v19; // [sp+68h] [bp-24h]@22
  int v20; // [sp+6Ch] [bp-20h]@22
  int v21; // [sp+70h] [bp-1Ch]@14
  int v22; // [sp+74h] [bp-18h]@19
  int v23; // [sp+78h] [bp-14h]@19
  int v24; // [sp+7Ch] [bp-10h]@30
  int v25; // [sp+80h] [bp-Ch]@20
  int v26; // [sp+84h] [bp-8h]@12
  int v27; // [sp+88h] [bp-4h]@9
  int v28; // [sp+94h] [bp+8h]@22
  int v29; // [sp+98h] [bp+Ch]@41

  memset(&v11, -858993460, 0x80u);
  v6 = a3;
  if ( a1 != *(_DWORD *)a3 || (v6 = a2, a2 != *(_DWORD *)a4) )
  {
    if ( a1 && a2 && *(_DWORD *)a3 && *(_DWORD *)a4 )
    {
      v27 = a1 <= *(_DWORD *)a3 ? *(_DWORD *)a3 - a1 : a1 - *(_DWORD *)a3;
      v26 = a2 <= *(_DWORD *)a4 ? *(_DWORD *)a4 - a2 : a2 - *(_DWORD *)a4;
      v6 = sub_401505(a1, a2, *(_DWORD *)a3, *(_DWORD *)a4);
      v21 = v6;
      if ( v6 > 1 )
      {
        if ( v21 <= 30 )
        {
          if ( v27 <= v26 )
          {
            v6 = a4;
            if ( *(_DWORD *)a4 != a2 )
            {
              v23 = 1000 * (*(_DWORD *)a3 - a1) / (*(_DWORD *)a4 - a2);
              v22 = 1000 * a1 - a2 * v23;
              if ( a2 >= *(_DWORD *)a4 )
                v25 = -1;
              else
                v25 = 1;
              v29 = v25 + a2;
              v15 = v22 + v29 * v23;
              v14 = (v22 + v29 * v23) / 1000;
              v6 = a5;
              v20 = *(_BYTE *)(a5 + v14 + dword_5A1034 * (v29 - dword_8C762A4) - dword_8C762A0);
              if ( v20 == 127 )
              {
                *(_DWORD *)a3 = 0;
                v6 = a4;
                *(_DWORD *)a4 = 0;
              }
              else
              {
                v13 = v26;
                for ( i = v29; i != *(_DWORD *)a4; i += v25 )
                {
                  v6 = i;
                  if ( i == v29 )
                  {
                    --v13;
                    if ( v13 < 1 )
                      return sub_4E46A0(1, v6, v10, v8, v9);
                  }
                  else
                  {
                    v15 = v22 + i * v23;
                    v14 = (v22 + i * v23) / 1000;
                    v24 = v20;
                    v20 = *(_BYTE *)(a5 + v14 + dword_5A1034 * (i - dword_8C762A4) - dword_8C762A0);
                    if ( v20 == 127 )
                    {
                      v6 = a3;
                      *(_DWORD *)a3 = 0;
                      *(_DWORD *)a4 = 0;
                      return sub_4E46A0(1, v6, v10, v8, v9);
                    }
                    if ( v20 > a6 + v24 || (v6 = v24 - a6, v20 < v24 - a6) )
                    {
                      *(_DWORD *)a3 = v14;
                      v6 = a4;
                      *(_DWORD *)a4 = i;
                      return sub_4E46A0(1, v6, v10, v8, v9);
                    }
                    --v13;
                    if ( v13 < 1 )
                      return sub_4E46A0(1, v6, v10, v8, v9);
                  }
                  v6 = v25 + i;
                }
              }
            }
          }
          else
          {
            v6 = a3;
            if ( *(_DWORD *)a3 != a1 )
            {
              v23 = 1000 * (*(_DWORD *)a4 - a2) / (*(_DWORD *)a3 - a1);
              v22 = 1000 * a2 - a1 * v23;
              if ( a1 >= *(_DWORD *)a3 )
                v25 = -1;
              else
                v25 = 1;
              v28 = v25 + a1;
              v19 = v22 + v28 * v23;
              v18 = (v22 + v28 * v23) / 1000;
              v6 = a5;
              v20 = *(_BYTE *)(a5 + v28 + dword_5A1034 * ((v22 + v28 * v23) / 1000 - dword_8C762A4) - dword_8C762A0);
              if ( v20 == 127 )
              {
                *(_DWORD *)a3 = 0;
                v6 = a4;
                *(_DWORD *)a4 = 0;
              }
              else
              {
                v17 = v27;
                for ( j = v28; j != *(_DWORD *)a3; j += v25 )
                {
                  v6 = j;
                  if ( j == v28 )
                  {
                    --v17;
                    if ( v17 < 1 )
                      return sub_4E46A0(1, v6, v10, v8, v9);
                  }
                  else
                  {
                    v19 = v22 + j * v23;
                    v18 = (v22 + j * v23) / 1000;
                    v24 = v20;
                    v20 = *(_BYTE *)(a5 + j + dword_5A1034 * ((v22 + j * v23) / 1000 - dword_8C762A4) - dword_8C762A0);
                    if ( v20 == 127 )
                    {
                      v6 = a3;
                      *(_DWORD *)a3 = 0;
                      *(_DWORD *)a4 = 0;
                      return sub_4E46A0(1, v6, v10, v8, v9);
                    }
                    if ( v20 > a6 + v24 || (v6 = v24 - a6, v20 < v24 - a6) )
                    {
                      *(_DWORD *)a3 = j;
                      v6 = a4;
                      *(_DWORD *)a4 = v18;
                      return sub_4E46A0(1, v6, v10, v8, v9);
                    }
                    --v17;
                    if ( v17 < 1 )
                      return sub_4E46A0(1, v6, v10, v8, v9);
                  }
                  v6 = v25 + j;
                }
              }
            }
          }
        }
        else
        {
          v6 = a3;
          *(_DWORD *)a3 = 0;
          *(_DWORD *)a4 = 0;
        }
      }
    }
  }
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 401505: using guessed type _DWORD __cdecl sub_401505(_DWORD, _DWORD, _DWORD, _DWORD);
// 5A1034: using guessed type int dword_5A1034;
// 8C762A0: using guessed type int dword_8C762A0;
// 8C762A4: using guessed type int dword_8C762A4;

//----- (00412A50) --------------------------------------------------------
int __usercall sub_412A50<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@4
  int v3; // eax@4
  char v5; // [sp+0h] [bp-86Ch]@4
  int v6; // [sp+4h] [bp-868h]@17
  int v7; // [sp+8h] [bp-864h]@17
  char v8; // [sp+Ch] [bp-860h]@1
  int v9; // [sp+4Ch] [bp-820h]@14
  int v10; // [sp+50h] [bp-81Ch]@14
  int v11; // [sp+54h] [bp-818h]@14
  int v12; // [sp+58h] [bp-814h]@14
  int i; // [sp+5Ch] [bp-810h]@8
  int v14; // [sp+60h] [bp-80Ch]@7
  char v15[1024]; // [sp+64h] [bp-808h]@7
  int v16; // [sp+464h] [bp-408h]@5
  char v17; // [sp+468h] [bp-404h]@5
  int v18; // [sp+868h] [bp-4h]@1
  int v19; // [sp+86Ch] [bp+0h]@4

  memset(&v8, -858993460, 0x860u);
  v18 = sub_4E4620(a1, a2, "./InitItem.csv", (int)"rb");
  if ( !v18 )
    v18 = sub_4E4620(a1, a2, "../../TMSRV/Run/InitItem.csv", (int)"rb");
  if ( v18 )
  {
    v3 = sub_4E4400(a1, a2, (int)&v17, 1023, v18);
    v16 = v3;
    if ( v3 )
    {
      dword_AACD5C = 0;
      while ( 1 )
      {
        v14 = sub_4E4400(a1, a2, (int)v15, 1024, v18);
        if ( !v14 )
          break;
        for ( i = 0; ; ++i )
        {
          if ( i < 1024 )
          {
            if ( v15[i] == 44 )
              v15[i] = 32;
            if ( v15[i] )
              continue;
          }
          break;
        }
        v12 = -1;
        v11 = 0;
        v10 = 0;
        v9 = 0;
        sub_4E4340(a1, (int)&v19, a2, (int)v15, "%d %d %d %d", (unsigned int)&v12);
        if ( v12 != -1 )
        {
          word_8B88D0[4 * dword_AACD5C] = v11;
          word_8B88D2[4 * dword_AACD5C] = v10;
          word_8B88D4[4 * dword_AACD5C] = v12;
          word_8B88D6[4 * dword_AACD5C++] = v9;
        }
      }
      v3 = sub_4E4260(a1, a2, v18);
    }
  }
  else
  {
    v2 = MessageBoxA(0, "There is no file", "InitItem.csv", 0);
    v3 = sub_4E46A0(&v5 == &v5, v2, a1, (unsigned int)&v19, (int)&v5);
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 8B88D0: using guessed type __int16 word_8B88D0[];
// 8B88D2: using guessed type __int16 word_8B88D2[];
// 8B88D4: using guessed type __int16 word_8B88D4[];
// 8B88D6: using guessed type __int16 word_8B88D6[];
// AACD5C: using guessed type int dword_AACD5C;
// 412A50: using guessed type char var_808[1024];

//----- (00412D10) --------------------------------------------------------
int __usercall sub_412D10<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // edi@1
  int v3; // eax@4
  int v4; // eax@4
  void *v5; // edi@19
  char v7; // [sp+0h] [bp-6F0h]@4
  int v8; // [sp+4h] [bp-6ECh]@21
  int v9; // [sp+8h] [bp-6E8h]@21
  char v10; // [sp+Ch] [bp-6E4h]@1
  char v11; // [sp+4Ch] [bp-6A4h]@16
  char v12; // [sp+14Ch] [bp-5A4h]@16
  int v13; // [sp+24Ch] [bp-4A4h]@13
  char v14; // [sp+250h] [bp-4A0h]@13
  int v15; // [sp+27Ch] [bp-474h]@16
  char v16[8]; // [sp+280h] [bp-470h]@16
  char v17[8]; // [sp+288h] [bp-468h]@16
  int i; // [sp+2B0h] [bp-440h]@7
  int v19; // [sp+2B4h] [bp-43Ch]@6
  char v20[4]; // [sp+2B8h] [bp-438h]@16
  char v21[4]; // [sp+2D0h] [bp-420h]@16
  int v22; // [sp+2E8h] [bp-408h]@5
  char v23[1024]; // [sp+2ECh] [bp-404h]@5
  int v24; // [sp+6ECh] [bp-4h]@1
  int v25; // [sp+6F0h] [bp+0h]@1

  memset(&v10, -858993460, 0x6E4u);
  v2 = (int)&v25;
  v24 = sub_4E4620(a1, a2, "./SkillData.csv", (int)"rb");
  if ( !v24 )
    v24 = sub_4E4620(a1, a2, "../../TMSRV/Run/SkillData.csv", (int)"rb");
  if ( v24 )
  {
    sub_4E4640(dword_8B61C8, 0, 0x2700u);
    v4 = sub_4E4400(a1, a2, (int)v23, 1024, v24);
    v22 = v4;
    if ( v4 )
    {
      while ( 1 )
      {
        v19 = sub_4E4400(a1, a2, (int)v23, 1024, v24);
        if ( !v19 )
          break;
        for ( i = 0; ; ++i )
        {
          if ( i < 1024 )
          {
            if ( v23[i] == 44 )
              v23[i] = 32;
            if ( v23[i] )
              continue;
          }
          break;
        }
        sub_4E4640(&v14, 0, 0x60u);
        v13 = -1;
        sub_4E4340(
          a1,
          v2,
          a2,
          (int)v23,
          "%d %d %d %d %d %d %d %d %d %d %d %d %d %s %s %d %d %d %d %d %d %d %d",
          (unsigned int)&v13);
        if ( v13 >= 0 && v13 < 104 )
        {
          v15 /= 4;
          sub_4E4640(v21, 0, 0x18u);
          sub_4E4640(v20, 0, 0x18u);
          sub_4E4640(v16, 0, 8u);
          sub_4E4640(v17, 0, 8u);
          sub_4E4340(a1, v2, a2, (int)&v12, "%d.%d.%d.%d.%d.%d", (unsigned int)v21);
          sub_4E4340(a1, v2, a2, (int)&v11, "%d.%d.%d.%d.%d.%d", (unsigned int)v20);
          for ( i = 0; i < 6; ++i )
          {
            v16[i] = v21[4 * i];
            v17[i] = v20[4 * i];
          }
          v5 = &dword_8B61C8[24 * v13];
          memcpy(v5, &v14, 0x60u);
          a2 = (int)&i;
          v2 = (int)((char *)v5 + 96);
        }
      }
      v4 = sub_4E4260(a1, a2, v24);
    }
  }
  else
  {
    v3 = MessageBoxA(0, "There is no file", "SkillData.csv", 0);
    v4 = sub_4E46A0(&v7 == &v7, v3, a1, (unsigned int)&v25, (int)&v7);
  }
  return sub_4E46A0(1, v4, v9, v7, v8);
}
// 8B61C8: using guessed type int dword_8B61C8[];
// 412D10: using guessed type char var_404[1024];
// 412D10: using guessed type char var_470[8];
// 412D10: using guessed type char var_468[8];
// 412D10: using guessed type char var_420[4];
// 412D10: using guessed type char var_438[4];

//----- (004131B0) --------------------------------------------------------
int __usercall sub_4131B0<eax>(int a1<ebx>, int a2, int a3)
{
  int v3; // eax@2
  int v4; // eax@3
  char v6; // [sp+0h] [bp-50h]@3
  int v7; // [sp+4h] [bp-4Ch]@6
  int v8; // [sp+8h] [bp-48h]@6
  char v9; // [sp+Ch] [bp-44h]@1
  int v10; // [sp+4Ch] [bp-4h]@3
  int v11; // [sp+50h] [bp+0h]@3

  memset(&v9, -858993460, 0x44u);
  if ( a2 )
  {
    v4 = (int)CharNextA((LPCSTR)(a3 + a2));
    v10 = sub_4E46A0(&v6 == &v6, v4, a1, (unsigned int)&v11, (int)&v6);
    v3 = a2 + a3 + 1 == v10;
  }
  else
  {
    v3 = 1;
  }
  return sub_4E46A0(1, v3, v8, v6, v7);
}

//----- (00413230) --------------------------------------------------------
int __usercall sub_413230<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v4; // eax@5
  int v5; // eax@5
  char v7; // [sp+0h] [bp-1468h]@5
  int v8; // [sp+4h] [bp-1464h]@27
  int v9; // [sp+8h] [bp-1460h]@27
  char v10; // [sp+Ch] [bp-145Ch]@1
  int v11; // [sp+4Ch] [bp-141Ch]@19
  int i; // [sp+50h] [bp-1418h]@17
  int v13; // [sp+54h] [bp-1414h]@7
  char v14[11]; // [sp+58h] [bp-1410h]@7
  char v15[1013]; // [sp+63h] [bp-1405h]@20
  int v16; // [sp+1058h] [bp-410h]@7
  int v17; // [sp+105Ch] [bp-40Ch]@7
  int v18; // [sp+1060h] [bp-408h]@7
  const CHAR Text; // [sp+1064h] [bp-404h]@5
  int v20; // [sp+1464h] [bp-4h]@1
  int v21; // [sp+1468h] [bp+0h]@5

  memset(&v10, -858993460, 0x145Cu);
  v20 = 0;
  if ( a4 )
    v20 = sub_4E4620(a1, a2, "./Guilds.bak", (int)"rb");
  else
    v20 = sub_4E4620(a1, a2, "./Guilds.txt", (int)"rb");
  if ( v20 )
  {
    sub_4E4640(byte_5A3AB8, 0, 0x300000u);
    while ( 1 )
    {
      v18 = -1;
      v17 = -1;
      v16 = -1;
      sub_4E4640(v14, 0, 0x1000u);
      v13 = sub_4E4400(a1, a2, (int)&Text, 1024, v20);
      if ( !v13 )
        break;
      sub_4E4340(a1, (int)&v21, a2, (int)&Text, "%d %d %d %s %s %s %s", (unsigned int)&v18);
      if ( v18 < 0 || v18 >= 10 || v17 < 0 || v17 >= 16 || v16 < 0 || v16 >= 4096 || !v14 )
      {
        v5 = 0;
        return sub_4E46A0(1, v5, v9, v7, v8);
      }
      if ( v18 == a3 )
      {
        for ( i = 0; i < 4; ++i )
        {
          v11 = sub_4E4B50((int)&v14[1024 * i]);
          if ( v11 > 11 )
          {
            v15[1024 * i] = 0;
            v11 = 11;
          }
          if ( v11 > 0 && !sub_401A69(&v14[1024 * i], v11 - 1) )
            *(&v14[1024 * i - 1] + v11) = 0;
          sub_4E4720((int)(&byte_5A3AB8[196608 * v17] + 48 * v16 + 12 * i));
        }
      }
    }
    sub_4E4260(a1, a2, v20);
    dword_594FB4 = a3;
    v5 = 1;
  }
  else
  {
    v4 = MessageBoxA(0, &Text, "Can't parse string in Guilds", 0);
    sub_4E46A0(&v7 == &v7, v4, a1, (unsigned int)&v21, (int)&v7);
    v5 = 0;
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 401A69: using guessed type _DWORD __cdecl sub_401A69(_DWORD, _DWORD);
// 594FB4: using guessed type int dword_594FB4;
// 413230: using guessed type char var_1405[1013];
// 413230: using guessed type char var_1410[11];

//----- (004135C0) --------------------------------------------------------
int __usercall sub_4135C0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@4
  int v3; // eax@4
  int v4; // esi@14
  char v6; // [sp+0h] [bp-1F8h]@4
  int v7; // [sp+4h] [bp-1F4h]@33
  int v8; // [sp+8h] [bp-1F0h]@33
  char v9; // [sp+Ch] [bp-1ECh]@1
  int m; // [sp+4Ch] [bp-1ACh]@27
  int l; // [sp+50h] [bp-1A8h]@25
  int k; // [sp+54h] [bp-1A4h]@18
  int j; // [sp+58h] [bp-1A0h]@16
  int i; // [sp+5Ch] [bp-19Ch]@14
  char v15; // [sp+60h] [bp-198h]@14
  char v16; // [sp+A0h] [bp-158h]@14
  int v17; // [sp+A4h] [bp-154h]@13
  int v18; // [sp+A8h] [bp-150h]@6
  int v19; // [sp+ACh] [bp-14Ch]@7
  int v20; // [sp+B0h] [bp-148h]@7
  char v21; // [sp+B4h] [bp-144h]@7
  char v22; // [sp+F4h] [bp-104h]@6
  int v23; // [sp+1F4h] [bp-4h]@1
  int v24; // [sp+1F8h] [bp+0h]@4

  memset(&v9, -858993460, 0x1ECu);
  v23 = sub_4E4620(a1, a2, "./serverlist.txt", (int)"rt");
  if ( !v23 )
    v23 = sub_4E4620(a1, a2, "../../serverlist.txt", (int)"rt");
  if ( v23 )
  {
    sub_4E4640(byte_AAAEF0, 0, 0x1B80u);
    while ( 1 )
    {
      v18 = sub_4E4400(a1, a2, (int)&v22, 255, v23);
      if ( !v18 )
        break;
      v20 = -1;
      v19 = -1;
      v21 = 0;
      sub_4E4340(a1, (int)&v24, a2, (int)&v22, "%d %d %s", (unsigned int)&v20);
      if ( v20 < 0 )
        break;
      if ( v20 >= 10 || v19 < 0 || v19 >= 11 )
        break;
      sub_4E4720((int)(&byte_AAAEF0[704 * v20] + 64 * v19));
    }
    sub_4E4260(a1, a2, v23);
    v17 = sub_4E4620(a1, a2, "./serverlist.bin", (int)"wb");
    if ( v17 )
    {
      memcpy(&v15, "", 0x40u);
      v16 = aDbdddzdidDDDDD[64];
      v4 = (int)&aDbdddzdidDDDDD[65];
      for ( i = 0; i < 10; ++i )
      {
        for ( j = 0; j < 11; ++j )
        {
          for ( k = 0; k < 64; ++k )
          {
            v4 = 704 * i + k;
            *(&byte_AAAEF0[64 * j] + v4) = *(&v15 + 63 - k) + *(&byte_AAAEF0[704 * i] + 64 * j + k);
          }
        }
      }
      sub_4E4040(a1, v4, byte_AAAEF0, 0x6Eu, 0x40u, v17);
      sub_4E4260(a1, v4, v17);
      for ( i = 0; i < 10; ++i )
      {
        for ( l = 0; l < 11; ++l )
        {
          for ( m = 0; m < 64; ++m )
            *(&byte_AAAEF0[704 * i] + 64 * l + m) -= *(&v15 + 63 - m);
        }
      }
    }
    v3 = 1;
  }
  else
  {
    v2 = MessageBoxA(0, "Can't open server list.txt", "address", 0);
    sub_4E46A0(&v6 == &v6, v2, a1, (unsigned int)&v24, (int)&v6);
    v3 = 0;
  }
  return sub_4E46A0(1, v3, v8, v6, v7);
}
// 4135C0: using guessed type char var_198[68];

//----- (00413A40) --------------------------------------------------------
int __usercall sub_413A40<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@4
  int v3; // eax@4
  char v5; // [sp+0h] [bp-158h]@4
  int v6; // [sp+4h] [bp-154h]@6
  int v7; // [sp+8h] [bp-150h]@6
  char v8; // [sp+Ch] [bp-14Ch]@1
  int v9; // [sp+4Ch] [bp-10Ch]@1
  char v10; // [sp+50h] [bp-108h]@1
  int v11; // [sp+150h] [bp-8h]@1
  int v12; // [sp+154h] [bp-4h]@1
  int v13; // [sp+158h] [bp+0h]@4

  memset(&v8, -858993460, 0x14Cu);
  v12 = 0;
  v11 = 0;
  sub_4E4720((int)&v10);
  v9 = sub_4E4620(a1, a2, &v10, (int)"rb");
  if ( !v9 )
    v9 = sub_4E4620(a1, a2, "../../TMSRV/Run/AttributeMap.dat", (int)"rb");
  if ( v9 )
  {
    sub_4E5090(a1, a2, (int)byte_8CCC40, 0x400u, 0x400u, v9);
    sub_4E4260(a1, a2, v9);
    v3 = 1;
  }
  else
  {
    v2 = MessageBoxA(0, "There is no file", "Attributemap.dat", 0);
    sub_4E46A0(&v5 == &v5, v2, a1, (unsigned int)&v13, (int)&v5);
    v3 = 0;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}

//----- (00413BA0) --------------------------------------------------------
int __cdecl sub_413BA0(signed int a1, int a2, int a3, int a4, signed int a5)
{
  int v6; // ecx@75
  char v7; // [sp+Ch] [bp-78h]@1
  int v8; // [sp+4Ch] [bp-38h]@75
  int v9; // [sp+50h] [bp-34h]@102
  int v10; // [sp+54h] [bp-30h]@74
  int v11; // [sp+58h] [bp-2Ch]@21
  int v12; // [sp+5Ch] [bp-28h]@21
  int v13; // [sp+60h] [bp-24h]@5
  int v14; // [sp+64h] [bp-20h]@5
  int v15; // [sp+68h] [bp-1Ch]@5
  int v16; // [sp+6Ch] [bp-18h]@5
  int v17; // [sp+70h] [bp-14h]@5
  int v18; // [sp+74h] [bp-10h]@5
  int v19; // [sp+78h] [bp-Ch]@1
  int v20; // [sp+7Ch] [bp-8h]@1
  int v21; // [sp+80h] [bp-4h]@1

  memset(&v7, -858993460, 0x78u);
  v21 = dword_8B61DC[24 * a1];
  v20 = a1 % 24 / 8 + 1;
  v19 = *(_WORD *)(a2 + 64);
  if ( v19 < 0 )
    v19 = 0;
  if ( v19 >= 400 )
    v19 = 400;
  v18 = *(_BYTE *)(v20 + a2 + 88);
  v17 = dword_8B61E0[24 * a1];
  v16 = dword_8B61F0[24 * a1];
  v15 = a1 / 8 % 3;
  v14 = 0;
  v13 = 4 * *(_BYTE *)(a2 + 749);
  if ( v21 )
  {
    if ( v21 < 1 || v21 > 5 )
    {
      if ( v21 == 6 )
      {
        v14 = 3 * v18 / 2 + v17;
        if ( a1 == 29 )
        {
          v9 = 128;
          if ( *(_DWORD *)(a2 + 732) & 0x80 )
            v14 = 120 * v14 / 100;
        }
      }
      else
      {
        if ( v21 == 11 )
          v14 = v17;
        else
          v14 = 2 * *(_BYTE *)(a2 + 749);
      }
    }
    else
    {
      v12 = a1 / 8;
      v11 = 0;
      if ( a5 % 10 > 5 )
        v11 = 1;
      if ( v11 )
      {
        if ( a1 == 97 )
        {
          v14 = 15 * v19 + v17;
        }
        else
        {
          if ( *(_BYTE *)(a2 + 20) || v12 != 1 )
          {
            if ( *(_BYTE *)(a2 + 20) || v12 == 1 )
            {
              switch ( *(_BYTE *)(a2 + 20) )
              {
                case 1:
                  v14 = *(_WORD *)(a2 + 82) / 30 + *(_WORD *)(a2 + 82) / 3 + v19 + v17 + 2 * v18;
                  break;
                case 2:
                  v14 = *(_WORD *)(a2 + 82) / 30 + *(_WORD *)(a2 + 82) / 3 + v19 + v17 + 2 * v18;
                  break;
                case 3:
                  if ( a1 == 79 )
                    v14 = *(_WORD *)(a2 + 68);
                  else
                    v14 = 3 * a4 + 3 * *(_WORD *)(a2 + 80) + v19 / 2 + v18 + v17;
                  break;
              }
            }
            else
            {
              v14 = v19 + v18 + v17 + a4 + *(_WORD *)(a2 + 82) / 4 + *(_WORD *)(a2 + 82) / 40;
            }
          }
          else
          {
            v14 = 3 * a4 + 3 * *(_WORD *)(a2 + 80) + v19 + v18 + v17;
          }
        }
      }
      else
      {
        if ( a1 == 97 )
        {
          v14 = 15 * v19 + v17;
        }
        else
        {
          if ( *(_BYTE *)(a2 + 20) || v12 != 1 )
          {
            if ( *(_BYTE *)(a2 + 20) || v12 == 1 )
            {
              switch ( *(_BYTE *)(a2 + 20) )
              {
                case 1:
                  v14 = *(_WORD *)(a2 + 82) / 30 + *(_WORD *)(a2 + 82) / 3 + v19 / 2 + v18 + v17;
                  break;
                case 2:
                  v14 = *(_WORD *)(a2 + 82) / 30 + *(_WORD *)(a2 + 82) / 3 + v19 / 2 + v18 + v17;
                  break;
                case 3:
                  if ( a1 == 79 )
                    v14 = *(_WORD *)(a2 + 68);
                  else
                    v14 = 3 * a4 + 3 * *(_WORD *)(a2 + 80) + v19 / 2 + v18 + v17;
                  break;
              }
            }
            else
            {
              v14 = v19 / 2 + v18 + v17 + a4 + *(_WORD *)(a2 + 82) / 4 + *(_WORD *)(a2 + 82) / 40;
            }
          }
          else
          {
            v14 = 3 * a4 + 3 * *(_WORD *)(a2 + 80) + v19 / 2 + v18 + v17;
          }
        }
      }
      if ( a3 == 1 )
      {
        if ( v21 == 2 )
          v14 = 90 * v14 / 100;
        if ( v21 == 5 )
          v14 = 130 * v14 / 100;
      }
      else
      {
        if ( a3 == 2 && v21 == 3 )
          v14 = 120 * v14 / 100;
      }
      if ( a1 != 97 )
      {
        if ( a1 == 79 )
          return v14;
        if ( (*(_BYTE *)(a2 + 20) || v12 != 1) && *(_BYTE *)(a2 + 20) != 3 )
        {
          v14 = (v13 + 100) * v14 / 100;
          v14 = 5 * v14 / 4;
        }
        else
        {
          v14 = 5 * v14 / 4;
        }
      }
      v10 = 1 << (8 * v15 + 7);
      if ( v10 & *(_DWORD *)(a2 + 732) )
      {
        v6 = *(_BYTE *)(a2 + 20);
        v8 = *(_BYTE *)(a2 + 20);
        switch ( v6 )
        {
          case 0:
            if ( v15 )
            {
              if ( v15 == 1 )
              {
                v14 = 120 * v14 / 100;
              }
              else
              {
                if ( v15 == 2 )
                  v14 = 115 * v14 / 100;
              }
            }
            else
            {
              v14 = 115 * v14 / 100;
            }
            break;
          case 1:
            if ( v15 )
            {
              if ( v15 == 1 )
              {
                v14 = 115 * v14 / 100;
              }
              else
              {
                if ( v15 == 2 )
                  v14 = 115 * v14 / 100;
              }
            }
            else
            {
              v14 = 110 * v14 / 100;
            }
            break;
          case 2:
            if ( !v15 )
              v14 = 110 * v14 / 100;
            break;
          case 3:
            if ( v15 )
            {
              if ( v15 == 1 )
              {
                v14 = 110 * v14 / 100;
              }
              else
              {
                if ( v15 == 2 )
                  v14 = 120 * v14 / 100;
              }
            }
            else
            {
              v14 = 110 * v14 / 100;
            }
            break;
          default:
            return v14;
        }
      }
    }
  }
  else
  {
    switch ( a1 )
    {
      case 11:
        v14 = v18 / 10 + v16;
        break;
      case 13:
        v14 = 3 * v18 + v16;
        break;
      case 41:
        v14 = v18 / 25 + 2;
        break;
      case 43:
        v14 = v16 + v18 / 3 + 15;
        break;
      case 44:
        v14 = 5 * (v18 / 3 + 15);
        break;
      case 45:
        v14 = v18 / 10 + v16;
        break;
    }
  }
  return v14;
}
// 8B61DC: using guessed type int dword_8B61DC[];
// 8B61E0: using guessed type int dword_8B61E0[];
// 8B61F0: using guessed type int dword_8B61F0[];

//----- (004144E0) --------------------------------------------------------
int __cdecl sub_4144E0(int a1)
{
  int v1; // eax@4
  char v3; // [sp+0h] [bp-150h]@0
  int v4; // [sp+4h] [bp-14Ch]@0
  int v5; // [sp+8h] [bp-148h]@0
  char v6; // [sp+Ch] [bp-144h]@1
  int i; // [sp+4Ch] [bp-104h]@1
  char v8; // [sp+50h] [bp-100h]@1

  memset(&v6, -858993460, 0x144u);
  sub_4E4720((int)&v8);
  for ( i = 0; i < 1024; ++i )
  {
    if ( !sub_4E4D80(a1, (int)((char *)&unk_8B8BD0 + 64 * i)) )
    {
      sub_4E4720(a1);
      sub_4E4720(a1);
      sub_4E4720((int)&byte_8B8C00[64 * i]);
      v1 = 1;
      return sub_4E46A0(1, v1, v5, v3, v4);
    }
  }
  v1 = 0;
  return sub_4E46A0(1, v1, v5, v3, v4);
}

//----- (00414610) --------------------------------------------------------
int __usercall sub_414610<eax>(int a1<ebx>, int a2<esi>, const CHAR *a3)
{
  int v3; // edi@1
  int v4; // eax@2
  void *v5; // edi@19
  char v7; // [sp+0h] [bp-4C4h]@0
  int v8; // [sp+4h] [bp-4C0h]@0
  int v9; // [sp+8h] [bp-4BCh]@0
  char v10; // [sp+Ch] [bp-4B8h]@1
  int j; // [sp+4Ch] [bp-478h]@10
  char v12; // [sp+50h] [bp-474h]@16
  char v13; // [sp+70h] [bp-454h]@17
  char v14; // [sp+90h] [bp-434h]@17
  int v15; // [sp+B0h] [bp-414h]@3
  int v16; // [sp+B4h] [bp-410h]@3
  int i; // [sp+B8h] [bp-40Ch]@7
  char v18[1024]; // [sp+BCh] [bp-408h]@3
  int v19; // [sp+4BCh] [bp-8h]@3
  int v20; // [sp+4C0h] [bp-4h]@1
  int v21; // [sp+4C4h] [bp+0h]@1

  memset(&v10, -858993460, 0x4B8u);
  v3 = (int)&v21;
  v20 = sub_4E4620(a1, a2, a3, (int)"rt");
  if ( v20 )
  {
    sub_4E4640(&unk_8A3AB8, 0, 0x1E00u);
    v19 = 0;
    v16 = 0;
    v15 = sub_4E4400(a1, a2, (int)v18, 1024, v20);
    if ( v15 )
    {
      sub_4E4340(a1, (int)&v21, a2, (int)v18, "%d", (unsigned int)&dword_AACD58);
      if ( dword_AACD58 < 80 )
      {
        for ( i = 0; i < dword_AACD58 && sub_4E4400(a1, a2, (int)v18, 1024, v20); ++i )
        {
          for ( j = 0; ; ++j )
          {
            if ( j < 1024 )
            {
              if ( v18[j] == 44 )
                v18[j] = 32;
              if ( v18[j] )
                continue;
            }
            break;
          }
          v16 = -1;
          sub_4E4640(&v12, 0, 0x60u);
          if ( sub_4E4340(a1, v3, a2, (int)v18, "%d %s %s %s", (unsigned int)&v16) == -1 )
            break;
          sub_401073(&v12);
          sub_401073(&v13);
          sub_401073(&v14);
          if ( v16 > 0 && v16 < 79 )
          {
            v5 = (char *)&unk_8A3AB8 + 96 * v16;
            memcpy(v5, &v12, 0x60u);
            a2 = (int)&v15;
            v3 = (int)((char *)v5 + 96);
          }
        }
        sub_4E4260(a1, a2, v20);
        v4 = 1;
      }
      else
      {
        sub_4E4260(a1, a2, v20);
        v4 = 0;
      }
    }
    else
    {
      sub_4E4260(a1, a2, v20);
      v4 = 0;
    }
  }
  else
  {
    v4 = 0;
  }
  return sub_4E46A0(1, v4, v9, v7, v8);
}
// 401073: using guessed type _DWORD __cdecl sub_401073(_DWORD);
// AACD58: using guessed type int dword_AACD58;
// 414610: using guessed type char var_408[1024];

//----- (00414900) --------------------------------------------------------
int __usercall sub_414900<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@2
  int v3; // eax@15
  char v5; // [sp+0h] [bp-F4h]@15
  int v6; // [sp+4h] [bp-F0h]@18
  int v7; // [sp+8h] [bp-ECh]@18
  char v8; // [sp+Ch] [bp-E8h]@1
  int i; // [sp+4Ch] [bp-A8h]@5
  int v10; // [sp+50h] [bp-A4h]@4
  int *v11; // [sp+54h] [bp-A0h]@3
  char v12; // [sp+58h] [bp-9Ch]@5
  char v13; // [sp+5Ch] [bp-98h]@10
  char v14; // [sp+60h] [bp-94h]@10
  int v15; // [sp+64h] [bp-90h]@10
  int v16; // [sp+68h] [bp-8Ch]@3
  int v17; // [sp+6Ch] [bp-88h]@3
  char v18[128]; // [sp+70h] [bp-84h]@4
  int v19; // [sp+F0h] [bp-4h]@1
  int v20; // [sp+F4h] [bp+0h]@10

  memset(&v8, -858993460, 0xE8u);
  v19 = sub_4E4620(a1, a2, "GameRoomIP.txt", (int)"rt");
  if ( v19 )
  {
    v17 = 0;
    v16 = 0;
    v11 = &v16;
    while ( 1 )
    {
      v10 = sub_4E4400(a1, a2, (int)v18, 125, v19);
      if ( !v10 )
        break;
      sub_4E4640(&v12, 0, 0x10u);
      for ( i = 0; i < 15; ++i )
      {
        if ( v18[i] == 46 )
          v18[i] = 32;
      }
      sub_4E4340(a1, (int)&v20, a2, (int)v18, "%d %d %d %d", (unsigned int)&v12);
      *(_BYTE *)v11 = v12;
      *((_BYTE *)v11 + 1) = v13;
      *((_BYTE *)v11 + 2) = v14;
      if ( v15 <= 0 || v15 >= 255 )
        *((_BYTE *)v11 + 3) = 0;
      else
        *((_BYTE *)v11 + 3) = v15;
      dword_8C8D60[v17++] = v16;
      if ( v17 >= 3000 )
      {
        v3 = MessageBoxA(0, "Warning", "PC Room IP is Over", 0);
        sub_4E46A0(&v5 == &v5, v3, a1, (unsigned int)&v20, (int)&v5);
        sub_4E4260(a1, (int)&v5, v19);
        v2 = 0;
        return sub_4E46A0(1, v2, v7, v5, v6);
      }
    }
    sub_4E4260(a1, a2, v19);
    v2 = 1;
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v7, v5, v6);
}
// 8C8D60: using guessed type int dword_8C8D60[];
// 414900: using guessed type char var_84[128];

//----- (00414B90) --------------------------------------------------------
int __usercall sub_414B90<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@2
  int v3; // eax@15
  char v5; // [sp+0h] [bp-F4h]@15
  int v6; // [sp+4h] [bp-F0h]@18
  int v7; // [sp+8h] [bp-ECh]@18
  char v8; // [sp+Ch] [bp-E8h]@1
  int i; // [sp+4Ch] [bp-A8h]@5
  int v10; // [sp+50h] [bp-A4h]@4
  int *v11; // [sp+54h] [bp-A0h]@3
  char v12; // [sp+58h] [bp-9Ch]@5
  char v13; // [sp+5Ch] [bp-98h]@10
  char v14; // [sp+60h] [bp-94h]@10
  int v15; // [sp+64h] [bp-90h]@10
  int v16; // [sp+68h] [bp-8Ch]@3
  int v17; // [sp+6Ch] [bp-88h]@3
  char v18[128]; // [sp+70h] [bp-84h]@4
  int v19; // [sp+F0h] [bp-4h]@1
  int v20; // [sp+F4h] [bp+0h]@10

  memset(&v8, -858993460, 0xE8u);
  v19 = sub_4E4620(a1, a2, "BlockIP.txt", (int)"rt");
  if ( v19 )
  {
    v17 = 0;
    v16 = 0;
    v11 = &v16;
    while ( 1 )
    {
      v10 = sub_4E4400(a1, a2, (int)v18, 125, v19);
      if ( !v10 )
        break;
      sub_4E4640(&v12, 0, 0x10u);
      for ( i = 0; i < 15; ++i )
      {
        if ( v18[i] == 46 )
          v18[i] = 32;
      }
      sub_4E4340(a1, (int)&v20, a2, (int)v18, "%d %d %d %d", (unsigned int)&v12);
      *(_BYTE *)v11 = v12;
      *((_BYTE *)v11 + 1) = v13;
      *((_BYTE *)v11 + 2) = v14;
      if ( v15 <= 0 || v15 >= 255 )
        *((_BYTE *)v11 + 3) = 0;
      else
        *((_BYTE *)v11 + 3) = v15;
      dword_8A58BC[v17++] = v16;
      if ( v17 >= 200 )
      {
        v3 = MessageBoxA(0, "Warning", "BlockIP IP is Over", 0);
        sub_4E46A0(&v5 == &v5, v3, a1, (unsigned int)&v20, (int)&v5);
        sub_4E4260(a1, (int)&v5, v19);
        v2 = 0;
        return sub_4E46A0(1, v2, v7, v5, v6);
      }
    }
    sub_4E4260(a1, a2, v19);
    v2 = 1;
  }
  else
  {
    v2 = 1;
  }
  return sub_4E46A0(1, v2, v7, v5, v6);
}
// 8A58BC: using guessed type int dword_8A58BC[];
// 414B90: using guessed type char var_84[128];

//----- (00414E20) --------------------------------------------------------
unsigned int __cdecl sub_414E20()
{
  return dword_8A58B8 / 0x15180u - 3;
}
// 8A58B8: using guessed type int dword_8A58B8;

//----- (00414E70) --------------------------------------------------------
signed int __cdecl sub_414E70(char a1, char a2)
{
  signed int result; // eax@2
  char v3; // [sp+Ch] [bp-44h]@1
  int v4; // [sp+4Ch] [bp-4h]@1

  memset(&v3, -858993460, 0x44u);
  v4 = 1 << a2;
  if ( a1 & (1 << a2) )
    result = 1;
  else
    result = 0;
  return result;
}

//----- (00414ED0) --------------------------------------------------------
int __cdecl sub_414ED0(int a1, char a2)
{
  int result; // eax@1
  char v3; // [sp+Ch] [bp-44h]@1
  int v4; // [sp+4Ch] [bp-4h]@1

  memset(&v3, -858993460, 0x44u);
  v4 = 1 << a2;
  result = a1;
  *(_BYTE *)a1 |= 1 << a2;
  return result;
}

//----- (00414F20) --------------------------------------------------------
int __cdecl sub_414F20(int a1, char a2)
{
  int result; // eax@1
  char v3; // [sp+Ch] [bp-44h]@1
  int v4; // [sp+4Ch] [bp-4h]@1

  memset(&v3, -858993460, 0x44u);
  v4 = ~(1 << a2);
  result = v4 & *(_BYTE *)a1;
  *(_BYTE *)a1 = result;
  return result;
}

//----- (00416B20) --------------------------------------------------------
int __cdecl sub_416B20(signed int a1)
{
  char v2; // [sp+Ch] [bp-44h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  memset(&v2, -858993460, 0x44u);
  v3 = 0;
  if ( a1 % 10 > 5 )
    v3 = 1;
  return v3;
}

//----- (00416B70) --------------------------------------------------------
int __cdecl sub_416B70(int a1)
{
  char v2; // [sp+Ch] [bp-44h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  memset(&v2, -858993460, 0x44u);
  v3 = 0;
  if ( a1 != 543
    && a1 != 545
    && a1 != 1766
    && a1 != 1767
    && a1 != 1768
    && a1 != 3191
    && a1 != 3194
    && a1 != 3197
    && a1 != 1767 )
  {
    if ( a1 != 544
      && a1 != 546
      && a1 != 1769
      && a1 != 1770
      && a1 != 1771
      && a1 != 3192
      && a1 != 3195
      && a1 != 3198
      && a1 != 1770 )
    {
      if ( a1 == 548 || a1 == 549 || a1 == 573 || a1 == 3193 || a1 == 3196 || a1 == 3199 || a1 == 573 )
        v3 = 6;
    }
    else
    {
      v3 = 8;
    }
  }
  else
  {
    v3 = 7;
  }
  return v3;
}

//----- (00416CE0) --------------------------------------------------------
int __cdecl sub_416CE0(int a1)
{
  char v2; // [sp+Ch] [bp-44h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  memset(&v2, -858993460, 0x44u);
  v3 = 0;
  if ( a1 != 3197 && a1 != 3198 && a1 != 3199 )
  {
    if ( a1 != 3194 && a1 != 3195 && a1 != 3196 )
    {
      if ( a1 != 3191 && a1 != 3192 && a1 != 3193 )
      {
        if ( a1 != 1766 && a1 != 1769 && a1 != 572 )
        {
          if ( a1 != 1767 && a1 != 1770 && a1 != 573 )
          {
            if ( a1 != 1768 && a1 != 1771 && a1 != 574 )
            {
              if ( a1 != 543 && a1 != 544 && a1 != 549 )
              {
                if ( a1 == 545 || a1 == 546 || a1 == 548 )
                  v3 = 548;
              }
              else
              {
                v3 = 549;
              }
            }
            else
            {
              v3 = 574;
            }
          }
          else
          {
            v3 = 573;
          }
        }
        else
        {
          v3 = 572;
        }
      }
      else
      {
        v3 = 3193;
      }
    }
    else
    {
      v3 = 3196;
    }
  }
  else
  {
    v3 = 3199;
  }
  return v3;
}

//----- (00416E90) --------------------------------------------------------
int __thiscall sub_416E90(int this)
{
  int v2; // [sp+4Ch] [bp-4h]@1

  v2 = this;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(v2 + 20) = 0;
  *(_DWORD *)(v2 + 24) = 0;
  *(_DWORD *)(v2 + 28) = 0;
  *(_DWORD *)(v2 + 32) = 0;
  return v2;
}

//----- (00416F00) --------------------------------------------------------
signed int __cdecl sub_416F00()
{
  return -858993460;
}

//----- (00416F30) --------------------------------------------------------
int __thiscall sub_416F30(int this)
{
  char v2; // [sp+0h] [bp-50h]@0
  int v3; // [sp+4h] [bp-4Ch]@0
  int v4; // [sp+8h] [bp-48h]@0
  char v5; // [sp+Ch] [bp-44h]@1
  int v6; // [sp+4Ch] [bp-4h]@1

  memset(&v5, -858993460, 0x44u);
  v6 = this;
  *(_DWORD *)(this + 1332) = 0;
  *(_DWORD *)(v6 + 1348) = -1;
  *(_DWORD *)(v6 + 1352) = -1;
  sub_40193D(v6);
  return sub_4E46A0(1, v6, v4, v2, v3);
}
// 40193D: using guessed type int __thiscall sub_40193D(_DWORD);

//----- (00416FB0) --------------------------------------------------------
signed int __cdecl sub_416FB0()
{
  return -858993460;
}

//----- (00416FE0) --------------------------------------------------------
int __thiscall sub_416FE0(int this)
{
  int result; // eax@1
  int v2; // [sp+4Ch] [bp-4h]@1

  v2 = this;
  *(_DWORD *)(this + 1336) = 0;
  *(_DWORD *)(v2 + 1408) = 0;
  *(_DWORD *)(v2 + 1548) = 0;
  *(_DWORD *)(v2 + 1544) = 0;
  *(_DWORD *)(v2 + 1552) = 0;
  *(_DWORD *)(v2 + 1580) = 0;
  *(_BYTE *)(v2 + 1660) = 0;
  *(_BYTE *)(v2 + 742) = 0;
  *(_DWORD *)(v2 + 1572) = 0;
  *(_DWORD *)(v2 + 1612) = 0;
  *(_DWORD *)(v2 + 1616) = 0;
  *(_DWORD *)(v2 + 1652) = 0;
  *(_DWORD *)(v2 + 1608) = 0;
  *(_DWORD *)(v2 + 1656) = 0;
  *(_DWORD *)(v2 + 1688) = 0;
  *(_DWORD *)(v2 + 1692) = 0;
  *(_DWORD *)(v2 + 1696) = 0;
  *(_DWORD *)(v2 + 1700) = 0;
  *(_DWORD *)(v2 + 1704) = 0;
  *(_DWORD *)(v2 + 1716) = 0;
  *(_DWORD *)(v2 + 1708) = 0;
  *(_WORD *)(v2 + 1712) = 0;
  *(_DWORD *)(v2 + 1592) = 0;
  *(_DWORD *)(v2 + 1588) = 0;
  result = v2;
  *(_DWORD *)(v2 + 1600) = 0;
  *(_DWORD *)(v2 + 1596) = 0;
  *(_DWORD *)(v2 + 1544) = 0;
  return result;
}

//----- (004171F0) --------------------------------------------------------
int __thiscall sub_4171F0(int this)
{
  int v1; // edx@4
  int v2; // eax@4
  int v3; // ecx@8
  int v4; // edx@12
  int v5; // ecx@16
  int v6; // ecx@19
  int v7; // ecx@31
  int v8; // ecx@39
  int v9; // ecx@62
  char v11; // [sp+0h] [bp-7Ch]@0
  int v12; // [sp+4h] [bp-78h]@0
  int v13; // [sp+8h] [bp-74h]@0
  char v14; // [sp+Ch] [bp-70h]@1
  int v15; // [sp+4Ch] [bp-30h]@72
  int v16; // [sp+50h] [bp-2Ch]@66
  int v17; // [sp+54h] [bp-28h]@64
  int v18; // [sp+58h] [bp-24h]@41
  int v19; // [sp+5Ch] [bp-20h]@33
  int i; // [sp+60h] [bp-1Ch]@22
  int v21; // [sp+64h] [bp-18h]@20
  int v22; // [sp+68h] [bp-14h]@17
  int v23; // [sp+6Ch] [bp-10h]@13
  int v24; // [sp+70h] [bp-Ch]@6
  int v25; // [sp+74h] [bp-8h]@1
  int v26; // [sp+78h] [bp-4h]@1

  memset(&v14, -858993460, 0x70u);
  v26 = this;
  v25 = 0;
  if ( *(_WORD *)(this + 74) )
  {
    if ( (signed int)*(_WORD *)(v26 + 78) <= 0 && *(_DWORD *)(v26 + 1332) != 5 )
    {
      v1 = v25;
      BYTE1(v1) |= 1u;
      v25 = v1;
      v2 = v1;
      return sub_4E46A0(1, v2, v13, v11, v12);
    }
    --*(_WORD *)(v26 + 78);
  }
  v24 = *(_WORD *)(v26 + 92);
  if ( *(_BYTE *)(v26 + 1204) != 24 && v24 == 358 )
  {
    v3 = v25;
    BYTE1(v3) |= 1u;
    v25 = v3;
    v2 = v3;
    return sub_4E46A0(1, v2, v13, v11, v12);
  }
  if ( *(_DWORD *)(v26 + 1344) == 5 )
  {
    if ( *(_DWORD *)(v26 + 1336) > 0 && *(_DWORD *)(v26 + 1336) <= 1000 )
    {
      v23 = *(_WORD *)(v26 + 92);
      if ( *(_BYTE *)(v26 + 1204) == 24 || v23 >= 315 && v23 <= 346 )
      {
        v22 = *(_DWORD *)(v26 + 1544);
        if ( v22 > 0 && v22 < 1000 )
        {
          v21 = 0;
          if ( *(_DWORD *)(v26 + 1336) == v22 )
            v21 = 1;
          for ( i = 0; i < 12; ++i )
          {
            if ( *(&word_1FDF28A[862 * *(_DWORD *)(v26 + 1336)] + i) == v22 )
              v21 = 1;
          }
          if ( v21 )
          {
            if ( *(_BYTE *)(v26 + 1204) != 24 || *(_DWORD *)(v26 + 1208) )
            {
              if ( dword_752BAF0[790 * v22] == 22 )
              {
                v19 = sub_401505(
                        *(_DWORD *)(v26 + 1364),
                        *(_DWORD *)(v26 + 1368),
                        dword_1FDF1F4[431 * v22],
                        dword_1FDF1F8[431 * v22]);
                if ( v19 < 20 )
                {
                  if ( v19 <= 2 || v19 >= 20 )
                  {
                    v2 = v25;
                  }
                  else
                  {
                    *(_DWORD *)(v26 + 1424) = dword_1FDF1F4[431 * v22];
                    *(_DWORD *)(v26 + 1428) = dword_1FDF1F8[431 * v22];
                    sub_401271(0);
                    v2 = v25;
                    LOBYTE(v2) = v25 | 1;
                    v25 = v2;
                  }
                }
                else
                {
                  *(_DWORD *)(v26 + 1372) = dword_1FDF1F4[431 * v22];
                  *(_DWORD *)(v26 + 1376) = dword_1FDF1F8[431 * v22];
                  v25 |= 2u;
                  v2 = v25;
                }
              }
              else
              {
                v8 = v25;
                BYTE1(v8) |= 1u;
                v25 = v8;
                v2 = v8;
              }
            }
            else
            {
              v7 = v25;
              BYTE1(v7) |= 1u;
              v25 = v7;
              v2 = v7;
            }
          }
          else
          {
            v2 = v25;
            BYTE1(v2) |= 1u;
            v25 = v2;
          }
        }
        else
        {
          v6 = v25;
          BYTE1(v6) |= 1u;
          v25 = v6;
          v2 = v6;
        }
      }
      else
      {
        v5 = v25;
        BYTE1(v5) |= 1u;
        v25 = v5;
        v2 = v5;
      }
    }
    else
    {
      v4 = v25;
      BYTE1(v4) |= 1u;
      v25 = v4;
      v2 = v4;
    }
  }
  else
  {
    if ( !*(_DWORD *)(v26 + 1336) )
    {
      v18 = sub_4017DA(v26);
      if ( v18 )
      {
        if ( *(_DWORD *)(v26 + 1364) < *(_DWORD *)(v26 + 1424) + 12
          && *(_DWORD *)(v26 + 1364) > *(_DWORD *)(v26 + 1424) - 12
          && *(_DWORD *)(v26 + 1368) < *(_DWORD *)(v26 + 1428) + 12
          && *(_DWORD *)(v26 + 1368) > *(_DWORD *)(v26 + 1428) - 12 )
        {
          v2 = v18 | 0x10000000;
          return sub_4E46A0(1, v2, v13, v11, v12);
        }
      }
    }
    if ( *(_DWORD *)(v26 + 1344) == 6
      && *(_DWORD *)(v26 + 1364) == *(_DWORD *)(v26 + 1424)
      && *(_DWORD *)(v26 + 1368) == *(_DWORD *)(v26 + 1428) )
    {
      v2 = 0;
      return sub_4E46A0(1, v2, v13, v11, v12);
    }
    if ( *(_DWORD *)(v26 + 1424) == *(_DWORD *)(v26 + 1364) && *(_DWORD *)(v26 + 1428) == *(_DWORD *)(v26 + 1368) )
    {
      if ( *(_DWORD *)(v26 + 1408) <= 0 || *(_DWORD *)(v26 + 1344) == 6 )
      {
        v17 = *(_DWORD *)(v26 + 4 * *(_DWORD *)(v26 + 1496) + 1472);
        if ( v17 > 0 )
        {
          *(_DWORD *)(v26 + 1408) = v17;
          v2 = v25;
          return sub_4E46A0(1, v2, v13, v11, v12);
        }
      }
      else
      {
        *(_DWORD *)(v26 + 1408) -= 6;
        if ( *(_DWORD *)(v26 + 1408) > 0 )
        {
          if ( *(_DWORD *)(v26 + 1344)
            || *(_DWORD *)(v26 + 1364) != *(_DWORD *)(v26 + 1432)
            || *(_DWORD *)(v26 + 1368) != *(_DWORD *)(v26 + 1452) )
          {
            if ( *(_BYTE *)(v26 + 43) & 0xF )
            {
              v9 = v25;
              BYTE1(v9) |= 0x10u;
              v25 = v9;
              v2 = v9;
            }
            else
            {
              v2 = 0;
            }
          }
          else
          {
            v2 = 0;
          }
          return sub_4E46A0(1, v2, v13, v11, v12);
        }
        *(_DWORD *)(v26 + 1408) = 0;
      }
      v16 = sub_40190B(v26);
      if ( v16 == 1 )
      {
        v2 = v25;
        return sub_4E46A0(1, v2, v13, v11, v12);
      }
      if ( v16 == 2 )
      {
        v2 = v25;
        BYTE1(v2) |= 1u;
        v25 = v2;
        return sub_4E46A0(1, v2, v13, v11, v12);
      }
    }
    sub_401271(0);
    if ( *(_DWORD *)(v26 + 1372) != *(_DWORD *)(v26 + 1364) || *(_DWORD *)(v26 + 1376) != *(_DWORD *)(v26 + 1368) )
    {
      v25 |= 1u;
      v2 = v25;
    }
    else
    {
      v15 = sub_40190B(v26);
      v2 = v25;
    }
  }
  return sub_4E46A0(1, v2, v13, v11, v12);
}
// 401271: using guessed type _DWORD __stdcall sub_401271(_DWORD);
// 401505: using guessed type _DWORD __cdecl sub_401505(_DWORD, _DWORD, _DWORD, _DWORD);
// 4017DA: using guessed type int __thiscall sub_4017DA(_DWORD);
// 40190B: using guessed type int __thiscall sub_40190B(_DWORD);
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (00417890) --------------------------------------------------------
int __thiscall sub_417890(int this)
{
  int v1; // eax@3
  char v3; // [sp+0h] [bp-98h]@0
  int v4; // [sp+4h] [bp-94h]@0
  int v5; // [sp+8h] [bp-90h]@0
  char v6; // [sp+Ch] [bp-8Ch]@1
  int v7; // [sp+4Ch] [bp-4Ch]@57
  int v8; // [sp+50h] [bp-48h]@56
  int v9; // [sp+54h] [bp-44h]@56
  int v10; // [sp+58h] [bp-40h]@56
  int v11; // [sp+5Ch] [bp-3Ch]@51
  int j; // [sp+60h] [bp-38h]@43
  int v13; // [sp+64h] [bp-34h]@32
  int v14; // [sp+68h] [bp-30h]@32
  int v15; // [sp+6Ch] [bp-2Ch]@32
  int v16; // [sp+70h] [bp-28h]@32
  int v17; // [sp+74h] [bp-24h]@32
  int v18; // [sp+78h] [bp-20h]@30
  int v19; // [sp+7Ch] [bp-1Ch]@28
  int i; // [sp+80h] [bp-18h]@21
  int v21; // [sp+84h] [bp-14h]@19
  int v22; // [sp+88h] [bp-10h]@13
  int v23; // [sp+8Ch] [bp-Ch]@10
  int v24; // [sp+90h] [bp-8h]@1
  int v25; // [sp+94h] [bp-4h]@1

  memset(&v6, -858993460, 0x8Cu);
  v25 = this;
  v24 = *(_WORD *)(this + 92);
  if ( *(_BYTE *)(this + 1204) == 24 || v24 != 358 )
  {
    sub_401B18(v25);
    if ( *(_WORD *)(v25 + 1504) )
    {
      if ( *(_DWORD *)(v25 + 1344) == 5 )
      {
        if ( *(_DWORD *)(v25 + 1336) <= 0 || *(_DWORD *)(v25 + 1336) >= 1000 )
        {
          v1 = 32;
          return sub_4E46A0(1, v1, v5, v3, v4);
        }
        v23 = *(_DWORD *)(v25 + 1544);
        if ( v23 <= 0 || v23 >= 1000 )
        {
          v1 = 32;
          return sub_4E46A0(1, v1, v5, v3, v4);
        }
        v22 = (unsigned __int16)word_1FDECEC[862 * v23];
        if ( v22 <= 0 )
        {
          v1 = 32;
          return sub_4E46A0(1, v1, v5, v3, v4);
        }
        if ( *(_BYTE *)(v25 + 1204) != 24 && (v24 < 315 || v24 > 346) )
        {
          v1 = 32;
          return sub_4E46A0(1, v1, v5, v3, v4);
        }
        v21 = 0;
        if ( *(_DWORD *)(v25 + 1336) == v23 )
          v21 = 1;
        for ( i = 0; i < 12; ++i )
        {
          if ( *(&word_1FDF28A[862 * *(_DWORD *)(v25 + 1336)] + i) == v23 )
            v21 = 1;
        }
        if ( !v21 )
        {
          v1 = 32;
          return sub_4E46A0(1, v1, v5, v3, v4);
        }
        v19 = sub_401505(
                *(_DWORD *)(v25 + 1364),
                *(_DWORD *)(v25 + 1368),
                dword_1FDF1F4[431 * v23],
                dword_1FDF1F8[431 * v23]);
        if ( v19 >= 20 )
        {
          *(_DWORD *)(v25 + 1372) = dword_1FDF1F4[431 * v23];
          *(_DWORD *)(v25 + 1376) = dword_1FDF1F8[431 * v23];
          v1 = 2;
          return sub_4E46A0(1, v1, v5, v3, v4);
        }
      }
      v18 = *(_WORD *)(v25 + 54);
      if ( v18 >= Rand()() % 100 )
      {
        v17 = *(_WORD *)(v25 + 56);
        v16 = dword_1FDF1F4[431 * *(_WORD *)(v25 + 1504)];
        v15 = dword_1FDF1F8[431 * *(_WORD *)(v25 + 1504)];
        v14 = sub_401AB4(v25, 27);
        v13 = sub_401505(*(_DWORD *)(v25 + 1364), *(_DWORD *)(v25 + 1368), v16, v15);
        if ( sub_401BE5(v25) )
          v14 = 26;
        if ( sub_401BE5(&byte_1FDECA0[1724 * *(_WORD *)(v25 + 1504)]) && (v24 == 307 || v24 == 245) )
          v14 = 26;
        if ( *(_DWORD *)(v25 + 1344) == 5
          || *(_DWORD *)(v25 + 1364) <= *(_DWORD *)(v25 + 1424) + 30
          && *(_DWORD *)(v25 + 1364) >= *(_DWORD *)(v25 + 1424) - 30
          && *(_DWORD *)(v25 + 1368) <= *(_DWORD *)(v25 + 1428) + 30
          && *(_DWORD *)(v25 + 1368) >= *(_DWORD *)(v25 + 1428) - 30 )
        {
          if ( v13 > v14 )
          {
            v1 = 1;
          }
          else
          {
            v11 = Rand()() % 100;
            if ( v14 >= 4 && v13 <= 2 && v11 > v17 && *(_BYTE *)(v25 + 43) & 0xF )
            {
              v1 = 256;
            }
            else
            {
              v10 = v16;
              v9 = v15;
              v8 = 8;
              if ( !sub_401BE5(v25) )
              {
                v7 = 0;
                if ( *(_DWORD *)(v25 + 1364) >= 2341
                  && *(_DWORD *)(v25 + 1364) <= 2393
                  && *(_DWORD *)(v25 + 1368) >= 3907
                  && *(_DWORD *)(v25 + 1368) <= 3954
                  && *(_DWORD *)(v25 + 1632) )
                  v7 = 1;
                if ( !v7 )
                  sub_4016D6(*(_DWORD *)(v25 + 1364), *(_DWORD *)(v25 + 1368), &v16, &v15, byte_782F298, v8);
              }
              if ( v16 == v10 && v15 == v9 )
                v1 = 4096;
              else
                v1 = 256;
            }
          }
        }
        else
        {
          *(_WORD *)(v25 + 1504) = 0;
          for ( j = 0; j < 4; ++j )
            *(_WORD *)(v25 + 2 * j + 1506) = 0;
          *(_DWORD *)(v25 + 1332) = 4;
          sub_401271(1);
          if ( *(_DWORD *)(v25 + 1372) != *(_DWORD *)(v25 + 1364) || *(_DWORD *)(v25 + 1376) != *(_DWORD *)(v25 + 1368) )
            v1 = 16;
          else
            v1 = 0;
        }
      }
      else
      {
        v1 = 65536;
      }
    }
    else
    {
      *(_DWORD *)(v25 + 1332) = 4;
      v1 = 0;
    }
  }
  else
  {
    v1 = 32;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401271: using guessed type _DWORD __stdcall sub_401271(_DWORD);
// 401505: using guessed type _DWORD __cdecl sub_401505(_DWORD, _DWORD, _DWORD, _DWORD);
// 4016D6: using guessed type _DWORD __cdecl sub_4016D6(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401AB4: using guessed type _DWORD __cdecl sub_401AB4(_DWORD, _DWORD);
// 401B18: using guessed type int __thiscall sub_401B18(_DWORD);
// 401BE5: using guessed type int __thiscall sub_401BE5(_DWORD);
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];

//----- (00417EF0) --------------------------------------------------------
int __thiscall sub_417EF0(int this)
{
  char v2; // [sp+Ch] [bp-44h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  memset(&v2, -858993460, 0x44u);
  v3 = this;
  return *(_DWORD *)(this + 1588);
}

//----- (00417F30) --------------------------------------------------------
__int16 __thiscall sub_417F30(void *this, __int16 a2)
{
  int v2; // eax@1
  int v3; // edx@5
  char v5; // [sp+Ch] [bp-48h]@1
  int i; // [sp+4Ch] [bp-8h]@6
  void *v7; // [sp+50h] [bp-4h]@1

  memset(&v5, -858993460, 0x48u);
  v7 = this;
  LOWORD(v2) = a2;
  if ( a2 > 0 )
  {
    if ( a2 > 1000 || (v2 = dword_1FDF34C[431 * a2] & 0x40) == 0 )
    {
      if ( a2 > 1000 || (v3 = 1724 * a2, LOWORD(v2) = byte_1FDECB1[v3] & 1, !(byte_1FDECB1[v3] & 1)) )
      {
        for ( i = 0; i < 4; ++i )
        {
          LOWORD(v2) = (_WORD)v7;
          if ( *((_WORD *)v7 + i + 753) == a2 )
            return v2;
        }
        for ( i = 0; i < 4; ++i )
        {
          LOWORD(v2) = *((_WORD *)v7 + i + 753);
          if ( !*((_WORD *)v7 + i + 753) )
            break;
          LOWORD(v2) = i + 1;
        }
        if ( i != 4 )
        {
          LOWORD(v2) = a2;
          *((_WORD *)v7 + i + 753) = a2;
        }
      }
    }
  }
  return v2;
}
// 1FDF34C: using guessed type int dword_1FDF34C[];

//----- (00418070) --------------------------------------------------------
int __thiscall sub_418070(void *this, __int16 a2)
{
  int result; // eax@1
  char v3; // [sp+Ch] [bp-48h]@1
  int i; // [sp+4Ch] [bp-8h]@2
  int v5; // [sp+50h] [bp-4h]@1

  memset(&v3, -858993460, 0x48u);
  v5 = (int)this;
  result = a2;
  if ( a2 > 0 )
  {
    for ( i = 0; i < 4; ++i )
    {
      result = v5;
      if ( *(_WORD *)(v5 + 2 * i + 1506) == a2 )
      {
        result = i;
        *(_WORD *)(v5 + 2 * i + 1506) = 0;
        return result;
      }
    }
  }
  return result;
}

//----- (00418100) --------------------------------------------------------
int __thiscall sub_418100(void *this)
{
  int v1; // eax@10
  char v3; // [sp+0h] [bp-7Ch]@0
  int v4; // [sp+4h] [bp-78h]@0
  int v5; // [sp+8h] [bp-74h]@0
  char v6; // [sp+Ch] [bp-70h]@1
  __int16 v7; // [sp+4Ch] [bp-30h]@53
  int v8; // [sp+50h] [bp-2Ch]@50
  int v9; // [sp+54h] [bp-28h]@50
  __int16 v10; // [sp+58h] [bp-24h]@25
  int v11; // [sp+5Ch] [bp-20h]@4
  int i; // [sp+60h] [bp-1Ch]@1
  int v13[4]; // [sp+64h] [bp-18h]@3
  int v14; // [sp+74h] [bp-8h]@1
  int v15; // [sp+78h] [bp-4h]@1

  memset(&v6, -858993460, 0x70u);
  v15 = (int)this;
  v14 = sub_40116D(this);
  *(_WORD *)(v15 + 1504) = 0;
  for ( i = 0; i < 4; ++i )
    v13[i] = 100;
  v11 = 6;
  if ( *(_BYTE *)(v15 + 16) == 4 || *(_BYTE *)(v15 + 16) == 7 || *(_BYTE *)(v15 + 16) == 8 )
    v11 = 12;
  if ( *(_DWORD *)(v15 + 1368) >> 7 > 25 )
    v11 = 8;
  v1 = sub_401BE5(v15);
  if ( v1 )
  {
    v11 = 25;
  }
  else
  {
    v1 = v15;
    if ( *(_DWORD *)(v15 + 1364) >= 2341 )
    {
      if ( *(_DWORD *)(v15 + 1364) <= 2393 )
      {
        if ( *(_DWORD *)(v15 + 1368) >= 3907 )
        {
          v1 = v15;
          if ( *(_DWORD *)(v15 + 1368) <= 3954 )
          {
            if ( *(_DWORD *)(v15 + 1632) )
            {
              v1 = *(_WORD *)(v15 + 92);
              if ( v1 == 307 || *(_WORD *)(v15 + 92) == 245 )
                v11 = 25;
            }
            else
            {
              v11 = 10;
            }
          }
        }
      }
    }
  }
  for ( i = 0; i < 4; ++i )
  {
    v10 = *(_WORD *)(v15 + 2 * i + 1506);
    if ( v10 > 0 && v10 < 12800 )
    {
      if ( !dword_1FDF1D4[431 * v10] )
      {
        *(_WORD *)(v15 + 2 * i + 1506) = 0;
        goto LABEL_23;
      }
      if ( (signed int)(unsigned __int16)word_1FDECEC[862 * v10] <= 0 )
      {
        *(_WORD *)(v15 + 2 * i + 1506) = 0;
        goto LABEL_23;
      }
      if ( (signed int)(unsigned __int16)word_1FDECEC[862 * v10] <= 2 && word_1FDECC4[862 * v10] >= 100 && v10 <= 1000 )
      {
        *(_WORD *)(v15 + 2 * i + 1506) = 0;
        goto LABEL_23;
      }
      if ( v10 >= 1000 )
        goto LABEL_63;
      if ( dword_1FDF34C[431 * v10] & 0x40 )
      {
        *(_WORD *)(v15 + 2 * i + 1506) = 0;
        goto LABEL_23;
      }
      if ( word_1FDECC4[862 * v10] >= 400 && byte_1FDECB1[1724 * v10] & 1 )
      {
        *(_WORD *)(v15 + 2 * i + 1506) = 0;
      }
      else
      {
LABEL_63:
        if ( dword_1FDF1F4[431 * v10] >= *(_DWORD *)(v15 + 1364) - v11
          && dword_1FDF1F4[431 * v10] <= v11 + *(_DWORD *)(v15 + 1364)
          && dword_1FDF1F8[431 * v10] >= *(_DWORD *)(v15 + 1368) - v11
          && dword_1FDF1F8[431 * v10] <= v11 + *(_DWORD *)(v15 + 1368) )
        {
          v13[i] = sub_401505(
                     *(_DWORD *)(v15 + 1364),
                     *(_DWORD *)(v15 + 1368),
                     dword_1FDF1F4[431 * v10],
                     dword_1FDF1F8[431 * v10]);
          if ( v10 > 1000 )
            v13[i] += 2;
        }
        else
        {
          *(_WORD *)(v15 + 2 * i + 1506) = 0;
        }
      }
    }
LABEL_23:
    v1 = i + 1;
  }
  v9 = 100;
  v8 = 0;
  for ( i = 0; i < 4; ++i )
  {
    v1 = v15;
    v7 = *(_WORD *)(v15 + 2 * i + 1506);
    if ( v7 )
    {
      v1 = i;
      if ( v9 >= v13[i] )
      {
        v8 = v7;
        v1 = i;
        v9 = v13[i];
      }
    }
  }
  if ( v9 == 100 )
  {
    *(_WORD *)(v15 + 1504) = 0;
  }
  else
  {
    v1 = v15;
    *(_WORD *)(v15 + 1504) = v8;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 40116D: using guessed type int __thiscall sub_40116D(_DWORD);
// 401505: using guessed type _DWORD __cdecl sub_401505(_DWORD, _DWORD, _DWORD, _DWORD);
// 401BE5: using guessed type int __thiscall sub_401BE5(_DWORD);
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF34C: using guessed type int dword_1FDF34C[];
// 418100: using guessed type int var_18[4];

//----- (00418630) --------------------------------------------------------
int __thiscall sub_418630(int this)
{
  int v1; // eax@2
  char v3; // [sp+0h] [bp-5Ch]@0
  int v4; // [sp+4h] [bp-58h]@0
  int v5; // [sp+8h] [bp-54h]@0
  char v6; // [sp+Ch] [bp-50h]@1
  int v7; // [sp+4Ch] [bp-10h]@24
  int v8; // [sp+50h] [bp-Ch]@24
  int v9; // [sp+54h] [bp-8h]@6
  int v10; // [sp+58h] [bp-4h]@1

  memset(&v6, -858993460, 0x50u);
  v10 = this;
  if ( *(_DWORD *)(this + 1344) == 6 )
  {
    *(_DWORD *)(v10 + 1496) = 0;
    *(_DWORD *)(v10 + 1492) = 0;
    *(_DWORD *)(v10 + 1424) = *(_DWORD *)(v10 + 4 * *(_DWORD *)(v10 + 1496) + 1432);
    *(_DWORD *)(v10 + 1428) = *(_DWORD *)(v10 + 4 * *(_DWORD *)(v10 + 1496) + 1452);
    *(_DWORD *)(v10 + 1408) = 0;
    v1 = 0;
  }
  else
  {
    if ( *(_DWORD *)(v10 + 1344) >= 0 && *(_DWORD *)(v10 + 1344) <= 4 )
    {
      v9 = 0;
      while ( 1 )
      {
        while ( 1 )
        {
          while ( 1 )
          {
            if ( *(_DWORD *)(v10 + 1492) )
              --*(_DWORD *)(v10 + 1496);
            else
              ++*(_DWORD *)(v10 + 1496);
            if ( *(_DWORD *)(v10 + 1496) > -1 )
              break;
            if ( !*(_DWORD *)(v10 + 1344) )
            {
              *(_DWORD *)(v10 + 1496) = 0;
              *(_DWORD *)(v10 + 1492) = 0;
              v9 = 2;
              Log("SetSegment SegmentProgress -1 but route type 0", v10, 0);
              goto LABEL_40;
            }
            if ( *(_DWORD *)(v10 + 1344) == 1 )
            {
              *(_DWORD *)(v10 + 1496) = 0;
              *(_DWORD *)(v10 + 1492) = 0;
            }
            else
            {
              if ( *(_DWORD *)(v10 + 1344) == 2 )
              {
                *(_DWORD *)(v10 + 1496) = 0;
                *(_DWORD *)(v10 + 1492) = 0;
              }
              else
              {
                if ( *(_DWORD *)(v10 + 1344) == 3 )
                {
                  v9 = 2;
                  goto LABEL_40;
                }
                if ( *(_DWORD *)(v10 + 1344) == 4 )
                {
                  Log("SetSegment SegmentProgress -1 but route type 4", v10, 0);
                  goto LABEL_40;
                }
              }
            }
          }
          if ( *(_DWORD *)(v10 + 1496) >= 5 )
            break;
          if ( *(_DWORD *)(v10 + 4 * *(_DWORD *)(v10 + 1496) + 1432) )
          {
            v9 = 0;
            goto LABEL_40;
          }
        }
        if ( !*(_DWORD *)(v10 + 1344) )
          break;
        if ( *(_DWORD *)(v10 + 1344) == 1 )
        {
          v9 = 2;
          goto LABEL_40;
        }
        if ( *(_DWORD *)(v10 + 1344) != 2 && *(_DWORD *)(v10 + 1344) != 3 )
        {
          if ( *(_DWORD *)(v10 + 1344) == 4 )
            *(_DWORD *)(v10 + 1496) = -1;
        }
        else
        {
          *(_DWORD *)(v10 + 1496) = 4;
          *(_DWORD *)(v10 + 1492) = 1;
        }
      }
      *(_DWORD *)(v10 + 1496) = 4;
      *(_DWORD *)(v10 + 1332) = 4;
      *(_BYTE *)(v10 + 42) = *(_BYTE *)(v10 + 17);
      v8 = sub_4E4B50(v10 + 1384);
      LOBYTE(v7) = 0;
      if ( v8 > 0 )
      {
        LOBYTE(v7) = *(_BYTE *)(v8 + v10 + 1383);
        LOBYTE(v7) = v7 - 48;
        if ( (signed int)(unsigned __int8)v7 >= 1 )
        {
          if ( (signed int)(unsigned __int8)v7 <= 9 )
          {
            LOBYTE(v7) = 16 * v7;
            *(_BYTE *)(v10 + 42) |= v7;
          }
        }
      }
      sub_4016EF(1000);
      v9 = 1;
LABEL_40:
      *(_DWORD *)(v10 + 1424) = *(_DWORD *)(v10 + 4 * *(_DWORD *)(v10 + 1496) + 1432);
      *(_DWORD *)(v10 + 1428) = *(_DWORD *)(v10 + 4 * *(_DWORD *)(v10 + 1496) + 1452);
      *(_DWORD *)(v10 + 1408) = 0;
      v1 = v9;
    }
    else
    {
      Log("Wrong SetSegment", v10, 0);
      v1 = 0;
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);

//----- (00418AF0) --------------------------------------------------------
int __thiscall sub_418AF0(int this, signed int a2)
{
  int v2; // eax@67
  int v3; // ecx@69
  int v4; // eax@74
  int v5; // eax@76
  int v6; // eax@95
  char v8; // [sp+0h] [bp-11Ch]@0
  int v9; // [sp+4h] [bp-118h]@0
  int v10; // [sp+8h] [bp-114h]@0
  char v11; // [sp+Ch] [bp-110h]@1
  int v12; // [sp+4Ch] [bp-D0h]@112
  int v13; // [sp+50h] [bp-CCh]@220
  int v14; // [sp+54h] [bp-C8h]@196
  int v15; // [sp+58h] [bp-C4h]@196
  int v16; // [sp+5Ch] [bp-C0h]@187
  int v17; // [sp+60h] [bp-BCh]@187
  int v18; // [sp+64h] [bp-B8h]@175
  int v19; // [sp+68h] [bp-B4h]@169
  int v20; // [sp+6Ch] [bp-B0h]@161
  int v21; // [sp+70h] [bp-ACh]@157
  int v22; // [sp+74h] [bp-A8h]@153
  int v23; // [sp+78h] [bp-A4h]@149
  int v24; // [sp+7Ch] [bp-A0h]@145
  int v25; // [sp+80h] [bp-9Ch]@141
  int v26; // [sp+84h] [bp-98h]@137
  int v27; // [sp+88h] [bp-94h]@136
  int v28; // [sp+8Ch] [bp-90h]@112
  int v29; // [sp+90h] [bp-8Ch]@110
  int v30; // [sp+94h] [bp-88h]@110
  int v31; // [sp+98h] [bp-84h]@110
  int v32; // [sp+9Ch] [bp-80h]@107
  int i; // [sp+A0h] [bp-7Ch]@104
  int v34; // [sp+A4h] [bp-78h]@101
  int v35; // [sp+A8h] [bp-74h]@95
  int v36; // [sp+ACh] [bp-70h]@95
  int v37; // [sp+B0h] [bp-6Ch]@93
  int v38; // [sp+B4h] [bp-68h]@87
  int v39; // [sp+B8h] [bp-64h]@87
  int v40; // [sp+BCh] [bp-60h]@81
  int v41; // [sp+C0h] [bp-5Ch]@81
  int v42; // [sp+C4h] [bp-58h]@81
  int v43; // [sp+C8h] [bp-54h]@81
  int v44; // [sp+CCh] [bp-50h]@79
  int v45; // [sp+D0h] [bp-4Ch]@77
  int v46; // [sp+D4h] [bp-48h]@70
  int v47; // [sp+D8h] [bp-44h]@60
  int v48; // [sp+DCh] [bp-40h]@58
  int v49; // [sp+E0h] [bp-3Ch]@56
  int v50; // [sp+E4h] [bp-38h]@48
  int v51; // [sp+E8h] [bp-34h]@48
  int v52; // [sp+ECh] [bp-30h]@48
  int v53; // [sp+F0h] [bp-2Ch]@48
  int v54; // [sp+F4h] [bp-28h]@45
  int v55; // [sp+F8h] [bp-24h]@36
  int v56; // [sp+FCh] [bp-20h]@36
  int v57; // [sp+100h] [bp-1Ch]@36
  int v58; // [sp+104h] [bp-18h]@36
  int v59; // [sp+108h] [bp-14h]@36
  int v60; // [sp+10Ch] [bp-10h]@15
  int v61; // [sp+110h] [bp-Ch]@13
  int v62; // [sp+114h] [bp-8h]@3
  int v63; // [sp+118h] [bp-4h]@1

  memset(&v11, -858993460, 0x110u);
  v63 = this;
  *(_BYTE *)(this + 752) = 0;
  *(_BYTE *)(v63 + 753) = 0;
  *(_BYTE *)(v63 + 754) = 0;
  *(_BYTE *)(v63 + 755) = 0;
  if ( a2 >= 1000 || (signed int)*(_WORD *)(v63 + 36) >= 1000 )
  {
    if ( a2 >= 1000 )
    {
      v61 = *(_DWORD *)(v63 + 1500);
      if ( v61 <= 0 || v61 >= 7000 )
      {
        if ( *(_WORD *)(v63 + 92) == 220 || *(_WORD *)(v63 + 92) == 357 || *(_WORD *)(v63 + 92) == 219 )
        {
          *(_BYTE *)(v63 + 752) = 90;
          *(_BYTE *)(v63 + 753) = 90;
          *(_BYTE *)(v63 + 754) = 90;
          *(_BYTE *)(v63 + 755) = 90;
        }
      }
      else
      {
        v60 = (unsigned __int8)byte_BDF358[2992 * v61];
        if ( v60 > 100 )
          v60 = 100;
        *(_BYTE *)(v63 + 752) = v60;
        v60 = (unsigned __int8)byte_BDF359[2992 * v61];
        if ( v60 > 100 )
          v60 = 100;
        *(_BYTE *)(v63 + 753) = v60;
        v60 = (unsigned __int8)byte_BDF35A[2992 * v61];
        if ( v60 > 100 )
          v60 = 100;
        *(_BYTE *)(v63 + 754) = v60;
        v60 = (unsigned __int8)byte_BDF35B[2992 * v61];
        if ( v60 > 100 )
          v60 = 100;
        *(_BYTE *)(v63 + 755) = v60;
      }
    }
  }
  else
  {
    v62 = sub_401AB4(v63, 49);
    if ( v62 > 200 )
      v62 = 200;
    *(_BYTE *)(v63 + 752) = v62;
    v62 = sub_401AB4(v63, 50);
    if ( v62 > 200 )
      v62 = 200;
    *(_BYTE *)(v63 + 753) = v62;
    v62 = sub_401AB4(v63, 51);
    if ( v62 > 200 )
      v62 = 200;
    *(_BYTE *)(v63 + 754) = v62;
    v62 = sub_401AB4(v63, 52);
    if ( v62 > 200 )
      v62 = 200;
    *(_BYTE *)(v63 + 755) = v62;
    *(_BYTE *)(v63 + 94) = 0;
    *(_BYTE *)(v63 + 95) = 0;
    *(_BYTE *)(v63 + 21) = 0;
  }
  if ( a2 < 1000 )
  {
    if ( (signed int)*(_WORD *)(v63 + 92) >= 21 && (signed int)*(_WORD *)(v63 + 92) < 26
      || (signed int)*(_WORD *)(v63 + 92) >= 40
      || *(_WORD *)(v63 + 92) == 32 )
      *(_WORD *)(v63 + 92) = *(_WORD *)(v63 + 1576);
    else
      *(_DWORD *)(v63 + 1576) = *(_WORD *)(v63 + 92);
    byte_1FDECB0[1724 * a2] = 0;
  }
  *(_BYTE *)(v63 + 742) = 0;
  *(_DWORD *)(v63 + 1604) = 0;
  v59 = sub_401429(v63 + 64);
  v58 = *(_WORD *)(v63 + 76);
  v57 = *(_WORD *)(v63 + 78);
  v56 = *(_BYTE *)(v63 + 743);
  v55 = *(_BYTE *)(v63 + 926);
  if ( a2 < 1000 )
  {
    if ( *(_BYTE *)(v63 + 927) )
    {
      v55 &= 0xF0u;
      v55 >>= 4;
      if ( !v55 )
      {
        v55 = *(_BYTE *)(v63 + 926);
        v55 &= 0xFu;
      }
    }
    else
    {
      v55 &= 0xFu;
    }
  }
  sub_40192E(
    v63,
    v63 + 1204,
    v63 + 756,
    v63 + 916,
    *(_DWORD *)(v63 + 1576),
    *(_DWORD *)(v63 + 1364),
    *(_DWORD *)(v63 + 1368),
    v63 + 1604,
    v55,
    v63 + 1708);
  if ( a2 >= 1000 )
    *(_BYTE *)(v63 + 743) = v56;
  dword_1FDF2BC[431 * a2] = sub_401AB4(v63, 27);
  if ( dword_1FDEF7C[431 * a2] & 0x20000000 )
    ++dword_1FDF2BC[431 * a2];
  v54 = sub_401429(v63 + 64);
  if ( a2 < 1000 && v59 != v54 )
  {
    *(_DWORD *)(v63 + 1644) = v59;
    *(_DWORD *)(v63 + 1648) = dword_8C76270;
  }
  v53 = *(_WORD *)(v63 + 82) - *(_WORD *)(v63 + 54);
  v52 = *(_WORD *)(v63 + 86) - *(_WORD *)(v63 + 58);
  v51 = 2 * v52;
  v50 = 2 * v53;
  v51 = 2 * v52 + *(_WORD *)(v63 + 72);
  v50 = 2 * v53 + *(_WORD *)(v63 + 74);
  if ( v51 > 64000 )
    v51 = 64000;
  if ( v50 > 64000 )
    v50 = 64000;
  *(_WORD *)(v63 + 72) = v51;
  *(_WORD *)(v63 + 74) = v50;
  if ( *(_WORD *)(v63 + 76) > (signed int)*(_WORD *)(v63 + 72) )
    *(_WORD *)(v63 + 76) = *(_WORD *)(v63 + 72);
  if ( *(_WORD *)(v63 + 78) > (signed int)*(_WORD *)(v63 + 74) )
    *(_WORD *)(v63 + 78) = *(_WORD *)(v63 + 74);
  *(_WORD *)(v63 + 76) = v58;
  *(_WORD *)(v63 + 78) = v57;
  v49 = sub_401AB4(v63, 42);
  if ( v49 >= 1000 )
    v49 = 1000;
  v48 = 0;
  if ( *(_BYTE *)(v63 + 20) )
  {
    if ( *(_BYTE *)(v63 + 20) == 2 )
    {
      v2 = *(_DWORD *)(v63 + 732);
      if ( v2 & 0x20000 )
        *(_DWORD *)(v63 + 1624) += *(_BYTE *)(v63 + 90);
      v3 = *(_DWORD *)(v63 + 732);
      if ( v3 & 0x80000 )
      {
        v46 = sub_40191F(v63 + 148, 17);
        if ( v46 == 128 )
          *(_WORD *)(v63 + 66) = 105 * *(_WORD *)(v63 + 66) / 100;
      }
    }
    else
    {
      if ( *(_BYTE *)(v63 + 20) == 3 )
      {
        v4 = *(_DWORD *)(v63 + 732);
        if ( v4 & 0x40000 )
        {
          v48 = *(_WORD *)(v63 + 84);
          v48 /= 20;
        }
        v5 = *(_DWORD *)(v63 + 732);
        if ( v5 & 0x400000 )
        {
          v45 = sub_40191F(v63 + 140, 21);
          if ( v45 == 41 )
            *(_WORD *)(v63 + 66) += *(_BYTE *)(v63 + 91);
        }
      }
    }
  }
  else
  {
    if ( *(_DWORD *)(v63 + 732) & 0x80 )
    {
      v47 = *(_BYTE *)(v63 + 754) + 20;
      if ( v47 > 100 )
        v47 = 100;
      *(_BYTE *)(v63 + 754) = v47;
    }
    if ( *(_DWORD *)(v63 + 732) & 0x8000 )
    {
      v48 = 100;
      *(_WORD *)(v63 + 66) = 120 * *(_WORD *)(v63 + 66) / 100;
    }
  }
  v44 = *(_BYTE *)(v63 + 742);
  v44 = (v48 + v49 + v44) / 4;
  if ( v44 > 255 )
    v44 = 255;
  *(_BYTE *)(v63 + 742) = v44;
  v43 = sub_40191F(v63 + 140, 2);
  v42 = sub_40191F(v63 + 148, 2);
  v41 = word_9CCCC4[70 * *(_WORD *)(v63 + 140)];
  v40 = word_9CCCC4[70 * *(_WORD *)(v63 + 148)];
  if ( v41 == 47 && v40 == 45 )
    v42 = 0;
  if ( v43 <= v42 )
    *(_DWORD *)(v63 + 1540) = v43 / 3 + v42;
  else
    *(_DWORD *)(v63 + 1540) = v42 / 3 + v43;
  v39 = *(_WORD *)(v63 + 140);
  v38 = word_9CCCC6[70 * v39];
  if ( v39 >= 0 || v39 < 6500 )
  {
    if ( v38 == 64 || v38 == 192 )
    {
      if ( v41 != 44 )
      {
        if ( v40 != 47 )
        {
          v37 = sub_4014E2(v63 + 140);
          if ( v37 >= 9 )
            *(_DWORD *)(v63 + 1540) += 40;
        }
      }
    }
  }
  v36 = *(_WORD *)(v63 + 148);
  v6 = word_9CCCC6[70 * v36];
  v35 = word_9CCCC6[70 * v36];
  if ( v36 >= 0 || v36 < 6500 )
  {
    if ( v35 == 64 || v35 == 192 )
    {
      if ( v40 != 44 )
      {
        if ( v40 != 47 )
        {
          v6 = sub_4014E2(v63 + 148);
          v34 = v6;
          if ( v6 >= 9 )
          {
            v6 = *(_DWORD *)(v63 + 1540) + 40;
            *(_DWORD *)(v63 + 1540) = v6;
          }
        }
      }
    }
  }
  if ( a2 < 1000 )
  {
    *(_DWORD *)(v63 + 1560) = 0;
    *(_DWORD *)(v63 + 1556) = 0;
    *(_DWORD *)(v63 + 1620) = 0;
    *(_DWORD *)(v63 + 1624) = 0;
    for ( i = 0; i < 16; ++i )
    {
      v32 = *(_WORD *)(v63 + 8 * i + 92);
      if ( v32 > 0 && v32 <= 6500 )
      {
        v31 = sub_40103C(v63 + 8 * i + 92);
        v30 = 0;
        v29 = 0;
        if ( v31 >= 10 )
        {
          v30 = (v31 - 10) % 4 + 1;
          v29 = (v31 - 10) / 4 + 1;
        }
        v28 = word_9CCCCA[70 * v32];
        v12 = v28 - 5;
        switch ( v28 )
        {
          case 5:
            *(_DWORD *)(v63 + 1556) += 8;
            break;
          case 6:
            *(_DWORD *)(v63 + 1620) += 40;
            break;
          case 7:
            *(_DWORD *)(v63 + 1560) += 2;
            break;
          case 8:
            *(_DWORD *)(v63 + 1624) += 40;
            break;
          case 16:
            *(_DWORD *)(v63 + 1556) += 32;
            break;
          case 17:
            *(_DWORD *)(v63 + 1560) += 16;
            break;
          case 18:
            *(_DWORD *)(v63 + 1556) += 32;
            *(_DWORD *)(v63 + 1560) += 16;
            break;
          case 19:
            *(_DWORD *)(v63 + 1560) += 32;
            break;
          case 23:
            *(_DWORD *)(v63 + 1556) += 50;
            *(_DWORD *)(v63 + 1560) += 18;
            break;
          default:
            break;
        }
        switch ( v30 )
        {
          case 1:
            if ( v29 >= 2 )
              v29 = 1;
            *(_DWORD *)(v63 + 1556) += 8 * v29;
            break;
          case 2:
            *(_DWORD *)(v63 + 1620) += 40 * v29;
            break;
          case 3:
            if ( v29 >= 2 )
              v29 = 1;
            *(_DWORD *)(v63 + 1560) += 2 * v29;
            break;
          case 4:
            *(_DWORD *)(v63 + 1624) += 40 * v29;
            break;
        }
        if ( *(_DWORD *)(v63 + 1556) > 100 )
          *(_DWORD *)(v63 + 1556) = 100;
        v27 = 0;
        switch ( word_9CCCCA[70 * v32] )
        {
          case 9:
            v26 = sub_4014E2(v63 + 8 * i + 92);
            if ( v26 >= 9 )
              ++v26;
            *(_DWORD *)(v63 + 1620) += v26 + 10;
            break;
          case 10:
            v25 = sub_4014E2(v63 + 8 * i + 92);
            if ( v25 >= 9 )
              ++v25;
            *(_DWORD *)(v63 + 1624) += v25 + 10;
            break;
          case 20:
            v24 = sub_4014E2(v63 + 8 * i + 92);
            if ( v24 >= 9 )
              ++v24;
            v27 = 15 * (v24 + 10) / 10;
            *(_DWORD *)(v63 + 1620) += v27;
            break;
          case 21:
            v23 = sub_4014E2(v63 + 8 * i + 92);
            if ( v23 >= 9 )
              ++v23;
            v27 = 15 * (v23 + 10) / 10;
            *(_DWORD *)(v63 + 1624) += v27;
            break;
          case 22:
            v22 = sub_4014E2(v63 + 8 * i + 92);
            if ( v22 >= 9 )
              ++v22;
            v27 = 15 * (v22 + 10) / 10;
            *(_DWORD *)(v63 + 1620) += v27;
            *(_DWORD *)(v63 + 1624) += v27;
            break;
          case 25:
            v21 = sub_4014E2(v63 + 8 * i + 92);
            if ( v21 >= 9 )
              ++v21;
            v27 = 30 * (v21 + 10) / 10;
            *(_DWORD *)(v63 + 1620) += v27;
            break;
          case 26:
            v20 = sub_4014E2(v63 + 8 * i + 92);
            if ( v20 >= 9 )
              ++v20;
            v27 = 30 * (v20 + 10) / 10;
            *(_DWORD *)(v63 + 1620) += v27;
            *(_DWORD *)(v63 + 1624) += v27 + 15;
            break;
        }
      }
    }
    for ( i = 0; i < 16; ++i )
    {
      if ( v63 != -1204 )
      {
        v19 = *(_BYTE *)(v63 + 8 * i + 1204);
        if ( v19 )
        {
          if ( v19 == 8 )
            *(_WORD *)(v63 + 1712) = *(_WORD *)(v63 + 8 * i + 1206);
          if ( v19 == 39 )
            *(_DWORD *)(v63 + 1560) += 200;
        }
      }
    }
    v18 = 0;
    if ( dword_8C76258[0] > 0 && dword_8C76258[0] == *(_WORD *)(v63 + 18)
      || dword_8C7625C > 0 && dword_8C7625C == *(_WORD *)(v63 + 18)
      || dword_8C76260 > 0 && dword_8C76260 == *(_WORD *)(v63 + 18)
      || dword_8C76264 > 0 && dword_8C76264 == *(_WORD *)(v63 + 18) )
    {
      *(_DWORD *)(v63 + 1560) += 3;
      v18 = 1;
    }
    if ( dword_8C7626C && dword_8C7626C == *(_BYTE *)(v63 + 16) && v18 == 1 )
    {
      v17 = 110 * *(_WORD *)(v63 + 72) / 100;
      v16 = 110 * *(_WORD *)(v63 + 74) / 100;
      if ( v17 > 64000 )
        v17 = 64000;
      if ( v16 > 64000 )
        v16 = 64000;
      *(_WORD *)(v63 + 72) = v17;
      *(_WORD *)(v63 + 74) = v16;
      if ( *(_WORD *)(v63 + 76) > (signed int)*(_WORD *)(v63 + 72) )
        *(_WORD *)(v63 + 76) = *(_WORD *)(v63 + 72);
      if ( *(_WORD *)(v63 + 78) > (signed int)*(_WORD *)(v63 + 74) )
        *(_WORD *)(v63 + 78) = *(_WORD *)(v63 + 74);
      *(_DWORD *)(v63 + 1560) += 3;
    }
    v15 = 0;
    v14 = dword_5A105C / 5;
    if ( *(_BYTE *)(v63 + 16) != 7 || dword_5A1058 >= dword_5A105C - v14 )
    {
      if ( *(_BYTE *)(v63 + 16) == 8 && dword_5A1058 > v14 + dword_5A105C )
      {
        if ( v18 == 1 )
        {
          if ( dword_5A1058 <= 3 * v14 + dword_5A105C )
          {
            *(_WORD *)(v63 + 68) = 105 * *(_WORD *)(v63 + 68) / 100;
            *(_BYTE *)(v63 + 749) += 2;
          }
          else
          {
            *(_WORD *)(v63 + 68) = 110 * *(_WORD *)(v63 + 68) / 100;
            *(_BYTE *)(v63 + 749) += 4;
          }
        }
        else
        {
          if ( dword_5A1058 <= 3 * v14 + dword_5A105C )
          {
            *(_WORD *)(v63 + 68) = 103 * *(_WORD *)(v63 + 68) / 100;
            ++*(_BYTE *)(v63 + 749);
          }
          else
          {
            *(_WORD *)(v63 + 68) = 105 * *(_WORD *)(v63 + 68) / 100;
            *(_BYTE *)(v63 + 749) += 4;
          }
        }
      }
    }
    else
    {
      if ( v18 == 1 )
      {
        if ( dword_5A1058 >= dword_5A105C - 3 * v14 )
        {
          *(_WORD *)(v63 + 68) = 105 * *(_WORD *)(v63 + 68) / 100;
          *(_BYTE *)(v63 + 749) += 2;
        }
        else
        {
          *(_WORD *)(v63 + 68) = 110 * *(_WORD *)(v63 + 68) / 100;
          *(_BYTE *)(v63 + 749) += 4;
        }
      }
      else
      {
        if ( dword_5A1058 >= dword_5A105C - 3 * v14 )
        {
          *(_WORD *)(v63 + 68) = 103 * *(_WORD *)(v63 + 68) / 100;
          ++*(_BYTE *)(v63 + 749);
        }
        else
        {
          *(_WORD *)(v63 + 68) = 105 * *(_WORD *)(v63 + 68) / 100;
          *(_BYTE *)(v63 + 749) += 2;
        }
      }
    }
    if ( *(_BYTE *)(v63 + 98) == 28 && *(_BYTE *)(v63 + 99) == dword_5A1054 + 1 && qword_8C761C8 )
    {
      v13 = sub_4E5390(qword_8C761C8, (unsigned int)&unk_5F5E100, 0);
      if ( v13 > 100 )
        v13 = 100;
      *(_DWORD *)(v63 + 1556) += v13;
      if ( v13 > 79 )
        *(_DWORD *)(v63 + 1560) += 20;
    }
    if ( *(_DWORD *)(v63 + 1560) > 400 )
      *(_DWORD *)(v63 + 1560) = 400;
    v6 = sub_401640(v63);
    if ( v6 == 2 )
    {
      if ( *(_BYTE *)(v63 + 20) )
      {
        if ( *(_BYTE *)(v63 + 20) == 1 )
        {
          v6 = (unsigned int)&unk_800000 & *(_DWORD *)(v63 + 732);
          if ( v6 )
          {
            *(_DWORD *)(v63 + 1612) = 200;
            *(_DWORD *)(v63 + 1616) = 20;
          }
          else
          {
            v6 = v63;
            *(_DWORD *)(v63 + 1612) = 500;
            *(_DWORD *)(v63 + 1616) = 20;
          }
        }
        else
        {
          v6 = *(_BYTE *)(v63 + 20);
          if ( v6 == 2 )
          {
            if ( *(_DWORD *)(v63 + 732) & 0x80 )
            {
              v6 = v63;
              *(_DWORD *)(v63 + 1612) = 500;
            }
            else
            {
              *(_DWORD *)(v63 + 1612) = 200;
            }
          }
          else
          {
            v6 = *(_BYTE *)(v63 + 20);
            if ( v6 == 3 )
            {
              *(_DWORD *)(v63 + 1612) = 100;
              *(_DWORD *)(v63 + 1616) = 10;
            }
          }
        }
      }
      else
      {
        v6 = v63;
        if ( *(_DWORD *)(v63 + 732) & 0x8000 )
        {
          *(_DWORD *)(v63 + 1612) = 200;
          v6 = v63;
          *(_DWORD *)(v63 + 1616) = 30;
        }
        else
        {
          *(_DWORD *)(v63 + 1612) = 600;
          *(_DWORD *)(v63 + 1616) = 20;
        }
      }
    }
  }
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 40103C: using guessed type _DWORD __cdecl sub_40103C(_DWORD);
// 401429: using guessed type _DWORD __cdecl sub_401429(_DWORD);
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 40192E: using guessed type _DWORD __cdecl sub_40192E(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401AB4: using guessed type _DWORD __cdecl sub_401AB4(_DWORD, _DWORD);
// 5A1054: using guessed type int dword_5A1054;
// 5A1058: using guessed type int dword_5A1058;
// 5A105C: using guessed type int dword_5A105C;
// 9CCCC4: using guessed type __int16 word_9CCCC4[];
// 9CCCC6: using guessed type __int16 word_9CCCC6[];
// 9CCCCA: using guessed type __int16 word_9CCCCA[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDF2BC: using guessed type int dword_1FDF2BC[];
// 8C761C8: using guessed type __int64 qword_8C761C8;
// 8C76258: using guessed type int dword_8C76258[];
// 8C7625C: using guessed type int dword_8C7625C;
// 8C76260: using guessed type int dword_8C76260;
// 8C76264: using guessed type int dword_8C76264;
// 8C7626C: using guessed type int dword_8C7626C;
// 8C76270: using guessed type int dword_8C76270;

//----- (0041A760) --------------------------------------------------------
int __thiscall sub_41A760(int this, int a2)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-60h]@0
  int v5; // [sp+4h] [bp-5Ch]@0
  int v6; // [sp+8h] [bp-58h]@0
  char v7; // [sp+Ch] [bp-54h]@1
  int i; // [sp+4Ch] [bp-14h]@13
  int v9; // [sp+50h] [bp-10h]@13
  int v10; // [sp+54h] [bp-Ch]@3
  int v11; // [sp+58h] [bp-8h]@3
  int v12; // [sp+5Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x54u);
  v12 = this;
  if ( *(_BYTE *)(this + 43) & 0xF )
  {
    v11 = sub_401429(v12 + 64);
    v10 = 8 * v11 / 4;
    if ( v10 >= 24 )
      v10 = 23;
    *(_DWORD *)(v12 + 1348) = *(_DWORD *)(v12 + 1364);
    *(_DWORD *)(v12 + 1352) = *(_DWORD *)(v12 + 1368);
    *(_DWORD *)(v12 + 1372) = *(_DWORD *)(v12 + 1348);
    *(_DWORD *)(v12 + 1376) = *(_DWORD *)(v12 + 1352);
    if ( dword_1FDF1F4[431 * a2] <= *(_DWORD *)(v12 + 1348) )
    {
      if ( dword_1FDF1F4[431 * a2] < *(_DWORD *)(v12 + 1348) )
        *(_DWORD *)(v12 + 1372) += Rand()() % 2 + 1;
    }
    else
    {
      *(_DWORD *)(v12 + 1372) -= Rand()() % 2 + 1;
    }
    if ( dword_1FDF1F8[431 * a2] <= *(_DWORD *)(v12 + 1352) )
    {
      if ( dword_1FDF1F8[431 * a2] < *(_DWORD *)(v12 + 1352) )
        *(_DWORD *)(v12 + 1376) += Rand()() % 2 + 1;
    }
    else
    {
      *(_DWORD *)(v12 + 1376) -= Rand()() % 2 + 1;
    }
    sub_4015D2(0, v12 + 1372, v12 + 1376);
    v9 = 8;
    for ( i = v10; ; --i )
    {
      if ( i >= 0 )
      {
        sub_4011F9(
          *(_DWORD *)(v12 + 1348),
          *(_DWORD *)(v12 + 1352),
          v12 + 1372,
          v12 + 1376,
          v12 + 1384,
          i,
          byte_782F298,
          v9);
        if ( *(&word_34EA550[4096 * *(_DWORD *)(v12 + 1376)] + *(_DWORD *)(v12 + 1372)) )
        {
          if ( i == v10 )
            continue;
          sub_4015D2(0, v12 + 1372, v12 + 1376);
          sub_4011F9(
            *(_DWORD *)(v12 + 1348),
            *(_DWORD *)(v12 + 1352),
            v12 + 1372,
            v12 + 1376,
            v12 + 1384,
            i,
            byte_782F298,
            v9);
          if ( *(&word_34EA550[4096 * *(_DWORD *)(v12 + 1376)] + *(_DWORD *)(v12 + 1372)) )
            continue;
        }
      }
      break;
    }
    if ( i == -1 || (v2 = v12, !*(_BYTE *)(v12 + 1384)) )
    {
      *(_DWORD *)(v12 + 1372) = *(_DWORD *)(v12 + 1364);
      v2 = v12;
      *(_DWORD *)(v12 + 1376) = *(_DWORD *)(v12 + 1368);
      *(_BYTE *)(v12 + 1384) = 0;
    }
  }
  else
  {
    *(_DWORD *)(v12 + 1372) = *(_DWORD *)(v12 + 1364);
    v2 = v12;
    *(_DWORD *)(v12 + 1376) = *(_DWORD *)(v12 + 1368);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4011F9: using guessed type _DWORD __cdecl sub_4011F9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401429: using guessed type _DWORD __cdecl sub_401429(_DWORD);
// 4015D2: using guessed type _DWORD __cdecl sub_4015D2(_DWORD, _DWORD, _DWORD);
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 34EA550: using guessed type __int16 word_34EA550[];

//----- (0041ABC0) --------------------------------------------------------
int __thiscall sub_41ABC0(int this)
{
  int v1; // eax@2
  char v3; // [sp+0h] [bp-60h]@0
  int v4; // [sp+4h] [bp-5Ch]@0
  int v5; // [sp+8h] [bp-58h]@0
  char v6; // [sp+Ch] [bp-54h]@1
  int i; // [sp+4Ch] [bp-14h]@5
  int v8; // [sp+50h] [bp-10h]@5
  int v9; // [sp+54h] [bp-Ch]@3
  int v10; // [sp+58h] [bp-8h]@3
  int v11; // [sp+5Ch] [bp-4h]@1

  memset(&v6, -858993460, 0x54u);
  v11 = this;
  if ( *(_BYTE *)(this + 43) & 0xF )
  {
    v10 = sub_401429(v11 + 64);
    v9 = 8 * v10 / 4;
    if ( v9 >= 24 )
      v9 = 23;
    *(_DWORD *)(v11 + 1348) = *(_DWORD *)(v11 + 1364);
    *(_DWORD *)(v11 + 1352) = *(_DWORD *)(v11 + 1368);
    *(_DWORD *)(v11 + 1372) = *(_DWORD *)(v11 + 1348) + Rand()() % 7 - 3;
    *(_DWORD *)(v11 + 1376) = *(_DWORD *)(v11 + 1352) + Rand()() % 7 - 3;
    sub_4015D2(0, v11 + 1372, v11 + 1376);
    v8 = 8;
    for ( i = v9; ; --i )
    {
      if ( i >= 0 )
      {
        sub_4011F9(
          *(_DWORD *)(v11 + 1348),
          *(_DWORD *)(v11 + 1352),
          v11 + 1372,
          v11 + 1376,
          v11 + 1384,
          i,
          byte_782F298,
          v8);
        if ( *(&word_34EA550[4096 * *(_DWORD *)(v11 + 1376)] + *(_DWORD *)(v11 + 1372)) )
        {
          if ( i == v9 )
            continue;
          sub_4015D2(0, v11 + 1372, v11 + 1376);
          sub_4011F9(
            *(_DWORD *)(v11 + 1348),
            *(_DWORD *)(v11 + 1352),
            v11 + 1372,
            v11 + 1376,
            v11 + 1384,
            i,
            byte_782F298,
            v8);
          if ( *(&word_34EA550[4096 * *(_DWORD *)(v11 + 1376)] + *(_DWORD *)(v11 + 1372)) )
            continue;
        }
      }
      break;
    }
    if ( i == -1 || (v1 = *(_BYTE *)(v11 + 1384)) == 0 )
    {
      *(_DWORD *)(v11 + 1372) = *(_DWORD *)(v11 + 1364);
      v1 = *(_DWORD *)(v11 + 1368);
      *(_DWORD *)(v11 + 1376) = v1;
      *(_BYTE *)(v11 + 1384) = 0;
    }
  }
  else
  {
    *(_DWORD *)(v11 + 1372) = *(_DWORD *)(v11 + 1364);
    v1 = v11;
    *(_DWORD *)(v11 + 1376) = *(_DWORD *)(v11 + 1368);
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4011F9: using guessed type _DWORD __cdecl sub_4011F9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401429: using guessed type _DWORD __cdecl sub_401429(_DWORD);
// 4015D2: using guessed type _DWORD __cdecl sub_4015D2(_DWORD, _DWORD, _DWORD);
// 34EA550: using guessed type __int16 word_34EA550[];

//----- (0041AEF0) --------------------------------------------------------
int __thiscall sub_41AEF0(int this, int a2)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-60h]@0
  int v5; // [sp+4h] [bp-5Ch]@0
  int v6; // [sp+8h] [bp-58h]@0
  char v7; // [sp+Ch] [bp-54h]@1
  int i; // [sp+4Ch] [bp-14h]@5
  int v9; // [sp+50h] [bp-10h]@5
  int v10; // [sp+54h] [bp-Ch]@3
  int v11; // [sp+58h] [bp-8h]@3
  int v12; // [sp+5Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x54u);
  v12 = this;
  if ( *(_BYTE *)(this + 43) & 0xF )
  {
    v11 = sub_401429(v12 + 64);
    v10 = 8 * v11 / 4;
    if ( v10 >= 24 )
      v10 = 23;
    *(_DWORD *)(v12 + 1348) = *(_DWORD *)(v12 + 1364);
    *(_DWORD *)(v12 + 1352) = *(_DWORD *)(v12 + 1368);
    *(_DWORD *)(v12 + 1372) = dword_1FDF1F4[431 * a2];
    *(_DWORD *)(v12 + 1376) = dword_1FDF1F8[431 * a2];
    v9 = 8;
    v2 = sub_4015D2(0, v12 + 1372, v12 + 1376);
    for ( i = v10; i >= 0; --i )
    {
      sub_4011F9(
        *(_DWORD *)(v12 + 1348),
        *(_DWORD *)(v12 + 1352),
        v12 + 1372,
        v12 + 1376,
        v12 + 1384,
        i,
        byte_782F298,
        v9);
      v2 = (unsigned __int16)*(&word_34EA550[4096 * *(_DWORD *)(v12 + 1376)] + *(_DWORD *)(v12 + 1372));
      if ( !*(&word_34EA550[4096 * *(_DWORD *)(v12 + 1376)] + *(_DWORD *)(v12 + 1372)) )
        break;
      if ( i != v10 )
      {
        sub_4015D2(0, v12 + 1372, v12 + 1376);
        sub_4011F9(
          *(_DWORD *)(v12 + 1348),
          *(_DWORD *)(v12 + 1352),
          v12 + 1372,
          v12 + 1376,
          v12 + 1384,
          i,
          byte_782F298,
          v9);
        v2 = (unsigned __int16)*(&word_34EA550[4096 * *(_DWORD *)(v12 + 1376)] + *(_DWORD *)(v12 + 1372));
        if ( !*(&word_34EA550[4096 * *(_DWORD *)(v12 + 1376)] + *(_DWORD *)(v12 + 1372)) )
          break;
      }
      v2 = i - 1;
    }
    if ( i == -1 || !*(_BYTE *)(v12 + 1384) )
    {
      *(_DWORD *)(v12 + 1372) = *(_DWORD *)(v12 + 1364);
      *(_DWORD *)(v12 + 1376) = *(_DWORD *)(v12 + 1368);
      v2 = v12;
      *(_BYTE *)(v12 + 1384) = 0;
    }
  }
  else
  {
    *(_DWORD *)(v12 + 1372) = *(_DWORD *)(v12 + 1364);
    v2 = v12;
    *(_DWORD *)(v12 + 1376) = *(_DWORD *)(v12 + 1368);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4011F9: using guessed type _DWORD __cdecl sub_4011F9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401429: using guessed type _DWORD __cdecl sub_401429(_DWORD);
// 4015D2: using guessed type _DWORD __cdecl sub_4015D2(_DWORD, _DWORD, _DWORD);
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 34EA550: using guessed type __int16 word_34EA550[];

//----- (0041B210) --------------------------------------------------------
int __thiscall sub_41B210(int this)
{
  int v1; // eax@4
  char v3; // [sp+0h] [bp-88h]@0
  int v4; // [sp+4h] [bp-84h]@0
  int v5; // [sp+8h] [bp-80h]@0
  char v6; // [sp+Ch] [bp-7Ch]@1
  unsigned int v7; // [sp+4Ch] [bp-3Ch]@12
  unsigned int v8; // [sp+50h] [bp-38h]@12
  unsigned int v9; // [sp+54h] [bp-34h]@12
  unsigned int v10; // [sp+58h] [bp-30h]@12
  unsigned int v11; // [sp+5Ch] [bp-2Ch]@12
  int v12; // [sp+60h] [bp-28h]@9
  unsigned int v13; // [sp+64h] [bp-24h]@9
  int v14; // [sp+68h] [bp-20h]@9
  unsigned int v15; // [sp+6Ch] [bp-1Ch]@9
  int v16; // [sp+70h] [bp-18h]@7
  int v17; // [sp+74h] [bp-14h]@3
  int v18; // [sp+78h] [bp-10h]@1
  int v19; // [sp+7Ch] [bp-Ch]@1
  int v20; // [sp+80h] [bp-8h]@1
  int v21; // [sp+84h] [bp-4h]@1

  memset(&v6, -858993460, 0x7Cu);
  v21 = this;
  v20 = 0;
  v19 = *(_BYTE *)(this + 20);
  v18 = 0;
  if ( *(_DWORD *)(this + 1576) % 10 > 5 )
    v18 = 1;
  v17 = 0;
  if ( *(_DWORD *)(v21 + 28) <= 0xFFB43480u )
  {
    if ( sub_4017F3(v21) )
    {
      v16 = *(_WORD *)(v21 + 36);
      if ( v16 <= dword_5A0A58 - 1 )
      {
        v15 = *(_DWORD *)(v21 + 28);
        v14 = 0;
        v13 = 0;
        v12 = sub_401640(v21);
        if ( v12 == 2 )
        {
          v14 = dword_598574[v16];
          v13 = (unsigned int)*(&off_598578 + v16);
        }
        else
        {
          v14 = dword_597F28[v16];
          v13 = dword_597F2C[v16];
        }
        v11 = (v13 - v14) >> 2;
        v10 = v11 + v14;
        v9 = v14 + 2 * ((v13 - v14) >> 2);
        v8 = 3 * ((v13 - v14) >> 2) + v14;
        v7 = v13;
        if ( v15 <= v8 )
        {
          if ( v15 <= v9 )
          {
            if ( v15 > v10 )
              v17 = 1;
          }
          else
          {
            v17 = 2;
          }
        }
        else
        {
          v17 = 3;
        }
        if ( v15 < v13 )
        {
          if ( v15 < v8 || *(_DWORD *)(v21 + 1416) >= 3 )
          {
            if ( v15 < v9 || *(_DWORD *)(v21 + 1416) >= 2 )
            {
              if ( v15 < v10 || *(_DWORD *)(v21 + 1416) >= 1 )
              {
                v1 = v20;
                return sub_4E46A0(1, v1, v5, v3, v4);
              }
              v20 = 1;
              *(_DWORD *)(v21 + 1416) = 1;
            }
            else
            {
              v20 = 2;
              *(_DWORD *)(v21 + 1416) = 2;
            }
          }
          else
          {
            v20 = 3;
            *(_DWORD *)(v21 + 1416) = 3;
          }
        }
        else
        {
          ++*(_WORD *)(v21 + 36);
          *(_WORD *)(v21 + 64) = *(_WORD *)(v21 + 36);
          sub_4015FA(v21, *(_DWORD *)(v21 + 1576), v21 + 916);
          sub_401375(v21, *(_DWORD *)(v21 + 1576));
          sub_40107D(v21, *(_DWORD *)(v21 + 1576));
          sub_401ADC(v21, *(_DWORD *)(v21 + 1576));
          sub_40175D(v21, *(_DWORD *)(v21 + 1576));
          if ( *(_DWORD *)(v21 + 28) >= 0x77359400u && !sub_4017F3(v21) && sub_401640(v21) < 2 )
            *(_DWORD *)(v21 + 28) = dword_597F28[*(_WORD *)(v21 + 36)];
          sub_4016EF(0);
          *(_WORD *)(v21 + 76) = *(_WORD *)(v21 + 72);
          *(_WORD *)(v21 + 78) = *(_WORD *)(v21 + 74);
          v20 = 4;
          *(_DWORD *)(v21 + 1416) = 0;
        }
        if ( v20 < 1 || v20 > 3 )
        {
          v1 = v20;
        }
        else
        {
          *(_WORD *)(v21 + 76) = *(_WORD *)(v21 + 72);
          *(_WORD *)(v21 + 78) = *(_WORD *)(v21 + 74);
          sub_4016EF(0);
          v1 = v20;
        }
      }
      else
      {
        v1 = 0;
      }
    }
    else
    {
      v1 = 0;
    }
  }
  else
  {
    *(_DWORD *)(v21 + 28) = -294967296;
    v1 = 0;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 40107D: using guessed type _DWORD __cdecl sub_40107D(_DWORD, _DWORD);
// 401375: using guessed type _DWORD __cdecl sub_401375(_DWORD, _DWORD);
// 4015FA: using guessed type _DWORD __cdecl sub_4015FA(_DWORD, _DWORD, _DWORD);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 40175D: using guessed type _DWORD __cdecl sub_40175D(_DWORD, _DWORD);
// 4017F3: using guessed type int __thiscall sub_4017F3(_DWORD);
// 401ADC: using guessed type _DWORD __cdecl sub_401ADC(_DWORD, _DWORD);
// 597F28: using guessed type int dword_597F28[];
// 597F2C: using guessed type int dword_597F2C[];
// 598574: using guessed type int dword_598574[];
// 598578: using guessed type void *off_598578;
// 5A0A58: using guessed type int dword_5A0A58;

//----- (0041B640) --------------------------------------------------------
int __thiscall sub_41B640(int this, int a2)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-64h]@0
  int v5; // [sp+4h] [bp-60h]@0
  int v6; // [sp+8h] [bp-5Ch]@0
  char v7; // [sp+Ch] [bp-58h]@1
  int i; // [sp+4Ch] [bp-18h]@14
  int v9; // [sp+50h] [bp-14h]@14
  int v10; // [sp+54h] [bp-10h]@6
  int v11; // [sp+58h] [bp-Ch]@3
  int v12; // [sp+5Ch] [bp-8h]@3
  int v13; // [sp+60h] [bp-4h]@1

  memset(&v7, -858993460, 0x58u);
  v13 = this;
  if ( *(_BYTE *)(this + 43) & 0xF )
  {
    v12 = sub_401429(v13 + 64);
    v11 = 0;
    if ( *(_DWORD *)(v13 + 1332) == 5 )
      v11 = 4 * v12 / 4;
    else
      v11 = 6 * v12 / 4;
    v10 = *(_WORD *)(v13 + 52);
    if ( v10 )
    {
      v10 = *(_DWORD *)(v13 + 1332) == 5 ? 4 * v10 / 4 : 6 * v10 / 4;
      if ( v11 > v10 )
        v11 = v10;
    }
    if ( v11 >= 24 )
      v11 = 23;
    *(_DWORD *)(v13 + 1348) = *(_DWORD *)(v13 + 1364);
    *(_DWORD *)(v13 + 1352) = *(_DWORD *)(v13 + 1368);
    *(_DWORD *)(v13 + 1372) = *(_DWORD *)(v13 + 1424);
    *(_DWORD *)(v13 + 1376) = *(_DWORD *)(v13 + 1428);
    v9 = 8;
    for ( i = v11; ; --i )
    {
      if ( i >= 0 )
      {
        sub_4011F9(
          *(_DWORD *)(v13 + 1348),
          *(_DWORD *)(v13 + 1352),
          v13 + 1372,
          v13 + 1376,
          v13 + 1384,
          i,
          byte_782F298,
          v9);
        if ( *(&word_34EA550[4096 * *(_DWORD *)(v13 + 1376)] + *(_DWORD *)(v13 + 1372)) )
        {
          if ( i == v11 )
            continue;
          sub_4015D2(0, v13 + 1372, v13 + 1376);
          sub_4011F9(
            *(_DWORD *)(v13 + 1348),
            *(_DWORD *)(v13 + 1352),
            v13 + 1372,
            v13 + 1376,
            v13 + 1384,
            i,
            byte_782F298,
            v9);
          if ( *(&word_34EA550[4096 * *(_DWORD *)(v13 + 1376)] + *(_DWORD *)(v13 + 1372)) )
            continue;
        }
      }
      break;
    }
    if ( i < 0 || (v2 = *(_BYTE *)(v13 + 1384)) == 0 )
    {
      *(_DWORD *)(v13 + 1372) = *(_DWORD *)(v13 + 1364);
      v2 = *(_DWORD *)(v13 + 1368);
      *(_DWORD *)(v13 + 1376) = v2;
      *(_BYTE *)(v13 + 1384) = 0;
    }
  }
  else
  {
    *(_DWORD *)(v13 + 1372) = *(_DWORD *)(v13 + 1364);
    v2 = v13;
    *(_DWORD *)(v13 + 1376) = *(_DWORD *)(v13 + 1368);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4011F9: using guessed type _DWORD __cdecl sub_4011F9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401429: using guessed type _DWORD __cdecl sub_401429(_DWORD);
// 4015D2: using guessed type _DWORD __cdecl sub_4015D2(_DWORD, _DWORD, _DWORD);
// 34EA550: using guessed type __int16 word_34EA550[];

//----- (0041B9C0) --------------------------------------------------------
int __thiscall sub_41B9C0(int this)
{
  int v1; // eax@2
  char v3; // [sp+0h] [bp-84h]@0
  int v4; // [sp+4h] [bp-80h]@0
  int v5; // [sp+8h] [bp-7Ch]@0
  char v6; // [sp+Ch] [bp-78h]@1
  int v7; // [sp+4Ch] [bp-38h]@21
  int v8; // [sp+50h] [bp-34h]@17
  int v9; // [sp+54h] [bp-30h]@16
  __int64 v10; // [sp+58h] [bp-2Ch]@6
  int v11; // [sp+60h] [bp-24h]@6
  int v12; // [sp+64h] [bp-20h]@6
  int v13; // [sp+68h] [bp-1Ch]@6
  int v14; // [sp+6Ch] [bp-18h]@6
  int v15; // [sp+70h] [bp-14h]@3
  int v16; // [sp+74h] [bp-10h]@3
  int v17; // [sp+78h] [bp-Ch]@3
  int v18; // [sp+7Ch] [bp-8h]@3
  int v19; // [sp+80h] [bp-4h]@1

  memset(&v6, -858993460, 0x78u);
  v19 = this;
  if ( *(_DWORD *)(this + 1704) == 1 )
  {
    v1 = 0;
  }
  else
  {
    v18 = 9;
    v17 = 9;
    v16 = *(_DWORD *)(v19 + 1364) - 4;
    v15 = *(_DWORD *)(v19 + 1368) - 4;
    if ( *(_BYTE *)(v19 + 16) == 7 || *(_BYTE *)(v19 + 16) == 8 )
    {
      v17 = 13;
      v18 = 13;
      v16 = *(_DWORD *)(v19 + 1364) - 6;
      v15 = *(_DWORD *)(v19 + 1368) - 6;
    }
    v14 = v16;
    v13 = v15;
    v12 = v17 + v16;
    v11 = v18 + v15;
    for ( HIDWORD(v10) = v15; SHIDWORD(v10) < v11; ++HIDWORD(v10) )
    {
      LODWORD(v10) = v14;
      while ( (signed int)v10 < v12 )
      {
        if ( v10 != *(_QWORD *)(v19 + 1364) )
        {
          if ( v10 >= 0 )
          {
            if ( (signed int)v10 <= 4096 )
            {
              if ( SHIDWORD(v10) <= 4096 )
              {
                v9 = (unsigned __int16)*(&word_34EA550[4096 * HIDWORD(v10)] + v10);
                if ( v9 )
                {
                  v8 = (unsigned __int16)word_1FDECEC[862 * v9];
                  if ( v8 > 0 )
                  {
                    if ( dword_1FDF1D4[431 * v9] && (v9 > 1000 || !(dword_1FDF34C[431 * v9] & 0x40)) )
                    {
                      v7 = byte_1FDECB0[1724 * v9];
                      if ( (signed int)*(_BYTE *)(v19 + 16) < 0
                        || (signed int)*(_BYTE *)(v19 + 16) >= 10
                        || v7 < 0
                        || v7 >= 10 )
                      {
                        Log("err,clan out or range", v19, 0);
                        v1 = 0;
                        return sub_4E46A0(1, v1, v5, v3, v4);
                      }
                      if ( *(&dword_5970C0[10 * *(_BYTE *)(v19 + 16)] + v7) <= 0 )
                      {
                        v1 = v9;
                        return sub_4E46A0(1, v1, v5, v3, v4);
                      }
                    }
                  }
                }
              }
            }
          }
        }
        LODWORD(v10) = v10 + 1;
      }
    }
    v1 = 0;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 5970C0: using guessed type int dword_5970C0[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF34C: using guessed type int dword_1FDF34C[];
// 34EA550: using guessed type __int16 word_34EA550[];

//----- (0041BC90) --------------------------------------------------------
int __thiscall sub_41BC90(void *this)
{
  int v1; // eax@3
  char v3; // [sp+0h] [bp-50h]@0
  int v4; // [sp+4h] [bp-4Ch]@0
  int v5; // [sp+8h] [bp-48h]@0
  char v6; // [sp+Ch] [bp-44h]@1
  void *v7; // [sp+4Ch] [bp-4h]@1

  memset(&v6, -858993460, 0x44u);
  v7 = this;
  if ( sub_401640(this) == 1 )
  {
    if ( *((_WORD *)v7 + 18) >= dword_5A0A58 - 1 )
    {
      v1 = 0;
      return sub_4E46A0(1, v1, v5, v3, v4);
    }
    if ( (signed int)*((_WORD *)v7 + 18) < 354 )
    {
      v1 = 1;
      return sub_4E46A0(1, v1, v5, v3, v4);
    }
    if ( (signed int)*((_WORD *)v7 + 18) < 369 )
    {
      if ( sub_401A55(*((_BYTE *)v7 + 918), 0) )
        v1 = 1;
      else
        v1 = 0;
      return sub_4E46A0(1, v1, v5, v3, v4);
    }
    if ( (signed int)*((_WORD *)v7 + 18) < 400 )
    {
      if ( sub_401A55(*((_BYTE *)v7 + 918), 1) )
        v1 = 1;
      else
        v1 = 0;
      return sub_4E46A0(1, v1, v5, v3, v4);
    }
LABEL_24:
    v1 = 1;
    return sub_4E46A0(1, v1, v5, v3, v4);
  }
  if ( sub_401640(v7) != 2 )
    goto LABEL_24;
  if ( (signed int)*((_WORD *)v7 + 18) < 89 )
  {
    if ( (signed int)*((_WORD *)v7 + 18) < 39 )
      goto LABEL_24;
    if ( sub_401A55(*((_BYTE *)v7 + 921), 0) )
      v1 = 1;
    else
      v1 = 0;
  }
  else
  {
    if ( sub_401A55(*((_BYTE *)v7 + 921), 1) )
      v1 = 1;
    else
      v1 = 0;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 401A55: using guessed type _DWORD __cdecl sub_401A55(char, _DWORD);
// 5A0A58: using guessed type int dword_5A0A58;

//----- (0041BE40) --------------------------------------------------------
int __thiscall sub_41BE40(int this)
{
  char v2; // [sp+Ch] [bp-50h]@1
  int v3; // [sp+4Ch] [bp-10h]@1
  int v4; // [sp+50h] [bp-Ch]@1
  int v5; // [sp+54h] [bp-8h]@1
  int v6; // [sp+58h] [bp-4h]@1

  memset(&v2, -858993460, 0x50u);
  v6 = this;
  v5 = 0;
  v4 = *(_DWORD *)(this + 1364) >> 7;
  v3 = *(_DWORD *)(this + 1368) >> 7;
  if ( v4 == 8 && v3 == 13 && dword_8C76348 )
  {
    v5 = 1;
  }
  else
  {
    if ( v4 != 20 || v3 != 13 )
    {
      if ( v4 != 1 || v3 != 1 )
      {
        if ( v4 != 1 || v3 != 31 )
        {
          if ( v4 != 16 || v3 != 16 )
          {
            if ( v4 == 8 || v4 == 9 )
            {
              if ( v3 == 15 || v3 == 16 )
                v5 = 6;
            }
          }
          else
          {
            v5 = 5;
          }
        }
        else
        {
          v5 = 4;
        }
      }
      else
      {
        v5 = 3;
      }
    }
    else
    {
      v5 = 2;
    }
  }
  return v5;
}
// 8C76348: using guessed type int dword_8C76348;

//----- (0041BF60) --------------------------------------------------------
signed int __thiscall sub_41BF60(int this)
{
  signed int result; // eax@3
  char v2; // [sp+Ch] [bp-48h]@1
  int v3; // [sp+4Ch] [bp-8h]@1
  int v4; // [sp+50h] [bp-4h]@1

  memset(&v2, -858993460, 0x48u);
  v4 = this;
  v3 = *(_DWORD *)(this + 1576) % 10;
  if ( v3 <= 5 )
  {
    result = 0;
  }
  else
  {
    if ( *(_DWORD *)(v4 + 732) & 0x40000000 )
      result = 2;
    else
      result = 1;
  }
  return result;
}

//----- (0041C250) --------------------------------------------------------
int __thiscall sub_41C250(void *this)
{
  char v2; // [sp+0h] [bp-50h]@0
  int v3; // [sp+4h] [bp-4Ch]@0
  int v4; // [sp+8h] [bp-48h]@0
  char v5; // [sp+Ch] [bp-44h]@1
  void *v6; // [sp+4Ch] [bp-4h]@1

  memset(&v5, -858993460, 0x44u);
  v6 = this;
  *(_DWORD *)((char *)this + (_DWORD)&dword_14001E0) = 0;
  sub_4E4640(v6, 0, (unsigned int)&unk_13F9480);
  return sub_4E46A0(1, (int)v6, v4, v2, v3);
}
// 14001E0: using guessed type int dword_14001E0;

//----- (0041C2C0) --------------------------------------------------------
signed int __cdecl sub_41C2C0()
{
  return -858993460;
}

//----- (0041C2F0) --------------------------------------------------------
void *__thiscall sub_41C2F0(void *this)
{
  return this;
}

//----- (0041C320) --------------------------------------------------------
signed int __cdecl sub_41C320()
{
  return -858993460;
}

//----- (0041C350) --------------------------------------------------------
int __usercall sub_41C350<eax>(const CHAR *a1<ecx>, int a2<ebx>)
{
  int v2; // eax@2
  int v3; // eax@4
  int v4; // eax@6
  int v5; // eax@8
  int v6; // eax@10
  int v7; // eax@12
  int v8; // eax@14
  int v9; // eax@16
  int v10; // eax@18
  int v11; // eax@20
  int v12; // eax@22
  int v13; // eax@24
  int v14; // eax@26
  int v15; // eax@28
  int v16; // eax@30
  int v17; // eax@32
  int v18; // eax@34
  int v19; // eax@36
  int v20; // eax@38
  int v21; // eax@40
  int v22; // eax@42
  int v23; // eax@44
  int v24; // eax@46
  int v25; // eax@48
  int v26; // eax@50
  int v27; // eax@52
  int v28; // eax@54
  int v29; // eax@56
  int v30; // eax@58
  int v31; // eax@60
  int v32; // eax@62
  int v33; // eax@64
  int v34; // eax@66
  int v35; // eax@68
  int v36; // eax@70
  int v37; // eax@72
  int v38; // eax@74
  int v39; // eax@76
  int v40; // eax@78
  int v41; // eax@80
  int v42; // eax@82
  int v43; // eax@84
  int v44; // eax@86
  int v45; // eax@88
  int v46; // eax@90
  int v47; // eax@92
  int v48; // eax@94
  int v49; // eax@95
  int v50; // eax@96
  char v52; // [sp+0h] [bp-54h]@2
  int v53; // [sp+4h] [bp-50h]@97
  int v54; // [sp+8h] [bp-4Ch]@97
  char v55; // [sp+Ch] [bp-48h]@1
  int v56; // [sp+4Ch] [bp-8h]@1
  LPCSTR lpText; // [sp+50h] [bp-4h]@1
  int v58; // [sp+54h] [bp+0h]@2

  memset(&v55, -858993460, 0x48u);
  lpText = a1;
  v56 = 0;
  sub_401933();
  sub_4E4720((int)lpText);
  v56 = sub_4013E8(lpText, off_59BEB0);
  if ( !v56 )
  {
    v2 = MessageBoxA(hWnd, lpText, "Can't read NPC 0", 0);
    sub_4E46A0(&v52 == &v52, v2, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 756));
  v56 = sub_4013E8(lpText + 756, off_59BEB0);
  if ( !v56 )
  {
    v3 = MessageBoxA(hWnd, lpText + 756, "Can't read NPC 1", 0);
    sub_4E46A0(&v52 == &v52, v3, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 1512));
  v56 = sub_4013E8(lpText + 1512, off_59BEB0);
  if ( !v56 )
  {
    v4 = MessageBoxA(hWnd, lpText + 1512, "Can't read NPC 2", 0);
    sub_4E46A0(&v52 == &v52, v4, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 2268));
  v56 = sub_4013E8(lpText + 2268, off_59BEB0);
  if ( !v56 )
  {
    v5 = MessageBoxA(hWnd, lpText + 2268, "Can't read NPC 3", 0);
    sub_4E46A0(&v52 == &v52, v5, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 3024));
  v56 = sub_4013E8(lpText + 3024, off_59BEB0);
  if ( !v56 )
  {
    v6 = MessageBoxA(hWnd, lpText + 3024, "Can't read NPC 4", 0);
    sub_4E46A0(&v52 == &v52, v6, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 3780));
  v56 = sub_4013E8(lpText + 3780, off_59BEB0);
  if ( !v56 )
  {
    v7 = MessageBoxA(hWnd, lpText + 3780, "Can't read NPC 5", 0);
    sub_4E46A0(&v52 == &v52, v7, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 4536));
  v56 = sub_4013E8(lpText + 4536, off_59BEB0);
  if ( !v56 )
  {
    v8 = MessageBoxA(hWnd, lpText + 4536, "Can't read NPC 6", 0);
    sub_4E46A0(&v52 == &v52, v8, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 5292));
  v56 = sub_4013E8(lpText + 5292, off_59BEB0);
  if ( !v56 )
  {
    v9 = MessageBoxA(hWnd, lpText + 5292, "Can't read NPC 7", 0);
    sub_4E46A0(&v52 == &v52, v9, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 7560));
  v56 = sub_4013E8(lpText + 7560, off_59BEB0);
  if ( !v56 )
  {
    v10 = MessageBoxA(hWnd, lpText + 7560, "Can't read NPC 10", 0);
    sub_4E46A0(&v52 == &v52, v10, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 8316));
  v56 = sub_4013E8(lpText + 8316, off_59BEB0);
  if ( !v56 )
  {
    v11 = MessageBoxA(hWnd, lpText + 8316, "Can't read NPC 11", 0);
    sub_4E46A0(&v52 == &v52, v11, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 9072));
  v56 = sub_4013E8(lpText + 9072, off_59BEB0);
  if ( !v56 )
  {
    v12 = MessageBoxA(hWnd, lpText + 9072, "Can't read NPC 12", 0);
    sub_4E46A0(&v52 == &v52, v12, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 9828));
  v56 = sub_4013E8(lpText + 9828, off_59BEB0);
  if ( !v56 )
  {
    v13 = MessageBoxA(hWnd, lpText + 9828, "Can't read NPC 13", 0);
    sub_4E46A0(&v52 == &v52, v13, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 10584));
  v56 = sub_4013E8(lpText + 10584, off_59BEB0);
  if ( !v56 )
  {
    v14 = MessageBoxA(hWnd, lpText + 10584, "Can't read NPC 14", 0);
    sub_4E46A0(&v52 == &v52, v14, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 11340));
  v56 = sub_4013E8(lpText + 11340, off_59BEB0);
  if ( !v56 )
  {
    v15 = MessageBoxA(hWnd, lpText + 11340, "Can't read NPC 15", 0);
    sub_4E46A0(&v52 == &v52, v15, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 12096));
  v56 = sub_4013E8(lpText + 12096, off_59BEB0);
  if ( !v56 )
  {
    v16 = MessageBoxA(hWnd, lpText + 12096, "Can't read NPC 16", 0);
    sub_4E46A0(&v52 == &v52, v16, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 12852));
  v56 = sub_4013E8(lpText + 12852, off_59BEB0);
  if ( !v56 )
  {
    v17 = MessageBoxA(hWnd, lpText + 12852, "Can't read NPC 17", 0);
    sub_4E46A0(&v52 == &v52, v17, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 13608));
  v56 = sub_4013E8(lpText + 13608, off_59BEB0);
  if ( !v56 )
  {
    v18 = MessageBoxA(hWnd, lpText + 13608, "Can't read NPC 18", 0);
    sub_4E46A0(&v52 == &v52, v18, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 14364));
  v56 = sub_4013E8(lpText + 14364, off_59BEB0);
  if ( !v56 )
  {
    v19 = MessageBoxA(hWnd, lpText + 14364, "Can't read NPC 19", 0);
    sub_4E46A0(&v52 == &v52, v19, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 15120));
  v56 = sub_4013E8(lpText + 15120, off_59BEB0);
  if ( !v56 )
  {
    v20 = MessageBoxA(hWnd, lpText + 15120, "Can't read NPC 20", 0);
    sub_4E46A0(&v52 == &v52, v20, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 15876));
  v56 = sub_4013E8(lpText + 15876, off_59BEB0);
  if ( !v56 )
  {
    v21 = MessageBoxA(hWnd, lpText + 15876, "Can't read NPC 21", 0);
    sub_4E46A0(&v52 == &v52, v21, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 16632));
  v56 = sub_4013E8(lpText + 16632, off_59BEB0);
  if ( !v56 )
  {
    v22 = MessageBoxA(hWnd, lpText + 16632, "Can't read NPC 22", 0);
    sub_4E46A0(&v52 == &v52, v22, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 17388));
  v56 = sub_4013E8(lpText + 17388, off_59BEB0);
  if ( !v56 )
  {
    v23 = MessageBoxA(hWnd, lpText + 17388, "Can't read NPC 23", 0);
    sub_4E46A0(&v52 == &v52, v23, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 18144));
  v56 = sub_4013E8(lpText + 18144, off_59BEB0);
  if ( !v56 )
  {
    v24 = MessageBoxA(hWnd, lpText + 18144, "Can't read NPC 24", 0);
    sub_4E46A0(&v52 == &v52, v24, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 18900));
  v56 = sub_4013E8(lpText + 18900, off_59BEB0);
  if ( !v56 )
  {
    v25 = MessageBoxA(hWnd, lpText + 18900, "Can't read NPC 25", 0);
    sub_4E46A0(&v52 == &v52, v25, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 19656));
  v56 = sub_4013E8(lpText + 19656, off_59BEB0);
  if ( !v56 )
  {
    v26 = MessageBoxA(hWnd, lpText + 19656, "Can't read NPC 26", 0);
    sub_4E46A0(&v52 == &v52, v26, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 20412));
  v56 = sub_4013E8(lpText + 20412, off_59BEB0);
  if ( !v56 )
  {
    v27 = MessageBoxA(hWnd, lpText + 20412, "Can't read NPC 27", 0);
    sub_4E46A0(&v52 == &v52, v27, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 21168));
  v56 = sub_4013E8(lpText + 21168, off_59BEB0);
  if ( !v56 )
  {
    v28 = MessageBoxA(hWnd, lpText + 21168, "Can't read NPC 28", 0);
    sub_4E46A0(&v52 == &v52, v28, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 21924));
  v56 = sub_4013E8(lpText + 21924, off_59BEB0);
  if ( !v56 )
  {
    v29 = MessageBoxA(hWnd, lpText + 21924, "Can't read NPC 29", 0);
    sub_4E46A0(&v52 == &v52, v29, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 22680));
  v56 = sub_4013E8(lpText + 22680, off_59BEB0);
  if ( !v56 )
  {
    v30 = MessageBoxA(hWnd, lpText + 22680, "Can't read NPC 30", 0);
    sub_4E46A0(&v52 == &v52, v30, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 23436));
  v56 = sub_4013E8(lpText + 23436, off_59BEB0);
  if ( !v56 )
  {
    v31 = MessageBoxA(hWnd, lpText + 23436, "Can't read NPC 31", 0);
    sub_4E46A0(&v52 == &v52, v31, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 24192));
  v56 = sub_4013E8(lpText + 24192, off_59BEB0);
  if ( !v56 )
  {
    v32 = MessageBoxA(hWnd, lpText + 24192, "Can't read NPC 32", 0);
    sub_4E46A0(&v52 == &v52, v32, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 24948));
  v56 = sub_4013E8(lpText + 24948, off_59BEB0);
  if ( !v56 )
  {
    v33 = MessageBoxA(hWnd, lpText + 24948, "Can't read NPC 33", 0);
    sub_4E46A0(&v52 == &v52, v33, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 25704));
  v56 = sub_4013E8(lpText + 25704, off_59BEB0);
  if ( !v56 )
  {
    v34 = MessageBoxA(hWnd, lpText + 25704, "Can't read NPC 34", 0);
    sub_4E46A0(&v52 == &v52, v34, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 26460));
  v56 = sub_4013E8(lpText + 26460, off_59BEB0);
  if ( !v56 )
  {
    v35 = MessageBoxA(hWnd, lpText + 26460, "Can't read NPC 35", 0);
    sub_4E46A0(&v52 == &v52, v35, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 27216));
  v56 = sub_4013E8(lpText + 27216, off_59BEB0);
  if ( !v56 )
  {
    v36 = MessageBoxA(hWnd, lpText + 27216, "Can't read NPC 36", 0);
    sub_4E46A0(&v52 == &v52, v36, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 27972));
  v56 = sub_4013E8(lpText + 27972, off_59BEB0);
  if ( !v56 )
  {
    v37 = MessageBoxA(hWnd, lpText + 27216, "Can't read NPC 36", 0);
    sub_4E46A0(&v52 == &v52, v37, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 28728));
  v56 = sub_4013E8(lpText + 28728, off_59BEB0);
  if ( !v56 )
  {
    v38 = MessageBoxA(hWnd, lpText + 27216, "Can't read NPC 36", 0);
    sub_4E46A0(&v52 == &v52, v38, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 29484));
  v56 = sub_4013E8(lpText + 29484, off_59BEB0);
  if ( !v56 )
  {
    v39 = MessageBoxA(hWnd, lpText + 29484, "Can't read NPC 39", 0);
    sub_4E46A0(&v52 == &v52, v39, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 30996));
  v56 = sub_4013E8(lpText + 30996, off_59BEB0);
  if ( !v56 )
  {
    v40 = MessageBoxA(hWnd, lpText + 30996, "Can't read NPC 41", 0);
    sub_4E46A0(&v52 == &v52, v40, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 31752));
  v56 = sub_4013E8(lpText + 31752, off_59BEB0);
  if ( !v56 )
  {
    v41 = MessageBoxA(hWnd, lpText + 31752, "Can't read NPC 42", 0);
    sub_4E46A0(&v52 == &v52, v41, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 32508));
  v56 = sub_4013E8(lpText + 32508, off_59BEB0);
  if ( !v56 )
  {
    v42 = MessageBoxA(hWnd, lpText + 32508, "Can't read NPC 43", 0);
    sub_4E46A0(&v52 == &v52, v42, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 33264));
  v56 = sub_4013E8(lpText + 33264, off_59BEB0);
  if ( !v56 )
  {
    v43 = MessageBoxA(hWnd, lpText + 33264, "Can't read NPC 44", 0);
    sub_4E46A0(&v52 == &v52, v43, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 34020));
  v56 = sub_4013E8(lpText + 34020, off_59BEB0);
  if ( !v56 )
  {
    v44 = MessageBoxA(hWnd, lpText + 34020, "Can't read NPC 45", 0);
    sub_4E46A0(&v52 == &v52, v44, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 34776));
  v56 = sub_4013E8(lpText + 34776, off_59BEB0);
  if ( !v56 )
  {
    v45 = MessageBoxA(hWnd, lpText + 34776, "Can't read NPC 46", 0);
    sub_4E46A0(&v52 == &v52, v45, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 35532));
  v56 = sub_4013E8(lpText + 35532, off_59BEB0);
  if ( !v56 )
  {
    v46 = MessageBoxA(hWnd, lpText + 35532, "Can't read NPC 47", 0);
    sub_4E46A0(&v52 == &v52, v46, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 36288));
  v56 = sub_4013E8(lpText + 36288, off_59BEB0);
  if ( !v56 )
  {
    v47 = MessageBoxA(hWnd, lpText + 36288, "Can't read NPC 48", 0);
    sub_4E46A0(&v52 == &v52, v47, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 37044));
  v56 = sub_4013E8(lpText + 37044, off_59BEB0);
  if ( !v56 )
  {
    v48 = MessageBoxA(hWnd, lpText + 37044, "Can't read NPC 49", 0);
    sub_4E46A0(&v52 == &v52, v48, a2, (unsigned int)&v58, (int)&v52);
  }
  sub_4E4720((int)(lpText + 37800));
  v49 = sub_4013E8(lpText + 37800, off_59BEB0);
  v56 = v49;
  if ( !v49 )
  {
    v50 = MessageBoxA(hWnd, lpText + 37800, "Can't read NPC 50", 0);
    v49 = sub_4E46A0(&v52 == &v52, v50, a2, (unsigned int)&v58, (int)&v52);
  }
  return sub_4E46A0(1, v49, v54, v52, v53);
}
// 4013E8: using guessed type _DWORD __cdecl sub_4013E8(_DWORD, _DWORD);
// 401933: using guessed type int sub_401933(void);
// 59BEB0: using guessed type char *off_59BEB0;

//----- (0041D9A0) --------------------------------------------------------
int __usercall sub_41D9A0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>)
{
  int v3; // eax@2
  int v4; // eax@2
  char v6; // [sp+0h] [bp-56Ch]@2
  int v7; // [sp+4h] [bp-568h]@24
  int v8; // [sp+8h] [bp-564h]@24
  char v9; // [sp+Ch] [bp-560h]@1
  int v10; // [sp+4Ch] [bp-520h]@21
  char v11; // [sp+50h] [bp-51Ch]@21
  char v12; // [sp+150h] [bp-41Ch]@21
  int v13; // [sp+250h] [bp-31Ch]@20
  int i; // [sp+254h] [bp-318h]@12
  char v15; // [sp+258h] [bp-314h]@6
  char v16; // [sp+358h] [bp-214h]@6
  int v17; // [sp+458h] [bp-114h]@4
  int v18; // [sp+45Ch] [bp-110h]@3
  char v19; // [sp+460h] [bp-10Ch]@4
  char v20; // [sp+461h] [bp-10Bh]@15
  int v21; // [sp+560h] [bp-Ch]@1
  int v22; // [sp+564h] [bp-8h]@1
  int v23; // [sp+568h] [bp-4h]@1
  int v24; // [sp+56Ch] [bp+0h]@2

  memset(&v9, -858993460, 0x560u);
  v23 = a1;
  v22 = sub_4E4620(a2, a3, "NPCGener.new.txt", (int)"wt");
  v21 = sub_4E4620(a2, a3, "NPCGener.txt", (int)"rt");
  if ( v21 )
  {
    v18 = -1;
    while ( 1 )
    {
      v17 = sub_4E4400(a2, a3, (int)&v19, 255, v21);
      if ( !v17 )
        break;
      if ( v19 == 47 )
      {
        v16 = 0;
        v15 = 0;
        sub_4E4340(a2, (int)&v24, a3, (int)&v19, "%s %s", (unsigned int)&v16);
        if ( v15 && v15 && v15 != 42 )
          sub_4E5440(a2, a3, v22, (int)"\n\n%s", (unsigned int)&v19);
      }
      else
      {
        if ( v19 == 35 )
        {
          ++v18;
          for ( i = 0; i < 5; ++i )
          {
            *(_DWORD *)(2992 * v18 + v23 + 4 * i + 24) = 0;
            *(_DWORD *)(2992 * v18 + v23 + 4 * i + 44) = 0;
            *(_DWORD *)(2992 * v18 + v23 + 4 * i + 64) = 0;
          }
          sub_4E5440(a2, a3, v22, (int)"// ********************************************\n", v6);
          if ( v20 == 42 )
            sub_4E5440(a2, a3, v22, (int)"#*\t[%4d]\n", v18);
          else
            sub_4E5440(a2, a3, v22, (int)"#\t[%4d]\n", v18);
        }
        else
        {
          if ( v19 != 13 )
          {
            v13 = sub_401285(v18, &v19);
            if ( v13 )
            {
              v12 = 0;
              v11 = 0;
              sub_4E4340(a2, (int)&v24, a3, (int)&v19, "%s %s", (unsigned int)&v12);
              v10 = sub_4E4B50((int)&v12);
              sub_4E5440(a2, a3, v22, (int)"\t%s\t%s\n", (unsigned int)&v12);
            }
          }
        }
      }
    }
    *(int *)((char *)&dword_14001E0 + v23) = v18;
    sub_4E4260(a2, a3, v21);
    sub_4E4260(a2, a3, v22);
    v4 = 1;
  }
  else
  {
    v3 = MessageBoxA(hWnd, "Can't find NPCGener.txt", "Error", 0);
    sub_4E46A0(&v6 == &v6, v3, a2, (unsigned int)&v24, (int)&v6);
    v4 = 0;
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 401285: using guessed type _DWORD __stdcall sub_401285(_DWORD, _DWORD);
// 14001E0: using guessed type int dword_14001E0;

//----- (0041DDC0) --------------------------------------------------------
int __usercall sub_41DDC0<eax>(int a1<ebx>, int a2, LPCSTR lpText)
{
  int v3; // eax@2
  int v4; // eax@2
  char v6; // [sp+0h] [bp-4Ch]@2
  int v7; // [sp+4h] [bp-48h]@4
  int v8; // [sp+8h] [bp-44h]@4
  char v9; // [sp+Ch] [bp-40h]@1
  int v10; // [sp+4Ch] [bp+0h]@2

  memset(&v9, -858993460, 0x40u);
  if ( (unsigned int)sub_4E4B50((int)lpText) < 0x4F )
  {
    sub_4E4720(a2);
  }
  else
  {
    v3 = MessageBoxA(hWnd, lpText, "NPC Generater's Action can't be larger than 80.", 0);
    v4 = sub_4E46A0(&v6 == &v6, v3, a1, (unsigned int)&v10, (int)&v6);
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}

//----- (0041DE50) --------------------------------------------------------
int __userpurge sub_41DE50<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, signed int a4, int a5)
{
  int v5; // eax@2
  int v6; // eax@126
  int v7; // eax@130
  char v9; // [sp+0h] [bp-1E8h]@126
  int v10; // [sp+4h] [bp-1E4h]@134
  int v11; // [sp+8h] [bp-1E0h]@134
  char v12; // [sp+Ch] [bp-1DCh]@1
  int v13; // [sp+4Ch] [bp-19Ch]@129
  int v14; // [sp+50h] [bp-198h]@125
  int v15; // [sp+54h] [bp-194h]@117
  int v16; // [sp+58h] [bp-190h]@117
  int v17; // [sp+5Ch] [bp-18Ch]@1
  int v18; // [sp+60h] [bp-188h]@1
  signed int v19[32]; // [sp+64h] [bp-184h]@1
  signed int Text[32]; // [sp+E4h] [bp-104h]@1
  char v21; // [sp+164h] [bp-84h]@1
  int v22; // [sp+1E4h] [bp-4h]@1
  int v23; // [sp+1E8h] [bp+0h]@1

  memset(&v12, -858993460, 0x1DCu);
  v22 = a1;
  LOBYTE(v19[0]) = 0;
  v21 = 0;
  LOBYTE(Text[0]) = 0;
  v18 = 0;
  v17 = 0;
  sub_4E4340(a2, (int)&v23, a3, a5, "%s %s %s", (unsigned int)&v21);
  if ( v21 == 47 )
  {
    v5 = 0;
  }
  else
  {
    if ( v21 )
    {
      v18 = sub_4E4F40(a2, (int)&v23, a3, Text);
      v17 = sub_4E4F40(a2, (int)&v23, a3, v19);
      if ( sub_4E4D80((int)&v21, (int)"MinuteGenerate:") )
      {
        if ( sub_4E4D80((int)&v21, (int)"MaxNumMob:") )
        {
          if ( sub_4E4D80((int)&v21, (int)"MinGroup:") )
          {
            if ( sub_4E4D80((int)&v21, (int)"MaxGroup:") )
            {
              if ( sub_4E4D80((int)&v21, (int)"FightAction1:") || !LOBYTE(Text[0]) )
              {
                if ( sub_4E4D80((int)&v21, (int)"FightAction2:") || !LOBYTE(Text[0]) )
                {
                  if ( sub_4E4D80((int)&v21, (int)"FightAction3:") || !LOBYTE(Text[0]) )
                  {
                    if ( sub_4E4D80((int)&v21, (int)"FightAction4:") || !LOBYTE(Text[0]) )
                    {
                      if ( sub_4E4D80((int)&v21, (int)"DieAction1:") || !LOBYTE(Text[0]) )
                      {
                        if ( sub_4E4D80((int)&v21, (int)"DieAction2:") || !LOBYTE(Text[0]) )
                        {
                          if ( sub_4E4D80((int)&v21, (int)"DieAction3:") || !LOBYTE(Text[0]) )
                          {
                            if ( sub_4E4D80((int)&v21, (int)"DieAction4:") || !LOBYTE(Text[0]) )
                            {
                              if ( sub_4E4D80((int)&v21, (int)"FleeAction1:") || !LOBYTE(Text[0]) )
                              {
                                if ( sub_4E4D80((int)&v21, (int)"FleeAction2:") || !LOBYTE(Text[0]) )
                                {
                                  if ( sub_4E4D80((int)&v21, (int)"FleeAction3:") || !LOBYTE(Text[0]) )
                                  {
                                    if ( sub_4E4D80((int)&v21, (int)"FleeAction4:") || !LOBYTE(Text[0]) )
                                    {
                                      if ( sub_4E4D80((int)&v21, (int)"RouteType:") )
                                      {
                                        if ( sub_4E4D80((int)&v21, (int)"Formation:") )
                                        {
                                          if ( sub_4E4D80((int)&v21, (int)"StartRange:") )
                                          {
                                            if ( sub_4E4D80((int)&v21, (int)"StartX:") )
                                            {
                                              if ( sub_4E4D80((int)&v21, (int)"StartY:") )
                                              {
                                                if ( sub_4E4D80((int)&v21, (int)"StartWait:") )
                                                {
                                                  if ( sub_4E4D80((int)&v21, (int)"StartAction:") || !LOBYTE(Text[0]) )
                                                  {
                                                    if ( sub_4E4D80((int)&v21, (int)"Segment1Range:") )
                                                    {
                                                      if ( sub_4E4D80((int)&v21, (int)"Segment1X:") )
                                                      {
                                                        if ( sub_4E4D80((int)&v21, (int)"Segment1Y:") )
                                                        {
                                                          if ( sub_4E4D80((int)&v21, (int)"Segment1Wait:") )
                                                          {
                                                            if ( sub_4E4D80((int)&v21, (int)"Segment1Action:")
                                                              || !LOBYTE(Text[0]) )
                                                            {
                                                              if ( sub_4E4D80((int)&v21, (int)"Segment2Range:") )
                                                              {
                                                                if ( sub_4E4D80((int)&v21, (int)"Segment2X:") )
                                                                {
                                                                  if ( sub_4E4D80((int)&v21, (int)"Segment2Y:") )
                                                                  {
                                                                    if ( sub_4E4D80((int)&v21, (int)"Segment2Wait:") )
                                                                    {
                                                                      if ( sub_4E4D80((int)&v21, (int)"Segment2Action:")
                                                                        || !LOBYTE(Text[0]) )
                                                                      {
                                                                        if ( sub_4E4D80(
                                                                               (int)&v21,
                                                                               (int)"Segment3Range:") )
                                                                        {
                                                                          if ( sub_4E4D80((int)&v21, (int)"Segment3X:") )
                                                                          {
                                                                            if ( sub_4E4D80(
                                                                                   (int)&v21,
                                                                                   (int)"Segment3Y:") )
                                                                            {
                                                                              if ( sub_4E4D80(
                                                                                     (int)&v21,
                                                                                     (int)"Segment3Wait:") )
                                                                              {
                                                                                if ( sub_4E4D80(
                                                                                       (int)&v21,
                                                                                       (int)"Segment3Action:")
                                                                                  || !LOBYTE(Text[0]) )
                                                                                {
                                                                                  if ( sub_4E4D80(
                                                                                         (int)&v21,
                                                                                         (int)"DestRange:") )
                                                                                  {
                                                                                    if ( sub_4E4D80(
                                                                                           (int)&v21,
                                                                                           (int)"DestX:") )
                                                                                    {
                                                                                      if ( sub_4E4D80(
                                                                                             (int)&v21,
                                                                                             (int)"DestY:") )
                                                                                      {
                                                                                        if ( sub_4E4D80(
                                                                                               (int)&v21,
                                                                                               (int)"DestWait:") )
                                                                                        {
                                                                                          if ( sub_4E4D80(
                                                                                                 (int)&v21,
                                                                                                 (int)"DestAction:")
                                                                                            || !LOBYTE(Text[0]) )
                                                                                          {
                                                                                            if ( sub_4E4D80(
                                                                                                   (int)&v21,
                                                                                                   (int)"Leader:") )
                                                                                            {
                                                                                              if ( sub_4E4D80(
                                                                                                     (int)&v21,
                                                                                                     (int)"Follower:") )
                                                                                              {
                                                                                                v5 = 0;
                                                                                                return sub_4E46A0(1, v5, v11, v9, v10);
                                                                                              }
                                                                                              sub_4E4720(v22 + 2992 * a4 + 2236);
                                                                                              v13 = sub_4013E8(v22 + 2992 * a4 + 2236, off_59BEB0);
                                                                                              if ( !v13 )
                                                                                              {
                                                                                                v7 = MessageBoxA(hWnd, (LPCSTR)Text, "Can't read NPC file in NPCGener.txt", 0);
                                                                                                sub_4E46A0(
                                                                                                  &v9 == &v9,
                                                                                                  v7,
                                                                                                  a2,
                                                                                                  (unsigned int)&v23,
                                                                                                  (int)&v9);
                                                                                              }
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                              sub_4E4720(v22 + 2992 * a4 + 1480);
                                                                                              if ( a4 >= 81 && a4 <= 96
                                                                                                || a4 >= 107
                                                                                                && a4 <= 122
                                                                                                || a4 >= 124
                                                                                                && a4 <= 139 )
                                                                                              {
                                                                                                if ( a4 >= 81 && a4 <= 96 )
                                                                                                {
                                                                                                  v16 = (a4 - 81) / 4;
                                                                                                  v15 = 0;
                                                                                                }
                                                                                                if ( a4 >= 107 && a4 <= 122 )
                                                                                                {
                                                                                                  v16 = (a4 - 107) / 4;
                                                                                                  v15 = 1;
                                                                                                }
                                                                                                if ( a4 >= 124 && a4 <= 139 )
                                                                                                {
                                                                                                  v16 = (a4 - 124) / 4;
                                                                                                  v15 = 2;
                                                                                                }
                                                                                                sub_4E4720((int)((char *)&unk_54EB638 + 9072 * v15 + 2268 * v16));
                                                                                                sub_4E4720((int)((char *)&unk_54EB92C + 9072 * v15 + 2268 * v16));
                                                                                                sub_4E4730(
                                                                                                  (int)((char *)&unk_54EB92C + 9072 * v15 + 2268 * v16),
                                                                                                  (int)"_");
                                                                                                sub_4E4720((int)((char *)&unk_54EBC20 + 9072 * v15 + 2268 * v16));
                                                                                                sub_4E4730(
                                                                                                  (int)((char *)&unk_54EBC20 + 9072 * v15 + 2268 * v16),
                                                                                                  (int)"__");
                                                                                              }
                                                                                              v14 = sub_4013E8(v22 + 2992 * a4 + 1480, off_59BEB0);
                                                                                              if ( !v14 )
                                                                                              {
                                                                                                v6 = MessageBoxA(hWnd, (LPCSTR)Text, "Can't read NPC file in NPCGener.txt", 0);
                                                                                                sub_4E46A0(
                                                                                                  &v9 == &v9,
                                                                                                  v6,
                                                                                                  a2,
                                                                                                  (unsigned int)&v23,
                                                                                                  (int)&v9);
                                                                                              }
                                                                                            }
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                            sub_401073(Text);
                                                                                            sub_4013C5(
                                                                                              v22 + 2992 * a4 + 424,
                                                                                              (LPCSTR)Text);
                                                                                          }
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                          *(_DWORD *)(v22 + 2992 * a4 + 100) = v18;
                                                                                        }
                                                                                      }
                                                                                      else
                                                                                      {
                                                                                        *(_DWORD *)(v22 + 2992 * a4 + 60) = v18;
                                                                                      }
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                      *(_DWORD *)(v22 + 2992 * a4 + 40) = v18;
                                                                                    }
                                                                                  }
                                                                                  else
                                                                                  {
                                                                                    *(_DWORD *)(v22 + 2992 * a4 + 80) = v18;
                                                                                  }
                                                                                }
                                                                                else
                                                                                {
                                                                                  sub_401073(Text);
                                                                                  sub_4013C5(
                                                                                    v22 + 2992 * a4 + 344,
                                                                                    (LPCSTR)Text);
                                                                                }
                                                                              }
                                                                              else
                                                                              {
                                                                                *(_DWORD *)(v22 + 2992 * a4 + 96) = v18;
                                                                              }
                                                                            }
                                                                            else
                                                                            {
                                                                              *(_DWORD *)(v22 + 2992 * a4 + 56) = v18;
                                                                            }
                                                                          }
                                                                          else
                                                                          {
                                                                            *(_DWORD *)(v22 + 2992 * a4 + 36) = v18;
                                                                          }
                                                                        }
                                                                        else
                                                                        {
                                                                          *(_DWORD *)(v22 + 2992 * a4 + 76) = v18;
                                                                        }
                                                                      }
                                                                      else
                                                                      {
                                                                        sub_401073(Text);
                                                                        sub_4013C5(v22 + 2992 * a4 + 264, (LPCSTR)Text);
                                                                      }
                                                                    }
                                                                    else
                                                                    {
                                                                      *(_DWORD *)(v22 + 2992 * a4 + 92) = v18;
                                                                    }
                                                                  }
                                                                  else
                                                                  {
                                                                    *(_DWORD *)(v22 + 2992 * a4 + 52) = v18;
                                                                  }
                                                                }
                                                                else
                                                                {
                                                                  *(_DWORD *)(v22 + 2992 * a4 + 32) = v18;
                                                                }
                                                              }
                                                              else
                                                              {
                                                                *(_DWORD *)(v22 + 2992 * a4 + 72) = v18;
                                                              }
                                                            }
                                                            else
                                                            {
                                                              sub_401073(Text);
                                                              sub_4013C5(v22 + 2992 * a4 + 184, (LPCSTR)Text);
                                                            }
                                                          }
                                                          else
                                                          {
                                                            *(_DWORD *)(v22 + 2992 * a4 + 88) = v18;
                                                          }
                                                        }
                                                        else
                                                        {
                                                          *(_DWORD *)(v22 + 2992 * a4 + 48) = v18;
                                                        }
                                                      }
                                                      else
                                                      {
                                                        *(_DWORD *)(v22 + 2992 * a4 + 28) = v18;
                                                      }
                                                    }
                                                    else
                                                    {
                                                      *(_DWORD *)(v22 + 2992 * a4 + 68) = v18;
                                                    }
                                                  }
                                                  else
                                                  {
                                                    sub_401073(Text);
                                                    sub_4013C5(v22 + 2992 * a4 + 104, (LPCSTR)Text);
                                                  }
                                                }
                                                else
                                                {
                                                  *(_DWORD *)(v22 + 2992 * a4 + 84) = v18;
                                                }
                                              }
                                              else
                                              {
                                                *(_DWORD *)(v22 + 2992 * a4 + 44) = v18;
                                              }
                                            }
                                            else
                                            {
                                              *(_DWORD *)(v22 + 2992 * a4 + 24) = v18;
                                            }
                                          }
                                          else
                                          {
                                            *(_DWORD *)(v22 + 2992 * a4 + 64) = v18;
                                          }
                                        }
                                        else
                                        {
                                          *(_DWORD *)(v22 + 2992 * a4 + 1464) = v18;
                                        }
                                      }
                                      else
                                      {
                                        *(_DWORD *)(v22 + 2992 * a4 + 1468) = v18;
                                      }
                                    }
                                    else
                                    {
                                      sub_401073(Text);
                                      sub_4013C5(v22 + 2992 * a4 + 1064, (LPCSTR)Text);
                                    }
                                  }
                                  else
                                  {
                                    sub_401073(Text);
                                    sub_4013C5(v22 + 2992 * a4 + 984, (LPCSTR)Text);
                                  }
                                }
                                else
                                {
                                  sub_401073(Text);
                                  sub_4013C5(v22 + 2992 * a4 + 904, (LPCSTR)Text);
                                }
                              }
                              else
                              {
                                sub_401073(Text);
                                sub_4013C5(v22 + 2992 * a4 + 824, (LPCSTR)Text);
                              }
                            }
                            else
                            {
                              sub_401073(Text);
                              sub_4013C5(v22 + 2992 * a4 + 1384, (LPCSTR)Text);
                            }
                          }
                          else
                          {
                            sub_401073(Text);
                            sub_4013C5(v22 + 2992 * a4 + 1304, (LPCSTR)Text);
                          }
                        }
                        else
                        {
                          sub_401073(Text);
                          sub_4013C5(v22 + 2992 * a4 + 1224, (LPCSTR)Text);
                        }
                      }
                      else
                      {
                        sub_401073(Text);
                        sub_4013C5(v22 + 2992 * a4 + 1144, (LPCSTR)Text);
                      }
                    }
                    else
                    {
                      sub_401073(Text);
                      sub_4013C5(v22 + 2992 * a4 + 744, (LPCSTR)Text);
                    }
                  }
                  else
                  {
                    sub_401073(Text);
                    sub_4013C5(v22 + 2992 * a4 + 664, (LPCSTR)Text);
                  }
                }
                else
                {
                  sub_401073(Text);
                  sub_4013C5(v22 + 2992 * a4 + 584, (LPCSTR)Text);
                }
              }
              else
              {
                sub_401073(Text);
                sub_4013C5(v22 + 2992 * a4 + 504, (LPCSTR)Text);
              }
            }
            else
            {
              *(_DWORD *)(v22 + 2992 * a4 + 20) = v18;
            }
          }
          else
          {
            *(_DWORD *)(v22 + 2992 * a4 + 16) = v18;
          }
        }
        else
        {
          *(_DWORD *)(v22 + 2992 * a4 + 8) = v18;
        }
      }
      else
      {
        *(_DWORD *)(v22 + 2992 * a4 + 4) = v18;
        *(_DWORD *)(v22 + 2992 * a4 + 1472) = v17;
      }
      v5 = 1;
      return sub_4E46A0(1, v5, v11, v9, v10);
    }
    v5 = 0;
  }
  return sub_4E46A0(1, v5, v11, v9, v10);
}
// 401073: using guessed type _DWORD __cdecl sub_401073(_DWORD);
// 4013C5: using guessed type _DWORD __cdecl sub_4013C5(_DWORD, LPCSTR lpText);
// 4013E8: using guessed type _DWORD __cdecl sub_4013E8(_DWORD, _DWORD);
// 59BEB0: using guessed type char *off_59BEB0;

//----- (0041F140) --------------------------------------------------------
int __usercall sub_41F140<eax>(int a1<ebx>, int a2<esi>, const CHAR *a3)
{
  int v3; // eax@4
  int v4; // eax@4
  char v6; // [sp+0h] [bp-3F4h]@4
  int v7; // [sp+4h] [bp-3F0h]@36
  int v8; // [sp+8h] [bp-3ECh]@36
  char v9; // [sp+Ch] [bp-3E8h]@1
  unsigned int v10; // [sp+4Ch] [bp-3A8h]@29
  unsigned int v11; // [sp+50h] [bp-3A4h]@29
  char v12; // [sp+54h] [bp-3A0h]@28
  int j; // [sp+154h] [bp-2A0h]@23
  int v14; // [sp+158h] [bp-29Ch]@20
  int v15; // [sp+15Ch] [bp-298h]@20
  unsigned int i; // [sp+160h] [bp-294h]@13
  int v17; // [sp+164h] [bp-290h]@9
  char v18; // [sp+168h] [bp-28Ch]@9
  char v19; // [sp+1E8h] [bp-20Ch]@20
  char v20; // [sp+228h] [bp-1CCh]@20
  char v21; // [sp+268h] [bp-18Ch]@25
  int v22; // [sp+2E8h] [bp-10Ch]@8
  int v23; // [sp+2ECh] [bp-108h]@5
  unsigned int v24; // [sp+2F0h] [bp-104h]@3
  char v25[256]; // [sp+2F4h] [bp-100h]@6
  int v26; // [sp+3F4h] [bp+0h]@4

  memset(&v9, -858993460, 0x3E8u);
  if ( dword_BAF0A8 )
    sub_4E5F30(a1, a2, dword_BAF0A8);
  v24 = 1200000;
  dword_BAF0A8 = sub_4E54F0(a1, a2, 0x124F80u);
  if ( dword_BAF0A8 )
  {
    sub_4E4640((void *)dword_BAF0A8, 0, v24);
    sub_4E4640(dword_BAECA8, 0, 0x400u);
    dword_BAF0AC = 0;
    v23 = sub_4E4620(a1, a2, a3, (int)"rt");
    if ( v23 || (sub_4E3F40(a1, a2, (int)v25, "../../%s"), (v23 = sub_4E4620(a1, a2, a3, (int)"rt")) != 0) )
    {
      dword_BAF0AC = 0;
      v22 = 0;
      while ( 1 )
      {
        sub_4E4640(&v18, 0, 0x180u);
        v17 = sub_4E4400(a1, a2, (int)v25, 255, v23);
        if ( !v17 )
          break;
        if ( v25[0] > 12 && v25[0] != 47 )
        {
          for ( i = 0; (signed int)i < 256 && v25[i]; ++i )
          {
            if ( v25[i] == 44 || v25[i] == 34 )
              v25[i] = 32;
          }
          sub_4E4340(a1, (int)&v26, a2, (int)v25, "%s %s %s %s %s %s", (unsigned int)&v18);
          v15 = sub_4E4F40(a1, (int)&v26, a2, (signed int *)&v19);
          v14 = sub_4E4F40(a1, (int)&v26, a2, (signed int *)&v20);
          if ( v15 )
          {
            if ( v14 )
            {
              for ( j = 1; j < 246 && sub_4E4D80((int)((char *)&unk_59BEB8 + 56 * j), (int)&v21); ++j )
                ;
              if ( j == 246 )
              {
                sub_4E3F40(a1, a2, (int)&v12, "can't find country code: %s");
                Log(&v12, "sys", 0);
              }
              else
              {
                *(_DWORD *)(dword_BAF0A8 + 12 * dword_BAF0AC) = v15;
                *(_DWORD *)(dword_BAF0A8 + 12 * dword_BAF0AC + 4) = v14;
                *(_DWORD *)(dword_BAF0A8 + 12 * dword_BAF0AC + 8) = j;
                v11 = (unsigned int)v15 >> 24;
                v10 = (unsigned int)v14 >> 24;
                for ( i = (unsigned int)v15 >> 24; (signed int)i <= (signed int)v10; ++i )
                {
                  if ( !dword_BAECA8[i] )
                    dword_BAECA8[i] = dword_BAF0AC;
                }
                ++dword_BAF0AC;
                if ( dword_BAF0AC >= 100000 )
                  break;
              }
            }
          }
        }
      }
      sub_4E4260(a1, a2, v23);
      v4 = 1;
    }
    else
    {
      Log("err, Can't open CountryIP file", "-system", 0);
      v4 = 0;
    }
  }
  else
  {
    v3 = MessageBoxA(0, "Can't alloc memory for CountryIPArray", "Error", 0);
    sub_4E46A0(&v6 == &v6, v3, a1, (unsigned int)&v26, (int)&v6);
    v4 = 0;
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// BAECA8: using guessed type int dword_BAECA8[];
// BAF0A8: using guessed type int dword_BAF0A8;
// BAF0AC: using guessed type int dword_BAF0AC;
// 41F140: using guessed type char var_100[256];

//----- (0041F670) --------------------------------------------------------
int __cdecl sub_41F670(unsigned int a1)
{
  int result; // eax@2
  char v2; // [sp+Ch] [bp-48h]@1
  int i; // [sp+4Ch] [bp-8h]@3
  int v4; // [sp+50h] [bp-4h]@1

  memset(&v2, -858993460, 0x48u);
  v4 = dword_BAECA8[a1 >> 24];
  if ( v4 )
  {
    for ( i = v4; i < 100000; ++i )
    {
      if ( *(_DWORD *)(dword_BAF0A8 + 12 * i + 4) >= a1 )
      {
        if ( *(_DWORD *)(dword_BAF0A8 + 12 * i) <= a1 )
          return *(_DWORD *)(dword_BAF0A8 + 12 * i + 8);
        break;
      }
    }
    result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}
// BAECA8: using guessed type int dword_BAECA8[];
// BAF0A8: using guessed type int dword_BAF0A8;

//----- (0041F730) --------------------------------------------------------
int __usercall sub_41F730<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>)
{
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  int v8; // [sp+4Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x44u);
  v8 = a1;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(v8 + 28) = 0;
  *(_DWORD *)(v8 + 4) = sub_4E54F0(a2, a3, 0x20000u);
  *(_DWORD *)(v8 + 8) = sub_4E54F0(a2, a3, 0x20000u);
  *(_DWORD *)(v8 + 12) = 0;
  *(_DWORD *)(v8 + 24) = 0;
  *(_DWORD *)(v8 + 16) = 0;
  *(_DWORD *)(v8 + 20) = 0;
  sub_4E4640((void *)(v8 + 32), 0, 0x10u);
  sub_4E4640((void *)(v8 + 48), 0, 0x10u);
  *(_DWORD *)(v8 + 64) = 0;
  *(_DWORD *)(v8 + 72) = 0;
  return sub_4E46A0(1, v8, v6, v4, v5);
}

//----- (0041F830) --------------------------------------------------------
int __usercall sub_41F830<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-50h]@0
  int v6; // [sp+4h] [bp-4Ch]@0
  int v7; // [sp+8h] [bp-48h]@0
  char v8; // [sp+Ch] [bp-44h]@1
  int v9; // [sp+4Ch] [bp-4h]@1

  memset(&v8, -858993460, 0x44u);
  v9 = a1;
  v3 = a1;
  if ( *(_DWORD *)(a1 + 4) )
  {
    sub_4E5F30(a2, a3, *(_DWORD *)(v9 + 4));
    v3 = v9;
    *(_DWORD *)(v9 + 4) = 0;
  }
  if ( *(_DWORD *)(v9 + 8) )
  {
    sub_4E5F30(a2, a3, *(_DWORD *)(v9 + 8));
    *(_DWORD *)(v9 + 8) = 0;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}

//----- (0041F8C0) --------------------------------------------------------
int __thiscall sub_41F8C0(int this)
{
  char v2; // [sp+0h] [bp-50h]@0
  int v3; // [sp+4h] [bp-4Ch]@0
  int v4; // [sp+8h] [bp-48h]@0
  char v5; // [sp+Ch] [bp-44h]@1
  int v6; // [sp+4Ch] [bp-4h]@1

  memset(&v5, -858993460, 0x44u);
  v6 = this;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(v6 + 24) = 0;
  *(_DWORD *)(v6 + 16) = 0;
  *(_DWORD *)(v6 + 20) = 0;
  *(_DWORD *)(v6 + 28) = 0;
  if ( *(_DWORD *)v6 )
    closesocket(*(_DWORD *)v6);
  *(_DWORD *)v6 = 0;
  return sub_4E46A0(1, 1, v4, v2, v3);
}

//----- (0041F970) --------------------------------------------------------
int __thiscall sub_41F970(void *this)
{
  int v1; // eax@2
  char v3; // [sp+0h] [bp-1E0h]@0
  int v4; // [sp+4h] [bp-1DCh]@0
  int v5; // [sp+8h] [bp-1D8h]@0
  char v6; // [sp+Ch] [bp-1D4h]@1
  struct WSAData WSAData; // [sp+4Ch] [bp-194h]@1
  void *v8; // [sp+1DCh] [bp-4h]@1

  memset(&v6, -858993460, 0x1D4u);
  v8 = this;
  if ( WSAStartup(0x101u, &WSAData) )
    v1 = 0;
  else
    v1 = 1;
  return sub_4E46A0(1, v1, v5, v3, v4);
}

//----- (0041F9E0) --------------------------------------------------------
int __userpurge sub_41F9E0<eax>(int a1<ecx>, int a2<ebx>, HWND hWnd, int a4, u_short hostshort, u_int wMsg)
{
  int v6; // eax@2
  int v7; // eax@2
  int v8; // eax@4
  int v9; // eax@6
  int v10; // eax@8
  char v12; // [sp+0h] [bp-164h]@2
  int v13; // [sp+4h] [bp-160h]@10
  int v14; // [sp+8h] [bp-15Ch]@10
  char v15; // [sp+Ch] [bp-158h]@1
  char name; // [sp+4Ch] [bp-118h]@3
  __int16 v17; // [sp+14Ch] [bp-18h]@3
  u_short v18; // [sp+14Eh] [bp-16h]@3
  int v19; // [sp+150h] [bp-14h]@3
  SOCKET s; // [sp+15Ch] [bp-8h]@1
  int v21; // [sp+160h] [bp-4h]@1
  int v22; // [sp+164h] [bp+0h]@2

  memset(&v15, -858993460, 0x158u);
  v21 = a1;
  s = socket(2, 1, 0);
  if ( s == -1 )
  {
    v6 = MessageBoxA(hWnd, "Initialize socket fail", "ERROR", 0);
    sub_4E46A0(&v12 == &v12, v6, a2, (unsigned int)&v22, (int)&v12);
    v7 = 0;
  }
  else
  {
    gethostname(&name, 256);
    v17 = 2;
    v19 = a4;
    v18 = htons(hostshort);
    if ( bind(s, (const struct sockaddr *)&v17, 16) == -1 )
    {
      v8 = MessageBoxA(hWnd, "Binding fail", "ERROR", 0);
      sub_4E46A0(&v12 == &v12, v8, a2, (unsigned int)&v22, (int)&v12);
      closesocket(s);
      v7 = 0;
    }
    else
    {
      if ( listen(s, 8) >= 0 )
      {
        if ( WSAAsyncSelect(s, hWnd, wMsg, 8) <= 0 )
        {
          *(_DWORD *)v21 = s;
          v7 = s;
        }
        else
        {
          v10 = MessageBoxA(hWnd, "WSAAsyncSelect fail", "ERROR", 0);
          sub_4E46A0(&v12 == &v12, v10, a2, (unsigned int)&v22, (int)&v12);
          closesocket(s);
          v7 = 0;
        }
      }
      else
      {
        v9 = MessageBoxA(hWnd, "Listen fail", "ERROR", 0);
        sub_4E46A0(&v12 == &v12, v9, a2, (unsigned int)&v22, (int)&v12);
        closesocket(s);
        v7 = 0;
      }
    }
  }
  return sub_4E46A0(1, v7, v14, v12, v13);
}

//----- (0041FBB0) --------------------------------------------------------
int __userpurge sub_41FBB0<eax>(int a1<ecx>, int a2<ebx>, const char *cp, u_short hostshort, int a5, u_int wMsg)
{
  int v6; // eax@4
  int v7; // eax@4
  int v8; // eax@8
  char v10; // [sp+0h] [bp-7Ch]@4
  int v11; // [sp+4h] [bp-78h]@16
  int v12; // [sp+8h] [bp-74h]@16
  char v13; // [sp+Ch] [bp-70h]@1
  char buf[4]; // [sp+4Ch] [bp-30h]@15
  int v15; // [sp+50h] [bp-2Ch]@12
  struct sockaddr name; // [sp+54h] [bp-28h]@1
  __int16 v17; // [sp+64h] [bp-18h]@1
  u_short v18; // [sp+66h] [bp-16h]@3
  unsigned __int32 v19; // [sp+68h] [bp-14h]@3
  SOCKET s; // [sp+74h] [bp-8h]@3
  int v21; // [sp+78h] [bp-4h]@1
  int v22; // [sp+7Ch] [bp+0h]@4

  memset(&v13, -858993460, 0x70u);
  v21 = a1;
  sub_4E4640(&v17, 0, 0x10u);
  sub_4E4640(&name, 0, 0x10u);
  *(_DWORD *)(v21 + 12) = 0;
  *(_DWORD *)(v21 + 24) = 0;
  *(_DWORD *)(v21 + 16) = 0;
  *(_DWORD *)(v21 + 20) = 0;
  if ( *(_DWORD *)v21 )
    sub_401410(v21);
  v19 = inet_addr(cp);
  v17 = 2;
  v18 = htons(hostshort);
  s = socket(2, 1, 0);
  if ( s == -1 )
  {
    v6 = MessageBoxA(0, "Initialize socket fai", "ERROR", 0);
    sub_4E46A0(&v10 == &v10, v6, a2, (unsigned int)&v22, (int)&v10);
    v7 = 0;
  }
  else
  {
    name.sa_family = 2;
    *(_DWORD *)&name.sa_data[2] = a5;
    *(_WORD *)&name.sa_data[0] = 0;
    if ( bind(s, &name, 16) != -1
      || (dword_BAF188 += 10, *(_WORD *)&name.sa_data[0] = htons(dword_BAF188 + 5000), bind(s, &name, 16) != -1)
      || (dword_BAF188 += 10, *(_WORD *)&name.sa_data[0] = htons(dword_BAF188 + 5000), bind(s, &name, 16) != -1) )
    {
      if ( s == -1 )
      {
        v7 = 0;
      }
      else
      {
        if ( connect(s, (const struct sockaddr *)&v17, 16) >= 0 )
        {
          if ( WSAAsyncSelect(s, hWnd, wMsg, 33) <= 0 )
          {
            *(_DWORD *)v21 = s;
            *(_DWORD *)buf = 521270033;
            send(s, buf, 4, 0);
            *(_DWORD *)(v21 + 28) = 1;
            v7 = s;
          }
          else
          {
            closesocket(s);
            *(_DWORD *)v21 = 0;
            v7 = 0;
          }
        }
        else
        {
          v15 = WSAGetLastError();
          closesocket(s);
          *(_DWORD *)v21 = 0;
          v7 = 0;
        }
      }
    }
    else
    {
      v8 = MessageBoxA(0, "Binding fail", "ERROR", 0);
      sub_4E46A0(&v10 == &v10, v8, a2, (unsigned int)&v22, (int)&v10);
      closesocket(s);
      v7 = 0;
    }
  }
  return sub_4E46A0(1, v7, v12, v10, v11);
}
// 401410: using guessed type int __thiscall sub_401410(_DWORD);
// BAF188: using guessed type int dword_BAF188;

//----- (0041FE90) --------------------------------------------------------
int __thiscall sub_41FE90(void *this, const char *cp, u_short hostshort, int a4, u_int wMsg)
{
  int v5; // eax@4
  char v7; // [sp+0h] [bp-7Ch]@0
  int v8; // [sp+4h] [bp-78h]@0
  int v9; // [sp+8h] [bp-74h]@0
  char v10; // [sp+Ch] [bp-70h]@1
  char buf[4]; // [sp+4Ch] [bp-30h]@15
  int v12; // [sp+50h] [bp-2Ch]@12
  struct sockaddr name; // [sp+54h] [bp-28h]@1
  __int16 v14; // [sp+64h] [bp-18h]@1
  u_short v15; // [sp+66h] [bp-16h]@3
  unsigned __int32 v16; // [sp+68h] [bp-14h]@3
  SOCKET s; // [sp+74h] [bp-8h]@3
  void *v18; // [sp+78h] [bp-4h]@1

  memset(&v10, -858993460, 0x70u);
  v18 = this;
  sub_4E4640(&v14, 0, 0x10u);
  sub_4E4640(&name, 0, 0x10u);
  if ( *(_DWORD *)v18 )
  {
    closesocket(*(_DWORD *)v18);
    *(_DWORD *)v18 = 0;
  }
  v16 = inet_addr(cp);
  v14 = 2;
  v15 = htons(hostshort);
  s = socket(2, 1, 0);
  if ( s == -1 )
  {
    Log("Initialize single socket fail", "ERROR", 0);
    v5 = 0;
  }
  else
  {
    name.sa_family = 2;
    *(_DWORD *)&name.sa_data[2] = a4;
    *(_WORD *)&name.sa_data[0] = 0;
    if ( bind(s, &name, 16) != -1
      || (dword_BAF188 += 10, *(_WORD *)&name.sa_data[0] = htons(dword_BAF188 + 5000), bind(s, &name, 16) != -1)
      || (dword_BAF188 += 10, *(_WORD *)&name.sa_data[0] = htons(dword_BAF188 + 5000), bind(s, &name, 16) != -1) )
    {
      if ( s == -1 )
      {
        v5 = 0;
      }
      else
      {
        if ( connect(s, (const struct sockaddr *)&v14, 16) >= 0 )
        {
          if ( WSAAsyncSelect(s, hWnd, wMsg, 33) <= 0 )
          {
            *(_DWORD *)v18 = s;
            *(_DWORD *)buf = 521270033;
            send(s, buf, 4, 0);
            *((_DWORD *)v18 + 7) = 1;
            v5 = s;
          }
          else
          {
            closesocket(s);
            *(_DWORD *)v18 = 0;
            v5 = 0;
          }
        }
        else
        {
          v12 = WSAGetLastError();
          closesocket(s);
          *(_DWORD *)v18 = 0;
          v5 = 0;
        }
      }
    }
    else
    {
      Log("single Binding fail", "ERROR", 0);
      closesocket(s);
      v5 = 0;
    }
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// BAF188: using guessed type int dword_BAF188;

//----- (00420130) --------------------------------------------------------
int __userpurge sub_420130<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, const char *cp, u_short hostshort, int a6, u_int wMsg)
{
  int v7; // eax@4
  int v8; // eax@8
  char v10; // [sp+0h] [bp-174h]@8
  int v11; // [sp+4h] [bp-170h]@14
  int v12; // [sp+8h] [bp-16Ch]@14
  char v13; // [sp+Ch] [bp-168h]@1
  struct sockaddr name; // [sp+4Ch] [bp-128h]@5
  SOCKET s; // [sp+5Ch] [bp-118h]@3
  __int16 v16; // [sp+60h] [bp-114h]@9
  char v17[6]; // [sp+62h] [bp-112h]@9
  char v18; // [sp+70h] [bp-104h]@9
  int v19; // [sp+170h] [bp-4h]@1
  int v20; // [sp+174h] [bp+0h]@8

  memset(&v13, -858993460, 0x168u);
  v19 = a1;
  *(_DWORD *)(a1 + 16) = 0;
  *(_DWORD *)(v19 + 12) = 0;
  *(_DWORD *)(v19 + 20) = 0;
  if ( *(_DWORD *)v19 )
    sub_401410(v19);
  s = socket(2, 1, 0);
  if ( s == -1 )
  {
    v7 = 0;
  }
  else
  {
    name.sa_family = 2;
    *(_DWORD *)&name.sa_data[2] = a6;
    *(_WORD *)&name.sa_data[0] = 0;
    if ( bind(s, &name, 16) != -1
      || (*(_WORD *)&name.sa_data[0] = htons(dword_BAF188 + 6000), bind(s, &name, 16) != -1)
      || (dword_BAF188 += 10, *(_WORD *)&name.sa_data[0] = htons(dword_BAF188 + 6000), bind(s, &name, 16) != -1) )
    {
      sub_4E3F40(a2, a3, (int)&v18, "sock:%d ip:%d.%d.%d.%d port:%d-%d");
      ++dword_BAF188;
      *(_DWORD *)&v17[2] = inet_addr(cp);
      v16 = 2;
      *(_WORD *)v17 = htons(hostshort);
      if ( connect(s, (const struct sockaddr *)&v16, 16) >= 0 )
      {
        sub_4E3F40(a2, a3, (int)&v18, "sock:%d ip:%d.%d.%d.%d port:%d-%d");
        if ( WSAAsyncSelect(s, hWnd, wMsg, 33) <= 0 )
        {
          *(_DWORD *)v19 = s;
          v7 = s;
        }
        else
        {
          closesocket(s);
          *(_DWORD *)v19 = 0;
          v7 = 0;
        }
      }
      else
      {
        sub_4E3F40(a2, a3, (int)&v18, "sock:%d ip:%d.%d.%d.%d port:%d-%d");
        closesocket(s);
        *(_DWORD *)v19 = 0;
        v7 = 0;
      }
    }
    else
    {
      v8 = MessageBoxA(0, "Binding fail", "ERROR", 0);
      sub_4E46A0(&v10 == &v10, v8, a2, (unsigned int)&v20, (int)&v10);
      closesocket(s);
      v7 = 0;
    }
  }
  return sub_4E46A0(1, v7, v12, v10, v11);
}
// 401410: using guessed type int __thiscall sub_401410(_DWORD);
// BAF188: using guessed type int dword_BAF188;

//----- (00420540) --------------------------------------------------------
int __thiscall sub_420540(int this)
{
  int v1; // eax@2
  char v3; // [sp+0h] [bp-58h]@0
  int v4; // [sp+4h] [bp-54h]@0
  int v5; // [sp+8h] [bp-50h]@0
  char v6; // [sp+Ch] [bp-4Ch]@1
  int v7; // [sp+4Ch] [bp-Ch]@1
  int len; // [sp+50h] [bp-8h]@1
  int v9; // [sp+54h] [bp-4h]@1

  memset(&v6, -858993460, 0x4Cu);
  v9 = this;
  len = 131072 - *(_DWORD *)(this + 16);
  v7 = recv(*(_DWORD *)v9, (char *)(*(_DWORD *)(v9 + 16) + *(_DWORD *)(v9 + 8)), len, 0);
  if ( v7 == -1 )
  {
    v1 = 0;
  }
  else
  {
    if ( v7 == len )
    {
      v1 = -1;
    }
    else
    {
      *(_DWORD *)(v9 + 16) += v7;
      v1 = 1;
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}

//----- (004205F0) --------------------------------------------------------
int __thiscall sub_4205F0(void *this, int a2, int a3)
{
  int result; // eax@2
  char v4; // [sp+Ch] [bp-98h]@1
  int v5; // [sp+4Ch] [bp-58h]@46
  int v6; // [sp+50h] [bp-54h]@37
  int v7; // [sp+54h] [bp-50h]@37
  int v8; // [sp+58h] [bp-4Ch]@37
  int v9; // [sp+5Ch] [bp-48h]@35
  int v10; // [sp+60h] [bp-44h]@35
  int v11; // [sp+64h] [bp-40h]@35
  int v12; // [sp+68h] [bp-3Ch]@35
  int v13; // [sp+6Ch] [bp-38h]@33
  int v14; // [sp+70h] [bp-34h]@31
  char v15; // [sp+74h] [bp-30h]@14
  int *v16; // [sp+78h] [bp-2Ch]@14
  int v17; // [sp+7Ch] [bp-28h]@14
  int v18; // [sp+80h] [bp-24h]@12
  int v19; // [sp+84h] [bp-20h]@11
  int v20; // [sp+88h] [bp-1Ch]@11
  int v21; // [sp+8Ch] [bp-18h]@11
  int v22; // [sp+90h] [bp-14h]@11
  int v23; // [sp+94h] [bp-10h]@11
  int v24; // [sp+98h] [bp-Ch]@11
  int v25; // [sp+9Ch] [bp-8h]@6
  void *v26; // [sp+A0h] [bp-4h]@1

  memset(&v4, -858993460, 0x98u);
  v26 = this;
  *(_DWORD *)a2 = 0;
  if ( *((_DWORD *)v26 + 5) >= *((_DWORD *)v26 + 4) )
  {
    *((_DWORD *)v26 + 4) = 0;
    *((_DWORD *)v26 + 5) = 0;
    return 0;
  }
  if ( !*((_DWORD *)v26 + 7) )
  {
    if ( *((_DWORD *)v26 + 4) - *((_DWORD *)v26 + 5) < 4 )
      return 0;
    v25 = *(_DWORD *)(*((_DWORD *)v26 + 2) + *((_DWORD *)v26 + 5));
    if ( v25 != 521270033 )
    {
      *(_DWORD *)a2 = 2;
      *(_DWORD *)a3 = v25;
      return 0;
    }
    *((_DWORD *)v26 + 7) = 1;
    *((_DWORD *)v26 + 5) += 4;
  }
  if ( (unsigned int)(*((_DWORD *)v26 + 4) - *((_DWORD *)v26 + 5)) >= 0xC )
  {
    LOWORD(v24) = *(_WORD *)(*((_DWORD *)v26 + 2) + *((_DWORD *)v26 + 5));
    LOBYTE(v23) = *(_BYTE *)(*((_DWORD *)v26 + 2) + *((_DWORD *)v26 + 5) + 2);
    LOBYTE(v22) = byte_5A054C[2 * (unsigned __int8)v23];
    LOBYTE(v21) = *(_BYTE *)(*((_DWORD *)v26 + 2) + *((_DWORD *)v26 + 5) + 3);
    v20 = *(_WORD *)(*((_DWORD *)v26 + 2) + *((_DWORD *)v26 + 5) + 4);
    v19 = *(_WORD *)(*((_DWORD *)v26 + 2) + *((_DWORD *)v26 + 5) + 6);
    if ( !*((_BYTE *)v26 + 48) )
      goto LABEL_51;
    LOBYTE(v18) = 0;
    if ( *((_DWORD *)v26 + 17) <= 15 )
    {
      LOBYTE(v18) = *((_BYTE *)v26 + (*((_DWORD *)v26 + 17))++ + 48);
    }
    else
    {
      if ( dword_BAF180 )
      {
        v17 = 0;
        v16 = &dword_BAF180;
        v15 = dword_BAF180;
        if ( !(_BYTE)dword_BAF180 )
          v15 = *((_BYTE *)v16 + 3);
        if ( !v15 )
          v15 = 13;
        v17 = *((_BYTE *)v16 + 3) + *((_BYTE *)v16 + 2) - v15 * *((_BYTE *)v16 + 1);
        if ( !v17 )
          v17 = *(_BYTE *)v16;
        LOBYTE(v18) = v17;
      }
      else
      {
        LOBYTE(v18) = *((_BYTE *)v26 + 63) % 2 ? *((_BYTE *)v26 + 59) + *((_BYTE *)v26 + 61) - *((_BYTE *)v26 + 57) + 4 : *((_BYTE *)v26 + 51) + *((_BYTE *)v26 + 49) + *((_BYTE *)v26 + 53) - 87;
      }
    }
    LOBYTE(v18) = ~(_BYTE)v18;
    if ( (unsigned __int8)v18 != (unsigned __int8)v23 )
    {
      *(_DWORD *)a2 = 3;
      *(_DWORD *)a3 = (unsigned __int16)v24;
      result = 0;
    }
    else
    {
LABEL_51:
      if ( (signed int)(unsigned __int16)v24 <= 7000 && (unsigned __int16)v24 >= 0xCu )
      {
        LOWORD(v14) = *((_WORD *)v26 + 8) - *((_WORD *)v26 + 10);
        if ( (unsigned __int16)v24 <= (signed int)(unsigned __int16)v14 )
        {
          v13 = *((_DWORD *)v26 + 5) + *((_DWORD *)v26 + 2);
          *((_DWORD *)v26 + 5) += (unsigned __int16)v24;
          if ( *((_DWORD *)v26 + 4) <= *((_DWORD *)v26 + 5) )
          {
            *((_DWORD *)v26 + 4) = 0;
            *((_DWORD *)v26 + 5) = 0;
          }
          LOBYTE(v12) = 0;
          LOBYTE(v11) = 0;
          v10 = (unsigned __int8)v22;
          v9 = 4;
          while ( v9 < (unsigned __int16)v24 )
          {
            v8 = v10 % 256;
            LOBYTE(v11) = *(_BYTE *)(v9 + v13) + v11;
            LOBYTE(v7) = byte_5A054D[2 * v10 % 256];
            v6 = v9 & 3;
            if ( !(v9 & 3) )
              *(_BYTE *)(v9 + v13) -= 2 * v7;
            if ( v6 == 1 )
              *(_BYTE *)(v9 + v13) += (signed int)(unsigned __int8)v7 >> 3;
            if ( v6 == 2 )
              *(_BYTE *)(v9 + v13) -= 4 * v7;
            if ( v6 == 3 )
              *(_BYTE *)(v9 + v13) += (signed int)(unsigned __int8)v7 >> 5;
            LOBYTE(v12) = *(_BYTE *)(v9++ + v13) + v12;
            ++v10;
          }
          LOBYTE(v5) = v11 - v12;
          if ( (unsigned __int8)(v11 - (_BYTE)v12) != (unsigned __int8)v21 )
          {
            *(_DWORD *)a2 = 1;
            *(_DWORD *)a3 = (unsigned __int16)v24;
          }
          result = v13;
        }
        else
        {
          result = 0;
        }
      }
      else
      {
        *((_DWORD *)v26 + 4) = 0;
        *((_DWORD *)v26 + 5) = 0;
        *(_DWORD *)a2 = 2;
        *(_DWORD *)a3 = (unsigned __int16)v24;
        result = 0;
      }
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// BAF180: using guessed type int dword_BAF180;

//----- (00420D10) --------------------------------------------------------
int __thiscall sub_420D10(void *this, int a2, int a3)
{
  int result; // eax@2
  char v4; // [sp+Ch] [bp-48h]@1
  int v5; // [sp+4Ch] [bp-8h]@5
  void *v6; // [sp+50h] [bp-4h]@1

  memset(&v4, -858993460, 0x48u);
  v6 = this;
  *(_DWORD *)a2 = 0;
  *(_DWORD *)a3 = 0;
  if ( *((_DWORD *)v6 + 5) < *((_DWORD *)v6 + 4) )
  {
    if ( (unsigned int)(*((_DWORD *)v6 + 4) - *((_DWORD *)v6 + 5)) >= 0xC4 )
    {
      v5 = *((_DWORD *)v6 + 5) + *((_DWORD *)v6 + 2);
      *((_DWORD *)v6 + 5) += 196;
      if ( *((_DWORD *)v6 + 4) <= *((_DWORD *)v6 + 5) )
      {
        *((_DWORD *)v6 + 4) = 0;
        *((_DWORD *)v6 + 5) = 0;
      }
      result = v5;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    *((_DWORD *)v6 + 4) = 0;
    *((_DWORD *)v6 + 5) = 0;
    result = 0;
  }
  return result;
}

//----- (00420E00) --------------------------------------------------------
int __thiscall sub_420E00(int this, int a2)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-58h]@0
  int v5; // [sp+4h] [bp-54h]@0
  int v6; // [sp+8h] [bp-50h]@0
  char v7; // [sp+Ch] [bp-4Ch]@1
  int v8; // [sp+4Ch] [bp-Ch]@6
  unsigned int i; // [sp+50h] [bp-8h]@3
  int v10; // [sp+54h] [bp-4h]@1

  memset(&v7, -858993460, 0x4Cu);
  v10 = this;
  if ( (unsigned int)(*(_DWORD *)(this + 12) + 196) < 0x20000 )
  {
    for ( i = 0; i < 0xC4; ++i )
      *(_BYTE *)(*(_DWORD *)(v10 + 4) + i + *(_DWORD *)(v10 + 12)) = *(_BYTE *)(i + a2);
    *(_DWORD *)(v10 + 12) += 196;
    v2 = sub_4019FB(v10);
    v8 = v2;
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4019FB: using guessed type int __thiscall sub_4019FB(_DWORD);

//----- (00420ED0) --------------------------------------------------------
int __thiscall sub_420ED0(int this, int a2, int a3)
{
  char v4; // [sp+0h] [bp-60h]@0
  int v5; // [sp+4h] [bp-5Ch]@0
  int v6; // [sp+8h] [bp-58h]@0
  char v7; // [sp+Ch] [bp-54h]@1
  int v8; // [sp+4Ch] [bp-14h]@23
  char v9; // [sp+50h] [bp-10h]@4
  int *v10; // [sp+54h] [bp-Ch]@4
  int v11; // [sp+58h] [bp-8h]@1
  int v12; // [sp+5Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x54u);
  v12 = this;
  v11 = 0;
  if ( *(_BYTE *)(this + 32) )
  {
    if ( *(_DWORD *)(v12 + 64) <= 15 )
    {
      if ( *(_BYTE *)(v12 + 32) )
      {
        if ( *(_DWORD *)(v12 + 64) <= 15 )
        {
          v11 = *(_BYTE *)(v12 + *(_DWORD *)(v12 + 64) + 32);
          v11 ^= 0xFFu;
          ++*(_DWORD *)(v12 + 64);
        }
        else
        {
          if ( *(_BYTE *)(v12 + 47) % 2 )
            v11 = *(_BYTE *)(v12 + 43) + *(_BYTE *)(v12 + 45) - *(_BYTE *)(v12 + 41) + 4;
          else
            v11 = *(_BYTE *)(v12 + 35) + *(_BYTE *)(v12 + 33) + *(_BYTE *)(v12 + 37) - 87;
          v11 ^= 0xFFu;
        }
      }
    }
    else
    {
      if ( dword_BAF180 )
      {
        v10 = &dword_BAF180;
        v9 = dword_BAF180;
        if ( !(_BYTE)dword_BAF180 )
          v9 = *((_BYTE *)v10 + 3);
        if ( !v9 )
          v9 = 13;
        v11 = *((_BYTE *)v10 + 3) + *((_BYTE *)v10 + 2) - v9 * *((_BYTE *)v10 + 1);
        if ( !v11 )
          v11 = *(_BYTE *)v10;
        v11 ^= 0xFFu;
      }
      else
      {
        if ( *(_BYTE *)(v12 + 47) % 2 )
          v11 = *(_BYTE *)(v12 + 43) + *(_BYTE *)(v12 + 45) - *(_BYTE *)(v12 + 41) + 4;
        else
          v11 = *(_BYTE *)(v12 + 35) + *(_BYTE *)(v12 + 33) + *(_BYTE *)(v12 + 37) - 87;
        v11 ^= 0xFFu;
      }
    }
  }
  v8 = sub_401B40(a2, a3, v11);
  return sub_4E46A0(1, v8, v6, v4, v5);
}
// 401B40: using guessed type _DWORD __stdcall sub_401B40(_DWORD, _DWORD, _DWORD);
// BAF180: using guessed type int dword_BAF180;

//----- (00421140) --------------------------------------------------------
int __thiscall sub_421140(void *this, const void *a2, int a3, int a4)
{
  int v4; // eax@2
  char v6; // [sp+0h] [bp-7Ch]@0
  int v7; // [sp+4h] [bp-78h]@0
  int v8; // [sp+8h] [bp-74h]@0
  char v9; // [sp+Ch] [bp-70h]@1
  int v10; // [sp+4Ch] [bp-30h]@9
  int v11; // [sp+50h] [bp-2Ch]@9
  int v12; // [sp+54h] [bp-28h]@9
  int v13; // [sp+58h] [bp-24h]@7
  int v14; // [sp+5Ch] [bp-20h]@7
  int v15; // [sp+60h] [bp-1Ch]@7
  int v16; // [sp+64h] [bp-18h]@7
  char v17; // [sp+68h] [bp-14h]@7
  int v18; // [sp+6Ch] [bp-10h]@7
  int v19; // [sp+70h] [bp-Ch]@5
  const void *v20; // [sp+74h] [bp-8h]@1
  void *v21; // [sp+78h] [bp-4h]@1

  memset(&v9, -858993460, 0x70u);
  v21 = this;
  v20 = a2;
  if ( *(_DWORD *)this )
  {
    if ( a3 + *((_DWORD *)v21 + 3) < 131072 )
    {
      LOBYTE(v19) = a4;
      if ( !a4 )
        LOBYTE(v19) = Rand()();
      LOBYTE(v18) = byte_5A054C[2 * (unsigned __int8)v19];
      v17 = 0;
      *(_WORD *)v20 = a3;
      *((_BYTE *)v20 + 2) = v19;
      *((_BYTE *)v20 + 3) = v17;
      *((_DWORD *)v20 + 2) = dword_8C76270;
      dword_8C76274 = dword_8C76270;
      LOBYTE(v16) = 0;
      LOBYTE(v15) = 0;
      v14 = (unsigned __int8)v18;
      v13 = 4;
      while ( v13 < a3 )
      {
        LOBYTE(v16) = *((_BYTE *)a2 + v13) + v16;
        v12 = v14 % 256;
        LOBYTE(v11) = byte_5A054D[2 * v14 % 256];
        v10 = v13 & 3;
        if ( !(v13 & 3) )
          *(_BYTE *)(*((_DWORD *)v21 + 1) + v13 + *((_DWORD *)v21 + 3)) = *((_BYTE *)a2 + v13) + 2 * v11;
        if ( v10 == 1 )
          *(_BYTE *)(*((_DWORD *)v21 + 1) + v13 + *((_DWORD *)v21 + 3)) = *((_BYTE *)a2 + v13)
                                                                        - ((signed int)(unsigned __int8)v11 >> 3);
        if ( v10 == 2 )
          *(_BYTE *)(*((_DWORD *)v21 + 1) + v13 + *((_DWORD *)v21 + 3)) = *((_BYTE *)a2 + v13) + 4 * v11;
        if ( v10 == 3 )
          *(_BYTE *)(*((_DWORD *)v21 + 1) + v13 + *((_DWORD *)v21 + 3)) = *((_BYTE *)a2 + v13)
                                                                        - ((signed int)(unsigned __int8)v11 >> 5);
        LOBYTE(v15) = *(_BYTE *)(*((_DWORD *)v21 + 1) + v13++ + *((_DWORD *)v21 + 3)) + v15;
        ++v14;
      }
      v17 = v15 - v16;
      *((_BYTE *)v20 + 3) = v15 - v16;
      sub_4E4810((void *)(*((_DWORD *)v21 + 3) + *((_DWORD *)v21 + 1)), a2, 4u);
      *((_DWORD *)v21 + 3) += a3;
      v4 = 1;
    }
    else
    {
      *((_DWORD *)v21 + 18) = 1;
      v4 = 0;
    }
  }
  else
  {
    *((_DWORD *)v21 + 18) = 10;
    v4 = 0;
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 8C76270: using guessed type int dword_8C76270;
// 8C76274: using guessed type int dword_8C76274;

//----- (004215B0) --------------------------------------------------------
int __thiscall sub_4215B0(int this)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-54h]@0
  int v4; // [sp+4h] [bp-50h]@0
  int v5; // [sp+8h] [bp-4Ch]@0
  char v6; // [sp+Ch] [bp-48h]@1
  unsigned int v7; // [sp+4Ch] [bp-8h]@1
  int v8; // [sp+50h] [bp-4h]@1

  memset(&v6, -858993460, 0x48u);
  v8 = this;
  v1 = this;
  v7 = *(_DWORD *)(this + 12) - *(_DWORD *)(this + 24);
  if ( (signed int)v7 > 0 && (signed int)v7 <= 131072 )
  {
    sub_4E4810(*(void **)(v8 + 4), (const void *)(*(_DWORD *)(v8 + 24) + *(_DWORD *)(v8 + 4)), v7);
    *(_DWORD *)(v8 + 24) = 0;
    v1 = v8;
    *(_DWORD *)(v8 + 12) -= v7;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}

//----- (00421660) --------------------------------------------------------
int __usercall sub_421660<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>)
{
  int v3; // eax@2
  char v5; // [sp+0h] [bp-160h]@0
  int v6; // [sp+4h] [bp-15Ch]@0
  int v7; // [sp+8h] [bp-158h]@0
  char v8; // [sp+Ch] [bp-154h]@1
  int v9; // [sp+4Ch] [bp-114h]@14
  int len; // [sp+50h] [bp-110h]@14
  int v11; // [sp+54h] [bp-10Ch]@14
  int i; // [sp+58h] [bp-108h]@12
  char v13; // [sp+5Ch] [bp-104h]@7
  int v14; // [sp+15Ch] [bp-4h]@1

  memset(&v8, -858993460, 0x154u);
  v14 = a1;
  if ( *(_DWORD *)a1 )
  {
    if ( *(_DWORD *)(v14 + 24) > 0 )
      sub_4015BE(v14);
    if ( *(_DWORD *)(v14 + 12) <= 131072 && *(_DWORD *)(v14 + 12) >= 0 )
    {
      if ( *(_DWORD *)(v14 + 24) > *(_DWORD *)(v14 + 12) || *(_DWORD *)(v14 + 24) >= 131072 || *(_DWORD *)(v14 + 24) < 0 )
      {
        sub_4E3F40(a2, a3, (int)&v13, "err,send2 %d %d %d");
        Log(&v13, "-system", 0);
        *(_DWORD *)(v14 + 12) = 0;
        *(_DWORD *)(v14 + 24) = 0;
      }
      for ( i = 0; i < 1; ++i )
      {
        v11 = 0;
        len = *(_DWORD *)(v14 + 12) - *(_DWORD *)(v14 + 24);
        v9 = send(*(_DWORD *)v14, (const char *)(*(_DWORD *)(v14 + 24) + *(_DWORD *)(v14 + 4)), len, 0);
        if ( v9 == -1 )
          v11 = WSAGetLastError();
        else
          *(_DWORD *)(v14 + 24) += v9;
        if ( *(_DWORD *)(v14 + 24) >= *(_DWORD *)(v14 + 12) && v9 != -1 )
        {
          *(_DWORD *)(v14 + 12) = 0;
          *(_DWORD *)(v14 + 24) = 0;
          v3 = 1;
          return sub_4E46A0(1, v3, v7, v5, v6);
        }
      }
      v3 = *(_DWORD *)(v14 + 12) < 131072;
    }
    else
    {
      sub_4E3F40(a2, a3, (int)&v13, "err,send1 %d %d %d");
      Log(&v13, "-system", 0);
      *(_DWORD *)(v14 + 12) = 0;
      *(_DWORD *)(v14 + 24) = 0;
      v3 = 0;
    }
  }
  else
  {
    *(_DWORD *)(v14 + 12) = 0;
    *(_DWORD *)(v14 + 24) = 0;
    v3 = 0;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4015BE: using guessed type int __thiscall sub_4015BE(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);

//----- (004219A0) --------------------------------------------------------
int __thiscall sub_4219A0(void *this, int a2, int a3)
{
  char v4; // [sp+0h] [bp-54h]@0
  int v5; // [sp+4h] [bp-50h]@0
  int v6; // [sp+8h] [bp-4Ch]@0
  char v7; // [sp+Ch] [bp-48h]@1
  int v8; // [sp+4Ch] [bp-8h]@1
  void *v9; // [sp+50h] [bp-4h]@1

  memset(&v7, -858993460, 0x48u);
  v9 = this;
  sub_401203(a2, a3);
  v8 = sub_4019FB(v9);
  return sub_4E46A0(1, v8, v6, v4, v5);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 4019FB: using guessed type int __thiscall sub_4019FB(_DWORD);

//----- (00421FE0) --------------------------------------------------------
int __thiscall sub_421FE0(void *this)
{
  char v2; // [sp+0h] [bp-5Ch]@0
  int v3; // [sp+4h] [bp-58h]@0
  int v4; // [sp+8h] [bp-54h]@0
  char v5; // [sp+Ch] [bp-50h]@1
  int v6; // [sp+4Ch] [bp-10h]@1
  int v7; // [sp+58h] [bp-4h]@1

  memset(&v5, -858993460, 0x44u);
  v6 = (int)this;
  sub_40154B((char *)this + 32);
  v7 = 0;
  *(_DWORD *)(v6 + 24) = 0;
  *(_DWORD *)(v6 + 2284) = 0;
  *(_DWORD *)(v6 + 2436) = 0;
  *(_DWORD *)(v6 + 2532) = 0;
  sub_401B68(v6);
  return sub_4E46A0(1, v6, v4, v2, v3);
}
// 40154B: using guessed type int __thiscall sub_40154B(_DWORD);
// 401B68: using guessed type int __thiscall sub_401B68(_DWORD);

//----- (004220B0) --------------------------------------------------------
int __thiscall sub_4220B0(void *this)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-50h]@0
  int v4; // [sp+4h] [bp-4Ch]@0
  int v5; // [sp+8h] [bp-48h]@0
  char v6; // [sp+Ch] [bp-44h]@1

  memset(&v6, -858993460, 0x44u);
  v1 = sub_4014C9((char *)this + 32);
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4014C9: using guessed type int __thiscall sub_4014C9(_DWORD);

//----- (00422100) --------------------------------------------------------
int __thiscall sub_422100(int this)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-50h]@0
  int v4; // [sp+4h] [bp-4Ch]@0
  int v5; // [sp+8h] [bp-48h]@0
  char v6; // [sp+Ch] [bp-44h]@1
  int v7; // [sp+4Ch] [bp-4h]@1

  memset(&v6, -858993460, 0x44u);
  v7 = this;
  sub_4E4640((void *)(this + 108), 0, 0x400u);
  *(_DWORD *)(v7 + 2440) = 0;
  *(_DWORD *)(v7 + 2456) = 0;
  *(_DWORD *)(v7 + 2536) = 0;
  *(_DWORD *)(v7 + 2708) = -1;
  *(_DWORD *)(v7 + 2712) = 0;
  *(_DWORD *)(v7 + 2728) = 0;
  *(_DWORD *)(v7 + 2732) = 0;
  *(_DWORD *)(v7 + 2348) = 0;
  *(_DWORD *)(v7 + 2352) = 0;
  *(_DWORD *)(v7 + 2356) = 0;
  *(_DWORD *)(v7 + 2364) = 0;
  *(_DWORD *)(v7 + 2448) = 0;
  *(_DWORD *)(v7 + 2444) = 0;
  *(_DWORD *)(v7 + 2600) = 0;
  v1 = v7;
  *(_DWORD *)(v7 + 2604) = 0;
  *(_DWORD *)(v7 + 2736) = 0;
  *(_DWORD *)(v7 + 2740) = 0;
  return sub_4E46A0(1, v1, v5, v3, v4);
}

//----- (00422270) --------------------------------------------------------
int __thiscall sub_422270(void *this, SOCKET s)
{
  int v2; // eax@2
  u_long v3; // eax@4
  char v5; // [sp+0h] [bp-8Ch]@0
  int v6; // [sp+4h] [bp-88h]@0
  int v7; // [sp+8h] [bp-84h]@0
  char v8; // [sp+Ch] [bp-80h]@1
  int *v9; // [sp+4Ch] [bp-40h]@33
  int k; // [sp+50h] [bp-3Ch]@30
  int v11; // [sp+54h] [bp-38h]@22
  int j; // [sp+58h] [bp-34h]@17
  int v13; // [sp+5Ch] [bp-30h]@17
  int *v14; // [sp+60h] [bp-2Ch]@10
  int i; // [sp+64h] [bp-28h]@7
  int v16; // [sp+68h] [bp-24h]@6
  int v17; // [sp+6Ch] [bp-20h]@4
  SOCKET v18; // [sp+70h] [bp-1Ch]@1
  int addrlen; // [sp+74h] [bp-18h]@1
  struct sockaddr addr; // [sp+78h] [bp-14h]@1
  void *v21; // [sp+88h] [bp-4h]@1

  memset(&v8, -858993460, 0x80u);
  v21 = this;
  addrlen = 16;
  v18 = accept(s, &addr, &addrlen);
  if ( (v18 & 0x80000000u) == 0 )
  {
    *((_DWORD *)v21 + 8) = v18;
    *((_DWORD *)v21 + 12) = 0;
    *((_DWORD *)v21 + 13) = 0;
    *((_DWORD *)v21 + 11) = 0;
    *((_DWORD *)v21 + 5) = *(_DWORD *)&addr.sa_data[2];
    if ( dword_8C76190 != 1 || (v3 = ntohl(*((_DWORD *)v21 + 5)), v17 = sub_4011E0(v3), dword_5A0F14 != v17) )
    {
      v16 = *(_DWORD *)&addr.sa_data[2];
      if ( dword_8A58BC[0] )
      {
        for ( i = 0; i < 200 && dword_8A58BC[i]; ++i )
        {
          v14 = &dword_8A58BC[i];
          if ( BYTE3(dword_8A58BC[i]) )
          {
            if ( dword_8A58BC[i] == v16 )
            {
              v2 = 0;
              return sub_4E46A0(1, v2, v7, v5, v6);
            }
          }
          else
          {
            if ( dword_8A58BC[i] == ((unsigned int)&unk_FFFFFF & v16) )
            {
              v2 = 0;
              return sub_4E46A0(1, v2, v7, v5, v6);
            }
          }
        }
      }
      v13 = 0;
      for ( j = 0; j < 1000; ++j )
      {
        if ( dword_752BAEC[790 * j] == v16 && dword_752BAF0[790 * j] == 1 )
        {
          if ( v13 > 10 )
          {
            v11 = sub_4012C1(v16);
            if ( v11 == 200 )
            {
              v2 = 0;
            }
            else
            {
              dword_8A58BC[v11] = v16;
              Log("DDDOS ATTACK", "-DOS-", *((_DWORD *)v21 + 5));
              v2 = 0;
            }
            return sub_4E46A0(1, v2, v7, v5, v6);
          }
          ++v13;
        }
      }
      if ( WSAAsyncSelect(v18, hWnd, dword_8C76194 + 36864, 33) <= 0 )
      {
        *(_BYTE *)v21 = 0;
        *((_DWORD *)v21 + 633) = 0;
        sub_4E4640((char *)v21 + 2608, 0, 0x60u);
        *((_DWORD *)v21 + 6) = 1;
        *((_DWORD *)v21 + 379) = 0;
        *((_DWORD *)v21 + 634) = dword_8C7632C;
        *((_DWORD *)v21 + 635) = 0;
        *((_DWORD *)v21 + 636) = 0;
        if ( dword_8C8D60[0] )
        {
          for ( k = 0; k < 3000 && dword_8C8D60[k]; ++k )
          {
            v9 = &dword_8C8D60[k];
            if ( BYTE3(dword_8C8D60[k]) )
            {
              if ( dword_8C8D60[k] == *((_DWORD *)v21 + 5) )
              {
                *((_DWORD *)v21 + 633) = k + 1;
                break;
              }
            }
            else
            {
              if ( dword_8C8D60[k] == ((unsigned int)&unk_FFFFFF & *((_DWORD *)v21 + 5)) )
              {
                *((_DWORD *)v21 + 633) = k + 1;
                break;
              }
            }
          }
        }
        v2 = 1;
      }
      else
      {
        closesocket(v18);
        v2 = 0;
      }
    }
    else
    {
      Log("BLOCK COUNTRY", "-IP-", *((_DWORD *)v21 + 5));
      v2 = 0;
    }
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v7, v5, v6);
}
// 4011E0: using guessed type _DWORD __cdecl sub_4011E0(_DWORD);
// 4012C1: using guessed type _DWORD __cdecl sub_4012C1(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 5A0F14: using guessed type int dword_5A0F14;
// 8A58BC: using guessed type int dword_8A58BC[];
// 8C8D60: using guessed type int dword_8C8D60[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 8C76190: using guessed type int dword_8C76190;
// 8C76194: using guessed type int dword_8C76194;
// 8C7632C: using guessed type int dword_8C7632C;

//----- (00422690) --------------------------------------------------------
int __thiscall sub_422690(void *this)
{
  char v2; // [sp+0h] [bp-50h]@0
  int v3; // [sp+4h] [bp-4Ch]@0
  int v4; // [sp+8h] [bp-48h]@0
  char v5; // [sp+Ch] [bp-44h]@1
  void *v6; // [sp+4Ch] [bp-4h]@1

  memset(&v5, -858993460, 0x44u);
  v6 = this;
  sub_401410((char *)this + 32);
  *((_DWORD *)v6 + 8) = 0;
  *((_DWORD *)v6 + 676) = 0;
  *((_DWORD *)v6 + 6) = 0;
  *(_BYTE *)v6 = 0;
  *((_DWORD *)v6 + 634) = 0;
  sub_4E4640((char *)v6 + 2608, 0, 0x60u);
  *((_DWORD *)v6 + 633) = 0;
  return sub_4E46A0(1, 1, v4, v2, v3);
}
// 401410: using guessed type int __thiscall sub_401410(_DWORD);

//----- (00422750) --------------------------------------------------------
int __cdecl sub_422750(int a1, int a2, void *a3)
{
  int v3; // eax@28
  char v5; // [sp+0h] [bp-184h]@0
  int v6; // [sp+4h] [bp-180h]@0
  int v7; // [sp+8h] [bp-17Ch]@0
  char v8; // [sp+Ch] [bp-178h]@1
  void **v9; // [sp+4Ch] [bp-138h]@53
  int k; // [sp+50h] [bp-134h]@51
  void **v11; // [sp+54h] [bp-130h]@16
  int j; // [sp+58h] [bp-12Ch]@14
  int i; // [sp+5Ch] [bp-128h]@11
  char v14; // [sp+60h] [bp-124h]@11
  char v15; // [sp+64h] [bp-120h]@13
  char v16; // [sp+65h] [bp-11Fh]@19
  char v17; // [sp+66h] [bp-11Eh]@19
  int v18; // [sp+68h] [bp-11Ch]@1
  unsigned int v19; // [sp+6Ch] [bp-118h]@1
  int v20; // [sp+170h] [bp-14h]@1
  void **v21; // [sp+174h] [bp-10h]@1
  void **v22; // [sp+178h] [bp-Ch]@1
  void **v23; // [sp+17Ch] [bp-8h]@1
  void **v24; // [sp+180h] [bp-4h]@1

  memset(&v8, -858993460, 0x178u);
  v21 = &off_59A47C;
  v22 = &off_59A494;
  v23 = (void **)off_59A4AC;
  v24 = &off_59A4C4;
  v20 = 0;
  v19 = 0;
  LOBYTE(v18) = 0;
  sub_4E4640(a3, 0, 4u);
  if ( dword_AACD60 == 1 )
  {
    *(_BYTE *)a1 = 12;
    *(_BYTE *)(a1 + 1) = 10;
    *(_BYTE *)(a1 + 2) = 4;
  }
  else
  {
    if ( a2 <= 0 )
    {
      v20 = Rand()() % 100;
      if ( v20 <= 40 )
        sub_40128F(a1, 3);
      else
        sub_401037(a1, 3);
    }
    else
    {
      v20 = Rand()() % 100;
      if ( v20 >= 50 )
        sub_40128F(a1, 3);
      else
        sub_401037(a1, 3);
    }
  }
  LOBYTE(v18) = 0;
  v14 = 0;
  for ( i = 0; i < 5; ++i )
  {
    sub_4E4640(&v15, 0, 3u);
    if ( i >= 3 )
    {
      if ( i == 3 )
      {
        v15 = *((_BYTE *)&off_59A47C + *(_BYTE *)a1);
        v16 = *((_BYTE *)&off_59A494 + (*(_BYTE *)(a1 + 1) + 1) % 22);
        v17 = off_59A4AC[(*(_BYTE *)(a1 + 2) + 2) % 22];
      }
      else
      {
        v15 = *((_BYTE *)&off_59A47C + (*(_BYTE *)a1 + 2) % 22);
        v16 = *((_BYTE *)&off_59A494 + (*(_BYTE *)(a1 + 1) + 1) % 22);
        v17 = off_59A4AC[*(_BYTE *)(a1 + 2)];
      }
    }
    else
    {
      for ( j = 0; j < 3; ++j )
      {
        v11 = (&v21)[j];
        *(&v15 + j) = *((_BYTE *)v11 + (i + *(_BYTE *)(j + a1)) % 22);
      }
    }
    *((_BYTE *)a3 + i) = sub_4010F0(&v15, &v18);
    if ( (signed int)(unsigned __int8)v18 > 0 && i == 1 )
      LOBYTE(v18) = 1;
    if ( v14 < (signed int)*((_BYTE *)a3 + i) )
      v14 = *((_BYTE *)a3 + i);
  }
  if ( dword_AACD60 == 1 )
  {
    dword_AACD60 = 0;
    v3 = 1;
  }
  else
  {
    if ( (_BYTE)v18 || v14 >= 13 )
    {
      if ( (_BYTE)v18 )
      {
        v14 = 19;
      }
      else
      {
        if ( v19 < 0x59682F00 )
        {
          if ( v19 < 0xB2D05E00 )
          {
            if ( v19 >= 0xEE6B2800 )
              v14 = 13;
          }
          else
          {
            v14 = 15;
          }
        }
        else
        {
          v14 = 16;
        }
      }
      v14 -= 13;
      v20 = Rand()() % 100;
      if ( (_BYTE)v18 && !byte_54F8189 )
        v20 = 0;
      if ( (_BYTE)v18 && dword_54EB278 < (unsigned int)&unk_2625A00 )
        v20 = 0;
      if ( v20 < 10 * v14 + 35 )
      {
        sub_401037(a1, 3);
        for ( i = 0; i < 5; ++i )
        {
          sub_4E4640(&v15, 0, 3u);
          if ( i >= 3 )
          {
            if ( i == 3 )
            {
              v15 = *((_BYTE *)&off_59A47C + *(_BYTE *)a1);
              v16 = *((_BYTE *)&off_59A494 + (*(_BYTE *)(a1 + 1) + 1) % 22);
              v17 = off_59A4AC[(*(_BYTE *)(a1 + 2) + 2) % 22];
            }
            else
            {
              v15 = *((_BYTE *)&off_59A47C + (*(_BYTE *)a1 + 2) % 22);
              v16 = *((_BYTE *)&off_59A494 + (*(_BYTE *)(a1 + 1) + 1) % 22);
              v17 = off_59A4AC[*(_BYTE *)(a1 + 2)];
            }
          }
          else
          {
            for ( k = 0; k < 3; ++k )
            {
              v9 = (&v21)[k];
              *(&v15 + k) = *((_BYTE *)v9 + (i + *(_BYTE *)(k + a1)) % 22);
            }
          }
          *((_BYTE *)a3 + i) = sub_4010F0(&v15, &v18);
          LOBYTE(v18) = (signed int)(unsigned __int8)v18 > 0 && i == 1;
        }
        v3 = 1;
      }
      else
      {
        v3 = 1;
      }
    }
    else
    {
      v3 = 1;
    }
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401037: using guessed type _DWORD __cdecl sub_401037(_DWORD, char);
// 4010F0: using guessed type _DWORD __cdecl sub_4010F0(_DWORD, _DWORD);
// 40128F: using guessed type _DWORD __cdecl sub_40128F(_DWORD, char);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 59A47C: using guessed type void *off_59A47C;
// 59A494: using guessed type void *off_59A494;
// 59A4C4: using guessed type void *off_59A4C4;
// AACD60: using guessed type int dword_AACD60;
// 54EB278: using guessed type int dword_54EB278;
// 54F8189: using guessed type char byte_54F8189;

//----- (00422EC0) --------------------------------------------------------
int __cdecl sub_422EC0(int a1, char a2, char a3)
{
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  if ( a2 )
    sub_401163(a1, a2, a3);
  else
    sub_401037(a1, 3);
  return sub_4E46A0(1, 1, v6, v4, v5);
}
// 401037: using guessed type _DWORD __cdecl sub_401037(_DWORD, char);
// 401163: using guessed type _DWORD __cdecl sub_401163(_DWORD, char, char);

//----- (00422F30) --------------------------------------------------------
int __cdecl sub_422F30(int a1, char a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  v2 = -858993460;
  memset(&v7, -858993460, 0x44u);
  for ( i = 0; i < a2; ++i )
  {
    *(_BYTE *)(i + a1) = Rand()() % 22;
    v2 = i + 1;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (00422FB0) --------------------------------------------------------
int __cdecl sub_422FB0(int a1, char a2)
{
  int v2; // eax@8
  int v3; // eax@24
  char v4; // al@29
  char v6; // [sp+0h] [bp-7Ch]@0
  int v7; // [sp+4h] [bp-78h]@0
  int v8; // [sp+8h] [bp-74h]@0
  char v9; // [sp+Ch] [bp-70h]@1
  void **v10; // [sp+4Ch] [bp-30h]@17
  int k; // [sp+50h] [bp-2Ch]@15
  void **v12; // [sp+54h] [bp-28h]@1
  void **v13; // [sp+58h] [bp-24h]@1
  int v14; // [sp+5Ch] [bp-20h]@1
  void **v15; // [sp+60h] [bp-1Ch]@1
  char v16; // [sp+64h] [bp-18h]@1
  int v17; // [sp+68h] [bp-14h]@1
  char v18; // [sp+6Ch] [bp-10h]@1
  char v19; // [sp+6Dh] [bp-Fh]@21
  char v20; // [sp+6Eh] [bp-Eh]@21
  char v21; // [sp+6Fh] [bp-Dh]@25
  char v22; // [sp+70h] [bp-Ch]@27
  int i; // [sp+74h] [bp-8h]@1
  int j; // [sp+78h] [bp-4h]@1

  memset(&v9, -858993460, 0x70u);
  j = 0;
  i = 0;
  sub_4E4640(&v18, 0, 5u);
  LOBYTE(v17) = 0;
  v16 = 0;
  v12 = &off_59A47C;
  v13 = &off_59A494;
  v14 = (int)off_59A4AC;
  v15 = &off_59A4C4;
  for ( i = 0; i < 15; ++i )
  {
    for ( j = 0; j < a2; ++j )
    {
      *(_BYTE *)(j + a1) = Rand()() % 22;
      if ( !j && (signed int)*(_BYTE *)a1 >= 15 && (signed int)*(_BYTE *)(j + a1) <= 19 )
      {
        v2 = Rand()() & 0x80000001;
        if ( v2 < 0 )
          LOBYTE(v2) = ((unsigned __int8)(v2 - 1) | 0xFE) + 1;
        *(_BYTE *)(j + a1) = v2 + 20;
      }
    }
    for ( j = 0; j < 5; ++j )
    {
      if ( j >= 3 )
      {
        if ( a2 == 3 )
        {
          if ( j == 3 )
          {
            v18 = *((_BYTE *)&off_59A47C + *(_BYTE *)a1);
            v19 = *((_BYTE *)&off_59A494 + (*(_BYTE *)(a1 + 1) + 1) % 22);
            v20 = off_59A4AC[(*(_BYTE *)(a1 + 2) + 2) % 22];
          }
          else
          {
            v18 = *((_BYTE *)&off_59A47C + (*(_BYTE *)a1 + 2) % 22);
            v19 = *((_BYTE *)&off_59A494 + (*(_BYTE *)(a1 + 1) + 1) % 22);
            v20 = off_59A4AC[*(_BYTE *)(a1 + 2)];
          }
        }
        else
        {
          v3 = a2;
          if ( a2 == 4 )
          {
            v18 = 0;
            v19 = 0;
            v20 = 0;
            v21 = 0;
            return sub_4E46A0(1, v3, v8, v6, v7);
          }
          if ( j == 3 )
          {
            v18 = *((_BYTE *)&off_59A47C + *(_BYTE *)a1);
            v19 = *((_BYTE *)&off_59A494 + (*(_BYTE *)(a1 + 1) + 1) % 22);
            v20 = off_59A4AC[(*(_BYTE *)(a1 + 2) + 2) % 22];
            v21 = *((_BYTE *)&off_59A4C4 + (*(_BYTE *)(a1 + 3) + 1) % 22);
            v22 = byte_59A4DC[*(_BYTE *)(a1 + 4)];
          }
          else
          {
            v18 = *((_BYTE *)&off_59A47C + (*(_BYTE *)a1 + 2) % 22);
            v19 = *((_BYTE *)&off_59A494 + (*(_BYTE *)(a1 + 1) + 1) % 22);
            v20 = off_59A4AC[*(_BYTE *)(a1 + 2)];
            v21 = *((_BYTE *)&off_59A4C4 + (*(_BYTE *)(a1 + 3) + 1) % 22);
            v22 = byte_59A4DC[(*(_BYTE *)(a1 + 4) + 2) % 22];
          }
        }
      }
      else
      {
        for ( k = 0; k < a2; ++k )
        {
          v10 = (&v12)[k];
          *(&v18 + k) = *((_BYTE *)v10 + (j + *(_BYTE *)(k + a1)) % 22);
        }
      }
      v4 = sub_4010F0(&v18, &v16);
      LOBYTE(v17) = v4 + v17;
    }
    v3 = (unsigned __int8)v17;
    if ( !(_BYTE)v17 )
      return sub_4E46A0(1, v3, v8, v6, v7);
  }
  *(_BYTE *)a1 = 0;
  v3 = a1;
  *(_BYTE *)(a1 + 1) %= 22;
  return sub_4E46A0(1, v3, v8, v6, v7);
}
// 4010F0: using guessed type _DWORD __cdecl sub_4010F0(_DWORD, _DWORD);
// 59A47C: using guessed type void *off_59A47C;
// 59A494: using guessed type void *off_59A494;
// 59A4C4: using guessed type void *off_59A4C4;

//----- (004233F0) --------------------------------------------------------
char __cdecl sub_4233F0(int a1, int a2)
{
  char v3; // [sp+Ch] [bp-40h]@1

  memset(&v3, -858993460, 0x40u);
  if ( (signed int)*(_BYTE *)a1 < 7 || (signed int)*(_BYTE *)(a1 + 1) < 7 || (signed int)*(_BYTE *)(a1 + 2) < 7 )
  {
    if ( *(_BYTE *)a1 == 4 && *(_BYTE *)(a1 + 1) == 5 && *(_BYTE *)(a1 + 2) == 6 )
      return 7;
  }
  else
  {
    if ( *(_BYTE *)a1 != *(_BYTE *)(a1 + 1) || *(_BYTE *)(a1 + 1) != *(_BYTE *)(a1 + 2) )
      return 6;
  }
  if ( *(_BYTE *)a1 != *(_BYTE *)(a1 + 1) )
  {
    if ( !*(_BYTE *)a1 )
      return 1;
    return 0;
  }
  if ( *(_BYTE *)(a1 + 1) != *(_BYTE *)(a1 + 2) )
  {
    if ( !*(_BYTE *)a1 )
      return 5;
    if ( (signed int)*(_BYTE *)a1 >= 4 && (signed int)*(_BYTE *)a1 <= 6 )
      return *(_BYTE *)a1 - 2;
    return 0;
  }
  if ( *(_BYTE *)a1 == 6 )
    *(_BYTE *)a2 = 1;
  return *(_BYTE *)a1 + 8;
}

//----- (00423550) --------------------------------------------------------
int __cdecl sub_423550(int a1, char a2, char a3)
{
  int v3; // eax@2
  int v4; // edx@3
  int v5; // edx@4
  int v6; // edx@5
  int v7; // edx@6
  char v9; // [sp+0h] [bp-54h]@0
  int v10; // [sp+4h] [bp-50h]@0
  int v11; // [sp+8h] [bp-4Ch]@0
  char v12; // [sp+Ch] [bp-48h]@1
  int v13; // [sp+4Ch] [bp-8h]@1
  int v14; // [sp+50h] [bp-4h]@1
  char v15; // [sp+64h] [bp+10h]@1

  memset(&v12, -858993460, 0x48u);
  v15 = -(a3 % 3);
  v14 = 100 * v15 + a2;
  v13 = a2 - 7;
  switch ( a2 )
  {
    case 7:
    case 107:
    case 207:
      *(_BYTE *)a1 = ((unsigned __int8)byte_5855A0[Rand()() % 2] + (signed int)v15 + 22) % 22;
      *(_BYTE *)(a1 + 1) = (v15 + 25) % 22;
      v3 = a1;
      *(_BYTE *)(a1 + 2) = (v15 + 25) % 22;
      break;
    case 8:
    case 108:
    case 208:
      *(_BYTE *)a1 = (v15 + 39) % 22;
      *(_BYTE *)(a1 + 1) = ((unsigned __int8)byte_585560[Rand()() % 6] + (signed int)v15 + 22) % 22;
      v4 = ((unsigned __int8)byte_585568[Rand()() % 6] + (signed int)v15 + 22) % 22;
      v3 = a1;
      *(_BYTE *)(a1 + 2) = v4;
      break;
    case 9:
    case 109:
    case 209:
      *(_BYTE *)a1 = ((unsigned __int8)byte_585570[Rand()() % 7] + (signed int)v15 + 22) % 22;
      *(_BYTE *)(a1 + 1) = ((unsigned __int8)byte_585578[Rand()() % 2] + (signed int)v15 + 22) % 22;
      v5 = ((unsigned __int8)byte_58557C[Rand()() % 2] + (signed int)v15 + 22) % 22;
      v3 = a1;
      *(_BYTE *)(a1 + 2) = v5;
      break;
    case 10:
    case 110:
    case 210:
      *(_BYTE *)a1 = ((unsigned __int8)byte_585580[Rand()() % 3] + (signed int)v15 + 22) % 22;
      *(_BYTE *)(a1 + 1) = ((unsigned __int8)byte_585584[Rand()() % 2] + (signed int)v15 + 22) % 22;
      v6 = ((unsigned __int8)byte_585588[Rand()() % 6] + (signed int)v15 + 22) % 22;
      v3 = a1;
      *(_BYTE *)(a1 + 2) = v6;
      break;
    case 11:
    case 111:
    case 211:
      *(_BYTE *)a1 = ((unsigned __int8)byte_585590[Rand()() % 2] + (signed int)v15 + 22) % 22;
      *(_BYTE *)(a1 + 1) = ((unsigned __int8)byte_585594[Rand()() % 6] + (signed int)v15 + 22) % 22;
      v7 = ((unsigned __int8)byte_58559C[Rand()() % 2] + (signed int)v15 + 22) % 22;
      v3 = a1;
      *(_BYTE *)(a1 + 2) = v7;
      break;
    case 12:
    case 112:
    case 212:
      *(_BYTE *)a1 = ((unsigned __int8)byte_5855A0[Rand()() % 2] + (signed int)v15 + 22) % 22;
      *(_BYTE *)(a1 + 1) = (v15 + 29) % 22;
      v3 = a1;
      *(_BYTE *)(a1 + 2) = (v15 + 25) % 22;
      break;
    case 13:
    case 113:
    case 213:
      *(_BYTE *)a1 = ((unsigned __int8)byte_5855A4[Rand()() % 2] + (signed int)v15 + 22) % 22;
      *(_BYTE *)(a1 + 1) = (v15 + 25) % 22;
      v3 = a1;
      *(_BYTE *)(a1 + 2) = (v15 + 37) % 22;
      break;
    case 14:
    case 114:
    case 214:
      *(_BYTE *)a1 = ((unsigned __int8)byte_5855A8[Rand()() % 2] + (signed int)v15 + 22) % 22;
      *(_BYTE *)(a1 + 1) = (v15 + 33) % 22;
      v3 = a1;
      *(_BYTE *)(a1 + 2) = (v15 + 27) % 22;
      break;
    case 15:
    case 115:
    case 215:
      *(_BYTE *)a1 = (v15 + 43) % 22;
      *(_BYTE *)(a1 + 1) = (v15 + 40) % 22;
      v3 = a1;
      *(_BYTE *)(a1 + 2) = (v15 + 40) % 22;
      break;
    case 16:
    case 116:
    case 216:
      *(_BYTE *)a1 = (v15 + 29) % 22;
      *(_BYTE *)(a1 + 1) = (v15 + 43) % 22;
      v3 = a1;
      *(_BYTE *)(a1 + 2) = (v15 + 33) % 22;
      break;
    case 17:
    case 117:
    case 217:
      *(_BYTE *)a1 = (v15 + 33) % 22;
      *(_BYTE *)(a1 + 1) = (v15 + 36) % 22;
      v3 = a1;
      *(_BYTE *)(a1 + 2) = (v15 + 43) % 22;
      break;
    default:
      v3 = sub_401037(a1, 3);
      break;
  }
  return sub_4E46A0(1, v3, v11, v9, v10);
}
// 401037: using guessed type _DWORD __cdecl sub_401037(_DWORD, char);

//----- (00423CB0) --------------------------------------------------------
int __cdecl sub_423CB0(int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-70h]@0
  int v5; // [sp+4h] [bp-6Ch]@0
  int v6; // [sp+8h] [bp-68h]@0
  char v7; // [sp+Ch] [bp-64h]@1
  void **v8; // [sp+4Ch] [bp-24h]@6
  int j; // [sp+50h] [bp-20h]@4
  int i; // [sp+54h] [bp-1Ch]@1
  int v11; // [sp+58h] [bp-18h]@1
  char v12; // [sp+5Ch] [bp-14h]@3
  char v13; // [sp+5Dh] [bp-13h]@9
  char v14; // [sp+5Eh] [bp-12h]@9
  void **v15; // [sp+60h] [bp-10h]@1
  void **v16; // [sp+64h] [bp-Ch]@1
  int v17; // [sp+68h] [bp-8h]@1
  void **v18; // [sp+6Ch] [bp-4h]@1

  v2 = -858993460;
  memset(&v7, -858993460, 0x64u);
  v15 = &off_59A47C;
  v16 = &off_59A494;
  v17 = (int)off_59A4AC;
  v18 = &off_59A4C4;
  LOBYTE(v11) = 0;
  for ( i = 0; i < 5; ++i )
  {
    sub_4E4640(&v12, 0, 3u);
    if ( i >= 3 )
    {
      if ( i == 3 )
      {
        v12 = *((_BYTE *)&off_59A47C + *(_BYTE *)a2);
        v13 = *((_BYTE *)&off_59A494 + (*(_BYTE *)(a2 + 1) + 1) % 22);
        v14 = off_59A4AC[(*(_BYTE *)(a2 + 2) + 2) % 22];
      }
      else
      {
        v12 = *((_BYTE *)&off_59A47C + (*(_BYTE *)a2 + 2) % 22);
        v13 = *((_BYTE *)&off_59A494 + (*(_BYTE *)(a2 + 1) + 1) % 22);
        v14 = off_59A4AC[*(_BYTE *)(a2 + 2)];
      }
    }
    else
    {
      for ( j = 0; j < 3; ++j )
      {
        v8 = (&v15)[j];
        *(&v12 + j) = *((_BYTE *)v8 + (i + *(_BYTE *)(j + a2)) % 22);
      }
    }
    *(_BYTE *)(i + a1) = sub_4010F0(&v12, &v11);
    LOBYTE(v11) = (signed int)(unsigned __int8)v11 > 0 && i == 1;
    v2 = i + 1;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4010F0: using guessed type _DWORD __cdecl sub_4010F0(_DWORD, _DWORD);
// 59A47C: using guessed type void *off_59A47C;
// 59A494: using guessed type void *off_59A494;
// 59A4C4: using guessed type void *off_59A4C4;

//----- (00424190) --------------------------------------------------------
int __cdecl sub_424190(int a1)
{
  int v1; // eax@7
  char v3; // [sp+0h] [bp-50h]@0
  int v4; // [sp+4h] [bp-4Ch]@0
  int v5; // [sp+8h] [bp-48h]@0
  char v6; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@24

  memset(&v6, -858993460, 0x44u);
  if ( *(_WORD *)a1 != 540
    && *(_WORD *)a1 != 541
    && *(_WORD *)a1 != 631
    && *(_WORD *)a1 != 632
    && *(_WORD *)a1 != 633
    && *(_WORD *)a1 )
  {
    v1 = 0;
  }
  else
  {
    if ( *(_WORD *)(a1 + 8) == 540
      || *(_WORD *)(a1 + 8) == 541
      || *(_WORD *)(a1 + 8) == 631
      || *(_WORD *)(a1 + 8) == 632
      || *(_WORD *)(a1 + 8) == 633 )
    {
      if ( *(_WORD *)(a1 + 16) == 540
        || *(_WORD *)(a1 + 16) == 541
        || *(_WORD *)(a1 + 16) == 631
        || *(_WORD *)(a1 + 16) == 632
        || *(_WORD *)(a1 + 16) == 633 )
      {
        if ( sub_4014E2(a1) >= 9 )
        {
          if ( sub_4014E2(a1 + 8) >= 9 )
          {
            for ( i = 3; i < 7; ++i )
            {
              if ( *(_WORD *)(a1 + 8 * i) != 413 )
              {
                v1 = 0;
                return sub_4E46A0(1, v1, v5, v3, v4);
              }
            }
            v1 = 1;
          }
          else
          {
            v1 = 0;
          }
        }
        else
        {
          v1 = 0;
        }
      }
      else
      {
        v1 = 0;
      }
    }
    else
    {
      v1 = 0;
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);

//----- (00424370) --------------------------------------------------------
signed int __cdecl sub_424370(int a1, int a2, int a3)
{
  char v4; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@11

  memset(&v4, -858993460, 0x44u);
  if ( a3 == 1 && dword_8C75F1C != 2 )
    return 0;
  if ( *(_WORD *)a2 != 3448 || *(_BYTE *)(a2 + 3) != 10 || *(_WORD *)(a2 + 8) != 3448 || *(_BYTE *)(a2 + 11) != 10 )
    return 0;
  if ( *(_WORD *)(a2 + 16) != 4127 )
    return 0;
  for ( i = 3; i < 7; ++i )
  {
    if ( *(_WORD *)(a2 + 8 * i) != 413 )
      return 0;
  }
  if ( a3 == 1 )
  {
    if ( dword_1FDEFA8[431 * a1] <= 0 )
      return 0;
    --dword_1FDEFA8[431 * a1];
  }
  return 1;
}
// 1FDEFA8: using guessed type int dword_1FDEFA8[];
// 8C75F1C: using guessed type int dword_8C75F1C;

//----- (004244B0) --------------------------------------------------------
int __cdecl sub_4244B0(int a1, int a2)
{
  int v2; // eax@3
  __int16 v3; // dx@4
  char v5; // [sp+0h] [bp-4Ch]@0
  int v6; // [sp+4h] [bp-48h]@0
  int v7; // [sp+8h] [bp-44h]@0
  char v8; // [sp+Ch] [bp-40h]@1

  memset(&v8, -858993460, 0x40u);
  if ( word_9CCCC4[70 * *(_WORD *)a1] < 41 || word_9CCCC4[70 * *(_WORD *)a1] > 49 )
  {
    v3 = word_9CCCC6[70 * *(_WORD *)a1];
    if ( v3 & 0x7F )
    {
      if ( sub_40191F(a1, 87) == a2 )
        v2 = sub_40191F(a1, 112) != 1;
      else
        v2 = 0;
    }
    else
    {
      v2 = 0;
    }
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v7, v5, v6);
}
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 9CCCC4: using guessed type __int16 word_9CCCC4[];
// 9CCCC6: using guessed type __int16 word_9CCCC6[];

//----- (00424590) --------------------------------------------------------
int __cdecl sub_424590(int a1)
{
  int v1; // eax@3
  __int16 v2; // dx@33
  char v4; // [sp+0h] [bp-84h]@0
  int v5; // [sp+4h] [bp-80h]@0
  int v6; // [sp+8h] [bp-7Ch]@0
  char v7; // [sp+Ch] [bp-78h]@1
  int v8; // [sp+4Ch] [bp-38h]@42
  int v9; // [sp+50h] [bp-34h]@42
  int v10; // [sp+54h] [bp-30h]@25
  int v11; // [sp+58h] [bp-2Ch]@23
  int v12; // [sp+5Ch] [bp-28h]@20
  int v13; // [sp+60h] [bp-24h]@18
  int v14; // [sp+64h] [bp-20h]@16
  int v15; // [sp+68h] [bp-1Ch]@14
  int v16; // [sp+6Ch] [bp-18h]@12
  int v17; // [sp+70h] [bp-14h]@10
  int v18; // [sp+74h] [bp-10h]@7
  int v19; // [sp+78h] [bp-Ch]@4
  int v20; // [sp+7Ch] [bp-8h]@1
  int v21; // [sp+80h] [bp-4h]@1

  memset(&v7, -858993460, 0x78u);
  v21 = 0;
  v20 = *(_WORD *)a1;
  if ( v20 > 0 && v20 < 6500 )
  {
    v19 = *(_WORD *)(a1 + 8);
    if ( v19 > 0 && v19 < 6500 )
    {
      v18 = *(_WORD *)(a1 + 16);
      if ( v18 > 0 && v18 < 6500 )
      {
        v17 = sub_4014E2(a1);
        if ( v17 == 9 )
        {
          v16 = sub_4014E2(a1 + 8);
          if ( v16 >= 9 )
          {
            v15 = sub_4014E2(a1 + 16);
            if ( v15 == 9 )
            {
              v14 = sub_40191F(a1, 87);
              if ( v14 >= 6 )
              {
                v13 = sub_40191F(a1 + 8, 87);
                if ( v13 >= 6 )
                {
                  v12 = sub_40191F(a1 + 16, 87);
                  if ( v12 >= 4 && v12 != 6 )
                  {
                    v11 = sub_40191F(a1, 112);
                    if ( v11 == 1 )
                    {
                      v10 = sub_40191F(a1 + 16, 112);
                      if ( v10 == 1 )
                      {
                        v1 = 0;
                      }
                      else
                      {
                        if ( word_9CCCC4[70 * v20] >= 41 && word_9CCCC4[70 * v20] <= 49 )
                        {
                          if ( word_9CCCC4[70 * v19] >= 41 && word_9CCCC4[70 * v19] <= 49 )
                          {
                            v2 = word_9CCCC6[70 * v18];
                            if ( v2 & 0x7F )
                            {
                              if ( word_9CCCC4[70 * v20] == word_9CCCC4[70 * v19] )
                                goto LABEL_103;
                              if ( v19 < 2875 || v19 > 2878 )
                              {
                                v1 = 0;
                                return sub_4E46A0(1, v1, v6, v4, v5);
                              }
                              if ( word_9CCCC4[70 * v20] == 45 )
                              {
LABEL_103:
                                v9 = 0;
                                v8 = 0;
                                if ( v16 == 9 )
                                {
                                  v8 = 1;
                                }
                                else
                                {
                                  if ( v16 == 10 )
                                  {
                                    v8 = 2;
                                  }
                                  else
                                  {
                                    if ( v16 < 11 )
                                      v8 = 0;
                                    else
                                      v8 = 3;
                                  }
                                }
                                if ( v19 < 2451 || v19 >= 3000 )
                                {
                                  if ( v19 < 3600 || v19 >= 3801 )
                                  {
                                    v1 = 0;
                                    return sub_4E46A0(1, v1, v6, v4, v5);
                                  }
                                  v9 = 2;
                                }
                                else
                                {
                                  if ( (v19 < 2723 || v19 > 2726)
                                    && (v19 < 2887 || v19 > 2890)
                                    && (v19 < 2483 || v19 > 2486)
                                    && (v19 < 2927 || v19 > 2930)
                                    && (v19 < 2663 || v19 > 2666)
                                    && (v19 < 2843 || v19 > 2846)
                                    && (v19 < 2603 || v19 > 2606)
                                    && (v19 < 2543 || v19 > 2546)
                                    && (v19 < 2783 || v19 > 2786)
                                    && (v19 < 2875 || v19 > 2878) )
                                  {
                                    if ( (v19 < 2727 || v19 > 2730)
                                      && (v19 < 2891 || v19 > 2894)
                                      && (v19 < 2487 || v19 > 2490)
                                      && (v19 < 2931 || v19 > 2934)
                                      && (v19 < 2667 || v19 > 2670)
                                      && (v19 < 2855 || v19 > 2858)
                                      && (v19 < 2847 || v19 > 2850)
                                      && (v19 < 2607 || v19 > 2610)
                                      && (v19 < 2547 || v19 > 2550)
                                      && (v19 < 2787 || v19 > 2790) )
                                    {
                                      v1 = 0;
                                      return sub_4E46A0(1, v1, v6, v4, v5);
                                    }
                                    v9 = 1;
                                  }
                                  else
                                  {
                                    v9 = 0;
                                  }
                                }
                                v1 = *(&dword_595048[4 * v9] + v8);
                                return sub_4E46A0(1, v1, v6, v4, v5);
                              }
                              v1 = 0;
                            }
                            else
                            {
                              v1 = 0;
                            }
                          }
                          else
                          {
                            v1 = 0;
                          }
                        }
                        else
                        {
                          v1 = 0;
                        }
                      }
                    }
                    else
                    {
                      v1 = 0;
                    }
                  }
                  else
                  {
                    v1 = 0;
                  }
                }
                else
                {
                  v1 = 0;
                }
              }
              else
              {
                v1 = 0;
              }
            }
            else
            {
              v1 = 0;
            }
          }
          else
          {
            v1 = 0;
          }
        }
        else
        {
          v1 = 0;
        }
      }
      else
      {
        v1 = 0;
      }
    }
    else
    {
      v1 = 0;
    }
  }
  else
  {
    v1 = 0;
  }
  return sub_4E46A0(1, v1, v6, v4, v5);
}
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 595048: using guessed type int dword_595048[];
// 9CCCC4: using guessed type __int16 word_9CCCC4[];
// 9CCCC6: using guessed type __int16 word_9CCCC6[];

//----- (00424B40) --------------------------------------------------------
int __cdecl sub_424B40(int a1)
{
  int v1; // eax@3
  char v3; // [sp+0h] [bp-8Ch]@0
  int v4; // [sp+4h] [bp-88h]@0
  int v5; // [sp+8h] [bp-84h]@0
  char v6; // [sp+Ch] [bp-80h]@1
  int v7; // [sp+4Ch] [bp-40h]@43
  int v8; // [sp+50h] [bp-3Ch]@40
  int i; // [sp+54h] [bp-38h]@38
  int v10; // [sp+58h] [bp-34h]@28
  int v11; // [sp+5Ch] [bp-30h]@18
  int v12; // [sp+60h] [bp-2Ch]@12
  int v13; // [sp+64h] [bp-28h]@12
  int v14; // [sp+68h] [bp-24h]@12
  int v15; // [sp+6Ch] [bp-20h]@12
  int v16; // [sp+70h] [bp-1Ch]@12
  int v17; // [sp+74h] [bp-18h]@12
  int v18; // [sp+78h] [bp-14h]@7
  int v19; // [sp+7Ch] [bp-10h]@7
  int v20; // [sp+80h] [bp-Ch]@4
  int v21; // [sp+84h] [bp-8h]@1
  int v22; // [sp+88h] [bp-4h]@1

  memset(&v6, -858993460, 0x80u);
  v22 = 0;
  v21 = *(_WORD *)a1;
  if ( v21 > 0 && v21 < 6500 )
  {
    v20 = *(_WORD *)(a1 + 8);
    if ( v20 > 0 && v20 < 6500 )
    {
      v19 = word_9CCCC4[70 * v21] % 10;
      v18 = word_9CCCC4[70 * v20] % 10;
      if ( word_9CCCC4[70 * v20] && word_9CCCC4[70 * v20] <= 40 && !v18 && word_9CCCC4[70 * v20] / 10 > 0 )
        v18 += 10;
      v17 = word_9CCCC6[70 * v21];
      v16 = word_9CCCC6[70 * v20];
      v15 = sub_40191F(a1, 18);
      v14 = sub_40191F(a1 + 8, 18);
      v13 = sub_4014E2(a1);
      v12 = sub_4014E2(a1 + 8);
      if ( v15 != 1 || v19 > 8 )
      {
        if ( v15 == 1 || v19 > 7 )
        {
          v11 = 0;
          if ( v14 == 1 )
            v11 = v18 - 6;
          if ( v14 != 1 )
            v11 = v18 - 5;
          if ( v18 >= 10 )
            v11 = 3;
          if ( v11 == 1 || v11 == 2 || v11 == 3 )
          {
            v10 = word_9CCCCA[70 * v20];
            if ( v13 >= 9 )
            {
              if ( v12 >= 9 )
              {
                if ( v15 == v14 )
                {
                  if ( v17 == v16 )
                  {
                    if ( v17 & 0x3F )
                    {
                      for ( i = 2; i <= 5; ++i )
                      {
                        v8 = *(_WORD *)(a1 + 8 * i);
                        if ( v8 != 3140 )
                        {
                          v1 = 0;
                          return sub_4E46A0(1, v1, v5, v3, v4);
                        }
                      }
                      v7 = 0;
                      if ( v12 >= 11 )
                        v7 = 26;
                      if ( v12 == 10 )
                        v7 = 18;
                      if ( v11 == 1 )
                        v7 += 4 * v10;
                      if ( v11 == 2 )
                        v7 += 6 * (v10 + 1);
                      if ( v11 == 3 )
                        v7 += 2 * v10 + 24;
                      v1 = v7;
                    }
                    else
                    {
                      v1 = 0;
                    }
                  }
                  else
                  {
                    v1 = 0;
                  }
                }
                else
                {
                  v1 = 0;
                }
              }
              else
              {
                v1 = 0;
              }
            }
            else
            {
              v1 = 0;
            }
          }
          else
          {
            v1 = 0;
          }
        }
        else
        {
          v1 = 0;
        }
      }
      else
      {
        v1 = 0;
      }
    }
    else
    {
      v1 = 0;
    }
  }
  else
  {
    v1 = 0;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 9CCCC4: using guessed type __int16 word_9CCCC4[];
// 9CCCC6: using guessed type __int16 word_9CCCC6[];
// 9CCCCA: using guessed type __int16 word_9CCCCA[];

//----- (00424EC0) --------------------------------------------------------
int __cdecl sub_424EC0(int a1)
{
  int v1; // eax@3
  char v3; // [sp+0h] [bp-FCh]@0
  int v4; // [sp+4h] [bp-F8h]@0
  int v5; // [sp+8h] [bp-F4h]@0
  char v6; // [sp+Ch] [bp-F0h]@1
  int v7; // [sp+4Ch] [bp-B0h]@33
  int i; // [sp+50h] [bp-ACh]@30
  int v9; // [sp+54h] [bp-A8h]@30
  int v10; // [sp+58h] [bp-A4h]@24
  int v11; // [sp+5Ch] [bp-A0h]@24
  int v12; // [sp+60h] [bp-9Ch]@22
  int v13; // [sp+64h] [bp-98h]@20
  int v14; // [sp+68h] [bp-94h]@13
  int v15; // [sp+6Ch] [bp-90h]@13
  char v16; // [sp+70h] [bp-8Ch]@11
  char v17; // [sp+AFh] [bp-4Dh]@11
  char v18; // [sp+B0h] [bp-4Ch]@11
  char v19; // [sp+EFh] [bp-Dh]@11
  int v20; // [sp+F0h] [bp-Ch]@7
  int v21; // [sp+F4h] [bp-8h]@4
  int v22; // [sp+F8h] [bp-4h]@1

  memset(&v6, -858993460, 0xF0u);
  v22 = *(_WORD *)a1;
  if ( v22 > 0 && v22 < 6500 )
  {
    v21 = *(_WORD *)(a1 + 8);
    if ( v21 > 0 && v21 < 6500 )
    {
      v20 = *(_WORD *)(a1 + 16);
      if ( v22 != 747 && v21 != 747 )
      {
        if ( v22 != v21
          && (sub_4E4720((int)&v18),
              v19 = 0,
              LOBYTE(v20) = 0,
              sub_4E4720((int)&v16),
              v17 = 0,
              v18 = 0,
              sub_4E4D80((int)&v18, (int)&v16)) )
        {
          v1 = 0;
        }
        else
        {
          v15 = sub_4014E2(a1);
          v14 = sub_4014E2(a1 + 8);
          if ( v15 >= 9 && v14 >= 9 )
          {
            if ( v15 == v14 )
            {
              if ( v15 - 9 == v20 - 1774 )
              {
                v13 = word_9CCCC6[70 * v22];
                if ( v13 == 64 || v13 == 192 )
                {
                  v12 = word_9CCCCA[70 * v22];
                  if ( v12 < 5 )
                  {
                    v1 = 0;
                    return sub_4E46A0(1, v1, v5, v3, v4);
                  }
                  v11 = v12 - 5;
                  v10 = *(_WORD *)(a1 + 24) - 2441;
                  if ( v10 != v12 - 5 )
                  {
                    v1 = 0;
                    return sub_4E46A0(1, v1, v5, v3, v4);
                  }
                  if ( v22 != v21 )
                  {
                    v1 = 0;
                    return sub_4E46A0(1, v1, v5, v3, v4);
                  }
                }
                if ( (_BYTE)v13 )
                {
                  v9 = 3;
                  for ( i = 3; i <= 6; ++i )
                  {
                    v7 = *(_WORD *)(a1 + 8 * i);
                    if ( i == 3 && !v7 )
                    {
                      v1 = 0;
                      return sub_4E46A0(1, v1, v5, v3, v4);
                    }
                    if ( v7 )
                    {
                      if ( v7 < 2441 || v7 > 2444 )
                      {
                        v1 = 0;
                        return sub_4E46A0(1, v1, v5, v3, v4);
                      }
                      if ( i >= 4 && v7 != *(_WORD *)(a1 + 8 * i - 8) )
                      {
                        v1 = 0;
                        return sub_4E46A0(1, v1, v5, v3, v4);
                      }
                      switch ( i )
                      {
                        case 3:
                          v9 = 12;
                          break;
                        case 4:
                          v9 = 16;
                          break;
                        case 5:
                          v9 = 24;
                          break;
                        case 6:
                          v9 = 40;
                          break;
                      }
                    }
                  }
                  v1 = v9;
                }
                else
                {
                  v1 = 0;
                }
              }
              else
              {
                v1 = 0;
              }
            }
            else
            {
              v1 = 0;
            }
          }
          else
          {
            v1 = 0;
          }
        }
      }
      else
      {
        v1 = 0;
      }
    }
    else
    {
      v1 = 0;
    }
  }
  else
  {
    v1 = 0;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 9CCCC6: using guessed type __int16 word_9CCCC6[];
// 9CCCCA: using guessed type __int16 word_9CCCCA[];

//----- (004252C0) --------------------------------------------------------
int __cdecl sub_4252C0(int a1)
{
  int v1; // eax@3
  char v3; // [sp+0h] [bp-70h]@0
  int v4; // [sp+4h] [bp-6Ch]@0
  int v5; // [sp+8h] [bp-68h]@0
  char v6; // [sp+Ch] [bp-64h]@1
  int v7; // [sp+4Ch] [bp-24h]@34
  int v8; // [sp+50h] [bp-20h]@32
  int v9; // [sp+54h] [bp-1Ch]@18
  int v10; // [sp+58h] [bp-18h]@15
  int i; // [sp+5Ch] [bp-14h]@12
  int v12; // [sp+60h] [bp-10h]@12
  int v13; // [sp+64h] [bp-Ch]@12
  int v14; // [sp+68h] [bp-8h]@4
  int v15; // [sp+6Ch] [bp-4h]@1

  memset(&v6, -858993460, 0x64u);
  v15 = *(_WORD *)a1;
  if ( v15 > 0 && v15 < 6500 )
  {
    v14 = *(_WORD *)(a1 + 8);
    if ( v14 > 0 && v14 < 6500 )
    {
      if ( word_9CCCC4[70 * v15] >= 41 && word_9CCCC4[70 * v15] <= 49 )
      {
        if ( word_9CCCC8[70 * v15] > 0 )
        {
          v13 = sub_40191F(a1, 87);
          v12 = 5;
          for ( i = 2; i < 8; ++i )
          {
            v10 = *(_WORD *)(a1 + 8 * i);
            if ( v10 > 0 && v10 < 6500 )
            {
              v9 = sub_40191F(a1 + 8 * i, 17);
              if ( !v9 )
              {
                v1 = 0;
                return sub_4E46A0(1, v1, v5, v3, v4);
              }
              if ( v10 == 747 )
              {
                v1 = 0;
                return sub_4E46A0(1, v1, v5, v3, v4);
              }
              if ( v10 >= 2451 && v10 <= 2938 )
              {
                v1 = 0;
                return sub_4E46A0(1, v1, v5, v3, v4);
              }
              if ( v10 >= 3601 && v10 <= 3784 )
              {
                v1 = 0;
                return sub_4E46A0(1, v1, v5, v3, v4);
              }
              if ( v10 == 769 || v10 == 753 || v10 == 1726 )
              {
                v1 = 0;
                return sub_4E46A0(1, v1, v5, v3, v4);
              }
              v8 = sub_40191F(a1 + 8 * i, 87);
              if ( v13 - 1 > v8 )
              {
                v1 = 0;
                return sub_4E46A0(1, v1, v5, v3, v4);
              }
              v7 = sub_4014E2(a1 + 8 * i);
              switch ( v7 )
              {
                case 7:
                  v12 += 2;
                  break;
                case 8:
                  v12 += 4;
                  break;
                case 9:
                  v12 += 10;
                  break;
                default:
                  if ( v7 != 10 )
                  {
                    v1 = 0;
                    return sub_4E46A0(1, v1, v5, v3, v4);
                  }
                  v12 += 12;
                  break;
              }
            }
          }
          v1 = v12;
        }
        else
        {
          v1 = 0;
        }
      }
      else
      {
        v1 = 0;
      }
    }
    else
    {
      v1 = 0;
    }
  }
  else
  {
    v1 = 0;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 9CCCC4: using guessed type __int16 word_9CCCC4[];
// 9CCCC8: using guessed type __int16 word_9CCCC8[];

//----- (00425570) --------------------------------------------------------
int __cdecl sub_425570(int a1, __int16 a2)
{
  int result; // eax@1
  char v3; // [sp+Ch] [bp-40h]@1

  memset(&v3, -858993460, 0x40u);
  result = a1;
  *(_WORD *)a1 |= 16 * a2;
  return result;
}

//----- (00425600) --------------------------------------------------------
int __cdecl sub_425600(int a1, signed int a2, int a3, int a4)
{
  char v5; // [sp+Ch] [bp-54h]@1
  int v6; // [sp+4Ch] [bp-14h]@13
  int v7; // [sp+50h] [bp-10h]@13
  int v8; // [sp+54h] [bp-Ch]@11
  int v9; // [sp+58h] [bp-8h]@7
  int v10; // [sp+5Ch] [bp-4h]@5

  memset(&v5, -858993460, 0x54u);
  if ( a2 > 100 )
    a2 = 100;
  if ( a2 < 0 )
    a2 = 0;
  v10 = *(_WORD *)(a1 + 84);
  if ( v10 > 1000 )
    v10 = 1000;
  v9 = *(_WORD *)(a1 + 84) - 1000;
  if ( v9 < 0 )
    v9 = 0;
  if ( v9 >= 2000 )
    v9 = 2000;
  v8 = *(_WORD *)(a1 + 84) - 3000;
  if ( v8 < 0 )
    v8 = 0;
  v7 = v10 / 2 + a2 + v9 / 4 + v8 / 8 - a3;
  v6 = *(_DWORD *)a4;
  if ( v6 & 0x20 )
    v7 += 100;
  if ( v6 & 0x80 )
    v7 += 50;
  if ( v6 & 0x200 )
    v7 += 50;
  if ( v7 > 650 )
    v7 = 650;
  if ( v7 < 1 )
    v7 = 1;
  return v7;
}

//----- (00425790) --------------------------------------------------------
signed int __cdecl sub_425790(int a1, int a2)
{
  char v3; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  memset(&v3, -858993460, 0x44u);
  for ( i = 1; i < 16; ++i )
  {
    if ( (unsigned __int8)*(&byte_1FDF154[1724 * a1] + 8 * i) == a2 )
      return i;
  }
  for ( i = 1; i < 16; ++i )
  {
    if ( !*(&byte_1FDF154[1724 * a1] + 8 * i) )
      return i;
  }
  return -1;
}

//----- (00425910) --------------------------------------------------------
bool __cdecl sub_425910(int a1, int a2)
{
  char v3; // [sp+Ch] [bp-40h]@1

  memset(&v3, -858993460, 0x40u);
  return dword_1FDF1F4[431 * a1] >= dword_1FDF1F4[431 * a2] - 33
      && dword_1FDF1F4[431 * a1] <= dword_1FDF1F4[431 * a2] + 33
      && dword_1FDF1F8[431 * a1] >= dword_1FDF1F8[431 * a2] - 33
      && dword_1FDF1F8[431 * a1] <= dword_1FDF1F8[431 * a2] + 33;
}
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];

//----- (00425A00) --------------------------------------------------------
bool __cdecl sub_425A00(int a1, int a2)
{
  char v3; // [sp+Ch] [bp-40h]@1

  memset(&v3, -858993460, 0x40u);
  return dword_1FDF1F4[431 * a1] >= dword_1FDF1F4[431 * a2] - 16
      && dword_1FDF1F4[431 * a1] <= dword_1FDF1F4[431 * a2] + 16
      && dword_1FDF1F8[431 * a1] >= dword_1FDF1F8[431 * a2] - 16
      && dword_1FDF1F8[431 * a1] <= dword_1FDF1F8[431 * a2] + 16;
}
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];

//----- (00425AF0) --------------------------------------------------------
int __cdecl sub_425AF0(signed int a1, int a2)
{
  int result; // eax@9
  char v3; // [sp+Ch] [bp-5Ch]@1
  int v4; // [sp+4Ch] [bp-1Ch]@10
  int v5; // [sp+50h] [bp-18h]@10
  int v6; // [sp+54h] [bp-14h]@1
  int v7; // [sp+58h] [bp-10h]@1
  int v8; // [sp+5Ch] [bp-Ch]@1
  int v9; // [sp+60h] [bp-8h]@1
  int v10; // [sp+64h] [bp-4h]@1

  memset(&v3, -858993460, 0x5Cu);
  v10 = 1672;
  v9 = 1782;
  v8 = 3976;
  v7 = 4086;
  v6 = 0;
  if ( a1 < 1920 )
  {
    if ( a1 >= 1792 )
    {
      v10 += 128;
      v9 += 128;
      v8 -= 128;
      v7 -= 128;
      v6 = 1;
    }
  }
  else
  {
    v10 += 256;
    v9 += 256;
    v6 = 2;
  }
  if ( a1 >= v10 && a1 < v9 && a2 >= v8 && a2 < v7 )
  {
    v5 = (a1 - v10) / 22;
    v4 = (a2 - v8) / 22;
    result = *(&dword_595500[5 * (a2 - v8) / 22] + (a1 - v10) / 22) + 25 * v6;
  }
  else
  {
    result = -1;
  }
  return result;
}
// 595500: using guessed type int dword_595500[];

//----- (00425C40) --------------------------------------------------------
int __cdecl sub_425C40(int a1, int a2, int a3)
{
  int v3; // eax@5
  char v5; // [sp+0h] [bp-58h]@0
  int v6; // [sp+4h] [bp-54h]@0
  int v7; // [sp+8h] [bp-50h]@0
  char v8; // [sp+Ch] [bp-4Ch]@1
  int v9; // [sp+4Ch] [bp-Ch]@1
  int v10; // [sp+50h] [bp-8h]@1
  int v11; // [sp+54h] [bp-4h]@1

  memset(&v8, -858993460, 0x4Cu);
  v11 = *(_DWORD *)a1 & 0xFFFC;
  v10 = *(_DWORD *)a2 & 0xFFFC;
  v9 = 0;
  if ( *(_DWORD *)a1 < 2368 || *(_DWORD *)a1 > 2411 || *(_DWORD *)a2 < 1728 || *(_DWORD *)a2 > 1759 )
  {
    if ( v11 != 2116 || v10 != 2100 )
    {
      if ( v11 != 2480 || v10 != 1716 )
      {
        if ( v11 != 2456 || v10 != 2016 )
        {
          if ( v11 != 1044 || v10 != 1724 )
          {
            if ( v11 != 1044 || v10 != 1716 )
            {
              if ( v11 != 1044 || v10 != 1708 )
              {
                if ( v11 != 1048 || v10 != 1764 )
                {
                  if ( v11 != 2140 || v10 != 2068 )
                  {
                    if ( v11 != 2468 || v10 != 1716 )
                    {
                      if ( v11 != 2364 || v10 != 2284 )
                      {
                        if ( v11 != 144 || v10 != 3788 )
                        {
                          if ( v11 != 2668 || v10 != 2156 )
                          {
                            if ( v11 != 144 || v10 != 3772 )
                            {
                              if ( v11 != 148 || v10 != 3780 )
                              {
                                if ( v11 != 144 || v10 != 3780 )
                                {
                                  if ( v11 != 1004 || v10 != 4028 )
                                  {
                                    if ( v11 != 408 || v10 != 4072 )
                                    {
                                      if ( v11 != 1004 || v10 != 4064 )
                                      {
                                        if ( v11 != 744 || v10 != 3816 )
                                        {
                                          if ( v11 != 1004 || v10 != 3992 )
                                          {
                                            if ( v11 != 680 || v10 != 4076 )
                                            {
                                              if ( v11 != 916 || v10 != 3820 )
                                              {
                                                if ( v11 != 876 || v10 != 3872 )
                                                {
                                                  if ( v11 != 932 || v10 != 3820 )
                                                  {
                                                    if ( v11 != 188 || v10 != 188 )
                                                    {
                                                      if ( v11 != 2548 || v10 != 1740 )
                                                      {
                                                        if ( v11 != 1824 || v10 != 1772 )
                                                        {
                                                          if ( v11 != 1172 || v10 != 4080 )
                                                          {
                                                            if ( v11 != 1516 || v10 != 3996 )
                                                            {
                                                              if ( v11 != 1304 || v10 != 3816 )
                                                              {
                                                                if ( v11 != 2452 || v10 != 1716 )
                                                                {
                                                                  if ( v11 != 2452 || v10 != 1988 )
                                                                  {
                                                                    if ( v11 != 1340 || v10 != 1444 )
                                                                    {
                                                                      if ( v11 != 744 || v10 != 3804 )
                                                                      {
                                                                        if ( v11 != 912 || v10 != 3808 )
                                                                        {
                                                                          if ( v11 != 1756 || v10 != 3644 )
                                                                          {
                                                                            if ( v11 != 1756 || v10 != 3616 )
                                                                            {
                                                                              if ( v11 != 1756 || v10 != 3672 )
                                                                              {
                                                                                if ( v11 != 1312 || v10 != 1900 )
                                                                                {
                                                                                  if ( v11 != 2364 || v10 != 4072 )
                                                                                  {
                                                                                    if ( v11 != 2364 || v10 != 3892 )
                                                                                    {
                                                                                      if ( v11 != 1052 || v10 != 1708 )
                                                                                      {
                                                                                        if ( v11 != 3648 || v10 != 3108 )
                                                                                        {
                                                                                          if ( dword_8C76170 )
                                                                                          {
                                                                                            if ( v11 == 2364
                                                                                              && v10 == 3924 )
                                                                                            {
                                                                                              *(_DWORD *)a1 = Rand()() % 4 + 3250;
                                                                                              *(_DWORD *)a2 = Rand()() % 4 + 1700;
                                                                                              *(_DWORD *)a3 = 0;
                                                                                            }
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                            if ( dword_8C764C8 == 1 )
                                                                                            {
                                                                                              if ( v11 == 1056
                                                                                                && v10 == 1724 )
                                                                                                *(_DWORD *)a3 = 1;
                                                                                              if ( v11 == 1108
                                                                                                && v10 == 1980 )
                                                                                                *(_DWORD *)a3 = 2;
                                                                                              if ( v11 == 1176
                                                                                                && v10 == 2104 )
                                                                                                *(_DWORD *)a3 = 3;
                                                                                            }
                                                                                          }
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                          *(_DWORD *)a1 = Rand()() % 4 + 1052;
                                                                                          *(_DWORD *)a2 = Rand()() % 4 + 1708;
                                                                                          *(_DWORD *)a3 = 0;
                                                                                          v9 = 700;
                                                                                        }
                                                                                      }
                                                                                      else
                                                                                      {
                                                                                        *(_DWORD *)a1 = Rand()() % 4 + 3650;
                                                                                        *(_DWORD *)a2 = Rand()() % 4 + 3109;
                                                                                        *(_DWORD *)a3 = 0;
                                                                                        v9 = 700;
                                                                                      }
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                      *(_DWORD *)a1 = Rand()() % 4 + 2367;
                                                                                      *(_DWORD *)a2 = Rand()() % 4 + 3903;
                                                                                      *(_DWORD *)a3 = 0;
                                                                                      v9 = 10000;
                                                                                    }
                                                                                  }
                                                                                  else
                                                                                  {
                                                                                    *(_DWORD *)a1 = Rand()() % 4 + 1312;
                                                                                    *(_DWORD *)a2 = Rand()() % 4 + 1900;
                                                                                    *(_DWORD *)a3 = 0;
                                                                                  }
                                                                                }
                                                                                else
                                                                                {
                                                                                  *(_DWORD *)a1 = Rand()() % 4
                                                                                                + 2364;
                                                                                  *(_DWORD *)a2 = Rand()() % 4
                                                                                                + 4072;
                                                                                  v9 = -500;
                                                                                  *(_DWORD *)a3 = 0;
                                                                                }
                                                                              }
                                                                              else
                                                                              {
                                                                                *(_DWORD *)a1 = Rand()() % 4 + 1772;
                                                                                *(_DWORD *)a2 = Rand()() % 14 + 3640;
                                                                                *(_DWORD *)a3 = 0;
                                                                              }
                                                                            }
                                                                            else
                                                                            {
                                                                              *(_DWORD *)a1 = Rand()() % 4 + 1772;
                                                                              *(_DWORD *)a2 = Rand()() % 14 + 3640;
                                                                              *(_DWORD *)a3 = 0;
                                                                            }
                                                                          }
                                                                          else
                                                                          {
                                                                            *(_DWORD *)a1 = Rand()() % 4 + 1772;
                                                                            *(_DWORD *)a2 = Rand()() % 14 + 3640;
                                                                            *(_DWORD *)a3 = 0;
                                                                          }
                                                                        }
                                                                        else
                                                                        {
                                                                          *(_DWORD *)a1 = Rand()() % 4 + 744;
                                                                          *(_DWORD *)a2 = Rand()() % 4 + 3804;
                                                                          *(_DWORD *)a3 = 0;
                                                                        }
                                                                      }
                                                                      else
                                                                      {
                                                                        *(_DWORD *)a1 = Rand()() % 4 + 912;
                                                                        *(_DWORD *)a2 = Rand()() % 4 + 3808;
                                                                        *(_DWORD *)a3 = 0;
                                                                      }
                                                                    }
                                                                    else
                                                                    {
                                                                      *(_DWORD *)a1 = Rand()() % 4 + 1044;
                                                                      *(_DWORD *)a2 = Rand()() % 4 + 1724;
                                                                      *(_DWORD *)a3 = 0;
                                                                    }
                                                                  }
                                                                  else
                                                                  {
                                                                    *(_DWORD *)a1 = Rand()() % 4 + 2047;
                                                                    *(_DWORD *)a2 = Rand()() % 4 + 1604;
                                                                    *(_DWORD *)a3 = 0;
                                                                  }
                                                                }
                                                                else
                                                                {
                                                                  *(_DWORD *)a1 = Rand()() % 4 + 1968;
                                                                  *(_DWORD *)a2 = Rand()() % 4 + 1708;
                                                                  *(_DWORD *)a3 = 0;
                                                                }
                                                              }
                                                              else
                                                              {
                                                                *(_DWORD *)a1 = Rand()() % 4 + 1516;
                                                                *(_DWORD *)a2 = Rand()() % 4 + 3996;
                                                                *(_DWORD *)a3 = 0;
                                                              }
                                                            }
                                                            else
                                                            {
                                                              *(_DWORD *)a1 = Rand()() % 4 + 1304;
                                                              *(_DWORD *)a2 = Rand()() % 4 + 3816;
                                                              *(_DWORD *)a3 = 0;
                                                            }
                                                          }
                                                          else
                                                          {
                                                            *(_DWORD *)a1 = Rand()() % 4 + 1824;
                                                            *(_DWORD *)a2 = Rand()() % 4 + 1772;
                                                            *(_DWORD *)a3 = 0;
                                                          }
                                                        }
                                                        else
                                                        {
                                                          *(_DWORD *)a1 = Rand()() % 4 + 1172;
                                                          *(_DWORD *)a2 = Rand()() % 4 + 4080;
                                                          *(_DWORD *)a3 = 0;
                                                        }
                                                      }
                                                      else
                                                      {
                                                        *(_DWORD *)a1 = Rand()() % 4 + 2286;
                                                        *(_DWORD *)a2 = Rand()() % 4 + 3688;
                                                        *(_DWORD *)a3 = 0;
                                                        v9 = 1000;
                                                      }
                                                    }
                                                    else
                                                    {
                                                      *(_DWORD *)a1 = Rand()() % 4 + 2548;
                                                      *(_DWORD *)a2 = Rand()() % 4 + 1740;
                                                      *(_DWORD *)a3 = 0;
                                                    }
                                                  }
                                                  else
                                                  {
                                                    *(_DWORD *)a1 = Rand()() % 4 + 876;
                                                    *(_DWORD *)a2 = Rand()() % 4 + 3872;
                                                    *(_DWORD *)a3 = 0;
                                                  }
                                                }
                                                else
                                                {
                                                  *(_DWORD *)a1 = Rand()() % 4 + 932;
                                                  *(_DWORD *)a2 = Rand()() % 4 + 3820;
                                                  *(_DWORD *)a3 = 0;
                                                }
                                              }
                                              else
                                              {
                                                *(_DWORD *)a1 = Rand()() % 4 + 680;
                                                *(_DWORD *)a2 = Rand()() % 4 + 4076;
                                                *(_DWORD *)a3 = 0;
                                              }
                                            }
                                            else
                                            {
                                              *(_DWORD *)a1 = Rand()() % 4 + 916;
                                              *(_DWORD *)a2 = Rand()() % 4 + 3820;
                                              *(_DWORD *)a3 = 0;
                                            }
                                          }
                                          else
                                          {
                                            *(_DWORD *)a1 = Rand()() % 4 + 744;
                                            *(_DWORD *)a2 = Rand()() % 4 + 3816;
                                            *(_DWORD *)a3 = 0;
                                          }
                                        }
                                        else
                                        {
                                          *(_DWORD *)a1 = Rand()() % 4 + 1004;
                                          *(_DWORD *)a2 = Rand()() % 4 + 3992;
                                          *(_DWORD *)a3 = 0;
                                        }
                                      }
                                      else
                                      {
                                        *(_DWORD *)a1 = Rand()() % 4 + 408;
                                        *(_DWORD *)a2 = Rand()() % 4 + 4072;
                                        *(_DWORD *)a3 = 0;
                                      }
                                    }
                                    else
                                    {
                                      *(_DWORD *)a1 = Rand()() % 4 + 1004;
                                      *(_DWORD *)a2 = Rand()() % 4 + 4064;
                                      *(_DWORD *)a3 = 0;
                                    }
                                  }
                                  else
                                  {
                                    *(_DWORD *)a1 = Rand()() % 4 + 148;
                                    *(_DWORD *)a2 = Rand()() % 4 + 3780;
                                    *(_DWORD *)a3 = 0;
                                  }
                                }
                                else
                                {
                                  *(_DWORD *)a1 = Rand()() % 4 + 1004;
                                  *(_DWORD *)a2 = Rand()() % 4 + 4028;
                                  *(_DWORD *)a3 = 0;
                                }
                              }
                              else
                              {
                                *(_DWORD *)a1 = Rand()() % 4 + 1004;
                                *(_DWORD *)a2 = Rand()() % 4 + 4028;
                                *(_DWORD *)a3 = 0;
                              }
                            }
                            else
                            {
                              *(_DWORD *)a1 = Rand()() % 4 + 2668;
                              *(_DWORD *)a2 = Rand()() % 4 + 2156;
                              *(_DWORD *)a3 = 0;
                            }
                          }
                          else
                          {
                            *(_DWORD *)a1 = Rand()() % 4 + 144;
                            *(_DWORD *)a2 = Rand()() % 4 + 3772;
                            *(_DWORD *)a3 = 0;
                          }
                        }
                        else
                        {
                          *(_DWORD *)a1 = Rand()() % 4 + 2364;
                          *(_DWORD *)a2 = Rand()() % 4 + 2284;
                          *(_DWORD *)a3 = 0;
                        }
                      }
                      else
                      {
                        *(_DWORD *)a1 = Rand()() % 4 + 144;
                        *(_DWORD *)a2 = Rand()() % 4 + 3788;
                        *(_DWORD *)a3 = 0;
                      }
                    }
                    else
                    {
                      *(_DWORD *)a1 = Rand()() % 4 + 2248;
                      *(_DWORD *)a2 = Rand()() % 4 + 1556;
                      *(_DWORD *)a3 = 0;
                    }
                  }
                  else
                  {
                    *(_DWORD *)a1 = Rand()() % 4 + 2588;
                    *(_DWORD *)a2 = Rand()() % 4 + 2096;
                    *(_DWORD *)a3 = 0;
                  }
                }
                else
                {
                  *(_DWORD *)a1 = Rand()() % 4 + 1100;
                  *(_DWORD *)a2 = Rand()() % 4 + 1712;
                  *(_DWORD *)a3 = 0;
                }
              }
              else
              {
                *(_DWORD *)a1 = Rand()() % 4 + 2456;
                *(_DWORD *)a2 = Rand()() % 4 + 2016;
                *(_DWORD *)a3 = 0;
              }
            }
            else
            {
              *(_DWORD *)a1 = Rand()() % 4 + 2480;
              *(_DWORD *)a2 = Rand()() % 4 + 1716;
              *(_DWORD *)a3 = 0;
            }
          }
          else
          {
            *(_DWORD *)a1 = Rand()() % 4 + 2116;
            *(_DWORD *)a2 = Rand()() % 4 + 2100;
            *(_DWORD *)a3 = 0;
          }
        }
        else
        {
          *(_DWORD *)a1 = Rand()() % 4 + 1044;
          *(_DWORD *)a2 = Rand()() % 4 + 1708;
          v9 = 700;
          *(_DWORD *)a3 = 0;
        }
      }
      else
      {
        *(_DWORD *)a1 = Rand()() % 4 + 1044;
        *(_DWORD *)a2 = Rand()() % 4 + 1716;
        v9 = 700;
        *(_DWORD *)a3 = 0;
      }
    }
    else
    {
      *(_DWORD *)a1 = Rand()() % 4 + 1044;
      *(_DWORD *)a2 = Rand()() % 4 + 1724;
      v9 = 700;
      *(_DWORD *)a3 = 0;
    }
    v3 = v9;
  }
  else
  {
    v3 = -1000;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 8C76170: using guessed type int dword_8C76170;
// 8C764C8: using guessed type int dword_8C764C8;

//----- (00427020) --------------------------------------------------------
int __cdecl sub_427020(int a1, signed int a2, signed int a3)
{
  int result; // eax@7
  char v4; // [sp+Ch] [bp-48h]@1
  int v5; // [sp+4Ch] [bp-8h]@8
  int v6; // [sp+50h] [bp-4h]@1
  signed int v7; // [sp+60h] [bp+Ch]@8

  memset(&v4, -858993460, 0x48u);
  v6 = 0;
  if ( a2 > 399 )
    a2 = 399;
  if ( a2 < 400 && a3 < 400 && a2 >= 0 && a3 >= 0 )
  {
    v7 = a2 + 1;
    v5 = 100 * (a3 + 1) / v7;
    if ( v5 >= 80 || v7 < 50 )
    {
      if ( v5 > 200 )
        v5 = 200;
    }
    else
    {
      v5 = 2 * v5 - 100;
    }
    if ( v5 < 0 )
      v5 = 0;
    result = v5 * a1 / 100;
  }
  else
  {
    result = a1;
  }
  return result;
}

//----- (00427120) --------------------------------------------------------
int __usercall sub_427120<eax>(int a1<ebx>, signed int a2, int a3)
{
  const void *v3; // esi@5
  int v4; // esi@5
  __int16 v5; // ax@12
  __int16 v6; // dx@14
  char v8; // [sp+0h] [bp-98h]@0
  int v9; // [sp+4h] [bp-94h]@0
  int v10; // [sp+8h] [bp-90h]@0
  char v11; // [sp+Ch] [bp-8Ch]@1
  bool v12; // [sp+4Ch] [bp-4Ch]@63
  bool v13; // [sp+50h] [bp-48h]@57
  bool v14; // [sp+54h] [bp-44h]@46
  bool v15; // [sp+58h] [bp-40h]@40
  bool v16; // [sp+5Ch] [bp-3Ch]@29
  bool v17; // [sp+60h] [bp-38h]@23
  int v18; // [sp+64h] [bp-34h]@97
  int v19; // [sp+68h] [bp-30h]@97
  int i; // [sp+6Ch] [bp-2Ch]@17
  int v21; // [sp+70h] [bp-28h]@17
  char v22; // [sp+74h] [bp-24h]@4
  int v23; // [sp+78h] [bp-20h]@2
  int v24; // [sp+7Ch] [bp-1Ch]@2
  char v25; // [sp+80h] [bp-18h]@2
  char v26; // [sp+84h] [bp-14h]@2
  int v27; // [sp+88h] [bp-10h]@2
  int v28; // [sp+8Ch] [bp-Ch]@1
  int v29; // [sp+90h] [bp-8h]@1
  int v30; // [sp+94h] [bp-4h]@1

  memset(&v11, -858993460, 0x8Cu);
  v30 = 0;
  v29 = 0;
  v28 = 0;
  *(_WORD *)(a3 + 4) = 868;
  sub_4E4720(a3 + 18);
  if ( a2 < 1000 )
  {
    v27 = sub_4013D4(a2);
    v26 = v27;
    v25 = v27 / 256;
    *(_BYTE *)(a3 + 32) = v27;
    *(_BYTE *)(a3 + 33) = v25;
    v24 = sub_4013BB(a2);
    v23 = sub_401352(a2);
    if ( v23 > 0 )
      v24 = 0;
    v22 = v24;
    *(_BYTE *)(a3 + 30) = v24;
  }
  *(_WORD *)(a3 + 12) = LOWORD(dword_1FDF1F4[431 * a2]);
  *(_WORD *)(a3 + 14) = LOWORD(dword_1FDF1F8[431 * a2]);
  *(_WORD *)a3 = 176;
  *(_WORD *)(a3 + 6) = 30000;
  *(_WORD *)(a3 + 16) = a2;
  *(_DWORD *)(a3 + 8) = dword_8C76270;
  v3 = &word_1FDECE0[862 * a2];
  memcpy((void *)(a3 + 100), v3, 0x1Cu);
  v4 = (int)((char *)v3 + 28);
  *(_WORD *)(a3 + 98) = word_1FDECB2[862 * a2];
  if ( dword_1FDF2B0[431 * a2] == 1 )
    *(_WORD *)(a3 + 98) = 0;
  if ( a2 >= 1000 )
    *(_WORD *)(a3 + 102) = byte_1FDECB0[1724 * a2] != 4;
  *(_WORD *)(a3 + 128) = 0;
  if ( (unsigned __int8)byte_1FDEF8C[1724 * a2] == 2 )
  {
    v5 = *(_WORD *)(a3 + 128);
    HIBYTE(v5) |= 0x80u;
    *(_WORD *)(a3 + 128) = v5;
  }
  if ( (unsigned __int8)byte_1FDEF8C[1724 * a2] == 1 )
  {
    v6 = *(_WORD *)(a3 + 128);
    HIBYTE(v6) |= 0x40u;
    *(_WORD *)(a3 + 128) = v6;
  }
  if ( dword_1FDF22C[431 * a2] )
    sub_401A2D(a3 + 128, dword_1FDF22C[431 * a2]);
  v21 = 0;
  for ( i = 0; i < 16; ++i )
  {
    v4 = i;
    *(_WORD *)(a3 + 2 * i + 34) = *((_WORD *)&dword_1FDECFC[431 * a2] + 4 * i);
    *(_BYTE *)(i + a3 + 130) = 0;
    v17 = *((_BYTE *)&dword_1FDECFC[431 * a2] + 8 * i + 2) == 43
       || (signed int)*((_BYTE *)&dword_1FDECFC[431 * a2] + 8 * i + 2) >= 115
       && (signed int)*((_BYTE *)&dword_1FDECFC[431 * a2] + 8 * i + 2) <= 126;
    if ( v17 )
    {
      v30 = sub_40103C(&dword_1FDECFC[431 * a2] + 2 * i);
      if ( v30 < 10 )
      {
        *(_BYTE *)(i + a3 + 130) = *((_BYTE *)&dword_1FDECFC[431 * a2] + 8 * i + 2);
      }
      else
      {
        v30 = 16 * ((v30 - 10) % 4 + 1);
        v16 = (signed int)*((_BYTE *)&dword_1FDECFC[431 * a2] + 8 * i + 2) >= 115
           && (signed int)*((_BYTE *)&dword_1FDECFC[431 * a2] + 8 * i + 2) <= 126;
        if ( v16 )
          v28 = *((_BYTE *)&dword_1FDECFC[431 * a2] + 8 * i + 2) - 115;
        else
          v28 = 0;
        *(_BYTE *)(i + a3 + 130) = v30 + v28;
      }
    }
    else
    {
      v15 = *(&byte_1FDED00[1724 * a2] + 8 * i) == 43
         || *(&byte_1FDED00[1724 * a2] + 8 * i) >= 115 && *(&byte_1FDED00[1724 * a2] + 8 * i) <= 126;
      if ( v15 )
      {
        v30 = sub_40103C(&dword_1FDECFC[431 * a2] + 2 * i);
        if ( v30 < 10 )
        {
          *(_BYTE *)(i + a3 + 130) = *(&byte_1FDED00[1724 * a2] + 8 * i);
        }
        else
        {
          v30 = 16 * ((v30 - 10) % 4 + 1);
          v14 = *(&byte_1FDED00[1724 * a2] + 8 * i) >= 115 && *(&byte_1FDED00[1724 * a2] + 8 * i) <= 126;
          if ( v14 )
            v28 = *(&byte_1FDED00[1724 * a2] + 8 * i) - 115;
          else
            v28 = 0;
          *(_BYTE *)(i + a3 + 130) = v30 + v28;
        }
      }
      else
      {
        v13 = *(&byte_1FDED02[1724 * a2] + 8 * i) == 43
           || *(&byte_1FDED02[1724 * a2] + 8 * i) >= 115 && *(&byte_1FDED02[1724 * a2] + 8 * i) <= 126;
        if ( v13 )
        {
          v30 = sub_40103C(&dword_1FDECFC[431 * a2] + 2 * i);
          if ( v30 < 10 )
          {
            *(_BYTE *)(i + a3 + 130) = *(&byte_1FDED02[1724 * a2] + 8 * i);
          }
          else
          {
            v30 = 16 * ((v30 - 10) % 4 + 1);
            v12 = *(&byte_1FDED02[1724 * a2] + 8 * i) >= 115 && *(&byte_1FDED02[1724 * a2] + 8 * i) <= 126;
            if ( v12 )
              v28 = *(&byte_1FDED02[1724 * a2] + 8 * i) - 115;
            else
              v28 = 0;
            *(_BYTE *)(i + a3 + 130) = v30 + v28;
          }
        }
      }
    }
    if ( i == 14
      && *(_WORD *)(a3 + 62)
      && (signed int)*(_WORD *)(a3 + 2 * i + 34) >= 2360
      && (signed int)*(_WORD *)(a3 + 2 * i + 34) < 2390 )
    {
      if ( (signed int)*((_WORD *)&dword_1FDECFC[431 * a2] + 4 * i + 1) > 0 )
      {
        v29 = *(&byte_1FDED00[1724 * a2] + 8 * i);
        v29 /= 10;
        if ( v29 < 0 )
          v29 = 0;
        v29 <<= 12;
        *(_WORD *)(a3 + 2 * i + 34) += v29;
      }
      else
      {
        *(_WORD *)(a3 + 2 * i + 34) = 0;
        v21 = 1;
      }
    }
    else
    {
      if ( a2 < 1000 )
      {
        v29 = sub_4014E2(&dword_1FDECFC[431 * a2] + 2 * i);
      }
      else
      {
        if ( word_1FDED64[862 * a2] != 786 || i != 13 )
        {
          if ( word_1FDED64[862 * a2] != 786 || i != 11 )
          {
            v29 = sub_4014E2(&dword_1FDECFC[431 * a2] + 2 * i);
          }
          else
          {
            v29 = sub_4014E2(&word_1FDED64[862 * a2]);
            *(_WORD *)(a3 + 2 * i + 34) = 786;
            v29 /= 16;
          }
        }
        else
        {
          v29 = sub_4014E2(&dword_1FDECFC[431 * a2 + 26]);
          v29 %= 16;
        }
      }
      v29 <<= 12;
      *(_WORD *)(a3 + 2 * i + 34) += v29;
    }
  }
  sub_401B9F(a3 + 66, &byte_1FDF154[1724 * a2]);
  *(_BYTE *)(a3 + 146) = 0;
  if ( byte_1FDF31C[1724 * a2] )
  {
    if ( dword_8C76344 && a2 < 1000 )
    {
      *(_BYTE *)(a3 + 146) = 0;
      *(_WORD *)(a3 + 128) &= 0x3FFFu;
    }
    else
    {
      if ( a2 >= 1000 )
      {
        *(_BYTE *)(a3 + 146) = 0;
      }
      else
      {
        byte_1FDF335[1724 * a2] = 0;
        byte_1FDF334[1724 * a2] = 0;
        sub_4E7850(a3 + 146, (int)&byte_1FDF31C[1724 * a2], 0x1Au);
      }
    }
  }
  v19 = dword_1FDF1F4[431 * a2];
  v18 = dword_1FDF1F8[431 * a2];
  if ( dword_8C76344 && a2 < 1000 && v19 >= 2604 && v18 >= 1708 && v19 <= 2648 && v18 <= 1744 )
  {
    sub_4E4640((void *)(a3 + 18), 0, 0x10u);
    sub_4E4720(a3 + 18);
    *(_WORD *)(a3 + 64) = 0;
    *(_WORD *)(a3 + 128) &= 0x3FFFu;
    *(_WORD *)(a3 + 98) = 0;
  }
  if ( a2 >= 1000 )
    *(_BYTE *)(a3 + 172) = 0;
  else
    *(_BYTE *)(a3 + 172) = sub_40109B(a2);
  if ( a2 >= 1000 && byte_1FDEF78[1724 * a2] )
  {
    sub_4E3F40(a1, v4, (int)&String, "err, mob have kill point - %d,%d");
    Log(&String, "-system", 0);
  }
  return sub_4E46A0(1, v21, v10, v8, v9);
}
// 40103C: using guessed type _DWORD __cdecl sub_40103C(_DWORD);
// 40109B: using guessed type _DWORD __cdecl sub_40109B(_DWORD);
// 401352: using guessed type _DWORD __cdecl sub_401352(_DWORD);
// 4013BB: using guessed type _DWORD __cdecl sub_4013BB(_DWORD);
// 4013D4: using guessed type _DWORD __cdecl sub_4013D4(_DWORD);
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401A2D: using guessed type _DWORD __cdecl sub_401A2D(_DWORD, _DWORD);
// 401B9F: using guessed type _DWORD __cdecl sub_401B9F(_DWORD, _DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED64: using guessed type __int16 word_1FDED64[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF22C: using guessed type int dword_1FDF22C[];
// 1FDF2B0: using guessed type int dword_1FDF2B0[];
// 8C76270: using guessed type int dword_8C76270;
// 8C76344: using guessed type int dword_8C76344;

//----- (00427E90) --------------------------------------------------------
int __cdecl sub_427E90(signed int a1, int a2)
{
  __int16 v2; // dx@10
  __int16 v3; // cx@12
  int v4; // eax@79
  char v6; // [sp+0h] [bp-90h]@0
  int v7; // [sp+4h] [bp-8Ch]@0
  int v8; // [sp+8h] [bp-88h]@0
  char v9; // [sp+Ch] [bp-84h]@1
  bool v10; // [sp+4Ch] [bp-44h]@61
  bool v11; // [sp+50h] [bp-40h]@55
  bool v12; // [sp+54h] [bp-3Ch]@44
  bool v13; // [sp+58h] [bp-38h]@38
  bool v14; // [sp+5Ch] [bp-34h]@27
  bool v15; // [sp+60h] [bp-30h]@21
  int v16; // [sp+64h] [bp-2Ch]@79
  int v17; // [sp+68h] [bp-28h]@76
  int i; // [sp+6Ch] [bp-24h]@15
  int v19; // [sp+70h] [bp-20h]@15
  char v20; // [sp+74h] [bp-1Ch]@2
  int v21; // [sp+78h] [bp-18h]@2
  char v22; // [sp+7Ch] [bp-14h]@2
  char v23; // [sp+80h] [bp-10h]@2
  int v24; // [sp+84h] [bp-Ch]@2
  int v25; // [sp+88h] [bp-8h]@1
  int v26; // [sp+8Ch] [bp-4h]@1

  memset(&v9, -858993460, 0x84u);
  v26 = 0;
  v25 = 0;
  *(_WORD *)(a2 + 4) = 867;
  sub_4E4720(a2 + 18);
  if ( a1 < 1000 )
  {
    v24 = sub_4013D4(a1);
    v23 = v24;
    v22 = v24 / 256;
    *(_BYTE *)(a2 + 32) = v24;
    *(_BYTE *)(a2 + 33) = v22;
    v21 = sub_4013BB(a1);
    v20 = v21;
    *(_BYTE *)(a2 + 30) = v21;
  }
  *(_WORD *)(a2 + 12) = LOWORD(dword_1FDF1F4[431 * a1]);
  *(_WORD *)(a2 + 14) = LOWORD(dword_1FDF1F8[431 * a1]);
  *(_WORD *)a2 = 200;
  *(_WORD *)(a2 + 6) = 30000;
  *(_WORD *)(a2 + 16) = a1;
  *(_DWORD *)(a2 + 8) = dword_8C76270;
  memcpy((void *)(a2 + 100), &word_1FDECE0[862 * a1], 0x1Cu);
  *(_WORD *)(a2 + 98) = word_1FDECB2[862 * a1];
  if ( dword_1FDF2B0[431 * a1] == 1 )
    *(_WORD *)(a2 + 98) = 0;
  if ( a1 >= 1000 )
    *(_WORD *)(a2 + 102) = byte_1FDECB0[1724 * a1] != 4;
  *(_WORD *)(a2 + 128) = 0;
  if ( (unsigned __int8)byte_1FDEF8C[1724 * a1] == 2 )
  {
    v2 = *(_WORD *)(a2 + 128);
    HIBYTE(v2) |= 0x80u;
    *(_WORD *)(a2 + 128) = v2;
  }
  if ( (unsigned __int8)byte_1FDEF8C[1724 * a1] == 1 )
  {
    v3 = *(_WORD *)(a2 + 128);
    HIBYTE(v3) |= 0x40u;
    *(_WORD *)(a2 + 128) = v3;
  }
  if ( dword_1FDF22C[431 * a1] )
    sub_401A2D(a2 + 128, dword_1FDF22C[431 * a1]);
  v19 = 0;
  for ( i = 0; i < 16; ++i )
  {
    *(_WORD *)(a2 + 2 * i + 34) = *((_WORD *)&dword_1FDECFC[431 * a1] + 4 * i);
    *(_BYTE *)(i + a2 + 130) = 0;
    v15 = *((_BYTE *)&dword_1FDECFC[431 * a1] + 8 * i + 2) == 43
       || (signed int)*((_BYTE *)&dword_1FDECFC[431 * a1] + 8 * i + 2) >= 115
       && (signed int)*((_BYTE *)&dword_1FDECFC[431 * a1] + 8 * i + 2) <= 126;
    if ( v15 )
    {
      v26 = sub_40103C(&dword_1FDECFC[431 * a1] + 2 * i);
      if ( v26 < 10 )
      {
        *(_BYTE *)(i + a2 + 130) = *((_BYTE *)&dword_1FDECFC[431 * a1] + 8 * i + 2);
      }
      else
      {
        v26 = 16 * ((v26 - 10) % 4 + 1);
        v14 = (signed int)*((_BYTE *)&dword_1FDECFC[431 * a1] + 8 * i + 2) >= 115
           && (signed int)*((_BYTE *)&dword_1FDECFC[431 * a1] + 8 * i + 2) <= 126;
        if ( v14 )
          v25 = *((_BYTE *)&dword_1FDECFC[431 * a1] + 8 * i + 2) - 115;
        else
          v25 = 0;
        *(_BYTE *)(i + a2 + 130) = v26 + v25;
      }
    }
    else
    {
      v13 = *(&byte_1FDED00[1724 * a1] + 8 * i) == 43
         || *(&byte_1FDED00[1724 * a1] + 8 * i) >= 115 && *(&byte_1FDED00[1724 * a1] + 8 * i) <= 126;
      if ( v13 )
      {
        v26 = sub_40103C(&dword_1FDECFC[431 * a1] + 2 * i);
        if ( v26 < 10 )
        {
          *(_BYTE *)(i + a2 + 130) = *(&byte_1FDED00[1724 * a1] + 8 * i);
        }
        else
        {
          v26 = 16 * ((v26 - 10) % 4 + 1);
          v12 = *(&byte_1FDED00[1724 * a1] + 8 * i) >= 115 && *(&byte_1FDED00[1724 * a1] + 8 * i) <= 126;
          if ( v12 )
            v25 = *(&byte_1FDED00[1724 * a1] + 8 * i) - 115;
          else
            v25 = 0;
          *(_BYTE *)(i + a2 + 130) = v26 + v25;
        }
      }
      else
      {
        v11 = *(&byte_1FDED02[1724 * a1] + 8 * i) == 43
           || *(&byte_1FDED02[1724 * a1] + 8 * i) >= 115 && *(&byte_1FDED02[1724 * a1] + 8 * i) <= 126;
        if ( v11 )
        {
          v26 = sub_40103C(&dword_1FDECFC[431 * a1] + 2 * i);
          if ( v26 < 10 )
          {
            *(_BYTE *)(i + a2 + 130) = *(&byte_1FDED02[1724 * a1] + 8 * i);
          }
          else
          {
            v26 = 16 * ((v26 - 10) % 4 + 1);
            v10 = *(&byte_1FDED02[1724 * a1] + 8 * i) >= 115 && *(&byte_1FDED02[1724 * a1] + 8 * i) <= 126;
            if ( v10 )
              v25 = *(&byte_1FDED02[1724 * a1] + 8 * i) - 115;
            else
              v25 = 0;
            *(_BYTE *)(i + a2 + 130) = v26 + v25;
          }
        }
      }
    }
    if ( i != 14
      || (signed int)*(_WORD *)(a2 + 62) < 2360
      || (signed int)*(_WORD *)(a2 + 2 * i + 34) >= 2390
      || (signed int)*((_WORD *)&dword_1FDECFC[431 * a1] + 4 * i + 1) > 0 )
    {
      if ( i != 14 || (signed int)*(_WORD *)(a2 + 62) < 2360 || (signed int)*(_WORD *)(a2 + 2 * i + 34) >= 2390 )
      {
        v4 = sub_4014E2(&dword_1FDECFC[431 * a1] + 2 * i);
        v16 = v4 << 12;
        *(_WORD *)(a2 + 2 * i + 34) += (_WORD)v4 << 12;
      }
      else
      {
        v17 = *(&byte_1FDED00[1724 * a1] + 8 * i);
        v17 /= 10;
        if ( v17 < 0 )
          v17 = 0;
        v17 <<= 12;
        *(_WORD *)(a2 + 2 * i + 34) += v17;
      }
    }
    else
    {
      *(_WORD *)(a2 + 2 * i + 34) = 0;
      v19 = 1;
    }
  }
  *(_BYTE *)(a2 + 146) = 0;
  if ( byte_1FDF31C[1724 * a1] )
  {
    byte_1FDF335[1724 * a1] = 0;
    byte_1FDF334[1724 * a1] = 0;
    sub_4E7850(a2 + 146, (int)&byte_1FDF31C[1724 * a1], 0x1Au);
  }
  sub_4E4720(a2 + 172);
  sub_401B9F(a2 + 66, &byte_1FDF154[1724 * a1]);
  if ( a1 >= 1000 )
    *(_BYTE *)(a2 + 196) = 0;
  else
    *(_BYTE *)(a2 + 196) = sub_40109B(a1);
  return sub_4E46A0(1, v19, v8, v6, v7);
}
// 40103C: using guessed type _DWORD __cdecl sub_40103C(_DWORD);
// 40109B: using guessed type _DWORD __cdecl sub_40109B(_DWORD);
// 4013BB: using guessed type _DWORD __cdecl sub_4013BB(_DWORD);
// 4013D4: using guessed type _DWORD __cdecl sub_4013D4(_DWORD);
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 401A2D: using guessed type _DWORD __cdecl sub_401A2D(_DWORD, _DWORD);
// 401B9F: using guessed type _DWORD __cdecl sub_401B9F(_DWORD, _DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF22C: using guessed type int dword_1FDF22C[];
// 1FDF2B0: using guessed type int dword_1FDF2B0[];
// 8C76270: using guessed type int dword_8C76270;

//----- (00428930) --------------------------------------------------------
int __cdecl sub_428930(int a1, int a2)
{
  int result; // eax@1
  char v3; // [sp+Ch] [bp-50h]@1
  __int16 v4; // [sp+4Ch] [bp-10h]@5
  int v5; // [sp+50h] [bp-Ch]@3
  int v6; // [sp+54h] [bp-8h]@3
  int i; // [sp+58h] [bp-4h]@1

  result = -858993460;
  memset(&v3, -858993460, 0x50u);
  for ( i = 0; i < 16; ++i )
  {
    v6 = *(_BYTE *)(a2 + 8 * i);
    v5 = *(_DWORD *)(a2 + 8 * i + 4);
    if ( v5 > 255 )
      v5 = 255;
    v4 = (unsigned __int8)v5 + ((_WORD)v6 << 8);
    *(_WORD *)(a1 + 2 * i) = (unsigned __int8)v5 + ((_WORD)v6 << 8);
    result = i + 1;
  }
  return result;
}

//----- (004289E0) --------------------------------------------------------
int __cdecl sub_4289E0(int a1, int a2)
{
  __int16 *v2; // edx@1
  int v3; // ecx@1
  int result; // eax@1
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  *(_WORD *)(a2 + 6) = 30000;
  *(_WORD *)a2 = 32;
  *(_WORD *)(a2 + 4) = 622;
  *(_WORD *)(a2 + 12) = LOWORD(dword_88636A4[13 * a1]);
  *(_WORD *)(a2 + 14) = LOWORD(dword_88636A8[13 * a1]);
  *(_WORD *)(a2 + 16) = a1 + 15000;
  *(_BYTE *)(a2 + 26) = LOBYTE(dword_88636B4[13 * a1]);
  v2 = &word_8863698[26 * a1];
  v3 = *((_DWORD *)v2 + 1);
  *(_DWORD *)(a2 + 18) = *(_DWORD *)v2;
  *(_DWORD *)(a2 + 22) = v3;
  *(_BYTE *)(a2 + 27) = LOBYTE(dword_88636B0[13 * a1]);
  *(_BYTE *)(a2 + 28) = LOBYTE(dword_88636C0[13 * a1]);
  result = a2;
  *(_WORD *)(a2 + 30) = 0;
  *(_BYTE *)(a2 + 29) = 0;
  return result;
}
// 8863698: using guessed type __int16 word_8863698[];
// 88636A4: using guessed type int dword_88636A4[];
// 88636A8: using guessed type int dword_88636A8[];
// 88636B0: using guessed type int dword_88636B0[];
// 88636B4: using guessed type int dword_88636B4[];
// 88636C0: using guessed type int dword_88636C0[];

//----- (00428AF0) --------------------------------------------------------
__int16 __cdecl sub_428AF0(int a1, __int16 a2, __int16 a3, int a4)
{
  __int16 result; // ax@1
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  *(_WORD *)(a4 + 6) = a1;
  *(_DWORD *)(a4 + 8) = dword_8C76270;
  *(_WORD *)a4 = 52;
  *(_WORD *)(a4 + 4) = 876;
  *(_WORD *)(a4 + 48) = a2;
  *(_WORD *)(a4 + 50) = a3;
  *(_BYTE *)(a4 + 24) = 0;
  *(_DWORD *)(a4 + 20) = 2;
  *(_DWORD *)(a4 + 16) = 1;
  *(_WORD *)(a4 + 12) = LOWORD(dword_1FDF1F4[431 * a1]);
  result = LOWORD(dword_1FDF1F8[431 * a1]);
  *(_WORD *)(a4 + 14) = result;
  return result;
}
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 8C76270: using guessed type int dword_8C76270;

//----- (00428BC0) --------------------------------------------------------
char __cdecl sub_428BC0(signed int a1, signed int a2)
{
  char result; // al@5
  char v3; // [sp+Ch] [bp-4Ch]@1
  char v4; // [sp+4Ch] [bp-Ch]@6
  int v5; // [sp+50h] [bp-8h]@6
  int v6; // [sp+54h] [bp-4h]@6

  memset(&v3, -858993460, 0x4Cu);
  if ( a1 >= 0 && a1 <= 4096 && a2 >= 0 && a1 <= 4096 )
  {
    v6 = a1 / 4 & 0x3FF;
    v5 = a2 / 4 & 0x3FF;
    v4 = *(&byte_8CCC40[1024 * (a2 / 4 & 0x3FF)] + (a1 / 4 & 0x3FF));
    result = v4;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00428C70) --------------------------------------------------------
int __cdecl sub_428C70(signed int a1, signed int a2, int a3)
{
  int v3; // eax@76
  int v4; // eax@138
  signed __int64 v5; // qtt@138
  char v7; // [sp+0h] [bp-CCh]@0
  int v8; // [sp+4h] [bp-C8h]@0
  int v9; // [sp+8h] [bp-C4h]@0
  char v10; // [sp+Ch] [bp-C0h]@1
  int v11; // [sp+4Ch] [bp-80h]@138
  int v12; // [sp+50h] [bp-7Ch]@138
  int v13; // [sp+54h] [bp-78h]@134
  int v14; // [sp+58h] [bp-74h]@134
  int v15; // [sp+5Ch] [bp-70h]@125
  int v16; // [sp+60h] [bp-6Ch]@125
  int v17; // [sp+64h] [bp-68h]@116
  int v18; // [sp+68h] [bp-64h]@116
  int v19; // [sp+6Ch] [bp-60h]@114
  int v20; // [sp+70h] [bp-5Ch]@112
  int v21; // [sp+74h] [bp-58h]@106
  int v22; // [sp+78h] [bp-54h]@106
  int v23; // [sp+7Ch] [bp-50h]@89
  int v24; // [sp+80h] [bp-4Ch]@88
  int v25; // [sp+84h] [bp-48h]@88
  int v26; // [sp+88h] [bp-44h]@84
  int v27; // [sp+8Ch] [bp-40h]@84
  int v28; // [sp+90h] [bp-3Ch]@80
  int v29; // [sp+94h] [bp-38h]@80
  int v30; // [sp+98h] [bp-34h]@76
  int v31; // [sp+9Ch] [bp-30h]@74
  int v32; // [sp+A0h] [bp-2Ch]@71
  int v33; // [sp+A4h] [bp-28h]@71
  int v34; // [sp+A8h] [bp-24h]@69
  int v35; // [sp+ACh] [bp-20h]@69
  int v36; // [sp+B0h] [bp-1Ch]@69
  int v37; // [sp+B4h] [bp-18h]@66
  int v38; // [sp+B8h] [bp-14h]@25
  int v39; // [sp+BCh] [bp-10h]@3
  int v40; // [sp+C0h] [bp-Ch]@3
  int v41; // [sp+C4h] [bp-8h]@2
  int v42; // [sp+C8h] [bp-4h]@1

  memset(&v10, -858993460, 0xC0u);
  *(_WORD *)(a3 + 6) = 30000;
  *(_WORD *)(a3 + 24) = a1;
  *(_DWORD *)(a3 + 8) = dword_8C76270;
  *(_WORD *)(a3 + 16) = LOWORD(dword_1FDF1F4[431 * a1]);
  *(_WORD *)(a3 + 18) = LOWORD(dword_1FDF1F8[431 * a1]);
  *(_WORD *)(a3 + 20) = LOWORD(dword_1FDF1F4[431 * a2]);
  *(_WORD *)(a3 + 22) = LOWORD(dword_1FDF1F8[431 * a2]);
  *(_WORD *)a3 = 52;
  *(_WORD *)(a3 + 4) = 925;
  *(_BYTE *)(a3 + 14) = 0;
  *(_WORD *)(a3 + 28) = -1;
  *(_WORD *)(a3 + 36) = -1;
  *(_WORD *)(a3 + 46) = 0;
  *(_WORD *)(a3 + 48) = 0;
  *(_WORD *)(a3 + 46) = a2;
  v42 = -1;
  *(_BYTE *)(a3 + 15) = 0;
  *(_WORD *)(a3 + 30) = -1;
  *(_BYTE *)(a3 + 12) = Rand()() % 3 + 4;
  if ( a1 >= 1000 )
  {
    v41 = sub_401505(dword_1FDF1F4[431 * a1], dword_1FDF1F8[431 * a1], dword_1FDF1F4[431 * a2], dword_1FDF1F8[431 * a2]);
    if ( v41 >= 3 )
    {
      LOBYTE(v40) = byte_1FDECDE[1724 * a1];
      v39 = (unsigned __int8)byte_1FDECDF[1724 * a1];
    }
    else
    {
      LOBYTE(v40) = byte_1FDECDC[1724 * a1];
      v39 = (unsigned __int8)byte_1FDECDD[1724 * a1];
    }
    *(_BYTE *)(a3 + 12) = 0;
    if ( (unsigned __int8)v40 == 255 )
      LOBYTE(v40) = -1;
    switch ( (unsigned __int8)v40 )
    {
      case 0x79u:
        *(_WORD *)(a3 + 30) = 153;
        *(_BYTE *)(a3 + 15) = 5;
        break;
      case 0x7Au:
        *(_WORD *)(a3 + 30) = 105;
        *(_BYTE *)(a3 + 15) = 1;
        break;
      case 0x7Bu:
        *(_WORD *)(a3 + 30) = 151;
        *(_BYTE *)(a3 + 15) = 1;
        break;
      case 0x7Cu:
        *(_WORD *)(a3 + 30) = 151;
        *(_BYTE *)(a3 + 15) = 2;
        break;
      case 0x7Du:
        *(_WORD *)(a3 + 30) = 40;
        *(_BYTE *)(a3 + 15) = 1;
        break;
      case 0x7Eu:
        *(_WORD *)(a3 + 30) = 40;
        *(_BYTE *)(a3 + 15) = 2;
        break;
      case 0x7Fu:
        *(_WORD *)(a3 + 30) = 40;
        *(_BYTE *)(a3 + 15) = 3;
        break;
      case 0x80u:
        *(_WORD *)(a3 + 30) = 33;
        *(_BYTE *)(a3 + 15) = -4;
        *(_BYTE *)(a3 + 12) = -4;
        break;
      default:
        *(_WORD *)(a3 + 30) = (unsigned __int8)v40;
        break;
    }
    if ( v39 )
    {
      *(_BYTE *)(a3 + 12) = 4;
      v38 = Rand()() % 4;
      switch ( v39 )
      {
        case 3:
          if ( v38 <= 1 )
            ++*(_BYTE *)(a3 + 12);
          break;
        case 6:
          if ( v38 > 1 )
            *(_BYTE *)(a3 + 12) += 2;
          else
            ++*(_BYTE *)(a3 + 12);
          break;
        case 7:
          if ( v38 == 1 )
            ++*(_BYTE *)(a3 + 12);
          else
            *(_BYTE *)(a3 + 12) += 2;
          break;
        case 15:
          switch ( v38 )
          {
            case 1:
              ++*(_BYTE *)(a3 + 12);
              break;
            case 2:
              *(_BYTE *)(a3 + 12) += 2;
              break;
            case 3:
              *(_BYTE *)(a3 + 12) += 3;
              break;
          }
          break;
        case 23:
          switch ( v38 )
          {
            case 1:
              ++*(_BYTE *)(a3 + 12);
              break;
            case 2:
              *(_BYTE *)(a3 + 12) += 2;
              break;
            case 3:
              *(_BYTE *)(a3 + 12) += 4;
              break;
          }
          break;
      }
      if ( v39 == 24 )
      {
        if ( v38 > 1 )
          *(_BYTE *)(a3 + 12) += 4;
        else
          *(_BYTE *)(a3 + 12) += 3;
      }
      else
      {
        if ( v39 == 27 )
        {
          switch ( v38 )
          {
            case 1:
              ++*(_BYTE *)(a3 + 12);
              break;
            case 2:
              *(_BYTE *)(a3 + 12) += 3;
              break;
            case 3:
              *(_BYTE *)(a3 + 12) += 4;
              break;
          }
        }
      }
    }
    v37 = Rand()() % 100;
    if ( byte_1FDEF8B[1724 * a1] != -1 && v37 >= 25 && v37 <= 64 )
    {
      v36 = byte_1FDEF8B[1724 * a1];
      v35 = dword_8B61DC[24 * v36];
      v34 = dword_1FDF1D8[431 * a1];
      if ( v34 <= 0 )
        v34 = a1;
      v33 = 10 * (unsigned __int16)word_1FDECEC[862 * a1];
      v33 /= (signed int)(unsigned __int16)word_1FDECE8[862 * a1];
      v32 = 10 * (unsigned __int16)word_1FDECEC[862 * v34];
      v32 /= (signed int)(unsigned __int16)word_1FDECE8[862 * v34];
      if ( v35 == 6 )
      {
        if ( v33 <= 8 || v32 <= 8 )
        {
          *(_WORD *)(a3 + 30) = v36;
          v31 = a1;
          if ( v33 > v32 )
            v31 = v34;
          v3 = (unsigned __int16)word_1FDECE8[862 * v31] / 10;
          v30 = (unsigned __int16)word_1FDECE8[862 * v31] / 10;
          LOWORD(v3) = v31;
          *(_WORD *)(a3 + 46) = v31;
          *(_WORD *)(a3 + 48) = -(signed __int16)v30;
          return sub_4E46A0(1, v3, v9, v7, v8);
        }
      }
    }
    if ( byte_1FDEF88[1724 * a1] == -1 || v37 < 0 || v37 > 49 )
    {
      if ( byte_1FDEF89[1724 * a1] == -1 || v37 < 50 || v37 > 84 )
      {
        if ( byte_1FDEF8A[1724 * a1] != -1 && v37 >= 85 && v37 <= 99 )
        {
          v25 = byte_1FDEF8A[1724 * a1];
          v24 = dword_8B61DC[24 * v25];
          v42 = v24 - 2;
          *(_WORD *)(a3 + 30) = v25;
        }
      }
      else
      {
        v27 = byte_1FDEF89[1724 * a1];
        v26 = dword_8B61DC[24 * v27];
        v42 = v26 - 2;
        *(_WORD *)(a3 + 30) = v27;
      }
    }
    else
    {
      v29 = byte_1FDEF88[1724 * a1];
      v28 = dword_8B61DC[24 * v29];
      v42 = v28 - 2;
      *(_WORD *)(a3 + 30) = v29;
    }
  }
  v23 = word_1FDECE4[862 * a1];
  v23 = sub_401AA5(v23, word_1FDECE2[862 * a2], 0);
  if ( v42 >= 0 )
  {
    if ( v42 <= 3 )
    {
      v23 = (100 - (unsigned __int8)*(&byte_1FDEF90[1724 * a2] + v42)) * v23 / 100;
      if ( word_1FDED3C[862 * a1] == 786 )
      {
        if ( byte_1FDED3E[1724 * a1] == 60 && byte_1FDED3F[1724 * a1] > 0 && word_1FDECD6[862 * a1] > 0 )
        {
          v23 += byte_1FDED3F[1724 * a1] * word_1FDECD6[862 * a1];
          v23 = sub_401AA5(v23, word_1FDECE2[862 * a2], 0);
        }
      }
    }
  }
  if ( v23 > 0 )
  {
    if ( a2 < 1000 )
    {
      if ( dword_1FDF2F8[431 * a2] > 0 )
      {
        v23 -= dword_1FDF2F8[431 * a2];
        if ( v23 < 0 )
          v23 = 0;
      }
    }
  }
  if ( v23 > 0 )
  {
    if ( (a1 < 1000 || byte_1FDECB0[1724 * a1] == 4) && (a2 < 1000 || byte_1FDECB0[1724 * a2] == 4) )
    {
      v23 = 3 * v23 / 10;
      LOBYTE(v22) = sub_401712(dword_1FDF1F4[431 * a2], dword_1FDF1F8[431 * a2]);
      LOBYTE(v21) = sub_401712(dword_1FDF1F4[431 * a1], dword_1FDF1F8[431 * a1]);
      if ( v22 & 1 || !(v22 & 0x40) )
        v23 = 0;
      if ( v21 & 1 || !(v21 & 0x40) )
        v23 = 0;
    }
    v20 = dword_1FDF1D8[431 * a1];
    if ( !v20 )
      v20 = a1;
    v19 = dword_1FDF1D8[431 * a2];
    if ( !v19 )
      v19 = a2;
    v18 = (unsigned __int16)word_1FDECB2[862 * a1];
    v17 = (unsigned __int16)word_1FDECB2[862 * a2];
    if ( !v18 && !v17 )
      v18 = -1;
    if ( a2 < 1000 && dword_1FDF2B0[431 * a2] )
      v17 = -2;
    if ( v20 == v19 || v18 == v17 )
    {
      word_1FDF280[862 * a1] = 0;
      v23 = 0;
    }
  }
  v16 = dword_1FDF2EC[431 * a1];
  v15 = dword_1FDF2F0[431 * a1];
  if ( v16 <= 0 )
    v16 = 1;
  if ( v15 > 0 && v23 <= v16 )
  {
    --v15;
    if ( !v15 )
      v15 = 20;
    v23 += v16 + Rand()() % (v16 * v15);
  }
  if ( word_1FDED3C[862 * a1] == 786 )
  {
    if ( byte_1FDED40[1724 * a1] == 71 )
    {
      v14 = byte_1FDED41[1724 * a1];
      v13 = Rand()() % 100;
      if ( v13 < v14 )
      {
        v23 = v23 * (Rand()() % 4 + 15) / 10;
        *(_BYTE *)(a3 + 14) = 2;
      }
    }
  }
  v3 = 1724 * a1;
  if ( word_1FDED3C[862 * a1] == 786 )
  {
    v3 = byte_1FDED42[1724 * a1];
    if ( v3 == 71 )
    {
      v12 = byte_1FDED43[1724 * a1];
      v4 = Rand()();
      v5 = v4;
      v3 = v4 / 100;
      v11 = v5 % 100;
      if ( v5 % 100 < v12 )
      {
        v23 *= 2;
        v3 = a3;
        *(_BYTE *)(a3 + 14) |= 1u;
      }
    }
  }
  if ( dword_1FDEF7C[431 * a1] & 0x20000000 )
  {
    v3 = a3;
    *(_BYTE *)(a3 + 14) = 8;
  }
  *(_WORD *)(a3 + 48) = v23;
  return sub_4E46A0(1, v3, v9, v7, v8);
}
// 401505: using guessed type _DWORD __cdecl sub_401505(_DWORD, _DWORD, _DWORD, _DWORD);
// 401712: using guessed type _DWORD __cdecl sub_401712(_DWORD, _DWORD);
// 401AA5: using guessed type _DWORD __cdecl sub_401AA5(_DWORD, _DWORD, _DWORD);
// 8B61DC: using guessed type int dword_8B61DC[];
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECD6: using guessed type __int16 word_1FDECD6[];
// 1FDECE2: using guessed type __int16 word_1FDECE2[];
// 1FDECE4: using guessed type __int16 word_1FDECE4[];
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDED3C: using guessed type __int16 word_1FDED3C[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF280: using guessed type __int16 word_1FDF280[];
// 1FDF2B0: using guessed type int dword_1FDF2B0[];
// 1FDF2EC: using guessed type int dword_1FDF2EC[];
// 1FDF2F0: using guessed type int dword_1FDF2F0[];
// 1FDF2F8: using guessed type int dword_1FDF2F8[];
// 8C76270: using guessed type int dword_8C76270;

//----- (00429B30) --------------------------------------------------------
int __cdecl sub_429B30(signed int a1)
{
  int v1; // eax@4
  char v3; // [sp+0h] [bp-54h]@0
  int v4; // [sp+4h] [bp-50h]@0
  int v5; // [sp+8h] [bp-4Ch]@0
  char v6; // [sp+Ch] [bp-48h]@1
  int v7; // [sp+4Ch] [bp-8h]@1
  __int16 *v8; // [sp+50h] [bp-4h]@1

  memset(&v6, -858993460, 0x48u);
  v8 = &word_1FDED5C[862 * a1];
  v7 = sub_401672(&word_1FDED5C[862 * a1]);
  word_1FDECB2[862 * a1] = v7;
  if ( a1 < 0 || a1 >= 1000 || *v8 != 509 )
  {
    if ( a1 < 0 || a1 >= 1000 || *v8 < 526 || (v1 = (int)v8, *v8 > 531) )
    {
      v1 = 1724 * a1;
      byte_1FDEF8C[1724 * a1] = 0;
    }
    else
    {
      byte_1FDEF8C[1724 * a1] = 1;
    }
  }
  else
  {
    v1 = 1724 * a1;
    byte_1FDEF8C[1724 * a1] = 2;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401672: using guessed type _DWORD __cdecl sub_401672(_DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDED5C: using guessed type __int16 word_1FDED5C[];

//----- (00429C40) --------------------------------------------------------
int __cdecl sub_429C40(signed int a1)
{
  int result; // eax@2
  char v2; // [sp+Ch] [bp-40h]@1

  memset(&v2, -858993460, 0x40u);
  if ( a1 < 1000 )
  {
    if ( byte_1FDED02[1724 * a1] == 28 )
      result = byte_1FDED03[1724 * a1];
    else
      result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00429CB0) --------------------------------------------------------
signed int __cdecl sub_429CB0(int a1, int a2)
{
  signed int result; // eax@3
  char v3; // [sp+Ch] [bp-48h]@1
  __int64 v4; // [sp+4Ch] [bp-8h]@4

  memset(&v3, -858993460, 0x48u);
  if ( *(&word_54F8194[4096 * *(_DWORD *)a2] + *(_DWORD *)a1)
    || *(&byte_782F298[4096 * *(_DWORD *)a2] + *(_DWORD *)a1) == 127 )
  {
    for ( HIDWORD(v4) = *(_DWORD *)a2 - 1; SHIDWORD(v4) <= *(_DWORD *)a2 + 1; ++HIDWORD(v4) )
    {
      LODWORD(v4) = *(_DWORD *)a1 - 1;
      while ( (signed int)v4 <= *(_DWORD *)a1 + 1 )
      {
        if ( v4 >= 0
          && (signed int)v4 < 4096
          && SHIDWORD(v4) < 4096
          && !*(&word_54F8194[4096 * HIDWORD(v4)] + v4)
          && *(&byte_782F298[4096 * HIDWORD(v4)] + v4) != 127 )
        {
          *(_DWORD *)a2 = HIDWORD(v4);
          *(_DWORD *)a1 = v4;
          return 1;
        }
        LODWORD(v4) = v4 + 1;
      }
    }
    result = 0;
  }
  else
  {
    result = 1;
  }
  return result;
}
// 54F8194: using guessed type __int16 word_54F8194[];

//----- (00429E10) --------------------------------------------------------
int __usercall sub_429E10<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, signed int a6)
{
  int v6; // eax@5
  char v8; // [sp+0h] [bp-6Ch]@0
  int v9; // [sp+4h] [bp-68h]@0
  int v10; // [sp+8h] [bp-64h]@0
  char v11; // [sp+Ch] [bp-60h]@1
  int v12; // [sp+4Ch] [bp-20h]@65
  int i; // [sp+50h] [bp-1Ch]@57
  int v14; // [sp+54h] [bp-18h]@46
  int v15; // [sp+58h] [bp-14h]@28
  __int64 v16; // [sp+5Ch] [bp-10h]@19
  int v17; // [sp+64h] [bp-8h]@19
  int v18; // [sp+68h] [bp-4h]@6

  memset(&v11, -858993460, 0x60u);
  if ( *(_DWORD *)a4 >= 0 && *(_DWORD *)a5 >= 0 && *(_DWORD *)a4 < 4096 && *(_DWORD *)a5 < 4096 )
  {
    v18 = (unsigned __int16)*(&word_34EA550[4096 * *(_DWORD *)a5] + *(_DWORD *)a4);
    if ( v18 <= 0 || v18 >= 12800 )
    {
      *(&word_34EA550[4096 * *(_DWORD *)a5] + *(_DWORD *)a4) = 0;
      v18 = 0;
    }
    if ( !dword_1FDF1D4[431 * v18] )
    {
      *(&word_34EA550[4096 * *(_DWORD *)a5] + *(_DWORD *)a4) = 0;
      v18 = 0;
    }
    if ( v18 != a3
      || *(&byte_782F298[4096 * *(_DWORD *)a5] + *(_DWORD *)a4) == 127
      || *(&byte_782F298[4096 * *(_DWORD *)a5] + *(_DWORD *)a4) >= a6 )
    {
      if ( v18
        || *(&byte_782F298[4096 * *(_DWORD *)a5] + *(_DWORD *)a4) == 127
        || *(&byte_782F298[4096 * *(_DWORD *)a5] + *(_DWORD *)a4) >= a6 )
      {
        v17 = (unsigned __int16)*(&word_34EA550[4096 * *(_DWORD *)a5] + *(_DWORD *)a4);
        v16 = 0i64;
        for ( HIDWORD(v16) = *(_DWORD *)a5 - 1; SHIDWORD(v16) <= *(_DWORD *)a5 + 1; ++HIDWORD(v16) )
        {
          LODWORD(v16) = *(_DWORD *)a4 - 1;
          while ( (signed int)v16 <= *(_DWORD *)a4 + 1 )
          {
            if ( v16 >= 0 && (signed int)v16 < 4096 && SHIDWORD(v16) < 4096 )
            {
              v15 = v17 - (unsigned __int16)*(&word_34EA550[4096 * HIDWORD(v16)] + v16);
              if ( v15 < 0 )
                v15 = -v15;
              if ( !*(&word_34EA550[4096 * HIDWORD(v16)] + v16)
                && *(&byte_782F298[4096 * HIDWORD(v16)] + v16) != 127
                && v15 < 50
                && *(&byte_782F298[4096 * HIDWORD(v16)] + v16) < a6 )
              {
                *(_DWORD *)a5 = HIDWORD(v16);
                *(_DWORD *)a4 = v16;
                v6 = 1;
                return sub_4E46A0(1, v6, v10, v8, v9);
              }
            }
            LODWORD(v16) = v16 + 1;
          }
        }
        for ( HIDWORD(v16) = *(_DWORD *)a5 - 2; SHIDWORD(v16) <= *(_DWORD *)a5 + 2; ++HIDWORD(v16) )
        {
          LODWORD(v16) = *(_DWORD *)a4 - 2;
          while ( (signed int)v16 <= *(_DWORD *)a4 + 2 )
          {
            if ( v16 >= 0 && (signed int)v16 < 4096 && SHIDWORD(v16) < 4096 )
            {
              v14 = v17 - (unsigned __int16)*(&word_34EA550[4096 * HIDWORD(v16)] + v16);
              if ( v14 < 0 )
                v14 = -v14;
              if ( !*(&word_34EA550[4096 * HIDWORD(v16)] + v16)
                && *(&byte_782F298[4096 * HIDWORD(v16)] + v16) != 127
                && v14 < 50
                && *(&byte_782F298[4096 * HIDWORD(v16)] + v16) < a6 )
              {
                *(_DWORD *)a5 = HIDWORD(v16);
                *(_DWORD *)a4 = v16;
                v6 = 1;
                return sub_4E46A0(1, v6, v10, v8, v9);
              }
            }
            LODWORD(v16) = v16 + 1;
          }
        }
        for ( HIDWORD(v16) = *(_DWORD *)a5 - 3; SHIDWORD(v16) <= *(_DWORD *)a5 + 3; ++HIDWORD(v16) )
        {
          for ( i = *(_DWORD *)a4 - 3; i <= *(_DWORD *)a4 + 3; ++i )
          {
            if ( i >= 0 && SHIDWORD(v16) >= 0 && i < 4096 && SHIDWORD(v16) < 4096 )
            {
              v12 = v17 - (unsigned __int16)*(&word_34EA550[4096 * HIDWORD(v16)] + i);
              if ( v12 < 0 )
                v12 = -v12;
              if ( !*(&word_34EA550[4096 * HIDWORD(v16)] + i)
                && *(&byte_782F298[4096 * HIDWORD(v16)] + i) != 127
                && v12 < 50
                && *(&byte_782F298[4096 * HIDWORD(v16)] + i) < a6 )
              {
                *(_DWORD *)a5 = HIDWORD(v16);
                *(_DWORD *)a4 = i;
                v6 = 1;
                return sub_4E46A0(1, v6, v10, v8, v9);
              }
            }
          }
        }
        v6 = 0;
      }
      else
      {
        v6 = 1;
      }
    }
    else
    {
      v6 = 1;
    }
  }
  else
  {
    sub_4E3F40(a1, a2, (int)&String, "GetEmptyLowMobGrid of range %d %d ");
    Log(&String, "-system", 0);
    v6 = 0;
  }
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 34EA550: using guessed type __int16 word_34EA550[];

//----- (0042A400) --------------------------------------------------------
int __usercall sub_42A400<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5)
{
  int v5; // eax@5
  char v7; // [sp+0h] [bp-6Ch]@0
  int v8; // [sp+4h] [bp-68h]@0
  int v9; // [sp+8h] [bp-64h]@0
  char v10; // [sp+Ch] [bp-60h]@1
  int v11; // [sp+4Ch] [bp-20h]@60
  int i; // [sp+50h] [bp-1Ch]@52
  int v13; // [sp+54h] [bp-18h]@42
  int v14; // [sp+58h] [bp-14h]@25
  __int64 v15; // [sp+5Ch] [bp-10h]@16
  int v16; // [sp+64h] [bp-8h]@16
  int v17; // [sp+68h] [bp-4h]@8

  memset(&v10, -858993460, 0x60u);
  if ( *(_DWORD *)a4 >= 0 && *(_DWORD *)a5 >= 0 && *(_DWORD *)a4 < 4096 && *(_DWORD *)a5 < 4096 )
  {
    if ( (unsigned __int16)*(&word_34EA550[4096 * *(_DWORD *)a5] + *(_DWORD *)a4) == a3 )
    {
      v5 = 1;
    }
    else
    {
      v17 = (unsigned __int16)*(&word_34EA550[4096 * *(_DWORD *)a5] + *(_DWORD *)a4);
      if ( v17 <= 0 || v17 >= 12800 )
      {
        *(&word_34EA550[4096 * *(_DWORD *)a5] + *(_DWORD *)a4) = 0;
        v17 = 0;
      }
      if ( !dword_1FDF1D4[431 * v17] )
      {
        *(&word_34EA550[4096 * *(_DWORD *)a5] + *(_DWORD *)a4) = 0;
        v17 = 0;
      }
      if ( v17 || *(&byte_782F298[4096 * *(_DWORD *)a5] + *(_DWORD *)a4) == 127 )
      {
        v16 = *(&byte_782F298[4096 * *(_DWORD *)a5] + *(_DWORD *)a4);
        v15 = 0i64;
        for ( HIDWORD(v15) = *(_DWORD *)a5 - 1; SHIDWORD(v15) <= *(_DWORD *)a5 + 1; ++HIDWORD(v15) )
        {
          LODWORD(v15) = *(_DWORD *)a4 - 1;
          while ( (signed int)v15 <= *(_DWORD *)a4 + 1 )
          {
            if ( v15 >= 0 && (signed int)v15 < 4096 && SHIDWORD(v15) < 4096 )
            {
              v14 = v16 - *(&byte_782F298[4096 * HIDWORD(v15)] + v15);
              if ( v14 < 0 )
                v14 = -v14;
              if ( !*(&word_34EA550[4096 * HIDWORD(v15)] + v15)
                && *(&byte_782F298[4096 * HIDWORD(v15)] + v15) != 127
                && v14 < 50 )
              {
                *(_DWORD *)a5 = HIDWORD(v15);
                *(_DWORD *)a4 = v15;
                v5 = 1;
                return sub_4E46A0(1, v5, v9, v7, v8);
              }
            }
            LODWORD(v15) = v15 + 1;
          }
        }
        for ( HIDWORD(v15) = *(_DWORD *)a5 - 2; SHIDWORD(v15) <= *(_DWORD *)a5 + 2; ++HIDWORD(v15) )
        {
          LODWORD(v15) = *(_DWORD *)a4 - 2;
          while ( (signed int)v15 <= *(_DWORD *)a4 + 2 )
          {
            if ( v15 >= 0 && (signed int)v15 < 4096 && SHIDWORD(v15) < 4096 )
            {
              v13 = v16 - *(&byte_782F298[4096 * HIDWORD(v15)] + v15);
              if ( v13 < 0 )
                v13 = -v13;
              if ( !*(&word_34EA550[4096 * HIDWORD(v15)] + v15)
                && *(&byte_782F298[4096 * HIDWORD(v15)] + v15) != 127
                && v13 < 50 )
              {
                *(_DWORD *)a5 = HIDWORD(v15);
                *(_DWORD *)a4 = v15;
                v5 = 1;
                return sub_4E46A0(1, v5, v9, v7, v8);
              }
            }
            LODWORD(v15) = v15 + 1;
          }
        }
        for ( HIDWORD(v15) = *(_DWORD *)a5 - 3; SHIDWORD(v15) <= *(_DWORD *)a5 + 3; ++HIDWORD(v15) )
        {
          for ( i = *(_DWORD *)a4 - 3; i <= *(_DWORD *)a4 + 3; ++i )
          {
            if ( i >= 0 && SHIDWORD(v15) >= 0 && i < 4096 && SHIDWORD(v15) < 4096 )
            {
              v11 = v16 - *(&byte_782F298[4096 * HIDWORD(v15)] + i);
              if ( v11 < 0 )
                v11 = -v11;
              if ( !*(&word_34EA550[4096 * HIDWORD(v15)] + i)
                && *(&byte_782F298[4096 * HIDWORD(v15)] + i) != 127
                && v11 < 50 )
              {
                *(_DWORD *)a5 = HIDWORD(v15);
                *(_DWORD *)a4 = i;
                v5 = 1;
                return sub_4E46A0(1, v5, v9, v7, v8);
              }
            }
          }
        }
        v5 = 0;
      }
      else
      {
        v5 = 1;
      }
    }
  }
  else
  {
    sub_4E3F40(a1, a2, (int)&String, "GetEmptyMobGridValid of range %d %d ");
    Log(&String, "-system", 0);
    v5 = 0;
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 34EA550: using guessed type __int16 word_34EA550[];

//----- (0042A950) --------------------------------------------------------
int __usercall sub_42A950<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5)
{
  int v5; // eax@5
  char v7; // [sp+0h] [bp-5Ch]@0
  int v8; // [sp+4h] [bp-58h]@0
  int v9; // [sp+8h] [bp-54h]@0
  char v10; // [sp+Ch] [bp-50h]@1
  int i; // [sp+4Ch] [bp-10h]@46
  __int64 v12; // [sp+50h] [bp-Ch]@16
  int v13; // [sp+58h] [bp-4h]@8

  memset(&v10, -858993460, 0x50u);
  if ( *(_DWORD *)a4 >= 0 && *(_DWORD *)a5 >= 0 && *(_DWORD *)a4 < 4096 && *(_DWORD *)a5 < 4096 )
  {
    if ( (unsigned __int16)*(&word_34EA550[4096 * *(_DWORD *)a5] + *(_DWORD *)a4) == a3 )
    {
      v5 = 1;
    }
    else
    {
      v13 = (unsigned __int16)*(&word_34EA550[4096 * *(_DWORD *)a5] + *(_DWORD *)a4);
      if ( v13 <= 0 || v13 >= 12800 )
      {
        *(&word_34EA550[4096 * *(_DWORD *)a5] + *(_DWORD *)a4) = 0;
        v13 = 0;
      }
      if ( !dword_1FDF1D4[431 * v13] )
      {
        *(&word_34EA550[4096 * *(_DWORD *)a5] + *(_DWORD *)a4) = 0;
        v13 = 0;
      }
      if ( v13 || *(&byte_782F298[4096 * *(_DWORD *)a5] + *(_DWORD *)a4) == 127 )
      {
        v12 = 0i64;
        for ( HIDWORD(v12) = *(_DWORD *)a5 - 1; SHIDWORD(v12) <= *(_DWORD *)a5 + 1; ++HIDWORD(v12) )
        {
          LODWORD(v12) = *(_DWORD *)a4 - 1;
          while ( (signed int)v12 <= *(_DWORD *)a4 + 1 )
          {
            if ( v12 >= 0
              && (signed int)v12 < 4096
              && SHIDWORD(v12) < 4096
              && !*(&word_34EA550[4096 * HIDWORD(v12)] + v12)
              && *(&byte_782F298[4096 * HIDWORD(v12)] + v12) != 127 )
            {
              *(_DWORD *)a5 = HIDWORD(v12);
              *(_DWORD *)a4 = v12;
              v5 = 1;
              return sub_4E46A0(1, v5, v9, v7, v8);
            }
            LODWORD(v12) = v12 + 1;
          }
        }
        for ( HIDWORD(v12) = *(_DWORD *)a5 - 2; SHIDWORD(v12) <= *(_DWORD *)a5 + 2; ++HIDWORD(v12) )
        {
          LODWORD(v12) = *(_DWORD *)a4 - 2;
          while ( (signed int)v12 <= *(_DWORD *)a4 + 2 )
          {
            if ( v12 >= 0
              && (signed int)v12 < 4096
              && SHIDWORD(v12) < 4096
              && !*(&word_34EA550[4096 * HIDWORD(v12)] + v12)
              && *(&byte_782F298[4096 * HIDWORD(v12)] + v12) != 127 )
            {
              *(_DWORD *)a5 = HIDWORD(v12);
              *(_DWORD *)a4 = v12;
              v5 = 1;
              return sub_4E46A0(1, v5, v9, v7, v8);
            }
            LODWORD(v12) = v12 + 1;
          }
        }
        for ( HIDWORD(v12) = *(_DWORD *)a5 - 3; SHIDWORD(v12) <= *(_DWORD *)a5 + 3; ++HIDWORD(v12) )
        {
          for ( i = *(_DWORD *)a4 - 3; i <= *(_DWORD *)a4 + 3; ++i )
          {
            if ( i >= 0
              && SHIDWORD(v12) >= 0
              && i < 4096
              && SHIDWORD(v12) < 4096
              && !*(&word_34EA550[4096 * HIDWORD(v12)] + i)
              && *(&byte_782F298[4096 * HIDWORD(v12)] + i) != 127 )
            {
              *(_DWORD *)a5 = HIDWORD(v12);
              *(_DWORD *)a4 = i;
              v5 = 1;
              return sub_4E46A0(1, v5, v9, v7, v8);
            }
          }
        }
        v5 = 0;
      }
      else
      {
        v5 = 1;
      }
    }
  }
  else
  {
    sub_4E3F40(a1, a2, (int)&String, "GetEmptyMobGrid of range %d %d ");
    Log(&String, "-system", 0);
    v5 = 0;
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 34EA550: using guessed type __int16 word_34EA550[];

//----- (0042ADC0) --------------------------------------------------------
int __cdecl sub_42ADC0(signed int a1)
{
  int result; // eax@3
  char v2; // [sp+Ch] [bp-48h]@1
  int v3; // [sp+50h] [bp-4h]@4

  memset(&v2, -858993460, 0x48u);
  if ( a1 > 0 && a1 < 1000 )
  {
    LOBYTE(v3) = byte_1FDEF77[1724 * a1];
    result = (unsigned __int8)v3;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0042AE30) --------------------------------------------------------
int __cdecl sub_42AE30(signed int a1)
{
  int result; // eax@3
  char v2; // [sp+Ch] [bp-4Ch]@1
  int v3; // [sp+50h] [bp-8h]@4
  int v4; // [sp+54h] [bp-4h]@4

  memset(&v2, -858993460, 0x4Cu);
  if ( a1 > 0 && a1 < 1000 )
  {
    LOBYTE(v4) = byte_1FDEF79[1724 * a1];
    LOBYTE(v3) = byte_1FDEF7B[1724 * a1];
    result = ((unsigned __int8)v3 << 8) + (unsigned __int8)v4;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0042AEC0) --------------------------------------------------------
char __cdecl sub_42AEC0(signed int a1, signed int a2)
{
  char result; // al@1
  char v3; // [sp+Ch] [bp-44h]@1

  result = -52;
  memset(&v3, -858993460, 0x44u);
  if ( a1 > 0 && a1 < 1000 )
  {
    if ( a2 < 0 )
      a2 = 0;
    if ( a2 > 200 )
      a2 = 200;
    result = a2;
    byte_1FDEF77[1724 * a1] = a2;
  }
  return result;
}

//----- (0042AF40) --------------------------------------------------------
int __cdecl sub_42AF40(signed int a1, signed int a2)
{
  int result; // eax@1
  char v3; // [sp+Ch] [bp-48h]@1
  char v4; // [sp+4Ch] [bp-8h]@8

  result = -858993460;
  memset(&v3, -858993460, 0x48u);
  if ( a1 > 0 && a1 < 1000 )
  {
    if ( a2 < 0 )
      a2 = 0;
    if ( a2 > 65000 )
      a2 = 65000;
    v4 = a2 / 256;
    byte_1FDEF79[1724 * a1] = a2;
    result = 1724 * a1;
    byte_1FDEF7B[1724 * a1] = v4;
  }
  return result;
}

//----- (0042B000) --------------------------------------------------------
int __cdecl sub_42B000(int a1)
{
  char v2; // [sp+Ch] [bp-48h]@1
  int v3; // [sp+50h] [bp-4h]@1

  memset(&v2, -858993460, 0x48u);
  LOBYTE(v3) = byte_1FDEF76[1724 * a1];
  return (unsigned __int8)v3;
}

//----- (0042B050) --------------------------------------------------------
int __cdecl sub_42B050(int a1)
{
  char v2; // [sp+Ch] [bp-48h]@1
  int v3; // [sp+4Ch] [bp-8h]@1
  int v4; // [sp+50h] [bp-4h]@1

  memset(&v2, -858993460, 0x48u);
  LOBYTE(v4) = byte_1FDEF78[1724 * a1];
  v3 = (unsigned __int8)v4;
  if ( (signed int)(unsigned __int8)v4 > 50 )
  {
    byte_1FDEF78[1724 * a1] = 0;
    v3 = 0;
  }
  return v3;
}

//----- (0042B0D0) --------------------------------------------------------
char __cdecl sub_42B0D0(signed int a1, signed int a2)
{
  char result; // al@1
  char v3; // [sp+Ch] [bp-44h]@1

  result = -52;
  memset(&v3, -858993460, 0x44u);
  if ( a1 > 0 && a1 < 1000 )
  {
    if ( a2 < 0 )
      a2 = 0;
    if ( a2 > 50 )
      a2 = 50;
    result = a2;
    byte_1FDEF78[1724 * a1] = a2;
  }
  return result;
}

//----- (0042B150) --------------------------------------------------------
char __cdecl sub_42B150(signed int a1, signed int a2)
{
  char result; // al@1
  char v3; // [sp+Ch] [bp-44h]@1

  result = -52;
  memset(&v3, -858993460, 0x44u);
  if ( a1 > 0 && a1 < 1000 )
  {
    if ( a2 < 1 )
      a2 = 1;
    if ( a2 > 150 )
      a2 = 150;
    result = a2;
    byte_1FDEF76[1724 * a1] = a2;
  }
  return result;
}

//----- (0042B1D0) --------------------------------------------------------
int __usercall sub_42B1D0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // eax@1
  char v9; // [sp+0h] [bp-A4h]@0
  int v10; // [sp+4h] [bp-A0h]@0
  int v11; // [sp+8h] [bp-9Ch]@0
  char v12; // [sp+Ch] [bp-98h]@1
  char v13; // [sp+4Ch] [bp-58h]@30
  int v14; // [sp+6Ch] [bp-38h]@23
  int v15; // [sp+70h] [bp-34h]@23
  int v16; // [sp+74h] [bp-30h]@20
  char v17; // [sp+78h] [bp-2Ch]@13
  int v18; // [sp+98h] [bp-Ch]@6
  int v19; // [sp+9Ch] [bp-8h]@6
  int v20; // [sp+A0h] [bp-4h]@3

  v7 = -858993460;
  memset(&v12, -858993460, 0x98u);
  if ( dword_8C75F58 )
  {
    if ( dword_1FDF308[431 * a3] > 0 )
    {
      v7 = 1724 * a3;
      if ( dword_1FDF304[431 * a3] > 0 )
      {
        if ( dword_1FDF304[431 * a3] < 1000 )
        {
          if ( *(_WORD *)a7 == 454 )
          {
            v16 = 0;
            *(_BYTE *)(a7 + 2) = 36;
            v16 = *(_BYTE *)(a7 + 3) << 8;
            *(_BYTE *)(a7 + 4) = 37;
            v16 += *(_BYTE *)(a7 + 5);
            v16 *= 100;
            dword_1FDECB8[431 * a4] += v16;
            if ( dword_1FDECB8[431 * a4] >= 2000000000 )
              dword_1FDECB8[431 * a4] = 2000000000;
            v7 = SendEtc(a4);
          }
          else
          {
            v15 = 0;
            v7 = word_1FDED64[862 * a4];
            v14 = word_1FDED64[862 * a4];
            if ( v14 == 3914 || v14 == 3915 )
            {
              v7 = sub_401A00(a4, v14, a7);
              v15 = v7;
            }
            if ( !v15 )
            {
              v7 = sub_40115E(a4, 0, a7);
              v15 = v7;
            }
            if ( v15 == 1 )
            {
              v7 = sub_401A8C(a7, 0);
              if ( v7 )
              {
                sub_401B1D(a7, &v13);
                sub_4E3F40(a1, a2, (int)&String, "get %s");
                v7 = Log(&String, &byte_752BAD8[3160 * a4], dword_752BAEC[790 * a4]);
              }
            }
            else
            {
              dword_1FDF304[431 * a3] = 0;
              dword_1FDF308[431 * a3] = 0;
            }
          }
        }
      }
    }
  }
  else
  {
    if ( *(_WORD *)a7 == 454 )
    {
      v20 = 0;
      *(_BYTE *)(a7 + 2) = 36;
      v20 = *(_BYTE *)(a7 + 3) << 8;
      *(_BYTE *)(a7 + 4) = 37;
      v20 += *(_BYTE *)(a7 + 5);
      v20 *= 100;
      dword_1FDECB8[431 * a4] += v20;
      if ( dword_1FDECB8[431 * a4] >= 2000000000 )
        dword_1FDECB8[431 * a4] = 2000000000;
      v7 = SendEtc(a4);
    }
    else
    {
      v19 = 0;
      v7 = 1724 * a4;
      v18 = word_1FDED64[862 * a4];
      if ( v18 == 3914 || v18 == 3915 )
      {
        v7 = sub_401A00(a4, v18, a7);
        v19 = v7;
      }
      if ( !v19 )
      {
        v7 = sub_40115E(a4, 0, a7);
        v19 = v7;
      }
      if ( v19 == 1 )
      {
        v7 = sub_401A8C(a7, 0);
        if ( v7 )
        {
          sub_401B1D(a7, &v17);
          sub_4E3F40(a1, a2, (int)&String, "get %s");
          v7 = Log(&String, &byte_752BAD8[3160 * a4], dword_752BAEC[790 * a4]);
        }
      }
    }
  }
  return sub_4E46A0(1, v7, v11, v9, v10);
}
// 40115E: using guessed type _DWORD __cdecl sub_40115E(_DWORD, _DWORD, _DWORD);
// 401500: using guessed type _DWORD __cdecl SendEtc(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401A00: using guessed type _DWORD __cdecl sub_401A00(_DWORD, _DWORD, _DWORD);
// 401A8C: using guessed type _DWORD __cdecl sub_401A8C(_DWORD, _DWORD);
// 401B1D: using guessed type _DWORD __cdecl sub_401B1D(_DWORD, _DWORD);
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 1FDED64: using guessed type __int16 word_1FDED64[];
// 1FDF304: using guessed type int dword_1FDF304[];
// 1FDF308: using guessed type int dword_1FDF308[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 8C75F58: using guessed type int dword_8C75F58;

//----- (0042B680) --------------------------------------------------------
int __cdecl sub_42B680(int a1)
{
  char v2; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  memset(&v2, -858993460, 0x44u);
  for ( i = 0; i < 200; ++i )
  {
    if ( dword_8A58BC[i] == a1 )
      return 200;
    if ( !dword_8A58BC[i] )
      return i;
  }
  return 200;
}
// 8A58BC: using guessed type int dword_8A58BC[];

//----- (0042B710) --------------------------------------------------------
bool __cdecl sub_42B710(int a1)
{
  bool result; // eax@3
  char v2; // [sp+Ch] [bp-44h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  memset(&v2, -858993460, 0x44u);
  v3 = *(_WORD *)a1;
  if ( v3 < 3393 || v3 > 3396 )
  {
    if ( v3 == 3441 )
    {
      result = 0;
    }
    else
    {
      if ( v3 != 4010 && v3 != 4011 )
      {
        if ( v3 != 413 || dword_8C75EFC )
        {
          if ( v3 < 3980 || v3 > 3999 )
          {
            switch ( v3 )
            {
              case 4147:
                result = 0;
                break;
              case 4141:
                result = 0;
                break;
              case 3443:
                result = 0;
                break;
              case 4046:
                result = 0;
                break;
              case 1726:
                result = 0;
                break;
              case 3456:
                result = 0;
                break;
              case 3457:
                result = 0;
                break;
              default:
                result = v3 != 3459;
                break;
            }
          }
          else
          {
            result = 0;
          }
        }
        else
        {
          result = 0;
        }
      }
      else
      {
        result = 0;
      }
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 8C75EFC: using guessed type int dword_8C75EFC;

//----- (0042BA00) --------------------------------------------------------
int __cdecl sub_42BA00(int a1, int a2)
{
  char v3; // [sp+Ch] [bp-48h]@1
  int i; // [sp+4Ch] [bp-8h]@1
  int v5; // [sp+50h] [bp-4h]@1

  memset(&v3, -858993460, 0x48u);
  v5 = 0;
  for ( i = 0; i < 3; ++i )
  {
    if ( *(_BYTE *)(a1 + 2 * i + 2) == a2 )
      v5 += *(_BYTE *)(a1 + 2 * i + 3);
  }
  return v5;
}

//----- (0042BA80) --------------------------------------------------------
int __cdecl sub_42BA80(int a1, int a2)
{
  char v3; // [sp+Ch] [bp-44h]@1
  int v4; // [sp+4Ch] [bp-4h]@1

  memset(&v3, -858993460, 0x44u);
  v4 = 0;
  switch ( a1 )
  {
    case 2:
      if ( a2 != 18 && a2 != 45 )
      {
        if ( a2 != 24 && a2 != 54 )
        {
          if ( a2 != 30 && a2 != 63 )
          {
            if ( a2 != 36 && a2 != 72 )
            {
              if ( a2 == 42 || a2 == 81 )
                v4 = 0;
            }
            else
            {
              v4 = 3;
            }
          }
          else
          {
            v4 = 5;
          }
        }
        else
        {
          v4 = 15;
        }
      }
      else
      {
        v4 = 35;
      }
      break;
    case 60:
      if ( a2 != 6 && a2 != 20 )
      {
        if ( a2 != 8 && a2 != 24 )
        {
          if ( a2 != 10 && a2 != 28 )
          {
            if ( a2 != 12 && a2 != 32 )
            {
              if ( a2 == 14 || a2 == 36 )
                v4 = 0;
            }
            else
            {
              v4 = 3;
            }
          }
          else
          {
            v4 = 5;
          }
        }
        else
        {
          v4 = 15;
        }
      }
      else
      {
        v4 = 35;
      }
      break;
    case 3:
      switch ( a2 )
      {
        case 20:
          v4 = 35;
          break;
        case 25:
          v4 = 15;
          break;
        case 30:
          v4 = 5;
          break;
        case 35:
          v4 = 3;
          break;
        case 40:
          v4 = 0;
          break;
      }
      break;
    case 71:
      switch ( a2 )
      {
        case 50:
          v4 = 35;
          break;
        case 60:
          v4 = 15;
          break;
        case 70:
          v4 = 5;
          break;
        case 80:
          v4 = 3;
          break;
        case 90:
          v4 = 0;
          break;
      }
      break;
    case 72:
      switch ( a2 )
      {
        case 30:
          v4 = 35;
          break;
        case 40:
          v4 = 15;
          break;
        case 50:
          v4 = 5;
          break;
        case 60:
          v4 = 3;
          break;
        case 70:
          v4 = 0;
          break;
      }
      break;
  }
  return v4;
}

//----- (0042BD10) --------------------------------------------------------
int __cdecl sub_42BD10(int a1)
{
  char v2; // [sp+0h] [bp-6Ch]@0
  int v3; // [sp+4h] [bp-68h]@0
  int v4; // [sp+8h] [bp-64h]@0
  char v5; // [sp+Ch] [bp-60h]@1
  int v6; // [sp+4Ch] [bp-20h]@1
  int v7; // [sp+50h] [bp-1Ch]@1
  int v8; // [sp+54h] [bp-18h]@1
  int v9; // [sp+58h] [bp-14h]@1
  int v10; // [sp+5Ch] [bp-10h]@1
  int v11; // [sp+60h] [bp-Ch]@1
  int v12; // [sp+64h] [bp-8h]@1
  bool v13; // [sp+68h] [bp-4h]@1

  memset(&v5, -858993460, 0x60u);
  v13 = 0;
  v12 = 0;
  v11 = 0;
  v10 = 0;
  v9 = 0;
  v8 = 0;
  v7 = 0;
  v6 = sub_40181B(dword_BAF198, dword_BAF19C, 0, 0, 0, 1, 10000);
  v13 = v6 > 1;
  v6 = sub_40181B(dword_BAF1A0[0], dword_BAF1A4, dword_BAF1A8, dword_BAF1AC, dword_BAF1B0, 1, 10000);
  if ( v6 )
  {
    v12 = v6 - 1;
  }
  else
  {
    v6 = sub_40181B(dword_BAF1B4[0], dword_BAF1B8, dword_BAF1BC, dword_BAF1C0, dword_BAF1C4, 1, 10000);
    if ( v6 )
      v12 = v6 + 4;
    else
      v12 = 0;
  }
  v6 = sub_40181B(dword_BAF1C8[0], dword_BAF1CC, dword_BAF1D0, 0, 0, 1, 10000);
  if ( v6 )
  {
    if ( v6 == 1 )
    {
      if ( v12 >= 7 )
        v11 = 60;
      else
        v11 = 2;
      v7 = 0;
    }
    else
    {
      if ( v6 == 2 )
      {
        v11 = 4;
        v7 = 1;
      }
      else
      {
        v11 = 74;
        v7 = 2;
      }
    }
  }
  else
  {
    if ( v12 >= 7 )
      v11 = 60;
    else
      v11 = 2;
    v7 = 0;
  }
  v6 = sub_40181B(
         dword_BAF1E0[3 * (v7 + 3 * v12)],
         dword_BAF1E4[3 * (v7 + 3 * v12)],
         dword_BAF1E8[3 * (v7 + 3 * v12)],
         0,
         0,
         1,
         10000);
  v10 = v6;
  if ( v6 < 2 )
    v10 = 2;
  v6 = sub_40181B(dword_BAF1D4[0], dword_BAF1D8, dword_BAF1DC, 0, 0, 1, 10000);
  if ( v6 )
  {
    if ( v6 == 1 )
    {
      if ( v12 >= 7 )
        v9 = 60;
      else
        v9 = 2;
    }
    else
    {
      if ( v6 == 2 )
        v9 = 4;
      else
        v9 = 74;
    }
  }
  else
  {
    if ( v12 >= 7 )
      v9 = 60;
    else
      v9 = 2;
  }
  v6 = sub_40181B(
         dword_BAF348[3 * (v7 + 3 * v12)],
         dword_BAF34C[3 * (v7 + 3 * v12)],
         dword_BAF350[3 * (v7 + 3 * v12)],
         0,
         0,
         1,
         10000);
  v8 = v6;
  if ( v6 < 1 )
    v8 = 1;
  sub_4E4640((void *)a1, 0, 8u);
  *(_WORD *)a1 = word_5A08E8[2 * (v12 + 10 * v13)];
  *(_BYTE *)(a1 + 2) = 43;
  *(_BYTE *)(a1 + 3) = 0;
  *(_BYTE *)(a1 + 4) = v11;
  switch ( v11 )
  {
    case 2:
      v10 = 9 * v10 + 9;
      break;
    case 60:
      v10 = 4 * v10 + 4;
      break;
    case 4:
      v10 = 10 * v10 + 20;
      break;
    case 74:
      v10 = 3 * v10 + 9;
      break;
  }
  *(_BYTE *)(a1 + 5) = v10;
  *(_BYTE *)(a1 + 6) = v9;
  switch ( v9 )
  {
    case 2:
      v8 = 9 * v8 + 9;
      break;
    case 60:
      v8 = 4 * v8 + 4;
      break;
    case 4:
      v8 = 10 * v8 + 20;
      break;
    case 74:
      v8 = 3 * v8 + 9;
      break;
  }
  *(_BYTE *)(a1 + 7) = v8;
  return sub_4E46A0(1, a1, v4, v2, v3);
}
// 40181B: using guessed type _DWORD __cdecl sub_40181B(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 5A08E8: using guessed type __int16 word_5A08E8[];
// BAF198: using guessed type int dword_BAF198;
// BAF19C: using guessed type int dword_BAF19C;
// BAF1A0: using guessed type int dword_BAF1A0[];
// BAF1A4: using guessed type int dword_BAF1A4;
// BAF1A8: using guessed type int dword_BAF1A8;
// BAF1AC: using guessed type int dword_BAF1AC;
// BAF1B0: using guessed type int dword_BAF1B0;
// BAF1B4: using guessed type int dword_BAF1B4[];
// BAF1B8: using guessed type int dword_BAF1B8;
// BAF1BC: using guessed type int dword_BAF1BC;
// BAF1C0: using guessed type int dword_BAF1C0;
// BAF1C4: using guessed type int dword_BAF1C4;
// BAF1C8: using guessed type int dword_BAF1C8[];
// BAF1CC: using guessed type int dword_BAF1CC;
// BAF1D0: using guessed type int dword_BAF1D0;
// BAF1D4: using guessed type int dword_BAF1D4[];
// BAF1D8: using guessed type int dword_BAF1D8;
// BAF1DC: using guessed type int dword_BAF1DC;
// BAF1E0: using guessed type int dword_BAF1E0[];
// BAF1E4: using guessed type int dword_BAF1E4[];
// BAF1E8: using guessed type int dword_BAF1E8[];
// BAF348: using guessed type int dword_BAF348[];
// BAF34C: using guessed type int dword_BAF34C[];
// BAF350: using guessed type int dword_BAF350[];

//----- (0042C220) --------------------------------------------------------
int __cdecl sub_42C220(int a1)
{
  char v2; // [sp+0h] [bp-70h]@0
  int v3; // [sp+4h] [bp-6Ch]@0
  int v4; // [sp+8h] [bp-68h]@0
  char v5; // [sp+Ch] [bp-64h]@1
  int v6; // [sp+4Ch] [bp-24h]@1
  int v7; // [sp+50h] [bp-20h]@1
  int v8; // [sp+54h] [bp-1Ch]@1
  int v9; // [sp+58h] [bp-18h]@1
  int v10; // [sp+5Ch] [bp-14h]@1
  int v11; // [sp+60h] [bp-10h]@1
  int v12; // [sp+64h] [bp-Ch]@1
  int v13; // [sp+68h] [bp-8h]@1
  bool v14; // [sp+6Ch] [bp-4h]@1

  memset(&v5, -858993460, 0x64u);
  v14 = 0;
  v13 = 0;
  v12 = 0;
  v11 = 0;
  v10 = 0;
  v9 = 0;
  v8 = 0;
  v7 = 0;
  v6 = sub_40181B(dword_BAF4B4, dword_BAF4B8, 0, 0, 0, 1, 10000);
  v14 = v6 > 1;
  v13 = sub_40181B(dword_BAF4BC[0], dword_BAF4C0, dword_BAF4C4, dword_BAF4C8, dword_BAF4CC, 1, 10000);
  if ( v13 )
    --v13;
  v12 = sub_40181B(dword_BAF4D0[0], dword_BAF4D4, dword_BAF4D8, dword_BAF4DC, 0, 1, 10000);
  if ( v12 )
    --v12;
  if ( v13 )
  {
    if ( v13 >= 3 )
    {
      if ( v13 >= 4 )
      {
        v11 = 73;
        v7 = 0;
        v13 = 4;
      }
      else
      {
        v11 = 72;
        v7 = 0;
      }
    }
    else
    {
      v11 = 71;
      v7 = 0;
    }
  }
  else
  {
    v6 = sub_40181B(dword_BAF4E0[0], dword_BAF4E4, dword_BAF4E8, 0, 0, 1, 10000);
    if ( v6 == 1 )
    {
      v11 = 4;
      v7 = 0;
    }
    else
    {
      if ( v6 == 2 )
      {
        v11 = 3;
        v7 = 1;
      }
      else
      {
        v11 = 60;
        v7 = 2;
      }
    }
  }
  v6 = sub_40181B(
         dword_BAF4F8[3 * (v7 + 3 * v13)],
         dword_BAF4FC[3 * (v7 + 3 * v13)],
         dword_BAF500[3 * (v7 + 3 * v13)],
         0,
         0,
         1,
         10000);
  v10 = v6;
  v7 = 0;
  if ( v13 )
  {
    if ( v13 >= 4 )
    {
      v6 = sub_40181B(dword_BAF4EC[0], dword_BAF4F0, dword_BAF4F4, 0, 0, 1, 10000);
      if ( v6 == 1 )
      {
        v9 = 73;
        v7 = 0;
      }
      else
      {
        if ( v6 == 2 )
        {
          v9 = 60;
          v7 = 1;
        }
        else
        {
          v9 = 74;
          v7 = 2;
        }
      }
    }
    else
    {
      v6 = sub_40181B(dword_BAF4EC[0], dword_BAF4F0, dword_BAF4F4, 0, 0, 1, 10000);
      if ( v6 == 2 )
      {
        v9 = 2;
        v7 = 1;
      }
      else
      {
        v9 = 60;
        v7 = 2;
      }
    }
  }
  else
  {
    v6 = sub_40181B(dword_BAF4EC[0], dword_BAF4F0, dword_BAF4F4, 0, 0, 1, 10000);
    if ( v6 )
    {
      if ( v6 == 1 )
      {
        v9 = 3;
        v7 = 1;
      }
      else
      {
        v9 = 60;
        v7 = 2;
      }
    }
    else
    {
      v9 = 4;
      v7 = 0;
    }
  }
  v6 = sub_40181B(
         dword_BAF5AC[3 * (v7 + 3 * v13)],
         dword_BAF5B0[3 * (v7 + 3 * v13)],
         dword_BAF5B4[3 * (v7 + 3 * v13)],
         0,
         0,
         1,
         10000);
  v8 = v6;
  if ( v6 < 2 )
    v8 = 2;
  sub_4E4640((void *)a1, 0, 8u);
  *(_WORD *)a1 = word_5A0938[2 * (20 * v14 + v12 + 4 * v13)];
  *(_BYTE *)(a1 + 2) = 43;
  *(_BYTE *)(a1 + 3) = 0;
  *(_BYTE *)(a1 + 4) = v11;
  switch ( v11 )
  {
    case 2:
      v10 = 6 * v10 + 12;
      break;
    case 60:
      v10 = 2 * v10 + 4;
      break;
    case 4:
      v10 = 10 * v10 + 20;
      break;
    case 74:
      v10 = 3 * v10 + 9;
      break;
    case 72:
      v10 = 10 * v10 + 10;
      break;
    case 71:
      v10 = 10 * v10 + 40;
      break;
    case 3:
      v10 = 5 * v10 + 10;
      break;
    case 73:
      v10 = 6 * v10 + 12;
      break;
  }
  *(_BYTE *)(a1 + 5) = v10;
  *(_BYTE *)(a1 + 6) = v9;
  switch ( v9 )
  {
    case 2:
      v8 = 6 * v8 + 12;
      break;
    case 60:
      v8 = 2 * v8 + 4;
      break;
    case 4:
      v8 = 10 * v8 + 20;
      break;
    case 74:
      v8 = 3 * v8 + 9;
      break;
    case 72:
      v8 = 10 * v8 + 10;
      break;
    case 71:
      v8 = 10 * v8 + 40;
      break;
    case 3:
      v8 = 5 * v8 + 10;
      break;
    case 73:
      v8 = 6 * v8 + 12;
      break;
  }
  *(_BYTE *)(a1 + 7) = v8;
  return sub_4E46A0(1, a1, v4, v2, v3);
}
// 40181B: using guessed type _DWORD __cdecl sub_40181B(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 5A0938: using guessed type __int16 word_5A0938[];
// BAF4B4: using guessed type int dword_BAF4B4;
// BAF4B8: using guessed type int dword_BAF4B8;
// BAF4BC: using guessed type int dword_BAF4BC[];
// BAF4C0: using guessed type int dword_BAF4C0;
// BAF4C4: using guessed type int dword_BAF4C4;
// BAF4C8: using guessed type int dword_BAF4C8;
// BAF4CC: using guessed type int dword_BAF4CC;
// BAF4D0: using guessed type int dword_BAF4D0[];
// BAF4D4: using guessed type int dword_BAF4D4;
// BAF4D8: using guessed type int dword_BAF4D8;
// BAF4DC: using guessed type int dword_BAF4DC;
// BAF4E0: using guessed type int dword_BAF4E0[];
// BAF4E4: using guessed type int dword_BAF4E4;
// BAF4E8: using guessed type int dword_BAF4E8;
// BAF4EC: using guessed type int dword_BAF4EC[];
// BAF4F0: using guessed type int dword_BAF4F0;
// BAF4F4: using guessed type int dword_BAF4F4;
// BAF4F8: using guessed type int dword_BAF4F8[];
// BAF4FC: using guessed type int dword_BAF4FC[];
// BAF500: using guessed type int dword_BAF500[];
// BAF5AC: using guessed type int dword_BAF5AC[];
// BAF5B0: using guessed type int dword_BAF5B0[];
// BAF5B4: using guessed type int dword_BAF5B4[];

//----- (0042C8D0) --------------------------------------------------------
int __cdecl sub_42C8D0(int a1)
{
  int v1; // eax@1
  int v2; // eax@27
  char v4; // [sp+0h] [bp-6Ch]@0
  int v5; // [sp+4h] [bp-68h]@0
  int v6; // [sp+8h] [bp-64h]@0
  char v7; // [sp+Ch] [bp-60h]@1
  int v8; // [sp+4Ch] [bp-20h]@1
  int v9; // [sp+50h] [bp-1Ch]@1
  int v10; // [sp+54h] [bp-18h]@1
  int v11; // [sp+58h] [bp-14h]@1
  int v12; // [sp+5Ch] [bp-10h]@1
  int v13; // [sp+60h] [bp-Ch]@1
  int v14; // [sp+64h] [bp-8h]@1
  int v15; // [sp+68h] [bp-4h]@1

  memset(&v7, -858993460, 0x60u);
  v15 = 0;
  v14 = 0;
  v13 = 0;
  v12 = 0;
  v11 = 0;
  v10 = 0;
  v9 = 0;
  sub_4E4640((void *)a1, 0, 8u);
  v1 = sub_40181B(dword_BAF674[0], dword_BAF678, dword_BAF67C, dword_BAF680, dword_BAF684, 1, 10000);
  v8 = v1;
  if ( v1 < 3 && v8 )
  {
    if ( v8 == 1 )
    {
      v1 = a1;
      *(_WORD *)a1 = 540;
    }
    else
    {
      *(_WORD *)a1 = 541;
    }
  }
  else
  {
    if ( v8 )
      v15 = v8 - 3;
    else
      v15 = 0;
    v8 = sub_40181B(dword_BAF688[0], dword_BAF68C, dword_BAF690, dword_BAF694, 0, 1, 10000);
    if ( v8 )
      v14 = v8 - 1;
    else
      v14 = 0;
    v8 = sub_40181B(dword_BAF698[0], dword_BAF69C, dword_BAF6A0, dword_BAF6A4, 0, 1, 10000);
    switch ( v8 )
    {
      case 1:
        v13 = 4;
        v9 = 0;
        break;
      case 2:
        v13 = 2;
        v9 = 1;
        break;
      case 3:
        v13 = 60;
        v9 = 2;
        break;
      default:
        v13 = 26;
        v9 = 3;
        break;
    }
    v8 = sub_40181B(
           dword_BAF6B8[4 * (3 * v9 + v15)],
           dword_BAF6BC[4 * (3 * v9 + v15)],
           dword_BAF6C0[4 * (3 * v9 + v15)],
           dword_BAF6C4[4 * (3 * v9 + v15)],
           0,
           1,
           10000);
    v12 = v8;
    v9 = 0;
    v8 = sub_40181B(dword_BAF6A8[0], dword_BAF6AC, dword_BAF6B0, dword_BAF6B4, 0, 1, 10000);
    switch ( v8 )
    {
      case 1:
        v11 = 4;
        v9 = 0;
        break;
      case 2:
        v11 = 2;
        v9 = 1;
        break;
      case 3:
        v11 = 60;
        v9 = 2;
        break;
      default:
        v11 = 26;
        v9 = 3;
        break;
    }
    v2 = sub_40181B(
           dword_BAF778[4 * (3 * v9 + v15)],
           dword_BAF77C[4 * (3 * v9 + v15)],
           dword_BAF780[4 * (3 * v9 + v15)],
           dword_BAF784[4 * (3 * v9 + v15)],
           0,
           1,
           10000);
    v8 = v2;
    v10 = v2;
    *(_WORD *)a1 = word_5A09D8[2 * (v14 + 4 * v15)];
    *(_BYTE *)(a1 + 2) = 43;
    v1 = a1;
    *(_BYTE *)(a1 + 3) = 0;
    *(_BYTE *)(a1 + 4) = v13;
    switch ( v13 )
    {
      case 4:
        v1 = 10 * v12 + 10;
        v12 = 10 * v12 + 10;
        break;
      case 2:
        v12 = 5 * v12 + 5;
        break;
      case 60:
        v12 += 4;
        break;
      case 26:
        v1 = v12;
        v12 = 2 * v12 + 7;
        break;
    }
    *(_BYTE *)(a1 + 5) = v12;
    *(_BYTE *)(a1 + 6) = v11;
    switch ( v11 )
    {
      case 4:
        v1 = 10 * v10 + 10;
        v10 = 10 * v10 + 10;
        break;
      case 2:
        v10 = 5 * v10 + 5;
        break;
      case 60:
        v10 += 4;
        break;
      case 26:
        v1 = v10;
        v10 = 2 * v10 + 7;
        break;
    }
    LOBYTE(v1) = v10;
    *(_BYTE *)(a1 + 7) = v10;
  }
  return sub_4E46A0(1, v1, v6, v4, v5);
}
// 40181B: using guessed type _DWORD __cdecl sub_40181B(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 5A09D8: using guessed type __int16 word_5A09D8[];
// BAF674: using guessed type int dword_BAF674[];
// BAF678: using guessed type int dword_BAF678;
// BAF67C: using guessed type int dword_BAF67C;
// BAF680: using guessed type int dword_BAF680;
// BAF684: using guessed type int dword_BAF684;
// BAF688: using guessed type int dword_BAF688[];
// BAF68C: using guessed type int dword_BAF68C;
// BAF690: using guessed type int dword_BAF690;
// BAF694: using guessed type int dword_BAF694;
// BAF698: using guessed type int dword_BAF698[];
// BAF69C: using guessed type int dword_BAF69C;
// BAF6A0: using guessed type int dword_BAF6A0;
// BAF6A4: using guessed type int dword_BAF6A4;
// BAF6A8: using guessed type int dword_BAF6A8[];
// BAF6AC: using guessed type int dword_BAF6AC;
// BAF6B0: using guessed type int dword_BAF6B0;
// BAF6B4: using guessed type int dword_BAF6B4;
// BAF6B8: using guessed type int dword_BAF6B8[];
// BAF6BC: using guessed type int dword_BAF6BC[];
// BAF6C0: using guessed type int dword_BAF6C0[];
// BAF6C4: using guessed type int dword_BAF6C4[];
// BAF778: using guessed type int dword_BAF778[];
// BAF77C: using guessed type int dword_BAF77C[];
// BAF780: using guessed type int dword_BAF780[];
// BAF784: using guessed type int dword_BAF784[];

//----- (0042CDB0) --------------------------------------------------------
int __cdecl sub_42CDB0(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-54h]@0
  int v4; // [sp+4h] [bp-50h]@0
  int v5; // [sp+8h] [bp-4Ch]@0
  char v6; // [sp+Ch] [bp-48h]@1
  int v7; // [sp+4Ch] [bp-8h]@1
  int v8; // [sp+50h] [bp-4h]@1

  memset(&v6, -858993460, 0x48u);
  v1 = sub_40181B(dword_BAF668, dword_BAF66C, dword_BAF670, 0, 0, 1, 10000);
  v8 = v1;
  v7 = v1;
  switch ( v1 )
  {
    case 0:
    case 1:
      v1 = sub_401780(a1);
      break;
    case 2:
      v1 = sub_4015A5(a1);
      break;
    case 3:
      v1 = sub_40105F(a1);
      break;
    default:
      return sub_4E46A0(1, v1, v5, v3, v4);
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 40105F: using guessed type _DWORD __cdecl sub_40105F(_DWORD);
// 4015A5: using guessed type _DWORD __cdecl sub_4015A5(_DWORD);
// 401780: using guessed type _DWORD __cdecl sub_401780(_DWORD);
// 40181B: using guessed type _DWORD __cdecl sub_40181B(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// BAF668: using guessed type int dword_BAF668;
// BAF66C: using guessed type int dword_BAF66C;
// BAF670: using guessed type int dword_BAF670;

//----- (0042CE80) --------------------------------------------------------
int __cdecl sub_42CE80(int a1, int a2, int a3, int a4, int a5, int a6, signed int a7)
{
  char v8; // [sp+0h] [bp-80h]@0
  int v9; // [sp+4h] [bp-7Ch]@0
  int v10; // [sp+8h] [bp-78h]@0
  char v11; // [sp+Ch] [bp-74h]@1
  int v12; // [sp+4Ch] [bp-34h]@3
  int v13; // [sp+50h] [bp-30h]@3
  int v14; // [sp+54h] [bp-2Ch]@3
  int v15; // [sp+58h] [bp-28h]@3
  int v16; // [sp+5Ch] [bp-24h]@3
  int v17; // [sp+60h] [bp-20h]@3
  int v18; // [sp+64h] [bp-1Ch]@1
  int v19; // [sp+68h] [bp-18h]@1
  int v20; // [sp+6Ch] [bp-14h]@1
  int v21; // [sp+70h] [bp-10h]@1
  int v22; // [sp+74h] [bp-Ch]@1
  int v23; // [sp+78h] [bp-8h]@1
  int v24; // [sp+7Ch] [bp-4h]@1

  memset(&v11, -858993460, 0x74u);
  v24 = 0;
  v23 = a6 * a1;
  v22 = a6 * a2;
  v21 = a6 * a3;
  v20 = a6 * a4;
  v19 = a6 * a5;
  v18 = 0;
  if ( a6 * a5 + a6 * a4 + a6 * a3 + a6 * a2 + a6 * a1 < a7 )
    v18 = Rand()() % (a7 - (v19 + v20 + v21 + v22 + v23));
  v17 = v23 + v18;
  v16 = v22 + v23 + v18;
  v15 = v21 + v22 + v23 + v18;
  v14 = v20 + v21 + v22 + v23 + v18;
  v13 = v19 + v20 + v21 + v22 + v23 + v18;
  v12 = Rand()() % a7;
  if ( v18 > v12 || v17 <= v12 )
  {
    if ( v17 > v12 || v16 <= v12 )
    {
      if ( v16 > v12 || v15 <= v12 )
      {
        if ( v15 > v12 || v14 <= v12 )
        {
          if ( v14 > v12 || v13 <= v12 )
          {
            v24 = 0;
          }
          else
          {
            if ( v19 )
              v24 = 5;
            else
              v24 = 0;
          }
        }
        else
        {
          if ( v20 )
            v24 = 4;
          else
            v24 = 0;
        }
      }
      else
      {
        if ( v21 )
          v24 = 3;
        else
          v24 = 0;
      }
    }
    else
    {
      if ( v22 )
        v24 = 2;
      else
        v24 = 0;
    }
  }
  else
  {
    if ( v23 )
      v24 = 1;
    else
      v24 = 0;
  }
  return sub_4E46A0(1, v24, v10, v8, v9);
}

//----- (0042D0C0) --------------------------------------------------------
int __usercall sub_42D0C0<eax>(int a1<ebx>)
{
  int v1; // eax@2
  int v2; // eax@2
  int v3; // eax@4
  int v4; // eax@6
  char v6; // [sp+0h] [bp-4Ch]@2
  int v7; // [sp+4h] [bp-48h]@7
  int v8; // [sp+8h] [bp-44h]@7
  char v9; // [sp+Ch] [bp-40h]@1
  int v10; // [sp+4Ch] [bp+0h]@2

  memset(&v9, -858993460, 0x40u);
  if ( sub_401389() )
  {
    if ( sub_4013B1() )
    {
      v2 = sub_4015B4();
      if ( !v2 )
      {
        v4 = MessageBoxA(0, "AccessoryData Load Fail", "ERROR", 0);
        v2 = sub_4E46A0(&v6 == &v6, v4, a1, (unsigned int)&v10, (int)&v6);
      }
    }
    else
    {
      v3 = MessageBoxA(0, "ArmorData Load Fail", "ERROR", 0);
      v2 = sub_4E46A0(&v6 == &v6, v3, a1, (unsigned int)&v10, (int)&v6);
    }
  }
  else
  {
    v1 = MessageBoxA(0, "WeaponData Load Fail", "ERROR", 0);
    v2 = sub_4E46A0(&v6 == &v6, v1, a1, (unsigned int)&v10, (int)&v6);
  }
  return sub_4E46A0(1, v2, v8, v6, v7);
}
// 401389: using guessed type int sub_401389(void);
// 4013B1: using guessed type int sub_4013B1(void);
// 4015B4: using guessed type int sub_4015B4(void);

//----- (0042D190) --------------------------------------------------------
int __usercall sub_42D190<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-2C0h]@0
  int v5; // [sp+4h] [bp-2BCh]@0
  int v6; // [sp+8h] [bp-2B8h]@0
  char v7; // [sp+Ch] [bp-2B4h]@1
  int v8; // [sp+4Ch] [bp-274h]@5
  int v9; // [sp+50h] [bp-270h]@3
  int v10; // [sp+54h] [bp-26Ch]@1
  int j; // [sp+58h] [bp-268h]@20
  int i; // [sp+5Ch] [bp-264h]@8
  char *v13; // [sp+60h] [bp-260h]@1
  char *v14; // [sp+64h] [bp-25Ch]@1
  char *v15; // [sp+68h] [bp-258h]@1
  char *v16; // [sp+6Ch] [bp-254h]@1
  char *v17; // [sp+70h] [bp-250h]@1
  char v18; // [sp+74h] [bp-24Ch]@1
  char v19; // [sp+B4h] [bp-20Ch]@1
  char v20; // [sp+F4h] [bp-1CCh]@1
  char v21; // [sp+134h] [bp-18Ch]@1
  char v22; // [sp+174h] [bp-14Ch]@1
  char v23; // [sp+1B4h] [bp-10Ch]@6
  char v24; // [sp+1BCh] [bp-104h]@3
  int v25; // [sp+2BCh] [bp-4h]@1
  int v26; // [sp+2C0h] [bp+0h]@6

  memset(&v7, -858993460, 0x2B4u);
  v25 = sub_4E4620(a1, a2, ".\\hellgate\\HellGateRate_Weapon.txt", (int)"rt");
  v13 = &v22;
  v14 = &v21;
  v15 = &v20;
  v16 = &v19;
  v17 = &v18;
  v10 = 0;
  if ( v25 )
  {
    while ( 1 )
    {
      v9 = sub_4E4400(a1, a2, (int)&v24, 255, v25);
      if ( !v9 )
        break;
      if ( v24 == 36 )
      {
        v8 = v10;
        switch ( v10 )
        {
          case 0:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s", (unsigned int)&v23);
            dword_BAF194 = 10000 * sub_4E4F40(a1, (int)&v26, a2, (signed int *)&v22);
            break;
          case 1:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s", (unsigned int)&v23);
            dword_BAF198 = sub_4E4F40(a1, (int)&v26, a2, (signed int *)&v22);
            dword_BAF19C = sub_4E4F40(a1, (int)&v26, a2, (signed int *)&v21);
            break;
          case 2:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s %s %s", (unsigned int)&v23);
            for ( i = 0; i < 5; ++i )
              dword_BAF1A0[i] = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            v9 = sub_4E4400(a1, a2, (int)&v24, 255, v25);
            if ( v9 )
            {
              sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s %s %s", (unsigned int)&v23);
              for ( i = 0; i < 5; ++i )
                dword_BAF1B4[i] = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            }
            break;
          case 3:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s", (unsigned int)&v23);
            for ( i = 0; i < 3; ++i )
              dword_BAF1C8[i] = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            break;
          case 4:
            for ( j = 0; j < 30; ++j )
            {
              sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s", (unsigned int)&v23);
              v9 = sub_4E4400(a1, a2, (int)&v24, 255, v25);
              if ( !v9 )
                break;
              for ( i = 0; i < 3; ++i )
                *(&dword_BAF1E0[3 * j] + i) = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            }
            break;
          case 5:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s", (unsigned int)&v23);
            for ( i = 0; i < 3; ++i )
              dword_BAF1D4[i] = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            break;
          case 6:
            for ( j = 0; j < 30; ++j )
            {
              sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s", (unsigned int)&v23);
              v9 = sub_4E4400(a1, a2, (int)&v24, 255, v25);
              if ( !v9 )
                break;
              for ( i = 0; i < 3; ++i )
                *(&dword_BAF348[3 * j] + i) = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            }
            break;
          default:
            break;
        }
        ++v10;
      }
    }
    sub_4E4260(a1, a2, v25);
    v2 = 1;
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// BAF194: using guessed type int dword_BAF194;
// BAF198: using guessed type int dword_BAF198;
// BAF19C: using guessed type int dword_BAF19C;
// BAF1A0: using guessed type int dword_BAF1A0[];
// BAF1B4: using guessed type int dword_BAF1B4[];
// BAF1C8: using guessed type int dword_BAF1C8[];
// BAF1D4: using guessed type int dword_BAF1D4[];
// BAF1E0: using guessed type int dword_BAF1E0[];
// BAF348: using guessed type int dword_BAF348[];

//----- (0042D8E0) --------------------------------------------------------
int __usercall sub_42D8E0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-2C0h]@0
  int v5; // [sp+4h] [bp-2BCh]@0
  int v6; // [sp+8h] [bp-2B8h]@0
  char v7; // [sp+Ch] [bp-2B4h]@1
  int v8; // [sp+4Ch] [bp-274h]@5
  int v9; // [sp+50h] [bp-270h]@3
  int v10; // [sp+54h] [bp-26Ch]@1
  int j; // [sp+58h] [bp-268h]@20
  int i; // [sp+5Ch] [bp-264h]@8
  char *v13; // [sp+60h] [bp-260h]@1
  char *v14; // [sp+64h] [bp-25Ch]@1
  char *v15; // [sp+68h] [bp-258h]@1
  char *v16; // [sp+6Ch] [bp-254h]@1
  char *v17; // [sp+70h] [bp-250h]@1
  char v18; // [sp+74h] [bp-24Ch]@1
  char v19; // [sp+B4h] [bp-20Ch]@1
  char v20; // [sp+F4h] [bp-1CCh]@1
  char v21; // [sp+134h] [bp-18Ch]@1
  char v22; // [sp+174h] [bp-14Ch]@1
  char v23; // [sp+1B4h] [bp-10Ch]@6
  char v24; // [sp+1BCh] [bp-104h]@3
  int v25; // [sp+2BCh] [bp-4h]@1
  int v26; // [sp+2C0h] [bp+0h]@6

  memset(&v7, -858993460, 0x2B4u);
  v25 = sub_4E4620(a1, a2, ".\\hellgate\\HellGateRate_Armor.txt", (int)"rt");
  v13 = &v22;
  v14 = &v21;
  v15 = &v20;
  v16 = &v19;
  v17 = &v18;
  v10 = 0;
  if ( v25 )
  {
    while ( 1 )
    {
      v9 = sub_4E4400(a1, a2, (int)&v24, 255, v25);
      if ( !v9 )
        break;
      if ( v24 == 36 )
      {
        v8 = v10;
        switch ( v10 )
        {
          case 0:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s", (unsigned int)&v23);
            dword_BAF4B0 = 10000 * sub_4E4F40(a1, (int)&v26, a2, (signed int *)&v22);
            break;
          case 1:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s", (unsigned int)&v23);
            dword_BAF4B4 = sub_4E4F40(a1, (int)&v26, a2, (signed int *)&v22);
            dword_BAF4B8 = sub_4E4F40(a1, (int)&v26, a2, (signed int *)&v21);
            break;
          case 2:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s %s %s", (unsigned int)&v23);
            for ( i = 0; i < 5; ++i )
              dword_BAF4BC[i] = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            break;
          case 3:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s %s", (unsigned int)&v23);
            for ( i = 0; i < 4; ++i )
              dword_BAF4D0[i] = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            break;
          case 4:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s", (unsigned int)&v23);
            for ( i = 0; i < 3; ++i )
              dword_BAF4E0[i] = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            break;
          case 5:
            for ( j = 0; j < 15; ++j )
            {
              sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s", (unsigned int)&v23);
              v9 = sub_4E4400(a1, a2, (int)&v24, 255, v25);
              if ( !v9 )
                break;
              for ( i = 0; i < 3; ++i )
                *(&dword_BAF4F8[3 * j] + i) = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            }
            break;
          case 6:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s", (unsigned int)&v23);
            for ( i = 0; i < 3; ++i )
              dword_BAF4EC[i] = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            break;
          case 7:
            for ( j = 0; j < 15; ++j )
            {
              sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s", (unsigned int)&v23);
              v9 = sub_4E4400(a1, a2, (int)&v24, 255, v25);
              if ( !v9 )
                break;
              for ( i = 0; i < 3; ++i )
                *(&dword_BAF5AC[3 * j] + i) = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            }
            break;
          default:
            break;
        }
        ++v10;
      }
    }
    sub_4E4260(a1, a2, v25);
    v2 = 1;
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// BAF4B0: using guessed type int dword_BAF4B0;
// BAF4B4: using guessed type int dword_BAF4B4;
// BAF4B8: using guessed type int dword_BAF4B8;
// BAF4BC: using guessed type int dword_BAF4BC[];
// BAF4D0: using guessed type int dword_BAF4D0[];
// BAF4E0: using guessed type int dword_BAF4E0[];
// BAF4EC: using guessed type int dword_BAF4EC[];
// BAF4F8: using guessed type int dword_BAF4F8[];
// BAF5AC: using guessed type int dword_BAF5AC[];

//----- (0042DFF0) --------------------------------------------------------
int __usercall sub_42DFF0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-2C0h]@0
  int v5; // [sp+4h] [bp-2BCh]@0
  int v6; // [sp+8h] [bp-2B8h]@0
  char v7; // [sp+Ch] [bp-2B4h]@1
  int v8; // [sp+4Ch] [bp-274h]@5
  int v9; // [sp+50h] [bp-270h]@3
  int v10; // [sp+54h] [bp-26Ch]@1
  int j; // [sp+58h] [bp-268h]@20
  int i; // [sp+5Ch] [bp-264h]@8
  char *v13; // [sp+60h] [bp-260h]@1
  char *v14; // [sp+64h] [bp-25Ch]@1
  char *v15; // [sp+68h] [bp-258h]@1
  char *v16; // [sp+6Ch] [bp-254h]@1
  char *v17; // [sp+70h] [bp-250h]@1
  char v18; // [sp+74h] [bp-24Ch]@1
  char v19; // [sp+B4h] [bp-20Ch]@1
  char v20; // [sp+F4h] [bp-1CCh]@1
  char v21; // [sp+134h] [bp-18Ch]@1
  char v22; // [sp+174h] [bp-14Ch]@1
  char v23; // [sp+1B4h] [bp-10Ch]@6
  char v24; // [sp+1BCh] [bp-104h]@3
  int v25; // [sp+2BCh] [bp-4h]@1
  int v26; // [sp+2C0h] [bp+0h]@6

  memset(&v7, -858993460, 0x2B4u);
  v25 = sub_4E4620(a1, a2, ".\\hellgate\\HellGateRate_Accessory.txt", (int)"rt");
  v13 = &v22;
  v14 = &v21;
  v15 = &v20;
  v16 = &v19;
  v17 = &v18;
  v10 = 0;
  if ( v25 )
  {
    while ( 1 )
    {
      v9 = sub_4E4400(a1, a2, (int)&v24, 255, v25);
      if ( !v9 )
        break;
      if ( v24 == 36 )
      {
        v8 = v10;
        switch ( v10 )
        {
          case 0:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s", (unsigned int)&v23);
            dword_BAF660 = 10000 * sub_4E4F40(a1, (int)&v26, a2, (signed int *)&v22);
            dword_BAF664 = 10000 * sub_4E4F40(a1, (int)&v26, a2, (signed int *)&v21);
            break;
          case 1:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s", (unsigned int)&v23);
            dword_BAF668 = sub_4E4F40(a1, (int)&v26, a2, (signed int *)&v22);
            dword_BAF66C = sub_4E4F40(a1, (int)&v26, a2, (signed int *)&v21);
            dword_BAF670 = sub_4E4F40(a1, (int)&v26, a2, (signed int *)&v20);
            break;
          case 2:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s %s %s", (unsigned int)&v23);
            for ( i = 0; i < 5; ++i )
              dword_BAF674[i] = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            break;
          case 3:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s %s", (unsigned int)&v23);
            for ( i = 0; i < 4; ++i )
              dword_BAF688[i] = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            break;
          case 4:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s %s", (unsigned int)&v23);
            for ( i = 0; i < 4; ++i )
              dword_BAF698[i] = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            break;
          case 5:
            for ( j = 0; j < 12; ++j )
            {
              sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s %s", (unsigned int)&v23);
              v9 = sub_4E4400(a1, a2, (int)&v24, 255, v25);
              if ( !v9 )
                break;
              for ( i = 0; i < 4; ++i )
                *(&dword_BAF6B8[4 * j] + i) = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            }
            break;
          case 6:
            sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s %s", (unsigned int)&v23);
            for ( i = 0; i < 4; ++i )
              dword_BAF6A8[i] = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            break;
          case 7:
            for ( j = 0; j < 12; ++j )
            {
              sub_4E4340(a1, (int)&v26, a2, (int)&v24, "%s %s %s %s %s", (unsigned int)&v23);
              v9 = sub_4E4400(a1, a2, (int)&v24, 255, v25);
              if ( !v9 )
                break;
              for ( i = 0; i < 4; ++i )
                *(&dword_BAF778[4 * j] + i) = sub_4E4F40(a1, (int)&v26, a2, (signed int *)(&v13)[4 * i]);
            }
            break;
          default:
            break;
        }
        ++v10;
      }
    }
    sub_4E4260(a1, a2, v25);
    v2 = 1;
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// BAF660: using guessed type int dword_BAF660;
// BAF664: using guessed type int dword_BAF664;
// BAF668: using guessed type int dword_BAF668;
// BAF66C: using guessed type int dword_BAF66C;
// BAF670: using guessed type int dword_BAF670;
// BAF674: using guessed type int dword_BAF674[];
// BAF688: using guessed type int dword_BAF688[];
// BAF698: using guessed type int dword_BAF698[];
// BAF6A8: using guessed type int dword_BAF6A8[];
// BAF6B8: using guessed type int dword_BAF6B8[];
// BAF778: using guessed type int dword_BAF778[];

//----- (0042E770) --------------------------------------------------------
int __cdecl sub_42E770()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-50h]@0
  int v3; // [sp+4h] [bp-4Ch]@0
  int v4; // [sp+8h] [bp-48h]@0
  char v5; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  v0 = -858993460;
  memset(&v5, -858993460, 0x44u);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22 )
    {
      sub_401528(i);
      Log("saveall", &byte_752BAD8[3160 * i], dword_752BAEC[790 * i]);
    }
    v0 = i + 1;
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 401528: using guessed type _DWORD __cdecl sub_401528(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (0042E830) --------------------------------------------------------
int __usercall sub_42E830<eax>(int a1<ebx>, int a2<esi>, int a3, signed int a4, int a5)
{
  int v5; // edi@1
  void *v6; // eax@3
  const void *v7; // esi@127
  void *v8; // edi@127
  int v9; // eax@283
  unsigned __int64 v10; // qax@737
  int v11; // ecx@737
  char v13; // [sp+0h] [bp-413Ch]@283
  int v14; // [sp+4h] [bp-4138h]@1159
  int v15; // [sp+8h] [bp-4134h]@1159
  char v16; // [sp+Ch] [bp-4130h]@1
  __int16 v17; // [sp+4Ch] [bp-40F0h]@1158
  __int16 v18; // [sp+50h] [bp-40ECh]@1158
  __int16 v19; // [sp+52h] [bp-40EAh]@1158
  int v20; // [sp+58h] [bp-40E4h]@1158
  __int16 v21; // [sp+5Ch] [bp-40E0h]@1158
  char v22; // [sp+5Eh] [bp-40DEh]@1158
  int v23; // [sp+60h] [bp-40DCh]@1155
  int v24; // [sp+64h] [bp-40D8h]@1155
  int v25; // [sp+68h] [bp-40D4h]@1152
  int v26; // [sp+6Ch] [bp-40D0h]@1152
  char v27; // [sp+70h] [bp-40CCh]@1153
  int v28; // [sp+170h] [bp-3FCCh]@1145
  int v29; // [sp+174h] [bp-3FC8h]@1145
  int v30; // [sp+178h] [bp-3FC4h]@1145
  char v31; // [sp+17Ch] [bp-3FC0h]@1150
  char v32; // [sp+27Ch] [bp-3EC0h]@1114
  int i11; // [sp+37Ch] [bp-3DC0h]@1071
  int v34; // [sp+380h] [bp-3DBCh]@1062
  int v35; // [sp+384h] [bp-3DB8h]@1056
  int v36; // [sp+388h] [bp-3DB4h]@1053
  int v37; // [sp+38Ch] [bp-3DB0h]@1040
  int i12; // [sp+390h] [bp-3DACh]@1038
  char v39; // [sp+394h] [bp-3DA8h]@1040
  int v40; // [sp+494h] [bp-3CA8h]@1036
  int v41; // [sp+498h] [bp-3CA4h]@1029
  char v42; // [sp+49Ch] [bp-3CA0h]@1015
  char v43; // [sp+59Ch] [bp-3BA0h]@1000
  char v44; // [sp+69Ch] [bp-3AA0h]@996
  int v45; // [sp+79Ch] [bp-39A0h]@979
  char *v46; // [sp+7A0h] [bp-399Ch]@979
  int v47; // [sp+7A4h] [bp-3998h]@977
  char v48; // [sp+7A8h] [bp-3994h]@973
  int i9; // [sp+86Ch] [bp-38D0h]@964
  char v50; // [sp+870h] [bp-38CCh]@967
  int v51; // [sp+970h] [bp-37CCh]@952
  char v52; // [sp+974h] [bp-37C8h]@952
  char v53; // [sp+A74h] [bp-36C8h]@942
  char v54; // [sp+AF4h] [bp-3648h]@940
  int v55; // [sp+BF4h] [bp-3548h]@921
  char v56; // [sp+BF8h] [bp-3544h]@910
  int v57; // [sp+C78h] [bp-34C4h]@902
  char v58; // [sp+C7Ch] [bp-34C0h]@900
  int v59; // [sp+D7Ch] [bp-33C0h]@892
  int v60; // [sp+D80h] [bp-33BCh]@892
  int v61; // [sp+D84h] [bp-33B8h]@892
  int v62; // [sp+D88h] [bp-33B4h]@890
  int v63; // [sp+D8Ch] [bp-33B0h]@886
  int v64; // [sp+D90h] [bp-33ACh]@883
  int v65; // [sp+D94h] [bp-33A8h]@883
  int v66; // [sp+D98h] [bp-33A4h]@883
  unsigned __int64 v67; // [sp+D9Ch] [bp-33A0h]@883
  int v68; // [sp+DA4h] [bp-3398h]@882
  int v69; // [sp+DA8h] [bp-3394h]@882
  int i10; // [sp+DACh] [bp-3390h]@880
  __int16 v71; // [sp+DB0h] [bp-338Ch]@880
  __int16 v72; // [sp+DB4h] [bp-3388h]@880
  __int16 v73; // [sp+DB6h] [bp-3386h]@880
  int v74[11]; // [sp+DBCh] [bp-3380h]@882
  int v75; // [sp+DE8h] [bp-3354h]@890
  int v76; // [sp+E18h] [bp-3324h]@886
  int v77; // [sp+E34h] [bp-3308h]@892
  int v78; // [sp+E38h] [bp-3304h]@890
  int v79; // [sp+E5Ch] [bp-32E0h]@884
  int v80; // [sp+E60h] [bp-32DCh]@884
  char v81; // [sp+E64h] [bp-32D8h]@800
  int v82; // [sp+F64h] [bp-31D8h]@797
  int v83; // [sp+F68h] [bp-31D4h]@791
  char v84; // [sp+F6Ch] [bp-31D0h]@778
  char v85; // [sp+FECh] [bp-3150h]@769
  char v86; // [sp+106Ch] [bp-30D0h]@756
  char v87; // [sp+10ECh] [bp-3050h]@750
  char v88; // [sp+116Ch] [bp-2FD0h]@737
  __int64 v89; // [sp+11ECh] [bp-2F50h]@737
  char v90; // [sp+11F4h] [bp-2F48h]@731
  char v91; // [sp+12F4h] [bp-2E48h]@710
  int i3; // [sp+13F4h] [bp-2D48h]@700
  int v93; // [sp+13F8h] [bp-2D44h]@700
  int i4; // [sp+13FCh] [bp-2D40h]@693
  int v95; // [sp+1400h] [bp-2D3Ch]@693
  __int16 v96; // [sp+1404h] [bp-2D38h]@693
  __int16 v97; // [sp+1406h] [bp-2D36h]@693
  int v98; // [sp+140Ch] [bp-2D30h]@693
  int v99; // [sp+1410h] [bp-2D2Ch]@693
  char v100; // [sp+1414h] [bp-2D28h]@693
  int v101; // [sp+1494h] [bp-2CA8h]@674
  int i5; // [sp+1498h] [bp-2CA4h]@669
  int v103; // [sp+149Ch] [bp-2CA0h]@641
  int v104; // [sp+14A0h] [bp-2C9Ch]@637
  int i7; // [sp+14A4h] [bp-2C98h]@635
  int v106; // [sp+14A8h] [bp-2C94h]@631
  int i6; // [sp+14ACh] [bp-2C90h]@629
  char v108; // [sp+14B0h] [bp-2C8Ch]@622
  char v109; // [sp+15B0h] [bp-2B8Ch]@615
  char v110; // [sp+16B0h] [bp-2A8Ch]@604
  char v111; // [sp+17B0h] [bp-298Ch]@602
  char v112; // [sp+18B0h] [bp-288Ch]@600
  __int64 v113; // [sp+1930h] [bp-280Ch]@600
  int i8; // [sp+1938h] [bp-2804h]@593
  char v115; // [sp+193Ch] [bp-2800h]@565
  char v116; // [sp+1A3Ch] [bp-2700h]@551
  char v117; // [sp+1B3Ch] [bp-2600h]@549
  char v118; // [sp+1C3Ch] [bp-2500h]@548
  char v119; // [sp+1D3Ch] [bp-2400h]@541
  char v120; // [sp+1E3Ch] [bp-2300h]@539
  char v121; // [sp+1F3Ch] [bp-2200h]@537
  char v122; // [sp+203Ch] [bp-2100h]@535
  char v123; // [sp+213Ch] [bp-2000h]@533
  char v124; // [sp+223Ch] [bp-1F00h]@531
  char v125; // [sp+233Ch] [bp-1E00h]@519
  int v126; // [sp+273Ch] [bp-1A00h]@519
  char v127; // [sp+2740h] [bp-19FCh]@517
  char v128; // [sp+2B40h] [bp-15FCh]@515
  __int16 v129; // [sp+2F40h] [bp-11FCh]@508
  __int16 v130; // [sp+2F44h] [bp-11F8h]@508
  __int16 v131; // [sp+2F46h] [bp-11F6h]@508
  int v132; // [sp+2F4Ch] [bp-11F0h]@508
  int v133; // [sp+2F50h] [bp-11ECh]@499
  int v134; // [sp+2F54h] [bp-11E8h]@499
  int v135; // [sp+2F58h] [bp-11E4h]@491
  int v136; // [sp+2F5Ch] [bp-11E0h]@486
  int v137; // [sp+2F60h] [bp-11DCh]@486
  int v138; // [sp+2F64h] [bp-11D8h]@486
  int v139; // [sp+2F68h] [bp-11D4h]@486
  int v140; // [sp+2F6Ch] [bp-11D0h]@486
  int v141; // [sp+2F70h] [bp-11CCh]@486
  int v142; // [sp+2F74h] [bp-11C8h]@486
  int v143; // [sp+2F78h] [bp-11C4h]@486
  int v144; // [sp+2F7Ch] [bp-11C0h]@486
  char v145; // [sp+2F80h] [bp-11BCh]@476
  int ll; // [sp+3000h] [bp-113Ch]@465
  int kk; // [sp+3004h] [bp-1138h]@463
  char v148; // [sp+3008h] [bp-1134h]@443
  __int16 v149; // [sp+3088h] [bp-10B4h]@420
  __int16 v150; // [sp+308Ch] [bp-10B0h]@420
  __int16 v151; // [sp+308Eh] [bp-10AEh]@420
  int v152; // [sp+3094h] [bp-10A8h]@420
  int v153; // [sp+3098h] [bp-10A4h]@420
  int v154; // [sp+309Ch] [bp-10A0h]@420
  int v155; // [sp+30A0h] [bp-109Ch]@416
  int nn; // [sp+30A4h] [bp-1098h]@413
  int v157; // [sp+30A8h] [bp-1094h]@410
  int v158; // [sp+30ACh] [bp-1090h]@403
  int mm; // [sp+30B0h] [bp-108Ch]@401
  int v160; // [sp+30B4h] [bp-1088h]@401
  int v161; // [sp+30B8h] [bp-1084h]@401
  int v162; // [sp+30BCh] [bp-1080h]@401
  int v163; // [sp+30C0h] [bp-107Ch]@399
  int v164; // [sp+30C4h] [bp-1078h]@399
  int v165; // [sp+30C8h] [bp-1074h]@398
  int v166; // [sp+30CCh] [bp-1070h]@388
  int v167; // [sp+30D0h] [bp-106Ch]@383
  int v168; // [sp+30D4h] [bp-1068h]@383
  char v169; // [sp+30D8h] [bp-1064h]@381
  __int16 v170; // [sp+3158h] [bp-FE4h]@377
  char v171; // [sp+3160h] [bp-FDCh]@358
  int v172; // [sp+31E0h] [bp-F5Ch]@350
  int *v173; // [sp+31E4h] [bp-F58h]@350
  int v174; // [sp+31E8h] [bp-F54h]@347
  int *v175; // [sp+31ECh] [bp-F50h]@347
  int v176; // [sp+31F0h] [bp-F4Ch]@345
  __int16 v177; // [sp+31F4h] [bp-F48h]@345
  __int16 v178; // [sp+31FCh] [bp-F40h]@345
  __int16 v179; // [sp+31FEh] [bp-F3Eh]@345
  char v180[384]; // [sp+3200h] [bp-F3Ch]@347
  int v181; // [sp+3380h] [bp-DBCh]@341
  int v182; // [sp+3384h] [bp-DB8h]@341
  int i1; // [sp+3388h] [bp-DB4h]@334
  int v184; // [sp+338Ch] [bp-DB0h]@331
  int *v185; // [sp+3390h] [bp-DACh]@331
  int i2; // [sp+3394h] [bp-DA8h]@329
  int v187; // [sp+3398h] [bp-DA4h]@329
  __int16 v188; // [sp+339Ch] [bp-DA0h]@329
  __int16 v189; // [sp+33A4h] [bp-D98h]@329
  __int16 v190; // [sp+33A6h] [bp-D96h]@329
  char v191[384]; // [sp+33A8h] [bp-D94h]@331
  char v192; // [sp+3528h] [bp-C14h]@306
  char v193; // [sp+35A8h] [bp-B94h]@301
  char v194; // [sp+3628h] [bp-B14h]@287
  int jj; // [sp+36A8h] [bp-A94h]@258
  void *v196; // [sp+36ACh] [bp-A90h]@252
  void *v197; // [sp+36B0h] [bp-A8Ch]@246
  int v198; // [sp+36B4h] [bp-A88h]@244
  int v199; // [sp+36B8h] [bp-A84h]@244
  int v200; // [sp+36BCh] [bp-A80h]@235
  int v201; // [sp+36C0h] [bp-A7Ch]@233
  int v202; // [sp+36C4h] [bp-A78h]@233
  int v203; // [sp+36C8h] [bp-A74h]@224
  int v204; // [sp+36CCh] [bp-A70h]@213
  int v205; // [sp+36D0h] [bp-A6Ch]@213
  int v206; // [sp+36D4h] [bp-A68h]@213
  int v207; // [sp+36D8h] [bp-A64h]@213
  int v208; // [sp+36DCh] [bp-A60h]@212
  __int16 v209; // [sp+36E0h] [bp-A5Ch]@212
  __int16 v210; // [sp+36E2h] [bp-A5Ah]@212
  int v211; // [sp+36E8h] [bp-A54h]@212
  int v212; // [sp+36ECh] [bp-A50h]@212
  int v213; // [sp+36F0h] [bp-A4Ch]@212
  int v214; // [sp+36F4h] [bp-A48h]@212
  int v215; // [sp+36F8h] [bp-A44h]@212
  int v216; // [sp+36FCh] [bp-A40h]@212
  int v217; // [sp+3700h] [bp-A3Ch]@212
  int v218; // [sp+3704h] [bp-A38h]@203
  int m; // [sp+3708h] [bp-A34h]@200
  int l; // [sp+370Ch] [bp-A30h]@198
  int v221; // [sp+3710h] [bp-A2Ch]@190
  int v222; // [sp+3714h] [bp-A28h]@190
  int v223; // [sp+3718h] [bp-A24h]@190
  int v224; // [sp+371Ch] [bp-A20h]@190
  int n; // [sp+3720h] [bp-A1Ch]@177
  int ii; // [sp+3724h] [bp-A18h]@164
  char v227; // [sp+3728h] [bp-A14h]@170
  char v228; // [sp+3828h] [bp-914h]@145
  char v229; // [sp+3928h] [bp-814h]@139
  char v230; // [sp+3A28h] [bp-714h]@137
  int k; // [sp+3B28h] [bp-614h]@124
  int v232; // [sp+3B2Ch] [bp-610h]@122
  char v233; // [sp+3B30h] [bp-60Ch]@122
  int v234; // [sp+3C30h] [bp-50Ch]@117
  char v235; // [sp+3C34h] [bp-508h]@117
  int j; // [sp+3D34h] [bp-408h]@109
  char v237; // [sp+3D38h] [bp-404h]@17
  int i; // [sp+3E38h] [bp-304h]@7
  __int16 v239; // [sp+3E3Ch] [bp-300h]@7
  __int16 v240; // [sp+3E40h] [bp-2FCh]@7
  __int16 v241; // [sp+3E42h] [bp-2FAh]@7
  int v242; // [sp+3E48h] [bp-2F4h]@7
  char v243[96]; // [sp+3E4Ch] [bp-2F0h]@9
  void *v244; // [sp+3EACh] [bp-290h]@6
  char v245[128]; // [sp+3EB0h] [bp-28Ch]@5
  int v246; // [sp+3F30h] [bp-20Ch]@1
  unsigned __int64 v247; // [sp+3F34h] [bp-208h]@1
  char v248; // [sp+3F3Ch] [bp-200h]@16
  char v249; // [sp+3F4Ah] [bp-1F2h]@311
  char v250; // [sp+3F4Bh] [bp-1F1h]@311
  char v251; // [sp+3FBCh] [bp-180h]@16
  char v252[14]; // [sp+403Ch] [bp-100h]@3
  char v253; // [sp+404Ah] [bp-F2h]@1029
  char v254; // [sp+404Bh] [bp-F1h]@1029
  char v255; // [sp+40BCh] [bp-80h]@1
  int v256; // [sp+413Ch] [bp+0h]@1

  memset(&v16, -858993460, 0x4130u);
  v5 = (int)&v256;
  v247 = 0i64;
  v246 = 0;
  sub_4E4340(a1, (int)&v256, a2, a5 + 1, "%s %s %s %s", (unsigned int)&v255);
  if ( a4 >= 2 && !sub_4E4D80((int)&v255, (int)"findauto") )
  {
    v6 = (void *)sub_4E4F40(a1, (int)&v256, a2, (signed int *)v252);
    HIDWORD(v247) = v6;
    if ( (signed int)v6 >= 0 || SHIDWORD(v247) >= 4 )
    {
      sub_4E4640(v245, 0, 0x80u);
      sub_4E4720((int)v245);
      if ( v245[0] )
      {
        v6 = (void *)sub_4E4B50((int)v245);
        v244 = v6;
        if ( (signed int)v6 < 96 )
        {
          v6 = sub_4E4640(&v239, 0, 0x70u);
          v240 = 712;
          v239 = 112;
          v242 = HIDWORD(v247);
          v241 = 30000;
          for ( i = 0; i < 96; ++i )
          {
            v6 = (void *)i;
            v243[i] = v245[i] ^ 0x61;
          }
          for ( i = 0; i < 1000; ++i )
          {
            if ( dword_752BAF0[790 * i] == 22 )
              sub_401203(&v239, 112);
            v6 = (void *)(i + 1);
          }
        }
      }
    }
    return sub_4E46A0(1, (int)v6, v15, v13, v14);
  }
  v247 = __PAIR__(
           sub_4E4F40(a1, (int)&v256, a2, (signed int *)v252),
           sub_4E4F40(a1, (int)&v256, a2, (signed int *)&v251));
  v246 = sub_4E4F40(a1, (int)&v256, a2, (signed int *)&v248);
  v6 = (void *)(1724 * a3);
  if ( word_1FDECE0[862 * a3] < 1022 )
  {
    sub_4E3F40(a1, a2, (int)&v237, "adm,%s");
    if ( a3 )
      v6 = (void *)Log(&v237, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
    else
      v6 = (void *)Log(&v237, "system", 0);
  }
  if ( a4 >= 8 )
  {
    if ( a3 <= 0 && a3 >= 1000 )
      return sub_4E46A0(1, (int)v6, v15, v13, v14);
    if ( sub_4E4D80((int)&v255, (int)"resetsock") )
    {
      v6 = (void *)sub_4E4D80((int)&v255, (int)"cpoint");
      if ( v6 )
      {
        if ( sub_4E4D80((int)&v255, (int)"sanc") )
        {
          if ( sub_4E4D80((int)&v255, (int)"buildhtml") )
          {
            if ( sub_4E4D80((int)&v255, (int)"clearquest") )
            {
              if ( sub_4E4D80((int)&v255, (int)"clearskill") )
              {
                if ( sub_4E4D80((int)&v255, (int)"level") )
                {
                  if ( sub_4E4D80((int)&v255, (int)"hp") )
                  {
                    if ( sub_4E4D80((int)&v255, (int)"mp") )
                    {
                      if ( sub_4E4D80((int)&v255, (int)"ac") )
                      {
                        if ( sub_4E4D80((int)&v255, (int)"dam") )
                        {
                          if ( sub_4E4D80((int)&v255, (int)"exp") )
                          {
                            if ( sub_4E4D80((int)&v255, (int)"str") )
                            {
                              if ( sub_4E4D80((int)&v255, (int)"int") )
                              {
                                if ( sub_4E4D80((int)&v255, (int)"dex") )
                                {
                                  if ( sub_4E4D80((int)&v255, (int)"con") )
                                  {
                                    if ( sub_4E4D80((int)&v255, (int)"coin") )
                                    {
                                      if ( !sub_4E4D80((int)&v255, (int)"fame") )
                                      {
                                        dword_1FDEFA8[431 * a3] = HIDWORD(v247);
                                        sub_401348(a3);
                                        sub_401B63(a3, "set fame");
                                      }
                                    }
                                    else
                                    {
                                      dword_1FDECB8[431 * a3] = HIDWORD(v247);
                                      sub_401348(a3);
                                      sub_401B63(a3, "set coin");
                                    }
                                  }
                                  else
                                  {
                                    word_1FDECDA[862 * a3] = WORD2(v247);
                                    sub_4016EF(a3);
                                    sub_4018B1(a3);
                                    sub_401B63(a3, "set con");
                                  }
                                }
                                else
                                {
                                  word_1FDECD8[862 * a3] = WORD2(v247);
                                  sub_4016EF(a3);
                                  sub_4018B1(a3);
                                  sub_401B63(a3, "set dex");
                                }
                              }
                              else
                              {
                                word_1FDECD6[862 * a3] = WORD2(v247);
                                sub_4016EF(a3);
                                sub_4018B1(a3);
                                sub_401B63(a3, "set int");
                              }
                            }
                            else
                            {
                              word_1FDECD4[862 * a3] = WORD2(v247);
                              sub_4016EF(a3);
                              sub_4018B1(a3);
                              sub_401B63(a3, "set str");
                            }
                          }
                          else
                          {
                            dword_1FDECBC[431 * a3] = HIDWORD(v247);
                            sub_401B63(a3, "set exp");
                            sub_401348(a3);
                            sub_40164A(&byte_1FDECA0[1724 * a3]);
                          }
                        }
                        else
                        {
                          word_1FDECC8[862 * a3] = WORD2(v247);
                          sub_4016EF(a3);
                          sub_4018B1(a3);
                          sub_401B63(a3, "set dam");
                        }
                      }
                      else
                      {
                        word_1FDECC6[862 * a3] = WORD2(v247);
                        sub_4016EF(a3);
                        sub_4018B1(a3);
                        sub_401B63(a3, "set ac");
                      }
                    }
                    else
                    {
                      word_1FDECD2[862 * a3] = WORD2(v247);
                      word_1FDECCE[862 * a3] = WORD2(v247);
                      word_1FDECEE[862 * a3] = WORD2(v247);
                      word_1FDECEA[862 * a3] = WORD2(v247);
                      sub_4016EF(a3);
                      sub_4018B1(a3);
                      sub_401B63(a3, "set mp");
                    }
                  }
                  else
                  {
                    word_1FDECD0[862 * a3] = WORD2(v247);
                    word_1FDECCC[862 * a3] = WORD2(v247);
                    word_1FDECEC[862 * a3] = WORD2(v247);
                    word_1FDECE8[862 * a3] = WORD2(v247);
                    sub_4016EF(a3);
                    sub_4018B1(a3);
                    sub_401B63(a3, "set hp");
                  }
                }
                else
                {
                  if ( (signed int)v247 > 1010 )
                    LODWORD(v247) = 1010;
                  word_1FDECC4[862 * a3] = WORD2(v247);
                  sub_4016EF(a3);
                  sub_4018B1(a3);
                  sub_401B63(a3, "set level");
                }
              }
              else
              {
                dword_1FDEF7C[431 * a3] = 0;
                sub_401B63(a3, "set clearskill");
                sub_401348(a3);
              }
            }
            else
            {
              word_1FDECB6[862 * a3] = 0;
              sub_401B63(a3, "set clearquest");
            }
          }
          else
          {
            sub_401988();
            sub_401B63(a3, "html built");
          }
        }
        else
        {
          if ( LOWORD(dword_1FDECFC[431 * a3]) )
            sub_401109(&dword_1FDECFC[431 * a3], HIDWORD(v247), 0);
          if ( word_1FDED04[862 * a3] )
            sub_401109(&word_1FDED04[862 * a3], HIDWORD(v247), 0);
          if ( word_1FDED0C[862 * a3] )
            sub_401109(&word_1FDED0C[862 * a3], HIDWORD(v247), 0);
          if ( word_1FDED14[862 * a3] )
            sub_401109(&word_1FDED14[862 * a3], HIDWORD(v247), 0);
          if ( word_1FDED1C[862 * a3] )
            sub_401109(&word_1FDED1C[862 * a3], HIDWORD(v247), 0);
          if ( word_1FDED24[862 * a3] )
            sub_401109(&word_1FDED24[862 * a3], HIDWORD(v247), 0);
          if ( word_1FDED2C[862 * a3] )
            sub_401109(&word_1FDED2C[862 * a3], HIDWORD(v247), 0);
          if ( word_1FDED34[862 * a3] )
            sub_401109(&word_1FDED34[862 * a3], HIDWORD(v247), 0);
          sub_401B63(a3, "set sanc");
        }
      }
      else
      {
        if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > (signed int)&unk_2FAF080 )
          return sub_4E46A0(1, (int)v6, v15, v13, v14);
        dword_1FDEF94[431 * a3] = HIDWORD(v247);
        sub_4016EF(a3);
        sub_4018B1(a3);
        sub_401B63(a3, "set cpoint");
      }
    }
    else
    {
      sub_40114A();
      sub_401B63(a3, "reset setsocket");
    }
    if ( sub_4E4D80((int)&v255, (int)"merchant") )
    {
      if ( sub_4E4D80((int)&v255, (int)"skillbonus") )
      {
        if ( sub_4E4D80((int)&v255, (int)"special0") )
        {
          if ( sub_4E4D80((int)&v255, (int)"special1") )
          {
            if ( sub_4E4D80((int)&v255, (int)"special2") )
            {
              if ( sub_4E4D80((int)&v255, (int)"special3") )
              {
                if ( sub_4E4D80((int)&v255, (int)"scorebonus") )
                {
                  if ( !sub_4E4D80((int)&v255, (int)"attackrun") )
                  {
                    byte_1FDECCB[1724 * a3] = BYTE4(v247);
                    sub_4016EF(a3);
                    sub_4018B1(a3);
                    sub_401B63(a3, "set AttackRun");
                  }
                }
                else
                {
                  word_1FDEF80[862 * a3] = WORD2(v247);
                  sub_401348(a3);
                  sub_401B63(a3, "set scorebonus");
                }
              }
              else
              {
                byte_1FDECDF[1724 * a3] = BYTE4(v247);
                sub_401348(a3);
                sub_401B63(a3, "set special 3");
              }
            }
            else
            {
              byte_1FDECDE[1724 * a3] = BYTE4(v247);
              sub_401348(a3);
              sub_401B63(a3, "set special 2");
            }
          }
          else
          {
            byte_1FDECDD[1724 * a3] = BYTE4(v247);
            sub_401348(a3);
            sub_401B63(a3, "set special 1");
          }
        }
        else
        {
          byte_1FDECDC[1724 * a3] = BYTE4(v247);
          sub_401348(a3);
          sub_401B63(a3, "set special 0");
        }
      }
      else
      {
        word_1FDEF84[862 * a3] = WORD2(v247);
        sub_401348(a3);
        sub_401B63(a3, "set skillbonus");
      }
    }
    else
    {
      byte_1FDECB1[1724 * a3] = BYTE4(v247);
      sub_4016EF(a3);
      sub_4018B1(a3);
      sub_401B63(a3, "set merchant");
    }
    if ( sub_4E4D80((int)&v255, (int)"critical") )
    {
      if ( sub_4E4D80((int)&v255, (int)"special") )
      {
        if ( sub_4E4D80((int)&v255, (int)"set") )
        {
          if ( !sub_4E4D80((int)&v255, (int)"removeall") )
          {
            sub_4E4640(&dword_1FDED7C[431 * a3], 0, 0x200u);
            sub_4018B6(a3);
          }
        }
        else
        {
          if ( SHIDWORD(v247) >= 1 && SHIDWORD(v247) <= 16 )
          {
            sub_4E4640(&word_1FDECF4[862 * a3] + 4 * HIDWORD(v247), 0, 8u);
            if ( HIDWORD(v247) == 1 )
              dword_1FDF2C8[431 * a3] = v247;
            *(&word_1FDECF4[862 * a3] + 4 * HIDWORD(v247)) = v247;
            if ( (signed int)v247 >= 2330 && (signed int)v247 < 2390 )
            {
              *(&word_1FDECF6[862 * a3] + 4 * HIDWORD(v247)) = 2000;
              *(&byte_1FDECF8[1724 * a3] + 8 * HIDWORD(v247)) = 9;
              *(&byte_1FDECF9[1724 * a3] + 8 * HIDWORD(v247)) = 100;
            }
            sub_4015CD(&word_1FDECF4[862 * a3] + 4 * HIDWORD(v247), 250, 0, 0, 0);
          }
          sub_4016EF(a3);
          sub_4018B1(a3);
          sub_401AC3(a3, a3);
          sub_4018B1(a3);
          sub_401348(a3);
          for ( j = 0; j < 16; ++j )
            sub_401960(a3, 0, j, &dword_1FDECFC[431 * a3] + 2 * j);
        }
      }
      else
      {
        word_1FDEF82[862 * a3] = WORD2(v247);
        sub_401348(a3);
        sub_401B63(a3, "set Special");
      }
    }
    else
    {
      byte_1FDEF86[1724 * a3] = BYTE4(v247);
      sub_4016EF(a3);
      sub_4018B1(a3);
      sub_401B63(a3, "set Critical");
    }
    if ( sub_4E4D80((int)&v255, (int)"save") || !a3 )
    {
      if ( sub_4E4D80((int)&v255, (int)"read") || !a3 )
      {
        if ( sub_4E4D80((int)v252, (int)"name") || !a3 )
        {
          v6 = (void *)sub_4E4D80((int)&v255, (int)"remote");
          if ( v6 )
          {
            if ( sub_4E4D80((int)&v255, (int)"jackpotmode") )
            {
              if ( sub_4E4D80((int)&v255, (int)"jackpottouser") )
              {
                v6 = (void *)sub_4E4D80((int)&v255, (int)"jackpotpoint");
                if ( v6 )
                {
                  v6 = (void *)sub_4E4D80((int)&v255, (int)"setsnowfielddrop");
                  if ( !v6 )
                  {
                    dword_8C76468 = HIDWORD(v247);
                    sub_4E3F40(a1, a2, (int)&v237, "SET SNOW FIELD DROP : %d");
                    v6 = (void *)sub_401B63(a3, &v237);
                  }
                }
                else
                {
                  if ( HIDWORD(v247) > 0xEE6B2800 || SHIDWORD(v247) < 0 )
                    return sub_4E46A0(1, (int)v6, v15, v13, v14);
                  dword_54EB278 = HIDWORD(v247);
                  if ( byte_54F8189 )
                    sub_4E3F40(a1, a2, (int)&v228, "JACKPOT POINT : %u, ON");
                  else
                    sub_4E3F40(a1, a2, (int)&v228, "JACKPOT POINT : %u, OFF");
                  v6 = (void *)sub_401B63(a3, &v228);
                }
              }
              else
              {
                dword_AACD60 = HIDWORD(v247);
                sub_4E3F40(a1, a2, (int)&v229, "JACKPOT To User : %d");
                v6 = (void *)sub_401B63(a3, &v229);
              }
            }
            else
            {
              byte_54F8189 = BYTE4(v247);
              sub_4E3F40(a1, a2, (int)&v230, "JACKPOT mode : %d");
              v6 = (void *)sub_401B63(a3, &v230);
            }
          }
          else
          {
            if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) >= 5 )
              return sub_4E46A0(1, (int)v6, v15, v13, v14);
            byte_8C75EF0[HIDWORD(v247)] = 1;
            byte_74F9260[HIDWORD(v247)] = v247;
            byte_54EA550[HIDWORD(v247)] = v246;
            v6 = (void *)sub_401B63(a3, "SET REMOTE");
          }
        }
        else
        {
          sub_4E4720((int)&byte_1FDECA0[1724 * a3]);
          v6 = (void *)sub_401B63(a3, "set name");
        }
      }
      else
      {
        sub_4E4720((int)&v233);
        sub_4E4730((int)&v233, (int)v252);
        v232 = sub_4E8220(a1, a2, &v233, -32768, 0);
        if ( v232 == -1 )
        {
          v6 = (void *)sub_401B63(a3, "fail - open file");
          return sub_4E46A0(1, (int)v6, v15, v13, v14);
        }
        sub_4E7A20(v232, (int)&byte_1FDECA0[1724 * a3], 0x2F4u);
        sub_4E7E80(v232);
        sub_4E3F40(a1, a2, (int)&v233, "npc: %s red.");
        sub_401B63(a3, &v233);
        for ( k = 0; k < 16; ++k )
          sub_401960(a3, 0, k, &dword_1FDECFC[431 * a3] + 2 * k);
        sub_4E4720((int)&byte_1FDECA0[1724 * a3]);
        v7 = &word_1FDECE0[862 * a3];
        v8 = &word_1FDECC4[862 * a3];
        memcpy(v8, v7, 0x1Cu);
        a2 = (int)((char *)v7 + 28);
        v5 = (int)((char *)v8 + 28);
        sub_4016EF(a3);
        sub_4018B1(a3);
        v6 = (void *)sub_401348(a3);
      }
    }
    else
    {
      sub_4E4720((int)&v235);
      sub_4016EF(a3);
      sub_4E4730((int)&v235, (int)v252);
      v234 = sub_4E8220(a1, a2, &v235, -32510, 384);
      if ( v234 == -1 )
      {
        v6 = (void *)sub_401B63(a3, "fail - save file");
        return sub_4E46A0(1, (int)v6, v15, v13, v14);
      }
      sub_4E7F70(v234, (signed int)&byte_1FDECA0[1724 * a3], 0x2F4u);
      sub_4E7E80(v234);
      sub_4E3F40(a1, a2, (int)&v235, "npc: %s saved");
      v6 = (void *)sub_401B63(a3, &v235);
    }
  }
  if ( a4 >= 3 )
  {
    if ( sub_4E4D80((int)&v255, (int)"movestopcheck") )
    {
      if ( sub_4E4D80((int)&v255, (int)"deleteitem") )
      {
        if ( sub_4E4D80((int)&v255, (int)"missionitem") )
        {
          if ( sub_4E4D80((int)&v255, (int)"killmob") )
          {
            if ( !sub_4E4D80((int)&v255, (int)"guildfame") )
            {
              if ( sub_4E4D80((int)v252, (int)"set") )
              {
                v207 = sub_4E4F40(a1, v5, a2, (signed int *)v252);
                v206 = v207 >> 12;
                v205 = v207 & 0xFFF;
                v204 = *(&dword_88B5F20[61440 * (v207 >> 12)] + 15 * v205);
                sub_4E3F40(a1, a2, (int)&v227, "%d guild fame is %d");
                sub_401B63(a3, &v227);
              }
              else
              {
                v217 = sub_4E4F40(a1, v5, a2, (signed int *)&v251);
                v216 = v217 >> 12;
                v215 = v217 & 0xFFF;
                v214 = sub_4E4F40(a1, v5, a2, (signed int *)&v248);
                *(&dword_88B5F20[61440 * v216] + 15 * v215) = v214;
                sub_4E3F40(a1, a2, (int)&v227, "set guild fame %d");
                sub_401B63(a3, &v227);
                sub_4E3F40(a1, a2, (int)&v227, "etc,set guild fame %d-%d");
                Log(&v227, "sys", 0);
                sub_4E4640(&v208, 0, 0x18u);
                v210 = 0;
                LOWORD(v208) = 24;
                v209 = 3095;
                v211 = v217;
                v212 = 1;
                v213 = *(&dword_88B5F20[61440 * v216] + 15 * v215);
                sub_40132A(&v208, 24);
              }
            }
          }
          else
          {
            if ( !sub_4E4D80((int)v252, (int)"delete") )
            {
              v224 = dword_1FDF1F4[431 * a3] - 10;
              v223 = dword_1FDF1F8[431 * a3] - 10;
              v222 = dword_1FDF1F4[431 * a3] + 10;
              v221 = dword_1FDF1F8[431 * a3] + 10;
              if ( v224 <= 0 )
                v224 = 1;
              if ( v223 <= 0 )
                v223 = 1;
              if ( v222 >= 4096 )
                v222 = 4094;
              if ( v222 >= 4096 )
                v222 = 4094;
              for ( l = v223; l < v221; ++l )
              {
                for ( m = v224; m < v222; ++m )
                {
                  v218 = (unsigned __int16)*(&word_34EA550[4096 * l] + m);
                  if ( v218
                    && (signed int)(unsigned __int16)word_1FDECEC[862 * v218] > 0
                    && dword_1FDF1D4[431 * v218]
                    && v218 > 1000 )
                    sub_401C12(v218, a3, 0, 0);
                }
              }
            }
          }
        }
        else
        {
          if ( sub_4E4D80((int)v252, (int)"load") )
          {
            if ( !sub_4E4D80((int)v252, (int)"set") )
              dword_BD6A4C = sub_4E4F40(a1, v5, a2, (signed int *)&v251);
          }
          else
          {
            sub_401CA8();
            for ( n = 0; n < 11; ++n )
            {
              if ( word_BD6940[4 * n] > 0 && word_BD6940[4 * n] < 6500 )
              {
                sub_4E3F40(a1, a2, (int)&v227, "MISSION ITEMLIST[%d] set %d %d %d %d %d %d %d ");
                sub_401B63(a3, &v227);
              }
            }
          }
          sub_4E3F40(a1, a2, (int)&v227, "Misson Mode Set = %d");
          sub_401B63(a3, &v227);
        }
      }
      else
      {
        if ( sub_4E4D80((int)v252, (int)"load") )
        {
          if ( !sub_4E4D80((int)v252, (int)"set") )
          {
            dword_8C76560 = sub_4E4F40(a1, v5, a2, (signed int *)&v251);
            sub_4E3F40(a1, a2, (int)&v227, "Item Delete Mode Set = %d");
            sub_401B63(a3, &v227);
          }
        }
        else
        {
          sub_40161D();
          for ( ii = 0; ii < 5; ++ii )
          {
            if ( word_750BA40[4 * ii] > 0 && word_750BA40[4 * ii] < 6500 )
            {
              sub_4E3F40(a1, a2, (int)&v227, "delete itemlist[%d] set %d %d %d %d %d %d %d ");
              sub_401B63(a3, &v227);
            }
          }
        }
      }
    }
    else
    {
      if ( sub_4E4D80((int)v252, (int)"set") )
      {
        if ( !sub_4E4D80((int)v252, (int)"check") )
        {
          if ( dword_8C75F60 == 1 )
            sub_401B63(a3, "MoveStop Chking Proc On");
          else
            sub_401B63(a3, "MoveStop Chking Proc Off");
        }
      }
      else
      {
        dword_8C75F60 = v247;
        if ( (_DWORD)v247 == 1 )
          sub_401B63(a3, "MoveStop Chking Proc On");
        else
          sub_401B63(a3, "MoveStop Chking Proc Off");
      }
    }
    if ( sub_4E4D80((int)&v255, (int)"kingdom") )
    {
      if ( !sub_4E4D80((int)&v255, (int)"guildwar") )
      {
        if ( sub_4E4D80((int)v252, (int)"smname") )
        {
          if ( sub_4E4D80((int)v252, (int)"smconn") )
          {
            if ( sub_4E4D80((int)v252, (int)"checkname") )
            {
              if ( sub_4E4D80((int)v252, (int)"checkconn") )
              {
                v6 = (void *)sub_4E4D80((int)v252, (int)"clean");
                if ( !v6 )
                {
                  for ( jj = 1; jj < 1000; ++jj )
                  {
                    if ( dword_752BAF0[790 * jj] == 22 )
                    {
                      v6 = (void *)(1724 * jj);
                      if ( dword_1FDF1D4[431 * jj] )
                      {
                        if ( word_1FDECC4[862 * jj] < 1000 )
                        {
                          v6 = (void *)(1724 * jj);
                          if ( dword_1FDF1F4[431 * jj] >= 2124 )
                          {
                            if ( dword_1FDF1F4[431 * jj] <= 2147 )
                            {
                              if ( dword_1FDF1F8[431 * jj] >= 2140 )
                              {
                                v6 = (void *)(1724 * jj);
                                if ( dword_1FDF1F8[431 * jj] <= 2156 )
                                {
                                  sub_4012C6(jj);
                                  sub_4E3F40(a1, a2, (int)&v227, "User Recall , %s ");
                                  v6 = (void *)sub_401B63(a3, &v227);
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
              else
              {
                v6 = (void *)sub_4E4F40(a1, v5, a2, (signed int *)&v251);
                v196 = v6;
                if ( (signed int)v6 > 0 && (signed int)v196 < 1000 && dword_752BAF0[790 * (signed int)v196] == 22 )
                {
                  sub_4E3F40(a1, a2, (int)&v227, "User %s , %d, ef1:%d %d , f2:%d %d, ef3:%d %d");
                  v6 = (void *)sub_401B63(a3, &v227);
                }
              }
            }
            else
            {
              v6 = (void *)sub_4010D7(&v251);
              v197 = v6;
              if ( (signed int)v6 > 0 && (signed int)v197 < 1000 && dword_752BAF0[790 * (signed int)v197] == 22 )
              {
                sub_4E3F40(a1, a2, (int)&v227, "User %s , %d, ef1:%d %d , f2:%d %d, ef3:%d %d");
                v6 = (void *)sub_401B63(a3, &v227);
              }
            }
          }
          else
          {
            v200 = sub_4E4F40(a1, v5, a2, (signed int *)&v251);
            if ( v200 > 0 && v200 < 1000 )
            {
              if ( v200 == a3 )
              {
                v6 = (void *)sub_401B63(a3, &unk_8A95C4);
              }
              else
              {
                if ( dword_752BAF0[790 * v200] == 22 )
                {
                  if ( (signed int)(unsigned __int16)word_1FDECEC[862 * v200] > 0 )
                  {
                    v199 = dword_1FDF1F4[431 * a3];
                    v198 = dword_1FDF1F8[431 * a3];
                    word_1FDED64[862 * v200] = 3460;
                    byte_1FDED66[1724 * v200] = 43;
                    byte_1FDED67[1724 * v200] = 6;
                    byte_1FDED68[1724 * v200] = 0;
                    byte_1FDED69[1724 * v200] = 0;
                    byte_1FDED6A[1724 * v200] = 0;
                    byte_1FDED6B[1724 * v200] = 0;
                    sub_401960(v200, 0, 13, &word_1FDED64[862 * v200]);
                    sub_4019CE(v200, v199, v198);
                    sub_4E3F40(a1, a2, (int)&v227, (const char *)&unk_8A81C4);
                    v6 = (void *)sub_401B63(v200, &v227);
                  }
                  else
                  {
                    v6 = (void *)sub_401B63(a3, &unk_8A9644);
                  }
                }
                else
                {
                  v6 = (void *)sub_401B63(a3, &unk_8A9544);
                }
              }
            }
            else
            {
              v6 = (void *)sub_401B63(a3, &unk_8A9544);
            }
          }
        }
        else
        {
          v203 = sub_4010D7(&v251);
          if ( v203 > 0 && v203 < 1000 )
          {
            if ( v203 == a3 )
            {
              v6 = (void *)sub_401B63(a3, &unk_8A95C4);
            }
            else
            {
              if ( dword_752BAF0[790 * v203] == 22 )
              {
                if ( (signed int)(unsigned __int16)word_1FDECEC[862 * v203] > 0 )
                {
                  v202 = dword_1FDF1F4[431 * a3];
                  v201 = dword_1FDF1F8[431 * a3];
                  word_1FDED64[862 * v203] = 3460;
                  byte_1FDED66[1724 * v203] = 43;
                  byte_1FDED67[1724 * v203] = 6;
                  byte_1FDED68[1724 * v203] = 0;
                  byte_1FDED69[1724 * v203] = 0;
                  byte_1FDED6A[1724 * v203] = 0;
                  byte_1FDED6B[1724 * v203] = 0;
                  sub_401960(v203, 0, 13, &word_1FDED64[862 * v203]);
                  sub_4019CE(v203, v202, v201);
                  sub_4E3F40(a1, a2, (int)&v227, (const char *)&unk_8A81C4);
                  v6 = (void *)sub_401B63(v203, &v227);
                }
                else
                {
                  v6 = (void *)sub_401B63(a3, &unk_8A9644);
                }
              }
              else
              {
                v6 = (void *)sub_401B63(a3, &unk_8A9544);
              }
            }
          }
          else
          {
            v6 = (void *)sub_401B63(a3, &unk_8A9544);
          }
        }
        return sub_4E46A0(1, (int)v6, v15, v13, v14);
      }
      v6 = (void *)sub_4E4D80((int)&v255, (int)"setusename");
      if ( v6 )
      {
        if ( sub_4E4D80((int)&v255, (int)"timer") )
        {
          v6 = (void *)sub_4E4D80((int)&v255, (int)"gsummon");
          if ( !v6 )
          {
            if ( a3 > 0 || a3 < 1000 )
            {
              sub_401C2B(HIDWORD(v247), dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], 39, -1);
              sub_4E3F40(a1, a2, (int)&v194, "Guild summon %d");
              v6 = (void *)sub_401B63(a3, &v194);
            }
            return sub_4E46A0(1, (int)v6, v15, v13, v14);
          }
          if ( sub_4E4D80((int)&v255, (int)"saveall") )
          {
            if ( sub_4E4D80((int)&v255, (int)"decay") )
            {
              if ( sub_4E4D80((int)&v255, (int)"marathonserver") )
              {
                v6 = (void *)sub_4E4D80((int)&v255, (int)"itemdestroy");
                if ( v6 )
                {
                  v6 = (void *)sub_4E4D80((int)&v255, (int)"setitemmaster");
                  if ( v6 )
                  {
                    v6 = (void *)sub_4E4D80((int)&v255, (int)"champname");
                    if ( v6 )
                    {
                      v6 = (void *)sub_4E4D80((int)&v255, (int)"challname");
                      if ( v6 )
                      {
                        if ( sub_4E4D80((int)&v255, (int)"billfree") )
                        {
                          if ( sub_4E4D80((int)&v255, (int)"charselbill") )
                          {
                            if ( sub_4E4D80((int)&v255, (int)"potioncount") )
                            {
                              if ( sub_4E4D80((int)&v255, (int)"partybonus") )
                              {
                                v6 = (void *)sub_4E4D80((int)&v255, (int)"guildboard");
                                if ( !v6 )
                                {
                                  dword_8C762C4 = HIDWORD(v247);
                                  sub_401B63(a3, "SET GUILDBOARD");
                                  v6 = (void *)sub_401154(1);
                                }
                              }
                              else
                              {
                                dword_5A1050 = HIDWORD(v247);
                                sub_401B63(a3, "SET PARTYBONUS");
                                v6 = (void *)sub_401154(1);
                              }
                            }
                            else
                            {
                              dword_5A104C = HIDWORD(v247);
                              sub_401B63(a3, "SET POTIONCOUNT BILL");
                              v6 = (void *)sub_401154(1);
                            }
                          }
                          else
                          {
                            dword_8C762BC = HIDWORD(v247);
                            sub_401B63(a3, "SET CHARSELL BILL");
                            v6 = (void *)sub_401154(1);
                          }
                        }
                        else
                        {
                          dword_5A0FB0 = HIDWORD(v247);
                          sub_401B63(a3, "SET FREE LEVEL");
                          v6 = (void *)sub_401154(1);
                        }
                      }
                      else
                      {
                        if ( SHIDWORD(v247) > 8 || SHIDWORD(v247) <= 0 )
                          return sub_4E46A0(1, (int)v6, v15, v13, v14);
                        v250 = 0;
                        v249 = 0;
                        sub_4E7850((int)((char *)&unk_54F8108 + 16 * (HIDWORD(v247) - 1)), (int)&v251, 0x10u);
                        sub_4E3F40(a1, a2, (int)&v227, "SET CHALL NAME %d : %s");
                        v6 = (void *)sub_401B63(a3, &v227);
                      }
                    }
                    else
                    {
                      if ( SHIDWORD(v247) > 8 || SHIDWORD(v247) <= 0 )
                        return sub_4E46A0(1, (int)v6, v15, v13, v14);
                      v250 = 0;
                      v249 = 0;
                      sub_4E7850((int)((char *)&unk_BDE9D0 + 16 * (HIDWORD(v247) - 1)), (int)&v251, 0x10u);
                      sub_4E3F40(a1, a2, (int)&v227, "SET CHAMP NAME %d : %s");
                      v6 = (void *)sub_401B63(a3, &v227);
                    }
                  }
                  else
                  {
                    if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 1 )
                      return sub_4E46A0(1, (int)v6, v15, v13, v14);
                    dword_8C75F58 = HIDWORD(v247);
                    sub_4E3F40(a1, a2, (int)&v192, "SET ITEM FIRST ATTACKER : %d");
                    sub_401B63(a3, &v192);
                    v6 = (void *)sub_401154(1);
                  }
                }
                else
                {
                  if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 100 )
                    return sub_4E46A0(1, (int)v6, v15, v13, v14);
                  dword_5A144C = HIDWORD(v247);
                  sub_4E3F40(a1, a2, (int)&v193, "SET ITEM DESTROY RATE : %d");
                  sub_401B63(a3, &v193);
                  v6 = (void *)sub_401154(1);
                }
              }
              else
              {
                dword_8C76484 = HIDWORD(v247);
                if ( HIDWORD(v247) )
                {
                  dword_8C76488 = 1;
                  dword_8C7648C = 1;
                  dword_8C76490 = 1;
                  v6 = (void *)sub_401B63(a3, "START MARATHON SERVER");
                }
                else
                {
                  dword_8C76488 = 0;
                  dword_8C7648C = 0;
                  dword_8C76490 = 0;
                  v6 = (void *)sub_401B63(a3, "STOP MARATHON SERVER");
                }
              }
            }
            else
            {
              dword_5A1068 = HIDWORD(v247);
              v6 = (void *)sub_401B63(a3, "set decay");
            }
          }
          else
          {
            sub_401721();
            v6 = (void *)sub_401B63(a3, "SAVEALL");
          }
        }
        else
        {
          if ( SHIDWORD(v247) < 5000 )
          {
            v6 = (void *)sub_401B63(a3, "SET TIMER can't be less than 5 sec");
            return sub_4E46A0(1, (int)v6, v15, v13, v14);
          }
          a2 = (int)&v13;
          v9 = SetTimer(hWnd, 1u, HIDWORD(v247), 0);
          sub_4E46A0(&v13 == &v13, v9, a1, v5, (int)&v13);
          v6 = (void *)sub_401B63(a3, "SET TIMER");
        }
      }
      else
      {
        if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 2 )
          return sub_4E46A0(1, (int)v6, v15, v13, v14);
        dword_8C75F00 = HIDWORD(v247);
        sub_4E4640(&unk_BDE9D0, 0, 0x80u);
        sub_4E4640(&unk_54F8108, 0, 0x80u);
        if ( dword_8C75F00 )
          v6 = (void *)sub_401B63(a3, "SET USE NAME ON");
        else
          v6 = (void *)sub_401B63(a3, "SET USE NAME OFF");
      }
    }
    else
    {
      if ( sub_4E4D80((int)v252, (int)"set") )
      {
        if ( sub_4E4D80((int)v252, (int)"start") )
        {
          v6 = (void *)sub_4E4D80((int)v252, (int)"end");
          if ( !v6 )
            v6 = (void *)sub_401514(6);
        }
        else
        {
          v6 = (void *)sub_4012F8();
        }
      }
      else
      {
        dword_8C76548 = sub_4E4F40(a1, v5, a2, (signed int *)&v251);
        sub_4E3F40(a1, a2, (int)&v227, "set Kingdom Set = %d");
        v6 = (void *)sub_401B63(a3, &v227);
      }
    }
  }
  if ( a4 >= 2 )
  {
    if ( sub_4E4D80((int)&v255, (int)"erase") )
    {
      if ( sub_4E4D80((int)&v255, (int)"rare") )
      {
        if ( sub_4E4D80((int)&v255, (int)"blockclan") )
        {
          if ( sub_4E4D80((int)&v255, (int)"reboot") )
          {
            v6 = (void *)sub_4E4D80((int)&v255, (int)"delayreboot");
            if ( v6 )
            {
              v6 = (void *)sub_4E4D80((int)&v255, (int)"generate");
              if ( v6 )
              {
                v6 = (void *)sub_4E4D80((int)&v255, (int)"generateitem");
                if ( v6 )
                {
                  if ( sub_4E4D80((int)&v255, (int)"snowquest") )
                  {
                    if ( sub_4E4D80((int)&v255, (int)"npccreate") )
                    {
                      if ( sub_4E4D80((int)&v255, (int)"create") )
                      {
                        if ( sub_4E4D80((int)&v255, (int)"log") )
                        {
                          if ( sub_4E4D80((int)&v255, (int)"guildday") )
                          {
                            if ( sub_4E4D80((int)&v255, (int)"guildhour") )
                            {
                              if ( sub_4E4D80((int)&v255, (int)"eventhour") )
                              {
                                if ( sub_4E4D80((int)&v255, (int)"readitemlist") )
                                {
                                  if ( sub_4E4D80((int)&v255, (int)"readskilldata") )
                                  {
                                    if ( sub_4E4D80((int)&v255, (int)"readitemeffect") )
                                    {
                                      if ( sub_4E4D80((int)&v255, (int)"weekmode") )
                                      {
                                        v6 = (void *)sub_4E4D80((int)&v255, (int)"clientmsg");
                                        if ( !v6 )
                                        {
                                          if ( SHIDWORD(v247) >= 0 || SHIDWORD(v247) <= 1 )
                                          {
                                            dword_8C761A8 = HIDWORD(v247);
                                            v6 = (void *)sub_401B63(a3, "Clinet Message on/off");
                                          }
                                          return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                        }
                                        if ( sub_4E4D80((int)&v255, (int)"reloadnpc") )
                                        {
                                          if ( sub_4E4D80((int)&v255, (int)"reloadguild") )
                                          {
                                            v6 = (void *)sub_4E4D80((int)&v255, (int)"kingdomclan");
                                            if ( v6 )
                                            {
                                              if ( sub_4E4D80((int)&v255, (int)"readquest") )
                                              {
                                                if ( sub_4E4D80((int)&v255, (int)"trtarget") )
                                                {
                                                  if ( sub_4E4D80((int)&v255, (int)"trsource") )
                                                  {
                                                    if ( sub_4E4D80((int)&v255, (int)"trrate") )
                                                    {
                                                      if ( sub_4E4D80((int)&v255, (int)"statsapphire") )
                                                      {
                                                        if ( sub_4E4D80((int)&v255, (int)"sapphire") )
                                                        {
                                                          if ( sub_4E4D80((int)&v255, (int)"battleroyal") )
                                                          {
                                                            if ( sub_4E4D80((int)&v255, (int)"moneycube") )
                                                            {
                                                              if ( sub_4E4D80((int)&v255, (int)"translevel") )
                                                              {
                                                                if ( sub_4E4D80((int)&v255, (int)"vsmode") )
                                                                {
                                                                  if ( sub_4E4D80((int)&v255, (int)"evstart") )
                                                                  {
                                                                    if ( sub_4E4D80((int)&v255, (int)"evend") )
                                                                    {
                                                                      if ( sub_4E4D80((int)&v255, (int)"evitem") )
                                                                      {
                                                                        if ( sub_4E4D80((int)&v255, (int)"evrate") )
                                                                        {
                                                                          if ( sub_4E4D80((int)&v255, (int)"evindex") )
                                                                          {
                                                                            if ( sub_4E4D80((int)&v255, (int)"evdelete") )
                                                                            {
                                                                              if ( sub_4E4D80((int)&v255, (int)"evon") )
                                                                              {
                                                                                if ( sub_4E4D80(
                                                                                       (int)&v255,
                                                                                       (int)"evnotice") )
                                                                                {
                                                                                  if ( !sub_4E4D80(
                                                                                          (int)&v255,
                                                                                          (int)"nopatch") )
                                                                                  {
                                                                                    dword_8C76198 = HIDWORD(v247);
                                                                                    sub_401B63(a3, "SET No Patch");
                                                                                  }
                                                                                }
                                                                                else
                                                                                {
                                                                                  dword_5A0FFC = HIDWORD(v247);
                                                                                  sub_4E3F40(
                                                                                    a1,
                                                                                    a2,
                                                                                    (int)&v116,
                                                                                    "item:%d index:%d-%d(%d) rate:1/%d [I:%d D:%d O:%d N:%d]");
                                                                                  sub_401B63(a3, &v116);
                                                                                  sub_401154(1);
                                                                                }
                                                                              }
                                                                              else
                                                                              {
                                                                                if ( HIDWORD(v247)
                                                                                  && (!dword_8C761F0
                                                                                   || !dword_8C761F4
                                                                                   || !dword_8C761FC
                                                                                   || !dword_8C76200) )
                                                                                {
                                                                                  sub_4E3F40(
                                                                                    a1,
                                                                                    a2,
                                                                                    (int)&v118,
                                                                                    "item:%d index:%d-%d(%d) rate:1/%d [I:%d D:%d O:%d N:%d]");
                                                                                  v6 = (void *)sub_401B63(a3, &v118);
                                                                                  return sub_4E46A0(
                                                                                           1,
                                                                                           (int)v6,
                                                                                           v15,
                                                                                           v13,
                                                                                           v14);
                                                                                }
                                                                                dword_8C76208 = HIDWORD(v247);
                                                                                sub_4E3F40(
                                                                                  a1,
                                                                                  a2,
                                                                                  (int)&v117,
                                                                                  "item:%d index:%d-%d(%d) rate:1/%d [I:%d D:%d O:%d N:%d]");
                                                                                sub_401B63(a3, &v117);
                                                                                sub_401154(1);
                                                                              }
                                                                            }
                                                                            else
                                                                            {
                                                                              dword_8C7620C = HIDWORD(v247);
                                                                              sub_4E3F40(
                                                                                a1,
                                                                                a2,
                                                                                (int)&v119,
                                                                                "item:%d index:%d-%d(%d) rate:1/%d [I:%d D:%d O:%d N:%d]");
                                                                              sub_401B63(a3, &v119);
                                                                              sub_401154(1);
                                                                            }
                                                                          }
                                                                          else
                                                                          {
                                                                            dword_8C76204 = HIDWORD(v247);
                                                                            sub_4E3F40(
                                                                              a1,
                                                                              a2,
                                                                              (int)&v120,
                                                                              "item:%d index:%d-%d(%d) rate:1/%d [I:%d D:%d O:%d N:%d]");
                                                                            sub_401B63(a3, &v120);
                                                                            sub_401154(1);
                                                                          }
                                                                        }
                                                                        else
                                                                        {
                                                                          dword_8C761FC = HIDWORD(v247);
                                                                          sub_4E3F40(
                                                                            a1,
                                                                            a2,
                                                                            (int)&v121,
                                                                            "item:%d index:%d-%d(%d) rate:1/%d [I:%d D:%d O:%d N:%d]");
                                                                          sub_401B63(a3, &v121);
                                                                          sub_401154(1);
                                                                        }
                                                                      }
                                                                      else
                                                                      {
                                                                        dword_8C76200 = HIDWORD(v247);
                                                                        sub_4E3F40(
                                                                          a1,
                                                                          a2,
                                                                          (int)&v122,
                                                                          "item:%d index:%d-%d(%d) rate:1/%d [I:%d D:%d O:%d N:%d]");
                                                                        sub_401B63(a3, &v122);
                                                                        sub_401154(1);
                                                                      }
                                                                    }
                                                                    else
                                                                    {
                                                                      dword_8C761F4 = HIDWORD(v247);
                                                                      sub_4E3F40(
                                                                        a1,
                                                                        a2,
                                                                        (int)&v123,
                                                                        "item:%d index:%d-%d(%d) rate:1/%d [I:%d D:%d O:%d N:%d]");
                                                                      sub_401B63(a3, &v123);
                                                                      sub_401154(1);
                                                                    }
                                                                  }
                                                                  else
                                                                  {
                                                                    dword_8C761F8 = HIDWORD(v247);
                                                                    dword_8C761F0 = HIDWORD(v247);
                                                                    sub_4E3F40(
                                                                      a1,
                                                                      a2,
                                                                      (int)&v124,
                                                                      "item:%d index:%d-%d(%d) rate:1/%d [I:%d D:%d O:%d N:%d]");
                                                                    sub_401B63(a3, &v124);
                                                                    sub_401154(1);
                                                                  }
                                                                }
                                                                else
                                                                {
                                                                  dword_8C76254 = HIDWORD(v247);
                                                                  if ( HIDWORD(v247) == 2 )
                                                                    sub_401B63(a3, "VSMODE: none pk");
                                                                  if ( dword_8C76254 == 1 )
                                                                    sub_401B63(a3, "VSMODE: castle war");
                                                                  else
                                                                    sub_401B63(a3, "VSMODE: normal");
                                                                  sub_401154(1);
                                                                }
                                                              }
                                                              else
                                                              {
                                                                dword_5A1044 = HIDWORD(v247);
                                                                sub_401B63(a3, "TRANSLEVEL");
                                                                sub_401154(1);
                                                              }
                                                            }
                                                            else
                                                            {
                                                              if ( sub_4E4D80((int)v252, (int)"clear") )
                                                              {
                                                                if ( !sub_4E4D80((int)v252, (int)"check") )
                                                                {
                                                                  sub_4E3F40(a1, a2, (int)&v127, "GambleMoney check %d");
                                                                  sub_401B63(a3, &v127);
                                                                }
                                                              }
                                                              else
                                                              {
                                                                sub_4E3F40(a1, a2, (int)&v128, "GambleMoney Clear %d");
                                                                Log(&v128, "system", 0);
                                                                dword_8C75F48 = 0;
                                                                sub_401B63(a3, &v128);
                                                              }
                                                              if ( !sub_4E4D80((int)v252, (int)"rate") )
                                                              {
                                                                v126 = sub_4E4F40(a1, v5, a2, (signed int *)&v251);
                                                                dword_5A0F10 = v126;
                                                                sub_4E3F40(a1, a2, (int)&v125, "GambleMoney Rate %d");
                                                                sub_401B63(a3, &v125);
                                                              }
                                                            }
                                                          }
                                                          else
                                                          {
                                                            if ( SHIDWORD(v247) < 0 )
                                                            {
                                                              v6 = (void *)sub_401B63(
                                                                             a3,
                                                                             "err: +battleroyal (1-max_itemlist)");
                                                              return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                            }
                                                            dword_8C762D8 = HIDWORD(v247);
                                                            sub_401B63(a3, "CHANGE BATTLE ROYAL REWARD");
                                                            sub_401154(1);
                                                          }
                                                        }
                                                        else
                                                        {
                                                          if ( SHIDWORD(v247) < -100 || SHIDWORD(v247) > 100 )
                                                          {
                                                            v6 = (void *)sub_401B63(a3, "err: +sapphire (-100-100)");
                                                            return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                          }
                                                          v131 = 0;
                                                          v130 = 2058;
                                                          v129 = 16;
                                                          v132 = HIDWORD(v247);
                                                          sub_40132A(&v129, 16);
                                                          sub_401B63(a3, "CHANGE SAPPHIRE -");
                                                          sub_401154(1);
                                                        }
                                                      }
                                                      else
                                                      {
                                                        if ( SHIDWORD(v247) < 0 )
                                                        {
                                                          v6 = (void *)sub_401B63(a3, "err: +statsapphire (0-64)");
                                                          return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                        }
                                                        dword_5A1004 = HIDWORD(v247);
                                                        sub_401B63(a3, "CHANGE STAT SAPPHIRE");
                                                        sub_401154(1);
                                                      }
                                                    }
                                                    else
                                                    {
                                                      if ( SHIDWORD(v247) < 1 || SHIDWORD(v247) > 16 )
                                                      {
                                                        v6 = (void *)sub_401B63(a3, "err: +trrate (1-16) (item)");
                                                        return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                      }
                                                      if ( (signed int)v247 < 1 || (signed int)v247 > 5 )
                                                      {
                                                        v6 = (void *)sub_401B63(a3, "err: +trrate (1-16) (1-5) (item)");
                                                        return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                      }
                                                      v134 = HIDWORD(v247) - 1;
                                                      v133 = v247 - 1;
                                                      *(&word_74F81C2[26 * (HIDWORD(v247) - 1)] + (signed int)v247 - 1) = v246;
                                                      sub_401154(1);
                                                      sub_401B63(a3, "+trrate success");
                                                    }
                                                  }
                                                  else
                                                  {
                                                    if ( SHIDWORD(v247) < 1 || SHIDWORD(v247) > 16 )
                                                    {
                                                      v6 = (void *)sub_401B63(a3, "err: +source (1-16) (item)");
                                                      return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                    }
                                                    v135 = HIDWORD(v247) - 1;
                                                    word_74F8198[26 * (HIDWORD(v247) - 1)] = v247;
                                                    sub_401154(1);
                                                    sub_401B63(a3, "+trsource success");
                                                  }
                                                }
                                                else
                                                {
                                                  if ( SHIDWORD(v247) < 1 || SHIDWORD(v247) > 16 )
                                                  {
                                                    v6 = (void *)sub_401B63(a3, "err: +treasure (1-16) (1-5) (item)");
                                                    return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                  }
                                                  if ( (signed int)v247 < 1 || (signed int)v247 > 5 )
                                                  {
                                                    v6 = (void *)sub_401B63(a3, "err: +treasure (1-16) (1-5) (item)");
                                                    return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                  }
                                                  v144 = HIDWORD(v247) - 1;
                                                  v143 = v247 - 1;
                                                  v142 = 0;
                                                  v141 = 0;
                                                  v140 = 0;
                                                  v139 = 0;
                                                  v138 = 0;
                                                  v137 = 0;
                                                  v136 = 0;
                                                  sub_4E4340(
                                                    a1,
                                                    v5,
                                                    a2,
                                                    a5 + 1,
                                                    "%s %s %s %d %d %d %d %d %d %d",
                                                    (unsigned int)&v255);
                                                  *(&word_74F819A[26 * v144] + 4 * v143) = v142;
                                                  *(&byte_74F819C[52 * v144] + 8 * v143) = v141;
                                                  *(&byte_74F819D[52 * v144] + 8 * v143) = v140;
                                                  *(&byte_74F819E[52 * v144] + 8 * v143) = v139;
                                                  *(&byte_74F819F[52 * v144] + 8 * v143) = v138;
                                                  *(&byte_74F81A0[52 * v144] + 8 * v143) = v137;
                                                  *(&byte_74F81A1[52 * v144] + 8 * v143) = v136;
                                                  sub_401154(1);
                                                  sub_401B63(a3, "+troktarget success");
                                                }
                                              }
                                              else
                                              {
                                                sub_4011FE();
                                                sub_401B63(a3, "READ QUEST");
                                              }
                                            }
                                            else
                                            {
                                              if ( (_DWORD)v247 && (signed int)v247 < 7 && (signed int)v247 > 8 )
                                                return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                              dword_594F6C = HIDWORD(v247);
                                              sub_4E3F40(a1, a2, (int)&v145, "SET Kingdom CLAN:%d");
                                              sub_401B63(a3, &v145);
                                              sub_401BA4();
                                              sub_401B86();
                                            }
                                          }
                                          else
                                          {
                                            sub_401BD6();
                                            sub_401B63(a3, "RELOADGUILD");
                                            sub_4019D3();
                                          }
                                        }
                                        else
                                        {
                                          sub_40104B(&unk_BDEAA0);
                                          for ( kk = 0; kk < 3; ++kk )
                                          {
                                            for ( ll = 0; ll < 4; ++ll )
                                            {
                                              sub_40186B((char *)&unk_54EB638 + 9072 * kk + 2268 * ll);
                                              sub_40186B((char *)&unk_54EB92C + 9072 * kk + 2268 * ll);
                                              sub_40186B((char *)&unk_54EBC20 + 9072 * kk + 2268 * ll);
                                            }
                                          }
                                          sub_401B63(a3, "RELOADNPC");
                                        }
                                      }
                                      else
                                      {
                                        if ( SHIDWORD(v247) >= 0 && SHIDWORD(v247) <= 5 )
                                        {
                                          dword_5A10E0 = HIDWORD(v247);
                                          dword_5A10D8 = HIDWORD(v247) - 1;
                                          if ( !HIDWORD(v247) )
                                            dword_5A10D8 = 5;
                                          v6 = (void *)sub_401B63(a3, "FORCE GUILD MODE");
                                          return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                        }
                                        dword_5A10E0 = -1;
                                        sub_401B63(a3, "WEEKLY GUILD MODE");
                                      }
                                    }
                                    else
                                    {
                                      sub_401889();
                                      sub_4017F8();
                                      sub_401B63(a3, "RELOAD ITEMEFFECT & ITEMLIST");
                                    }
                                  }
                                  else
                                  {
                                    sub_4010E6();
                                    sub_401B63(a3, "RELOAD SKILLDATA");
                                  }
                                }
                                else
                                {
                                  sub_4017F8();
                                  sub_401B63(a3, "RELOAD ITEMLIST");
                                }
                              }
                              else
                              {
                                if ( SHIDWORD(v247) >= 0 && SHIDWORD(v247) <= 23 )
                                {
                                  dword_5A10EC = HIDWORD(v247);
                                  sub_4E3F40(a1, a2, (int)&v148, "SET EVENT HOUR:%d");
                                  sub_401B63(a3, &v148);
                                }
                              }
                            }
                            else
                            {
                              if ( SHIDWORD(v247) >= 0 && SHIDWORD(v247) <= 23 )
                              {
                                dword_5A10E4 = HIDWORD(v247);
                                sub_401B63(a3, "SET GUILD BATTLE HOUR");
                              }
                            }
                          }
                          else
                          {
                            if ( SHIDWORD(v247) >= 0 && SHIDWORD(v247) <= 6 )
                            {
                              dword_8C76340 = HIDWORD(v247);
                              sub_401B63(a3, "SET GUILD BATTLE DAY");
                            }
                          }
                        }
                        else
                        {
                          sub_4018D9("GAME");
                          sub_401B63(a3, "RESTART LOG");
                        }
                      }
                      else
                      {
                        v165 = sub_40177B(v252, dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], "boss", 0);
                        if ( v165 >= 1 )
                        {
                          v164 = v165;
                          sub_401B63(a3, "Create mob success");
                          v163 = dword_1FDF1D8[431 * a3];
                          if ( !v163 )
                            v163 = a3;
                          v162 = word_1FDECE0[862 * v164];
                          v161 = word_1FDECE0[862 * a3];
                          byte_1FDECB0[1724 * v164] = 4;
                          dword_1FDF1E0[431 * v164] = 5;
                          word_1FDF280[862 * v164] = 0;
                          word_1FDECC4[862 * v164] = v161;
                          word_1FDECE0[862 * v164] = v161;
                          sub_4E4640(&word_1FDF282[862 * v164], 0, 8u);
                          dword_1FDF1D4[431 * v164] = 4;
                          v160 = 0;
                          for ( mm = 0; mm < 12; ++mm )
                          {
                            v158 = *(&word_1FDF28A[862 * v163] + mm);
                            if ( v158 )
                              ++v160;
                          }
                          if ( !v160 )
                            sub_4016AE(v163, v163, 0);
                          for ( mm = 0; ; ++mm )
                          {
                            if ( mm < 12 )
                            {
                              v157 = *(&word_1FDF28A[862 * v163] + mm);
                              if ( v157 )
                                continue;
                            }
                            break;
                          }
                          if ( mm < 12 )
                          {
                            *(&word_1FDF28A[862 * v163] + mm) = v164;
                            dword_1FDF1D8[431 * v164] = v163;
                            sub_4016AE(v163, v164, mm + 1);
                            for ( nn = 0; nn < 12; ++nn )
                            {
                              v155 = *(&word_1FDF28A[862 * v163] + nn);
                              if ( v155 > 0 && v155 < 1000 )
                                sub_4016AE(v155, v164, mm + 1);
                            }
                          }
                          byte_1FDF154[1724 * v164] = 24;
                          word_1FDF156[862 * v164] = 0;
                          byte_1FDF155[1724 * v164] = 0;
                          dword_1FDF158[431 * v164] = 800;
                          dword_1FDF2A8[431 * v164] = a3;
                          v154 = word_1FDECC6[862 * v164];
                          v153 = word_1FDECC8[862 * v164];
                          word_1FDECC6[862 * v164] = 2 * v153 - 400;
                          word_1FDECC8[862 * v164] = v154 / 2 + 200;
                          sub_4016EF(v164);
                          v150 = 403;
                          v149 = 16;
                          v151 = v164;
                          v152 = byte_1FDECB0[1724 * v164];
                          sub_4014FB(dword_1FDF1F4[431 * v164], dword_1FDF1F8[431 * v164], &v149, 0);
                        }
                        if ( !v165 )
                          sub_401B63(a3, "No monster file in boss directory");
                        if ( v165 == -1 )
                          sub_401B63(a3, "No empty mob");
                        if ( v165 == -2 )
                          sub_401B63(a3, "No empty mob grid");
                      }
                    }
                    else
                    {
                      v168 = v247;
                      v167 = v246;
                      if ( (signed int)v247 <= 33 || v168 >= 4063 || v167 <= 33 || v167 >= 4063 )
                      {
                        v168 = dword_1FDF1F4[431 * a3];
                        v167 = dword_1FDF1F8[431 * a3];
                      }
                      v166 = sub_40177B(v252, v168, v167, off_59BEB0, 0);
                      if ( v166 >= 1 )
                        sub_401B63(a3, "Create mob success");
                      if ( !v166 )
                        sub_401B63(a3, "No monster file in boss directory");
                      if ( v166 == -1 )
                        sub_401B63(a3, "No empty mob");
                      if ( v166 == -2 )
                        sub_401B63(a3, "No empty mob grid");
                    }
                  }
                  else
                  {
                    if ( HIDWORD(v247) )
                    {
                      dword_5A0F0C = HIDWORD(v247);
                      dword_8C7617C = 0;
                    }
                    sub_4E3F40(a1, a2, (int)&v169, "nowState set : %d");
                    sub_401B63(a3, &v169);
                  }
                }
                else
                {
                  if ( SHIDWORD(v247) <= 0 || SHIDWORD(v247) > 6500 )
                  {
                    v6 = (void *)sub_401B63(a3, "generation index wrong");
                    return sub_4E46A0(1, (int)v6, v15, v13, v14);
                  }
                  if ( a3 <= 0 || a3 >= 1000 )
                    return sub_4E46A0(1, (int)v6, v15, v13, v14);
                  sub_4E4640(&v170, 0, 8u);
                  v170 = WORD2(v247);
                  sub_4016EA(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v170, 0, 1, 0);
                  sub_401B63(a3, "Generate ITEM");
                }
              }
              else
              {
                if ( SHIDWORD(v247) <= 0 || SHIDWORD(v247) > dword_1FDEC80 )
                {
                  v6 = (void *)sub_401B63(a3, "generation index wrong");
                  return sub_4E46A0(1, (int)v6, v15, v13, v14);
                }
                if ( a3 <= 0 || a3 >= 1000 )
                  return sub_4E46A0(1, (int)v6, v15, v13, v14);
                sub_401C30(HIDWORD(v247), dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3]);
              }
            }
            else
            {
              if ( SHIDWORD(v247) < 10 )
                return sub_4E46A0(1, (int)v6, v15, v13, v14);
              dword_5A0A50 = dword_54EB278;
              sub_401154(1);
              dword_5A106C = 2 * HIDWORD(v247) * -dword_5A1054;
              sub_4E3F40(a1, a2, (int)&v171, "delayreboot time :%d");
              Log(&v171, "system", 0);
              if ( dword_5A106C > 1 || dword_5A106C < -1000 )
                dword_5A106C = 1;
            }
          }
          else
          {
            dword_5A106C = 1;
          }
        }
        else
        {
          dword_5A1090 = HIDWORD(v247);
          sub_401B63(a3, "BLOCKCLAN");
        }
      }
      else
      {
        for ( i1 = 0; i1 < 8 && dword_74F91C0[5 * i1]; ++i1 )
          ;
        if ( SHIDWORD(v247) > 0 )
        {
          if ( i1 >= 8 )
          {
            v6 = (void *)sub_401B63(a3, "no empty space for rare setting");
            return sub_4E46A0(1, (int)v6, v15, v13, v14);
          }
          v182 = (int)((char *)&unk_74F91C8 + 20 * i1);
          v181 = 0;
          sub_4E4340(a1, v5, a2, a5 + 6, "%d %d %d %d %d %d %d %d %d %d", (unsigned int)dword_74F91C0 + 20 * i1);
          if ( v181 <= 0 || v181 > 2000 )
            dword_74F91D0[5 * i1] = 1;
          else
            dword_74F91D0[5 * i1] = v181;
        }
        v177 = 1969;
        LOWORD(v176) = 400;
        v178 = 2;
        v179 = 0;
        for ( i1 = 0; i1 < 4; ++i1 )
        {
          v175 = &dword_74F91C0[5 * i1];
          v174 = (int)((char *)&unk_74F91C8 + 20 * i1);
          sub_4E3F40(a1, a2, (int)&v180[96 * i1], "%-4d %-8d  %-4d   %-4d %-4d  %-4d %-4d  %-4d %-4d   x %d");
        }
        sub_40132A(&v176, (unsigned __int16)v176);
        for ( i1 = 0; i1 < 4; ++i1 )
        {
          v173 = &dword_74F91C0[5 * (i1 + 4)];
          v172 = (int)((char *)&unk_74F91C8 + 20 * (i1 + 4));
          sub_4E3F40(a1, a2, (int)&v180[96 * i1], "%-4d %-8d  %-4d   %-4d %-4d  %-4d %-4d  %-4d %-4d   x %d");
        }
        sub_40132A(&v176, (unsigned __int16)v176);
        sub_401154(1);
      }
    }
    else
    {
      sub_4E4640(dword_74F91C0, 0, 0xA0u);
      v188 = 1969;
      LOWORD(v187) = 400;
      v189 = 2;
      v190 = 0;
      for ( i2 = 0; i2 < 8; ++i2 )
      {
        v185 = &dword_74F91C0[5 * i2];
        v184 = (int)((char *)&unk_74F91C8 + 20 * i2);
        sub_4E3F40(a1, a2, (int)&v191[96 * i2], "%-4d %-8d  %-4d   %-4d %-4d  %-4d %-4d  %-4d %-4d");
      }
      sub_40132A(&v187, (unsigned __int16)v187);
      sub_401154(1);
    }
    v6 = (void *)sub_4E4D80((int)&v255, (int)"double");
    if ( v6 )
    {
      v6 = (void *)sub_4E4D80((int)&v255, (int)"doublelev");
      if ( v6 )
      {
        v6 = (void *)sub_4E4D80((int)&v255, (int)"doublezone");
        if ( v6 )
        {
          v6 = (void *)sub_4E4D80((int)&v255, (int)"monitor");
          if ( v6 )
          {
            if ( sub_4E4D80((int)&v255, (int)"deadpoint") )
            {
              if ( sub_4E4D80((int)&v255, (int)"dungeonevent") )
              {
                v6 = (void *)sub_4E4D80((int)&v255, (int)"clearrune");
                if ( v6 )
                {
                  v6 = (void *)sub_4E4D80((int)&v255, (int)"setRuneZoneTax");
                  if ( v6 )
                  {
                    if ( sub_4E4D80((int)&v255, (int)"setchangeRuneZone") )
                    {
                      if ( sub_4E4D80((int)&v255, (int)"setncharexp") )
                      {
                        if ( sub_4E4D80((int)&v255, (int)"openserver") )
                        {
                          v6 = (void *)sub_4E4D80((int)&v255, (int)"champ");
                          if ( v6 )
                          {
                            v6 = (void *)sub_4E4D80((int)&v255, (int)"chall");
                            if ( v6 )
                            {
                              if ( sub_4E4D80((int)&v255, (int)"drop") )
                              {
                                v6 = (void *)sub_4E4D80((int)&v255, (int)"useguildmantle");
                                if ( v6 )
                                {
                                  v6 = (void *)sub_4E4D80((int)&v255, (int)"casinoticket");
                                  if ( v6 )
                                  {
                                    v6 = (void *)sub_4E4D80((int)&v255, (int)"8thskill");
                                    if ( v6 )
                                    {
                                      if ( sub_4E4D80((int)&v255, (int)"cleartelzone") )
                                      {
                                        v6 = (void *)sub_4E4D80((int)&v255, (int)"sealofsoul");
                                        if ( v6 )
                                        {
                                          v6 = (void *)sub_4E4D80((int)&v255, (int)"itemprice");
                                          if ( v6 )
                                          {
                                            if ( sub_4E4D80((int)&v255, (int)"exportmobname") )
                                            {
                                              v6 = (void *)sub_4E4D80((int)&v255, (int)"blessmoney");
                                              if ( v6 )
                                              {
                                                v6 = (void *)sub_4E4D80((int)&v255, (int)"maxlevelticket");
                                                if ( v6 )
                                                {
                                                  v6 = (void *)sub_4E4D80((int)&v255, (int)"lottoticket");
                                                  if ( v6 )
                                                  {
                                                    v6 = (void *)sub_4E4D80((int)&v255, (int)"maxlevel");
                                                    if ( v6 )
                                                    {
                                                      v6 = (void *)sub_4E4D80((int)&v255, (int)"towntax");
                                                      if ( v6 )
                                                      {
                                                        v6 = (void *)sub_4E4D80((int)&v255, (int)"randomquiz");
                                                        if ( v6 )
                                                        {
                                                          if ( sub_4E4D80((int)&v255, (int)"appversionup") )
                                                          {
                                                            if ( sub_4E4D80((int)&v255, (int)"readrandomquiz") )
                                                            {
                                                              v6 = (void *)sub_4E4D80((int)&v255, (int)"sendrandomquiz");
                                                              if ( v6 )
                                                              {
                                                                if ( sub_4E4D80((int)&v255, (int)"addcrackerror") )
                                                                {
                                                                  if ( sub_4E4D80(
                                                                         (int)&v255,
                                                                         (int)"CreateHardCharacter") )
                                                                  {
                                                                    v6 = (void *)sub_4E4D80(
                                                                                   (int)&v255,
                                                                                   (int)"setrandomquiz");
                                                                    if ( v6 )
                                                                    {
                                                                      if ( sub_4E4D80((int)&v255, (int)"newbielev") )
                                                                      {
                                                                        v6 = (void *)sub_4E4D80(
                                                                                       (int)&v255,
                                                                                       (int)"duelletterlimit");
                                                                        if ( v6 )
                                                                        {
                                                                          if ( sub_4E4D80((int)&v255, (int)"rareswitch") )
                                                                          {
                                                                            if ( sub_4E4D80(
                                                                                   (int)&v255,
                                                                                   (int)"nightmare") )
                                                                            {
                                                                              if ( sub_4E4D80((int)&v255, (int)"mute")
                                                                                && sub_4E4D80((int)&v255, (int)"block") )
                                                                              {
                                                                                v6 = (void *)sub_4E4D80(
                                                                                               (int)&v255,
                                                                                               (int)"createchar");
                                                                                if ( v6 )
                                                                                {
                                                                                  if ( sub_4E4D80(
                                                                                         (int)&v255,
                                                                                         (int)"usedmobnum") )
                                                                                  {
                                                                                    if ( sub_4E4D80(
                                                                                           (int)&v255,
                                                                                           (int)"gameroom") )
                                                                                    {
                                                                                      if ( sub_4E4D80(
                                                                                             (int)&v255,
                                                                                             (int)"reloadhellrate") )
                                                                                      {
                                                                                        if ( sub_4E4D80(
                                                                                               (int)&v255,
                                                                                               (int)"stopmileage") )
                                                                                        {
                                                                                          if ( sub_4E4D80(
                                                                                                 (int)&v255,
                                                                                                 (int)"stopquest") )
                                                                                          {
                                                                                            if ( sub_4E4D80(
                                                                                                   (int)&v255,
                                                                                                   (int)"readblockip") )
                                                                                            {
                                                                                              if ( sub_4E4D80(
                                                                                                     (int)&v255,
                                                                                                     (int)"useblockcountry") )
                                                                                              {
                                                                                                v6 = (void *)sub_4E4D80((int)&v255, (int)"setblockcountry");
                                                                                                if ( v6 )
                                                                                                {
                                                                                                  if ( sub_4E4D80((int)&v255, (int)"readpcroomip") )
                                                                                                  {
                                                                                                    if ( sub_4E4D80((int)&v255, (int)"rebuildlang") )
                                                                                                    {
                                                                                                      if ( sub_4E4D80((int)&v255, (int)"setcastledoor") )
                                                                                                      {
                                                                                                        if ( sub_4E4D80((int)&v255, (int)"leavevill") )
                                                                                                        {
                                                                                                          if ( sub_4E4D80((int)&v255, (int)"stoplevelup") )
                                                                                                          {
                                                                                                            if ( sub_4E4D80((int)&v255, (int)"stoppotal") )
                                                                                                            {
                                                                                                              if ( sub_4E4D80((int)&v255, (int)"read256questexp") )
                                                                                                              {
                                                                                                                v6 = (void *)sub_4E4D80((int)&v255, (int)"read256questcoin");
                                                                                                                if ( !v6 )
                                                                                                                {
                                                                                                                  sub_401B22();
                                                                                                                  v6 = (void *)sub_401B63(a3, "READ 256 QUEST COIN");
                                                                                                                }
                                                                                                              }
                                                                                                              else
                                                                                                              {
                                                                                                                sub_401636();
                                                                                                                v6 = (void *)sub_401B63(a3, "READ 256 QUEST EXP");
                                                                                                              }
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                              if ( HIDWORD(v247) )
                                                                                                              {
                                                                                                                dword_8C76490 = 1;
                                                                                                                v6 = (void *)sub_401B63(a3, "SET POTAL");
                                                                                                              }
                                                                                                              else
                                                                                                              {
                                                                                                                dword_8C76490 = 0;
                                                                                                                v6 = (void *)sub_401B63(a3, "STOP POTAL");
                                                                                                              }
                                                                                                            }
                                                                                                          }
                                                                                                          else
                                                                                                          {
                                                                                                            if ( HIDWORD(v247) )
                                                                                                            {
                                                                                                              dword_8C7648C = 1;
                                                                                                              v6 = (void *)sub_401B63(a3, "SET LEVEL UP");
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                              dword_8C7648C = 0;
                                                                                                              v6 = (void *)sub_401B63(a3, "STOP LEVEL UP");
                                                                                                            }
                                                                                                          }
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                          if ( HIDWORD(v247) )
                                                                                                          {
                                                                                                            dword_8C76488 = 1;
                                                                                                            v6 = (void *)sub_401B63(a3, "SET LEAVE VILLAGE");
                                                                                                          }
                                                                                                          else
                                                                                                          {
                                                                                                            dword_8C76488 = 0;
                                                                                                            v6 = (void *)sub_401B63(a3, "STOP LEAVE VILLAGE");
                                                                                                          }
                                                                                                        }
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                        if ( HIDWORD(v247) )
                                                                                                        {
                                                                                                          sub_40120D(1);
                                                                                                          v6 = (void *)sub_401B63(a3, "SET CASTLE DOOR OPEN");
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                          sub_40120D(3);
                                                                                                          v6 = (void *)sub_401B63(a3, "SET CASTLE DOOR LOCKED");
                                                                                                        }
                                                                                                      }
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                      sub_401C35("Language_wo.txt");
                                                                                                      v6 = (void *)sub_401B63(a3, "RELOAD LANGUAGE");
                                                                                                    }
                                                                                                  }
                                                                                                  else
                                                                                                  {
                                                                                                    if ( sub_401C80() )
                                                                                                      v6 = (void *)sub_401B63(a3, "READ PC ROOM IP SUCCESS");
                                                                                                    else
                                                                                                      v6 = (void *)sub_401B63(a3, "READ PC ROOM IP ERROR");
                                                                                                  }
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                  dword_5A0F14 = HIDWORD(v247);
                                                                                                }
                                                                                              }
                                                                                              else
                                                                                              {
                                                                                                v6 = (void *)HIDWORD(v247);
                                                                                                dword_8C76190 = HIDWORD(v247);
                                                                                              }
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                              if ( sub_401BF9() )
                                                                                                v6 = (void *)sub_401B63(a3, "READ BLOCK IP SUCCESS");
                                                                                              else
                                                                                                v6 = (void *)sub_401B63(a3, "READ BLOCK IP ERROR");
                                                                                            }
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                            if ( HIDWORD(v247) )
                                                                                            {
                                                                                              byte_8C76384 = 1;
                                                                                              sub_401B63(
                                                                                                a3,
                                                                                                "SET STOP QUEST");
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                              byte_8C76384 = 0;
                                                                                              sub_401B63(
                                                                                                a3,
                                                                                                "SET START QUEST");
                                                                                            }
                                                                                            v6 = (void *)sub_401154(1);
                                                                                          }
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                          if ( HIDWORD(v247) )
                                                                                          {
                                                                                            dword_5A0FA8 = 1;
                                                                                            sub_401B63(
                                                                                              a3,
                                                                                              "SET STOP  MAILEAGE SHOP");
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                            dword_5A0FA8 = 0;
                                                                                            sub_401B63(
                                                                                              a3,
                                                                                              "SET START MAILEAGE SHOP");
                                                                                          }
                                                                                          v6 = (void *)sub_401154(1);
                                                                                        }
                                                                                      }
                                                                                      else
                                                                                      {
                                                                                        sub_401A50();
                                                                                        v6 = (void *)sub_401B63(a3, "RELOAD HELL RATE");
                                                                                      }
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                      dword_752C4BC[790 * a3] = HIDWORD(v247);
                                                                                      if ( HIDWORD(v247) )
                                                                                        v6 = (void *)sub_401B63(a3, "SET GAMEROOM");
                                                                                      else
                                                                                        v6 = (void *)sub_401B63(a3, "OFF GAMEROOM");
                                                                                    }
                                                                                  }
                                                                                  else
                                                                                  {
                                                                                    v6 = (void *)sub_40142E(a3);
                                                                                  }
                                                                                }
                                                                                else
                                                                                {
                                                                                  if ( SHIDWORD(v247) < 0
                                                                                    || SHIDWORD(v247) > 1 )
                                                                                    return sub_4E46A0(
                                                                                             1,
                                                                                             (int)v6,
                                                                                             v15,
                                                                                             v13,
                                                                                             v14);
                                                                                  dword_5A0A54 = HIDWORD(v247);
                                                                                  if ( HIDWORD(v247) )
                                                                                    sub_401B63(
                                                                                      a3,
                                                                                      "ON Create Character");
                                                                                  else
                                                                                    sub_401B63(
                                                                                      a3,
                                                                                      "OFF Create Character");
                                                                                  v6 = (void *)sub_401154(1);
                                                                                }
                                                                              }
                                                                              else
                                                                              {
                                                                                v83 = sub_4010D7(v252);
                                                                                if ( !v83 )
                                                                                  v83 = HIDWORD(v247);
                                                                                if ( v83 <= 0
                                                                                  || v83 >= 1000
                                                                                  || dword_752BAF0[790 * v83] != 22 )
                                                                                {
                                                                                  v6 = (void *)sub_401B63(
                                                                                                 a3,
                                                                                                 "Can't file that user");
                                                                                  return sub_4E46A0(
                                                                                           1,
                                                                                           (int)v6,
                                                                                           v15,
                                                                                           v13,
                                                                                           v14);
                                                                                }
                                                                                v82 = v247;
                                                                                if ( (v247 & 0x80000000u) != 0i64 )
                                                                                  v82 = 5;
                                                                                if ( !sub_4E4D80(
                                                                                        (int)&v255,
                                                                                        (int)"block") )
                                                                                {
                                                                                  byte_1FDF034[1724 * v83] = 0;
                                                                                  dword_1FDEF98[431 * v83] = 60 * v82 + dword_8A58B8;
                                                                                  sub_4E3F40(
                                                                                    a1,
                                                                                    a2,
                                                                                    (int)&v81,
                                                                                    "block user target:%s minute:%d");
                                                                                  sub_401B63(a3, &v81);
                                                                                  v6 = (void *)sub_401302(v83);
                                                                                  return sub_4E46A0(
                                                                                           1,
                                                                                           (int)v6,
                                                                                           v15,
                                                                                           v13,
                                                                                           v14);
                                                                                }
                                                                                if ( v82 )
                                                                                {
                                                                                  byte_1FDF034[1724 * v83] = 1;
                                                                                  dword_1FDEF98[431 * v83] = 60 * v82 + dword_8A58B8;
                                                                                  sub_4E3F40(
                                                                                    a1,
                                                                                    a2,
                                                                                    (int)&v81,
                                                                                    "%s (%d minute)");
                                                                                  sub_401B63(v83, &v81);
                                                                                  sub_4E3F40(
                                                                                    a1,
                                                                                    a2,
                                                                                    (int)&v81,
                                                                                    "%s target:%s minute:%d");
                                                                                  v6 = (void *)sub_401B63(a3, &v81);
                                                                                }
                                                                                else
                                                                                {
                                                                                  byte_1FDF034[1724 * v83] = 0;
                                                                                  dword_1FDEF98[431 * v83] = 0;
                                                                                  sub_401B63(v83, &unk_8B18C4);
                                                                                  sub_4E3F40(
                                                                                    a1,
                                                                                    a2,
                                                                                    (int)&v81,
                                                                                    "%s target:%s");
                                                                                  v6 = (void *)sub_401B63(a3, &v81);
                                                                                }
                                                                              }
                                                                            }
                                                                            else
                                                                            {
                                                                              dword_8C76394 = HIDWORD(v247);
                                                                              if ( HIDWORD(v247) )
                                                                                sub_401B63(a3, "SET NIGHTMAR ON");
                                                                              else
                                                                                sub_401B63(a3, "SET NIGHTMAR OFF");
                                                                              v6 = (void *)sub_401154(1);
                                                                            }
                                                                          }
                                                                          else
                                                                          {
                                                                            dword_8C761E8 = HIDWORD(v247);
                                                                            if ( HIDWORD(v247) )
                                                                              sub_401B63(a3, "SET RARE SWITCH ON");
                                                                            else
                                                                              sub_401B63(a3, "SET RARE SWITCH OFF");
                                                                            v6 = (void *)sub_401154(1);
                                                                          }
                                                                        }
                                                                        else
                                                                        {
                                                                          if ( SHIDWORD(v247) < 0
                                                                            && SHIDWORD(v247) > 400
                                                                            || (v247 & 0x80000000u) != 0i64
                                                                            && (signed int)v247 > 400
                                                                            || SHIDWORD(v247) >= (signed int)v247 )
                                                                            return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                                          dword_8C75F50 = HIDWORD(v247);
                                                                          dword_5A0A64 = v247;
                                                                          sub_4E3F40(
                                                                            a1,
                                                                            a2,
                                                                            (int)&v84,
                                                                            "SET Duel letter min:%d max:%d");
                                                                          sub_401B63(a3, &v84);
                                                                          v6 = (void *)sub_401154(1);
                                                                        }
                                                                      }
                                                                      else
                                                                      {
                                                                        dword_5A0F18 = HIDWORD(v247);
                                                                        v6 = (void *)sub_401B63(
                                                                                       a3,
                                                                                       "SET Newbi Zone Level");
                                                                      }
                                                                    }
                                                                    else
                                                                    {
                                                                      if ( (v247 & 0x8000000000000000ui64) != 0i64 )
                                                                        return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                                      dword_8C75F6C = HIDWORD(v247);
                                                                      dword_8C75F70 = v247;
                                                                      sub_4E3F40(
                                                                        a1,
                                                                        a2,
                                                                        (int)&v85,
                                                                        "SET Random Quiz exp:%d coin:%d");
                                                                      sub_401B63(a3, &v85);
                                                                      v6 = (void *)sub_401154(1);
                                                                    }
                                                                  }
                                                                  else
                                                                  {
                                                                    dword_8C75F5C = HIDWORD(v247);
                                                                    if ( HIDWORD(v247) )
                                                                      sub_401B63(a3, "SET CreateHardCharacter OFF");
                                                                    else
                                                                      sub_401B63(a3, "SET CreateHardCharacter ON");
                                                                    v6 = (void *)sub_401154(1);
                                                                  }
                                                                }
                                                                else
                                                                {
                                                                  dword_8C75F54 = HIDWORD(v247);
                                                                  if ( HIDWORD(v247) )
                                                                    sub_401B63(a3, "SET AddCrackError OFF");
                                                                  else
                                                                    sub_401B63(a3, "SET AddCrackError ON");
                                                                  v6 = (void *)sub_401154(1);
                                                                }
                                                              }
                                                              else
                                                              {
                                                                if ( SHIDWORD(v247) < 0
                                                                  && SHIDWORD(v247) > dword_8C75F68 )
                                                                  return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                                sub_401668(a3, HIDWORD(v247));
                                                                sub_4E3F40(a1, a2, (int)&v86, "Random Quiz Send Quiz");
                                                                v6 = (void *)sub_401B63(a3, &v86);
                                                              }
                                                            }
                                                            else
                                                            {
                                                              sub_401307();
                                                              v6 = (void *)sub_401B63(a3, "READ RANDOM QUIZ");
                                                            }
                                                          }
                                                          else
                                                          {
                                                            ++dword_5A1344;
                                                            sub_4E3F40(a1, a2, (int)&v87, "SET SERVER VERSION : %d ");
                                                            v6 = (void *)sub_401B63(a3, &v87);
                                                          }
                                                        }
                                                        else
                                                        {
                                                          if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 2 )
                                                            return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                          dword_8C75F64 = HIDWORD(v247);
                                                          if ( HIDWORD(v247) )
                                                          {
                                                            if ( dword_8C75F64 == 1 )
                                                            {
                                                              sub_401B63(a3, "ON Random Quiz (Eevet Mode)");
                                                            }
                                                            else
                                                            {
                                                              if ( dword_8C75F64 == 2 )
                                                                sub_401B63(a3, "ON Random Quiz (Macro Limit Mode)");
                                                            }
                                                          }
                                                          else
                                                          {
                                                            sub_401B63(a3, "OFF Random Quiz");
                                                          }
                                                          v6 = (void *)sub_401154(1);
                                                        }
                                                      }
                                                      else
                                                      {
                                                        if ( SHIDWORD(v247) < 0 && SHIDWORD(v247) > 5
                                                          || (v247 & 0x80000000u) != 0i64
                                                          && (signed int)v247 > (signed int)"UlSVW}\x1B" )
                                                          return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                        v89 = (signed int)v247;
                                                        v10 = sub_4E8750((signed int)v247, 10000i64);
                                                        v11 = HIDWORD(v247);
                                                        dword_750BA68[2 * HIDWORD(v247)] = v10;
                                                        dword_750BA6C[2 * v11] = HIDWORD(v10);
                                                        sub_4E3F40(a1, a2, (int)&v88, "SET %d Town Tax  :%I64d");
                                                        sub_401B63(a3, &v88);
                                                        v6 = (void *)sub_401154(1);
                                                      }
                                                    }
                                                    else
                                                    {
                                                      if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 400 )
                                                        return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                      dword_5A0A58 = HIDWORD(v247);
                                                      sub_4E3F40(a1, a2, (int)&v90, "Set USER MAX LEVEL :%d");
                                                      sub_401B63(a3, &v90);
                                                      v6 = (void *)sub_401154(1);
                                                    }
                                                  }
                                                  else
                                                  {
                                                    if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 1 )
                                                      return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                    dword_8C75F14 = HIDWORD(v247);
                                                    if ( HIDWORD(v247) )
                                                      sub_401B63(a3, "ON Rotto");
                                                    else
                                                      sub_401B63(a3, "OFF Rotto");
                                                    v6 = (void *)sub_401154(1);
                                                  }
                                                }
                                                else
                                                {
                                                  if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 2 )
                                                    return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                  dword_8C75F1C = HIDWORD(v247);
                                                  if ( HIDWORD(v247) )
                                                    sub_401B63(a3, "ON MAX LEVEL TICKET DROP");
                                                  else
                                                    sub_401B63(a3, "OFF MAX LEVEL TICKET DROP");
                                                  v6 = (void *)sub_401154(1);
                                                }
                                              }
                                              else
                                              {
                                                if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 100 )
                                                  return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                                qword_8C761C8 = sub_4E8750(SHIDWORD(v247), (unsigned int)&unk_5F5E100);
                                                sub_4E3F40(a1, a2, (int)&v91, "Set bless money :%I64d");
                                                sub_401B63(a3, &v91);
                                                v6 = (void *)sub_401154(1);
                                              }
                                            }
                                            else
                                            {
                                              v93 = sub_4E4620(a1, a2, "mobname_report.txt", (int)"wt");
                                              for ( i3 = 0; i3 < 1024; ++i3 )
                                              {
                                                if ( !byte_8B8C00[64 * i3] )
                                                  sub_4E5440(a1, a2, v93, (int)"index:%d korean:%s local:%s\r\n", i3);
                                              }
                                              v6 = (void *)sub_4E4260(a1, a2, v93);
                                            }
                                          }
                                          else
                                          {
                                            if ( (v247 & 0x8000000000000000ui64) != 0i64
                                              || SHIDWORD(v247) > 0 && SHIDWORD(v247) < 10000
                                              || (signed int)v247 > 0 && (signed int)v247 < 10000 )
                                              return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                            dword_8C75EF8 = HIDWORD(v247);
                                            dword_8C75EFC = v247;
                                            sub_4E3F40(a1, a2, (int)&v100, "SET itemPrice %d %d");
                                            sub_401B63(a3, &v100);
                                            sub_4E4640(&v95, 0, 0x14u);
                                            LOWORD(v95) = 20;
                                            v96 = 450;
                                            v97 = 30000;
                                            v98 = dword_8C75EF8;
                                            v99 = 8 * dword_8C75EFC;
                                            for ( i4 = 0; i4 < 1000; ++i4 )
                                            {
                                              if ( dword_752BAF0[790 * i4] == 22 )
                                                sub_401203(&v95, (unsigned __int16)v95);
                                            }
                                            v6 = (void *)sub_401154(1);
                                          }
                                        }
                                        else
                                        {
                                          if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 1 )
                                            return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                          dword_8C76464 = HIDWORD(v247);
                                          if ( HIDWORD(v247) )
                                            sub_401B63(a3, "ON Seal of Soul");
                                          else
                                            sub_401B63(a3, "OFF Seal of Soul");
                                          v6 = (void *)sub_401154(1);
                                        }
                                      }
                                      else
                                      {
                                        for ( i5 = 0; i5 < 1000; ++i5 )
                                        {
                                          if ( dword_752BAF0[790 * i5] == 22 )
                                          {
                                            if ( dword_1FDF1D4[431 * i5] )
                                            {
                                              v101 = sub_401BC2(i5, 2114, 2098, 2122, 2105, 0);
                                              if ( v101 == 1 )
                                                sub_401302(i5);
                                            }
                                          }
                                        }
                                        v6 = (void *)sub_401B63(a3, "Clear teleport zone");
                                      }
                                    }
                                    else
                                    {
                                      if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 1 )
                                        return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                      dword_8C75F18 = HIDWORD(v247);
                                      if ( HIDWORD(v247) )
                                        sub_401B63(a3, "ON 8thskill");
                                      else
                                        sub_401B63(a3, "OFF 8thskill");
                                      v6 = (void *)sub_401154(1);
                                    }
                                  }
                                  else
                                  {
                                    if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 1 )
                                      return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                    dword_8C75F10 = HIDWORD(v247);
                                    if ( HIDWORD(v247) )
                                      sub_401B63(a3, "ON CASINO");
                                    else
                                      sub_401B63(a3, "OFF CASINO");
                                    v6 = (void *)sub_401154(1);
                                  }
                                }
                                else
                                {
                                  if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 1 )
                                    return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                  dword_8C75F0C = HIDWORD(v247);
                                  if ( HIDWORD(v247) )
                                    sub_401B63(a3, "ON GUILD WAR MANTLE");
                                  else
                                    sub_401B63(a3, "OFF GUILD WAR MANTLE");
                                  v6 = (void *)sub_401154(1);
                                }
                              }
                              else
                              {
                                if ( (signed int)v247 < 50 || (signed int)v247 > 300 )
                                {
                                  v6 = (void *)sub_401B63(a3, "Wrong Drop Bonus Rate");
                                  return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                }
                                if ( HIDWORD(v247) == 16 )
                                {
                                  for ( i6 = 0; i6 < 64; ++i6 )
                                  {
                                    v106 = i6;
                                    dword_597350[i6] = v247;
                                  }
                                }
                                else
                                {
                                  if ( SHIDWORD(v247) < 1 || SHIDWORD(v247) > 7 )
                                  {
                                    if ( SHIDWORD(v247) < 8 || SHIDWORD(v247) > 15 )
                                    {
                                      v6 = (void *)sub_401B63(a3, "Wrong Drop Position");
                                      return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                    }
                                    v103 = HIDWORD(v247) + 48;
                                    dword_597350[HIDWORD(v247) + 48] = v247;
                                  }
                                  else
                                  {
                                    for ( i7 = 0; i7 < 8; ++i7 )
                                    {
                                      v104 = i7 + 8 * v247 - 8;
                                      dword_597350[i7 + 8 * (signed int)v247 - 8] = v247;
                                    }
                                  }
                                }
                                sub_401B63(a3, "SET DROP BONUS");
                                v6 = (void *)sub_401154(1);
                              }
                            }
                            else
                            {
                              if ( a3 <= 0 && a3 >= 1000 )
                                return sub_4E46A0(1, (int)v6, v15, v13, v14);
                              if ( SHIDWORD(v247) >= 0 && SHIDWORD(v247) < 5 )
                              {
                                dword_594DD4[21 * HIDWORD(v247)] = v247;
                                sub_4E3F40(a1, a2, (int)&v108, "Set Challanger Guild - Zone:%d Guild %d");
                                sub_401B63(a3, &v108);
                                v6 = (void *)sub_401BA4();
                              }
                            }
                          }
                          else
                          {
                            if ( a3 <= 0 && a3 >= 1000 )
                              return sub_4E46A0(1, (int)v6, v15, v13, v14);
                            if ( SHIDWORD(v247) >= 0 && SHIDWORD(v247) < 5 )
                            {
                              dword_594DD0[21 * HIDWORD(v247)] = v247;
                              sub_4E3F40(a1, a2, (int)&v109, "Set Champion Guild - Zone:%d Guild %d");
                              sub_401B63(a3, &v109);
                              sub_401BA4();
                            }
                            v6 = (void *)sub_401B86();
                          }
                        }
                        else
                        {
                          if ( dword_8C761BC )
                          {
                            dword_8C761BC = 0;
                            v6 = (void *)sub_401B63(a3, "SET CLOSE SERVER");
                          }
                          else
                          {
                            dword_8C761BC = 1;
                            v6 = (void *)sub_401B63(a3, "SET OPEN  SERVER");
                          }
                        }
                      }
                      else
                      {
                        dword_8C761B4 = HIDWORD(v247);
                        sub_4E3F40(a1, a2, (int)&v110, "Set NCharExp %d");
                        sub_401B63(a3, &v110);
                        v6 = (void *)sub_401154(1);
                      }
                    }
                    else
                    {
                      dword_8C76170 = HIDWORD(v247);
                      sub_4E3F40(a1, a2, (int)&v111, "Set Change Rune Zone %d");
                      sub_401B63(a3, &v111);
                      v6 = (void *)sub_401154(1);
                    }
                  }
                  else
                  {
                    if ( SHIDWORD(v247) < 0
                      && SHIDWORD(v247) > (signed int)"UlSVW}\x1B" )
                      return sub_4E46A0(1, (int)v6, v15, v13, v14);
                    v113 = SHIDWORD(v247);
                    qword_8C76168 = sub_4E8750(SHIDWORD(v247), 10000i64);
                    sub_4E3F40(a1, a2, (int)&v112, "SET Town Tax  :%I64d");
                    v6 = (void *)sub_401B63(a3, &v112);
                  }
                }
                else
                {
                  dword_5A0A6C = 1;
                  for ( i8 = 0; i8 < 21; ++i8 )
                  {
                    dword_5A0B18[4 * i8] = 0;
                    dword_5A0B1C[4 * i8] = 0;
                    v6 = (void *)(i8 + 1);
                  }
                }
              }
              else
              {
                dword_5A1000 = HIDWORD(v247);
                if ( HIDWORD(v247) )
                  sub_401B63(a3, "SET DUNGEON EVENT ON");
                else
                  sub_401B63(a3, "SET DUNGEON EVENT OFF");
                v6 = (void *)sub_401154(1);
              }
            }
            else
            {
              dword_5A1040 = HIDWORD(v247);
              if ( HIDWORD(v247) )
                sub_401B63(a3, "SET DEADPOINT 1");
              else
                sub_401B63(a3, "SET DEADPOINT 0");
              v6 = (void *)sub_401154(1);
            }
          }
          else
          {
            if ( (v247 & 0x80000000u) != 0i64 || (signed int)v247 > 1 )
              return sub_4E46A0(1, (int)v6, v15, v13, v14);
            dword_8C761A0 = HIDWORD(v247);
            if ( HIDWORD(v247) )
              v6 = (void *)sub_401B63(a3, "SET MonitorMode");
            else
              v6 = (void *)sub_401B63(a3, "OFF MonitorMode");
          }
        }
        else
        {
          if ( (v247 & 0x80000000u) != 0i64 || (signed int)v247 > 1 )
            return sub_4E46A0(1, (int)v6, v15, v13, v14);
          dword_8C764A0 = HIDWORD(v247);
          if ( HIDWORD(v247) )
            sub_401B63(a3, "SET DOUBLE ZONE");
          else
            sub_401B63(a3, "OFF DOUBLE ZONE");
          v6 = (void *)sub_401154(1);
        }
      }
      else
      {
        if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 2 )
          return sub_4E46A0(1, (int)v6, v15, v13, v14);
        dword_8C761AC = HIDWORD(v247);
        sub_4E3F40(a1, a2, (int)&v115, "Set DOUBLE LEVEL %d");
        v6 = (void *)sub_401B63(a3, &v115);
      }
    }
    else
    {
      if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 200 )
        return sub_4E46A0(1, (int)v6, v15, v13, v14);
      if ( HIDWORD(v247) == 1 )
        HIDWORD(v247) = 100;
      dword_8C762C0 = HIDWORD(v247);
      sub_401B63(a3, "SET DOUBLEMODE");
      v6 = (void *)sub_401154(1);
    }
  }
  if ( a4 >= 1 )
  {
    v6 = (void *)sub_4E4D80((int)&v255, (int)"weather");
    if ( !v6 )
    {
      dword_5A107C[0] = HIDWORD(v247);
      v6 = (void *)sub_401B63(a3, "set weather");
    }
  }
  if ( a4 >= 0 )
  {
    v6 = (void *)sub_4E4D80((int)&v255, (int)"encode");
    if ( v6 )
    {
      if ( sub_4E4D80((int)&v255, (int)"readlotto") )
      {
        v6 = (void *)sub_4E4D80((int)&v255, (int)"stopmatch");
        if ( v6 )
        {
          v6 = (void *)sub_4E4D80((int)&v255, (int)"matchscore");
          if ( v6 )
          {
            if ( sub_4E4D80((int)&v255, (int)"readtotogame") )
            {
              if ( sub_4E4D80((int)&v255, (int)"stopranking") )
              {
                if ( sub_4E4D80((int)&v255, (int)"clearranking") )
                {
                  if ( sub_4E4D80((int)&v255, (int)"save") || !a3 )
                  {
                    if ( sub_4E4D80((int)&v255, (int)"billmode") )
                    {
                      v6 = (void *)sub_4E4D80((int)&v255, (int)"crypt");
                      if ( v6 )
                      {
                        if ( sub_4E4D80((int)&v255, (int)"readquiz") )
                        {
                          if ( !sub_4E4D80((int)&v255, (int)"billdisconnect") )
                          {
                            if ( !dword_34EA500 )
                            {
                              v6 = (void *)sub_401B63(a3, "not connected");
                              return sub_4E46A0(1, (int)v6, v15, v13, v14);
                            }
                            sub_4E4640(&v48, 0, 0xC4u);
                            sub_40112C(&v48, 4u);
                            dword_5A103C = 0;
                            sub_401410(&dword_34EA500);
                            sub_401B63(a3, "set disconnect billing");
                            sub_401154(1);
                          }
                        }
                        else
                        {
                          sub_401B4A();
                        }
                      }
                      else
                      {
                        if ( !v247 && !v246 )
                          return sub_4E46A0(1, (int)v6, v15, v13, v14);
                        dword_8C76280 = HIDWORD(v247);
                        dword_8C76284 = v247;
                        dword_8C76288 = v246;
                        for ( i9 = 0; i9 < 1000; ++i9 )
                          dword_752C568[790 * i9] = 0;
                        sub_4E3F40(a1, a2, (int)&v50, "SET CRYPT - %d %d %d");
                        sub_401B63(a3, &v50);
                      }
                    }
                    else
                    {
                      if ( (HIDWORD(v247) == 2 || HIDWORD(v247) == 3) && !dword_34EA500 )
                      {
                        v6 = (void *)sub_401B63(a3, "not connected to billing server.+billconnect first");
                        return sub_4E46A0(1, (int)v6, v15, v13, v14);
                      }
                      dword_5A103C = HIDWORD(v247);
                      sub_401B63(a3, "set billing");
                      sub_401154(1);
                    }
                  }
                  else
                  {
                    sub_4E4720((int)&v52);
                    sub_4016EF(a3);
                    sub_4E4730((int)&v52, (int)v252);
                    v51 = sub_4E8220(a1, a2, &v52, -32510, 384);
                    if ( v51 == -1 )
                    {
                      v6 = (void *)sub_401B63(a3, "fail - save file");
                      return sub_4E46A0(1, (int)v6, v15, v13, v14);
                    }
                    sub_4E7F70(v51, (signed int)&byte_1FDECA0[1724 * a3], 0x2F4u);
                    sub_4E7E80(v51);
                    sub_4E3F40(a1, a2, (int)&v52, "npc: %s saved");
                    sub_401B63(a3, &v52);
                  }
                }
                else
                {
                  sub_401B63(a3, "clear Ranking");
                  sub_401BF4();
                }
              }
              else
              {
                dword_8C761B8 = HIDWORD(v247);
                if ( HIDWORD(v247) )
                  sub_401B63(a3, "Stop Ranking");
                else
                  sub_401B63(a3, "ON   Ranking");
              }
            }
            else
            {
              sub_4018F7(".\\TOTOGame.csv");
              sub_4E4640(dword_5A3130, 0, 0x8C0u);
              sub_401C8F();
              sub_4E3F40(a1, a2, (int)&v53, "READ TOTO GAME");
              sub_401B63(a3, &v53);
            }
          }
          else
          {
            if ( SHIDWORD(v247) < 0
              || SHIDWORD(v247) > 80
              || (v247 & 0x80000000u) != 0i64
              || (signed int)v247 > 120
              || v246 < 0
              || v246 > 120 )
              return sub_4E46A0(1, (int)v6, v15, v13, v14);
            dword_5A3130[7 * HIDWORD(v247)] = HIDWORD(v247);
            dword_5A3134[7 * HIDWORD(v247)] = v247;
            dword_5A3138[7 * HIDWORD(v247)] = v246;
            v55 = Rand()() % 100;
            if ( v55 >= 15 )
            {
              if ( v55 < 15 || v55 >= 70 )
              {
                if ( v55 < 70 || v55 >= 85 )
                {
                  if ( v55 < 85 || v55 >= 93 )
                  {
                    if ( v55 < 93 || v55 >= 97 )
                    {
                      if ( v55 < 97 || v55 >= 99 )
                      {
                        if ( v55 == 99 )
                          v55 = 7;
                      }
                      else
                      {
                        v55 = 6;
                      }
                    }
                    else
                    {
                      v55 = 5;
                    }
                  }
                  else
                  {
                    v55 = 4;
                  }
                }
                else
                {
                  v55 = 3;
                }
              }
              else
              {
                v55 = 2;
              }
            }
            else
            {
              v55 = 1;
            }
            dword_5A3148[7 * HIDWORD(v247)] = v55;
            sub_4E3F40(a1, a2, (int)&v54, "MATCH SCORE: %d %d-%d(%d)");
            sub_401B63(a3, &v54);
          }
        }
        else
        {
          if ( SHIDWORD(v247) < -2 || SHIDWORD(v247) > 80 )
            return sub_4E46A0(1, (int)v6, v15, v13, v14);
          dword_5A0A68 = HIDWORD(v247);
          sub_4E3F40(a1, a2, (int)&v56, "STOP SELL TOTO TICKET %d");
          sub_401B63(a3, &v56);
        }
      }
      else
      {
        v57 = sub_4010F5();
        if ( v57 )
          sub_401B63(a3, "readlotto succeed");
        else
          sub_401B63(a3, "readlotto failed");
      }
    }
    else
    {
      if ( SHIDWORD(v247) < 0 || SHIDWORD(v247) > 3 )
        return sub_4E46A0(1, (int)v6, v15, v13, v14);
      v72 = 4028;
      v71 = 180;
      v73 = 0;
      for ( i10 = 0; i10 < 42; ++i10 )
      {
        v69 = Rand()();
        v68 = Rand()();
        v74[i10] = v68 + (v69 << 16);
      }
      v67 = v247;
      v66 = v246;
      v65 = HIDWORD(v247);
      v64 = 0;
      if ( HIDWORD(v247) == 3 )
      {
        v65 = (3 * (signed int)v247 / 7 + 7 * v246 / 3 + 220) % 3;
        v79 = v247;
        v80 = v246;
        v64 = 1;
      }
      if ( v65 )
      {
        if ( v65 == 1 )
        {
          v72 = 5053;
          v75 = v247;
          v78 = v246;
          v62 = ((signed int)v247 + v246 * (signed int)v247) % 400;
          dword_BAF180 = dword_597F28[((signed int)v247 + v246 * (signed int)v247) % 400] ^ 0xFFFF;
        }
        else
        {
          if ( v65 == 2 )
          {
            v72 = 1982;
            v77 = v247;
            v61 = (signed int)v247 % 30;
            v74[(signed int)v247 % 30] = v246;
            v60 = (signed int)v247 % 4;
            v59 = v246 % 5;
            dword_BAF180 = *(&dword_595500[5 * (signed int)v247 % 4] + v246 % 5);
          }
        }
      }
      else
      {
        v72 = 4028;
        v63 = (signed int)v247 % 40;
        v76 = ~((signed int)v247 % 40);
        if ( (signed int)v247 % 40 == 23 )
          v63 = 22;
        v74[v63] = v246;
        dword_BAF180 = v246;
      }
      if ( v64 )
        v72 = 3007;
      memcpy(&word_54EB3E0, &v71, 0xB4u);
      a2 = (int)&v81;
      v5 = (int)(&word_54EB3E0 + 90);
      for ( i10 = 0; i10 < 1000; ++i10 )
      {
        if ( dword_752BAF0[790 * i10] )
          sub_40132A(&word_54EB3E0, (unsigned __int16)word_54EB3E0);
      }
      dword_BAF184 = HIDWORD(v247);
      sub_4E3F40(a1, (int)&v81, (int)&v58, "ENCODE type:%d  value:%d");
      sub_401B63(a3, &v58);
      sub_401154(1);
    }
    if ( sub_4E4D80((int)&v255, (int)"billconnect") )
    {
      if ( sub_4E4D80((int)&v255, (int)"warhour") )
      {
        if ( sub_4E4D80((int)&v255, (int)"quizmode") )
        {
          if ( sub_4E4D80((int)&v255, (int)"quizdoor") )
          {
            if ( sub_4E4D80((int)&v255, (int)"quizresultx") )
            {
              if ( sub_4E4D80((int)&v255, (int)"quizresulto") )
              {
                if ( sub_4E4D80((int)&v255, (int)"notice") )
                {
                  if ( sub_4E4D80((int)&v255, (int)"mission") )
                  {
                    if ( sub_4E4D80((int)&v255, (int)"chiefnotice") )
                    {
                      if ( sub_4E4D80((int)&v255, (int)"chiefsummon") || a3 <= 0 || a3 >= 1000 )
                      {
                        if ( sub_4E4D80((int)&v255, (int)"rebuild") )
                        {
                          v6 = (void *)sub_4E4D80((int)&v255, (int)"snoop");
                          if ( v6 )
                          {
                            if ( sub_4E4D80((int)&v255, (int)"event") )
                            {
                              v6 = (void *)sub_4E4D80((int)&v255, (int)"teleport");
                              if ( v6 )
                              {
                                if ( sub_4E4D80((int)&v255, (int)"kick") )
                                {
                                  if ( sub_4E4D80((int)&v255, (int)"config") )
                                  {
                                    v6 = (void *)sub_4E4D80((int)&v255, (int)"setmobhp");
                                    if ( v6 )
                                    {
                                      if ( sub_4E4D80((int)&v255, (int)"eventdoor") )
                                      {
                                        if ( sub_4E4D80((int)&v255, (int)"eventdoor2") )
                                        {
                                          if ( sub_4E4D80((int)&v255, (int)"stopgoldcoin") )
                                          {
                                            if ( sub_4E4D80((int)&v255, (int)"localserver") )
                                            {
                                              if ( sub_4E4D80((int)&v255, (int)"panelserver") )
                                              {
                                                if ( sub_4E4D80((int)&v255, (int)"nonepk") )
                                                {
                                                  if ( sub_4E4D80((int)&v255, (int)"pkdrop") )
                                                  {
                                                    if ( sub_4E4D80((int)&v255, (int)"setgambleserver") )
                                                    {
                                                      if ( sub_4E4D80((int)&v255, (int)"gamble") )
                                                      {
                                                        if ( sub_4E4D80((int)&v255, (int)"kheprafield") )
                                                        {
                                                          if ( sub_4E4D80((int)&v255, (int)"kheprastart") )
                                                          {
                                                            if ( sub_4E4D80((int)&v255, (int)"readkhepraitem") )
                                                            {
                                                              v6 = (void *)sub_4E4D80((int)&v255, (int)"showdropitem");
                                                              if ( v6 )
                                                              {
                                                                if ( sub_4E4D80((int)&v255, (int)"setcastleserver") )
                                                                {
                                                                  v6 = (void *)sub_4E4D80((int)&v255, (int)"color");
                                                                  if ( v6 )
                                                                  {
                                                                    if ( sub_4E4D80((int)&v255, (int)"bossgate") )
                                                                    {
                                                                      if ( sub_4E4D80((int)&v255, (int)"height") )
                                                                      {
                                                                        if ( sub_4E4D80((int)&v255, (int)"setheight") )
                                                                        {
                                                                          v6 = (void *)sub_4E4D80(
                                                                                         (int)&v255,
                                                                                         (int)"pkgate");
                                                                          if ( !v6 )
                                                                          {
                                                                            v24 = 97;
                                                                            v23 = 0;
                                                                            if ( HIDWORD(v247) )
                                                                              sub_401A14(v24, 3, &v23);
                                                                            else
                                                                              sub_401A14(v24, 1, &v23);
                                                                            v19 = 30000;
                                                                            v18 = 884;
                                                                            v20 = v24 + 15000;
                                                                            v17 = 20;
                                                                            v22 = v23;
                                                                            v21 = LOWORD(dword_88636B0[13 * v24]);
                                                                            v6 = (void *)sub_4014FB(
                                                                                           dword_88636A4[13 * v24],
                                                                                           dword_88636A8[13 * v24],
                                                                                           &v17,
                                                                                           0);
                                                                          }
                                                                        }
                                                                        else
                                                                        {
                                                                          v26 = dword_1FDF1F4[431 * a3];
                                                                          v6 = (void *)dword_1FDF1F8[431 * a3];
                                                                          v25 = dword_1FDF1F8[431 * a3];
                                                                          if ( SHIDWORD(v247) <= 127 )
                                                                          {
                                                                            *(&byte_782F298[4096 * v25] + v26) = BYTE4(v247);
                                                                            sub_4E3F40(
                                                                              a1,
                                                                              a2,
                                                                              (int)&v27,
                                                                              "set height x:%d y:%d height:%d");
                                                                            v6 = (void *)sub_401B63(a3, &v27);
                                                                          }
                                                                        }
                                                                      }
                                                                      else
                                                                      {
                                                                        v30 = dword_1FDF1F4[431 * a3];
                                                                        v29 = dword_1FDF1F8[431 * a3];
                                                                        v28 = 0;
                                                                        if ( v30 > 0
                                                                          && v30 < 4096
                                                                          && v29 > 0
                                                                          && v29 < 4096 )
                                                                          v28 = *(&byte_782F298[4096 * v29] + v30);
                                                                        sub_4E3F40(
                                                                          a1,
                                                                          a2,
                                                                          (int)&v31,
                                                                          "x:%d y:%d height:%d");
                                                                        v6 = (void *)sub_401B63(a3, &v31);
                                                                      }
                                                                    }
                                                                    else
                                                                    {
                                                                      if ( HIDWORD(v247) )
                                                                        v6 = (void *)sub_401929(3);
                                                                      else
                                                                        v6 = (void *)sub_401929(1);
                                                                    }
                                                                  }
                                                                  else
                                                                  {
                                                                    if ( SHIDWORD(v247) > 0 && SHIDWORD(v247) < 16 )
                                                                    {
                                                                      sub_4016BD(
                                                                        &word_1FDECF4[862 * a3] + 4 * HIDWORD(v247),
                                                                        v247);
                                                                      v6 = (void *)sub_401AC3(a3, 0);
                                                                    }
                                                                  }
                                                                }
                                                                else
                                                                {
                                                                  dword_8C76214 = HIDWORD(v247);
                                                                  if ( HIDWORD(v247) )
                                                                    v6 = (void *)sub_401B63(a3, "Set Castle Server");
                                                                  else
                                                                    v6 = (void *)sub_401B63(a3, "Set Normal Server");
                                                                }
                                                              }
                                                              else
                                                              {
                                                                if ( SHIDWORD(v247) >= 0 && SHIDWORD(v247) <= 7 )
                                                                {
                                                                  sub_4E3F40(
                                                                    a1,
                                                                    a2,
                                                                    (int)&v237,
                                                                    "%d BUFFER DROP ITEM : %d");
                                                                  v6 = (void *)sub_401B63(a3, &v237);
                                                                }
                                                              }
                                                            }
                                                            else
                                                            {
                                                              sub_401190();
                                                              v6 = (void *)sub_401B63(a3, "SET KHEPRA DROP ITEM");
                                                            }
                                                          }
                                                          else
                                                          {
                                                            sub_40118B();
                                                            v6 = (void *)sub_401B63(a3, "KHEPRA ZONE START");
                                                          }
                                                        }
                                                        else
                                                        {
                                                          dword_8C76494 = HIDWORD(v247);
                                                          if ( HIDWORD(v247) )
                                                            sub_401B63(a3, "KHEPRA FIELD OPEN");
                                                          else
                                                            sub_401B63(a3, "KHEPRA FIELD CLOSE");
                                                          v6 = (void *)sub_401154(1);
                                                        }
                                                      }
                                                      else
                                                      {
                                                        if ( HIDWORD(v247) == 1 )
                                                          dword_54EB494 = v247;
                                                        sub_4E3F40(a1, a2, (int)&v32, "Jackpot:%u,Coin:%u");
                                                        v6 = (void *)sub_401B63(a3, &v32);
                                                      }
                                                    }
                                                    else
                                                    {
                                                      dword_5A11E4 = HIDWORD(v247);
                                                      if ( HIDWORD(v247) )
                                                        sub_401B63(a3, "GAMBLE SERVER ON");
                                                      else
                                                        sub_401B63(a3, "GAMBLE SERVER OFF");
                                                      v6 = (void *)sub_401154(1);
                                                    }
                                                  }
                                                  else
                                                  {
                                                    dword_5A11E8 = HIDWORD(v247);
                                                    if ( HIDWORD(v247) )
                                                      v6 = (void *)sub_401B63(a3, "SET PK DROP ON");
                                                    else
                                                      v6 = (void *)sub_401B63(a3, "SET PK DROP OFF");
                                                  }
                                                }
                                                else
                                                {
                                                  dword_AACD54 = HIDWORD(v247);
                                                  if ( HIDWORD(v247) )
                                                  {
                                                    dword_5A11E4 = 0;
                                                    sub_401B63(a3, "SET NONE PK SERVER");
                                                  }
                                                  else
                                                  {
                                                    dword_5A11E4 = 1;
                                                    sub_401B63(a3, "SET PK SERVER");
                                                  }
                                                  v6 = (void *)sub_401154(1);
                                                }
                                              }
                                              else
                                              {
                                                dword_8C7638C = HIDWORD(v247);
                                                v6 = (void *)sub_401B63(a3, "PANEL SERVER");
                                              }
                                            }
                                            else
                                            {
                                              v6 = (void *)sub_4E4D80((int)&byte_54F20E0, (int)"122.168.0.5");
                                              if ( !v6 )
                                                dword_8C762D4 = HIDWORD(v247);
                                            }
                                          }
                                          else
                                          {
                                            dword_8C76390 = HIDWORD(v247);
                                            if ( HIDWORD(v247) )
                                              v6 = (void *)sub_401B63(a3, "STOP GOLD COIN");
                                            else
                                              v6 = (void *)sub_401B63(a3, "START GOLD COIN");
                                          }
                                        }
                                        else
                                        {
                                          if ( HIDWORD(v247) )
                                          {
                                            sub_401B5E(3);
                                            if ( (_DWORD)v247 )
                                              sub_401A46(v247);
                                          }
                                          else
                                          {
                                            sub_401B5E(1);
                                          }
                                          v6 = (void *)sub_401B63(a3, "EVENTDOOR");
                                        }
                                      }
                                      else
                                      {
                                        if ( HIDWORD(v247) )
                                        {
                                          sub_4015F5(3);
                                          if ( (_DWORD)v247 )
                                            sub_401A46(v247);
                                          for ( i11 = 1; i11 < 1000; ++i11 )
                                          {
                                            if ( dword_752BAF0[790 * i11] == 22
                                              && dword_1FDF1D4[431 * i11]
                                              && word_1FDECC4[862 * i11] < 1000 )
                                              sub_4013CF(i11, 0);
                                          }
                                        }
                                        else
                                        {
                                          sub_4015F5(1);
                                        }
                                        v6 = (void *)sub_401B63(a3, "EVENTDOOR");
                                      }
                                    }
                                    else
                                    {
                                      if ( (v247 & 0x80000000u) == 0i64 )
                                      {
                                        if ( SHIDWORD(v247) >= 1000 )
                                        {
                                          if ( SHIDWORD(v247) < 12800 )
                                          {
                                            v6 = (void *)(1724 * HIDWORD(v247));
                                            if ( dword_1FDF1D4[431 * HIDWORD(v247)] )
                                            {
                                              if ( (signed int)v247 <= 32000 && (v247 & 0x80000000u) == 0i64 )
                                              {
                                                word_1FDECEC[862 * HIDWORD(v247)] = v247;
                                                v36 = word_1FDED64[862 * HIDWORD(v247)];
                                                if ( v36 == 786 || v36 == 1936 || v36 == 1937 )
                                                {
                                                  v35 = sub_4014E2(&word_1FDED64[862 * HIDWORD(v247)]);
                                                  if ( v35 < 2 )
                                                    v35 = 2;
                                                  if ( v36 == 1936 )
                                                    v35 *= 10;
                                                  if ( v36 == 1937 )
                                                    v35 *= 1000;
                                                  v34 = (unsigned __int16)word_1FDECEC[862 * HIDWORD(v247)] * v35;
                                                  if ( (unsigned int)v34 > 0x77359400 )
                                                    v34 = 2000000000;
                                                  dword_1FDF2E8[431 * HIDWORD(v247)] = v34;
                                                }
                                                sub_4018B1(HIDWORD(v247));
                                                v6 = (void *)sub_401B63(a3, "SET MOB HP");
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                  else
                                  {
                                    v40 = 0;
                                    v40 = sub_4E4620(a1, a2, "gameconfig.txt", (int)"rt");
                                    if ( v40 )
                                    {
                                      for ( i12 = 0; i12 < 44; ++i12 )
                                      {
                                        v37 = sub_4E4400(a1, a2, (int)&v39, 255, v40);
                                        if ( !v37 )
                                        {
                                          v6 = (void *)sub_4E4260(a1, a2, v40);
                                          return sub_4E46A0(1, (int)v6, v15, v13, v14);
                                        }
                                        if ( !sub_4E7950((int)&v39, (int)"Rare", 4) )
                                          break;
                                        sub_401B63(a3, &v39);
                                      }
                                      v6 = (void *)sub_4E4260(a1, a2, v40);
                                    }
                                    else
                                    {
                                      v6 = (void *)sub_401B63(a3, "can't find gameconfig.txt");
                                    }
                                  }
                                }
                                else
                                {
                                  v6 = (void *)v252[0];
                                  if ( v252[0] )
                                  {
                                    v254 = 0;
                                    v253 = 0;
                                    v41 = sub_4010D7(v252);
                                    if ( v41 )
                                    {
                                      v6 = (void *)(3160 * v41);
                                      if ( dword_752BAF0[790 * v41] == 22 )
                                      {
                                        if ( word_1FDECE0[862 * v41] < word_1FDECE0[862 * a3] )
                                          v6 = (void *)sub_401302(v41);
                                        else
                                          v6 = (void *)sub_401B63(a3, "Can't kick equal or high level admin");
                                      }
                                    }
                                    else
                                    {
                                      v6 = (void *)sub_401B63(a3, "Can't find user.");
                                    }
                                  }
                                }
                              }
                              else
                              {
                                if ( SHIDWORD(v247) < 100 )
                                {
                                  v6 = (void *)((HIDWORD(v247) << 7) + 64);
                                  HIDWORD(v247) = (HIDWORD(v247) << 7) + 64;
                                }
                                if ( (signed int)v247 < 100 )
                                  LODWORD(v247) = ((_DWORD)v247 << 7) + 64;
                                if ( SHIDWORD(v247) >= 0
                                  && SHIDWORD(v247) < 4096
                                  && (v247 & 0x80000000u) == 0i64
                                  && (signed int)v247 < 4096 )
                                  v6 = (void *)sub_401A19(a3, HIDWORD(v247), v247, 0);
                              }
                            }
                            else
                            {
                              sub_4E3F40(a1, a2, (int)&v42, "item:%d index:%d-%d(%d) rate:1/%d [I:%d D:%d O:%d] %d");
                              v6 = (void *)sub_401B63(a3, &v42);
                            }
                          }
                          else
                          {
                            if ( a3 > 0 || a3 < 1000 )
                            {
                              if ( byte_1FDECB1[1724 * a3] & 1 )
                              {
                                byte_1FDECB1[1724 * a3] &= 0xFEu;
                                sub_401B63(a3, "SNOOP OFF");
                              }
                              else
                              {
                                byte_1FDECB1[1724 * a3] |= 1u;
                                sub_401B63(a3, "SNOOP ON");
                              }
                              sub_4016EF(a3);
                              v6 = (void *)sub_4018B1(a3);
                            }
                          }
                        }
                        else
                        {
                          sub_40157D();
                          v6 = (void *)sub_401B63(a3, "REBUILDGENERATOR");
                        }
                      }
                      else
                      {
                        sub_401262();
                        v6 = (void *)sub_401B63(a3, "CHIEFSUMMON");
                      }
                    }
                    else
                    {
                      sub_4E4810(&v43, (const void *)(a5 + 12), 0x60u);
                      sub_401258(&v43);
                      v6 = (void *)sub_401B63(a3, "CHIEFNOTICE");
                    }
                  }
                  else
                  {
                    v6 = (void *)sub_401CA8();
                    dword_BD6A4C = 1;
                  }
                }
                else
                {
                  sub_4E4810(&v44, (const void *)(a5 + 7), 0x60u);
                  v6 = (void *)sub_401479(&v44);
                }
              }
              else
              {
                v6 = (void *)sub_401910(1340, 1481, 1387, 1518, 1341, 1465);
              }
            }
            else
            {
              v6 = (void *)sub_401910(1296, 1481, 1343, 1518, 1341, 1465);
            }
          }
          else
          {
            sub_4019E7(HIDWORD(v247));
            v6 = (void *)sub_401B63(a3, "QUIZDOOR");
          }
        }
        else
        {
          dword_8C7630C = HIDWORD(v247);
          if ( HIDWORD(v247) )
            v6 = (void *)sub_401B63(a3, "QUIZMODE ON");
          else
            v6 = (void *)sub_401B63(a3, "QUIZMODE OFF");
        }
      }
      else
      {
        dword_5A10E8 = HIDWORD(v247);
        v6 = (void *)sub_401B63(a3, "set War hour");
      }
    }
    else
    {
      if ( dword_34EA500 )
      {
        v6 = (void *)sub_401B63(a3, "already connected");
      }
      else
      {
        v47 = sub_4E4620(a1, a2, "biserver.txt", (int)"rt");
        if ( v47 )
        {
          sub_4E7990(a1, v5, a2, v47, "%s %d", (unsigned int)&unk_BDE9A0);
          sub_4E4260(a1, a2, v47);
          v46 = &byte_8C76358;
          v45 = sub_4012B2((char *)&unk_BDE9A0, dword_54F20D8, *(_DWORD *)&byte_8C76358, 0x404u);
          if ( v45 )
          {
            dword_5A103C = 3;
            sub_401B63(a3, "set connect billing");
            v6 = (void *)sub_401154(1);
          }
          else
          {
            v6 = (void *)sub_401B63(a3, "set connect fails");
          }
        }
        else
        {
          v6 = (void *)sub_401B63(a3, "no biserver.txt");
        }
      }
    }
  }
  return sub_4E46A0(1, (int)v6, v15, v13, v14);
}
// 40104B: using guessed type int __thiscall sub_40104B(_DWORD);
// 4010D7: using guessed type _DWORD __cdecl sub_4010D7(_DWORD);
// 4010E6: using guessed type int sub_4010E6(void);
// 4010F5: using guessed type int sub_4010F5(void);
// 401109: using guessed type _DWORD __cdecl sub_401109(_DWORD, _DWORD, _DWORD);
// 40112C: using guessed type _DWORD __cdecl sub_40112C(_DWORD, u_long hostlong);
// 40114A: using guessed type int sub_40114A(void);
// 401154: using guessed type _DWORD __cdecl sub_401154(_DWORD);
// 40118B: using guessed type int sub_40118B(void);
// 401190: using guessed type int sub_401190(void);
// 4011FE: using guessed type int sub_4011FE(void);
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 40120D: using guessed type _DWORD __cdecl sub_40120D(_DWORD);
// 401258: using guessed type _DWORD __cdecl sub_401258(_DWORD);
// 401262: using guessed type int sub_401262(void);
// 4012B2: using guessed type _DWORD __stdcall sub_4012B2(char *cp, u_short hostshort, _DWORD, u_int wMsg);
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 4012F8: using guessed type int sub_4012F8(void);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 401307: using guessed type int sub_401307(void);
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 401348: using guessed type _DWORD __cdecl sub_401348(_DWORD);
// 4013CF: using guessed type _DWORD __cdecl sub_4013CF(_DWORD, _DWORD);
// 401410: using guessed type int __thiscall sub_401410(_DWORD);
// 40142E: using guessed type _DWORD __cdecl sub_40142E(_DWORD);
// 401479: using guessed type _DWORD __cdecl sub_401479(_DWORD);
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401514: using guessed type _DWORD __cdecl sub_401514(_DWORD);
// 40157D: using guessed type int sub_40157D(void);
// 4015CD: using guessed type _DWORD __cdecl sub_4015CD(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4015F5: using guessed type _DWORD __cdecl sub_4015F5(_DWORD);
// 40161D: using guessed type int sub_40161D(void);
// 401636: using guessed type int sub_401636(void);
// 40164A: using guessed type int __thiscall sub_40164A(_DWORD);
// 401668: using guessed type _DWORD __cdecl sub_401668(_DWORD, _DWORD);
// 4016AE: using guessed type _DWORD __cdecl sub_4016AE(_DWORD, _DWORD, char);
// 4016BD: using guessed type _DWORD __cdecl sub_4016BD(_DWORD, _DWORD);
// 4016EA: using guessed type _DWORD __cdecl sub_4016EA(_DWORD, _DWORD, _DWORD, _DWORD, char, _DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 401721: using guessed type int sub_401721(void);
// 40177B: using guessed type _DWORD __cdecl sub_40177B(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4017F8: using guessed type int sub_4017F8(void);
// 40186B: using guessed type _DWORD __cdecl sub_40186B(_DWORD);
// 401889: using guessed type int sub_401889(void);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 4018B6: using guessed type _DWORD __cdecl sub_4018B6(_DWORD);
// 4018D9: using guessed type _DWORD __cdecl sub_4018D9(_DWORD);
// 4018F7: using guessed type _DWORD __cdecl sub_4018F7(_DWORD);
// 401910: using guessed type _DWORD __cdecl sub_401910(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401929: using guessed type _DWORD __cdecl sub_401929(_DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401988: using guessed type int sub_401988(void);
// 4019CE: using guessed type _DWORD __cdecl sub_4019CE(_DWORD, _DWORD, _DWORD);
// 4019D3: using guessed type int sub_4019D3(void);
// 4019E7: using guessed type _DWORD __cdecl sub_4019E7(_DWORD);
// 401A14: using guessed type _DWORD __cdecl sub_401A14(_DWORD, _DWORD, _DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 401A46: using guessed type _DWORD __cdecl sub_401A46(_DWORD);
// 401A50: using guessed type int sub_401A50(void);
// 401AC3: using guessed type _DWORD __cdecl sub_401AC3(_DWORD, _DWORD);
// 401B22: using guessed type int sub_401B22(void);
// 401B4A: using guessed type int sub_401B4A(void);
// 401B5E: using guessed type _DWORD __cdecl sub_401B5E(_DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 401B86: using guessed type int sub_401B86(void);
// 401BA4: using guessed type int sub_401BA4(void);
// 401BC2: using guessed type _DWORD __cdecl sub_401BC2(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401BD6: using guessed type int sub_401BD6(void);
// 401BF4: using guessed type int sub_401BF4(void);
// 401BF9: using guessed type int sub_401BF9(void);
// 401C12: using guessed type _DWORD __cdecl sub_401C12(_DWORD, _DWORD, _DWORD, _DWORD);
// 401C2B: using guessed type _DWORD __cdecl sub_401C2B(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 401C35: using guessed type _DWORD __cdecl sub_401C35(_DWORD);
// 401C80: using guessed type int sub_401C80(void);
// 401C8F: using guessed type int sub_401C8F(void);
// 401CA8: using guessed type int sub_401CA8(void);
// 594DD0: using guessed type int dword_594DD0[];
// 594DD4: using guessed type int dword_594DD4[];
// 594F6C: using guessed type int dword_594F6C;
// 595500: using guessed type int dword_595500[];
// 597350: using guessed type int dword_597350[];
// 597F28: using guessed type int dword_597F28[];
// 59BEB0: using guessed type char *off_59BEB0;
// 5A0A50: using guessed type int dword_5A0A50;
// 5A0A54: using guessed type int dword_5A0A54;
// 5A0A58: using guessed type int dword_5A0A58;
// 5A0A64: using guessed type int dword_5A0A64;
// 5A0A68: using guessed type int dword_5A0A68;
// 5A0A6C: using guessed type int dword_5A0A6C;
// 5A0B18: using guessed type int dword_5A0B18[];
// 5A0B1C: using guessed type int dword_5A0B1C[];
// 5A0F0C: using guessed type int dword_5A0F0C;
// 5A0F10: using guessed type int dword_5A0F10;
// 5A0F14: using guessed type int dword_5A0F14;
// 5A0F18: using guessed type int dword_5A0F18;
// 5A0FA8: using guessed type int dword_5A0FA8;
// 5A0FB0: using guessed type int dword_5A0FB0;
// 5A0FFC: using guessed type int dword_5A0FFC;
// 5A1000: using guessed type int dword_5A1000;
// 5A1004: using guessed type int dword_5A1004;
// 5A103C: using guessed type int dword_5A103C;
// 5A1040: using guessed type int dword_5A1040;
// 5A1044: using guessed type int dword_5A1044;
// 5A104C: using guessed type int dword_5A104C;
// 5A1050: using guessed type int dword_5A1050;
// 5A1054: using guessed type int dword_5A1054;
// 5A1068: using guessed type int dword_5A1068;
// 5A106C: using guessed type int dword_5A106C;
// 5A107C: using guessed type int dword_5A107C[];
// 5A1090: using guessed type int dword_5A1090;
// 5A10D8: using guessed type int dword_5A10D8;
// 5A10E0: using guessed type int dword_5A10E0;
// 5A10E4: using guessed type int dword_5A10E4;
// 5A10E8: using guessed type int dword_5A10E8;
// 5A10EC: using guessed type int dword_5A10EC;
// 5A11E4: using guessed type int dword_5A11E4;
// 5A11E8: using guessed type int dword_5A11E8;
// 5A1344: using guessed type int dword_5A1344;
// 5A144C: using guessed type int dword_5A144C;
// 5A3130: using guessed type int dword_5A3130[];
// 5A3134: using guessed type int dword_5A3134[];
// 5A3138: using guessed type int dword_5A3138[];
// 5A3148: using guessed type int dword_5A3148[];
// 8A58B8: using guessed type int dword_8A58B8;
// AACD54: using guessed type int dword_AACD54;
// AACD60: using guessed type int dword_AACD60;
// BAF180: using guessed type int dword_BAF180;
// BAF184: using guessed type int dword_BAF184;
// BD6940: using guessed type __int16 word_BD6940[];
// BD6A4C: using guessed type int dword_BD6A4C;
// 1FDEC80: using guessed type int dword_1FDEC80;
// 1FDECB6: using guessed type __int16 word_1FDECB6[];
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDECC6: using guessed type __int16 word_1FDECC6[];
// 1FDECC8: using guessed type __int16 word_1FDECC8[];
// 1FDECCC: using guessed type __int16 word_1FDECCC[];
// 1FDECCE: using guessed type __int16 word_1FDECCE[];
// 1FDECD0: using guessed type __int16 word_1FDECD0[];
// 1FDECD2: using guessed type __int16 word_1FDECD2[];
// 1FDECD4: using guessed type __int16 word_1FDECD4[];
// 1FDECD6: using guessed type __int16 word_1FDECD6[];
// 1FDECD8: using guessed type __int16 word_1FDECD8[];
// 1FDECDA: using guessed type __int16 word_1FDECDA[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEA: using guessed type __int16 word_1FDECEA[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECEE: using guessed type __int16 word_1FDECEE[];
// 1FDECF4: using guessed type __int16 word_1FDECF4[];
// 1FDECF6: using guessed type __int16 word_1FDECF6[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED04: using guessed type __int16 word_1FDED04[];
// 1FDED0C: using guessed type __int16 word_1FDED0C[];
// 1FDED14: using guessed type __int16 word_1FDED14[];
// 1FDED1C: using guessed type __int16 word_1FDED1C[];
// 1FDED24: using guessed type __int16 word_1FDED24[];
// 1FDED2C: using guessed type __int16 word_1FDED2C[];
// 1FDED34: using guessed type __int16 word_1FDED34[];
// 1FDED64: using guessed type __int16 word_1FDED64[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDEF80: using guessed type __int16 word_1FDEF80[];
// 1FDEF82: using guessed type __int16 word_1FDEF82[];
// 1FDEF84: using guessed type __int16 word_1FDEF84[];
// 1FDEF94: using guessed type int dword_1FDEF94[];
// 1FDEF98: using guessed type int dword_1FDEF98[];
// 1FDEFA8: using guessed type int dword_1FDEFA8[];
// 1FDF156: using guessed type __int16 word_1FDF156[];
// 1FDF158: using guessed type int dword_1FDF158[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1E0: using guessed type int dword_1FDF1E0[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF280: using guessed type __int16 word_1FDF280[];
// 1FDF282: using guessed type __int16 word_1FDF282[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 1FDF2A8: using guessed type int dword_1FDF2A8[];
// 1FDF2C8: using guessed type int dword_1FDF2C8[];
// 1FDF2E8: using guessed type int dword_1FDF2E8[];
// 34EA500: using guessed type int dword_34EA500;
// 34EA550: using guessed type __int16 word_34EA550[];
// 54EB278: using guessed type int dword_54EB278;
// 54EB3E0: using guessed type __int16 word_54EB3E0;
// 54EB494: using guessed type int dword_54EB494;
// 54F20D8: using guessed type int dword_54F20D8;
// 54F20E0: using guessed type char byte_54F20E0;
// 54F8189: using guessed type char byte_54F8189;
// 74F8198: using guessed type __int16 word_74F8198[];
// 74F819A: using guessed type __int16 word_74F819A[];
// 74F81C2: using guessed type __int16 word_74F81C2[];
// 74F91C0: using guessed type int dword_74F91C0[];
// 74F91D0: using guessed type int dword_74F91D0[];
// 750BA40: using guessed type __int16 word_750BA40[];
// 750BA68: using guessed type int dword_750BA68[];
// 750BA6C: using guessed type int dword_750BA6C[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752C4BC: using guessed type int dword_752C4BC[];
// 752C568: using guessed type int dword_752C568[];
// 88636A4: using guessed type int dword_88636A4[];
// 88636A8: using guessed type int dword_88636A8[];
// 88636B0: using guessed type int dword_88636B0[];
// 88B5F20: using guessed type int dword_88B5F20[];
// 8C75EF8: using guessed type int dword_8C75EF8;
// 8C75EFC: using guessed type int dword_8C75EFC;
// 8C75F00: using guessed type int dword_8C75F00;
// 8C75F0C: using guessed type int dword_8C75F0C;
// 8C75F10: using guessed type int dword_8C75F10;
// 8C75F14: using guessed type int dword_8C75F14;
// 8C75F18: using guessed type int dword_8C75F18;
// 8C75F1C: using guessed type int dword_8C75F1C;
// 8C75F48: using guessed type int dword_8C75F48;
// 8C75F50: using guessed type int dword_8C75F50;
// 8C75F54: using guessed type int dword_8C75F54;
// 8C75F58: using guessed type int dword_8C75F58;
// 8C75F5C: using guessed type int dword_8C75F5C;
// 8C75F60: using guessed type int dword_8C75F60;
// 8C75F64: using guessed type int dword_8C75F64;
// 8C75F68: using guessed type int dword_8C75F68;
// 8C75F6C: using guessed type int dword_8C75F6C;
// 8C75F70: using guessed type int dword_8C75F70;
// 8C76168: using guessed type __int64 qword_8C76168;
// 8C76170: using guessed type int dword_8C76170;
// 8C7617C: using guessed type int dword_8C7617C;
// 8C76190: using guessed type int dword_8C76190;
// 8C76198: using guessed type int dword_8C76198;
// 8C761A0: using guessed type int dword_8C761A0;
// 8C761A8: using guessed type int dword_8C761A8;
// 8C761AC: using guessed type int dword_8C761AC;
// 8C761B4: using guessed type int dword_8C761B4;
// 8C761B8: using guessed type int dword_8C761B8;
// 8C761BC: using guessed type int dword_8C761BC;
// 8C761C8: using guessed type __int64 qword_8C761C8;
// 8C761E8: using guessed type int dword_8C761E8;
// 8C761F0: using guessed type int dword_8C761F0;
// 8C761F4: using guessed type int dword_8C761F4;
// 8C761F8: using guessed type int dword_8C761F8;
// 8C761FC: using guessed type int dword_8C761FC;
// 8C76200: using guessed type int dword_8C76200;
// 8C76204: using guessed type int dword_8C76204;
// 8C76208: using guessed type int dword_8C76208;
// 8C7620C: using guessed type int dword_8C7620C;
// 8C76214: using guessed type int dword_8C76214;
// 8C76254: using guessed type int dword_8C76254;
// 8C76280: using guessed type int dword_8C76280;
// 8C76284: using guessed type int dword_8C76284;
// 8C76288: using guessed type int dword_8C76288;
// 8C762BC: using guessed type int dword_8C762BC;
// 8C762C0: using guessed type int dword_8C762C0;
// 8C762C4: using guessed type int dword_8C762C4;
// 8C762D4: using guessed type int dword_8C762D4;
// 8C762D8: using guessed type int dword_8C762D8;
// 8C7630C: using guessed type int dword_8C7630C;
// 8C76340: using guessed type int dword_8C76340;
// 8C76358: using guessed type char byte_8C76358;
// 8C76384: using guessed type char byte_8C76384;
// 8C7638C: using guessed type int dword_8C7638C;
// 8C76390: using guessed type int dword_8C76390;
// 8C76394: using guessed type int dword_8C76394;
// 8C76464: using guessed type int dword_8C76464;
// 8C76468: using guessed type int dword_8C76468;
// 8C76484: using guessed type int dword_8C76484;
// 8C76488: using guessed type int dword_8C76488;
// 8C7648C: using guessed type int dword_8C7648C;
// 8C76490: using guessed type int dword_8C76490;
// 8C76494: using guessed type int dword_8C76494;
// 8C764A0: using guessed type int dword_8C764A0;
// 8C76548: using guessed type int dword_8C76548;
// 8C76560: using guessed type int dword_8C76560;
// 42E830: using guessed type char var_2F0[96];
// 42E830: using guessed type int var_3380[11];
// 42E830: using guessed type char var_28C[128];
// 42E830: using guessed type char var_D94[384];
// 42E830: using guessed type char var_F3C[384];

//----- (004388B0) --------------------------------------------------------
int __usercall sub_4388B0<eax>(int a1<ebx>, int a2<esi>, signed int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-150h]@0
  int v6; // [sp+4h] [bp-14Ch]@0
  int v7; // [sp+8h] [bp-148h]@0
  char v8; // [sp+Ch] [bp-144h]@1
  char v9; // [sp+4Ch] [bp-104h]@28
  int i; // [sp+14Ch] [bp-4h]@1

  v3 = -858993460;
  memset(&v8, -858993460, 0x144u);
  for ( i = 1; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22
      && dword_1FDF1D4[431 * i]
      && word_1FDECC4[862 * i] < 1000
      && word_1FDECC4[862 * i] >= a3
      && (dword_1FDF1F4[431 * i] >= 2608
       && dword_1FDF1F4[431 * i] <= 2647
       && dword_1FDF1F8[431 * i] >= 1706
       && dword_1FDF1F8[431 * i] <= 1743
       || dword_1FDF1F4[431 * i] >= 2604
       && dword_1FDF1F4[431 * i] <= 2607
       && dword_1FDF1F8[431 * i] >= 1732
       && dword_1FDF1F8[431 * i] <= 1735
       || dword_1FDF1F4[431 * i] >= 2648
       && dword_1FDF1F4[431 * i] <= 2650
       && dword_1FDF1F8[431 * i] >= 1716
       && dword_1FDF1F8[431 * i] <= 1719
       || dword_1FDF1F4[431 * i] >= 2648
       && dword_1FDF1F4[431 * i] <= 2650
       && dword_1FDF1F8[431 * i] >= 1732
       && dword_1FDF1F8[431 * i] <= 1735
       || dword_1FDF1F4[431 * i] >= 2604
       && dword_1FDF1F4[431 * i] <= 2607
       && dword_1FDF1F8[431 * i] >= 1716
       && dword_1FDF1F8[431 * i] <= 1719) )
    {
      sub_4E3F40(a1, a2, (int)&v9, (const char *)&unk_8B1944);
      sub_401B63(i, &v9);
      sub_4012C6(i);
    }
    v3 = i + 1;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (00438BF0) --------------------------------------------------------
int __usercall sub_438BF0<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@6
  char v5; // [sp+0h] [bp-154h]@0
  int v6; // [sp+4h] [bp-150h]@0
  int v7; // [sp+8h] [bp-14Ch]@0
  char v8; // [sp+Ch] [bp-148h]@1
  int i; // [sp+4Ch] [bp-108h]@1
  int v10; // [sp+50h] [bp-104h]@1
  char v11; // [sp+54h] [bp-100h]@6

  memset(&v8, -858993460, 0x148u);
  v10 = 0;
  for ( i = 0; i < 12800; ++i )
  {
    if ( dword_1FDF1D4[431 * i] )
      ++v10;
  }
  sub_4E3F40(a1, a2, (int)&v11, (const char *)&unk_587B3C);
  v3 = sub_401B63(a3, &v11);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 1FDF1D4: using guessed type int dword_1FDF1D4[];

//----- (00438DA0) --------------------------------------------------------
int __usercall sub_438DA0<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@2
  char v5; // [sp+0h] [bp-65Ch]@0
  int v6; // [sp+4h] [bp-658h]@0
  int v7; // [sp+8h] [bp-654h]@0
  char v8; // [sp+Ch] [bp-650h]@1
  int v9; // [sp+4Ch] [bp-610h]@20
  int v10; // [sp+50h] [bp-60Ch]@17
  int v11; // [sp+54h] [bp-608h]@14
  char v12; // [sp+58h] [bp-604h]@8
  char v13; // [sp+59h] [bp-603h]@9
  char v14; // [sp+5Ah] [bp-602h]@10
  char v15; // [sp+5Bh] [bp-601h]@11
  char v16; // [sp+5Ch] [bp-600h]@12
  char v17; // [sp+5Dh] [bp-5FFh]@14
  char v18; // [sp+D6h] [bp-586h]@20
  char v19; // [sp+D7h] [bp-585h]@21
  char v20; // [sp+D8h] [bp-584h]@17
  char v21; // [sp+158h] [bp-504h]@25
  char v22; // [sp+1D8h] [bp-484h]@25
  char v23; // [sp+258h] [bp-404h]@38
  char v24; // [sp+2D8h] [bp-384h]@42
  char v25; // [sp+358h] [bp-304h]@52
  char v26; // [sp+3D8h] [bp-284h]@75
  int v27; // [sp+658h] [bp-4h]@2
  int v28; // [sp+65Ch] [bp+0h]@8

  memset(&v8, -858993460, 0x650u);
  while ( 1 )
  {
    v3 = sub_4E4400(a1, a2, (int)&String, 127, a3);
    v27 = v3;
    if ( !v3 )
      break;
    if ( !String )
      break;
    if ( String != 13 )
    {
      if ( String != 10 )
      {
        if ( String != 47 )
        {
          sub_4E4640(&v12, 0, 0x600u);
          sub_4E4340(a1, (int)&v28, a2, (int)&String, "%s %s %s %s %s %s %s %s %s %s %s", (unsigned int)&v12);
          if ( v12 == 81 )
          {
            if ( v13 == 85 && v14 == 69 && v15 == 83 && v16 == 84 )
            {
              v11 = -1;
              v11 = sub_4E4F40(a1, (int)&v28, a2, (signed int *)&v17);
              if ( v11 > 0 && v11 < 45 )
              {
                v10 = sub_4E4B50((int)&v20);
                if ( v10 >= 2 && v10 < 100 )
                {
                  v9 = 0;
                  if ( *(&v18 + v10) == 45 )
                  {
                    *(&v18 + v10) = 0;
                    v9 = sub_4E4F40(a1, (int)&v28, a2, (signed int *)(&v19 + v10)) - 1;
                  }
                  if ( sub_4E4D80((int)&v20, (int)"NAME") )
                  {
                    if ( sub_4E4D80((int)&v20, (int)"POSITION") )
                    {
                      if ( sub_4E4D80((int)&v20, (int)"BASE_SPEECH") )
                      {
                        if ( sub_4E4D80((int)&v20, (int)"CONDITION") )
                        {
                          if ( !sub_4E4D80((int)&v20, (int)"REWARD") )
                          {
                            if ( v9 >= 0 && v9 < 8 )
                            {
                              *(&dword_BB0600[887 * v11] + 9 * v9) = sub_4E4F40(a1, (int)&v28, a2, (signed int *)&v21);
                              *(&dword_BB0604[887 * v11] + 9 * v9) = sub_4E4F40(a1, (int)&v28, a2, (signed int *)&v22);
                              if ( sub_4E4D80((int)&v23, (int)"SPEECH") )
                              {
                                if ( sub_4E4D80((int)&v23, (int)"ITEM") )
                                {
                                  if ( sub_4E4D80((int)&v23, (int)"LEVEL") )
                                  {
                                    if ( sub_4E4D80((int)&v23, (int)"DELETEITEM") )
                                    {
                                      if ( sub_4E4D80((int)&v23, (int)"EQUIP") )
                                      {
                                        if ( sub_4E4D80((int)&v23, (int)"SKILL") )
                                        {
                                          if ( sub_4E4D80((int)&v23, (int)"QITEM") )
                                          {
                                            if ( sub_4E4D80((int)&v23, (int)"GIVEGOLD") )
                                            {
                                              if ( sub_4E4D80((int)&v23, (int)"GIVEEXP") )
                                              {
                                                if ( sub_4E4D80((int)&v23, (int)"TELEPORT") )
                                                {
                                                  if ( sub_4E4D80((int)&v23, (int)"EQDELETE") )
                                                  {
                                                    if ( sub_4E4D80((int)&v23, (int)"SETBIT") )
                                                    {
                                                      if ( sub_4E4D80((int)&v23, (int)"RESTAT") )
                                                      {
                                                        if ( !sub_4E4D80((int)&v23, (int)"RESTATALL") )
                                                        {
                                                          *(&dword_BB05EC[887 * v11] + 9 * v9) = 14;
                                                          *(&dword_BB05F0[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                                                   a1,
                                                                                                   (int)&v28,
                                                                                                   a2,
                                                                                                   (signed int *)&v24);
                                                          *(&dword_BB05F4[887 * v11] + 9 * v9) = 0;
                                                        }
                                                      }
                                                      else
                                                      {
                                                        *(&dword_BB05EC[887 * v11] + 9 * v9) = 13;
                                                        *(&dword_BB05F0[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                                                 a1,
                                                                                                 (int)&v28,
                                                                                                 a2,
                                                                                                 (signed int *)&v24);
                                                        *(&dword_BB05F4[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                                                 a1,
                                                                                                 (int)&v28,
                                                                                                 a2,
                                                                                                 (signed int *)&v25);
                                                      }
                                                    }
                                                    else
                                                    {
                                                      *(&dword_BB05EC[887 * v11] + 9 * v9) = 12;
                                                      *(&dword_BB05F0[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                                               a1,
                                                                                               (int)&v28,
                                                                                               a2,
                                                                                               (signed int *)&v24);
                                                      *(&dword_BB05F4[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                                               a1,
                                                                                               (int)&v28,
                                                                                               a2,
                                                                                               (signed int *)&v25);
                                                    }
                                                  }
                                                  else
                                                  {
                                                    *(&dword_BB05EC[887 * v11] + 9 * v9) = 11;
                                                    *(&dword_BB05F0[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                                             a1,
                                                                                             (int)&v28,
                                                                                             a2,
                                                                                             (signed int *)&v24);
                                                  }
                                                }
                                                else
                                                {
                                                  *(&dword_BB05EC[887 * v11] + 9 * v9) = 10;
                                                  *(&dword_BB05F0[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                                           a1,
                                                                                           (int)&v28,
                                                                                           a2,
                                                                                           (signed int *)&v24);
                                                  *(&dword_BB05F4[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                                           a1,
                                                                                           (int)&v28,
                                                                                           a2,
                                                                                           (signed int *)&v25);
                                                }
                                              }
                                              else
                                              {
                                                *(&dword_BB05EC[887 * v11] + 9 * v9) = 9;
                                                *(&dword_BB05F0[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                                         a1,
                                                                                         (int)&v28,
                                                                                         a2,
                                                                                         (signed int *)&v24);
                                              }
                                            }
                                            else
                                            {
                                              *(&dword_BB05EC[887 * v11] + 9 * v9) = 8;
                                              *(&dword_BB05F0[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                                       a1,
                                                                                       (int)&v28,
                                                                                       a2,
                                                                                       (signed int *)&v24);
                                            }
                                          }
                                          else
                                          {
                                            *(&dword_BB05EC[887 * v11] + 9 * v9) = 7;
                                            sub_401447(&word_BB0608[1774 * v11] + 18 * v9, &v24);
                                          }
                                        }
                                        else
                                        {
                                          *(&dword_BB05EC[887 * v11] + 9 * v9) = 6;
                                          *(&dword_BB05F0[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                                   a1,
                                                                                   (int)&v28,
                                                                                   a2,
                                                                                   (signed int *)&v24);
                                          *(&dword_BB05F4[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                                   a1,
                                                                                   (int)&v28,
                                                                                   a2,
                                                                                   (signed int *)&v25);
                                        }
                                      }
                                      else
                                      {
                                        *(&dword_BB05EC[887 * v11] + 9 * v9) = 5;
                                        sub_401447(&word_BB0608[1774 * v11] + 18 * v9, &v25);
                                        *(&dword_BB05F0[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                                 a1,
                                                                                 (int)&v28,
                                                                                 a2,
                                                                                 (signed int *)&v24);
                                      }
                                    }
                                    else
                                    {
                                      *(&dword_BB05EC[887 * v11] + 9 * v9) = 4;
                                      *(&dword_BB05F0[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                               a1,
                                                                               (int)&v28,
                                                                               a2,
                                                                               (signed int *)&v24);
                                      *(&dword_BB05F4[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                               a1,
                                                                               (int)&v28,
                                                                               a2,
                                                                               (signed int *)&v25);
                                      *(&dword_BB05F8[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                               a1,
                                                                               (int)&v28,
                                                                               a2,
                                                                               (signed int *)&v26);
                                    }
                                  }
                                  else
                                  {
                                    *(&dword_BB05EC[887 * v11] + 9 * v9) = 3;
                                    *(&dword_BB05F0[887 * v11] + 9 * v9) = sub_4E4F40(
                                                                             a1,
                                                                             (int)&v28,
                                                                             a2,
                                                                             (signed int *)&v24);
                                  }
                                }
                                else
                                {
                                  *(&dword_BB05EC[887 * v11] + 9 * v9) = 2;
                                  sub_401447(&word_BB0608[1774 * v11] + 18 * v9, &v24);
                                }
                              }
                              else
                              {
                                *(&dword_BB05EC[887 * v11] + 9 * v9) = 1;
                                sub_401073(&v24);
                                sub_4E4720((int)((char *)&unk_BB070C + 3548 * v11));
                              }
                            }
                            else
                            {
                              sub_4E3F40(a1, a2, (int)&String, "err,reward wrong array quest:%d array:%d");
                              Log(&String, "-sys", 0);
                            }
                          }
                        }
                        else
                        {
                          if ( v9 >= 0 && v9 < 8 )
                          {
                            if ( sub_4E4D80((int)&v21, (int)"SPEECH") )
                            {
                              if ( sub_4E4D80((int)&v21, (int)"LEVEL") )
                              {
                                if ( sub_4E4D80((int)&v21, (int)"ITEM") )
                                {
                                  if ( sub_4E4D80((int)&v21, (int)"ITEMSANC") )
                                  {
                                    if ( sub_4E4D80((int)&v21, (int)"CONNAME") )
                                    {
                                      if ( sub_4E4D80((int)&v21, (int)"GOLDCHECK") )
                                      {
                                        if ( sub_4E4D80((int)&v21, (int)"ISTRANS") )
                                        {
                                          if ( sub_4E4D80((int)&v21, (int)"ISLOG") )
                                          {
                                            if ( sub_4E4D80((int)&v21, (int)"TIMECHECK") )
                                            {
                                              if ( sub_4E4D80((int)&v21, (int)"EQITEM") )
                                              {
                                                if ( sub_4E4D80((int)&v21, (int)"CHECKBIT") )
                                                {
                                                  if ( sub_4E4D80((int)&v21, (int)"CHECKCLASS") )
                                                  {
                                                    if ( sub_4E4D80((int)&v21, (int)"CHECKSTAT") )
                                                    {
                                                      if ( !sub_4E4D80((int)&v21, (int)"NOTEQUIP") )
                                                      {
                                                        *(&dword_BAFCAC[887 * v11] + 37 * v9) = 14;
                                                        *(&dword_BAFCB0[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                                  a1,
                                                                                                  (int)&v28,
                                                                                                  a2,
                                                                                                  (signed int *)&v22);
                                                        *(&dword_BAFCB4[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                                  a1,
                                                                                                  (int)&v28,
                                                                                                  a2,
                                                                                                  (signed int *)&v23);
                                                      }
                                                    }
                                                    else
                                                    {
                                                      *(&dword_BAFCAC[887 * v11] + 37 * v9) = 13;
                                                      *(&dword_BAFCB0[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                                a1,
                                                                                                (int)&v28,
                                                                                                a2,
                                                                                                (signed int *)&v22);
                                                      *(&dword_BAFCB4[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                                a1,
                                                                                                (int)&v28,
                                                                                                a2,
                                                                                                (signed int *)&v23);
                                                    }
                                                  }
                                                  else
                                                  {
                                                    *(&dword_BAFCAC[887 * v11] + 37 * v9) = 12;
                                                    *(&dword_BAFCB0[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                              a1,
                                                                                              (int)&v28,
                                                                                              a2,
                                                                                              (signed int *)&v22);
                                                  }
                                                }
                                                else
                                                {
                                                  *(&dword_BAFCAC[887 * v11] + 37 * v9) = 11;
                                                  *(&dword_BAFCB0[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                            a1,
                                                                                            (int)&v28,
                                                                                            a2,
                                                                                            (signed int *)&v22);
                                                  *(&dword_BAFCB4[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                            a1,
                                                                                            (int)&v28,
                                                                                            a2,
                                                                                            (signed int *)&v23);
                                                }
                                              }
                                              else
                                              {
                                                *(&dword_BAFCAC[887 * v11] + 37 * v9) = 10;
                                                *(&dword_BAFCB0[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                          a1,
                                                                                          (int)&v28,
                                                                                          a2,
                                                                                          (signed int *)&v22);
                                                *(&dword_BAFCB4[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                          a1,
                                                                                          (int)&v28,
                                                                                          a2,
                                                                                          (signed int *)&v23);
                                              }
                                            }
                                            else
                                            {
                                              *(&dword_BAFCAC[887 * v11] + 37 * v9) = 9;
                                              *(&dword_BAFCB0[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                        a1,
                                                                                        (int)&v28,
                                                                                        a2,
                                                                                        (signed int *)&v22);
                                              *(&dword_BAFCB4[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                        a1,
                                                                                        (int)&v28,
                                                                                        a2,
                                                                                        (signed int *)&v23);
                                              *(&dword_BAFCB8[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                        a1,
                                                                                        (int)&v28,
                                                                                        a2,
                                                                                        (signed int *)&v24);
                                              *(&dword_BAFCBC[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                        a1,
                                                                                        (int)&v28,
                                                                                        a2,
                                                                                        (signed int *)&v25);
                                            }
                                          }
                                          else
                                          {
                                            *(&dword_BAFCAC[887 * v11] + 37 * v9) = 8;
                                            *(&dword_BAFCB0[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                      a1,
                                                                                      (int)&v28,
                                                                                      a2,
                                                                                      (signed int *)&v22);
                                          }
                                        }
                                        else
                                        {
                                          *(&dword_BAFCAC[887 * v11] + 37 * v9) = 7;
                                          *(&dword_BAFCB0[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                    a1,
                                                                                    (int)&v28,
                                                                                    a2,
                                                                                    (signed int *)&v22);
                                        }
                                      }
                                      else
                                      {
                                        *(&dword_BAFCAC[887 * v11] + 37 * v9) = 6;
                                        *(&dword_BAFCB0[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                                  a1,
                                                                                  (int)&v28,
                                                                                  a2,
                                                                                  (signed int *)&v22);
                                      }
                                    }
                                    else
                                    {
                                      *(&dword_BAFCAC[887 * v11] + 37 * v9) = 5;
                                      sub_4E4720((int)((char *)&unk_BAFCC0 + 3548 * v11 + 148 * v9));
                                    }
                                  }
                                  else
                                  {
                                    *(&dword_BAFCAC[887 * v11] + 37 * v9) = 4;
                                    *(&dword_BAFCB0[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                              a1,
                                                                              (int)&v28,
                                                                              a2,
                                                                              (signed int *)&v22);
                                    *(&dword_BAFCB4[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                              a1,
                                                                              (int)&v28,
                                                                              a2,
                                                                              (signed int *)&v23);
                                    *(&dword_BAFCB8[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                              a1,
                                                                              (int)&v28,
                                                                              a2,
                                                                              (signed int *)&v24);
                                  }
                                }
                                else
                                {
                                  *(&dword_BAFCAC[887 * v11] + 37 * v9) = 3;
                                  *(&dword_BAFCB0[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                            a1,
                                                                            (int)&v28,
                                                                            a2,
                                                                            (signed int *)&v22);
                                  *(&dword_BAFCB4[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                            a1,
                                                                            (int)&v28,
                                                                            a2,
                                                                            (signed int *)&v23);
                                }
                              }
                              else
                              {
                                *(&dword_BAFCAC[887 * v11] + 37 * v9) = 2;
                                *(&dword_BAFCB0[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                          a1,
                                                                          (int)&v28,
                                                                          a2,
                                                                          (signed int *)&v22);
                                *(&dword_BAFCB4[887 * v11] + 37 * v9) = sub_4E4F40(
                                                                          a1,
                                                                          (int)&v28,
                                                                          a2,
                                                                          (signed int *)&v23);
                              }
                            }
                            else
                            {
                              sub_401073(&v22);
                              sub_4E4720((int)((char *)&unk_BAFCE0 + 3548 * v11 + 148 * v9));
                            }
                          }
                          else
                          {
                            sub_4E3F40(a1, a2, (int)&String, "err,condition wrong array quest:%d array:%d");
                            Log(&String, "-sys", 0);
                          }
                        }
                      }
                      else
                      {
                        if ( v9 >= 0 && v9 < 8 )
                        {
                          sub_401073(&v21);
                          sub_4E4720((int)((char *)&unk_BAF9AC + 3548 * v11 + 96 * v9));
                        }
                        else
                        {
                          sub_4E3F40(a1, a2, (int)&String, "err,base_speech wrong array quest:%d array:%d");
                          Log(&String, "-sys", 0);
                        }
                      }
                    }
                    else
                    {
                      dword_BAF9A4[887 * v11] = sub_4E4F40(a1, (int)&v28, a2, (signed int *)&v21);
                      dword_BAF9A8[887 * v11] = sub_4E4F40(a1, (int)&v28, a2, (signed int *)&v22);
                    }
                  }
                  else
                  {
                    sub_4E4640(&dword_BAF990[887 * v11], 0, 0xDDCu);
                    sub_4E4720((int)((char *)&unk_BAF994 + 3548 * v11));
                    dword_BAF990[887 * v11] = 1;
                  }
                }
                else
                {
                  sub_4E3F40(a1, a2, (int)&String, "err,command length wrong quest:%d");
                  Log(&String, "-sys", 0);
                }
              }
              else
              {
                sub_4E3F40(a1, a2, (int)&String, "err, wrong quest number while init quest:%d");
                Log(&String, "-sys", 0);
              }
            }
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401073: using guessed type _DWORD __cdecl sub_401073(_DWORD);
// 401447: using guessed type _DWORD __cdecl sub_401447(_DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// BAF990: using guessed type int dword_BAF990[];
// BAF9A4: using guessed type int dword_BAF9A4[];
// BAF9A8: using guessed type int dword_BAF9A8[];
// BAFCAC: using guessed type int dword_BAFCAC[];
// BAFCB0: using guessed type int dword_BAFCB0[];
// BAFCB4: using guessed type int dword_BAFCB4[];
// BAFCB8: using guessed type int dword_BAFCB8[];
// BAFCBC: using guessed type int dword_BAFCBC[];
// BB05EC: using guessed type int dword_BB05EC[];
// BB05F0: using guessed type int dword_BB05F0[];
// BB05F4: using guessed type int dword_BB05F4[];
// BB05F8: using guessed type int dword_BB05F8[];
// BB0600: using guessed type int dword_BB0600[];
// BB0604: using guessed type int dword_BB0604[];
// BB0608: using guessed type __int16 word_BB0608[];

//----- (0043A6A0) --------------------------------------------------------
int __usercall sub_43A6A0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-47Ch]@0
  int v5; // [sp+4h] [bp-478h]@0
  int v6; // [sp+8h] [bp-474h]@0
  char v7; // [sp+Ch] [bp-470h]@1
  int v8; // [sp+4Ch] [bp-430h]@16
  int i; // [sp+50h] [bp-42Ch]@10
  int v10; // [sp+54h] [bp-428h]@7
  char v11; // [sp+58h] [bp-424h]@5
  int v12; // [sp+158h] [bp-324h]@3
  int v13; // [sp+15Ch] [bp-320h]@5
  HANDLE hFindFile; // [sp+160h] [bp-31Ch]@1
  int v15; // [sp+164h] [bp-318h]@1
  char v16; // [sp+178h] [bp-304h]@2
  int v17; // [sp+27Ch] [bp-200h]@1
  int v18; // [sp+280h] [bp-1FCh]@1
  char v19; // [sp+284h] [bp-1F8h]@1
  char v20; // [sp+285h] [bp-1F7h]@1
  __int16 v21; // [sp+379h] [bp-103h]@1
  char v22; // [sp+37Bh] [bp-101h]@1
  const CHAR FileName[4]; // [sp+37Ch] [bp-100h]@1
  char v24; // [sp+388h] [bp-F4h]@1

  memset(&v7, -858993460, 0x470u);
  strcpy((char *)FileName, "./Quest/*.c");
  memset(&v24, 0, 0xF4u);
  v17 = dword_587E14;
  v18 = dword_587E18;
  v19 = byte_587E1C;
  memset(&v20, 0, 0xF4u);
  v21 = 0;
  v22 = 0;
  v2 = sub_4E8790(a1, (int)FileName, a2, FileName, (int)&v15);
  hFindFile = (HANDLE)v2;
  if ( v2 != -1 )
  {
    do
    {
      while ( v16 == 46 )
      {
        v2 = sub_4E88D0(a1, (int)FileName, a2, hFindFile, (int)&v15);
        v12 = v2;
        if ( v2 )
          goto LABEL_8;
      }
      sub_4E3F40(a1, a2, (int)&v11, "%s%s");
      v13 = sub_4E4620(a1, a2, &v11, (int)"rt");
      if ( v13 )
      {
        sub_401992(v13);
        sub_4E4260(a1, a2, v13);
      }
      v2 = sub_4E88D0(a1, (int)FileName, a2, hFindFile, (int)&v15);
      v10 = v2;
    }
    while ( !v2 );
LABEL_8:
    if ( hFindFile != (HANDLE)-1 )
      v2 = sub_4E8A00(hFindFile);
    for ( i = 0; i < 45; ++i )
    {
      if ( dword_BAF990[887 * i] )
      {
        if ( dword_BD6998[i] )
          sub_401B90(dword_BD6998[i], 3);
        v8 = sub_40177B((char *)&unk_BAF994 + 3548 * i, dword_BAF9A4[887 * i], dword_BAF9A8[887 * i], "quest", 0);
        if ( v8 )
        {
          dword_1FDF2CC[431 * v8] = i;
          dword_BD6998[i] = v8;
        }
        else
        {
          sub_4E3F40(a1, a2, (int)&String, "err, fail to create quest %s x:%d y:%d index:%d");
          Log(&String, "-sys", 0);
        }
      }
      v2 = i + 1;
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40177B: using guessed type _DWORD __cdecl sub_40177B(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401992: using guessed type _DWORD __cdecl sub_401992(_DWORD);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 587E14: using guessed type int dword_587E14;
// 587E18: using guessed type int dword_587E18;
// 587E1C: using guessed type char byte_587E1C;
// BAF990: using guessed type int dword_BAF990[];
// BAF9A4: using guessed type int dword_BAF9A4[];
// BAF9A8: using guessed type int dword_BAF9A8[];
// BD6998: using guessed type int dword_BD6998[];
// 1FDF2CC: using guessed type int dword_1FDF2CC[];

//----- (0043AA70) --------------------------------------------------------
int __usercall sub_43AA70<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4, __int16 a5, int a6)
{
  int v6; // eax@1
  int v7; // edx@30
  char v9; // [sp+0h] [bp-70h]@0
  int v10; // [sp+4h] [bp-6Ch]@0
  int v11; // [sp+8h] [bp-68h]@0
  char v12; // [sp+Ch] [bp-64h]@1
  int v13; // [sp+4Ch] [bp-24h]@25
  int j; // [sp+50h] [bp-20h]@22
  int v15; // [sp+54h] [bp-1Ch]@22
  int v16; // [sp+58h] [bp-18h]@30
  int v17; // [sp+5Ch] [bp-14h]@16
  int v18; // [sp+60h] [bp-10h]@12
  int v19; // [sp+64h] [bp-Ch]@8
  int i; // [sp+68h] [bp-8h]@4
  int v21; // [sp+6Ch] [bp-4h]@1

  v6 = -858993460;
  memset(&v12, -858993460, 0x64u);
  v21 = 0;
  if ( a3 > 0 && a3 < 1000 )
  {
    for ( i = 0; ; ++i )
    {
      if ( i < 60 )
      {
        if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i) != a4 )
          continue;
        v19 = sub_4013D9(&dword_1FDED7C[431 * a3] + 2 * i);
        if ( v19 < 1 )
          v19 = 1;
        v21 += v19;
        if ( v21 < a6 )
          continue;
      }
      break;
    }
    v6 = v21;
    if ( v21 >= a6 )
    {
      v18 = 0;
      for ( i = 0; ; ++i )
      {
        if ( i < 60 )
        {
          if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i) != a4 )
            continue;
          v17 = sub_4013D9(&dword_1FDED7C[431 * a3] + 2 * i);
          if ( v17 <= 1 )
            v17 = 1;
          if ( v17 <= a6 - v18 )
          {
            sub_40173A(&dword_1FDED7C[431 * a3] + 2 * i);
          }
          else
          {
            sub_40187F(&dword_1FDED7C[431 * a3] + 2 * i, v17 - (_BYTE)a6 - v18);
            v17 = a6 - v18;
          }
          v18 += v17;
          if ( v18 < a6 )
            continue;
        }
        break;
      }
      sub_4E4640(&v15, 0, 8u);
      LOWORD(v15) = a5;
      for ( j = 0; ; ++j )
      {
        if ( j < 60 )
        {
          v13 = sub_4017E4(&dword_1FDED7C[431 * a3], j);
          if ( !v13 )
            continue;
          if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * j) )
            continue;
        }
        break;
      }
      if ( j >= 0 && j < 60 )
      {
        v7 = j;
        *(&dword_1FDED7C[431 * a3] + 2 * j) = v15;
        *(&dword_1FDED80[431 * a3] + 2 * v7) = v16;
        sub_4E3F40(a1, a2, (int)&String, "que,scrap inven %d");
        v6 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
      }
      else
      {
        sub_4E8AC0(a1, a2, (int)&String, (unsigned int)"que,scrap send fail %d");
        v6 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
      }
    }
  }
  return sub_4E46A0(1, v6, v11, v9, v10);
}
// 4013D9: using guessed type _DWORD __cdecl sub_4013D9(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40173A: using guessed type _DWORD __cdecl sub_40173A(_DWORD);
// 4017E4: using guessed type _DWORD __cdecl sub_4017E4(_DWORD, _DWORD);
// 40187F: using guessed type _DWORD __cdecl sub_40187F(_DWORD, char);
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDED80: using guessed type int dword_1FDED80[];
// 752BAEC: using guessed type int dword_752BAEC[];

//----- (0043ADF0) --------------------------------------------------------
int __usercall sub_43ADF0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v4; // eax@3
  int v5; // eax@131
  signed __int64 v6; // qtt@131
  char v8; // [sp+0h] [bp-210h]@0
  int v9; // [sp+4h] [bp-20Ch]@0
  int v10; // [sp+8h] [bp-208h]@0
  char v11; // [sp+Ch] [bp-204h]@1
  int v12; // [sp+4Ch] [bp-1C4h]@204
  int v13; // [sp+50h] [bp-1C0h]@108
  int v14; // [sp+54h] [bp-1BCh]@233
  int v15; // [sp+58h] [bp-1B8h]@233
  int v16; // [sp+5Ch] [bp-1B4h]@233
  int v17; // [sp+60h] [bp-1B0h]@233
  int v18; // [sp+64h] [bp-1ACh]@233
  int v19; // [sp+68h] [bp-1A8h]@233
  int v20; // [sp+6Ch] [bp-1A4h]@230
  __int16 v21; // [sp+70h] [bp-1A0h]@204
  __int16 v22; // [sp+74h] [bp-19Ch]@204
  int v23; // [sp+78h] [bp-198h]@187
  int v24; // [sp+7Ch] [bp-194h]@176
  int v25; // [sp+80h] [bp-190h]@176
  int ii; // [sp+84h] [bp-18Ch]@171
  int v27; // [sp+88h] [bp-188h]@168
  int v28; // [sp+8Ch] [bp-184h]@160
  int n; // [sp+90h] [bp-180h]@156
  int v30; // [sp+94h] [bp-17Ch]@154
  int v31; // [sp+98h] [bp-178h]@154
  int v32; // [sp+9Ch] [bp-174h]@150
  int v33; // [sp+A0h] [bp-170h]@146
  int v34; // [sp+A4h] [bp-16Ch]@145
  char v35; // [sp+A8h] [bp-168h]@143
  int v36; // [sp+1A8h] [bp-68h]@136
  int v37; // [sp+1ACh] [bp-64h]@131
  int v38; // [sp+1B0h] [bp-60h]@123
  int v39; // [sp+1B4h] [bp-5Ch]@78
  int v40; // [sp+1B8h] [bp-58h]@78
  int v41; // [sp+1BCh] [bp-54h]@78
  int v42; // [sp+1C0h] [bp-50h]@78
  int v43; // [sp+1C4h] [bp-4Ch]@71
  int v44; // [sp+1C8h] [bp-48h]@50
  int *v45; // [sp+1CCh] [bp-44h]@50
  int v46; // [sp+1D0h] [bp-40h]@48
  int m; // [sp+1D4h] [bp-3Ch]@46
  int v48; // [sp+1D8h] [bp-38h]@46
  int v49; // [sp+1DCh] [bp-34h]@37
  int l; // [sp+1E0h] [bp-30h]@35
  int v51; // [sp+1E4h] [bp-2Ch]@35
  int v52; // [sp+1E8h] [bp-28h]@28
  int v53; // [sp+1ECh] [bp-24h]@25
  int k; // [sp+1F0h] [bp-20h]@22
  int j; // [sp+1F4h] [bp-1Ch]@14
  int v56; // [sp+1F8h] [bp-18h]@14
  int v57; // [sp+1FCh] [bp-14h]@12
  int i; // [sp+200h] [bp-10h]@9
  int v59; // [sp+204h] [bp-Ch]@1
  int v60; // [sp+208h] [bp-8h]@1
  int v61; // [sp+20Ch] [bp-4h]@1

  memset(&v11, -858993460, 0x204u);
  v61 = dword_1FDF2CC[431 * a4];
  v60 = 0;
  v59 = 0;
  if ( v61 > 0 && v61 < 45 )
  {
    v4 = dword_BAF9A4[887 * v61] - 6;
    if ( dword_1FDF1F4[431 * a3] >= v4 )
    {
      v4 = dword_BAF9A4[887 * v61] + 6;
      if ( dword_1FDF1F4[431 * a3] <= v4 )
      {
        v4 = dword_BAF9A8[887 * v61] - 6;
        if ( dword_1FDF1F8[431 * a3] >= v4 )
        {
          v4 = dword_BAF9A8[887 * v61] + 6;
          if ( dword_1FDF1F8[431 * a3] <= v4 )
          {
            for ( i = 0; i < 8; ++i )
            {
              v4 = 36 * i;
              v57 = *(&dword_BB05EC[887 * v61] + 9 * i);
              if ( v57 == 2 || v57 == 7 )
              {
                v56 = 0;
                for ( j = 0; j < 60; ++j )
                {
                  v4 = 1724 * a3;
                  if ( !*((_WORD *)&dword_1FDED7C[431 * a3] + 4 * j) )
                    v4 = v56++ + 1;
                }
                if ( !v56 )
                {
                  v4 = sub_401B63(a3, &unk_8A92C4);
                  return sub_4E46A0(1, v4, v10, v8, v9);
                }
              }
            }
            for ( k = 0; k < 8; ++k )
            {
              v53 = 0;
              v4 = 3548 * v61;
              if ( *(&dword_BAFCAC[887 * v61] + 37 * k) > 1 )
              {
                if ( *(&dword_BAFCAC[887 * v61] + 37 * k) == 2 )
                {
                  v52 = word_1FDECE0[862 * a3] + 1;
                  if ( v52 >= *(&dword_BAFCB0[887 * v61] + 37 * k) && v52 <= *(&dword_BAFCB4[887 * v61] + 37 * k) )
                    v53 = 1;
                  if ( !v53 )
                  {
                    v4 = sub_401BB3(a4, (char *)&unk_BAFCE0 + 3548 * v61 + 148 * k);
                    return sub_4E46A0(1, v4, v10, v8, v9);
                  }
                  ++v60;
                }
                if ( *(&dword_BAFCAC[887 * v61] + 37 * k) == 3 )
                {
                  v51 = 0;
                  for ( l = 0; l < 64; ++l )
                  {
                    v49 = *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * l);
                    if ( *(&dword_BAFCB0[887 * v61] + 37 * k) == v49 )
                      ++v51;
                  }
                  if ( v51 >= *(&dword_BAFCB4[887 * v61] + 37 * k) )
                    v53 = 1;
                  if ( !v53 )
                  {
                    v4 = sub_401BB3(a4, (char *)&unk_BAFCE0 + 3548 * v61 + 148 * k);
                    return sub_4E46A0(1, v4, v10, v8, v9);
                  }
                  ++v60;
                }
                if ( *(&dword_BAFCAC[887 * v61] + 37 * k) == 4 )
                {
                  v48 = 0;
                  for ( m = 0; m < 64; ++m )
                  {
                    v46 = *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * m);
                    if ( *(&dword_BAFCB0[887 * v61] + 37 * k) == v46 )
                    {
                      if ( *(&dword_BAFCB8[887 * v61] + 37 * k) )
                      {
                        v45 = &dword_1FDED7C[431 * a3] + 2 * m;
                        v44 = sub_4014E2(&dword_1FDED7C[431 * a3] + 2 * m);
                        if ( v44 >= *(&dword_BAFCB8[887 * v61] + 37 * k) )
                          ++v48;
                      }
                      else
                      {
                        ++v48;
                      }
                    }
                  }
                  if ( v48 >= *(&dword_BAFCB4[887 * v61] + 37 * k) )
                    v53 = 1;
                  if ( !v53 )
                  {
                    v4 = sub_401BB3(a4, (char *)&unk_BAFCE0 + 3548 * v61 + 148 * k);
                    return sub_4E46A0(1, v4, v10, v8, v9);
                  }
                  ++v60;
                }
                if ( *(&dword_BAFCAC[887 * v61] + 37 * k) == 5 )
                {
                  if ( !sub_4E4D80((int)((char *)&unk_BAFCC0 + 3548 * v61 + 148 * k), (int)&byte_1FDECA0[1724 * a3]) )
                  {
                    v53 = 1;
                    ++v60;
                  }
                  if ( !v53 )
                  {
                    v4 = sub_401BB3(a4, (char *)&unk_BAFCE0 + 3548 * v61 + 148 * k);
                    return sub_4E46A0(1, v4, v10, v8, v9);
                  }
                }
                if ( *(&dword_BAFCAC[887 * v61] + 37 * k) == 6 )
                {
                  if ( *(&dword_BAFCB0[887 * v61] + 37 * k) <= dword_1FDECB8[431 * a3] )
                  {
                    ++v60;
                    v53 = 1;
                  }
                  if ( !v53 )
                  {
                    v4 = sub_401BB3(a4, (char *)&unk_BAFCE0 + 3548 * v61 + 148 * k);
                    return sub_4E46A0(1, v4, v10, v8, v9);
                  }
                }
                if ( *(&dword_BAFCAC[887 * v61] + 37 * k) == 7 )
                {
                  v43 = 0;
                  v43 = sub_401640(&byte_1FDECA0[1724 * a3]);
                  if ( *(&dword_BAFCB0[887 * v61] + 37 * k) == v43 )
                  {
                    ++v60;
                    v53 = 1;
                  }
                  if ( !v53 )
                  {
                    v4 = sub_401BB3(a4, (char *)&unk_BAFCE0 + 3548 * v61 + 148 * k);
                    return sub_4E46A0(1, v4, v10, v8, v9);
                  }
                }
                if ( *(&dword_BAFCAC[887 * v61] + 37 * k) == 8 )
                {
                  v59 = *(&dword_BAFCB0[887 * v61] + 37 * k);
                  ++v60;
                  v53 = 1;
                }
                if ( *(&dword_BAFCAC[887 * v61] + 37 * k) == 9 )
                {
                  v42 = *(&dword_BAFCB0[887 * v61] + 37 * k);
                  v41 = *(&dword_BAFCB4[887 * v61] + 37 * k);
                  v40 = *(&dword_BAFCB8[887 * v61] + 37 * k);
                  v39 = *(&dword_BAFCBC[887 * v61] + 37 * k);
                  if ( v42 > dword_8C76378 || v39 + v42 <= dword_8C76378 )
                  {
                    if ( v41 > 0 )
                    {
                      if ( v41 > dword_8C76378 || v39 + v41 <= dword_8C76378 )
                      {
                        if ( v40 > 0 && v40 <= dword_8C76378 && v39 + v40 > dword_8C76378 )
                        {
                          ++v60;
                          v53 = 1;
                        }
                      }
                      else
                      {
                        ++v60;
                        v53 = 1;
                      }
                    }
                  }
                  else
                  {
                    ++v60;
                    v53 = 1;
                  }
                  if ( !v53 )
                  {
                    v4 = sub_401BB3(a4, (char *)&unk_BAFCE0 + 3548 * v61 + 148 * k);
                    return sub_4E46A0(1, v4, v10, v8, v9);
                  }
                }
                if ( *(&dword_BAFCAC[887 * v61] + 37 * k) == 10 )
                {
                  if ( *(&dword_BAFCB0[887 * v61] + 37 * k) > 1
                    && *(&word_1FDECF4[862 * a3] + 4 * *(&dword_BAFCB0[887 * v61] + 37 * k)) == *(&dword_BAFCB4[887 * v61]
                                                                                                + 37 * k) )
                  {
                    ++v60;
                    v53 = 1;
                  }
                  if ( !v53 )
                  {
                    v4 = sub_401BB3(a4, (char *)&unk_BAFCE0 + 3548 * v61 + 148 * k);
                    return sub_4E46A0(1, v4, v10, v8, v9);
                  }
                }
                if ( *(&dword_BAFCAC[887 * v61] + 37 * k) == 11 )
                {
                  if ( !sub_401A55(
                          *(&byte_1FDF034[1724 * a3] + *(&dword_BAFCB0[887 * v61] + 37 * k)),
                          *(&dword_BAFCB4[887 * v61] + 37 * k)) )
                  {
                    ++v60;
                    v53 = 1;
                  }
                  if ( !v53 )
                  {
                    v4 = sub_401BB3(a4, (char *)&unk_BAFCE0 + 3548 * v61 + 148 * k);
                    return sub_4E46A0(1, v4, v10, v8, v9);
                  }
                }
                if ( *(&dword_BAFCAC[887 * v61] + 37 * k) == 12 )
                {
                  if ( (unsigned __int8)byte_1FDECB4[1724 * a3] == *(&dword_BAFCB0[887 * v61] + 37 * k) )
                  {
                    ++v60;
                    v53 = 1;
                  }
                  if ( !v53 )
                  {
                    v4 = sub_401BB3(a4, (char *)&unk_BAFCE0 + 3548 * v61 + 148 * k);
                    return sub_4E46A0(1, v4, v10, v8, v9);
                  }
                }
                if ( *(&dword_BAFCAC[887 * v61] + 37 * k) == 13 )
                {
                  v13 = *(&dword_BAFCB0[887 * v61] + 37 * k);
                  switch ( v13 )
                  {
                    case 0:
                      if ( word_1FDECD4[862 * a3] >= *(&dword_BAFCB4[887 * v61] + 37 * k) )
                      {
                        ++v60;
                        v53 = 1;
                      }
                      break;
                    case 1:
                      if ( word_1FDECD6[862 * a3] >= *(&dword_BAFCB4[887 * v61] + 37 * k) )
                      {
                        ++v60;
                        v53 = 1;
                      }
                      break;
                    case 2:
                      if ( word_1FDECD8[862 * a3] >= *(&dword_BAFCB4[887 * v61] + 37 * k) )
                      {
                        ++v60;
                        v53 = 1;
                      }
                      break;
                    case 3:
                      if ( word_1FDECDA[862 * a3] >= *(&dword_BAFCB4[887 * v61] + 37 * k) )
                      {
                        ++v60;
                        v53 = 1;
                      }
                      break;
                    default:
                      break;
                  }
                  if ( !v53 )
                  {
                    v4 = sub_401BB3(a4, (char *)&unk_BAFCE0 + 3548 * v61 + 148 * k);
                    return sub_4E46A0(1, v4, v10, v8, v9);
                  }
                }
                v4 = 148 * k;
                if ( *(&dword_BAFCAC[887 * v61] + 37 * k) == 14 )
                {
                  v4 = *(&dword_BAFCB0[887 * v61] + 37 * k);
                  v38 = *(&dword_BAFCB0[887 * v61] + 37 * k);
                  if ( v38 >= 1 )
                  {
                    if ( v38 <= 16 )
                    {
                      v4 = *(&word_1FDECF4[862 * a3] + 4 * v38);
                      if ( v4 != *(&dword_BAFCB4[887 * v61] + 37 * k) )
                      {
                        v4 = v60++ + 1;
                        v53 = 1;
                      }
                    }
                  }
                  if ( !v53 )
                  {
                    v4 = sub_401BB3(a4, (char *)&unk_BAFCE0 + 3548 * v61 + 148 * k);
                    return sub_4E46A0(1, v4, v10, v8, v9);
                  }
                }
              }
              else
              {
                ++v60;
              }
            }
            if ( v60 == 8 )
            {
              v5 = Rand()();
              v6 = v5;
              v4 = v5 / 100;
              v37 = v6 % 100;
              if ( v59 )
              {
                sub_4E3F40(a1, a2, (int)&String, "que,quest:%d char:%s x:%d y:%d rnd:%d");
                v4 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
              }
              for ( k = 0; k < 8; ++k )
              {
                v36 = *(&dword_BB05EC[887 * v61] + 9 * k);
                if ( v36 )
                {
                  if ( v37 >= *(&dword_BB0600[887 * v61] + 9 * k) )
                  {
                    v4 = v37;
                    if ( v37 <= *(&dword_BB0604[887 * v61] + 9 * k) )
                    {
                      switch ( v36 )
                      {
                        case 1:
                          sub_401BB3(a4, (char *)&unk_BB070C + 3548 * v61);
                          break;
                        case 2:
                          sub_401401(a3, &word_BB0608[1774 * v61] + 18 * k);
                          sub_4E3F40(a1, a2, (int)&v35, "!%s [%s]");
                          sub_401B63(a3, &v35);
                          break;
                        case 3:
                          v4 = sub_401640(&byte_1FDECA0[1724 * a3]);
                          v34 = v4;
                          if ( v4 == 2 )
                            return sub_4E46A0(1, v4, v10, v8, v9);
                          v33 = *(&dword_BB05F0[887 * v61] + 9 * k) + word_1FDECE0[862 * a3];
                          if ( v33 < 0 )
                            v33 = 0;
                          if ( v33 >= 399 )
                            v33 = 399;
                          v32 = dword_597F28[v33];
                          dword_1FDECBC[431 * a3] = v32;
                          if ( sub_40164A(&byte_1FDECA0[1724 * a3]) )
                          {
                            sub_401B63(a3, &unk_8A8244);
                            sub_4018B1(a3);
                            sub_401861(a3);
                          }
                          sub_401348(a3);
                          break;
                        case 4:
                          v31 = *(&dword_BB05F4[887 * v61] + 9 * k);
                          v30 = 0;
                          if ( v31 <= 0 )
                            v31 = 1;
                          for ( n = 0; ; ++n )
                          {
                            if ( n < 64 )
                            {
                              if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * n) != *(&dword_BB05F0[887 * v61] + 9 * k) )
                                continue;
                              if ( *(&dword_BB05F8[887 * v61] + 9 * k) )
                              {
                                v28 = sub_4014E2(&dword_1FDED7C[431 * a3] + 2 * n);
                                if ( v28 >= *(&dword_BB05F8[887 * v61] + 9 * k) )
                                {
                                  sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * n, 0, 8u);
                                  sub_401960(a3, 1, n, &dword_1FDED7C[431 * a3] + 2 * n);
                                  ++v30;
                                }
                              }
                              else
                              {
                                sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * n, 0, 8u);
                                sub_401960(a3, 1, n, &dword_1FDED7C[431 * a3] + 2 * n);
                                ++v30;
                              }
                              if ( v30 < v31 )
                                continue;
                            }
                            break;
                          }
                          break;
                        case 5:
                          v27 = *(&dword_BB05F0[887 * v61] + 9 * k);
                          if ( v27 >= 1 && v27 <= 16 )
                          {
                            sub_4E4640(&word_1FDECF4[862 * a3] + 4 * v27, 0, 8u);
                            sub_4E4810(&word_1FDECF4[862 * a3] + 4 * v27, &word_BB0608[1774 * v61] + 18 * k, 8u);
                          }
                          sub_40162C(a3);
                          sub_401AC3(a3, a3);
                          sub_4016EF(a3);
                          sub_4018B1(a3);
                          sub_401348(a3);
                          for ( ii = 0; ii < 16; ++ii )
                            sub_401960(a3, 0, ii, &dword_1FDECFC[431 * a3] + 2 * ii);
                          break;
                        case 6:
                          v25 = *(&dword_BB05F0[887 * v61] + 9 * k);
                          v24 = *(&dword_BB05F4[887 * v61] + 9 * k);
                          SetAffect(a3, v25, v24, 200);
                          sub_4018B1(a3);
                          break;
                        case 7:
                          sub_401401(a3, &word_BB0608[1774 * v61] + 18 * k);
                          sub_4018B6(a3);
                          break;
                        case 8:
                          if ( dword_1FDECB8[431 * a3] + *(&dword_BB05F0[887 * v61] + 9 * k) > 2000000000 )
                            dword_1FDECB8[431 * a3] = 2000000000;
                          else
                            dword_1FDECB8[431 * a3] += *(&dword_BB05F0[887 * v61] + 9 * k);
                          if ( dword_1FDECB8[431 * a3] <= 0 )
                            dword_1FDECB8[431 * a3] = 0;
                          SendEtc(a3);
                          break;
                        case 9:
                          v4 = sub_401640(&byte_1FDECA0[1724 * a3]);
                          v23 = v4;
                          if ( v4 == 2 )
                            return sub_4E46A0(1, v4, v10, v8, v9);
                          if ( (unsigned int)(dword_1FDECBC[431 * a3] + *(&dword_BB05F0[887 * v61] + 9 * k)) > 0x7FE95C80 )
                            dword_1FDECBC[431 * a3] = 2146000000;
                          else
                            dword_1FDECBC[431 * a3] += *(&dword_BB05F0[887 * v61] + 9 * k);
                          sub_401348(a3);
                          if ( sub_40164A(&byte_1FDECA0[1724 * a3]) )
                          {
                            sub_401B63(a3, &unk_8A8244);
                            sub_4018B1(a3);
                            sub_401861(a3);
                          }
                          break;
                        case 10:
                          sub_401A19(a3, *(&dword_BB05F0[887 * v61] + 9 * k), *(&dword_BB05F4[887 * v61] + 9 * k), 0);
                          dword_752C580[790 * a3] = dword_1FDF1F4[431 * a3];
                          dword_752C584[790 * a3] = dword_1FDF1F8[431 * a3];
                          break;
                        case 11:
                          if ( *(&dword_BB05F0[887 * v61] + 9 * k) >= 1 && *(&dword_BB05F0[887 * v61] + 9 * k) <= 16 )
                          {
                            sub_4E4640(&word_1FDECF4[862 * a3] + 4 * *(&dword_BB05F0[887 * v61] + 9 * k), 0, 8u);
                            sub_401960(
                              a3,
                              0,
                              *(&dword_BB05F0[887 * v61] + 9 * k) - 1,
                              &word_1FDECF4[862 * a3] + 4 * *(&dword_BB05F0[887 * v61] + 9 * k));
                          }
                          break;
                        case 12:
                          sub_401A6E(
                            &byte_1FDF034[1724 * a3] + *(&dword_BB05F0[887 * v61] + 9 * k),
                            *(&dword_BB05F4[887 * v61] + 9 * k));
                          break;
                        case 13:
                          v22 = *((_WORD *)&dword_BB05F4[887 * v61] + 18 * k);
                          v21 = 0;
                          v12 = *(&dword_BB05F0[887 * v61] + 9 * k);
                          switch ( v12 )
                          {
                            case 0:
                              if ( v22 )
                              {
                                a2 = 36 * k;
                                if ( word_1FDECD4[862 * a3] - v22 < *(&dword_594D70[6
                                                                                  * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                                                    + *(&dword_BB05F0[887 * v61] + 9 * k)) )
                                {
                                  a2 = 36 * k;
                                  v21 = word_1FDECD4[862 * a3]
                                      - *((_WORD *)&dword_594D70[6 * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                        + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                                  word_1FDECD4[862 * a3] = *((_WORD *)&dword_594D70[6
                                                                                  * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                                           + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                                }
                                else
                                {
                                  v21 = v22;
                                  word_1FDECD4[862 * a3] -= v22;
                                }
                              }
                              else
                              {
                                a2 = 36 * k;
                                v21 = word_1FDECD4[862 * a3]
                                    - *((_WORD *)&dword_594D70[6 * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                      + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                                word_1FDECD4[862 * a3] = *((_WORD *)&dword_594D70[6
                                                                                * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                                         + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                              }
                              break;
                            case 1:
                              if ( v22 )
                              {
                                a2 = 36 * k;
                                if ( word_1FDECD6[862 * a3] - v22 < *(&dword_594D70[6
                                                                                  * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                                                    + *(&dword_BB05F0[887 * v61] + 9 * k)) )
                                {
                                  a2 = 36 * k;
                                  v21 = word_1FDECD6[862 * a3]
                                      - *((_WORD *)&dword_594D70[6 * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                        + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                                  word_1FDECD6[862 * a3] = *((_WORD *)&dword_594D70[6
                                                                                  * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                                           + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                                }
                                else
                                {
                                  v21 = v22;
                                  word_1FDECD6[862 * a3] -= v22;
                                }
                              }
                              else
                              {
                                a2 = 36 * k;
                                v21 = word_1FDECD6[862 * a3]
                                    - *((_WORD *)&dword_594D70[6 * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                      + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                                word_1FDECD6[862 * a3] = *((_WORD *)&dword_594D70[6
                                                                                * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                                         + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                              }
                              break;
                            case 2:
                              if ( v22 )
                              {
                                a2 = 36 * k;
                                if ( word_1FDECD8[862 * a3] - v22 < *(&dword_594D70[6
                                                                                  * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                                                    + *(&dword_BB05F0[887 * v61] + 9 * k)) )
                                {
                                  a2 = 36 * k;
                                  v21 = word_1FDECD8[862 * a3]
                                      - *((_WORD *)&dword_594D70[6 * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                        + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                                  word_1FDECD8[862 * a3] = *((_WORD *)&dword_594D70[6
                                                                                  * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                                           + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                                }
                                else
                                {
                                  v21 = v22;
                                  word_1FDECD8[862 * a3] -= v22;
                                }
                              }
                              else
                              {
                                a2 = 36 * k;
                                v21 = word_1FDECD8[862 * a3]
                                    - *((_WORD *)&dword_594D70[6 * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                      + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                                word_1FDECD8[862 * a3] = *((_WORD *)&dword_594D70[6
                                                                                * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                                         + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                              }
                              break;
                            case 3:
                              if ( v22 )
                              {
                                a2 = 36 * k;
                                if ( word_1FDECDA[862 * a3] - v22 < *(&dword_594D70[6
                                                                                  * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                                                    + *(&dword_BB05F0[887 * v61] + 9 * k)) )
                                {
                                  a2 = 36 * k;
                                  v21 = word_1FDECDA[862 * a3]
                                      - *((_WORD *)&dword_594D70[6 * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                        + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                                  word_1FDECDA[862 * a3] = *((_WORD *)&dword_594D70[6
                                                                                  * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                                           + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                                }
                                else
                                {
                                  v21 = v22;
                                  word_1FDECDA[862 * a3] -= v22;
                                }
                              }
                              else
                              {
                                a2 = 36 * k;
                                v21 = word_1FDECDA[862 * a3]
                                    - *((_WORD *)&dword_594D70[6 * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                      + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                                word_1FDECDA[862 * a3] = *((_WORD *)&dword_594D70[6
                                                                                * (unsigned __int8)byte_1FDECB4[1724 * a3]]
                                                         + 2 * *(&dword_BB05F0[887 * v61] + 9 * k));
                              }
                              break;
                            default:
                              break;
                          }
                          word_1FDEF80[862 * a3] += 4 * v22;
                          sub_4016EF(a3);
                          sub_4018B1(a3);
                          sub_401348(a3);
                          break;
                        case 14:
                          v20 = (unsigned __int8)byte_1FDECB4[1724 * a3];
                          if ( v20 < 0 || v20 > 3 )
                            return sub_4E46A0(1, v4, v10, v8, v9);
                          v19 = *(&dword_BB05F0[887 * v61] + 9 * k);
                          v18 = word_1FDEF80[862 * a3];
                          v17 = word_1FDECD4[862 * a3] - dword_594D70[6 * v20];
                          v16 = word_1FDECD6[862 * a3] - dword_594D74[6 * v20];
                          v15 = word_1FDECD8[862 * a3] - dword_594D78[6 * v20];
                          v14 = word_1FDECDA[862 * a3] - dword_594D7C[6 * v20];
                          if ( v17 <= v19 )
                          {
                            word_1FDECD4[862 * a3] -= v17;
                            v18 += v17;
                          }
                          else
                          {
                            word_1FDECD4[862 * a3] -= v19;
                            v18 += v19;
                          }
                          if ( v16 <= v19 )
                          {
                            word_1FDECD6[862 * a3] -= v16;
                            v18 += v16;
                          }
                          else
                          {
                            word_1FDECD6[862 * a3] -= v19;
                            v18 += v19;
                          }
                          if ( v15 <= v19 )
                          {
                            word_1FDECD8[862 * a3] -= v15;
                            v18 += v15;
                          }
                          else
                          {
                            word_1FDECD8[862 * a3] -= v19;
                            v18 += v19;
                          }
                          if ( v14 <= v19 )
                          {
                            word_1FDECDA[862 * a3] -= v14;
                            v18 += v14;
                          }
                          else
                          {
                            word_1FDECDA[862 * a3] -= v19;
                            v18 += v19;
                          }
                          sub_4016EF(a3);
                          sub_4015FA(&byte_1FDECA0[1724 * a3], dword_1FDF2C8[431 * a3], &byte_1FDF034[1724 * a3]);
                          sub_401375(&byte_1FDECA0[1724 * a3], dword_1FDF2C8[431 * a3]);
                          SetAffect(a3, 44, 20, 20);
                          sub_4018B1(a3);
                          sub_401348(a3);
                          break;
                      }
                    }
                  }
                }
                v4 = k + 1;
              }
            }
          }
        }
      }
    }
  }
  else
  {
    sub_4E3F40(a1, a2, (int)&String, "err, wrong quest number target:%d quest:%d");
    v4 = Log(&String, "-sys", 0);
  }
  return sub_4E46A0(1, v4, v10, v8, v9);
}
// 401348: using guessed type _DWORD __cdecl sub_401348(_DWORD);
// 401375: using guessed type _DWORD __cdecl sub_401375(_DWORD, _DWORD);
// 401401: using guessed type _DWORD __cdecl sub_401401(_DWORD, _DWORD);
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 401500: using guessed type _DWORD __cdecl SendEtc(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4015FA: using guessed type _DWORD __cdecl sub_4015FA(_DWORD, _DWORD, _DWORD);
// 40162C: using guessed type _DWORD __cdecl sub_40162C(_DWORD);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 40164A: using guessed type int __thiscall sub_40164A(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 401861: using guessed type _DWORD __cdecl sub_401861(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 4018B6: using guessed type _DWORD __cdecl sub_4018B6(_DWORD);
// 40195B: using guessed type _DWORD __cdecl SetAffect(_DWORD, _DWORD, _DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 401A55: using guessed type _DWORD __cdecl sub_401A55(char, _DWORD);
// 401A6E: using guessed type _DWORD __cdecl sub_401A6E(_DWORD, _DWORD);
// 401AC3: using guessed type _DWORD __cdecl sub_401AC3(_DWORD, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 401BB3: using guessed type _DWORD __cdecl sub_401BB3(_DWORD, _DWORD);
// 594D70: using guessed type int dword_594D70[];
// 594D74: using guessed type int dword_594D74[];
// 594D78: using guessed type int dword_594D78[];
// 594D7C: using guessed type int dword_594D7C[];
// 597F28: using guessed type int dword_597F28[];
// BAF9A4: using guessed type int dword_BAF9A4[];
// BAF9A8: using guessed type int dword_BAF9A8[];
// BAFCAC: using guessed type int dword_BAFCAC[];
// BAFCB0: using guessed type int dword_BAFCB0[];
// BAFCB4: using guessed type int dword_BAFCB4[];
// BAFCB8: using guessed type int dword_BAFCB8[];
// BAFCBC: using guessed type int dword_BAFCBC[];
// BB05EC: using guessed type int dword_BB05EC[];
// BB05F0: using guessed type int dword_BB05F0[];
// BB05F4: using guessed type int dword_BB05F4[];
// BB05F8: using guessed type int dword_BB05F8[];
// BB0600: using guessed type int dword_BB0600[];
// BB0604: using guessed type int dword_BB0604[];
// BB0608: using guessed type __int16 word_BB0608[];
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDECD4: using guessed type __int16 word_1FDECD4[];
// 1FDECD6: using guessed type __int16 word_1FDECD6[];
// 1FDECD8: using guessed type __int16 word_1FDECD8[];
// 1FDECDA: using guessed type __int16 word_1FDECDA[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECF4: using guessed type __int16 word_1FDECF4[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDEF80: using guessed type __int16 word_1FDEF80[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF2C8: using guessed type int dword_1FDF2C8[];
// 1FDF2CC: using guessed type int dword_1FDF2CC[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752C580: using guessed type int dword_752C580[];
// 752C584: using guessed type int dword_752C584[];
// 8C76378: using guessed type int dword_8C76378;

//----- (0043D7D0) --------------------------------------------------------
int __usercall sub_43D7D0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // edx@9
  __int16 *v8; // edx@229
  int v9; // ecx@229
  char *v10; // ecx@231
  int v11; // eax@231
  char *v12; // eax@233
  int v13; // edx@233
  char *v14; // edx@235
  int v15; // ecx@235
  char *v16; // ecx@237
  int v17; // eax@237
  __int16 *v18; // ecx@265
  int v19; // eax@265
  __int16 v20; // ax@272
  __int16 v21; // ax@275
  __int16 v22; // dx@277
  __int16 v23; // cx@278
  __int16 v24; // dx@280
  __int16 v25; // cx@281
  int v26; // ecx@313
  __int16 v27; // ax@313
  __int16 v28; // cx@314
  __int16 v29; // cx@372
  int v30; // eax@389
  int v31; // eax@391
  __int16 v32; // ax@734
  char v34; // [sp+0h] [bp-CFCh]@0
  int v35; // [sp+4h] [bp-CF8h]@0
  int v36; // [sp+8h] [bp-CF4h]@0
  char v37; // [sp+Ch] [bp-CF0h]@1
  int v38; // [sp+4Ch] [bp-CB0h]@1
  int v39; // [sp+50h] [bp-CACh]@956
  int v40; // [sp+54h] [bp-CA8h]@941
  int v41; // [sp+58h] [bp-CA4h]@939
  int i17; // [sp+5Ch] [bp-CA0h]@933
  int v43; // [sp+60h] [bp-C9Ch]@935
  int v44; // [sp+64h] [bp-C98h]@945
  int v45; // [sp+68h] [bp-C94h]@946
  int v46; // [sp+6Ch] [bp-C90h]@947
  int v47; // [sp+70h] [bp-C8Ch]@948
  int v48; // [sp+74h] [bp-C88h]@949
  int v49; // [sp+78h] [bp-C84h]@950
  int v50; // [sp+7Ch] [bp-C80h]@951
  int i16; // [sp+80h] [bp-C7Ch]@899
  int v52; // [sp+84h] [bp-C78h]@899
  int v53; // [sp+88h] [bp-C74h]@899
  int v54; // [sp+8Ch] [bp-C70h]@899
  int v55; // [sp+90h] [bp-C6Ch]@899
  int v56; // [sp+94h] [bp-C68h]@895
  int v57; // [sp+98h] [bp-C64h]@893
  __int16 v58; // [sp+9Ch] [bp-C60h]@893
  __int16 v59; // [sp+9Eh] [bp-C5Eh]@893
  int v60; // [sp+A4h] [bp-C58h]@893
  int v61; // [sp+A8h] [bp-C54h]@893
  int v62; // [sp+ACh] [bp-C50h]@893
  int v63; // [sp+B0h] [bp-C4Ch]@893
  __int16 v64; // [sp+B4h] [bp-C48h]@892
  __int16 v65; // [sp+B8h] [bp-C44h]@892
  __int16 v66; // [sp+BAh] [bp-C42h]@892
  int v67; // [sp+BCh] [bp-C40h]@892
  int v68; // [sp+C0h] [bp-C3Ch]@892
  int v69; // [sp+C4h] [bp-C38h]@888
  int v70; // [sp+C8h] [bp-C34h]@879
  int v71; // [sp+CCh] [bp-C30h]@863
  int i15; // [sp+D0h] [bp-C2Ch]@859
  int v73; // [sp+D4h] [bp-C28h]@859
  int v74; // [sp+D8h] [bp-C24h]@859
  int v75; // [sp+DCh] [bp-C20h]@859
  int v76; // [sp+E0h] [bp-C1Ch]@856
  int v77; // [sp+E4h] [bp-C18h]@856
  int v78; // [sp+E8h] [bp-C14h]@856
  int v79; // [sp+ECh] [bp-C10h]@856
  int i14; // [sp+F0h] [bp-C0Ch]@851
  int i13; // [sp+F4h] [bp-C08h]@849
  int v82; // [sp+F8h] [bp-C04h]@847
  int v83; // [sp+FCh] [bp-C00h]@847
  int v84; // [sp+100h] [bp-BFCh]@837
  __int16 v85; // [sp+104h] [bp-BF8h]@836
  __int16 v86; // [sp+108h] [bp-BF4h]@836
  __int16 v87; // [sp+10Ah] [bp-BF2h]@836
  int v88; // [sp+10Ch] [bp-BF0h]@836
  int v89; // [sp+110h] [bp-BECh]@836
  int v90; // [sp+114h] [bp-BE8h]@832
  int v91; // [sp+118h] [bp-BE4h]@820
  int v92; // [sp+11Ch] [bp-BE0h]@804
  int i12; // [sp+120h] [bp-BDCh]@800
  int v94; // [sp+124h] [bp-BD8h]@800
  int v95; // [sp+128h] [bp-BD4h]@800
  int v96; // [sp+12Ch] [bp-BD0h]@800
  int v97; // [sp+130h] [bp-BCCh]@795
  int v98; // [sp+134h] [bp-BC8h]@795
  int v99; // [sp+138h] [bp-BC4h]@780
  int v100; // [sp+13Ch] [bp-BC0h]@780
  __int16 v101; // [sp+140h] [bp-BBCh]@779
  char v102; // [sp+142h] [bp-BBAh]@779
  int v103; // [sp+148h] [bp-BB4h]@779
  int v104; // [sp+14Ch] [bp-BB0h]@775
  int i11; // [sp+150h] [bp-BACh]@747
  int v106; // [sp+154h] [bp-BA8h]@747
  int v107; // [sp+158h] [bp-BA4h]@744
  int i10; // [sp+15Ch] [bp-BA0h]@741
  int v109; // [sp+160h] [bp-B9Ch]@739
  int v110; // [sp+164h] [bp-B98h]@739
  int v111; // [sp+168h] [bp-B94h]@739
  int v112; // [sp+16Ch] [bp-B90h]@739
  int v113; // [sp+170h] [bp-B8Ch]@739
  int v114; // [sp+174h] [bp-B88h]@739
  int v115; // [sp+178h] [bp-B84h]@739
  int v116; // [sp+17Ch] [bp-B80h]@739
  int v117; // [sp+180h] [bp-B7Ch]@739
  int v118; // [sp+184h] [bp-B78h]@739
  int v119; // [sp+188h] [bp-B74h]@739
  int v120; // [sp+18Ch] [bp-B70h]@739
  int v121; // [sp+190h] [bp-B6Ch]@739
  int v122; // [sp+194h] [bp-B68h]@739
  int v123; // [sp+198h] [bp-B64h]@739
  int v124; // [sp+19Ch] [bp-B60h]@739
  int v125; // [sp+1A0h] [bp-B5Ch]@739
  int v126; // [sp+1A4h] [bp-B58h]@739
  int v127; // [sp+1A8h] [bp-B54h]@739
  int v128; // [sp+1ACh] [bp-B50h]@739
  int v129; // [sp+1B0h] [bp-B4Ch]@739
  int v130; // [sp+1B4h] [bp-B48h]@739
  int v131; // [sp+1B8h] [bp-B44h]@739
  int v132; // [sp+1BCh] [bp-B40h]@739
  int v133; // [sp+1C0h] [bp-B3Ch]@739
  int v134; // [sp+1C4h] [bp-B38h]@739
  int v135; // [sp+1C8h] [bp-B34h]@739
  int v136; // [sp+1CCh] [bp-B30h]@739
  int v137; // [sp+1D0h] [bp-B2Ch]@739
  int v138; // [sp+1D4h] [bp-B28h]@739
  int v139; // [sp+1D8h] [bp-B24h]@739
  int v140; // [sp+1DCh] [bp-B20h]@739
  int v141; // [sp+1E0h] [bp-B1Ch]@739
  int v142; // [sp+1E4h] [bp-B18h]@739
  int v143; // [sp+1E8h] [bp-B14h]@739
  int v144; // [sp+1ECh] [bp-B10h]@739
  int v145; // [sp+1F0h] [bp-B0Ch]@739
  int v146; // [sp+1F4h] [bp-B08h]@735
  char v147; // [sp+1F8h] [bp-B04h]@735
  int v148; // [sp+2F8h] [bp-A04h]@734
  int v149; // [sp+2FCh] [bp-A00h]@734
  int v150; // [sp+300h] [bp-9FCh]@722
  int v151; // [sp+304h] [bp-9F8h]@722
  int v152; // [sp+308h] [bp-9F4h]@722
  int v153; // [sp+30Ch] [bp-9F0h]@722
  int v154; // [sp+310h] [bp-9ECh]@722
  int v155; // [sp+314h] [bp-9E8h]@722
  int v156; // [sp+318h] [bp-9E4h]@719
  int v157; // [sp+31Ch] [bp-9E0h]@685
  int v158; // [sp+320h] [bp-9DCh]@677
  int v159; // [sp+324h] [bp-9D8h]@677
  int v160; // [sp+328h] [bp-9D4h]@677
  int v161; // [sp+32Ch] [bp-9D0h]@677
  int i9; // [sp+330h] [bp-9CCh]@682
  int v163; // [sp+334h] [bp-9C8h]@672
  int v164; // [sp+338h] [bp-9C4h]@671
  __int16 v165; // [sp+33Ch] [bp-9C0h]@668
  __int16 v166; // [sp+344h] [bp-9B8h]@667
  __int16 v167; // [sp+34Ch] [bp-9B0h]@665
  char v168; // [sp+34Eh] [bp-9AEh]@665
  char v169; // [sp+34Fh] [bp-9ADh]@665
  int v170; // [sp+354h] [bp-9A8h]@664
  int i8; // [sp+358h] [bp-9A4h]@659
  int v172; // [sp+35Ch] [bp-9A0h]@650
  int v173; // [sp+360h] [bp-99Ch]@648
  int v174; // [sp+364h] [bp-998h]@645
  int i7; // [sp+368h] [bp-994h]@642
  __int16 v176; // [sp+36Ch] [bp-990h]@639
  int v177; // [sp+370h] [bp-98Ch]@639
  int v178; // [sp+374h] [bp-988h]@637
  char v179; // [sp+378h] [bp-984h]@639
  char v180; // [sp+3F8h] [bp-904h]@639
  int v181; // [sp+478h] [bp-884h]@633
  __int16 v182; // [sp+47Ch] [bp-880h]@631
  char v183; // [sp+47Eh] [bp-87Eh]@631
  char v184; // [sp+47Fh] [bp-87Dh]@631
  int i6; // [sp+484h] [bp-878h]@624
  int v186; // [sp+488h] [bp-874h]@619
  int v187; // [sp+48Ch] [bp-870h]@617
  int v188; // [sp+490h] [bp-86Ch]@617
  int v189; // [sp+494h] [bp-868h]@537
  int v190; // [sp+498h] [bp-864h]@513
  int i1; // [sp+49Ch] [bp-860h]@509
  int i2; // [sp+4A0h] [bp-85Ch]@508
  int v193; // [sp+4A4h] [bp-858h]@508
  int v194; // [sp+4A8h] [bp-854h]@508
  int v195; // [sp+4ACh] [bp-850h]@493
  int v196; // [sp+4B0h] [bp-84Ch]@488
  int v197; // [sp+4B4h] [bp-848h]@488
  int v198; // [sp+4B8h] [bp-844h]@484
  int v199; // [sp+4BCh] [bp-840h]@455
  int v200; // [sp+4C0h] [bp-83Ch]@455
  int v201; // [sp+4C4h] [bp-838h]@453
  int v202; // [sp+4C8h] [bp-834h]@453
  int v203; // [sp+4CCh] [bp-830h]@451
  int v204; // [sp+4D0h] [bp-82Ch]@451
  int v205; // [sp+4D4h] [bp-828h]@451
  int v206; // [sp+4D8h] [bp-824h]@447
  int i4; // [sp+4DCh] [bp-820h]@445
  int v208; // [sp+4E0h] [bp-81Ch]@444
  int v209; // [sp+4E4h] [bp-818h]@431
  int i3; // [sp+4E8h] [bp-814h]@429
  int v211; // [sp+4ECh] [bp-810h]@429
  int v212; // [sp+4F0h] [bp-80Ch]@434
  int v213; // [sp+4F4h] [bp-808h]@436
  int v214; // [sp+4F8h] [bp-804h]@438
  __int16 v215; // [sp+4FCh] [bp-800h]@428
  __int16 v216; // [sp+500h] [bp-7FCh]@428
  __int16 v217; // [sp+502h] [bp-7FAh]@428
  int v218; // [sp+508h] [bp-7F4h]@428
  int v219; // [sp+50Ch] [bp-7F0h]@428
  __int16 v220; // [sp+510h] [bp-7ECh]@428
  __int16 v221; // [sp+514h] [bp-7E8h]@428
  __int16 v222; // [sp+516h] [bp-7E6h]@428
  int v223; // [sp+51Ch] [bp-7E0h]@428
  char v224; // [sp+520h] [bp-7DCh]@428
  int v225; // [sp+530h] [bp-7CCh]@428
  char v226; // [sp+534h] [bp-7C8h]@417
  int i5; // [sp+634h] [bp-6C8h]@413
  int v228; // [sp+638h] [bp-6C4h]@413
  const CHAR MultiByteStr; // [sp+63Ch] [bp-6C0h]@413
  int v230; // [sp+73Ch] [bp-5C0h]@413
  int v231; // [sp+740h] [bp-5BCh]@413
  int v232; // [sp+744h] [bp-5B8h]@413
  int nn; // [sp+748h] [bp-5B4h]@398
  int v234; // [sp+74Ch] [bp-5B0h]@398
  int v235; // [sp+750h] [bp-5ACh]@398
  __int16 v236; // [sp+754h] [bp-5A8h]@398
  __int16 v237; // [sp+756h] [bp-5A6h]@398
  char v238[4]; // [sp+75Ch] [bp-5A0h]@398
  char v239; // [sp+760h] [bp-59Ch]@398
  int mm; // [sp+770h] [bp-58Ch]@382
  int v241; // [sp+774h] [bp-588h]@382
  int v242; // [sp+778h] [bp-584h]@380
  int v243; // [sp+77Ch] [bp-580h]@369
  int v244; // [sp+780h] [bp-57Ch]@369
  int v245; // [sp+784h] [bp-578h]@369
  int v246; // [sp+788h] [bp-574h]@355
  int v247; // [sp+78Ch] [bp-570h]@351
  int v248; // [sp+790h] [bp-56Ch]@351
  int v249; // [sp+794h] [bp-568h]@351
  int v250; // [sp+798h] [bp-564h]@351
  int v251; // [sp+79Ch] [bp-560h]@351
  int v252; // [sp+7A0h] [bp-55Ch]@351
  int v253; // [sp+7A4h] [bp-558h]@343
  int v254; // [sp+7A8h] [bp-554h]@326
  int v255; // [sp+7ACh] [bp-550h]@322
  int ll; // [sp+7B0h] [bp-54Ch]@319
  int v257; // [sp+7B4h] [bp-548h]@319
  int v258; // [sp+7B8h] [bp-544h]@319
  int v259; // [sp+7BCh] [bp-540h]@319
  char v260; // [sp+7C0h] [bp-53Ch]@313
  int v261; // [sp+840h] [bp-4BCh]@309
  int kk; // [sp+844h] [bp-4B8h]@306
  int v263; // [sp+848h] [bp-4B4h]@289
  int jj; // [sp+84Ch] [bp-4B0h]@287
  int v265; // [sp+850h] [bp-4ACh]@287
  int v266; // [sp+854h] [bp-4A8h]@287
  int v267; // [sp+858h] [bp-4A4h]@287
  int v268; // [sp+85Ch] [bp-4A0h]@287
  int v269; // [sp+860h] [bp-49Ch]@287
  int v270; // [sp+864h] [bp-498h]@287
  int v271; // [sp+868h] [bp-494h]@287
  int v272; // [sp+86Ch] [bp-490h]@313
  int v273; // [sp+870h] [bp-48Ch]@282
  int v274; // [sp+874h] [bp-488h]@282
  int v275; // [sp+878h] [bp-484h]@282
  int v276; // [sp+87Ch] [bp-480h]@271
  int v277; // [sp+880h] [bp-47Ch]@267
  int v278; // [sp+884h] [bp-478h]@265
  int v279; // [sp+888h] [bp-474h]@265
  int v280; // [sp+88Ch] [bp-470h]@265
  int v281; // [sp+890h] [bp-46Ch]@265
  __int16 *v282; // [sp+894h] [bp-468h]@265
  int v283; // [sp+898h] [bp-464h]@261
  int v284; // [sp+89Ch] [bp-460h]@246
  int v285; // [sp+8A0h] [bp-45Ch]@244
  int v286; // [sp+8A4h] [bp-458h]@242
  int v287; // [sp+8A8h] [bp-454h]@242
  int v288; // [sp+8ACh] [bp-450h]@249
  int v289; // [sp+8B0h] [bp-44Ch]@250
  int v290; // [sp+8B4h] [bp-448h]@251
  int v291; // [sp+8B8h] [bp-444h]@252
  int v292; // [sp+8BCh] [bp-440h]@253
  int v293; // [sp+8C0h] [bp-43Ch]@254
  int v294; // [sp+8C4h] [bp-438h]@228
  int v295; // [sp+8C8h] [bp-434h]@229
  int v296; // [sp+8CCh] [bp-430h]@228
  char v297; // [sp+8D0h] [bp-42Ch]@228
  int v298; // [sp+9D0h] [bp-32Ch]@226
  int ii; // [sp+9D4h] [bp-328h]@223
  int v300; // [sp+9D8h] [bp-324h]@222
  int n; // [sp+9DCh] [bp-320h]@219
  int v302; // [sp+9E0h] [bp-31Ch]@218
  char v303; // [sp+9E4h] [bp-318h]@215
  int v304; // [sp+A94h] [bp-268h]@214
  int v305; // [sp+A98h] [bp-264h]@213
  int v306; // [sp+A9Ch] [bp-260h]@212
  int v307; // [sp+AA0h] [bp-25Ch]@211
  int v308; // [sp+AA4h] [bp-258h]@201
  int v309; // [sp+AA8h] [bp-254h]@197
  int m; // [sp+AACh] [bp-250h]@195
  int v311; // [sp+AB0h] [bp-24Ch]@130
  int v312; // [sp+AB4h] [bp-248h]@125
  int v313; // [sp+AB8h] [bp-244h]@123
  int v314; // [sp+ABCh] [bp-240h]@118
  int v315; // [sp+AC0h] [bp-23Ch]@115
  int l; // [sp+AC4h] [bp-238h]@109
  int v317; // [sp+AC8h] [bp-234h]@103
  __int16 v318; // [sp+ACCh] [bp-230h]@103
  __int16 v319; // [sp+ACEh] [bp-22Eh]@103
  int v320; // [sp+AD4h] [bp-228h]@103
  int v321; // [sp+AD8h] [bp-224h]@103
  int v322; // [sp+ADCh] [bp-220h]@103
  int v323; // [sp+AE0h] [bp-21Ch]@100
  int v324; // [sp+AE4h] [bp-218h]@100
  int v325; // [sp+AE8h] [bp-214h]@100
  int v326; // [sp+AECh] [bp-210h]@91
  int v327; // [sp+AF0h] [bp-20Ch]@91
  __int16 v328; // [sp+AF4h] [bp-208h]@88
  __int16 v329; // [sp+AF8h] [bp-204h]@88
  __int16 v330; // [sp+AFAh] [bp-202h]@88
  int v331; // [sp+B00h] [bp-1FCh]@88
  int v332; // [sp+B04h] [bp-1F8h]@88
  int v333; // [sp+B08h] [bp-1F4h]@88
  int v334; // [sp+B0Ch] [bp-1F0h]@88
  int v335; // [sp+B10h] [bp-1ECh]@73
  int k; // [sp+B14h] [bp-1E8h]@71
  int v337; // [sp+B18h] [bp-1E4h]@71
  int v338; // [sp+B1Ch] [bp-1E0h]@71
  int v339; // [sp+B20h] [bp-1DCh]@67
  int v340; // [sp+B24h] [bp-1D8h]@63
  int v341; // [sp+B28h] [bp-1D4h]@58
  int v342; // [sp+B2Ch] [bp-1D0h]@56
  int j; // [sp+B30h] [bp-1CCh]@56
  int v344; // [sp+B34h] [bp-1C8h]@51
  int v345; // [sp+B38h] [bp-1C4h]@44
  int v346; // [sp+B3Ch] [bp-1C0h]@42
  __int16 *v347; // [sp+B40h] [bp-1BCh]@39
  int v348; // [sp+B44h] [bp-1B8h]@31
  int i; // [sp+B48h] [bp-1B4h]@28
  int v350; // [sp+B4Ch] [bp-1B0h]@28
  int v351; // [sp+B50h] [bp-1ACh]@27
  int v352; // [sp+B54h] [bp-1A8h]@16
  int v353; // [sp+B58h] [bp-1A4h]@14
  __int16 v354; // [sp+B5Ch] [bp-1A0h]@14
  __int16 v355; // [sp+B5Eh] [bp-19Eh]@14
  int v356; // [sp+B64h] [bp-198h]@14
  char v357; // [sp+B68h] [bp-194h]@14
  __int16 v358; // [sp+BC8h] [bp-134h]@14
  __int16 v359; // [sp+BCCh] [bp-130h]@14
  __int16 v360; // [sp+BCEh] [bp-12Eh]@14
  int v361; // [sp+BD4h] [bp-128h]@14
  int v362; // [sp+BD8h] [bp-124h]@11
  char v363; // [sp+BDCh] [bp-120h]@11
  char v364; // [sp+BE8h] [bp-114h]@12
  int v365; // [sp+CE8h] [bp-14h]@9
  int v366; // [sp+CECh] [bp-10h]@9
  int v367; // [sp+CF0h] [bp-Ch]@9
  int v368; // [sp+CF4h] [bp-8h]@7
  int v369; // [sp+CF8h] [bp-4h]@1
  int v370; // [sp+CFCh] [bp+0h]@413

  memset(&v37, -858993460, 0xCF0u);
  v369 = -1;
  v38 = a6 - 4;
  v6 = a6 - 4;
  switch ( a6 )
  {
    case 50:
      if ( byte_1FDECB0[1724 * a3] == 7 || byte_1FDECB0[1724 * a3] == 8 )
      {
        if ( (unsigned __int8)byte_1FDEF8C[1724 * a3] == 9 )
        {
          v368 = (unsigned __int16)word_1FDECB2[862 * a3];
          if ( v368 )
          {
            v367 = v368 >> 12;
            v366 = v368 & 0xFFF;
            v7 = 245760 * (v368 >> 12);
            v365 = *(int *)((char *)&dword_88B5F20[15 * (v368 & 0xFFF)] + v7);
            if ( v365 >= 1000 )
            {
              v362 = 30 * dword_8C762C8;
              LOWORD(v7) = v368;
              sub_4011CC(v7, &v363);
              if ( byte_1FDECB0[1724 * a3] == 8 )
              {
                sub_4E3F40(a1, a2, (int)&v364, (const char *)&unk_8B4F44);
                v362 = -v362;
              }
              else
              {
                sub_4E3F40(a1, a2, (int)&v364, (const char *)&unk_8B4F44);
              }
              sub_401C03(v368, -1000);
              v360 = 0;
              v359 = 2058;
              v358 = 16;
              v361 = v362;
              sub_40132A(&v358, 16);
              sub_4E3F40(a1, a2, (int)&String, "+notice !!! %s");
              v354 = 3083;
              v355 = 0;
              v356 = 6;
              LOWORD(v353) = 112;
              sub_4E4720((int)&v357);
              v6 = sub_40132A(&v353, (unsigned __int16)v353);
            }
            else
            {
              v6 = sub_401B63(a3, &unk_8AE9C4);
            }
          }
          else
          {
            v6 = sub_401B63(a3, &unk_8AE9C4);
          }
        }
        else
        {
          v6 = sub_401B63(a3, &unk_8AE9C4);
        }
      }
      else
      {
        v6 = sub_401B63(a3, &unk_8AE9C4);
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 76:
      if ( dword_1FDEFA8[431 * a3] < 100000 )
      {
        v6 = word_1FDED54[862 * a3];
        v352 = word_1FDED54[862 * a3];
        if ( v352 != 1760 && v352 != 1761 && v352 != 1762 && v352 != 1763 )
        {
          v350 = 0;
          for ( i = 0; i < 64; ++i )
          {
            v6 = i;
            v348 = *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i);
            if ( v348 && v348 >= 5110 && v348 <= 5133 )
            {
              sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * i, 0, 8u);
              sub_401960(a3, 1, i, &dword_1FDED7C[431 * a3] + 2 * i);
              v6 = 1724 * a3;
              ++dword_1FDEFA8[431 * a3];
              v350 = 1;
            }
          }
          if ( v350 == 1 )
            v6 = sub_401B63(a3, &unk_8B2D44);
        }
        else
        {
          if ( !byte_1FDF03F[1724 * a3] )
          {
            v6 = 1724 * a3;
            if ( byte_1FDF03D[1724 * a3] != 1 )
            {
              if ( dword_1FDEFA8[431 * a3] >= 2000 )
              {
                v6 = 1724 * a3;
                if ( word_1FDF08C[862 * a3] > 0 )
                {
                  v352 -= 1760;
                  if ( v352 >= 0 )
                  {
                    if ( v352 <= 3 )
                    {
                      v351 = dword_1FDF2C8[431 * a3] / 10;
                      v351 = 10 * v351 + v352 + 6;
                      word_1FDF08C[862 * a3] = v351;
                      sub_4E4640(&word_1FDED54[862 * a3], 0, 8u);
                      sub_401960(a3, 0, 11, &word_1FDED54[862 * a3]);
                      dword_1FDEFA8[431 * a3] -= 2000;
                      sub_401B63(a3, &unk_8AC0C4);
                      sub_4E3F40(a1, a2, (int)&String, "etc, Change SubClass Type %d");
                      v6 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
                    }
                  }
                }
              }
            }
          }
        }
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 58:
      v347 = &word_1FDED6C[862 * a3];
      if ( word_1FDED6C[862 * a3] >= 2330 && *v347 < 2390 )
      {
        v346 = v347[1];
        if ( v346 <= 0 )
        {
          v345 = dword_9CCCC0[35 * *v347];
          if ( a5 )
          {
            v6 = 1724 * a3;
            if ( dword_1FDECB8[431 * a3] >= v345 )
            {
              if ( v345 >= 0 )
              {
                if ( v345 <= (signed int)&unk_5F5E100 )
                {
                  v6 = sub_40147E(a3);
                  v344 = v6;
                  if ( v6 )
                  {
                    dword_1FDECB8[431 * a3] -= v345;
                    v6 = SendEtc(a3);
                  }
                }
              }
            }
            else
            {
              v6 = sub_401B63(a3, &unk_8AA044);
            }
          }
          else
          {
            sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AE8C4);
            v6 = sub_401BB3(a4, &String);
          }
        }
        else
        {
          v6 = sub_401BB3(a4, &unk_8AE844);
        }
      }
      else
      {
        v6 = sub_401BB3(a4, &unk_8AE844);
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 74:
      if ( dword_8C761C0 )
      {
        v6 = sub_401640(&byte_1FDECA0[1724 * a3]);
        if ( !v6 )
        {
          v6 = word_1FDECE0[862 * a3];
          if ( v6 < 370 )
          {
            v342 = -1;
            for ( j = 0; j < 64; ++j )
            {
              v341 = *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * j);
              if ( v341 == 420 )
              {
                v342 = j;
                break;
              }
            }
            if ( v342 == -1 )
            {
              v6 = sub_401B63(a3, &unk_8AE9C4);
            }
            else
            {
              v340 = sub_4013D9(&dword_1FDED7C[431 * a3] + 2 * v342);
              if ( v340 > 1 )
                sub_40187F(&dword_1FDED7C[431 * a3] + 2 * v342, v340 - 1);
              else
                sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * v342, 0, 8u);
              sub_401960(a3, 1, v342, &dword_1FDED7C[431 * a3] + 2 * v342);
              SetAffect(a3, 102, 0, 2);
              v6 = sub_401A19(a3, 2455, 1845, 0);
            }
          }
        }
      }
      else
      {
        v339 = sub_40109B(a3);
        if ( v339 == dword_5A1054 + 1 )
        {
          v6 = sub_401640(&byte_1FDECA0[1724 * a3]);
          if ( !v6 )
          {
            v6 = dword_1FDEF7C[431 * a3] & 0x40000000;
            if ( !v6 )
            {
              if ( word_1FDECE0[862 * a3] >= 370 )
              {
                v338 = (unsigned __int8)byte_1FDECB4[1724 * a3];
                v337 = -1;
                for ( k = 0; k < 64; ++k )
                {
                  v335 = *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * k);
                  if ( !v338 && v335 == 5334 )
                  {
                    v337 = k;
                    break;
                  }
                  if ( v338 == 1 && v335 == 5336 )
                  {
                    v337 = k;
                    break;
                  }
                  if ( v338 == 2 && v335 == 5335 )
                  {
                    v337 = k;
                    break;
                  }
                  if ( v338 == 3 && v335 == 5337 )
                  {
                    v337 = k;
                    break;
                  }
                }
                if ( v337 == -1 )
                {
                  v6 = sub_401B63(a3, &unk_8AE9C4);
                }
                else
                {
                  sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * v337, 0, 8u);
                  sub_401960(a3, 1, v337, &dword_1FDED7C[431 * a3] + 2 * v337);
                  v334 = sub_401834(3196, byte_1FDECB0[1724 * a3]);
                  sub_4E4640(&word_1FDED74[862 * a3], 0, 8u);
                  word_1FDED74[862 * a3] = v334;
                  dword_1FDEF7C[431 * a3] |= 0x40000000u;
                  sub_401528(a3);
                  v333 = dword_752BAE8[790 * a3];
                  v329 = 948;
                  v330 = 0;
                  v331 = v333;
                  v332 = 0;
                  v328 = 20;
                  sub_40132A(&v328, 20);
                  sub_401B63(a3, &unk_8ADAC4);
                  v6 = Log(
                         "etc,Normal Char do Learn Skill Soul",
                         &byte_752BAD8[3160 * a3],
                         dword_752BAEC[790 * a3]);
                }
              }
            }
          }
        }
        else
        {
          if ( v339 )
          {
            v6 = sub_401B63(a3, &unk_8AE9C4);
          }
          else
          {
            v327 = word_1FDECE0[862 * a3];
            v326 = sub_401640(&byte_1FDECA0[1724 * a3]);
            if ( v326 == 1 )
            {
              v327 += 200;
            }
            else
            {
              if ( v326 == 2 )
                v327 += 400;
            }
            v327 *= 10000;
            if ( v327 < 2200000 )
              v327 = 0;
            if ( dword_1FDECB8[431 * a3] >= v327 )
            {
              dword_1FDECB8[431 * a3] -= v327;
              SendEtc(a3);
              sub_401087(a3, dword_5A1054 + 1);
              sub_401B63(a3, &unk_8B3D44);
              sub_4E3F40(a1, a2, (int)&String, "etc,townspeople [%s] %d coin : %d");
              v6 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
              if ( (unsigned __int8)byte_1FDEF8C[1724 * a3] == 2 )
              {
                v325 = (unsigned __int16)word_1FDECB2[862 * a3];
                v324 = v325 >> 12;
                v323 = v325 & 0xFFF;
                if ( v325 >= 0 && v325 <= 65535 )
                {
                  sub_4E4640(&v317, 0, 0x18u);
                  v319 = a3;
                  LOWORD(v317) = 24;
                  v318 = 3095;
                  v320 = v325;
                  v321 = 2;
                  v322 = dword_5A1054 + 1;
                  v6 = sub_40132A(&v317, 24);
                }
                else
                {
                  sub_4E3F40(a1, a2, (int)&String, "err,guild index error %d");
                  v6 = Log(&String, "-system", 0);
                }
              }
            }
            else
            {
              v6 = sub_401B63(a3, &unk_8AA044);
            }
          }
        }
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 72:
      if ( dword_5A0A6C != 1 )
      {
        v6 = sub_401B63(a3, &unk_8AFB44);
        return sub_4E46A0(1, v6, v36, v34, v35);
      }
      if ( dword_1FDF1D8[431 * a3] )
      {
        v6 = sub_401B63(a3, &unk_8ADA44);
        return sub_4E46A0(1, v6, v36, v34, v35);
      }
      for ( l = 0; l < 21; ++l )
      {
        if ( dword_5A0B18[4 * l] && dword_5A0B18[4 * l] == a3 )
        {
          v6 = sub_401B63(a3, &unk_8B16C4);
          return sub_4E46A0(1, v6, v36, v34, v35);
        }
      }
      v315 = 0;
      for ( l = 0; l < 1000; ++l )
      {
        v314 = (unsigned __int16)word_1FDECEC[862 * l];
        if ( v314 && dword_752BAF0[790 * l] == 22 && a3 == dword_1FDF1D8[431 * l] )
          ++v315;
      }
      v313 = -1;
      for ( l = 0; l < 64; ++l )
      {
        v312 = *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * l);
        if ( v312 == 5134 )
        {
          v313 = l;
          break;
        }
      }
      if ( v313 == -1 )
      {
        v6 = sub_401B63(a3, &unk_8ADCC4);
        return sub_4E46A0(1, v6, v36, v34, v35);
      }
      v311 = sub_4014E2(&dword_1FDED7C[431 * a3] + 2 * v313);
      if ( v311 )
      {
        switch ( v311 )
        {
          case 1:
            if ( dword_5A0B38 )
            {
              if ( dword_5A0B48 )
              {
                if ( dword_5A0B58 )
                {
                  v6 = sub_401B63(a3, &unk_8AFB44);
                  return sub_4E46A0(1, v6, v36, v34, v35);
                }
                dword_5A0B58 = a3;
                dword_1FDF314[431 * a3] = 5;
              }
              else
              {
                dword_5A0B48 = a3;
                dword_1FDF314[431 * a3] = 4;
              }
            }
            else
            {
              dword_5A0B38 = a3;
              dword_1FDF314[431 * a3] = 3;
            }
            break;
          case 2:
            if ( dword_5A0B68 )
            {
              if ( dword_5A0B78 )
              {
                if ( dword_5A0B88 )
                {
                  v6 = sub_401B63(a3, &unk_8AFB44);
                  return sub_4E46A0(1, v6, v36, v34, v35);
                }
                dword_5A0B88 = a3;
                dword_1FDF314[431 * a3] = 8;
              }
              else
              {
                dword_5A0B78 = a3;
                dword_1FDF314[431 * a3] = 7;
              }
            }
            else
            {
              dword_5A0B68 = a3;
              dword_1FDF314[431 * a3] = 6;
            }
            break;
          case 3:
            if ( dword_5A0BC8 )
            {
              if ( dword_5A0BD8 )
              {
                if ( dword_5A0BE8 )
                {
                  v6 = sub_401B63(a3, &unk_8AFB44);
                  return sub_4E46A0(1, v6, v36, v34, v35);
                }
                dword_5A0BE8 = a3;
                dword_1FDF314[431 * a3] = 14;
              }
              else
              {
                dword_5A0BD8 = a3;
                dword_1FDF314[431 * a3] = 13;
              }
            }
            else
            {
              dword_5A0BC8 = a3;
              dword_1FDF314[431 * a3] = 12;
            }
            break;
          case 4:
            if ( dword_5A0BF8 )
            {
              if ( dword_5A0C08 )
              {
                if ( dword_5A0C18 )
                {
                  if ( dword_5A0C28 )
                  {
                    v6 = sub_401B63(a3, &unk_8AFB44);
                    return sub_4E46A0(1, v6, v36, v34, v35);
                  }
                  dword_5A0C28 = a3;
                  dword_1FDF314[431 * a3] = 18;
                }
                else
                {
                  dword_5A0C18 = a3;
                  dword_1FDF314[431 * a3] = 17;
                }
              }
              else
              {
                dword_5A0C08 = a3;
                dword_1FDF314[431 * a3] = 16;
              }
            }
            else
            {
              dword_5A0BF8 = a3;
              dword_1FDF314[431 * a3] = 15;
            }
            break;
          case 6:
            if ( dword_5A0C38 )
            {
              if ( dword_5A0C48 )
              {
                if ( dword_5A0C58 )
                {
                  v6 = sub_401B63(a3, &unk_8AFB44);
                  return sub_4E46A0(1, v6, v36, v34, v35);
                }
                dword_5A0C58 = a3;
                dword_1FDF314[431 * a3] = 21;
              }
              else
              {
                dword_5A0C48 = a3;
                dword_1FDF314[431 * a3] = 20;
              }
            }
            else
            {
              dword_5A0C38 = a3;
              dword_1FDF314[431 * a3] = 19;
            }
            break;
          default:
            if ( v311 != 5 )
            {
              v6 = sub_401B63(a3, &unk_8AFB44);
              return sub_4E46A0(1, v6, v36, v34, v35);
            }
            if ( dword_5A0B98 )
            {
              if ( dword_5A0BA8 )
              {
                if ( dword_5A0BB8 )
                {
                  v6 = sub_401B63(a3, &unk_8AFB44);
                  return sub_4E46A0(1, v6, v36, v34, v35);
                }
                dword_5A0BB8 = a3;
                dword_1FDF314[431 * a3] = 11;
              }
              else
              {
                dword_5A0BA8 = a3;
                dword_1FDF314[431 * a3] = 10;
              }
            }
            else
            {
              dword_5A0B98 = a3;
              dword_1FDF314[431 * a3] = 9;
            }
            break;
        }
      }
      else
      {
        if ( dword_5A0B18[0] )
        {
          if ( dword_5A0B28 )
          {
            v6 = sub_401B63(a3, &unk_8AFB44);
            return sub_4E46A0(1, v6, v36, v34, v35);
          }
          dword_5A0B28 = a3;
          dword_1FDF314[431 * a3] = 2;
        }
        else
        {
          dword_5A0B18[0] = a3;
          dword_1FDF314[431 * a3] = 1;
        }
      }
      sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * v313, 0, 8u);
      sub_401960(a3, 1, v313, &dword_1FDED7C[431 * a3] + 2 * v313);
      v6 = sub_401B63(a3, &unk_8AEDC4);
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 75:
      for ( m = 0; m < 64; ++m )
      {
        v6 = m;
        v309 = *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * m);
        if ( v309 == 4127 )
        {
          dword_1FDEFAC[431 * a3] += 100;
          sub_4E3F40(a1, a2, (int)&String, "etc,Carry item [%d]-%d");
          Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
          sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * m, 0, 8u);
          v6 = sub_401960(a3, 1, m, &dword_1FDED7C[431 * a3] + 2 * m);
          return sub_4E46A0(1, v6, v36, v34, v35);
        }
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 68:
      v6 = sub_40109B(a3);
      v308 = v6;
      if ( v6 == dword_5A1054 + 1 )
      {
        if ( dword_1FDEFA8[431 * a3] >= 100
          && word_1FDED04[862 * a3] >= 3503
          && word_1FDED04[862 * a3] <= 3506
          && (byte_1FDED06[1724 * a3] == 43 || !byte_1FDED06[1724 * a3])
          && byte_1FDED07[1724 * a3] < 9 )
        {
          ++byte_1FDED07[1724 * a3];
          byte_1FDED06[1724 * a3] = 43;
          if ( byte_1FDED07[1724 * a3] > 9 )
            byte_1FDED07[1724 * a3] = 9;
          sub_4E3F40(a1, a2, (int)&String, "etc, HandCore, Item Effect up [item idx : %d , value :%d]");
          Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
          dword_1FDEFA8[431 * a3] -= 100;
        }
        v6 = sub_4013D4(a3);
        v307 = v6;
        if ( v6 >= 100 )
        {
          v306 = v307 / 100;
          dword_1FDEFA8[431 * a3] += 10 * v307 / 100;
          v307 -= 100 * v306;
          sub_4017AD(a3, v307);
          if ( word_1FDECB2[862 * a3] )
          {
            v304 = (unsigned __int16)word_1FDECB2[862 * a3];
            sub_401C03(v304, v306);
          }
          else
          {
            v305 = dword_594F20;
            sub_401C03(dword_594F20, v306);
          }
          sub_4016EF(a3);
          sub_4010FF(a3, &v303);
          sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v303, 0);
          sub_4E3F40(a1, a2, (int)&String, "etc, trans for fame %d");
          Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
          v6 = sub_401B63(a3, &unk_8B2D44);
        }
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 4:
      if ( dword_BD6A4C )
        sub_401A4B(a3);
      v6 = sub_4010A5(a3);
      v302 = v6;
      if ( !v6 )
      {
        for ( n = 0; n < 63; ++n )
        {
          v300 = *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * n);
          if ( v300 > 0 )
          {
            for ( ii = 0; ii < 16; ++ii )
            {
              v298 = word_74F8198[26 * ii];
              if ( v298 > 0 && v300 == v298 )
              {
                sub_4E3F40(a1, a2, (int)&String, "tra,_gold_ 0");
                sub_401B1D(&dword_1FDED7C[431 * a3] + 2 * n, &v297);
                sub_4E4730((int)&String, (int)&v297);
                Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
                sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * n, 0, 8u);
                sub_401960(a3, 1, n, &dword_1FDED7C[431 * a3] + 2 * n);
                v296 = Rand()() % 1000;
                sub_4E4640(&v294, 0, 8u);
                if ( v296 >= word_74F81C2[26 * ii] )
                {
                  if ( v296 >= word_74F81C4[26 * ii] )
                  {
                    if ( v296 >= word_74F81C6[26 * ii] )
                    {
                      if ( v296 >= word_74F81C8[26 * ii] )
                      {
                        if ( v296 < word_74F81CA[26 * ii] )
                        {
                          v16 = (char *)&unk_74F81BA + 52 * ii;
                          v17 = *((_DWORD *)v16 + 1);
                          v294 = *(_DWORD *)v16;
                          v295 = v17;
                        }
                      }
                      else
                      {
                        v14 = (char *)&unk_74F81B2 + 52 * ii;
                        v15 = *((_DWORD *)v14 + 1);
                        v294 = *(_DWORD *)v14;
                        v295 = v15;
                      }
                    }
                    else
                    {
                      v12 = (char *)&unk_74F81AA + 52 * ii;
                      v13 = *((_DWORD *)v12 + 1);
                      v294 = *(_DWORD *)v12;
                      v295 = v13;
                    }
                  }
                  else
                  {
                    v10 = (char *)&unk_74F81A2 + 52 * ii;
                    v11 = *((_DWORD *)v10 + 1);
                    v294 = *(_DWORD *)v10;
                    v295 = v11;
                  }
                }
                else
                {
                  v8 = &word_74F819A[26 * ii];
                  v9 = *((_DWORD *)v8 + 1);
                  v294 = *(_DWORD *)v8;
                  v295 = v9;
                }
                if ( (_WORD)v294 )
                {
                  sub_4E3F40(a1, a2, (int)&String, "tra,%s 0");
                  sub_401B1D(&v294, &v297);
                  sub_4E4730((int)&String, (int)&v297);
                  Log(&String, "_gold_", dword_752BAEC[790 * a3]);
                  sub_401401(a3, &v294);
                  v6 = sub_401BB3(a4, &unk_8ACC44);
                }
                else
                {
                  v6 = sub_401BB3(a4, &unk_8ACBC4);
                }
                return sub_4E46A0(1, v6, v36, v34, v35);
              }
            }
          }
        }
        sub_4E4640(&v287, 0, 0x1Cu);
        v286 = 0;
        for ( n = 0; n < 64; ++n )
        {
          v285 = *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * n);
          if ( v285 >= 421 && v285 <= 427 )
          {
            v284 = v285 - 421;
            *(&v287 + v285 - 421) = 1;
            ++v286;
          }
        }
        if ( v287 && v288 && v289 && v290 && v291 && v292 && v293 )
        {
          if ( word_1FDED2C[862 * a3] )
          {
            if ( word_1FDED2C[862 * a3] < 3000 || word_1FDED2C[862 * a3] >= 3200 )
            {
              v283 = 0;
              v283 = sub_40191F(&word_1FDED2C[862 * a3], 112);
              if ( v283 == 1 )
              {
                v6 = sub_401BB3(a4, &unk_8B2944);
              }
              else
              {
                if ( v283 == 3 )
                {
                  v6 = sub_401BB3(a4, &unk_8B4944);
                }
                else
                {
                  sub_401B45(a3, 23, 0);
                  v282 = &word_1FDED2C[862 * a3];
                  v18 = &word_1FDED2C[862 * a3];
                  v19 = *((_DWORD *)v18 + 1);
                  v280 = *(_DWORD *)v18;
                  v281 = v19;
                  v279 = 25 * v286 / 10;
                  v278 = word_9CCC86[70 * word_1FDED2C[862 * a3]];
                  LOBYTE(word_1FDED2C[862 * a3 + 1]) = 0;
                  *((_BYTE *)v282 + 5) = 0;
                  *((_BYTE *)v282 + 4) = 0;
                  *((_BYTE *)v282 + 5) = 0;
                  *((_BYTE *)v282 + 6) = 0;
                  *((_BYTE *)v282 + 7) = 0;
                  sub_4015CD(v282, v279 + v278, 1, 1104, 0);
                  for ( n = 0; n < 64; ++n )
                  {
                    v277 = *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * n);
                    if ( v277 >= 421 && v277 <= 427 )
                    {
                      *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * n) = 0;
                      sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * n, 0, 8u);
                    }
                  }
                  sub_4018B6(a3);
                  v276 = 1 << v369;
                  word_1FDECB6[862 * a3] |= 1 << v369;
                  sub_401960(a3, 0, 6, &word_1FDED2C[862 * a3]);
                  sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8A8844);
                  sub_401BB3(a4, &String);
                  SetAffect(a3, 44, 200, 200);
                  sub_4018B1(a3);
                  sub_4E3F40(a1, a2, (int)&String, "etc,crystal %d-%d from %d:%d %d:%d %d:%d to %d:%d %d:%d %d:%d");
                  v6 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
                }
              }
            }
            else
            {
              v6 = sub_401BB3(a4, &unk_8A8744);
            }
          }
          else
          {
            v6 = sub_401BB3(a4, &unk_8A8744);
          }
        }
        else
        {
          v6 = sub_401BB3(a4, &unk_8A86C4);
        }
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 10:
      v20 = word_1FDECB6[862 * a3];
      if ( v20 & 2 )
      {
        v6 = sub_401BB3(a4, &unk_8AB444);
      }
      else
      {
        if ( a5 )
        {
          v21 = word_1FDECB6[862 * a3];
          LOBYTE(v21) = v21 | 2;
          word_1FDECB6[862 * a3] = v21;
          v6 = sub_401B63(a3, &unk_8A6944);
        }
        else
        {
          v6 = sub_401BB3(a4, &unk_8A8A44);
        }
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 11:
      v22 = word_1FDECB6[862 * a3];
      if ( v22 & 4 )
      {
        v23 = word_1FDECB6[862 * a3];
        if ( v23 & 8 )
        {
          sub_401C21(&String, 66, &byte_1FDECA0[1724 * a3]);
          v6 = sub_401BB3(a4, &String);
          return sub_4E46A0(1, v6, v36, v34, v35);
        }
      }
      v24 = word_1FDECB6[862 * a3];
      if ( !(v24 & 4) || (v25 = word_1FDECB6[862 * a3], v25 & 8) )
        goto LABEL_314;
      v275 = word_1FDECE0[862 * a3];
      v274 = 551;
      v273 = 1;
      if ( v275 >= 50 )
      {
        if ( v275 >= 80 )
        {
          v274 = Rand()() % 4 + 559;
          v273 = 3;
        }
        else
        {
          v274 = Rand()() % 4 + 555;
          v273 = 2;
        }
      }
      else
      {
        v274 = Rand()() % 4 + 551;
        v273 = 1;
      }
      LOWORD(v271) = v274;
      v270 = Rand()() % 10;
      v269 = dword_597F00[v270];
      v268 = *(&dword_597D70[20 * v273] + 2 * v270);
      v267 = *(&dword_597D74[20 * v273] + 2 * v270);
      v266 = v267 + 1 - v268;
      v265 = Rand()() % v266 + v268;
      HIWORD(v271) = 43;
      for ( jj = 1; jj <= 2; ++jj )
      {
        v263 = Rand()() % 8;
        if ( v263 )
        {
          switch ( v263 )
          {
            case 1:
              *((_BYTE *)&v271 + 2 * jj + 2) = 2;
              *((_BYTE *)&v271 + 2 * jj + 3) = Rand()() % 21 + 5;
              break;
            case 2:
              *((_BYTE *)&v271 + 2 * jj + 2) = 26;
              *((_BYTE *)&v271 + 2 * jj + 3) = Rand()() % 11 + 5;
              break;
            case 3:
              *((_BYTE *)&v271 + 2 * jj + 2) = 5;
              *((_BYTE *)&v271 + 2 * jj + 3) = Rand()() % 51 + 20;
              break;
            case 4:
              *((_BYTE *)&v271 + 2 * jj + 2) = 60;
              *((_BYTE *)&v271 + 2 * jj + 3) = Rand()() % 7 + 2;
              break;
            case 5:
              *((_BYTE *)&v271 + 2 * jj + 2) = 7;
              *((_BYTE *)&v271 + 2 * jj + 3) = Rand()() % 16 + 5;
              break;
            case 6:
              *((_BYTE *)&v271 + 2 * jj + 2) = 8;
              *((_BYTE *)&v271 + 2 * jj + 3) = Rand()() % 16 + 5;
              break;
            case 7:
              *((_BYTE *)&v271 + 2 * jj + 2) = 9;
              *((_BYTE *)&v271 + 2 * jj + 3) = Rand()() % 16 + 5;
              break;
          }
        }
        else
        {
          *((_BYTE *)&v271 + 2 * jj + 2) = 4;
          *((_BYTE *)&v271 + 2 * jj + 3) = Rand()() % 41 + 20;
        }
      }
      for ( kk = 0; ; ++kk )
      {
        if ( kk < 60 )
        {
          v261 = sub_4017E4(&dword_1FDED7C[431 * a3], kk);
          if ( !v261 )
            continue;
          if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * kk) )
            continue;
        }
        break;
      }
      if ( kk == 60 )
      {
        sub_40114F(&String, 149);
        v6 = sub_401BB3(a4, &String);
      }
      else
      {
        v26 = kk;
        *(&dword_1FDED7C[431 * a3] + 2 * kk) = v271;
        *(&dword_1FDED80[431 * a3] + 2 * v26) = v272;
        sub_401B1D(&dword_1FDED7C[431 * a3] + 2 * kk, &v260);
        sub_4E3F40(a1, a2, (int)&String, "que,mystic land quest %s");
        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        sub_401960(a3, 1, kk, &dword_1FDED7C[431 * a3] + 2 * kk);
        sub_40114F(&String, 67);
        sub_401BB3(a4, &String);
        v27 = word_1FDECB6[862 * a3];
        LOBYTE(v27) = v27 | 8;
        word_1FDECB6[862 * a3] = v27;
        sub_401B63(a3, &unk_8A6A44);
LABEL_314:
        v28 = word_1FDECB6[862 * a3];
        if ( v28 & 2 )
        {
          sub_40114F(&String, 70);
          v6 = sub_401BB3(a4, &String);
        }
        else
        {
          sub_40114F(&String, 68);
          v6 = sub_401BB3(a4, &String);
        }
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 12:
      if ( word_1FDED64[862 * a3] == 447 || word_1FDED64[862 * a3] == 692 )
      {
        v246 = 0;
        if ( word_1FDED64[862 * a3] == 447 )
        {
          v246 = 1000000;
        }
        else
        {
          v6 = word_1FDED64[862 * a3];
          if ( v6 != 692 )
            return sub_4E46A0(1, v6, v36, v34, v35);
          v246 = (int)"UlSVW}\x1B";
        }
        if ( dword_1FDECB8[431 * a3] >= v246 )
        {
          if ( v246 == 1000000 )
          {
            dword_1FDECB8[431 * a3] -= 1000000;
            word_1FDED64[862 * a3] = Rand()() % 3 + 448;
          }
          else
          {
            dword_1FDECB8[431 * a3] -= (signed int)"UlSVW}\x1B";
            word_1FDED64[862 * a3] = Rand()() % 3 + 693;
          }
          sub_401960(a3, 0, 13, &word_1FDED64[862 * a3]);
          sub_401348(a3);
          sub_401BB3(a4, &unk_8AB6C4);
          SetAffect(a3, 44, 20, 20);
          sub_4018B1(a3);
          sub_4E3F40(a1, a2, (int)&String, "que,device circle make item:%d");
          v6 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        }
        else
        {
          if ( v246 == 1000000 )
            v6 = sub_401BB3(a4, &unk_8AB3C4);
          else
            v6 = sub_401BB3(a4, &unk_8ABAC4);
        }
      }
      else
      {
        v259 = 0;
        v258 = 0;
        v257 = 0;
        for ( ll = 0; ll < 64; ++ll )
        {
          switch ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * ll) )
          {
            case 0x1A3:
              v255 = sub_4013D9(&dword_1FDED7C[431 * a3] + 2 * ll);
              if ( v255 < 1 )
                v255 = 1;
              v259 += v255;
              break;
            case 0x1A4:
              v254 = sub_4013D9(&dword_1FDED7C[431 * a3] + 2 * ll);
              if ( v254 < 1 )
                v254 = 1;
              v258 += v254;
              break;
            case 0xCFF:
              ++v257;
              break;
          }
        }
        if ( v259 >= 10 || v258 >= 10 || v257 >= 3 )
        {
          if ( dword_1FDECB8[431 * a3] >= 1000000 )
          {
            do
            {
              if ( v259 >= 10 )
              {
                sub_401C9E(a3, 419, 412, 10);
                v259 -= 10;
              }
              if ( v258 >= 10 )
              {
                sub_401C9E(a3, 420, 413, 10);
                v258 -= 10;
              }
              if ( v257 >= 3 )
              {
                v253 = Rand()() % 3;
                if ( Rand()() % 2 )
                  sub_401C9E(a3, 3327, v253 + 3324, 3);
                else
                  sub_401C9E(a3, 3327, v253 + 3390, 3);
                v257 -= 3;
              }
            }
            while ( v259 >= 10 || v258 >= 10 || v257 >= 3 );
            dword_1FDECB8[431 * a3] -= 1000000;
            SetAffect(a3, 44, 20, 20);
            sub_4018B1(a3);
            sub_4018B6(a3);
            SendEtc(a3);
            v252 = dword_1FDF1F4[431 * a3];
            v251 = dword_1FDF1F8[431 * a3];
            v250 = sub_401C08(v252, v251);
            v249 = 1000000;
            v248 = 0;
            v247 = 0;
            v247 = dword_594E18[21 * v250];
            if ( v247 > 0 && v247 < 30 )
            {
              v249 = v247 * v249 / 100;
              v248 = v249 / 2;
            }
            v6 = sub_401983(v250, v248 / 2);
          }
          else
          {
            v6 = sub_401BB3(a4, &unk_8AB3C4);
          }
        }
        else
        {
          v6 = sub_401BB3(a4, &unk_8AB644);
        }
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 13:
      v245 = word_1FDED64[862 * a3];
      v244 = v245;
      v243 = 0;
      if ( v245 != 448 && v245 != 449 && v245 != 450 )
      {
        if ( v245 != 693 && v245 != 694 && v245 != 695 )
        {
          v6 = sub_401BB3(a4, &unk_8AB544);
          return sub_4E46A0(1, v6, v36, v34, v35);
        }
        v244 -= 693;
        v243 = 2;
      }
      else
      {
        v29 = word_1FDECB6[862 * a3];
        if ( v29 & 0x10 )
        {
          v6 = sub_401BB3(a4, &unk_8A8B44);
          return sub_4E46A0(1, v6, v36, v34, v35);
        }
        v244 -= 448;
        v243 = 1;
      }
      v242 = 50;
      if ( v243 == 2 )
        v242 = 100;
      v241 = word_1FDEF82[862 * a3];
      for ( mm = 0; mm < 4; ++mm )
      {
        if ( (unsigned __int8)*(&byte_1FDECDC[1724 * a3] + mm) <= v242 )
        {
          v241 += (unsigned __int8)*(&byte_1FDECDC[1724 * a3] + mm);
          *(&byte_1FDECDC[1724 * a3] + mm) = 0;
        }
        else
        {
          v241 += v242;
          *(&byte_1FDECDC[1724 * a3] + mm) -= v242;
        }
      }
      word_1FDEF82[862 * a3] = v241;
      if ( !v244 )
      {
        v30 = dword_1FDEF7C[431 * a3];
        LOBYTE(v30) = 0;
        dword_1FDEF7C[431 * a3] = v30;
      }
      if ( v244 == 1 )
      {
        v31 = dword_1FDEF7C[431 * a3];
        BYTE1(v31) = 0;
        dword_1FDEF7C[431 * a3] = v31;
      }
      if ( v244 == 2 )
        dword_1FDEF7C[431 * a3] &= 0xFF00FFFFu;
      sub_40107D(&byte_1FDECA0[1724 * a3], dword_1FDF2C8[431 * a3]);
      sub_4E4640(&word_1FDED64[862 * a3], 0, 8u);
      sub_401960(a3, 0, 13, &word_1FDED64[862 * a3]);
      sub_401348(a3);
      sub_401BB3(a4, &unk_8AB5C4);
      SetAffect(a3, 44, 20, 20);
      sub_4018B1(a3);
      if ( v243 == 1 )
      {
        word_1FDECB6[862 * a3] |= 0x10u;
      }
      else
      {
        if ( v243 == 2 )
          word_1FDECB6[862 * a3] |= 0x20u;
      }
      sub_401B63(a3, &unk_8A6AC4);
      sub_4E3F40(a1, a2, (int)&String, "que,device circle quest item:%d mode:%d type:%d");
      Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
      sub_4E4640(&byte_1FDEF88[1724 * a3], 0xFFu, 4u);
      sub_4E4640((char *)&unk_752C3EC + 3160 * a3, 0xFFu, 0x10u);
      v236 = 888;
      v237 = 30000;
      LOWORD(v235) = 32;
      sub_4E4810(v238, &byte_1FDEF88[1724 * a3], 4u);
      sub_4E4810(&v239, (char *)&unk_752C3EC + 3160 * a3, 0x10u);
      v234 = (unsigned __int8)byte_1FDECB4[1724 * a3];
      for ( nn = 0; nn < 12; ++nn )
      {
        if ( v238[nn] >= 0 && v238[nn] < 24 )
          v238[nn] += 24 * v234;
      }
      v6 = sub_401203(&v235, (unsigned __int16)v235);
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 15:
      if ( word_1FDED4C[862 * a3] != 1742 || word_1FDED54[862 * a3] < 1760 || word_1FDED54[862 * a3] > 1763 )
      {
        v205 = byte_1FDECB0[1724 * a4];
        v204 = word_1FDECE0[862 * a3];
        v203 = 0;
        if ( sub_401640(&byte_1FDECA0[1724 * a3]) == 2 )
          v204 += 400;
        v202 = word_1FDED74[862 * a3];
        v201 = 0;
        if ( word_1FDED64[862 * a3] == 4081 )
          v201 = 1;
        v200 = 0;
        v6 = sub_401870(v202);
        v199 = v6;
        if ( v202 == 3197 || v202 == 3198 || v202 == 3199 )
          v203 = 4;
        if ( v202 == 3194 || v202 == 3195 || v202 == 3196 )
          v203 = 4;
        if ( v202 == 3191 || v202 == 3192 || v202 == 3193 )
          v203 = 3;
        if ( v202 == 543
          || v202 == 544
          || v202 == 1766
          || v202 == 1767
          || v202 == 1768
          || v202 == 1769
          || v202 == 1770
          || v202 == 1771 )
          v203 = 2;
        if ( v202 == 545 || v202 == 546 || v202 == 549 )
          v203 = 1;
        if ( v199 == 6 )
          v199 = 0;
        if ( !v199 || v199 == v205 )
        {
          v198 = 2 * dword_5A105C / 64;
          if ( v198 < 1 )
            v198 = 1;
          if ( dword_5A1058 < 1 )
            dword_5A1058 = 1;
          v197 = dword_5A1058 / v198;
          v6 = 64 - dword_5A1058 / v198;
          v196 = 64 - dword_5A1058 / v198;
          if ( dword_5A1058 / v198 < 4 )
            v197 = 4;
          if ( v196 < 4 )
            v196 = 4;
          if ( v205 == 7 )
            v195 = v197;
          if ( v205 == 8 )
            v195 = v196;
          if ( a5 )
          {
            if ( v203 >= 2 && v199 )
            {
              if ( v205 == 7 )
              {
                v6 = sub_401B63(a3, &unk_8AC0C4);
                return sub_4E46A0(1, v6, v36, v34, v35);
              }
              if ( v205 == 8 )
              {
                v6 = sub_401B63(a3, &unk_8AC144);
                return sub_4E46A0(1, v6, v36, v34, v35);
              }
            }
            if ( v204 < 219 )
            {
              v6 = sub_401B63(a3, &unk_8AC1C4);
              return sub_4E46A0(1, v6, v36, v34, v35);
            }
            if ( v203 == 1 && v204 < 255 )
            {
              v6 = sub_401B63(a3, &unk_8AC1C4);
              return sub_4E46A0(1, v6, v36, v34, v35);
            }
            v194 = 0;
            v193 = 0;
            i2 = 0;
            if ( v201 )
            {
              if ( v203 == 1 )
                return sub_4E46A0(1, v6, v36, v34, v35);
              if ( v204 < 220 || v204 > 250 )
              {
                v6 = sub_401B63(a3, &unk_8B11C4);
                return sub_4E46A0(1, v6, v36, v34, v35);
              }
              if ( sub_401A55(byte_1FDF035[1724 * a3], 7) )
              {
                v6 = sub_401B63(a3, &unk_8A8B44);
                return sub_4E46A0(1, v6, v36, v34, v35);
              }
            }
            else
            {
              for ( i1 = 0; i1 < 64; ++i1 )
              {
                if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i1) == 697
                  || *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i1) == 4131 )
                {
                  v190 = sub_4013D9(&dword_1FDED7C[431 * a3] + 2 * i1);
                  if ( !v190 )
                    ++v194;
                  if ( v190 > 0 )
                  {
                    if ( v190 == 10 )
                      v193 = 1;
                    v194 += v190;
                  }
                }
              }
              if ( v194 < v195 )
              {
                sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AC044);
                v6 = sub_401B63(a3, &String);
                return sub_4E46A0(1, v6, v36, v34, v35);
              }
              if ( v194 > v195 && v193 > 0 )
              {
                sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B2CC4);
                v6 = sub_401B63(a3, &String);
                return sub_4E46A0(1, v6, v36, v34, v35);
              }
            }
            if ( v201 )
            {
              sub_4E4640(&word_1FDED64[862 * a3], 0, 8u);
              sub_401960(a3, 0, 13, &word_1FDED64[862 * a3]);
              sub_401A6E(&byte_1FDF035[1724 * a3], 7);
            }
            else
            {
              for ( i2 = 0; ; ++i2 )
              {
                if ( i2 < 64 )
                {
                  if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i2) == 697
                    || *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i2) == 4131 )
                  {
                    v189 = sub_4013D9(&dword_1FDED7C[431 * a3] + 2 * i2);
                    if ( !v189 )
                      --v195;
                    if ( v189 > 0 )
                    {
                      if ( v189 == 10 )
                        v193 = 1;
                      v194 -= v189;
                    }
                    sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * i2, 0, 8u);
                    sub_401960(a3, 1, i2, &dword_1FDED7C[431 * a3] + 2 * i2);
                  }
                  if ( v195 > 0 )
                    continue;
                }
                break;
              }
            }
            if ( v202 < 3197 || v202 > 3199 || v205 != 7 )
            {
              if ( v202 < 3197 || v202 > 3199 || v205 != 8 )
              {
                if ( v202 != 572 || v205 != 7 )
                {
                  if ( v202 != 572 || v205 != 8 )
                  {
                    if ( v202 != 573 || v205 != 7 )
                    {
                      if ( v202 != 573 || v205 != 8 )
                      {
                        if ( v202 != 574 || v205 != 7 )
                        {
                          if ( v202 != 574 || v205 != 8 )
                          {
                            if ( v202 < 3191 || v202 > 3193 || v205 != 7 )
                            {
                              if ( v202 < 3191 || v202 > 3193 || v205 != 8 )
                              {
                                if ( v202 < 3194 || v202 > 3196 || v205 != 7 )
                                {
                                  if ( v202 < 3194 || v202 > 3196 || v205 != 8 )
                                  {
                                    if ( v203 == 1 )
                                    {
                                      if ( v202 != 549 )
                                        sub_4E4640(&word_1FDED74[862 * a3], 0, 8u);
                                      if ( v205 == 7 )
                                        word_1FDED74[862 * a3] = 543;
                                      else
                                        word_1FDED74[862 * a3] = 544;
                                    }
                                    else
                                    {
                                      if ( v202 != 548 )
                                        sub_4E4640(&word_1FDED74[862 * a3], 0, 8u);
                                      if ( v205 == 7 )
                                        word_1FDED74[862 * a3] = 545;
                                      else
                                        word_1FDED74[862 * a3] = 546;
                                    }
                                  }
                                  else
                                  {
                                    word_1FDED74[862 * a3] = 3195;
                                  }
                                }
                                else
                                {
                                  word_1FDED74[862 * a3] = 3194;
                                }
                              }
                              else
                              {
                                word_1FDED74[862 * a3] = 3192;
                              }
                            }
                            else
                            {
                              word_1FDED74[862 * a3] = 3191;
                            }
                          }
                          else
                          {
                            word_1FDED74[862 * a3] = 1771;
                          }
                        }
                        else
                        {
                          word_1FDED74[862 * a3] = 1768;
                        }
                      }
                      else
                      {
                        word_1FDED74[862 * a3] = 1770;
                      }
                    }
                    else
                    {
                      word_1FDED74[862 * a3] = 1767;
                    }
                  }
                  else
                  {
                    word_1FDED74[862 * a3] = 1769;
                  }
                }
                else
                {
                  word_1FDED74[862 * a3] = 1766;
                }
              }
              else
              {
                word_1FDED74[862 * a3] = 3198;
              }
            }
            else
            {
              word_1FDED74[862 * a3] = 3197;
            }
            sub_401960(a3, 0, 15, &word_1FDED74[862 * a3]);
            if ( v205 == 7 )
              sub_401B63(a3, &unk_8AC0C4);
            else
              sub_401B63(a3, &unk_8AC144);
            sub_4E3F40(a1, a2, (int)&String, "que,get mantle %d - sapphire:%d - newbie:%d");
            Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
            sub_401AC3(a3, 0);
            sub_4016EF(a3);
            v6 = sub_4018B1(a3);
          }
          else
          {
            if ( !v201 )
            {
              sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AC044);
              v6 = sub_401B63(a3, &String);
            }
          }
        }
      }
      else
      {
        if ( sub_4012DA(dword_1FDF2C8[431 * a3]) )
        {
          v6 = (int)sub_4E4640(&v211, 0xFFu, 0x10u);
          for ( i3 = 0; i3 < 64; ++i3 )
          {
            v6 = 1724 * a3;
            v209 = *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i3);
            switch ( v209 )
            {
              case 5334:
                v6 = i3;
                v211 = i3;
                break;
              case 5335:
                v212 = i3;
                break;
              case 5336:
                v213 = i3;
                break;
              case 5337:
                v6 = i3;
                v214 = i3;
                break;
            }
          }
          if ( v211 != -1 && v212 != -1 && v213 != -1 && v214 != -1 )
          {
            v208 = sub_40115E(a3, 5338, 0);
            if ( v208 == 1 )
            {
              for ( i4 = 0; i4 < 4; ++i4 )
              {
                v206 = *(&v211 + i4);
                sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * v206, 0, 8u);
                sub_401960(a3, 1, v206, &dword_1FDED7C[431 * a3] + 2 * v206);
              }
              word_1FDED4C[862 * a3] = 0;
              word_1FDED54[862 * a3] = 0;
              sub_401960(a3, 0, 10, &word_1FDED4C[862 * a3]);
              sub_401960(a3, 0, 11, &word_1FDED54[862 * a3]);
              sub_4016EF(a3);
              sub_4018B1(a3);
            }
            sub_4E3F40(a1, a2, (int)&String, "que,transchar 2 make 5338 : %s");
            v6 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
          }
        }
        else
        {
          if ( a5 )
          {
            if ( word_1FDECC4[862 * a3] >= dword_5A1044 - 1 )
            {
              v232 = -1;
              v231 = word_1FDED54[862 * a3] - 1760;
              v230 = dword_1FDF2C8[431 * a3] / 10;
              v231 += 4 * v230 + 4;
              sub_4E3F40(a1, a2, (int)&MultiByteStr, "%s");
              sub_4E8E60(a1, (int)&v370, a2, &MultiByteStr);
              v228 = 0;
              for ( i5 = 0; i5 < 4; ++i5 )
              {
                if ( *(&byte_752C0DC[3160 * a3] + 16 * i5) )
                {
                  sub_4E4720((int)&v226);
                  sub_4E8E60(a1, (int)&v370, a2, &v226);
                  if ( !sub_4E4D80((int)&v226, (int)&MultiByteStr) )
                  {
                    ++v228;
                    if ( v228 > 2 )
                    {
                      v6 = sub_401B63(a3, &unk_8B0444);
                      return sub_4E46A0(1, v6, v36, v34, v35);
                    }
                  }
                }
              }
              for ( i5 = 0; i5 < 4; ++i5 )
              {
                if ( !*(&byte_752C0DC[3160 * a3] + 16 * i5) )
                {
                  v232 = i5;
                  break;
                }
              }
              if ( v232 == -1 )
              {
                v6 = sub_401B63(a3, &unk_8B0144);
              }
              else
              {
                sub_4E3F40(a1, a2, (int)&String, "que,transchar: %s, class:%d, slot: %d");
                Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
                word_1FDED4C[862 * a3] = 0;
                word_1FDED54[862 * a3] = 0;
                sub_401528(a3);
                v221 = 2050;
                v220 = 36;
                sub_4E3F40(a1, a2, (int)&v224, "%s");
                v222 = a3;
                v223 = v232;
                v225 = v231;
                dword_752BAF0[790 * a3] = 13;
                sub_40132A(&v220, 36);
                sub_401B63(a3, &unk_8B02C4);
                v216 = 948;
                v217 = 0;
                v218 = v232;
                v219 = 0;
                v215 = 20;
                v6 = sub_40132A(&v215, 20);
              }
            }
            else
            {
              v6 = sub_401BB3(a4, &unk_8B04C4);
            }
          }
          else
          {
            v6 = sub_401BB3(a4, &unk_8B01C4);
          }
        }
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 36:
    case 40:
    case 41:
    case 43:
      switch ( a6 )
      {
        case 36:
          v369 = 8;
          break;
        case 40:
          v369 = 9;
          break;
        case 41:
          v369 = 10;
          break;
        case 43:
          v369 = 11;
          break;
      }
      v188 = 1 << v369;
      v187 = v369 - 8;
      if ( word_1FDECE0[862 * a3] > 35 )
      {
        v6 = 1724 * a3;
        if ( word_1FDECE0[862 * a3] < 1000 )
          return sub_4E46A0(1, v6, v36, v34, v35);
      }
      v186 = v187 + 451;
      if ( v187 != 3 && (unsigned __int16)(word_1FDECB6[862 * a3] & v188) )
      {
        v6 = sub_401BB3(a4, &byte_8A67C4[128 * (4 * v187 + 230)]);
        return sub_4E46A0(1, v6, v36, v34, v35);
      }
      if ( v186 == 454 )
        v186 = 524;
      for ( i6 = 0; i6 < 63 && *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i6) != v186; ++i6 )
        ;
      if ( i6 == 63 )
      {
        v6 = sub_401BB3(a4, &byte_8A67C4[128 * (4 * v187 + 231)]);
        return sub_4E46A0(1, v6, v36, v34, v35);
      }
      sub_401BB3(a4, &byte_8A67C4[128 * (4 * v187 + 232)]);
      sub_401B63(a3, &byte_8A67C4[128 * (4 * v187 + 233)]);
      v6 = 1724 * a3;
      word_1FDECB6[862 * a3] |= v188;
      if ( !v187 )
      {
        sub_40173A(&v182);
        v182 = 682;
        v183 = 61;
        v184 = 20;
        v6 = sub_401401(a3, &v182);
        return sub_4E46A0(1, v6, v36, v34, v35);
      }
      switch ( v187 )
      {
        case 1:
          v181 = word_1FDED2C[862 * a3];
          if ( v181 < 3000 || v181 >= 3007 )
          {
            if ( v181 <= 0 || v181 >= 6500 )
              goto LABEL_640;
            v6 = 140 * v181;
            v178 = word_9CCC86[70 * v181];
            if ( v178 <= 36 || v178 >= 1000 )
            {
              v177 = 50;
              sub_401B1D(&word_1FDED2C[862 * a3], &v180);
              v176 = word_1FDED2E[862 * a3];
              LOBYTE(word_1FDED2E[862 * a3]) = 0;
              HIBYTE(word_1FDED2E[862 * a3]) = 0;
              byte_1FDED30[1724 * a3] = 0;
              byte_1FDED31[1724 * a3] = 0;
              byte_1FDED32[1724 * a3] = 0;
              byte_1FDED33[1724 * a3] = 0;
              sub_4015CD(&word_1FDED2C[862 * a3], v177 + v178, 1, 0, 0);
              word_1FDED2E[862 * a3] = v176;
              sub_401960(a3, 0, 6, &word_1FDED2C[862 * a3]);
              sub_401B1D(&word_1FDED2C[862 * a3], &v179);
              sub_4E3F40(a1, a2, (int)&String, "que, chobo_quest2 befor:%s after:%s");
              Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
LABEL_640:
              SetAffect(a3, 44, 200, 200);
              v6 = sub_4018B1(a3);
              return sub_4E46A0(1, v6, v36, v34, v35);
            }
          }
          break;
        case 2:
          for ( i7 = 1; i7 < 8; ++i7 )
          {
            v6 = *((_WORD *)&dword_1FDECFC[431 * a3] + 4 * i7);
            v174 = *((_WORD *)&dword_1FDECFC[431 * a3] + 4 * i7);
            if ( v174 >= 500 && v174 < 6500 )
            {
              v173 = word_9CCC86[70 * v174];
              if ( v173 > 36 && v173 < 1000 )
                return sub_4E46A0(1, v6, v36, v34, v35);
              v172 = sub_4014E2(&dword_1FDECFC[431 * a3] + 2 * i7);
              if ( v172 < 6 )
              {
                if ( i7 >= 6 )
                  v172 += Rand()() % 3;
                else
                  v172 += Rand()() % 5;
                if ( v172 > 6 )
                  v172 = 6;
                if ( v172 < 3 )
                  v172 = 3;
                sub_401109(&dword_1FDECFC[431 * a3] + 2 * i7, v172, 0);
                sub_401960(a3, 0, i7, &dword_1FDECFC[431 * a3] + 2 * i7);
              }
            }
          }
          SetAffect(a3, 44, 200, 200);
          sub_4018B1(a3);
          v6 = sub_401AC3(a3, a3);
          for ( i8 = 0; i8 < 5; ++i8 )
            v6 = sub_40115E(a3, 4021, 0);
          break;
        case 3:
          v170 = Rand()() % 3;
          if ( v170 )
          {
            if ( v170 == 1 )
            {
              sub_40173A(&v166);
              v166 = 481;
              sub_401401(a3, &v166);
            }
            else
            {
              sub_40173A(&v165);
              v165 = 652;
              sub_401401(a3, &v165);
            }
          }
          else
          {
            sub_40173A(&v167);
            v167 = 682;
            v168 = 61;
            v169 = 20;
            sub_401401(a3, &v167);
          }
          SetAffect(a3, 44, 200, 200);
          sub_4018B1(a3);
          sub_40173A(&dword_1FDED7C[431 * a3] + 2 * i6);
          v6 = sub_401960(a3, 1, i6, &dword_1FDED7C[431 * a3] + 2 * i6);
          break;
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 31:
      v164 = dword_5A1004;
      if ( word_1FDECB6[862 * a3] & 0x1000 )
      {
        v163 = dword_5A0FB4 * v164 / 100;
        if ( dword_5A0FB4 * v164 / 100 < v164 )
          v163 = v164;
        v164 = v163;
      }
      if ( !a5 )
      {
        sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8ACD44);
        v6 = sub_401BB3(a4, &String);
        return sub_4E46A0(1, v6, v36, v34, v35);
      }
      v161 = v164;
      v160 = 0;
      v159 = 0;
      v158 = 0;
      if ( word_1FDECD4[862 * a3] == dword_594D70[6 * (unsigned __int8)byte_1FDECB4[1724 * a3]]
        && word_1FDECD6[862 * a3] == dword_594D74[6 * (unsigned __int8)byte_1FDECB4[1724 * a3]]
        && word_1FDECD8[862 * a3] == dword_594D78[6 * (unsigned __int8)byte_1FDECB4[1724 * a3]]
        && word_1FDECDA[862 * a3] == dword_594D7C[6 * (unsigned __int8)byte_1FDECB4[1724 * a3]] )
      {
        v6 = sub_401BB3(a4, &unk_8B1DC4);
        return sub_4E46A0(1, v6, v36, v34, v35);
      }
      for ( i9 = 0; i9 < 64; ++i9 )
      {
        if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i9) == 697 )
        {
          v157 = sub_4013D9(&dword_1FDED7C[431 * a3] + 2 * i9);
          if ( v157 > 0 )
          {
            v160 += v157;
            v159 = 1;
          }
          else
          {
            ++v160;
          }
        }
        else
        {
          if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i9) == 4131 )
          {
            v160 += 10;
            v159 = 1;
          }
        }
        if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i9) == 3336 )
          ++v158;
      }
      if ( v158 )
      {
        for ( i9 = 0; i9 < 64; ++i9 )
        {
          if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i9) == 3336 )
          {
            sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * i9, 0, 8u);
            sub_401960(a3, 1, i9, &dword_1FDED7C[431 * a3] + 2 * i9);
            break;
          }
        }
      }
      else
      {
        if ( v160 < v161 )
        {
          sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AC644);
          v6 = sub_401B63(a3, &String);
          return sub_4E46A0(1, v6, v36, v34, v35);
        }
        if ( v160 > v161 && v159 > 0 )
        {
          sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B2CC4);
          v6 = sub_401B63(a3, &String);
          return sub_4E46A0(1, v6, v36, v34, v35);
        }
        for ( i9 = 1; i9 < 8; ++i9 )
        {
          if ( *((_WORD *)&dword_1FDECFC[431 * a3] + 4 * i9) )
          {
            v6 = sub_401BB3(a4, &unk_8ACE44);
            return sub_4E46A0(1, v6, v36, v34, v35);
          }
        }
        for ( i9 = 0; ; ++i9 )
        {
          if ( i9 < 64 )
          {
            if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i9) == 697 )
            {
              sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * i9, 0, 8u);
              sub_401960(a3, 1, i9, &dword_1FDED7C[431 * a3] + 2 * i9);
              --v161;
            }
            else
            {
              if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i9) == 4131 )
              {
                sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * i9, 0, 8u);
                sub_401960(a3, 1, i9, &dword_1FDED7C[431 * a3] + 2 * i9);
                --v161;
              }
            }
            if ( v161 > 0 )
              continue;
          }
          break;
        }
      }
      v6 = (unsigned __int8)byte_1FDECB4[1724 * a3];
      v156 = (unsigned __int8)byte_1FDECB4[1724 * a3];
      if ( v156 >= 0 && v156 <= 3 )
      {
        v155 = 100;
        v154 = word_1FDEF80[862 * a3];
        v153 = word_1FDECD4[862 * a3] - dword_594D70[6 * v156];
        v152 = word_1FDECD6[862 * a3] - dword_594D74[6 * v156];
        v151 = word_1FDECD8[862 * a3] - dword_594D78[6 * v156];
        v150 = word_1FDECDA[862 * a3] - dword_594D7C[6 * v156];
        if ( v153 <= 100 )
        {
          word_1FDECD4[862 * a3] -= v153;
          v154 += v153;
        }
        else
        {
          word_1FDECD4[862 * a3] -= v155;
          v154 += v155;
        }
        if ( v152 <= v155 )
        {
          word_1FDECD6[862 * a3] -= v152;
          v154 += v152;
        }
        else
        {
          word_1FDECD6[862 * a3] -= v155;
          v154 += v155;
        }
        if ( v151 <= v155 )
        {
          word_1FDECD8[862 * a3] -= v151;
          v154 += v151;
        }
        else
        {
          word_1FDECD8[862 * a3] -= v155;
          v154 += v155;
        }
        if ( v150 <= v155 )
        {
          word_1FDECDA[862 * a3] -= v150;
          v154 += v150;
        }
        else
        {
          word_1FDECDA[862 * a3] -= v155;
          v154 += v155;
        }
        v149 = word_1FDEF80[862 * a3];
        sub_4015FA(&byte_1FDECA0[1724 * a3], dword_1FDF2C8[431 * a3], &byte_1FDF034[1724 * a3]);
        sub_401375(&byte_1FDECA0[1724 * a3], dword_1FDF2C8[431 * a3]);
        v148 = word_1FDEF80[862 * a3];
        SetAffect(a3, 44, 20, 20);
        sub_4018B1(a3);
        sub_401348(a3);
        v32 = word_1FDECB6[862 * a3];
        HIBYTE(v32) |= 0x10u;
        word_1FDECB6[862 * a3] = v32;
        sub_401B63(a3, &unk_8ACCC4);
        sub_4E3F40(a1, a2, (int)&String, "que,sapphire redistribution befor(%d), after(%d)");
        v6 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 30:
      v146 = sub_40145B(2180, 1160, 2296, 1270, &v147);
      if ( v146 < 1 )
        sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AD744);
      else
        sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AD6C4);
      v6 = sub_401BB3(a4, &String);
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 62:
      v128 = -1;
      v129 = -1;
      v130 = -1;
      v131 = -1;
      v132 = -1;
      v133 = -1;
      v134 = -1;
      v135 = -1;
      v136 = -1;
      v137 = -1;
      v138 = -1;
      v139 = -1;
      v140 = -1;
      v141 = -1;
      v142 = -1;
      v143 = -1;
      v144 = -1;
      v145 = -1;
      v110 = 0;
      v111 = 0;
      v112 = 0;
      v113 = 0;
      v114 = 0;
      v115 = 0;
      v116 = 0;
      v117 = 0;
      v118 = 0;
      v119 = 0;
      v120 = 1;
      v121 = 1;
      v122 = 2;
      v123 = 2;
      v124 = 2;
      v125 = 2;
      v126 = 3;
      v127 = 4;
      v109 = 2000000;
      if ( dword_1FDECB8[431 * a3] >= 2000000 )
      {
        for ( i10 = 0; i10 < 63; ++i10 )
        {
          v107 = *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i10);
          if ( v107 >= 1721 && v107 <= 1725 )
          {
            v106 = v107 - 1721;
            for ( i11 = 0; i11 < 18; ++i11 )
            {
              if ( *(&v128 + i11) == -1 && *(&v110 + i11) == v106 )
              {
                *(&v128 + i11) = i10;
                break;
              }
            }
          }
        }
        if ( v128 != -1
          && v129 != -1
          && v130 != -1
          && v131 != -1
          && v132 != -1
          && v133 != -1
          && v134 != -1
          && v135 != -1
          && v136 != -1
          && v137 != -1
          && v138 != -1
          && v139 != -1
          && v140 != -1
          && v141 != -1
          && v142 != -1
          && v143 != -1
          && v144 != -1
          && v145 != -1 )
        {
          for ( i10 = 0; i10 < 18; ++i10 )
          {
            v104 = *(&v128 + i10);
            if ( v104 < 0 || v104 >= 63 )
            {
              v6 = Log("err snow imp wrong buff", &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
              return sub_4E46A0(1, v6, v36, v34, v35);
            }
            sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * v104, 0, 8u);
            sub_401960(a3, 1, v104, &dword_1FDED7C[431 * a3] + 2 * v104);
          }
          dword_1FDECB8[431 * a3] -= v109;
          SendEtc(a3);
          v103 = Rand()() % 4;
          sub_4E4640(&v101, 0, 8u);
          v101 = 1726;
          v102 = 43;
          sub_401109(&v101, v103, 0);
          sub_401401(a3, &v101);
          v6 = sub_401B63(a3, &unk_8AF9C4);
        }
        else
        {
          v6 = sub_401BB3(a4, &unk_8AF944);
        }
      }
      else
      {
        v6 = sub_401B63(a3, &unk_8AA044);
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 20:
      v100 = dword_1FDF1D8[431 * a3];
      v99 = word_1FDED5C[862 * a3];
      if ( v99 == 508 || v99 >= 526 && v99 <= 528 || v99 >= 532 && v99 <= 534 )
      {
        if ( v100 > 0 && v100 < 1000 )
        {
          if ( dword_752BAF0[790 * v100] == 22 )
          {
            if ( (unsigned __int16)word_1FDECB2[862 * v100] == (unsigned __int16)word_1FDECB2[862 * a3] )
            {
              if ( byte_1FDEF8C[1724 * v100] )
              {
                v98 = dword_1FDF1F4[431 * a3] - dword_1FDF1F4[431 * v100];
                v97 = dword_1FDF1F8[431 * a3] - dword_1FDF1F8[431 * v100];
                if ( v98 >= -4 && v97 >= -4 && v98 <= 4 && v97 <= 4 )
                {
                  v96 = 10;
                  v95 = 0;
                  v94 = 0;
                  for ( i12 = 0; i12 < 64; ++i12 )
                  {
                    if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i12) == 697
                      || *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i12) == 4131 )
                    {
                      v92 = sub_4013D9(&dword_1FDED7C[431 * a3] + 2 * i12);
                      if ( !v92 )
                        ++v95;
                      if ( v92 > 0 )
                      {
                        if ( v92 == 10 )
                          v94 = 1;
                        v95 += v92;
                      }
                    }
                  }
                  if ( v95 >= v96 )
                  {
                    if ( v95 <= v96 || v94 <= 0 )
                    {
                      for ( i12 = 0; ; ++i12 )
                      {
                        if ( i12 < 64 )
                        {
                          if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i12) == 697
                            || *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i12) == 4131 )
                          {
                            v91 = sub_4013D9(&dword_1FDED7C[431 * a3] + 2 * i12);
                            if ( !v91 )
                              --v96;
                            if ( v91 > 0 )
                            {
                              if ( v91 == 10 )
                                v94 = 1;
                              v95 -= v91;
                            }
                            sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * i12, 0, 8u);
                            sub_401960(a3, 1, i12, &dword_1FDED7C[431 * a3] + 2 * i12);
                          }
                          if ( v96 > 0 )
                            continue;
                        }
                        break;
                      }
                      if ( word_1FDED5C[862 * a3] == 508 )
                        word_1FDED5C[862 * a3] = 522;
                      else
                        word_1FDED5C[862 * a3] += 3;
                      v90 = byte_1FDECB0[1724 * v100];
                      if ( v90 == 7 )
                      {
                        sub_401B63(a3, &unk_8AC0C4);
                      }
                      else
                      {
                        if ( v90 == 8 )
                          sub_401B63(a3, &unk_8AC144);
                      }
                      sub_401960(a3, 0, 12, &word_1FDED5C[862 * a3]);
                      sub_4016EF(a3);
                      v86 = 403;
                      v85 = 16;
                      v87 = a3;
                      v89 = byte_1FDECB0[1724 * a3];
                      v88 = dword_8C76270;
                      sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v85, 0);
                      sub_4E3F40(a1, a2, (int)&String, "que,get kingdom medal");
                      v6 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
                    }
                    else
                    {
                      sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B2CC4);
                      v6 = sub_401B63(a3, &String);
                    }
                  }
                  else
                  {
                    sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AC644);
                    v6 = sub_401B63(a3, &String);
                  }
                }
                else
                {
                  v6 = sub_401B63(a3, &unk_8AC5C4);
                }
              }
              else
              {
                v6 = sub_401B63(a3, &unk_8AC5C4);
              }
            }
            else
            {
              v6 = sub_401B63(a3, &unk_8AC5C4);
            }
          }
          else
          {
            v6 = sub_401B63(a3, &unk_8AC5C4);
          }
        }
        else
        {
          v6 = sub_401B63(a3, &unk_8AC5C4);
        }
      }
      else
      {
        v6 = sub_401B63(a3, &unk_8AC6C4);
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 26:
      v84 = byte_1FDECB0[1724 * a3];
      if ( v84 == 7 || v84 == 8 || v84 == 9 )
      {
        if ( !a5 )
        {
          v6 = sub_401B63(a3, &unk_8ACB44);
          return sub_4E46A0(1, v6, v36, v34, v35);
        }
        v83 = (unsigned __int8)byte_1FDEF8C[1724 * a3];
        v82 = (unsigned __int16)word_1FDECB2[862 * a3];
        if ( v83 == 2 && v82 )
        {
          for ( i13 = 0; i13 < 10; ++i13 )
          {
            for ( i14 = 0; i14 < 5; ++i14 )
            {
              v6 = 20 * i13;
              if ( v82 == *(&dword_5A39F0[5 * i13] + i14) )
                return sub_4E46A0(1, v6, v36, v34, v35);
            }
          }
          v79 = 0;
          v78 = v82 >> 12;
          v77 = v82 & 0xFFF;
          v76 = dword_1FDECB8[431 * a3] - 300000000;
          if ( v76 < 0 )
          {
            v6 = sub_401B63(a3, &unk_8AA044);
            return sub_4E46A0(1, v6, v36, v34, v35);
          }
          dword_1FDECB8[431 * a3] = v76;
          SendEtc(a3);
        }
        else
        {
          v75 = 16;
          v74 = 0;
          v73 = 0;
          for ( i15 = 0; i15 < 64; ++i15 )
          {
            if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i15) == 697
              || *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i15) == 4131 )
            {
              v71 = sub_4013D9(&dword_1FDED7C[431 * a3] + 2 * i15);
              if ( !v71 )
                ++v74;
              if ( v71 > 0 )
              {
                if ( v71 == 10 )
                  v73 = 1;
                v74 += v71;
              }
            }
          }
          if ( v74 < v75 )
          {
            sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AC644);
            v6 = sub_401B63(a3, &String);
            return sub_4E46A0(1, v6, v36, v34, v35);
          }
          if ( v74 > v75 && v73 > 0 )
          {
            sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B2CC4);
            v6 = sub_401B63(a3, &String);
            return sub_4E46A0(1, v6, v36, v34, v35);
          }
          for ( i15 = 0; ; ++i15 )
          {
            if ( i15 < 64 )
            {
              if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i15) == 697
                || *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i15) == 4131 )
              {
                v70 = sub_4013D9(&dword_1FDED7C[431 * a3] + 2 * i15);
                if ( !v70 )
                  --v75;
                if ( v70 > 0 )
                {
                  if ( v70 == 10 )
                    v73 = 1;
                  v74 -= v70;
                }
                sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * i15, 0, 8u);
                sub_401960(a3, 1, i15, &dword_1FDED7C[431 * a3] + 2 * i15);
              }
              if ( v75 > 0 )
                continue;
            }
            break;
          }
        }
        v69 = word_1FDED74[862 * a3];
        word_1FDED74[862 * a3] = sub_4018C5(v69);
        if ( v84 == 7 )
        {
          sub_401B63(a3, &unk_8AC0C4);
        }
        else
        {
          if ( v84 == 8 )
            sub_401B63(a3, &unk_8AC144);
        }
        sub_401960(a3, 0, 15, &word_1FDED74[862 * a3]);
        sub_401AC3(a3, 0);
        sub_4016EF(a3);
        v65 = 403;
        v64 = 16;
        v66 = a3;
        v68 = byte_1FDECB0[1724 * a3];
        v67 = dword_8C76270;
        sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v64, 0);
        sub_4E3F40(a1, a2, (int)&String, "que,remove mantle");
        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        sub_4018B1(a3);
        v6 = 1724 * a3;
        if ( (unsigned __int8)byte_1FDEF8C[1724 * a3] == 2 )
        {
          v63 = (unsigned __int16)word_1FDECB2[862 * a3];
          sub_4E4640(&v57, 0, 0x18u);
          v59 = a3;
          LOWORD(v57) = 24;
          v58 = 3095;
          v60 = v63;
          v61 = 3;
          v62 = 6;
          sub_40132A(&v57, 24);
          sub_4E3F40(a1, a2, (int)&String, "sys,changed guild clan %s = %d");
          v6 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        }
      }
      else
      {
        if ( v84 == 7 )
        {
          v6 = sub_401B63(a3, &unk_8AC0C4);
        }
        else
        {
          if ( v84 == 8 )
            v6 = sub_401B63(a3, &unk_8AC144);
        }
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 78:
      v56 = word_1FDECC4[862 * a3];
      if ( sub_401640(&byte_1FDECA0[1724 * a3]) == 2 )
        v56 += 400;
      if ( v56 >= dword_5A1044 - 1 )
      {
        v55 = -1;
        v54 = -1;
        v53 = 0;
        v52 = 0;
        for ( i16 = 0; i16 < 64; ++i16 )
        {
          if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i16) == 1740 )
            v55 = i16;
          if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i16) == 1741 )
            v54 = i16;
          if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i16) == 697 )
            ++v53;
          if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i16) == 4131 )
          {
            v53 += 10;
            v52 = 1;
          }
        }
        if ( v55 != -1 && v54 != -1 )
        {
          if ( v54 == v55 + 1 && v55 % 5 != 4 )
          {
            if ( v53 <= 10 || v52 <= 0 )
            {
              if ( v53 >= 10 )
              {
                v53 = 0;
                for ( i16 = 0; ; ++i16 )
                {
                  if ( i16 < 64 )
                  {
                    if ( v52 && *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i16) == 4131 )
                    {
                      *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i16) = 0;
                      sub_401960(a3, 1, i16, &dword_1FDED7C[431 * a3] + 2 * i16);
                      v53 += 10;
                    }
                    if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i16) == 697 )
                    {
                      *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i16) = 0;
                      sub_401960(a3, 1, i16, &dword_1FDED7C[431 * a3] + 2 * i16);
                      ++v53;
                    }
                    if ( v53 < 10 )
                      continue;
                  }
                  break;
                }
                *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * v55) = 1742;
                sub_401960(a3, 1, v55, &dword_1FDED7C[431 * a3] + 2 * v55);
                *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * v54) = 0;
                sub_401960(a3, 1, v54, &dword_1FDED7C[431 * a3] + 2 * v54);
                sub_401BB3(a4, &unk_8AFF44);
                sub_4E3F40(a1, a2, (int)&String, "que,soul merged");
                v6 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
              }
              else
              {
                sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AC644);
                v6 = sub_401BB3(a4, &String);
              }
            }
            else
            {
              sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B2CC4);
              v6 = sub_401B63(a3, &String);
            }
          }
          else
          {
            v6 = sub_401BB3(a4, &unk_8AFEC4);
          }
        }
        else
        {
          v6 = sub_401BB3(a4, &unk_8AFDC4);
        }
      }
      else
      {
        v6 = sub_401BB3(a4, &unk_8AFE44);
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    case 19:
      if ( a5 )
      {
        for ( i17 = 0; i17 < 8; ++i17 )
          *(&v43 + i17) = -1;
        for ( i17 = 0; i17 < 64; ++i17 )
        {
          v41 = *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i17);
          if ( v41 >= 1744 )
          {
            if ( v41 <= 1751 )
            {
              v40 = v41 - 1744;
              if ( *(&v43 + v41 - 1744) == -1 )
                *(&v43 + v40) = i17;
            }
          }
        }
        if ( v43 != -1
          && v44 != -1
          && v45 != -1
          && v46 != -1
          && v47 != -1
          && v48 != -1
          && v49 != -1
          && v50 != -1
          && word_1FDED4C[862 * a3] == 1742 )
        {
          if ( dword_1FDECB8[431 * a3] >= (signed int)&unk_1C9C380 )
          {
            v39 = word_1FDECE0[862 * a4];
            if ( v39 >= 0 && v39 < 4 )
            {
              dword_1FDECB8[431 * a3] -= (signed int)&unk_1C9C380;
              for ( i17 = 0; i17 < 8; ++i17 )
              {
                if ( i17 )
                  *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * *(&v43 + i17)) = 0;
                else
                  *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * v43) = v39 + 1760;
                sub_401960(a3, 1, *(&v43 + i17), &dword_1FDED7C[431 * a3] + 2 * *(&v43 + i17));
              }
              sub_401348(a3);
              sub_401BB3(a4, &unk_8B0044);
              sub_4E3F40(a1, a2, (int)&String, "que,sepherote created - %d");
              v6 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
            }
            else
            {
              v6 = sub_401BB3(a4, &unk_8B0344);
            }
          }
          else
          {
            v6 = sub_401BB3(a4, &unk_8B0344);
          }
        }
        else
        {
          v6 = sub_401BB3(a4, &unk_8B0344);
        }
      }
      else
      {
        v6 = sub_401BB3(a4, &unk_8B0244);
      }
      return sub_4E46A0(1, v6, v36, v34, v35);
    default:
      return sub_4E46A0(1, v6, v36, v34, v35);
  }
}
// 40107D: using guessed type _DWORD __cdecl sub_40107D(_DWORD, _DWORD);
// 401087: using guessed type _DWORD __cdecl sub_401087(_DWORD, char);
// 40109B: using guessed type _DWORD __cdecl sub_40109B(_DWORD);
// 4010A5: using guessed type _DWORD __cdecl sub_4010A5(_DWORD);
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 401109: using guessed type _DWORD __cdecl sub_401109(_DWORD, _DWORD, _DWORD);
// 40114F: using guessed type _DWORD __cdecl sub_40114F(_DWORD, _DWORD);
// 40115E: using guessed type _DWORD __cdecl sub_40115E(_DWORD, _DWORD, _DWORD);
// 4011CC: using guessed type _DWORD __cdecl sub_4011CC(_DWORD, _DWORD);
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 4012DA: using guessed type _DWORD __cdecl sub_4012DA(_DWORD);
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 401348: using guessed type _DWORD __cdecl sub_401348(_DWORD);
// 401375: using guessed type _DWORD __cdecl sub_401375(_DWORD, _DWORD);
// 4013D4: using guessed type _DWORD __cdecl sub_4013D4(_DWORD);
// 4013D9: using guessed type _DWORD __cdecl sub_4013D9(_DWORD);
// 401401: using guessed type _DWORD __cdecl sub_401401(_DWORD, _DWORD);
// 40145B: using guessed type _DWORD __cdecl sub_40145B(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 40147E: using guessed type _DWORD __cdecl sub_40147E(_DWORD);
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401500: using guessed type _DWORD __cdecl SendEtc(_DWORD);
// 401528: using guessed type _DWORD __cdecl sub_401528(_DWORD);
// 4015CD: using guessed type _DWORD __cdecl sub_4015CD(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4015FA: using guessed type _DWORD __cdecl sub_4015FA(_DWORD, _DWORD, _DWORD);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 40173A: using guessed type _DWORD __cdecl sub_40173A(_DWORD);
// 4017AD: using guessed type _DWORD __cdecl sub_4017AD(_DWORD, _DWORD);
// 4017E4: using guessed type _DWORD __cdecl sub_4017E4(_DWORD, _DWORD);
// 401834: using guessed type _DWORD __cdecl sub_401834(_DWORD, _DWORD);
// 401870: using guessed type _DWORD __cdecl sub_401870(_DWORD);
// 40187F: using guessed type _DWORD __cdecl sub_40187F(_DWORD, char);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 4018B6: using guessed type _DWORD __cdecl sub_4018B6(_DWORD);
// 4018C5: using guessed type _DWORD __cdecl sub_4018C5(_DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 40195B: using guessed type _DWORD __cdecl SetAffect(_DWORD, _DWORD, _DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401983: using guessed type _DWORD __cdecl sub_401983(_DWORD, _DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 401A4B: using guessed type _DWORD __cdecl sub_401A4B(_DWORD);
// 401A55: using guessed type _DWORD __cdecl sub_401A55(char, _DWORD);
// 401A6E: using guessed type _DWORD __cdecl sub_401A6E(_DWORD, _DWORD);
// 401AC3: using guessed type _DWORD __cdecl sub_401AC3(_DWORD, _DWORD);
// 401B1D: using guessed type _DWORD __cdecl sub_401B1D(_DWORD, _DWORD);
// 401B45: using guessed type _DWORD __cdecl sub_401B45(_DWORD, __int16, __int16);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 401BB3: using guessed type _DWORD __cdecl sub_401BB3(_DWORD, _DWORD);
// 401C03: using guessed type _DWORD __cdecl sub_401C03(_DWORD, _DWORD);
// 401C08: using guessed type _DWORD __cdecl sub_401C08(_DWORD, _DWORD);
// 401C21: using guessed type _DWORD __cdecl sub_401C21(_DWORD, _DWORD, _DWORD);
// 401C9E: using guessed type _DWORD __cdecl sub_401C9E(_DWORD, _DWORD, _DWORD, _DWORD);
// 594D70: using guessed type int dword_594D70[];
// 594D74: using guessed type int dword_594D74[];
// 594D78: using guessed type int dword_594D78[];
// 594D7C: using guessed type int dword_594D7C[];
// 594E18: using guessed type int dword_594E18[];
// 594F20: using guessed type int dword_594F20;
// 597D70: using guessed type int dword_597D70[];
// 597D74: using guessed type int dword_597D74[];
// 597F00: using guessed type int dword_597F00[];
// 5A0A6C: using guessed type int dword_5A0A6C;
// 5A0B18: using guessed type int dword_5A0B18[];
// 5A0B28: using guessed type int dword_5A0B28;
// 5A0B38: using guessed type int dword_5A0B38;
// 5A0B48: using guessed type int dword_5A0B48;
// 5A0B58: using guessed type int dword_5A0B58;
// 5A0B68: using guessed type int dword_5A0B68;
// 5A0B78: using guessed type int dword_5A0B78;
// 5A0B88: using guessed type int dword_5A0B88;
// 5A0B98: using guessed type int dword_5A0B98;
// 5A0BA8: using guessed type int dword_5A0BA8;
// 5A0BB8: using guessed type int dword_5A0BB8;
// 5A0BC8: using guessed type int dword_5A0BC8;
// 5A0BD8: using guessed type int dword_5A0BD8;
// 5A0BE8: using guessed type int dword_5A0BE8;
// 5A0BF8: using guessed type int dword_5A0BF8;
// 5A0C08: using guessed type int dword_5A0C08;
// 5A0C18: using guessed type int dword_5A0C18;
// 5A0C28: using guessed type int dword_5A0C28;
// 5A0C38: using guessed type int dword_5A0C38;
// 5A0C48: using guessed type int dword_5A0C48;
// 5A0C58: using guessed type int dword_5A0C58;
// 5A0FB4: using guessed type int dword_5A0FB4;
// 5A1004: using guessed type int dword_5A1004;
// 5A1044: using guessed type int dword_5A1044;
// 5A1054: using guessed type int dword_5A1054;
// 5A1058: using guessed type int dword_5A1058;
// 5A105C: using guessed type int dword_5A105C;
// 5A39F0: using guessed type int dword_5A39F0[];
// 9CCC86: using guessed type __int16 word_9CCC86[];
// 9CCCC0: using guessed type int dword_9CCCC0[];
// BD6A4C: using guessed type int dword_BD6A4C;
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECB6: using guessed type __int16 word_1FDECB6[];
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDECD4: using guessed type __int16 word_1FDECD4[];
// 1FDECD6: using guessed type __int16 word_1FDECD6[];
// 1FDECD8: using guessed type __int16 word_1FDECD8[];
// 1FDECDA: using guessed type __int16 word_1FDECDA[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED04: using guessed type __int16 word_1FDED04[];
// 1FDED2C: using guessed type __int16 word_1FDED2C[];
// 1FDED2E: using guessed type __int16 word_1FDED2E[];
// 1FDED4C: using guessed type __int16 word_1FDED4C[];
// 1FDED54: using guessed type __int16 word_1FDED54[];
// 1FDED5C: using guessed type __int16 word_1FDED5C[];
// 1FDED64: using guessed type __int16 word_1FDED64[];
// 1FDED6C: using guessed type __int16 word_1FDED6C[];
// 1FDED74: using guessed type __int16 word_1FDED74[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDED80: using guessed type int dword_1FDED80[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDEF80: using guessed type __int16 word_1FDEF80[];
// 1FDEF82: using guessed type __int16 word_1FDEF82[];
// 1FDEFA8: using guessed type int dword_1FDEFA8[];
// 1FDEFAC: using guessed type int dword_1FDEFAC[];
// 1FDF08C: using guessed type __int16 word_1FDF08C[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF2C8: using guessed type int dword_1FDF2C8[];
// 1FDF314: using guessed type int dword_1FDF314[];
// 74F8198: using guessed type __int16 word_74F8198[];
// 74F819A: using guessed type __int16 word_74F819A[];
// 74F81C2: using guessed type __int16 word_74F81C2[];
// 74F81C4: using guessed type __int16 word_74F81C4[];
// 74F81C6: using guessed type __int16 word_74F81C6[];
// 74F81C8: using guessed type __int16 word_74F81C8[];
// 74F81CA: using guessed type __int16 word_74F81CA[];
// 752BAE8: using guessed type int dword_752BAE8[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 88B5F20: using guessed type int dword_88B5F20[];
// 8C761C0: using guessed type int dword_8C761C0;
// 8C76270: using guessed type int dword_8C76270;
// 8C762C8: using guessed type int dword_8C762C8;
// 43D7D0: using guessed type char var_5A0[4];

//----- (00446510) --------------------------------------------------------
int __usercall sub_446510<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-74h]@0
  int v5; // [sp+4h] [bp-70h]@0
  int v6; // [sp+8h] [bp-6Ch]@0
  char v7; // [sp+Ch] [bp-68h]@1
  int v8; // [sp+4Ch] [bp-28h]@4
  int i; // [sp+50h] [bp-24h]@2
  __int16 v10; // [sp+54h] [bp-20h]@2
  char v11; // [sp+58h] [bp-1Ch]@2
  char v12; // [sp+5Ch] [bp-18h]@2
  char v13; // [sp+60h] [bp-14h]@2
  char v14; // [sp+64h] [bp-10h]@2
  char v15; // [sp+68h] [bp-Ch]@2
  char v16; // [sp+6Ch] [bp-8h]@2
  int v17; // [sp+70h] [bp-4h]@1
  int v18; // [sp+74h] [bp+0h]@2

  memset(&v7, -858993460, 0x68u);
  v2 = sub_4E4620(a1, a2, "mission.txt", (int)"rt");
  v17 = v2;
  if ( v2 )
  {
    sub_4E4640(word_BD6940, 0, 0x58u);
    v2 = sub_4E7990(a1, (int)&v18, a2, v17, "%d %d %d %d %d %d %d %d", (unsigned int)&dword_BD6A50);
    word_BD6990 = v10;
    byte_BD6992 = v11;
    byte_BD6993 = v12;
    byte_BD6994 = v13;
    LOBYTE(v2) = v14;
    byte_BD6995 = v14;
    byte_BD6996 = v15;
    byte_BD6997 = v16;
    dword_BD6A54 = -1;
    for ( i = 0; i < 10; ++i )
    {
      v2 = sub_4E7990(a1, (int)&v18, a2, v17, "%d %d %d %d %d %d %d", (unsigned int)&v10);
      v8 = v2;
      if ( v2 != 7 )
        break;
      word_BD6940[4 * i] = v10;
      byte_BD6942[8 * i] = v11;
      byte_BD6943[8 * i] = v12;
      byte_BD6944[8 * i] = v13;
      byte_BD6945[8 * i] = v14;
      byte_BD6946[8 * i] = v15;
      byte_BD6947[8 * i] = v16;
      v2 = i + 1;
    }
    dword_BD6A54 = i;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// BD6940: using guessed type __int16 word_BD6940[];
// BD6990: using guessed type __int16 word_BD6990;
// BD6992: using guessed type char byte_BD6992;
// BD6993: using guessed type char byte_BD6993;
// BD6994: using guessed type char byte_BD6994;
// BD6995: using guessed type char byte_BD6995;
// BD6996: using guessed type char byte_BD6996;
// BD6997: using guessed type char byte_BD6997;
// BD6A50: using guessed type int dword_BD6A50;
// BD6A54: using guessed type int dword_BD6A54;

//----- (00446710) --------------------------------------------------------
int __cdecl sub_446710(int a1)
{
  int v1; // eax@2
  char v3; // [sp+0h] [bp-84h]@0
  int v4; // [sp+4h] [bp-80h]@0
  int v5; // [sp+8h] [bp-7Ch]@0
  char v6; // [sp+Ch] [bp-78h]@1
  int v7; // [sp+4Ch] [bp-38h]@30
  int j; // [sp+50h] [bp-34h]@7
  int i; // [sp+54h] [bp-30h]@3
  int v10; // [sp+58h] [bp-2Ch]@3
  int v11[10]; // [sp+5Ch] [bp-28h]@3

  memset(&v6, -858993460, 0x78u);
  if ( dword_BD6A50 > 0 )
  {
    sub_4E4640(v11, 0, 0x28u);
    v10 = 0;
    for ( i = 0; i < 64; ++i )
    {
      if ( (signed int)*((_WORD *)&dword_1FDED7C[431 * a1] + 4 * i) > 0 )
      {
        for ( j = 0; j < dword_BD6A54 && word_BD6940[4 * j]; ++j )
        {
          if ( *((_WORD *)&dword_1FDED7C[431 * a1] + 4 * i) == word_BD6940[4 * j]
            && !v11[j]
            && v11[j] != i
            && byte_BD6942[8 * j] == *((_BYTE *)&dword_1FDED7C[431 * a1] + 8 * i + 2)
            && byte_BD6943[8 * j] == *((_BYTE *)&dword_1FDED7C[431 * a1] + 8 * i + 3)
            && byte_BD6944[8 * j] == *((_BYTE *)&dword_1FDED80[431 * a1] + 8 * i)
            && byte_BD6945[8 * j] == *((_BYTE *)&dword_1FDED80[431 * a1] + 8 * i + 1)
            && byte_BD6946[8 * j] == *((_BYTE *)&dword_1FDED80[431 * a1] + 8 * i + 2)
            && byte_BD6947[8 * j] == *((_BYTE *)&dword_1FDED80[431 * a1] + 8 * i + 3) )
          {
            v11[j] = i;
            break;
          }
        }
      }
    }
    for ( i = 0; i < dword_BD6A54; ++i )
    {
      if ( !v11[i] )
      {
        v1 = sub_401B63(a1, &unk_8B4844);
        return sub_4E46A0(1, v1, v5, v3, v4);
      }
    }
    for ( i = 0; i < dword_BD6A54; ++i )
    {
      v7 = v11[i];
      sub_4E4640(&dword_1FDED7C[431 * a1] + 2 * v7, 0, 8u);
      sub_401960(a1, 1, v7, &dword_1FDED7C[431 * a1] + 2 * v7);
    }
    sub_40115E(a1, 0, &word_BD6990);
    --dword_BD6A50;
    v1 = sub_401B63(a1, &unk_8B48C4);
  }
  else
  {
    v1 = sub_401B63(a1, &unk_8B47C4);
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 40115E: using guessed type _DWORD __cdecl sub_40115E(_DWORD, _DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// BD6940: using guessed type __int16 word_BD6940[];
// BD6990: using guessed type __int16 word_BD6990;
// BD6A50: using guessed type int dword_BD6A50;
// BD6A54: using guessed type int dword_BD6A54;
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDED80: using guessed type int dword_1FDED80[];
// 446710: using guessed type int var_28[10];

//----- (00446AB0) --------------------------------------------------------
int __cdecl SendClientMsg(signed int a1, const void *a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-B8h]@0
  int v5; // [sp+4h] [bp-B4h]@0
  int v6; // [sp+8h] [bp-B0h]@0
  char v7; // [sp+Ch] [bp-ACh]@1
  char v8; // [sp+4Ch] [bp-6Ch]@4
  __int16 v9; // [sp+50h] [bp-68h]@4
  __int16 v10; // [sp+52h] [bp-66h]@4
  char v11; // [sp+58h] [bp-60h]@4
  char v12; // [sp+B6h] [bp-2h]@4
  char v13; // [sp+B7h] [bp-1h]@4

  v2 = -858993460;
  memset(&v7, -858993460, 0xACu);
  if ( a1 > 0 && a1 < 1000 )
  {
    v9 = 257;
    v10 = 0;
    sub_4E4810(&v11, a2, 0x60u);
    v13 = 0;
    v12 = 0;
    v2 = sub_401203(&v8, 108);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);

//----- (00446CA0) --------------------------------------------------------
int __usercall sub_446CA0<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-150h]@0
  int v6; // [sp+4h] [bp-14Ch]@0
  int v7; // [sp+8h] [bp-148h]@0
  char v8; // [sp+Ch] [bp-144h]@1
  int i; // [sp+4Ch] [bp-104h]@3
  char v10; // [sp+50h] [bp-100h]@1

  memset(&v8, -858993460, 0x144u);
  sub_4E3F40(a1, a2, (int)&v10, "not %s");
  Log(&v10, "-system", 0);
  v3 = a3;
  if ( *(_BYTE *)a3 != 47 || (v3 = *(_BYTE *)(a3 + 1), v3 != 120) )
  {
    for ( i = 0; i < 1000; ++i )
    {
      if ( dword_752BAF0[790 * i] == 22 )
        v3 = sub_401B63(i, a3);
    }
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (00446DA0) --------------------------------------------------------
int __usercall sub_446DA0<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-160h]@0
  int v6; // [sp+4h] [bp-15Ch]@0
  int v7; // [sp+8h] [bp-158h]@0
  char v8; // [sp+Ch] [bp-154h]@1
  int k; // [sp+4Ch] [bp-114h]@9
  int j; // [sp+50h] [bp-110h]@7
  int v11; // [sp+54h] [bp-10Ch]@7
  int v12; // [sp+58h] [bp-108h]@6
  int i; // [sp+5Ch] [bp-104h]@1
  char v14; // [sp+60h] [bp-100h]@1

  memset(&v8, -858993460, 0x154u);
  sub_4E3F40(a1, a2, (int)&v14, "cnt %s");
  v3 = Log(&v14, "-system", 0);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22 )
    {
      if ( (signed int)(unsigned __int8)byte_1FDEF8C[1724 * i] > 0 )
      {
        v12 = (unsigned __int16)word_1FDECB2[862 * i];
        if ( v12 > 0 )
        {
          v11 = 0;
          for ( j = 0; j < 10; ++j )
          {
            for ( k = 0; k < 5; ++k )
            {
              if ( *(&dword_5A39F0[5 * j] + k) && *(&dword_5A39F0[5 * j] + k) == v12 )
              {
                v11 = 1;
                break;
              }
            }
          }
          if ( v11 == 1 )
            sub_401B63(i, a3);
        }
      }
    }
    v3 = i + 1;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 5A39F0: using guessed type int dword_5A39F0[];
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (00446FB0) --------------------------------------------------------
int __cdecl sub_446FB0()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-70h]@0
  int v3; // [sp+4h] [bp-6Ch]@0
  int v4; // [sp+8h] [bp-68h]@0
  char v5; // [sp+Ch] [bp-64h]@1
  int v6; // [sp+4Ch] [bp-24h]@18
  int v7; // [sp+50h] [bp-20h]@18
  int k; // [sp+54h] [bp-1Ch]@9
  int j; // [sp+58h] [bp-18h]@7
  int v10; // [sp+5Ch] [bp-14h]@7
  int v11; // [sp+60h] [bp-10h]@7
  int v12; // [sp+64h] [bp-Ch]@7
  int v13; // [sp+68h] [bp-8h]@6
  int i; // [sp+6Ch] [bp-4h]@1

  memset(&v5, -858993460, 0x64u);
  v0 = Log("summon chief", "-system", 0);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22 )
    {
      if ( (signed int)(unsigned __int8)byte_1FDEF8C[1724 * i] > 0 )
      {
        v13 = (unsigned __int16)word_1FDECB2[862 * i];
        if ( v13 > 0 )
        {
          v12 = 0;
          v11 = 0;
          v10 = 0;
          for ( j = 0; j < 10; ++j )
          {
            for ( k = 0; k < 5; ++k )
            {
              if ( *(&dword_5A39F0[5 * j] + k) && *(&dword_5A39F0[5 * j] + k) == v13 )
              {
                v12 = 1;
                v11 = j;
                v10 = k;
                break;
              }
            }
          }
          if ( v12 == 1 )
          {
            v7 = 7 * v11 / 5 + 317;
            v6 = 4025 - 2 * v11 % 5;
            if ( v11 / 5 )
              v7 += v10;
            else
              v7 -= v10;
            sub_401A19(i, v7, v6, 0);
          }
        }
      }
    }
    v0 = i + 1;
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 5A39F0: using guessed type int dword_5A39F0[];
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004471C0) --------------------------------------------------------
int __cdecl sub_4471C0(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // eax@1
  char v7; // [sp+0h] [bp-50h]@0
  int v8; // [sp+4h] [bp-4Ch]@0
  int v9; // [sp+8h] [bp-48h]@0
  char v10; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  v5 = -858993460;
  memset(&v10, -858993460, 0x44u);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22
      && dword_1FDF1F4[431 * i] >= a2
      && dword_1FDF1F4[431 * i] <= a4
      && dword_1FDF1F8[431 * i] >= a3 )
    {
      if ( dword_1FDF1F8[431 * i] <= a5 )
        sub_401B63(i, a1);
    }
    v5 = i + 1;
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004472B0) --------------------------------------------------------
int __cdecl sub_4472B0(int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  v2 = -858993460;
  memset(&v7, -858993460, 0x44u);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22 )
    {
      if ( (unsigned __int16)word_1FDECB2[862 * i] == a1 )
        sub_401B63(i, a2);
    }
    v2 = i + 1;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (00447410) --------------------------------------------------------
int __cdecl sub_447410(int a1, __int16 a2, __int16 a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-58h]@0
  int v6; // [sp+4h] [bp-54h]@0
  int v7; // [sp+8h] [bp-50h]@0
  char v8; // [sp+Ch] [bp-4Ch]@1
  char v9; // [sp+4Ch] [bp-Ch]@1
  __int16 v10; // [sp+50h] [bp-8h]@1
  __int16 v11; // [sp+52h] [bp-6h]@1

  memset(&v8, -858993460, 0x4Cu);
  v10 = a3;
  v11 = a2;
  v3 = sub_401203(&v9, 12);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);

//----- (00447480) --------------------------------------------------------
int __cdecl sub_447480(int a1, __int16 a2, __int16 a3, int a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-5Ch]@0
  int v7; // [sp+4h] [bp-58h]@0
  int v8; // [sp+8h] [bp-54h]@0
  char v9; // [sp+Ch] [bp-50h]@1
  char v10; // [sp+4Ch] [bp-10h]@1
  __int16 v11; // [sp+50h] [bp-Ch]@1
  __int16 v12; // [sp+52h] [bp-Ah]@1
  int v13; // [sp+58h] [bp-4h]@1

  memset(&v9, -858993460, 0x50u);
  v11 = a3;
  v12 = a2;
  v13 = a4;
  v4 = sub_401203(&v10, 16);
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);

//----- (00447570) --------------------------------------------------------
int __cdecl sub_447570(int a1, __int16 a2, __int16 a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  char v8; // [sp+0h] [bp-64h]@0
  int v9; // [sp+4h] [bp-60h]@0
  int v10; // [sp+8h] [bp-5Ch]@0
  char v11; // [sp+Ch] [bp-58h]@1
  char v12; // [sp+4Ch] [bp-18h]@1
  __int16 v13; // [sp+50h] [bp-14h]@1
  __int16 v14; // [sp+52h] [bp-12h]@1
  int v15; // [sp+58h] [bp-Ch]@1
  int v16; // [sp+5Ch] [bp-8h]@1
  int v17; // [sp+60h] [bp-4h]@1

  memset(&v11, -858993460, 0x58u);
  v13 = a3;
  v14 = a2;
  v15 = a4;
  v16 = a5;
  v17 = a6;
  v6 = sub_401203(&v12, 24);
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);

//----- (004475F0) --------------------------------------------------------
int __cdecl sub_4475F0(signed int a1, signed int a2, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-1C4h]@0
  int v6; // [sp+4h] [bp-1C0h]@0
  int v7; // [sp+8h] [bp-1BCh]@0
  char v8; // [sp+Ch] [bp-1B8h]@1
  int v9; // [sp+4Ch] [bp-178h]@12
  int v10; // [sp+FCh] [bp-C8h]@9

  v3 = -858993460;
  memset(&v8, -858993460, 0x1B8u);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      v3 = 3160 * a1;
      if ( dword_752BAF0[790 * a1] == 22 )
      {
        if ( dword_752BAF8[790 * a1] )
        {
          if ( a2 <= 0 || a2 >= 1000 || dword_752BAF4[790 * a2] != 1 )
          {
            sub_4010FF(a2, &v9);
            v3 = sub_401203(&v9, (unsigned __int16)v9);
            if ( a3 )
              v3 = sub_4019FB(&dword_752BAF8[790 * a1]);
          }
          else
          {
            sub_4017E9(a2, &v10);
            v3 = sub_401203(&v10, (unsigned __int16)v10);
            if ( a3 )
              v3 = sub_4019FB(&dword_752BAF8[790 * a1]);
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 4017E9: using guessed type _DWORD __cdecl sub_4017E9(_DWORD, _DWORD);
// 4019FB: using guessed type int __thiscall sub_4019FB(_DWORD);
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF4: using guessed type int dword_752BAF4[];
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (00447780) --------------------------------------------------------
int __cdecl sub_447780(int a1, int a2, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-6Ch]@0
  int v6; // [sp+4h] [bp-68h]@0
  int v7; // [sp+8h] [bp-64h]@0
  char v8; // [sp+Ch] [bp-60h]@1
  int v9; // [sp+4Ch] [bp-20h]@1

  memset(&v8, -858993460, 0x60u);
  sub_40199C(a2, &v9);
  v3 = sub_401203(&v9, (unsigned __int16)v9);
  if ( a3 )
    v3 = sub_4019FB(&dword_752BAF8[790 * a1]);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 40199C: using guessed type _DWORD __cdecl sub_40199C(_DWORD, _DWORD);
// 4019FB: using guessed type int __thiscall sub_4019FB(_DWORD);
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (004478E0) --------------------------------------------------------
int __cdecl sub_4478E0(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-B8h]@0
  int v4; // [sp+4h] [bp-B4h]@0
  int v5; // [sp+8h] [bp-B0h]@0
  char v6; // [sp+Ch] [bp-ACh]@1
  __int16 v7; // [sp+4Ch] [bp-6Ch]@1
  __int16 v8; // [sp+50h] [bp-68h]@1
  __int16 v9; // [sp+52h] [bp-66h]@1
  char v10; // [sp+58h] [bp-60h]@1

  memset(&v6, -858993460, 0xACu);
  v8 = 819;
  v9 = a1;
  v7 = 108;
  sub_4E4720((int)&v10);
  v1 = sub_4014FB(dword_1FDF1F4[431 * a1], dword_1FDF1F8[431 * a1], &v7, a1);
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];

//----- (00447990) --------------------------------------------------------
int __cdecl sub_447990(int a1, int a2, int a3, int a4, __int16 a5, __int16 a6)
{
  int v6; // eax@1
  char v8; // [sp+0h] [bp-64h]@0
  int v9; // [sp+4h] [bp-60h]@0
  int v10; // [sp+8h] [bp-5Ch]@0
  char v11; // [sp+Ch] [bp-58h]@1
  __int16 v12; // [sp+4Ch] [bp-18h]@1
  __int16 v13; // [sp+50h] [bp-14h]@1
  __int16 v14; // [sp+52h] [bp-12h]@1
  __int16 v15; // [sp+58h] [bp-Ch]@1
  __int16 v16; // [sp+5Ah] [bp-Ah]@1
  __int16 v17; // [sp+5Ch] [bp-8h]@1
  __int16 v18; // [sp+5Eh] [bp-6h]@1
  __int16 v19; // [sp+60h] [bp-4h]@1
  __int16 v20; // [sp+62h] [bp-2h]@1

  memset(&v11, -858993460, 0x58u);
  v13 = 930;
  v14 = 30000;
  v12 = 24;
  v15 = a1;
  v16 = a2;
  v17 = a3;
  v18 = a4;
  v19 = a5;
  v20 = a6;
  v6 = sub_4014FB((a3 - a1) / 2 + a1, (a4 - a2) / 2 + a2, &v12, 0);
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00447A60) --------------------------------------------------------
int __cdecl sub_447A60(signed int a1, __int16 a2, int a3, int a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-5Ch]@0
  int v7; // [sp+4h] [bp-58h]@0
  int v8; // [sp+8h] [bp-54h]@0
  char v9; // [sp+Ch] [bp-50h]@1
  int v10; // [sp+4Ch] [bp-10h]@4
  __int16 v11; // [sp+50h] [bp-Ch]@4
  __int16 v12; // [sp+52h] [bp-Ah]@4
  int v13; // [sp+58h] [bp-4h]@4

  v4 = -858993460;
  memset(&v9, -858993460, 0x50u);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      v11 = 357;
      LOWORD(v10) = 16;
      v12 = a2;
      v13 = a3;
      v4 = sub_401203(&v10, 16);
      if ( a4 )
        v4 = sub_4019FB(&dword_752BAF8[790 * a1]);
    }
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 4019FB: using guessed type int __thiscall sub_4019FB(_DWORD);
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (00447B20) --------------------------------------------------------
int __cdecl sub_447B20(signed int a1, signed int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-114h]@0
  int v5; // [sp+4h] [bp-110h]@0
  int v6; // [sp+8h] [bp-10Ch]@0
  char v7; // [sp+Ch] [bp-108h]@1
  int v8; // [sp+4Ch] [bp-C8h]@10
  int v9; // [sp+50h] [bp-C4h]@10
  __int16 v10; // [sp+54h] [bp-C0h]@10
  __int16 v11; // [sp+56h] [bp-BEh]@10
  __int16 v12; // [sp+112h] [bp-2h]@10

  v2 = -858993460;
  memset(&v7, -858993460, 0x108u);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      if ( a2 > 0 )
      {
        if ( a2 < 1000 )
        {
          v2 = 3160 * a2;
          if ( dword_752BAF4[790 * a2] )
          {
            if ( dword_752BAF0[790 * a2] == 22 )
            {
              if ( dword_752BAF0[790 * a1] == 22 )
              {
                memcpy(&v9, (char *)&unk_752BFE8 + 3160 * a2, 0xC4u);
                v11 = 30000;
                v12 = a2;
                v10 = 919;
                LOWORD(v9) = 196;
                v2 = sub_401203(&v9, 196);
                v8 = v2;
                if ( !v2 )
                  v2 = sub_401302(a1);
              }
            }
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF4: using guessed type int dword_752BAF4[];

//----- (00447C80) --------------------------------------------------------
int __cdecl sub_447C80(signed int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-84h]@0
  int v4; // [sp+4h] [bp-80h]@0
  int v5; // [sp+8h] [bp-7Ch]@0
  char v6; // [sp+Ch] [bp-78h]@1
  int v7; // [sp+4Ch] [bp-38h]@16
  int v8; // [sp+50h] [bp-34h]@16
  int j; // [sp+54h] [bp-30h]@14
  int i; // [sp+58h] [bp-2Ch]@12
  int v11; // [sp+5Ch] [bp-28h]@4
  int v12; // [sp+60h] [bp-24h]@4
  int v13; // [sp+64h] [bp-20h]@4
  int v14; // [sp+68h] [bp-1Ch]@4
  int v15; // [sp+6Ch] [bp-18h]@12
  int v16; // [sp+70h] [bp-14h]@12
  int v17; // [sp+74h] [bp-10h]@12
  int v18; // [sp+78h] [bp-Ch]@12
  int v19; // [sp+7Ch] [bp-8h]@1
  int v20; // [sp+80h] [bp-4h]@1

  memset(&v6, -858993460, 0x78u);
  v20 = dword_1FDF1F4[431 * a1];
  v1 = dword_1FDF1F8[431 * a1];
  v19 = dword_1FDF1F8[431 * a1];
  if ( a1 > 0 && a1 <= 1000 )
  {
    v14 = 33;
    v13 = 33;
    v12 = v20 - 16;
    v11 = v19 - 16;
    if ( v20 - 16 + 33 >= 4096 )
      v13 -= v12 + v13 - 4096;
    if ( v14 + v11 >= 4096 )
      v14 -= v11 + v14 - 4096;
    if ( v12 < 0 )
      v12 = 0;
    if ( v11 < 0 )
      v11 = 0;
    v18 = v12;
    v17 = v11;
    v16 = v13 + v12;
    v15 = v14 + v11;
    for ( i = v11; ; ++i )
    {
      v1 = i;
      if ( i >= v15 )
        break;
      for ( j = v18; j < v16; ++j )
      {
        v8 = (unsigned __int16)*(&word_34EA550[4096 * i] + j);
        v7 = (unsigned __int16)*(&word_54F8194[4096 * i] + j);
        if ( v8 > 0 && v8 < 12800 && v8 != a1 )
        {
          if ( dword_1FDF1D4[431 * v8] )
            sub_4019F6(a1, v8, 0);
          else
            *(&word_34EA550[4096 * i] + j) = 0;
        }
        if ( v7 > 0 && v7 < 6500 )
        {
          if ( dword_88636A0[13 * v7] )
            sub_4013E3(a1, v7, 0);
          else
            *(&word_54F8194[4096 * i] + j) = 0;
        }
      }
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4013E3: using guessed type _DWORD __cdecl sub_4013E3(_DWORD, _DWORD, _DWORD);
// 4019F6: using guessed type _DWORD __cdecl sub_4019F6(_DWORD, _DWORD, _DWORD);
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 54F8194: using guessed type __int16 word_54F8194[];
// 88636A0: using guessed type int dword_88636A0[];

//----- (00447F20) --------------------------------------------------------
int __cdecl sub_447F20(int a1, int a2)
{
  int v2; // eax@8
  char v4; // [sp+0h] [bp-144h]@0
  int v5; // [sp+4h] [bp-140h]@0
  int v6; // [sp+8h] [bp-13Ch]@0
  char v7; // [sp+Ch] [bp-138h]@1
  int v8; // [sp+4Ch] [bp-F8h]@3
  int v9; // [sp+50h] [bp-F4h]@3
  int v10; // [sp+54h] [bp-F0h]@3
  __int16 v11; // [sp+58h] [bp-ECh]@3
  __int16 v12; // [sp+5Ch] [bp-E8h]@3
  __int16 v13; // [sp+5Eh] [bp-E6h]@3
  char v14; // [sp+64h] [bp-E0h]@3
  char v15[128]; // [sp+C4h] [bp-80h]@3
  int v16; // [sp+150h] [bp+Ch]@2

  memset(&v7, -858993460, 0x138u);
  if ( a2 )
    v16 = Rand()() % dword_8C75F68;
  sub_4E4640(&v11, 0, 0xECu);
  v12 = 454;
  v11 = 236;
  v13 = 30000;
  v10 = Rand()() % 4;
  dword_752C56C[790 * a1] = v10;
  dword_752C570[790 * a1] = dword_8A58B8;
  sub_4E4720((int)&v14);
  sub_4E4720((int)&v15[32 * v10]);
  v9 = 0;
  v8 = 1;
  while ( v8 < 4 )
  {
    if ( v9 == v10 )
    {
      ++v9;
    }
    else
    {
      sub_4E4720((int)&v15[32 * v9++]);
      ++v8;
    }
  }
  sub_4017B2((char *)&unk_1FDF03A + 1724 * a1, 2);
  v2 = sub_401203(&v11, 236);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 4017B2: using guessed type _DWORD __cdecl sub_4017B2(_DWORD, _DWORD);
// 8A58B8: using guessed type int dword_8A58B8;
// 752C56C: using guessed type int dword_752C56C[];
// 752C570: using guessed type int dword_752C570[];
// 8C75F68: using guessed type int dword_8C75F68;
// 447F20: using guessed type char var_80[128];

//----- (00448160) --------------------------------------------------------
int __usercall sub_448160<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4, int a5, int a6)
{
  int v6; // eax@3
  char v8; // [sp+0h] [bp-1A0h]@0
  int v9; // [sp+4h] [bp-19Ch]@0
  int v10; // [sp+8h] [bp-198h]@0
  char v11; // [sp+Ch] [bp-194h]@1
  int v12; // [sp+4Ch] [bp-154h]@96
  int v13; // [sp+50h] [bp-150h]@92
  int v14; // [sp+54h] [bp-14Ch]@61
  int v15; // [sp+58h] [bp-148h]@61
  int k; // [sp+5Ch] [bp-144h]@58
  int v17; // [sp+60h] [bp-140h]@35
  int j; // [sp+64h] [bp-13Ch]@32
  int i; // [sp+68h] [bp-138h]@30
  int v20; // [sp+6Ch] [bp-134h]@4
  int v21; // [sp+70h] [bp-130h]@30
  int v22; // [sp+74h] [bp-12Ch]@30
  int v23; // [sp+78h] [bp-128h]@30
  int v24; // [sp+7Ch] [bp-124h]@30
  int v25; // [sp+80h] [bp-120h]@22
  int v26; // [sp+84h] [bp-11Ch]@22
  int v27; // [sp+88h] [bp-118h]@22
  int v28; // [sp+8Ch] [bp-114h]@22
  int v29; // [sp+90h] [bp-110h]@14
  int v30; // [sp+94h] [bp-10Ch]@14
  int v31; // [sp+98h] [bp-108h]@14
  int v32; // [sp+9Ch] [bp-104h]@14
  char v33; // [sp+A0h] [bp-100h]@77

  memset(&v11, -858993460, 0x194u);
  if ( a3 && dword_1FDF1F4[431 * a3] )
  {
    v20 = (unsigned __int16)*(&word_34EA550[4096 * dword_1FDF1F8[431 * a3]] + dword_1FDF1F4[431 * a3]);
    if ( v20 != a3 && v20 )
    {
      if ( a3 < 1000 )
        Log("PC do not have his own grid", "-system", 0);
      else
        Log("NPC do not have his own grid", "-system", 0);
    }
    *(&word_34EA550[4096 * dword_1FDF1F8[431 * a3]] + dword_1FDF1F4[431 * a3]) = 0;
    if ( (unsigned __int16)*(&word_34EA550[4096 * a5] + a4) != a3 && *(&word_34EA550[4096 * a5] + a4) )
    {
      if ( a3 < 1000 )
        Log("PC step in other mob's grid", "-system", 0);
      else
        Log("NPC charge other mob's grid", "-system", 0);
    }
    *(&word_34EA550[4096 * a5] + a4) = a3;
    v31 = 33;
    v32 = 33;
    v30 = dword_1FDF1F4[431 * a3] - 16;
    v29 = dword_1FDF1F8[431 * a3] - 16;
    if ( v30 + 33 >= 4096 )
      v32 -= v30 + v32 - 4096;
    if ( v31 + v29 >= 4096 )
      v31 -= v29 + v31 - 4096;
    if ( v30 < 0 )
      v30 = 0;
    if ( v29 < 0 )
      v29 = 0;
    v28 = v30;
    v27 = v29;
    v26 = v32 + v30;
    v25 = v31 + v29;
    v31 = 33;
    v32 = 33;
    v30 = a4 - 16;
    v29 = a5 - 16;
    if ( a4 - 16 + 33 >= 4096 )
      v32 -= v30 + v32 - 4096;
    if ( v31 + v29 >= 4096 )
      v31 -= v29 + v31 - 4096;
    if ( v30 < 0 )
      v30 = 0;
    if ( v29 < 0 )
      v29 = 0;
    v24 = v30;
    v23 = v29;
    v22 = v32 + v30;
    v21 = v31 + v29;
    for ( i = v27; i < v25; ++i )
    {
      for ( j = v28; j < v26; ++j )
      {
        v17 = (unsigned __int16)*(&word_34EA550[4096 * i] + j);
        if ( v17 && v17 != a3 )
        {
          if ( dword_1FDF1D4[431 * v17] )
          {
            if ( a6 && v17 < 1000 )
              sub_401203(a6, *(_WORD *)a6);
            if ( (j < v24 || j >= v22 || i < v23 || i >= v21)
              && a4
              && !sub_401BE5(&byte_1FDECA0[1724 * a3])
              && !sub_401BE5(&byte_1FDECA0[1724 * v17]) )
            {
              if ( v17 < 1000 )
                sub_401884(v17, a3, 0, 0);
              if ( a3 < 1000 )
                sub_401884(a3, v17, 0, 0);
            }
          }
          else
          {
            Log("Dest Empty grid", "-system", 0);
            *(&word_34EA550[4096 * i] + j) = 0;
          }
        }
      }
    }
    for ( i = v23; i < v21; ++i )
    {
      for ( k = v24; k < v22; ++k )
      {
        v15 = (unsigned __int16)*(&word_54F8194[4096 * i] + k);
        v14 = (unsigned __int16)*(&word_34EA550[4096 * i] + k);
        if ( k < v28 || k >= v26 || i < v27 || i >= v25 )
        {
          if ( v15 > 0 && v15 < 6500 && dword_88636A0[13 * v15] && word_8863698[26 * v15] && a3 < 1000 )
          {
            if ( dword_88636A0[13 * v15] )
              sub_4013E3(a3, v15, 0);
            else
              *(&word_54F8194[4096 * i] + k) = 0;
          }
          if ( v14 != a3 && v14 )
          {
            if ( dword_1FDF1D4[431 * v14] )
            {
              if ( v14 < 1000 )
              {
                if ( dword_1FDF1D4[431 * a3] )
                  sub_4019F6(v14, a3, 0);
                else
                  *(&word_34EA550[4096 * i] + k) = 0;
              }
              if ( a3 < 1000 )
              {
                if ( dword_1FDF1D4[431 * v14] )
                  sub_4019F6(a3, v14, 0);
                else
                  *(&word_34EA550[4096 * i] + k) = 0;
              }
              if ( a6 && v14 > 0 && v14 < 1000 )
              {
                if ( dword_752BAF0[790 * v14] == 22 && dword_752BAF8[790 * v14] )
                {
                  v13 = sub_401203(a6, *(_WORD *)a6);
                  if ( !v13 )
                  {
                    byte_752BAE7[3160 * v14] = 0;
                    byte_752BAE6[3160 * v14] = 0;
                    sub_4E3F40(a1, a2, (int)&v33, "err,gridmulticast add %d-%d %s");
                    Log(&v33, "-system", 0);
                    *(&word_34EA550[4096 * i] + k) = 0;
                    sub_401302(v14);
                  }
                }
                else
                {
                  byte_752BAE7[3160 * v14] = 0;
                  byte_752BAE6[3160 * v14] = 0;
                  sub_4E3F40(a1, a2, (int)&v33, "err,grid-1 empty %d-%d %s");
                  Log(&v33, "-system", 0);
                  *(&word_34EA550[4096 * i] + k) = 0;
                  sub_401302(v14);
                }
              }
            }
            else
            {
              *(&word_34EA550[4096 * i] + k) = 0;
              sub_4E3F40(a1, a2, (int)&v33, "MOB GRID HAS EMPTY MOB x:%d y:%d mob:%d");
              Log(&v33, "-system", 0);
            }
          }
        }
      }
    }
    v12 = a6;
    dword_1FDF1EC[431 * a3] = *(_DWORD *)(a6 + 8);
    dword_1FDF1F0[431 * a3] = *(_DWORD *)(v12 + 20);
    dword_1FDF1E4[431 * a3] = *(_WORD *)(v12 + 12);
    dword_1FDF1E8[431 * a3] = *(_WORD *)(v12 + 14);
    dword_1FDF1F4[431 * a3] = a4;
    v6 = 1724 * a3;
    dword_1FDF1F8[431 * a3] = a5;
  }
  else
  {
    v6 = Log("err,GridMulticast mobidx,pos", "-system", 0);
  }
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 4013E3: using guessed type _DWORD __cdecl sub_4013E3(_DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401884: using guessed type _DWORD __cdecl sub_401884(_DWORD, __int16, _DWORD, _DWORD);
// 4019F6: using guessed type _DWORD __cdecl sub_4019F6(_DWORD, _DWORD, _DWORD);
// 401BE5: using guessed type int __thiscall sub_401BE5(_DWORD);
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1E4: using guessed type int dword_1FDF1E4[];
// 1FDF1E8: using guessed type int dword_1FDF1E8[];
// 1FDF1EC: using guessed type int dword_1FDF1EC[];
// 1FDF1F0: using guessed type int dword_1FDF1F0[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 54F8194: using guessed type __int16 word_54F8194[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];
// 8863698: using guessed type __int16 word_8863698[];
// 88636A0: using guessed type int dword_88636A0[];

//----- (00448EA0) --------------------------------------------------------
int __cdecl sub_448EA0(int a1, __int16 a2, __int16 a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-60h]@0
  int v6; // [sp+4h] [bp-5Ch]@0
  int v7; // [sp+8h] [bp-58h]@0
  char v8; // [sp+Ch] [bp-54h]@1
  __int16 v9; // [sp+4Ch] [bp-14h]@1
  __int16 v10; // [sp+50h] [bp-10h]@1
  __int16 v11; // [sp+52h] [bp-Eh]@1
  __int16 v12; // [sp+58h] [bp-8h]@1
  __int16 v13; // [sp+5Ah] [bp-6h]@1
  int v14; // [sp+5Ch] [bp-4h]@1

  memset(&v8, -858993460, 0x54u);
  v10 = 874;
  v9 = 20;
  v14 = 0;
  v11 = a1;
  v12 = a2;
  v13 = a3;
  v3 = sub_4014FB(dword_1FDF1F4[431 * a1], dword_1FDF1F8[431 * a1], &v9, 0);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];

//----- (00448F50) --------------------------------------------------------
int __usercall sub_448F50<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6)
{
  int v6; // eax@9
  char v8; // [sp+0h] [bp-17Ch]@0
  int v9; // [sp+4h] [bp-178h]@0
  int v10; // [sp+8h] [bp-174h]@0
  char v11; // [sp+Ch] [bp-170h]@1
  int v12; // [sp+4Ch] [bp-130h]@26
  int v13; // [sp+50h] [bp-12Ch]@14
  int j; // [sp+54h] [bp-128h]@11
  int i; // [sp+58h] [bp-124h]@9
  char v16; // [sp+5Ch] [bp-120h]@23
  int v17; // [sp+15Ch] [bp-20h]@9
  int v18; // [sp+160h] [bp-1Ch]@9
  int v19; // [sp+164h] [bp-18h]@9
  int v20; // [sp+168h] [bp-14h]@9
  int v21; // [sp+16Ch] [bp-10h]@1
  int v22; // [sp+170h] [bp-Ch]@1
  int v23; // [sp+174h] [bp-8h]@1
  int v24; // [sp+178h] [bp-4h]@1

  memset(&v11, -858993460, 0x170u);
  v23 = 33;
  v24 = 33;
  v22 = a3 - 16;
  v21 = a4 - 16;
  if ( a3 - 16 + 33 >= 4096 )
    v24 -= v22 + v24 - 4096;
  if ( v23 + v21 >= 4096 )
    v23 -= v21 + v23 - 4096;
  if ( v22 < 0 )
    v22 = 0;
  if ( v21 < 0 )
    v21 = 0;
  v20 = v22;
  v19 = v21;
  v18 = v24 + v22;
  v17 = v23 + v21;
  v6 = v21;
  for ( i = v21; i < v17; ++i )
  {
    v6 = v20;
    for ( j = v20; j < v18; ++j )
    {
      v6 = i << 13;
      v13 = (unsigned __int16)*(&word_34EA550[4096 * i] + j);
      if ( v13 > 0 )
      {
        v6 = v13;
        if ( v13 != a6 )
        {
          if ( dword_1FDF1D4[431 * v13] )
          {
            if ( a5 && v13 < 1000 )
            {
              if ( dword_752BAF0[790 * v13] == 22 && dword_752BAF8[790 * v13] )
              {
                if ( *(_WORD *)(a5 + 4) == 824 )
                {
                  *(_DWORD *)(a5 + 20) = dword_1FDECBC[431 * v13];
                  *(_DWORD *)(a5 + 12) = dword_1FDEF94[431 * v13];
                }
                v6 = sub_401203(a5, *(_WORD *)a5);
                v12 = v6;
                if ( !v6 )
                {
                  if ( dword_752BB40[790 * v13] >= 10 )
                  {
                    byte_752BAE7[3160 * v13] = 0;
                    byte_752BAE6[3160 * v13] = 0;
                    sub_4E3F40(a1, a2, (int)&v16, "err,grid -3 empty %d-%d %s");
                    Log(&v16, "-system", 0);
                    *(&word_34EA550[4096 * i] + j) = 0;
                    v6 = sub_401302(v13);
                  }
                }
              }
              else
              {
                byte_752BAE7[3160 * v13] = 0;
                byte_752BAE6[3160 * v13] = 0;
                sub_4E3F40(a1, a2, (int)&v16, "err,grid -2 empty %d-%d %s");
                Log(&v16, "-system", 0);
                *(&word_34EA550[4096 * i] + j) = 0;
                v6 = sub_401302(v13);
              }
            }
          }
          else
          {
            v6 = j;
            *(&word_34EA550[4096 * i] + j) = 0;
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDEF94: using guessed type int dword_1FDEF94[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];
// 752BB40: using guessed type int dword_752BB40[];

//----- (00449410) --------------------------------------------------------
int __cdecl sub_449410(int a1, int a2, int a3, int a4)
{
  int v4; // eax@9
  char v6; // [sp+0h] [bp-78h]@0
  int v7; // [sp+4h] [bp-74h]@0
  int v8; // [sp+8h] [bp-70h]@0
  char v9; // [sp+Ch] [bp-6Ch]@1
  int v10; // [sp+4Ch] [bp-2Ch]@14
  int j; // [sp+50h] [bp-28h]@11
  int i; // [sp+54h] [bp-24h]@9
  int v13; // [sp+58h] [bp-20h]@9
  int v14; // [sp+5Ch] [bp-1Ch]@9
  int v15; // [sp+60h] [bp-18h]@9
  int v16; // [sp+64h] [bp-14h]@9
  int v17; // [sp+68h] [bp-10h]@1
  int v18; // [sp+6Ch] [bp-Ch]@1
  int v19; // [sp+70h] [bp-8h]@1
  int v20; // [sp+74h] [bp-4h]@1

  memset(&v9, -858993460, 0x6Cu);
  v19 = 33;
  v20 = 33;
  v18 = a1 - 16;
  v17 = a2 - 16;
  if ( a1 - 16 + 33 >= 4096 )
    v20 -= v18 + v20 - 4096;
  if ( v19 + v17 >= 4096 )
    v19 -= v17 + v19 - 4096;
  if ( v18 < 0 )
    v18 = 0;
  if ( v17 < 0 )
    v17 = 0;
  v16 = v18;
  v15 = v17;
  v14 = v20 + v18;
  v13 = v19 + v17;
  v4 = v17;
  for ( i = v17; i < v13; ++i )
  {
    v4 = v16;
    for ( j = v16; j < v14; ++j )
    {
      v10 = (unsigned __int16)*(&word_34EA550[4096 * i] + j);
      v4 = 1724 * v10;
      if ( dword_1FDF1D4[431 * v10] )
      {
        if ( a3 )
        {
          if ( v10 > 0 )
          {
            if ( v10 < 1000 )
            {
              v4 = v10;
              if ( v10 != a4 )
              {
                if ( dword_752BAF0[790 * v10] != 22 || !dword_752BAF8[790 * v10] )
                  return sub_4E46A0(1, v4, v8, v6, v7);
                v4 = sub_401203(a3, *(_WORD *)a3);
              }
            }
          }
        }
      }
      else
      {
        *(&word_34EA550[4096 * i] + j) = 0;
      }
    }
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (00449640) --------------------------------------------------------
int __cdecl sub_449640(signed int a1, __int16 a2, __int16 a3, int a4)
{
  int v4; // eax@1
  int v5; // ecx@8
  char v7; // [sp+0h] [bp-64h]@0
  int v8; // [sp+4h] [bp-60h]@0
  int v9; // [sp+8h] [bp-5Ch]@0
  char v10; // [sp+Ch] [bp-58h]@1
  int v11; // [sp+4Ch] [bp-18h]@5
  __int16 v12; // [sp+50h] [bp-14h]@5
  __int16 v13; // [sp+52h] [bp-12h]@6
  __int16 v14; // [sp+58h] [bp-Ch]@8
  __int16 v15; // [sp+5Ah] [bp-Ah]@8
  int v16; // [sp+5Ch] [bp-8h]@8
  int v17; // [sp+60h] [bp-4h]@8

  v4 = -858993460;
  memset(&v10, -858993460, 0x58u);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      v4 = 3160 * a1;
      if ( dword_752BAF8[790 * a1] )
      {
        v12 = 386;
        LOWORD(v11) = 24;
        if ( dword_752BAF0[790 * a1] == 22 )
          v13 = a1;
        else
          v13 = 0;
        v14 = a2;
        v15 = a3;
        v5 = *(_DWORD *)(a4 + 4);
        v16 = *(_DWORD *)a4;
        v17 = v5;
        v4 = sub_40132A(&v11, (unsigned __int16)v11);
      }
    }
  }
  return sub_4E46A0(1, v4, v9, v7, v8);
}
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (00449730) --------------------------------------------------------
int __cdecl sub_449730(int a1, int a2)
{
  int v2; // eax@65
  int v3; // eax@72
  char v5; // [sp+0h] [bp-C0h]@0
  int v6; // [sp+4h] [bp-BCh]@0
  int v7; // [sp+8h] [bp-B8h]@0
  char v8; // [sp+Ch] [bp-B4h]@1
  bool v9; // [sp+4Ch] [bp-74h]@47
  bool v10; // [sp+50h] [bp-70h]@41
  bool v11; // [sp+54h] [bp-6Ch]@30
  bool v12; // [sp+58h] [bp-68h]@24
  bool v13; // [sp+5Ch] [bp-64h]@13
  bool v14; // [sp+60h] [bp-60h]@7
  int v15; // [sp+64h] [bp-5Ch]@66
  int v16; // [sp+68h] [bp-58h]@66
  int v17; // [sp+6Ch] [bp-54h]@65
  int v18; // [sp+70h] [bp-50h]@62
  int i; // [sp+74h] [bp-4Ch]@1
  int v20; // [sp+78h] [bp-48h]@1
  __int16 v21; // [sp+7Ch] [bp-44h]@1
  __int16 v22; // [sp+80h] [bp-40h]@1
  __int16 v23; // [sp+82h] [bp-3Eh]@1
  __int16 v24[12]; // [sp+88h] [bp-38h]@4
  __int16 v25; // [sp+A0h] [bp-20h]@56
  unsigned __int16 v26; // [sp+A4h] [bp-1Ch]@58
  __int16 v27; // [sp+A6h] [bp-1Ah]@71
  char v28[16]; // [sp+A8h] [bp-18h]@4
  int v29; // [sp+B8h] [bp-8h]@1
  int v30; // [sp+BCh] [bp-4h]@1

  memset(&v8, -858993460, 0xB4u);
  v30 = 0;
  v29 = 0;
  v22 = 875;
  v21 = 60;
  v23 = a1;
  v20 = 0;
  for ( i = 0; i < 16; ++i )
  {
    v24[i] = *((_WORD *)&dword_1FDECFC[431 * a1] + 4 * i);
    v28[i] = 0;
    v14 = *((_BYTE *)&dword_1FDECFC[431 * a1] + 8 * i + 2) == 43
       || (signed int)*((_BYTE *)&dword_1FDECFC[431 * a1] + 8 * i + 2) >= 115
       && (signed int)*((_BYTE *)&dword_1FDECFC[431 * a1] + 8 * i + 2) <= 126;
    if ( v14 )
    {
      v30 = sub_40103C(&dword_1FDECFC[431 * a1] + 2 * i);
      if ( v30 < 10 )
      {
        v28[i] = *((_BYTE *)&dword_1FDECFC[431 * a1] + 8 * i + 2);
      }
      else
      {
        v30 = 16 * ((v30 - 10) % 4 + 1);
        v13 = (signed int)*((_BYTE *)&dword_1FDECFC[431 * a1] + 8 * i + 2) >= 115
           && (signed int)*((_BYTE *)&dword_1FDECFC[431 * a1] + 8 * i + 2) <= 126;
        if ( v13 )
          v29 = *((_BYTE *)&dword_1FDECFC[431 * a1] + 8 * i + 2) - 115;
        else
          v29 = 0;
        v28[i] = v30 + v29;
      }
    }
    else
    {
      v12 = *(&byte_1FDED00[1724 * a1] + 8 * i) == 43
         || *(&byte_1FDED00[1724 * a1] + 8 * i) >= 115 && *(&byte_1FDED00[1724 * a1] + 8 * i) <= 126;
      if ( v12 )
      {
        v30 = sub_40103C(&dword_1FDECFC[431 * a1] + 2 * i);
        if ( v30 < 10 )
        {
          v28[i] = *(&byte_1FDED00[1724 * a1] + 8 * i);
        }
        else
        {
          v30 = 16 * ((v30 - 10) % 4 + 1);
          v11 = *(&byte_1FDED00[1724 * a1] + 8 * i) >= 115 && *(&byte_1FDED00[1724 * a1] + 8 * i) <= 126;
          if ( v11 )
            v29 = *(&byte_1FDED00[1724 * a1] + 8 * i) - 115;
          else
            v29 = 0;
          v28[i] = v30 + v29;
        }
      }
      else
      {
        v10 = *(&byte_1FDED02[1724 * a1] + 8 * i) == 43
           || *(&byte_1FDED02[1724 * a1] + 8 * i) >= 115 && *(&byte_1FDED02[1724 * a1] + 8 * i) <= 126;
        if ( v10 )
        {
          v30 = sub_40103C(&dword_1FDECFC[431 * a1] + 2 * i);
          if ( v30 < 10 )
          {
            v28[i] = *(&byte_1FDED02[1724 * a1] + 8 * i);
          }
          else
          {
            v30 = 16 * ((v30 - 10) % 4 + 1);
            v9 = *(&byte_1FDED02[1724 * a1] + 8 * i) >= 115 && *(&byte_1FDED02[1724 * a1] + 8 * i) <= 126;
            if ( v9 )
              v29 = *(&byte_1FDED02[1724 * a1] + 8 * i) - 115;
            else
              v29 = 0;
            v28[i] = v30 + v29;
          }
        }
      }
    }
    if ( i != 12 || dword_1FDF2B0[431 * a1] != 1 )
    {
      if ( i == 14 )
      {
        if ( (signed int)v26 < 2360
          || (signed int)(unsigned __int16)v24[i] >= 2390
          || (signed int)*((_WORD *)&dword_1FDECFC[431 * a1] + 4 * i + 1) > 0 )
        {
          v18 = *(&byte_1FDED00[1724 * a1] + 8 * i);
          v18 /= 10;
          if ( v18 < 0 )
            v18 = 0;
          v18 <<= 12;
          v24[i] += v18;
        }
        else
        {
          v24[i] = 0;
          v20 = 1;
        }
      }
      else
      {
        v2 = sub_4014E2(&dword_1FDECFC[431 * a1] + 2 * i);
        v17 = v2 << 12;
        v24[i] += (_WORD)v2 << 12;
      }
    }
    else
    {
      v25 = 0;
    }
  }
  v16 = dword_1FDF1F4[431 * a1];
  v15 = dword_1FDF1F8[431 * a1];
  if ( dword_8C76344 && v16 >= 2604 && v15 >= 1708 && v16 <= 2648 && v15 <= 1744 )
    v27 = 0;
  v3 = sub_4014FB(dword_1FDF1F4[431 * a1], dword_1FDF1F8[431 * a1], &v21, a2);
  if ( v20 )
    v3 = sub_401960(a1, 0, 14, &word_1FDED6C[862 * a1]);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 40103C: using guessed type _DWORD __cdecl sub_40103C(_DWORD);
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED6C: using guessed type __int16 word_1FDED6C[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF2B0: using guessed type int dword_1FDF2B0[];
// 8C76344: using guessed type int dword_8C76344;
// 449730: using guessed type __int16 var_38[12];
// 449730: using guessed type char var_18[16];

//----- (00449EE0) --------------------------------------------------------
int __cdecl sub_449EE0(signed int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-D8h]@0
  int v4; // [sp+4h] [bp-D4h]@0
  int v5; // [sp+8h] [bp-D0h]@0
  char v6; // [sp+Ch] [bp-CCh]@1
  int v7; // [sp+4Ch] [bp-8Ch]@4
  __int16 v8; // [sp+50h] [bp-88h]@4
  __int16 v9; // [sp+52h] [bp-86h]@4
  char v10; // [sp+58h] [bp-80h]@4

  v1 = -858993460;
  memset(&v6, -858993460, 0xCCu);
  if ( a1 > 0 && a1 < 1000 )
  {
    v8 = 953;
    LOWORD(v7) = 140;
    v9 = a1;
    sub_4E4810(&v10, &byte_1FDF154[1724 * a1], 0x80u);
    v1 = sub_40132A(&v7, (unsigned __int16)v7);
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);

//----- (00449FC0) --------------------------------------------------------
int __cdecl sub_449FC0(signed int a1)
{
  int v1; // eax@18
  char v3; // [sp+0h] [bp-B0h]@0
  int v4; // [sp+4h] [bp-ACh]@0
  int v5; // [sp+8h] [bp-A8h]@0
  char v6; // [sp+Ch] [bp-A4h]@1
  int v7; // [sp+4Ch] [bp-64h]@11
  int v8; // [sp+50h] [bp-60h]@11
  __int16 v9; // [sp+54h] [bp-5Ch]@1
  __int16 v10; // [sp+58h] [bp-58h]@1
  __int16 v11; // [sp+5Ah] [bp-56h]@3
  char v12; // [sp+60h] [bp-50h]@3
  char v13; // [sp+7Ch] [bp-34h]@3
  char v14; // [sp+7Dh] [bp-33h]@3
  char v15; // [sp+7Eh] [bp-32h]@3
  __int16 v16; // [sp+9Eh] [bp-12h]@3
  __int16 v17; // [sp+A0h] [bp-10h]@3
  char v18; // [sp+A2h] [bp-Eh]@3
  char v19; // [sp+A3h] [bp-Dh]@3
  char v20; // [sp+A4h] [bp-Ch]@3
  char v21; // [sp+A5h] [bp-Bh]@3
  __int16 v22; // [sp+A6h] [bp-Ah]@2
  __int16 v23; // [sp+A8h] [bp-8h]@2
  __int16 v24; // [sp+AAh] [bp-6h]@3
  char v25; // [sp+AEh] [bp-2h]@4

  memset(&v6, -858993460, 0xA4u);
  sub_4E4640(&v9, 0, 0x5Cu);
  v10 = 822;
  if ( a1 < 1000 )
  {
    v22 = LOWORD(dword_752C434[790 * a1]);
    v23 = LOWORD(dword_752C438[790 * a1]);
  }
  v9 = 92;
  v11 = a1;
  memcpy(&v12, &word_1FDECE0[862 * a1], 0x1Cu);
  v13 = byte_1FDEF86[1724 * a1];
  v14 = byte_1FDEF87[1724 * a1];
  v16 = word_1FDECB2[862 * a1];
  v17 = (unsigned __int8)byte_1FDEF8C[1724 * a1];
  sub_401B9F(&v15, &byte_1FDF154[1724 * a1]);
  v18 = byte_1FDEF90[1724 * a1];
  v19 = byte_1FDEF91[1724 * a1];
  v20 = byte_1FDEF92[1724 * a1];
  v21 = byte_1FDEF93[1724 * a1];
  v24 = (unsigned __int8)byte_1FDEF8D[1724 * a1];
  if ( dword_1FDEF7C[431 * a1] & 0x80 )
  {
    v25 = 1;
  }
  else
  {
    if ( dword_1FDEF7C[431 * a1] & 0x8000 )
    {
      v25 = 2;
    }
    else
    {
      if ( (unsigned int)&unk_800000 & dword_1FDEF7C[431 * a1] )
        v25 = 3;
    }
  }
  if ( dword_1FDF2B0[431 * a1] )
    v16 = 0;
  v8 = dword_1FDF1F4[431 * a1];
  v7 = dword_1FDF1F8[431 * a1];
  if ( dword_8C76344 && a1 < 1000 && v8 >= 2604 && v7 >= 1708 && v8 <= 2648 && v7 <= 1744 )
  {
    v16 = 0;
    v17 = 0;
  }
  sub_4014FB(dword_1FDF1F4[431 * a1], dword_1FDF1F8[431 * a1], &v9, 0);
  v1 = sub_4011AE(a1);
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4011AE: using guessed type _DWORD __cdecl sub_4011AE(_DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401B9F: using guessed type _DWORD __cdecl sub_401B9F(_DWORD, _DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF2B0: using guessed type int dword_1FDF2B0[];
// 752C434: using guessed type int dword_752C434[];
// 752C438: using guessed type int dword_752C438[];
// 8C76344: using guessed type int dword_8C76344;

//----- (0044A2E0) --------------------------------------------------------
int __cdecl sub_44A2E0(signed int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-74h]@0
  int v4; // [sp+4h] [bp-70h]@0
  int v5; // [sp+8h] [bp-6Ch]@0
  char v6; // [sp+Ch] [bp-68h]@1
  int v7; // [sp+4Ch] [bp-28h]@6
  int v8; // [sp+50h] [bp-24h]@6
  __int16 v9; // [sp+54h] [bp-20h]@6
  __int16 v10; // [sp+56h] [bp-1Eh]@6
  int v11; // [sp+5Ch] [bp-18h]@6
  int v12; // [sp+60h] [bp-14h]@6
  int v13; // [sp+64h] [bp-10h]@6
  __int16 v14; // [sp+68h] [bp-Ch]@6
  __int16 v15; // [sp+6Ah] [bp-Ah]@6
  __int16 v16; // [sp+6Ch] [bp-8h]@6
  int v17; // [sp+70h] [bp-4h]@6

  v1 = -858993460;
  memset(&v6, -858993460, 0x68u);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      v1 = 3160 * a1;
      if ( dword_752BAF0[790 * a1] == 22 )
      {
        if ( dword_752BAF8[790 * a1] )
        {
          v9 = 823;
          LOWORD(v8) = 36;
          v10 = a1;
          v12 = dword_1FDECBC[431 * a1];
          v15 = word_1FDEF82[862 * a1];
          v13 = dword_1FDEF7C[431 * a1];
          v14 = word_1FDEF80[862 * a1];
          v16 = word_1FDEF84[862 * a1];
          v17 = dword_1FDECB8[431 * a1];
          v11 = dword_1FDEF94[431 * a1];
          v1 = sub_401203(&v8, 36);
          v7 = v1;
          if ( !v1 )
            v1 = sub_401302(a1);
        }
      }
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDEF80: using guessed type __int16 word_1FDEF80[];
// 1FDEF82: using guessed type __int16 word_1FDEF82[];
// 1FDEF84: using guessed type __int16 word_1FDEF84[];
// 1FDEF94: using guessed type int dword_1FDEF94[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (0044A460) --------------------------------------------------------
int __cdecl sub_44A460(signed int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-60h]@0
  int v4; // [sp+4h] [bp-5Ch]@0
  int v5; // [sp+8h] [bp-58h]@0
  char v6; // [sp+Ch] [bp-54h]@1
  int v7; // [sp+4Ch] [bp-14h]@6
  int v8; // [sp+50h] [bp-10h]@6
  __int16 v9; // [sp+54h] [bp-Ch]@6
  __int16 v10; // [sp+56h] [bp-Ah]@6
  int v11; // [sp+5Ch] [bp-4h]@6

  v1 = -858993460;
  memset(&v6, -858993460, 0x54u);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      v1 = 3160 * a1;
      if ( dword_752BAF0[790 * a1] == 22 )
      {
        if ( dword_752BAF8[790 * a1] )
        {
          v9 = 943;
          LOWORD(v8) = 16;
          v10 = a1;
          v11 = dword_1FDECB8[431 * a1];
          v1 = sub_401203(&v8, 16);
          v7 = v1;
          if ( !v1 )
            v1 = sub_401302(a1);
        }
      }
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (0044A550) --------------------------------------------------------
int __cdecl sub_44A550(signed int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-60h]@0
  int v4; // [sp+4h] [bp-5Ch]@0
  int v5; // [sp+8h] [bp-58h]@0
  char v6; // [sp+Ch] [bp-54h]@1
  int v7; // [sp+4Ch] [bp-14h]@6
  int v8; // [sp+50h] [bp-10h]@6
  __int16 v9; // [sp+54h] [bp-Ch]@6
  __int16 v10; // [sp+56h] [bp-Ah]@6
  int v11; // [sp+5Ch] [bp-4h]@6

  v1 = -858993460;
  memset(&v6, -858993460, 0x54u);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      v1 = 3160 * a1;
      if ( dword_752BAF0[790 * a1] == 22 )
      {
        if ( dword_752BAF8[790 * a1] )
        {
          v9 = 825;
          v11 = 16;
          LOWORD(v8) = 16;
          v10 = 30000;
          v11 = dword_752BF44[790 * a1];
          v1 = sub_401203(&v8, 16);
          v7 = v1;
          if ( !v1 )
            v1 = sub_401302(a1);
        }
      }
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];
// 752BF44: using guessed type int dword_752BF44[];

//----- (0044A640) --------------------------------------------------------
int __usercall sub_44A640<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@1
  int v4; // edx@26
  int v5; // ecx@33
  int v6; // eax@37
  int v7; // edx@42
  char v9; // [sp+0h] [bp-113Ch]@0
  int v10; // [sp+4h] [bp-1138h]@0
  int v11; // [sp+8h] [bp-1134h]@0
  char v12; // [sp+Ch] [bp-1130h]@1
  int j; // [sp+4Ch] [bp-10F0h]@31
  int v14; // [sp+50h] [bp-10ECh]@28
  int v15; // [sp+54h] [bp-10E8h]@26
  char v16; // [sp+58h] [bp-10E4h]@26
  int v17; // [sp+78h] [bp-10C4h]@26
  int v18; // [sp+7Ch] [bp-10C0h]@24
  int v19; // [sp+80h] [bp-10BCh]@6
  int i; // [sp+84h] [bp-10B8h]@2
  int v21; // [sp+88h] [bp-10B4h]@2
  int v22; // [sp+8Ch] [bp-10B0h]@2
  int v23; // [sp+90h] [bp-10ACh]@2
  int v24; // [sp+94h] [bp-10A8h]@2
  char v25; // [sp+98h] [bp-10A4h]@2
  int v26; // [sp+198h] [bp-FA4h]@1
  __int16 v27[2]; // [sp+19Ch] [bp-FA0h]@1
  __int16 v28; // [sp+1A0h] [bp-F9Ch]@2
  __int16 v29[3]; // [sp+1A2h] [bp-F9Ah]@2
  __int16 v30[1994]; // [sp+1A8h] [bp-F94h]@2

  memset(&v12, -858993460, 0x1130u);
  v3 = (int)sub_4E4640(v27, 0, 0xFA0u);
  v26 = (unsigned __int16)word_1FDECB2[862 * a3];
  if ( v26 > 0 )
  {
    v25 = 0;
    v24 = 0;
    v23 = 70;
    v22 = 0;
    v21 = 0;
    v28 = 1969;
    v27[0] = 400;
    v30[0] = 1;
    v29[0] = 0;
    for ( i = 1; i < 1000; ++i )
    {
      if ( dword_752BAF0[790 * i] == 22 && v26 == (unsigned __int16)word_1FDECB2[862 * i] )
      {
        ++v24;
        v19 = sub_4E4B50((int)&v25);
        if ( v19 > v23 )
        {
          sub_4E4720((int)(&v27[200 * v22 + 8] + 48 * v21));
          v25 = 0;
          ++v21;
          if ( v21 >= 4 )
          {
            ++v22;
            v21 = 0;
            if ( v22 >= 10 )
              break;
            *(&v28 + 200 * v22) = 1969;
            v27[200 * v22] = 400;
            v30[200 * v22] = 1;
            v29[200 * v22] = 0;
          }
        }
        byte_1FDECAF[1724 * i] = 0;
        byte_1FDECAE[1724 * i] = 0;
        sub_4E4730((int)&v25, (int)&byte_1FDECA0[1724 * i]);
        sub_4E4730((int)&v25, (int)" ");
      }
    }
    if ( v22 < 10 && v21 < 4 && v25 )
      sub_4E4720((int)(&v27[200 * v22 + 8] + 48 * v21));
    if ( v24 )
    {
      for ( i = 9; i >= 0; --i )
      {
        if ( *(&v28 + 200 * i) )
          sub_401203(&v27[200 * i], (unsigned __int16)v27[200 * i]);
      }
      v3 = sub_4019FB(&dword_752BAF8[790 * a3]);
    }
    else
    {
      v3 = sub_401B63(a3, &unk_8AB8C4);
    }
    v18 = 65536;
    if ( v26 > 0 && v26 < v18 )
    {
      HIWORD(v4) = HIWORD(v26);
      v17 = (unsigned __int16)word_750BAC4[v26];
      LOWORD(v4) = v17;
      sub_4011CC(v4, &v16);
      v15 = -1;
      if ( v17 > 0 && v17 < v18 )
      {
        v14 = (unsigned __int16)word_750BAC4[v17];
        if ( v26 == v14 )
        {
          sub_4E3F40(a1, a2, (int)&v25, (const char *)&unk_8AD4C4);
          sub_401B63(a3, &v25);
          v15 = v17;
        }
        else
        {
          sub_4E3F40(a1, a2, (int)&v25, (const char *)&unk_8AD544);
          sub_401B63(a3, &v25);
        }
      }
      for ( j = 1; j < v18; ++j )
      {
        v5 = (unsigned __int16)word_750BAC4[j];
        if ( v5 == v26 )
        {
          if ( j != v15 )
          {
            LOWORD(v5) = j;
            sub_4011CC(v5, &v16);
            sub_4E3F40(a1, a2, (int)&v25, (const char *)&unk_8AD5C4);
            sub_401B63(a3, &v25);
          }
        }
      }
      HIWORD(v6) = HIWORD(v26);
      v17 = (unsigned __int16)word_882F930[v26];
      LOWORD(v6) = v17;
      v3 = sub_4011CC(v6, &v16);
      if ( v17 > 0 && v17 < v18 )
      {
        sub_4E3F40(a1, a2, (int)&v25, (const char *)&unk_8AF544);
        v3 = sub_401B63(a3, &v25);
      }
      for ( j = 1; j < v18; ++j )
      {
        HIWORD(v7) = HIWORD(j);
        if ( (unsigned __int16)word_882F930[j] == v26 )
        {
          LOWORD(v7) = j;
          sub_4011CC(v7, &v16);
          sub_4E3F40(a1, a2, (int)&v25, (const char *)&unk_8AF5C4);
          sub_401B63(a3, &v25);
        }
        v3 = j + 1;
      }
    }
  }
  return sub_4E46A0(1, v3, v11, v9, v10);
}
// 4011CC: using guessed type _DWORD __cdecl sub_4011CC(_DWORD, _DWORD);
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 4019FB: using guessed type int __thiscall sub_4019FB(_DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 750BAC4: using guessed type __int16 word_750BAC4[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];
// 882F930: using guessed type __int16 word_882F930[];
// 44A640: using guessed type __int16 var_FA0[2];
// 44A640: using guessed type __int16 var_F94[1994];
// 44A640: using guessed type __int16 var_F9A[3];

//----- (0044AE00) --------------------------------------------------------
int __usercall sub_44AE00<eax>(int a1<ebx>, int a2<esi>, int a3, char a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-14Ch]@0
  int v7; // [sp+4h] [bp-148h]@0
  int v8; // [sp+8h] [bp-144h]@0
  char v9; // [sp+Ch] [bp-140h]@1
  char v10; // [sp+4Ch] [bp-100h]@1

  memset(&v9, -858993460, 0x140u);
  v10 = 0;
  BYTE2(dword_1FDECFC[431 * a3]) = 43;
  byte_1FDED00[1724 * a3] = 86;
  byte_1FDED02[1724 * a3] = 28;
  byte_1FDED03[1724 * a3] = a4;
  sub_4E3F40(a1, a2, (int)&v10, "etc,townspeople %d-%d:%d %d:%d %d:%d");
  v4 = Log(&v10, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 752BAEC: using guessed type int dword_752BAEC[];

//----- (0044AF90) --------------------------------------------------------
int __cdecl sub_44AF90(signed int a1, int a2, int a3)
{
  int v3; // eax@1
  int v4; // eax@19
  int v5; // ecx@19
  char v7; // [sp+0h] [bp-158h]@0
  int v8; // [sp+4h] [bp-154h]@0
  int v9; // [sp+8h] [bp-150h]@0
  char v10; // [sp+Ch] [bp-14Ch]@1
  int v11; // [sp+4Ch] [bp-10Ch]@24
  int v12; // [sp+50h] [bp-108h]@20
  int v13; // [sp+54h] [bp-104h]@20
  int v14; // [sp+58h] [bp-100h]@20
  int v15; // [sp+5Ch] [bp-FCh]@9
  int v16; // [sp+60h] [bp-F8h]@9
  int v17; // [sp+64h] [bp-F4h]@9
  int i; // [sp+68h] [bp-F0h]@6
  int v19; // [sp+6Ch] [bp-ECh]@6
  __int16 v20; // [sp+70h] [bp-E8h]@6
  __int16 v21; // [sp+72h] [bp-E6h]@6
  int v22; // [sp+78h] [bp-E0h]@6
  int v23; // [sp+7Ch] [bp-DCh]@19
  int v24[53]; // [sp+80h] [bp-D8h]@19
  int v25; // [sp+154h] [bp-4h]@22

  v3 = -858993460;
  memset(&v10, -858993460, 0x14Cu);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      v3 = 3160 * a1;
      if ( dword_752BAF0[790 * a1] == 22 )
      {
        if ( dword_752BAF8[790 * a1] )
        {
          v20 = 380;
          LOWORD(v19) = 236;
          v21 = 30000;
          v22 = a3;
          for ( i = 0; i < 27; ++i )
          {
            v17 = i / 9;
            v16 = i % 9 + 27 * i / 9;
            v15 = *((_WORD *)&dword_1FDED7C[431 * a2] + 4 * (i % 9 + 27 * i / 9));
            if ( (dword_8C75F10 || v15 != 3331)
              && (dword_5A0A68 != -1 || v15 != 4147)
              && (dword_8C75F18 || v15 < 3000 || v15 > 3095 || (v15 - 3000) % 8 != 7) )
            {
              if ( dword_8C76464 || v15 != 3443 )
              {
                v4 = *(&dword_1FDED80[431 * a2] + 2 * v16);
                v5 = i;
                *(&v23 + 2 * i) = *(&dword_1FDED7C[431 * a2] + 2 * v16);
                v24[2 * v5] = v4;
              }
            }
          }
          v14 = dword_1FDF1F4[431 * a2];
          v13 = dword_1FDF1F8[431 * a2];
          v12 = sub_401C08(v14, v13);
          if ( v12 >= 0 && v12 < 5 )
            v25 = dword_594E18[21 * v12];
          else
            v25 = dword_594F68;
          v3 = sub_401203(&v19, (unsigned __int16)v19);
          v11 = v3;
          if ( !v3 )
            v3 = sub_401302(a1);
        }
      }
    }
  }
  return sub_4E46A0(1, v3, v9, v7, v8);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 401C08: using guessed type _DWORD __cdecl sub_401C08(_DWORD, _DWORD);
// 594E18: using guessed type int dword_594E18[];
// 594F68: using guessed type int dword_594F68;
// 5A0A68: using guessed type int dword_5A0A68;
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDED80: using guessed type int dword_1FDED80[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];
// 8C75F10: using guessed type int dword_8C75F10;
// 8C75F18: using guessed type int dword_8C75F18;
// 8C76464: using guessed type int dword_8C76464;
// 44AF90: using guessed type int var_D8[53];

//----- (0044B2C0) --------------------------------------------------------
int __cdecl sub_44B2C0(int a1, int a2)
{
  int v2; // eax@15
  char v4; // [sp+0h] [bp-60h]@0
  int v5; // [sp+4h] [bp-5Ch]@0
  int v6; // [sp+8h] [bp-58h]@0
  char v7; // [sp+Ch] [bp-54h]@1
  int v8; // [sp+4Ch] [bp-14h]@7
  int v9; // [sp+50h] [bp-10h]@4
  int v10; // [sp+54h] [bp-Ch]@1
  int v11; // [sp+58h] [bp-8h]@1
  int v12; // [sp+5Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x54u);
  v12 = 0;
  v11 = 65536;
  v10 = (unsigned __int16)word_1FDECB2[862 * a1];
  if ( v10 <= 0 || v10 >= v11 )
    v10 = 0;
  v9 = (unsigned __int16)word_750BAC4[v10];
  if ( v9 <= 0 || v9 >= v11 )
    v9 = 0;
  v8 = (unsigned __int16)word_882F930[v10];
  if ( v8 <= 0 || v8 >= v11 )
    v8 = 0;
  if ( v10 && v9 && (unsigned __int16)word_750BAC4[v9] == v10 )
    v12 = v9;
  else
    v12 = 0;
  v2 = sub_4019A1(a1, 30000, 936, v12, a2, v8);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4019A1: using guessed type _DWORD __cdecl sub_4019A1(_DWORD, __int16, __int16, _DWORD, _DWORD, _DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 750BAC4: using guessed type __int16 word_750BAC4[];
// 882F930: using guessed type __int16 word_882F930[];

//----- (0044B400) --------------------------------------------------------
int __cdecl sub_44B400(signed int a1, int a2, char a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-78h]@0
  int v6; // [sp+4h] [bp-74h]@0
  int v7; // [sp+8h] [bp-70h]@0
  char v8; // [sp+Ch] [bp-6Ch]@1
  int v9; // [sp+4Ch] [bp-2Ch]@6
  int v10; // [sp+50h] [bp-28h]@6
  __int16 v11; // [sp+54h] [bp-24h]@6
  __int16 v12; // [sp+56h] [bp-22h]@6
  char v13; // [sp+5Ch] [bp-1Ch]@6
  char v14; // [sp+5Dh] [bp-1Bh]@6
  __int16 v15; // [sp+5Eh] [bp-1Ah]@6
  __int16 v16; // [sp+60h] [bp-18h]@6
  __int16 v17; // [sp+62h] [bp-16h]@6
  __int16 v18; // [sp+64h] [bp-14h]@6
  char v19; // [sp+66h] [bp-12h]@6

  v3 = -858993460;
  memset(&v8, -858993460, 0x6Cu);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      v3 = 3160 * a1;
      if ( dword_752BAF0[790 * a1] == 22 )
      {
        if ( dword_752BAF8[790 * a1] )
        {
          v12 = 30000;
          v11 = 893;
          LOWORD(v10) = 40;
          v18 = a2;
          v13 = byte_1FDECB4[1724 * a2];
          v15 = word_1FDECE0[862 * a2];
          v16 = word_1FDECE8[862 * a2];
          v17 = word_1FDECEC[862 * a2];
          v14 = a3;
          sub_4E4720((int)&v19);
          v3 = sub_401203(&v10, (unsigned __int16)v10);
          v9 = v3;
          if ( !v3 )
            v3 = sub_401302(a1);
        }
      }
    }
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (0044B570) --------------------------------------------------------
int __cdecl sub_44B570(signed int a1, int a2, __int16 a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-7Ch]@0
  int v6; // [sp+4h] [bp-78h]@0
  int v7; // [sp+8h] [bp-74h]@0
  char v8; // [sp+Ch] [bp-70h]@1
  int v9; // [sp+4Ch] [bp-30h]@6
  int v10; // [sp+50h] [bp-2Ch]@6
  __int16 v11; // [sp+54h] [bp-28h]@6
  __int16 v12; // [sp+56h] [bp-26h]@6
  char v13; // [sp+5Ch] [bp-20h]@6
  char v14; // [sp+5Dh] [bp-1Fh]@6
  __int16 v15; // [sp+5Eh] [bp-1Eh]@6
  __int16 v16; // [sp+60h] [bp-1Ch]@6
  __int16 v17; // [sp+62h] [bp-1Ah]@6
  __int16 v18; // [sp+64h] [bp-18h]@6
  char v19; // [sp+66h] [bp-16h]@6
  int v20; // [sp+78h] [bp-4h]@6

  v3 = -858993460;
  memset(&v8, -858993460, 0x70u);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      v3 = 3160 * a1;
      if ( dword_752BAF0[790 * a1] == 22 )
      {
        if ( dword_752BAF8[790 * a1] )
        {
          v12 = 30000;
          v11 = 895;
          LOWORD(v10) = 44;
          v13 = byte_1FDECB4[1724 * a2];
          v15 = word_1FDECE0[862 * a2];
          v16 = word_1FDECE8[862 * a2];
          v17 = word_1FDECEC[862 * a2];
          v14 = 0;
          v18 = a3;
          v20 = a2;
          sub_4E4720((int)&v19);
          v3 = sub_401203(&v10, (unsigned __int16)v10);
          v9 = v3;
          if ( !v3 )
            v3 = sub_401302(a1);
        }
      }
    }
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (0044B6E0) --------------------------------------------------------
int __cdecl sub_44B6E0(signed int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-5Ch]@0
  int v5; // [sp+4h] [bp-58h]@0
  int v6; // [sp+8h] [bp-54h]@0
  char v7; // [sp+Ch] [bp-50h]@1
  __int16 v8; // [sp+52h] [bp-Ah]@6

  v2 = -858993460;
  memset(&v7, -858993460, 0x50u);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      v2 = 3160 * a1;
      if ( dword_752BAF0[790 * a1] == 22 )
      {
        if ( dword_752BAF8[790 * a1] )
        {
          v8 = 30000;
          v2 = sub_4015FF(a1, 30000, 894, a2);
        }
      }
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (0044B780) --------------------------------------------------------
int __cdecl sub_44B780(signed int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-260h]@0
  int v4; // [sp+4h] [bp-25Ch]@0
  int v5; // [sp+8h] [bp-258h]@0
  char v6; // [sp+Ch] [bp-254h]@1
  int v7; // [sp+4Ch] [bp-214h]@6
  int v8; // [sp+50h] [bp-210h]@6
  __int16 v9; // [sp+54h] [bp-20Ch]@6
  __int16 v10; // [sp+56h] [bp-20Ah]@6
  char v11; // [sp+5Ch] [bp-204h]@6
  int v12; // [sp+25Ch] [bp-4h]@6

  v1 = -858993460;
  memset(&v6, -858993460, 0x254u);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      v1 = 3160 * a1;
      if ( dword_752BAF0[790 * a1] == 22 )
      {
        if ( dword_752BAF8[790 * a1] )
        {
          v10 = a1;
          v9 = 389;
          LOWORD(v8) = 528;
          sub_4E4810(&v11, &dword_1FDED7C[431 * a1], 0x200u);
          v12 = dword_1FDECB8[431 * a1];
          v1 = sub_401203(&v8, (unsigned __int16)v8);
          v7 = v1;
          if ( !v1 )
            v1 = sub_401302(a1);
        }
      }
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (0044B8C0) --------------------------------------------------------
int __cdecl sub_44B8C0()
{
  int v0; // eax@1
  int v1; // edx@7
  char v3; // [sp+0h] [bp-64h]@0
  int v4; // [sp+4h] [bp-60h]@0
  int v5; // [sp+8h] [bp-5Ch]@0
  char v6; // [sp+Ch] [bp-58h]@1
  int v7; // [sp+4Ch] [bp-18h]@8
  int i; // [sp+50h] [bp-14h]@1
  int v9; // [sp+54h] [bp-10h]@1
  __int16 v10; // [sp+58h] [bp-Ch]@1
  __int16 v11; // [sp+5Ah] [bp-Ah]@1
  int v12; // [sp+60h] [bp-4h]@1

  memset(&v6, -858993460, 0x58u);
  v10 = 395;
  LOWORD(v9) = 16;
  v11 = 30000;
  v0 = dword_8C762D0;
  v12 = dword_8C762D0;
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22 )
    {
      v0 = 3160 * i;
      if ( dword_752BAF8[790 * i] )
      {
        v1 = dword_1FDF1F8[431 * i] >> 7;
        v0 = v1 > 25;
        if ( v1 <= 25 )
        {
          v0 = sub_401203(&v9, (unsigned __int16)v9);
          v7 = v0;
          if ( !v0 )
            v0 = sub_401302(i);
        }
      }
    }
  }
  return sub_4E46A0(1, v0, v5, v3, v4);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];
// 8C762D0: using guessed type int dword_8C762D0;

//----- (0044B9E0) --------------------------------------------------------
int __cdecl sub_44B9E0(signed int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-64h]@0
  int v4; // [sp+4h] [bp-60h]@0
  int v5; // [sp+8h] [bp-5Ch]@0
  char v6; // [sp+Ch] [bp-58h]@1
  int v7; // [sp+4Ch] [bp-18h]@6
  int v8; // [sp+50h] [bp-14h]@6
  __int16 v9; // [sp+54h] [bp-10h]@6
  __int16 v10; // [sp+56h] [bp-Eh]@6
  __int16 v11; // [sp+5Ch] [bp-8h]@6
  __int16 v12; // [sp+5Eh] [bp-6h]@6
  __int16 v13; // [sp+60h] [bp-4h]@6
  __int16 v14; // [sp+62h] [bp-2h]@6

  v1 = -858993460;
  memset(&v6, -858993460, 0x58u);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      v1 = 3160 * a1;
      if ( dword_752BAF0[790 * a1] == 22 )
      {
        if ( dword_752BAF8[790 * a1] )
        {
          v9 = 385;
          LOWORD(v8) = 20;
          v10 = a1;
          v11 = word_1FDECEC[862 * a1];
          v12 = word_1FDECEE[862 * a1];
          sub_4016CC(a1);
          sub_401C17(a1);
          v13 = LOWORD(dword_752C434[790 * a1]);
          v14 = LOWORD(dword_752C438[790 * a1]);
          v1 = sub_401203(&v8, (unsigned __int16)v8);
          v7 = v1;
          if ( !v1 )
            v1 = sub_401302(a1);
        }
      }
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 4016CC: using guessed type _DWORD __cdecl sub_4016CC(_DWORD);
// 401C17: using guessed type _DWORD __cdecl sub_401C17(_DWORD);
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECEE: using guessed type __int16 word_1FDECEE[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];
// 752C434: using guessed type int dword_752C434[];
// 752C438: using guessed type int dword_752C438[];

//----- (0044BB40) --------------------------------------------------------
int __cdecl sub_44BB40(signed int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-60h]@0
  int v4; // [sp+4h] [bp-5Ch]@0
  int v5; // [sp+8h] [bp-58h]@0
  char v6; // [sp+Ch] [bp-54h]@1
  int v7; // [sp+4Ch] [bp-14h]@6
  int v8; // [sp+50h] [bp-10h]@6
  __int16 v9; // [sp+54h] [bp-Ch]@6
  __int16 v10; // [sp+56h] [bp-Ah]@6
  __int16 v11; // [sp+5Ch] [bp-4h]@6
  __int16 v12; // [sp+5Eh] [bp-2h]@6

  v1 = -858993460;
  memset(&v6, -858993460, 0x54u);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      v1 = 3160 * a1;
      if ( dword_752BAF0[790 * a1] == 22 )
      {
        if ( dword_752BAF8[790 * a1] )
        {
          v9 = 658;
          LOWORD(v8) = 16;
          v10 = a1;
          v11 = word_1FDECEC[862 * a1];
          v12 = LOWORD(dword_752BAF0[790 * a1]);
          v1 = sub_401203(&v8, 16);
          v7 = v1;
          if ( !v1 )
            v1 = sub_401302(a1);
        }
      }
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (0044BC50) --------------------------------------------------------
int __cdecl sub_44BC50(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-B8h]@0
  int v4; // [sp+4h] [bp-B4h]@0
  int v5; // [sp+8h] [bp-B0h]@0
  char v6; // [sp+Ch] [bp-ACh]@1
  __int16 v7; // [sp+4Ch] [bp-6Ch]@1
  __int16 v8; // [sp+50h] [bp-68h]@1
  __int16 v9; // [sp+52h] [bp-66h]@1
  char v10; // [sp+58h] [bp-60h]@1

  memset(&v6, -858993460, 0xACu);
  v8 = 819;
  v7 = 108;
  v9 = a1;
  sub_4E4720((int)&v10);
  v1 = v10;
  if ( v10 != 32 )
    v1 = sub_4014FB(dword_1FDF1F4[431 * a1], dword_1FDF1F8[431 * a1], &v7, 0);
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];

//----- (0044BD10) --------------------------------------------------------
int __cdecl sub_44BD10()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  word_74F84DE = 30000;
  word_74F84D8 = 400;
  v0 = sub_401203(&word_74F84D8, 400);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 74F84D8: using guessed type __int16 word_74F84D8;
// 74F84DE: using guessed type __int16 word_74F84DE;

//----- (0044BD90) --------------------------------------------------------
int __cdecl sub_44BD90()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-54h]@0
  int v3; // [sp+4h] [bp-50h]@0
  int v4; // [sp+8h] [bp-4Ch]@0
  char v5; // [sp+Ch] [bp-48h]@1
  int v6; // [sp+4Ch] [bp-8h]@7
  int i; // [sp+50h] [bp-4h]@1

  v0 = -858993460;
  memset(&v5, -858993460, 0x48u);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22 )
    {
      if ( dword_752BAF8[790 * i] )
        v6 = sub_401203(&word_74F84D8, (unsigned __int16)word_74F84D8);
    }
    v0 = i + 1;
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 74F84D8: using guessed type __int16 word_74F84D8;
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (0044BE50) --------------------------------------------------------
int __cdecl sub_44BE50(signed int a1, int a2, int a3, int a4, int a5)
{
  int v5; // eax@1
  char v7; // [sp+0h] [bp-78h]@0
  int v8; // [sp+4h] [bp-74h]@0
  int v9; // [sp+8h] [bp-70h]@0
  char v10; // [sp+Ch] [bp-6Ch]@1
  int v11; // [sp+4Ch] [bp-2Ch]@12
  int i; // [sp+50h] [bp-28h]@6
  int v13; // [sp+54h] [bp-24h]@6
  __int16 v14; // [sp+58h] [bp-20h]@6
  __int16 v15; // [sp+5Ah] [bp-1Eh]@6
  char v16[5]; // [sp+60h] [bp-18h]@8
  char v17[11]; // [sp+65h] [bp-13h]@11
  int v18; // [sp+70h] [bp-8h]@12
  int v19; // [sp+74h] [bp-4h]@12

  v5 = -858993460;
  memset(&v10, -858993460, 0x6Cu);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      v5 = 3160 * a1;
      if ( dword_752BAF0[790 * a1] == 22 )
      {
        if ( dword_752BAF8[790 * a1] )
        {
          v14 = 447;
          LOWORD(v13) = 36;
          v15 = a1;
          for ( i = 0; i < 5; ++i )
            v16[i] = *(_BYTE *)(i + a3);
          for ( i = 0; i < 9; ++i )
            v17[i] = *(_BYTE *)(i + a2);
          v18 = a4;
          v19 = a5;
          v5 = sub_401203(&v13, (unsigned __int16)v13);
          v11 = v5;
          if ( !v5 )
            v5 = sub_401302(a1);
        }
      }
    }
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];
// 44BE50: using guessed type char var_18[5];
// 44BE50: using guessed type char var_13[11];

//----- (0044BFA0) --------------------------------------------------------
int __usercall sub_44BFA0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6)
{
  int v6; // eax@9
  char v8; // [sp+0h] [bp-17Ch]@0
  int v9; // [sp+4h] [bp-178h]@0
  int v10; // [sp+8h] [bp-174h]@0
  char v11; // [sp+Ch] [bp-170h]@1
  int v12; // [sp+4Ch] [bp-130h]@14
  int j; // [sp+50h] [bp-12Ch]@11
  int i; // [sp+54h] [bp-128h]@9
  int v15; // [sp+58h] [bp-124h]@1
  int v16; // [sp+5Ch] [bp-120h]@9
  int v17; // [sp+60h] [bp-11Ch]@9
  int v18; // [sp+64h] [bp-118h]@9
  int v19; // [sp+68h] [bp-114h]@9
  int v20; // [sp+6Ch] [bp-110h]@1
  int v21; // [sp+70h] [bp-10Ch]@1
  int v22; // [sp+74h] [bp-108h]@1
  int v23; // [sp+78h] [bp-104h]@1
  char v24; // [sp+7Ch] [bp-100h]@22

  memset(&v11, -858993460, 0x170u);
  v15 = 0;
  v22 = 65;
  v23 = 65;
  v21 = a3 - 35;
  v20 = a4 - 35;
  if ( a3 - 35 + 65 >= 4096 )
    v23 -= v21 + v23 - 4096;
  if ( v22 + v20 >= 4096 )
    v22 -= v20 + v22 - 4096;
  if ( v21 < 0 )
    v21 = 0;
  if ( v20 < 0 )
    v20 = 0;
  v19 = v21;
  v18 = v20;
  v17 = v23 + v21;
  v16 = v22 + v20;
  v6 = v20;
  for ( i = v20; i < v16; ++i )
  {
    v6 = v19;
    for ( j = v19; j < v17; ++j )
    {
      v6 = i << 13;
      v12 = (unsigned __int16)*(&word_34EA550[4096 * i] + j);
      if ( v12 > 0 )
      {
        v6 = v12;
        if ( v12 != a6 )
        {
          if ( dword_1FDF1D4[431 * v12] && a5 && v12 < 1000 )
          {
            if ( dword_752BAF0[790 * v12] == 22 && dword_752BAF8[790 * v12] )
            {
              if ( *(_WORD *)(a5 + 4) == 824 )
              {
                *(_DWORD *)(a5 + 20) = dword_1FDECBC[431 * v12];
                *(_DWORD *)(a5 + 12) = dword_1FDEF94[431 * v12];
              }
              v6 = sub_401203(a5, *(_WORD *)a5);
            }
            else
            {
              byte_752BAE7[3160 * v12] = 0;
              byte_752BAE6[3160 * v12] = 0;
              sub_4E3F40(a1, a2, (int)&v24, "err,grid -2 empty %d-%d %s");
              Log(&v24, "-system", 0);
              *(&word_34EA550[4096 * i] + j) = 0;
              v6 = sub_401302(v12);
            }
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDEF94: using guessed type int dword_1FDEF94[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (0044C3E0) --------------------------------------------------------
int __cdecl sub_44C3E0(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-68h]@0
  int v4; // [sp+4h] [bp-64h]@0
  int v5; // [sp+8h] [bp-60h]@0
  char v6; // [sp+Ch] [bp-5Ch]@1
  int v7; // [sp+4Ch] [bp-1Ch]@1
  int v8; // [sp+50h] [bp-18h]@1
  __int16 v9; // [sp+54h] [bp-14h]@1
  __int16 v10; // [sp+56h] [bp-12h]@1
  int v11; // [sp+5Ch] [bp-Ch]@1
  int v12; // [sp+60h] [bp-8h]@1
  int v13; // [sp+64h] [bp-4h]@1

  memset(&v6, -858993460, 0x5Cu);
  v9 = 449;
  LOWORD(v8) = 24;
  v10 = 30000;
  v11 = dword_8C76280;
  v12 = dword_8C76284;
  v13 = 0;
  v1 = sub_401203(&v8, 24);
  v7 = v1;
  if ( !v1 )
    v1 = sub_401302(a1);
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 8C76280: using guessed type int dword_8C76280;
// 8C76284: using guessed type int dword_8C76284;

//----- (0044C490) --------------------------------------------------------
int __cdecl sub_44C490(signed int a1, int a2, int a3, int a4, int a5)
{
  char v6; // [sp+0h] [bp-90h]@0
  int v7; // [sp+4h] [bp-8Ch]@0
  int v8; // [sp+8h] [bp-88h]@0
  char v9; // [sp+Ch] [bp-84h]@1
  int v10; // [sp+4Ch] [bp-44h]@2
  int v11; // [sp+50h] [bp-40h]@1
  __int16 v12; // [sp+54h] [bp-3Ch]@1
  __int16 v13; // [sp+58h] [bp-38h]@2
  __int16 v14; // [sp+5Ah] [bp-36h]@2
  int v15; // [sp+5Ch] [bp-34h]@2
  __int16 v16; // [sp+60h] [bp-30h]@2
  __int16 v17; // [sp+62h] [bp-2Eh]@2
  int v18; // [sp+64h] [bp-2Ch]@2
  int v19; // [sp+68h] [bp-28h]@2
  char v20; // [sp+6Ch] [bp-24h]@2
  __int16 v21; // [sp+84h] [bp-Ch]@2
  __int16 v22; // [sp+86h] [bp-Ah]@2
  int v23; // [sp+88h] [bp-8h]@1
  int v24; // [sp+8Ch] [bp-4h]@1

  memset(&v9, -858993460, 0x84u);
  v24 = a2;
  v23 = a3;
  sub_4E4640(&v12, 0, 0x34u);
  v11 = sub_40176C(a1, &a2, &a3, a5);
  if ( v11 )
  {
    byte_1FDF208[1724 * a1] = 0;
    v14 = a1;
    v15 = dword_8C76270;
    v12 = 52;
    v13 = 876;
    v21 = a2;
    v22 = a3;
    v20 = 0;
    v16 = LOWORD(dword_1FDF1F4[431 * a1]);
    v17 = LOWORD(dword_1FDF1F8[431 * a1]);
    v19 = a4;
    v18 = 0;
    sub_4014FB(a2, a3, &v12, 0);
    v10 = (unsigned __int16)*(&word_34EA550[4096 * dword_1FDF1F8[431 * a1]] + dword_1FDF1F4[431 * a1]);
    if ( v10 != a1 && v10 )
    {
      if ( a1 < 1000 )
        Log("PC do not have his own grid -type1", "-system", 0);
      else
        Log("NPC do not have his own grid -type1", "-system", 0);
    }
    *(&word_34EA550[4096 * dword_1FDF1F8[431 * a1]] + dword_1FDF1F4[431 * a1]) = 0;
    if ( (unsigned __int16)*(&word_34EA550[4096 * a3] + a2) != a1 && *(&word_34EA550[4096 * a3] + a2) )
    {
      if ( a1 < 1000 )
        Log("PC step in other mob's grid -type1", "-system", 0);
      else
        Log("NPC charge other mob's grid -type1", "-system", 0);
    }
    *(&word_34EA550[4096 * a3] + a2) = a1;
    dword_1FDF1EC[431 * a1] = dword_8C76270;
    dword_1FDF1F0[431 * a1] = dword_1FDF1F0[431 * a1];
    dword_1FDF1E4[431 * a1] = dword_1FDF1F4[431 * a1];
    dword_1FDF1E8[431 * a1] = dword_1FDF1F8[431 * a1];
    dword_1FDF1F4[431 * a1] = a2;
    dword_1FDF1F8[431 * a1] = a3;
  }
  return sub_4E46A0(1, v11, v8, v6, v7);
}
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40176C: using guessed type _DWORD __cdecl sub_40176C(_DWORD, _DWORD, _DWORD, _DWORD);
// 1FDF1E4: using guessed type int dword_1FDF1E4[];
// 1FDF1E8: using guessed type int dword_1FDF1E8[];
// 1FDF1EC: using guessed type int dword_1FDF1EC[];
// 1FDF1F0: using guessed type int dword_1FDF1F0[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 8C76270: using guessed type int dword_8C76270;

//----- (0044C7E0) --------------------------------------------------------
int __cdecl sub_44C7E0(signed int a1, int a2, int a3)
{
  int v3; // eax@4
  int v4; // eax@24
  char v6; // [sp+0h] [bp-6Ch]@0
  int v7; // [sp+4h] [bp-68h]@0
  int v8; // [sp+8h] [bp-64h]@0
  char v9; // [sp+Ch] [bp-60h]@1
  int v10; // [sp+4Ch] [bp-20h]@22
  int j; // [sp+50h] [bp-1Ch]@19
  int v12; // [sp+54h] [bp-18h]@19
  int v13; // [sp+58h] [bp-14h]@13
  int i; // [sp+5Ch] [bp-10h]@10
  int v15; // [sp+60h] [bp-Ch]@10
  int v16; // [sp+64h] [bp-8h]@8
  int v17; // [sp+68h] [bp-4h]@9

  memset(&v9, -858993460, 0x60u);
  if ( a1 < 1000 && dword_752BAF0[790 * a1] == 22 && dword_752BAF8[790 * a1] )
  {
    if ( a2 || a3 )
    {
      sub_4E4640(&v16, 0, 8u);
      LOWORD(v16) = a2;
      if ( !a2 )
      {
        LOWORD(v16) = *(_WORD *)a3;
        BYTE2(v16) = *(_BYTE *)(a3 + 2);
        BYTE3(v16) = *(_BYTE *)(a3 + 3);
        LOBYTE(v17) = *(_BYTE *)(a3 + 4);
        BYTE1(v17) = *(_BYTE *)(a3 + 5);
        BYTE2(v17) = *(_BYTE *)(a3 + 6);
        BYTE3(v17) = *(_BYTE *)(a3 + 7);
      }
      v15 = 0;
      for ( i = 0; i < 60; ++i )
      {
        v13 = sub_4017E4(&dword_1FDED7C[431 * a1], i);
        if ( v13 && !*((_WORD *)&dword_1FDED7C[431 * a1] + 4 * i) )
          ++v15;
      }
      if ( v15 )
      {
        v12 = 0;
        for ( j = 0; j < 60; ++j )
        {
          v10 = sub_4017E4(&dword_1FDED7C[431 * a1], j);
          if ( v10 && !*((_WORD *)&dword_1FDED7C[431 * a1] + 4 * j) )
          {
            v4 = j;
            *(&dword_1FDED7C[431 * a1] + 2 * j) = v16;
            *(&dword_1FDED80[431 * a1] + 2 * v4) = v17;
            sub_401960(a1, 1, j, &v16);
            v12 = 1;
            break;
          }
        }
        if ( v12 )
          v3 = 1;
        else
          v3 = 0;
      }
      else
      {
        sub_401B63(a1, &unk_8A92C4);
        v3 = 0;
      }
    }
    else
    {
      v3 = 0;
    }
  }
  else
  {
    v3 = 0;
  }
  return sub_4E46A0(1, v3, v8, v6, v7);
}
// 4017E4: using guessed type _DWORD __cdecl sub_4017E4(_DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDED80: using guessed type int dword_1FDED80[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];

//----- (0044CA70) --------------------------------------------------------
int __usercall sub_44CA70<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4, const void *a5)
{
  int v5; // eax@5
  int v6; // edx@13
  char v8; // [sp+0h] [bp-E0h]@0
  int v9; // [sp+4h] [bp-DCh]@0
  int v10; // [sp+8h] [bp-D8h]@0
  char v11; // [sp+Ch] [bp-D4h]@1
  int v12; // [sp+4Ch] [bp-94h]@12
  int i; // [sp+50h] [bp-90h]@10
  char v14; // [sp+54h] [bp-8Ch]@13
  int v15; // [sp+D4h] [bp-Ch]@10
  int v16; // [sp+D8h] [bp-8h]@6
  int v17; // [sp+DCh] [bp-4h]@13

  memset(&v11, -858993460, 0xD4u);
  if ( a3 > 0 && a3 < 1000 && dword_752BAF0[790 * a3] == 22 && dword_752BAF8[790 * a3] )
  {
    sub_4E4640(&v16, 0, 8u);
    if ( a5 )
    {
      sub_4E4810(&v16, a5, 8u);
    }
    else
    {
      if ( a4 )
        LOWORD(v16) = a4;
    }
    v15 = 0;
    for ( i = 0; i < 120; ++i )
    {
      v12 = sub_401B13(&v16, &dword_752BB44[790 * a3], i % 9, i / 9);
      if ( v12 == 1 )
      {
        v6 = i;
        *(&dword_752BB44[790 * a3] + 2 * i) = v16;
        *(&dword_752BB48[790 * a3] + 2 * v6) = v17;
        sub_401960(a3, 2, i, &v16);
        sub_4E3F40(a1, a2, (int)&v14, "-CARGO %d %d %d %d %d");
        Log(&v14, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        if ( dword_752BAF0[790 * a3] >= 11 )
          sub_401906(a3, 0);
        v15 = 1;
        break;
      }
    }
    if ( v15 )
    {
      sub_401906(a3, 0);
      v5 = 1;
    }
    else
    {
      sub_4E3F40(a1, a2, (int)&v14, "-CARGO Fail %d %d %d %d %d");
      Log(&v14, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
      v5 = 0;
    }
  }
  else
  {
    v5 = 0;
  }
  return sub_4E46A0(1, v5, v10, v8, v9);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401906: using guessed type _DWORD __cdecl sub_401906(_DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401B13: using guessed type _DWORD __cdecl sub_401B13(_DWORD, _DWORD, _DWORD, _DWORD);
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];
// 752BB44: using guessed type int dword_752BB44[];
// 752BB48: using guessed type int dword_752BB48[];

//----- (0044CD70) --------------------------------------------------------
int __cdecl sub_44CD70(int a1, int a2, char a3)
{
  int result; // eax@2
  char v4; // [sp+Ch] [bp-40h]@1

  memset(&v4, -858993460, 0x40u);
  if ( *(_BYTE *)(a1 + 4) == a2 )
  {
    result = a3 + *(_BYTE *)(a1 + 5);
    *(_BYTE *)(a1 + 5) = result;
  }
  else
  {
    result = a1;
    if ( *(_BYTE *)(a1 + 6) == a2 )
    {
      result = a3 + *(_BYTE *)(a1 + 7);
      *(_BYTE *)(a1 + 7) = result;
    }
  }
  return result;
}

//----- (0044CDF0) --------------------------------------------------------
int __usercall sub_44CDF0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5)
{
  int v5; // eax@11
  char v7; // [sp+0h] [bp-110h]@0
  int v8; // [sp+4h] [bp-10Ch]@0
  int v9; // [sp+8h] [bp-108h]@0
  char v10; // [sp+Ch] [bp-104h]@1
  char v11; // [sp+4Ch] [bp-C4h]@62
  char v12; // [sp+CCh] [bp-44h]@62
  int v13; // [sp+ECh] [bp-24h]@59
  int v14; // [sp+F0h] [bp-20h]@52
  int v15; // [sp+F4h] [bp-1Ch]@47
  int v16; // [sp+F8h] [bp-18h]@47
  int v17; // [sp+FCh] [bp-14h]@39
  int v18; // [sp+100h] [bp-10h]@37
  int v19; // [sp+104h] [bp-Ch]@32
  int v20; // [sp+108h] [bp-8h]@8
  int i; // [sp+10Ch] [bp-4h]@4

  memset(&v10, -858993460, 0x104u);
  if ( (*(_WORD *)a5 != 413 || a4 != 3915) && *(_WORD *)a5 != 412 )
  {
    if ( *(_WORD *)a5 == 413 )
    {
      v5 = 0;
    }
    else
    {
      if ( *(_WORD *)a5 == 4047 )
      {
        v5 = 0;
      }
      else
      {
        if ( *(_WORD *)a5 != 540 && *(_WORD *)a5 != 541 )
        {
          if ( *(_WORD *)a5 == 633 )
          {
            v5 = 0;
          }
          else
          {
            if ( *(_WORD *)a5 != 2399 && *(_WORD *)a5 != 2400 )
            {
              if ( (signed int)*(_WORD *)a5 < 2404 || (signed int)*(_WORD *)a5 > 2406 )
              {
                if ( *(_WORD *)a5 == 2411 )
                {
                  v5 = 0;
                }
                else
                {
                  if ( *(_WORD *)a5 == 484 )
                  {
                    v5 = 0;
                  }
                  else
                  {
                    v19 = sub_401C49(a5);
                    if ( v19 )
                    {
                      if ( (signed int)*(_WORD *)a5 > 0 && (signed int)*(_WORD *)a5 < 6500 )
                      {
                        v18 = sub_40191F(a5, 38);
                        if ( v18 == 1 )
                        {
                          v5 = 0;
                        }
                        else
                        {
                          v17 = dword_9CCCC0[35 * *(_WORD *)a5];
                          if ( v17 >= 0 )
                          {
                            v17 /= 5;
                            if ( v17 <= 10000 )
                            {
                              if ( v17 > 5000 )
                                v17 = 2 * v17 / 3;
                            }
                            else
                            {
                              v17 /= 2;
                            }
                            if ( v17 >= 0 )
                            {
                              v16 = 4;
                              v15 = dword_594E18[84];
                              if ( dword_594F6C != byte_1FDECB0[1724 * a3] )
                                v15 += 5;
                              if ( v15 >= 0 && v15 <= 30 )
                              {
                                v14 = v17;
                                if ( v17 < 100000 )
                                  v17 = v17 * (100 - v15) / 100;
                                else
                                  v17 = (100 - v15) * v17 / 100;
                                if ( v17 >= 0 )
                                {
                                  if ( dword_1FDECB8[431 * a3] <= 2000000000 - v17 )
                                  {
                                    v13 = (v14 - v17) / 2;
                                    sub_401983(v16, (v14 - v17) / 2);
                                    if ( dword_1FDECB8[431 * a3] < 2000000000 - v17 )
                                      dword_1FDECB8[431 * a3] += v17;
                                    if ( sub_401A8C(a5, 0) )
                                    {
                                      sub_401B1D(a5, &v12);
                                      sub_4E3F40(a1, a2, (int)&v11, "angel sel,%d %s");
                                      Log(&v11, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
                                    }
                                    sub_40173A(a5);
                                    SendEtc(a3);
                                    v5 = 1;
                                  }
                                  else
                                  {
                                    v5 = 0;
                                  }
                                }
                                else
                                {
                                  v5 = 0;
                                }
                              }
                              else
                              {
                                v5 = 0;
                              }
                            }
                            else
                            {
                              v5 = 0;
                            }
                          }
                          else
                          {
                            v5 = 0;
                          }
                        }
                      }
                      else
                      {
                        v5 = 0;
                      }
                    }
                    else
                    {
                      v5 = 0;
                    }
                  }
                }
              }
              else
              {
                v5 = 0;
              }
            }
            else
            {
              v5 = 0;
            }
          }
        }
        else
        {
          v5 = 0;
        }
      }
    }
  }
  else
  {
    for ( i = 0; ; ++i )
    {
      if ( i >= 60 )
      {
        v5 = 0;
        return sub_4E46A0(1, v5, v9, v7, v8);
      }
      if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i) == *(_WORD *)a5 )
      {
        v20 = sub_4013D9(&dword_1FDED7C[431 * a3] + 2 * i);
        if ( v20 < 120 )
          break;
      }
    }
    if ( v20 < 1 )
      v20 = 1;
    ++v20;
    sub_40187F(&dword_1FDED7C[431 * a3] + 2 * i, v20);
    sub_401960(a3, 1, i, &dword_1FDED7C[431 * a3] + 2 * i);
    v5 = 1;
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 4013D9: using guessed type _DWORD __cdecl sub_4013D9(_DWORD);
// 401500: using guessed type _DWORD __cdecl SendEtc(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40173A: using guessed type _DWORD __cdecl sub_40173A(_DWORD);
// 40187F: using guessed type _DWORD __cdecl sub_40187F(_DWORD, char);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401983: using guessed type _DWORD __cdecl sub_401983(_DWORD, _DWORD);
// 401A8C: using guessed type _DWORD __cdecl sub_401A8C(_DWORD, _DWORD);
// 401B1D: using guessed type _DWORD __cdecl sub_401B1D(_DWORD, _DWORD);
// 401C49: using guessed type _DWORD __cdecl sub_401C49(_DWORD);
// 594E18: using guessed type int dword_594E18[];
// 594F6C: using guessed type int dword_594F6C;
// 9CCCC0: using guessed type int dword_9CCCC0[];
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 752BAEC: using guessed type int dword_752BAEC[];

//----- (0044D360) --------------------------------------------------------
int __usercall sub_44D360<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  sub_44D3A0();
  v2 = sub_44D3E0(a1, a2);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044D3A0) --------------------------------------------------------
int __cdecl sub_44D3A0()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_40141A(&unk_BDEAA0);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 40141A: using guessed type int __thiscall sub_40141A(_DWORD);

//----- (0044D3E0) --------------------------------------------------------
int __usercall sub_44D3E0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  v2 = sub_4E8BF0(a1, a2, (int)sub_44D430);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044D430) --------------------------------------------------------
int __cdecl sub_44D430()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_4014E7(&unk_BDEAA0);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4014E7: using guessed type int __thiscall sub_4014E7(_DWORD);

//----- (0044D470) --------------------------------------------------------
int __usercall sub_44D470<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  sub_44D4B0();
  v2 = sub_44D4F0(a1, a2);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044D4B0) --------------------------------------------------------
int __cdecl sub_44D4B0()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_4017C6(&unk_74F92F0);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4017C6: using guessed type int __thiscall sub_4017C6(_DWORD);

//----- (0044D4F0) --------------------------------------------------------
int __usercall sub_44D4F0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  v2 = sub_4E8BF0(a1, a2, (int)sub_44D540);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044D540) --------------------------------------------------------
int __cdecl sub_44D540()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_4019EC(&unk_74F92F0);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4019EC: using guessed type int __thiscall sub_4019EC(_DWORD);

//----- (0044D580) --------------------------------------------------------
int __usercall sub_44D580<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  sub_44D5C0();
  v2 = sub_44D620(a1, a2);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044D5C0) --------------------------------------------------------
int __cdecl sub_44D5C0()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_4E8C60((int)byte_1FDECA0, 1724, 12800, (void (__thiscall *)(_DWORD))sub_40149C);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 40149C: using guessed type int sub_40149C();

//----- (0044D620) --------------------------------------------------------
int __usercall sub_44D620<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  v2 = sub_4E8BF0(a1, a2, (int)sub_44D670);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044D670) --------------------------------------------------------
int __cdecl sub_44D670()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_4E8D00((int)byte_1FDECA0, 1724, 12800, (void (__thiscall *)(_DWORD))sub_4012E9);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4012E9: using guessed type int sub_4012E9();

//----- (0044D6D0) --------------------------------------------------------
int __usercall sub_44D6D0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  sub_44D710();
  v2 = sub_44D770(a1, a2);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044D710) --------------------------------------------------------
int __cdecl sub_44D710()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_4E8C60((int)byte_752BAD8, 3160, 1000, (void (__thiscall *)(_DWORD))sub_401280);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 401280: using guessed type int sub_401280();

//----- (0044D770) --------------------------------------------------------
int __usercall sub_44D770<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  v2 = sub_4E8BF0(a1, a2, (int)sub_44D7C0);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044D7C0) --------------------------------------------------------
int __cdecl sub_44D7C0()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_4E8D00((int)byte_752BAD8, 3160, 1000, (void (__thiscall *)(_DWORD))sub_40134D);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 40134D: using guessed type int sub_40134D();

//----- (0044D820) --------------------------------------------------------
int __usercall sub_44D820<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  sub_44D860();
  v2 = sub_44D8C0(a1, a2);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044D860) --------------------------------------------------------
int __cdecl sub_44D860()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_4E8C60((int)word_8863698, 52, 6500, (void (__thiscall *)(_DWORD))sub_4010AA);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4010AA: using guessed type int sub_4010AA();
// 8863698: using guessed type __int16 word_8863698[];

//----- (0044D8C0) --------------------------------------------------------
int __usercall sub_44D8C0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  v2 = sub_4E8BF0(a1, a2, (int)sub_44D910);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044D910) --------------------------------------------------------
int __cdecl sub_44D910()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_4E8D00((int)word_8863698, 52, 6500, (void (__thiscall *)(_DWORD))sub_40152D);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 40152D: using guessed type int sub_40152D();
// 8863698: using guessed type __int16 word_8863698[];

//----- (0044D960) --------------------------------------------------------
int __usercall sub_44D960<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  sub_44D9A0();
  v2 = sub_44D9E0(a1, a2);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044D9A0) --------------------------------------------------------
int __cdecl sub_44D9A0()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_40154B(&s);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 40154B: using guessed type int __thiscall sub_40154B(_DWORD);

//----- (0044D9E0) --------------------------------------------------------
int __usercall sub_44D9E0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  v2 = sub_4E8BF0(a1, a2, (int)sub_44DA30);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044DA30) --------------------------------------------------------
int __cdecl sub_44DA30()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_4014C9(&s);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4014C9: using guessed type int __thiscall sub_4014C9(_DWORD);

//----- (0044DA70) --------------------------------------------------------
int __usercall sub_44DA70<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  sub_44DAB0();
  v2 = sub_44DAF0(a1, a2);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044DAB0) --------------------------------------------------------
int __cdecl sub_44DAB0()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_40154B(&unk_BDEA50);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 40154B: using guessed type int __thiscall sub_40154B(_DWORD);

//----- (0044DAF0) --------------------------------------------------------
int __usercall sub_44DAF0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  v2 = sub_4E8BF0(a1, a2, (int)sub_44DB40);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044DB40) --------------------------------------------------------
int __cdecl sub_44DB40()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_4014C9(&unk_BDEA50);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4014C9: using guessed type int __thiscall sub_4014C9(_DWORD);

//----- (0044DB80) --------------------------------------------------------
int __usercall sub_44DB80<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  sub_44DBC0();
  v2 = sub_44DC00(a1, a2);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044DBC0) --------------------------------------------------------
int __cdecl sub_44DBC0()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_40154B(&dword_34EA500);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 40154B: using guessed type int __thiscall sub_40154B(_DWORD);
// 34EA500: using guessed type int dword_34EA500;

//----- (0044DC00) --------------------------------------------------------
int __usercall sub_44DC00<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  v2 = sub_4E8BF0(a1, a2, (int)sub_44DC50);
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (0044DC50) --------------------------------------------------------
int __cdecl sub_44DC50()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_4014C9(&dword_34EA500);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4014C9: using guessed type int __thiscall sub_4014C9(_DWORD);
// 34EA500: using guessed type int dword_34EA500;

//----- (0044DC90) --------------------------------------------------------
int __cdecl sub_44DC90(int a1)
{
  char v2; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  memset(&v2, -858993460, 0x44u);
  for ( i = 0; i < 10; ++i )
  {
    if ( dword_8C75F20[i] == a1 )
      return i;
  }
  return 0;
}
// 8C75F20: using guessed type int dword_8C75F20[];

//----- (0044DD00) --------------------------------------------------------
int __cdecl sub_44DD00(int a1)
{
  int result; // eax@1
  char v2; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  result = -858993460;
  memset(&v2, -858993460, 0x44u);
  for ( i = 0; i < 10; ++i )
  {
    if ( !dword_8C75F20[i] )
    {
      result = a1;
      dword_8C75F20[i] = a1;
      return result;
    }
    result = i + 1;
  }
  return result;
}
// 8C75F20: using guessed type int dword_8C75F20[];

//----- (0044DD70) --------------------------------------------------------
int __cdecl sub_44DD70(int a1)
{
  int result; // eax@1
  char v2; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  result = -858993460;
  memset(&v2, -858993460, 0x44u);
  for ( i = 0; i < 10; ++i )
  {
    if ( dword_8C75F20[i] == a1 )
    {
      result = i;
      dword_8C75F20[i] = 0;
      return result;
    }
    result = i + 1;
  }
  return result;
}
// 8C75F20: using guessed type int dword_8C75F20[];

//----- (0044DDE0) --------------------------------------------------------
int __cdecl sub_44DDE0(int a1, int a2, int a3)
{
  int result; // eax@1
  char v4; // [sp+Ch] [bp-4Ch]@1
  int v5; // [sp+4Ch] [bp-Ch]@7
  int v6; // [sp+50h] [bp-8h]@7
  int i; // [sp+54h] [bp-4h]@1

  result = -858993460;
  memset(&v4, -858993460, 0x4Cu);
  for ( i = 0; i < a3; ++i )
  {
    if ( (signed int)*(_BYTE *)(i + a1) >= 0 && (signed int)*(_BYTE *)(i + a1) <= 104 )
    {
      v6 = 1;
      v5 = *(_BYTE *)(i + a1);
      if ( v5 >= 96 )
        v5 -= 72;
      else
        v5 %= 24;
      v6 <<= v5;
      if ( !(v6 & a2) )
        *(_BYTE *)(i + a1) = -1;
    }
    else
    {
      *(_BYTE *)(i + a1) = -1;
    }
    result = i + 1;
  }
  return result;
}

//----- (0044DED0) --------------------------------------------------------
int __cdecl sub_44DED0()
{
  int v0; // eax@6
  char v2; // [sp+0h] [bp-54h]@0
  int v3; // [sp+4h] [bp-50h]@0
  int v4; // [sp+8h] [bp-4Ch]@0
  char v5; // [sp+Ch] [bp-48h]@1
  char *v6; // [sp+4Ch] [bp-8h]@6
  int i; // [sp+50h] [bp-4h]@1

  memset(&v5, -858993460, 0x48u);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 1 )
      sub_401302(i);
  }
  closesocket(s);
  s = 0;
  v6 = &byte_8C76358;
  v0 = sub_401947(hWnd, *(_DWORD *)&byte_8C76358, 0x198Du, 0x403u);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 401947: using guessed type _DWORD __stdcall sub_401947(HWND hWnd, _DWORD, u_short hostshort, u_int wMsg);
// 752BAF0: using guessed type int dword_752BAF0[];
// 8C76358: using guessed type char byte_8C76358;

//----- (0044DFA0) --------------------------------------------------------
int __usercall sub_44DFA0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-58h]@0
  int v7; // [sp+4h] [bp-54h]@0
  int v8; // [sp+8h] [bp-50h]@0
  char v9; // [sp+Ch] [bp-4Ch]@1
  int i; // [sp+4Ch] [bp-Ch]@2
  int v11; // [sp+50h] [bp-8h]@2
  int v12; // [sp+54h] [bp-4h]@2

  memset(&v9, -858993460, 0x4Cu);
  v4 = 3160 * a3;
  if ( dword_752BAF0[790 * a3] == 22 )
  {
    v12 = (unsigned __int8)byte_1FDEF8C[1724 * a3];
    v4 = 1724 * a3;
    v11 = (unsigned __int16)word_1FDECB2[862 * a3];
    i = 0;
    if ( a4 )
    {
      for ( i = 0; i < 16; ++i )
      {
        v4 = 1724 * a3;
        if ( *((_WORD *)&dword_1FDECFC[431 * a3] + 4 * i) == a4 )
        {
          sub_4E3F40(a1, a2, (int)&String, "etc,KindomDraon guild:%d level:%d name:%s");
          Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
          sub_4E4640(&dword_1FDECFC[431 * a3] + 2 * i, 0, 8u);
          v4 = sub_401960(a3, 0, i, &dword_1FDECFC[431 * a3] + 2 * i);
          return sub_4E46A0(1, v4, v8, v6, v7);
        }
      }
      for ( i = 0; i < 63; ++i )
      {
        v4 = 1724 * a3;
        if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i) == a4 )
        {
          sub_4E3F40(a1, a2, (int)&String, "etc,KindomDraon guild:%d level:%d name:%s");
          Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
          sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * i, 0, 8u);
          v4 = sub_401960(a3, 1, i, &dword_1FDED7C[431 * a3] + 2 * i);
          return sub_4E46A0(1, v4, v8, v6, v7);
        }
      }
      for ( i = 0; i < 128; ++i )
      {
        v4 = 3160 * a3;
        if ( *((_WORD *)&dword_752BB44[790 * a3] + 4 * i) == a4 )
        {
          sub_4E3F40(a1, a2, (int)&String, "etc,KindomDraon guild:%d level:%d name:%s");
          Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
          sub_4E4640(&dword_752BB44[790 * a3] + 2 * i, 0, 8u);
          v4 = sub_401960(a3, 2, i, &dword_752BB44[790 * a3] + 2 * i);
          return sub_4E46A0(1, v4, v8, v6, v7);
        }
      }
    }
    else
    {
      for ( i = 0; i < 16; ++i )
      {
        if ( *((_WORD *)&dword_1FDECFC[431 * a3] + 4 * i) != 3993 )
        {
          v4 = 1724 * a3;
          if ( *((_WORD *)&dword_1FDECFC[431 * a3] + 4 * i) != 3994 )
            continue;
        }
        sub_4E3F40(a1, a2, (int)&String, "etc,KindomDraon guild:%d level:%d name:%s");
        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        sub_4E4640(&dword_1FDECFC[431 * a3] + 2 * i, 0, 8u);
        v4 = sub_401960(a3, 0, i, &dword_1FDECFC[431 * a3] + 2 * i);
        return sub_4E46A0(1, v4, v8, v6, v7);
      }
      for ( i = 0; i < 63; ++i )
      {
        if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i) != 3993 )
        {
          v4 = 1724 * a3;
          if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i) != 3994 )
            continue;
        }
        sub_4E3F40(a1, a2, (int)&String, "etc,KindomDraon guild:%d level:%d name:%s");
        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * i, 0, 8u);
        v4 = sub_401960(a3, 1, i, &dword_1FDED7C[431 * a3] + 2 * i);
        return sub_4E46A0(1, v4, v8, v6, v7);
      }
      for ( i = 0; i < 128; ++i )
      {
        if ( *((_WORD *)&dword_752BB44[790 * a3] + 4 * i) != 3993 )
        {
          v4 = 3160 * a3;
          if ( *((_WORD *)&dword_752BB44[790 * a3] + 4 * i) != 3994 )
            continue;
        }
        sub_4E3F40(a1, a2, (int)&String, "etc,KindomDraon guild:%d level:%d name:%s");
        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        sub_4E4640(&dword_752BB44[790 * a3] + 2 * i, 0, 8u);
        v4 = sub_401960(a3, 2, i, &dword_752BB44[790 * a3] + 2 * i);
        return sub_4E46A0(1, v4, v8, v6, v7);
      }
    }
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BB44: using guessed type int dword_752BB44[];

//----- (0044E740) --------------------------------------------------------
int __usercall sub_44E740<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-58h]@0
  int v6; // [sp+4h] [bp-54h]@0
  int v7; // [sp+8h] [bp-50h]@0
  char v8; // [sp+Ch] [bp-4Ch]@1
  int i; // [sp+4Ch] [bp-Ch]@2
  int v10; // [sp+50h] [bp-8h]@2
  int v11; // [sp+54h] [bp-4h]@2

  memset(&v8, -858993460, 0x4Cu);
  v3 = 3160 * a3;
  if ( dword_752BAF0[790 * a3] == 22 )
  {
    v11 = (unsigned __int8)byte_1FDEF8C[1724 * a3];
    v3 = 1724 * a3;
    v10 = (unsigned __int16)word_1FDECB2[862 * a3];
    for ( i = 0; i < 16; ++i )
    {
      v3 = 1724 * a3;
      if ( *((_WORD *)&dword_1FDECFC[431 * a3] + 4 * i) == 747 )
      {
        sub_4E3F40(a1, a2, (int)&String, "etc,crown guild:%d level:%d charge:%d-%d-%d-%d-%d name:%s");
        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        sub_4E4640(&dword_1FDECFC[431 * a3] + 2 * i, 0, 8u);
        v3 = sub_401960(a3, 0, i, &dword_1FDECFC[431 * a3] + 2 * i);
        return sub_4E46A0(1, v3, v7, v5, v6);
      }
    }
    for ( i = 0; i < 63; ++i )
    {
      v3 = i;
      if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i) == 747 )
      {
        sub_4E3F40(a1, a2, (int)&String, "etc,crown guild:%d level:%d charge:%d-%d-%d-%d-%d name:%s");
        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * i, 0, 8u);
        v3 = sub_401960(a3, 1, i, &dword_1FDED7C[431 * a3] + 2 * i);
        return sub_4E46A0(1, v3, v7, v5, v6);
      }
    }
    for ( i = 0; i < 128; ++i )
    {
      if ( *((_WORD *)&dword_752BB44[790 * a3] + 4 * i) == 747 )
      {
        sub_4E3F40(a1, a2, (int)&String, "etc,crown guild:%d level:%d charge:%d-%d-%d-%d-%d name:%s");
        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        sub_4E4640(&dword_752BB44[790 * a3] + 2 * i, 0, 8u);
        v3 = sub_401960(a3, 2, i, &dword_752BB44[790 * a3] + 2 * i);
        return sub_4E46A0(1, v3, v7, v5, v6);
      }
      v3 = i + 1;
    }
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BB44: using guessed type int dword_752BB44[];

//----- (0044EBA0) --------------------------------------------------------
int __usercall sub_44EBA0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5)
{
  int v5; // eax@2
  char v7; // [sp+0h] [bp-150h]@0
  int v8; // [sp+4h] [bp-14Ch]@0
  int v9; // [sp+8h] [bp-148h]@0
  char v10; // [sp+Ch] [bp-144h]@1
  unsigned int v11; // [sp+4Ch] [bp-104h]@8
  char v12; // [sp+50h] [bp-100h]@3
  char v13; // [sp+5Eh] [bp-F2h]@3
  char v14; // [sp+5Fh] [bp-F1h]@3

  memset(&v10, -858993460, 0x144u);
  if ( dword_8C75F54 == 1 )
  {
    v5 = 0;
  }
  else
  {
    sub_4E7850((int)&v12, (int)&byte_752BAD8[3160 * a3], 0x10u);
    v14 = 0;
    v13 = 0;
    if ( a5 != 3 && a5 != 8 && a5 != 15 )
    {
      sub_4E3F40(a1, a2, (int)&String, "cra,point: %d(%d)  type: %d");
      Log(&String, &v12, dword_752BAEC[790 * a3]);
    }
    dword_752C0C4[790 * a3] += a4;
    if ( (unsigned int)dword_752C0C4[790 * a3] < 0x1E )
    {
      v5 = 0;
    }
    else
    {
      sub_401B63(a3, &unk_8A7344);
      v11 = dword_1FDEF98[431 * a3];
      if ( v11 <= dword_8A58B8 )
      {
        dword_1FDEF98[431 * a3] = dword_8A58B8 + 10800;
        byte_1FDF034[1724 * a3] = 0;
        sub_4E3F40(a1, a2, (int)&String, "cra,account crack block -%s, %d type:1");
        Log(&String, &v12, dword_752BAEC[790 * a3]);
      }
      sub_4E3F40(a1, a2, (int)&String, "cra,close user type: %d");
      Log(&String, &v12, dword_752BAEC[790 * a3]);
      sub_401302(a3);
      v5 = 1;
    }
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 8A58B8: using guessed type int dword_8A58B8;
// 1FDEF98: using guessed type int dword_1FDEF98[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752C0C4: using guessed type int dword_752C0C4[];
// 8C75F54: using guessed type int dword_8C75F54;

//----- (0044EE40) --------------------------------------------------------
int __usercall sub_44EE40<eax>(int a1<ebx>, signed int a2, int a3)
{
  int v3; // eax@3
  int v4; // eax@13
  int v5; // esi@13
  char v7; // [sp+0h] [bp-74h]@0
  int v8; // [sp+4h] [bp-70h]@0
  int v9; // [sp+8h] [bp-6Ch]@0
  char v10; // [sp+Ch] [bp-68h]@1
  char v11; // [sp+4Ch] [bp-28h]@14
  int v12; // [sp+6Ch] [bp-8h]@9
  int i; // [sp+70h] [bp-4h]@6

  memset(&v10, -858993460, 0x68u);
  if ( a2 > 0 && a2 < 1000 )
  {
    if ( dword_752BAF0[790 * a2] == 22 )
    {
      for ( i = 0; ; ++i )
      {
        if ( i < 64 )
        {
          v12 = sub_4017E4(&dword_1FDED7C[431 * a2], i);
          if ( !v12 )
            continue;
          if ( *((_WORD *)&dword_1FDED7C[431 * a2] + 4 * i) )
            continue;
        }
        break;
      }
      if ( i < 0 || i >= 60 )
      {
        sub_401B63(a2, &unk_8A92C4);
        v3 = 0;
      }
      else
      {
        v4 = *(_DWORD *)(a3 + 4);
        v5 = i;
        *(&dword_1FDED7C[431 * a2] + 2 * i) = *(_DWORD *)a3;
        *(&dword_1FDED80[431 * a2] + 2 * v5) = v4;
        sub_401960(a2, 1, i, &dword_1FDED7C[431 * a2] + 2 * i);
        if ( sub_401A8C(&dword_1FDED7C[431 * a2] + 2 * i, 0) )
        {
          sub_401B1D(&dword_1FDED7C[431 * a2] + 2 * i, &v11);
          sub_4E3F40(a1, v5, (int)&String, "tra,_npc_ 0 %s x : %4d y :%4d");
          Log(&String, &byte_752BAD8[3160 * a2], dword_752BAEC[790 * a2]);
        }
        v3 = 1;
      }
    }
    else
    {
      v3 = 0;
    }
  }
  else
  {
    v3 = 0;
  }
  return sub_4E46A0(1, v3, v9, v7, v8);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4017E4: using guessed type _DWORD __cdecl sub_4017E4(_DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401A8C: using guessed type _DWORD __cdecl sub_401A8C(_DWORD, _DWORD);
// 401B1D: using guessed type _DWORD __cdecl sub_401B1D(_DWORD, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDED80: using guessed type int dword_1FDED80[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (0044F090) --------------------------------------------------------
int __cdecl sub_44F090()
{
  int v0; // eax@4
  char v2; // [sp+0h] [bp-A0h]@0
  int v3; // [sp+4h] [bp-9Ch]@0
  int v4; // [sp+8h] [bp-98h]@0
  char v5; // [sp+Ch] [bp-94h]@1
  int v6; // [sp+4Ch] [bp-54h]@5
  __int16 v7; // [sp+50h] [bp-50h]@5
  __int16 v8; // [sp+52h] [bp-4Eh]@5
  int v9; // [sp+58h] [bp-48h]@6
  int v10; // [sp+5Ch] [bp-44h]@8
  int v11; // [sp+60h] [bp-40h]@6
  int v12; // [sp+64h] [bp-3Ch]@8
  int v13; // [sp+68h] [bp-38h]@5
  int v14; // [sp+6Ch] [bp-34h]@5
  int v15; // [sp+70h] [bp-30h]@5
  int v16; // [sp+74h] [bp-2Ch]@5
  int v17; // [sp+78h] [bp-28h]@4
  int i; // [sp+7Ch] [bp-24h]@1
  __int16 v19; // [sp+80h] [bp-20h]@1
  __int16 v20; // [sp+84h] [bp-1Ch]@1
  __int16 v21; // [sp+86h] [bp-1Ah]@1
  int v22[5]; // [sp+8Ch] [bp-14h]@3

  memset(&v5, -858993460, 0x94u);
  v20 = 2061;
  v19 = 32;
  v21 = dword_5A1054;
  for ( i = 0; i < 5; ++i )
  {
    v22[i] = dword_594DD0[21 * i];
    *(&dword_5A39F0[5 * dword_5A1054] + i) = v22[i];
  }
  sub_40132A(&v19, 32);
  v0 = 20 * dword_5A1054;
  v17 = dword_5A3A00[5 * dword_5A1054];
  if ( v17 )
  {
    v16 = v17 >> 12;
    v15 = v17 & 0xFFF;
    v14 = *(&dword_88B5F20[61440 * (v17 >> 12)] + 15 * (v17 & 0xFFF));
    v13 = *(&byte_88B5F1E[245760 * (v17 >> 12)] + 60 * (v17 & 0xFFF));
    sub_4E4640(&v6, 0, 0x1Cu);
    v8 = 0;
    LOWORD(v6) = 28;
    v7 = 3107;
    if ( v13 == 8 )
    {
      v9 = dword_8C76154;
      v11 = dword_8C7615C;
    }
    else
    {
      if ( v13 == 7 )
      {
        v10 = dword_8C76158;
        v12 = dword_8C76160;
      }
    }
    v0 = sub_40132A(&v6, (unsigned __int16)v6);
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 594DD0: using guessed type int dword_594DD0[];
// 5A1054: using guessed type int dword_5A1054;
// 5A39F0: using guessed type int dword_5A39F0[];
// 5A3A00: using guessed type int dword_5A3A00[];
// 88B5F20: using guessed type int dword_88B5F20[];
// 8C76154: using guessed type int dword_8C76154;
// 8C76158: using guessed type int dword_8C76158;
// 8C7615C: using guessed type int dword_8C7615C;
// 8C76160: using guessed type int dword_8C76160;
// 44F090: using guessed type int var_14[5];

//----- (0044F260) --------------------------------------------------------
int __cdecl sub_44F260()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-58h]@0
  int v3; // [sp+4h] [bp-54h]@0
  int v4; // [sp+8h] [bp-50h]@0
  char v5; // [sp+Ch] [bp-4Ch]@1
  __int16 v6; // [sp+4Ch] [bp-Ch]@1
  __int16 v7; // [sp+50h] [bp-8h]@1
  __int16 v8; // [sp+52h] [bp-6h]@1

  memset(&v5, -858993460, 0x4Cu);
  sub_4E4640(dword_88B5EE8, 0, 0x3C0000u);
  sub_4E4640(&v6, 0, 0xCu);
  v7 = 3097;
  v6 = 12;
  v8 = 0;
  v0 = sub_40132A(&v6, 12);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 88B5EE8: using guessed type int dword_88B5EE8[];

//----- (0044F3F0) --------------------------------------------------------
int __usercall sub_44F3F0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@2
  int v3; // eax@2
  int v4; // eax@4
  int v5; // eax@14
  int v6; // eax@23
  int v7; // eax@25
  int v8; // eax@33
  int v9; // eax@38
  int v10; // eax@43
  int v11; // eax@49
  int v12; // eax@52
  int v13; // eax@57
  int v14; // eax@62
  int v15; // eax@68
  int v16; // eax@74
  int v17; // eax@80
  int v18; // eax@83
  int v19; // eax@98
  char v21; // [sp+0h] [bp-550h]@2
  int v22; // [sp+4h] [bp-54Ch]@126
  int v23; // [sp+8h] [bp-548h]@126
  char v24; // [sp+Ch] [bp-544h]@1
  int v25; // [sp+4Ch] [bp-504h]@104
  int v26; // [sp+50h] [bp-500h]@102
  char v27; // [sp+D4h] [bp-47Ch]@102
  int v28; // [sp+214h] [bp-33Ch]@101
  int *v29; // [sp+218h] [bp-338h]@101
  __int16 *v30; // [sp+21Ch] [bp-334h]@92
  __int16 *v31; // [sp+220h] [bp-330h]@86
  int j; // [sp+224h] [bp-32Ch]@58
  int i; // [sp+228h] [bp-328h]@5
  int v34; // [sp+22Ch] [bp-324h]@3
  int v35; // [sp+230h] [bp-320h]@16
  int v36; // [sp+234h] [bp-31Ch]@17
  int v37; // [sp+238h] [bp-318h]@18
  int v38; // [sp+23Ch] [bp-314h]@19
  int v39; // [sp+240h] [bp-310h]@20
  int v40; // [sp+244h] [bp-30Ch]@21
  int v41; // [sp+248h] [bp-308h]@22
  int v42; // [sp+24Ch] [bp-304h]@24
  int v43; // [sp+2ACh] [bp-2A4h]@72
  char v44[32]; // [sp+34Ch] [bp-204h]@7
  char v45; // [sp+36Ch] [bp-1E4h]@9
  char v46; // [sp+38Ch] [bp-1C4h]@10
  char v47; // [sp+3ACh] [bp-1A4h]@11
  char v48; // [sp+3CCh] [bp-184h]@12
  char v49; // [sp+3ECh] [bp-164h]@13
  int v50; // [sp+54Ch] [bp-4h]@1
  _DWORD v51; // [sp+550h] [bp+0h]@2

  memset(&v24, -858993460, 0x544u);
  v50 = 0;
  v50 = sub_4E4620(a1, a2, "gameconfig.txt", (int)"rt");
  if ( v50 )
  {
    sub_4E4640(&v34, 0, 0x120u);
    sub_4E4400(a1, a2, (int)&String, 255, v50);
    if ( sub_4E4D80((int)&String, (int)"Drop Item Event Settings:\n") )
    {
      v4 = MessageBoxA(hWnd, "not game-server generated gameconfig.txt - Line1", "Error", 0x1000u);
      sub_4E46A0(&v21 == &v21, v4, a1, (unsigned int)&v51, (int)&v21);
      v3 = sub_4E4260(a1, (int)&v21, v50);
    }
    else
    {
      for ( i = 0; i < 16; ++i )
      {
        *(&v34 + i) = -1;
        sub_4E4640(&v44[32 * i], 0, 0x20u);
      }
      sub_4E4400(a1, a2, (int)&String, 255, v50);
      sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d %s %d %s %d %s %d %s %d %s %d %d %d %d", (unsigned int)v44);
      if ( sub_4E4D80((int)v44, (int)"evindex")
        || sub_4E4D80((int)&v45, (int)"evdelete")
        || sub_4E4D80((int)&v46, (int)"evon")
        || sub_4E4D80((int)&v47, (int)"evitem")
        || sub_4E4D80((int)&v48, (int)"evrate")
        || sub_4E4D80((int)&v49, (int)"evstart") )
      {
        v5 = MessageBoxA(hWnd, "not game-server generated gameconfig.txt - Line2", "Error", 0x1000u);
        sub_4E46A0(&v21 == &v21, v5, a1, (unsigned int)&v51, (int)&v21);
        v3 = sub_4E4260(a1, (int)&v21, v50);
      }
      else
      {
        if ( v34 != -1 && v35 != -1 && v36 != -1 && v37 != -1 && v38 != -1 && v39 != -1 && v40 != -1 && v41 != -1 )
        {
          dword_8C76204 = v34;
          dword_8C7620C = v35;
          dword_8C76208 = v36;
          dword_8C76200 = v37;
          dword_8C761FC = v38;
          dword_8C761F0 = v39;
          dword_8C761F8 = v40;
          dword_8C761F4 = v41;
          dword_5A0FFC = v42;
          sub_4E4400(a1, a2, (int)&String, 255, v50);
          if ( sub_4E4D80((int)&String, (int)"Etc Event Settings:\n") )
          {
            v7 = MessageBoxA(hWnd, "not game server generated gameconfig.txt - Line3", "Error", 0x1000u);
            sub_4E46A0(&v21 == &v21, v7, a1, (unsigned int)&v51, (int)&v21);
            v3 = sub_4E4260(a1, (int)&v21, v50);
          }
          else
          {
            for ( i = 0; i < 16; ++i )
            {
              *(&v34 + i) = -1;
              sub_4E4640(&v44[32 * i], 0, 0x20u);
            }
            sub_4E4400(a1, a2, (int)&String, 255, v50);
            sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d %s %d %s %d %s %d %s %d %s %d %s %d", (unsigned int)v44);
            if ( sub_4E4D80((int)v44, (int)"double")
              || sub_4E4D80((int)&v45, (int)"deadpoint")
              || sub_4E4D80((int)&v46, (int)"dungeonevent")
              || sub_4E4D80((int)&v47, (int)"statsapphire") )
            {
              v8 = MessageBoxA(hWnd, "not game-server generated gameconfig.txt - Line4", "Error", 0x1000u);
              sub_4E46A0(&v21 == &v21, v8, a1, (unsigned int)&v51, (int)&v21);
              v3 = sub_4E4260(a1, (int)&v21, v50);
            }
            else
            {
              if ( v34 != -1 && v35 != -1 && v36 != -1 && v37 != -1 )
              {
                dword_8C762C0 = v34;
                dword_5A1000 = v35;
                dword_5A1040 = v36;
                dword_5A1004 = v37;
                dword_8C762D8 = v38;
                dword_8C76254 = v39;
                dword_5A1044 = v40;
                if ( v40 < 200 || dword_5A1044 > 400 )
                  dword_5A1044 = 300;
                sub_4E4400(a1, a2, (int)&String, 255, v50);
                if ( sub_4E4D80((int)&String, (int)"Billing Settings:\n") )
                {
                  v10 = MessageBoxA(hWnd, "not game server generated gameconfig.txt - Line5", "Error", 0x1000u);
                  sub_4E46A0(&v21 == &v21, v10, a1, (unsigned int)&v51, (int)&v21);
                  v3 = sub_4E4260(a1, (int)&v21, v50);
                }
                else
                {
                  for ( i = 0; i < 16; ++i )
                  {
                    *(&v34 + i) = -1;
                    sub_4E4640(&v44[32 * i], 0, 0x20u);
                  }
                  sub_4E4400(a1, a2, (int)&String, 255, v50);
                  sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d %s %d %s %d %s %d %s %d", (unsigned int)v44);
                  if ( sub_4E4D80((int)v44, (int)"billmode") || sub_4E4D80((int)&v45, (int)"freeexp") )
                  {
                    v11 = MessageBoxA(hWnd, "not game-server generated gameconfig.txt - Line6", "Error", 0x1000u);
                    sub_4E46A0(&v21 == &v21, v11, a1, (unsigned int)&v51, (int)&v21);
                    v3 = sub_4E4260(a1, (int)&v21, v50);
                  }
                  else
                  {
                    if ( v34 != -1 && v35 != -1 )
                    {
                      dword_5A103C = v34;
                      dword_5A0FB0 = v35;
                      dword_8C762BC = v36;
                      dword_5A104C = v37;
                      dword_5A1050 = v38;
                      dword_8C762C4 = v39;
                      if ( v38 < 50 || dword_5A1050 > 200 )
                        dword_5A1050 = 100;
                      sub_4E4400(a1, a2, (int)&String, 255, v50);
                      if ( sub_4E4D80((int)&String, (int)"Item Drop Bonus Settings:\n") )
                      {
                        v13 = MessageBoxA(hWnd, "not game server generated gameconfig.txt - Line7", "Error", 0x1000u);
                        v3 = sub_4E46A0(&v21 == &v21, v13, a1, (unsigned int)&v51, (int)&v21);
                      }
                      else
                      {
                        sub_4E4400(a1, a2, (int)&String, 255, v50);
                        sub_4E4340(
                          a1,
                          (int)&v51,
                          a2,
                          (int)&String,
                          "%d %d %d %d %d %d %d %d %d %d %d %d %d %d %d %d",
                          (unsigned int)&v34);
                        for ( j = 0; j < 16; ++j )
                        {
                          if ( *(&v34 + j) < 0 || *(&v34 + j) > 300 )
                          {
                            v14 = MessageBoxA(
                                    hWnd,
                                    "not game-server generated gameconfig.txt - Line8",
                                    "Error",
                                    0x1000u);
                            sub_4E46A0(&v21 == &v21, v14, a1, (unsigned int)&v51, (int)&v21);
                            v3 = sub_4E4260(a1, (int)&v21, v50);
                            return sub_4E46A0(1, v3, v23, v21, v22);
                          }
                          dword_597350[j] = *(&v34 + j);
                          *(&v34 + j) = -1;
                        }
                        sub_4E4400(a1, a2, (int)&String, 255, v50);
                        sub_4E4340(
                          a1,
                          (int)&v51,
                          a2,
                          (int)&String,
                          "%d %d %d %d %d %d %d %d %d %d %d %d %d %d %d %d",
                          (unsigned int)&v34);
                        for ( j = 0; j < 16; ++j )
                        {
                          if ( *(&v34 + j) < 0 || *(&v34 + j) > 300 )
                          {
                            v15 = MessageBoxA(
                                    hWnd,
                                    "not game-server generated gameconfig.txt - Line9",
                                    "Error",
                                    0x1000u);
                            sub_4E46A0(&v21 == &v21, v15, a1, (unsigned int)&v51, (int)&v21);
                            v3 = sub_4E4260(a1, (int)&v21, v50);
                            return sub_4E46A0(1, v3, v23, v21, v22);
                          }
                          dword_597390[j] = *(&v34 + j);
                          *(&v34 + j) = -1;
                        }
                        sub_4E4400(a1, a2, (int)&String, 255, v50);
                        sub_4E4340(
                          a1,
                          (int)&v51,
                          a2,
                          (int)&String,
                          "%d %d %d %d %d %d %d %d %d %d %d %d %d %d %d %d",
                          (unsigned int)&v34);
                        for ( j = 0; j < 16; ++j )
                        {
                          if ( *(&v43 + j) < 0 || *(&v34 + j) > 300 )
                          {
                            v16 = MessageBoxA(
                                    hWnd,
                                    "not game-server generated gameconfig.txt - Line10",
                                    "Error",
                                    0x1000u);
                            sub_4E46A0(&v21 == &v21, v16, a1, (unsigned int)&v51, (int)&v21);
                            v3 = sub_4E4260(a1, (int)&v21, v50);
                            return sub_4E46A0(1, v3, v23, v21, v22);
                          }
                          dword_5973D0[j] = *(&v34 + j);
                          *(&v34 + j) = -1;
                        }
                        sub_4E4400(a1, a2, (int)&String, 255, v50);
                        sub_4E4340(
                          a1,
                          (int)&v51,
                          a2,
                          (int)&String,
                          "%d %d %d %d %d %d %d %d %d %d %d %d %d %d %d %d",
                          (unsigned int)&v34);
                        for ( j = 0; j < 16; ++j )
                        {
                          if ( *(&v34 + j) < 0 || *(&v34 + j) > 300 )
                          {
                            v17 = MessageBoxA(
                                    hWnd,
                                    "not game-server generated gameconfig.txt - Line11",
                                    "Error",
                                    0x1000u);
                            sub_4E46A0(&v21 == &v21, v17, a1, (unsigned int)&v51, (int)&v21);
                            v3 = sub_4E4260(a1, (int)&v21, v50);
                            return sub_4E46A0(1, v3, v23, v21, v22);
                          }
                          dword_597410[j] = *(&v34 + j);
                          *(&v34 + j) = -1;
                        }
                        sub_4E4400(a1, a2, (int)&String, 255, v50);
                        if ( sub_4E4D80((int)&String, (int)"Treasure Settings:\n") )
                        {
                          v18 = MessageBoxA(hWnd, "not game server generated gameconfig.txt - Line12", "Error", 0x1000u);
                          sub_4E46A0(&v21 == &v21, v18, a1, (unsigned int)&v51, (int)&v21);
                          v3 = sub_4E4260(a1, (int)&v21, v50);
                        }
                        else
                        {
                          sub_4E4640(word_74F8198, 0, 0x340u);
                          for ( j = 0; j < 17; ++j )
                          {
                            v31 = &word_74F8198[26 * j];
                            for ( i = 0; i < 26; ++i )
                              *(&v34 + i) = -1;
                            sub_4E4400(a1, a2, (int)&String, 255, v50);
                            sub_4E4340(
                              a1,
                              (int)&v51,
                              a2,
                              (int)&String,
                              "%d  %d %d %d %d %d %d %d  %d %d %d %d %d %d %d  %d %d %d %d %d %d %d  %d %d %d %d %d %d %d  %d %d %d %d %d %d %d",
                              (unsigned int)&v34);
                            if ( !sub_4E7950((int)&String, (int)"Rare", 4) )
                              break;
                            *v31 = v34;
                            for ( i = 0; i < 5; ++i )
                            {
                              v30 = &v31[4 * i + 1];
                              v31[4 * i + 1] = *((_WORD *)&v35 + 14 * i);
                              *((_BYTE *)v30 + 2) = *((_BYTE *)&v36 + 28 * i);
                              *((_BYTE *)v30 + 3) = *((_BYTE *)&v37 + 28 * i);
                              *((_BYTE *)v30 + 4) = *((_BYTE *)&v38 + 28 * i);
                              *((_BYTE *)v30 + 5) = *((_BYTE *)&v39 + 28 * i);
                              *((_BYTE *)v30 + 6) = *((_BYTE *)&v40 + 28 * i);
                              *((_BYTE *)v30 + 7) = *((_BYTE *)&v41 + 28 * i);
                            }
                            sub_4E4400(a1, a2, (int)&String, 255, v50);
                            sub_4E4340(a1, (int)&v51, a2, (int)&String, "%d %d %d %d %d", (unsigned int)&v34);
                            for ( i = 0; i < 5; ++i )
                              v31[i + 21] = *((_WORD *)&v34 + 2 * i);
                          }
                          if ( sub_4E4D80((int)&String, (int)"Rare Item Drop Settings:\n") )
                          {
                            v19 = MessageBoxA(
                                    hWnd,
                                    "not game server generated gameconfig.txt - Line29",
                                    "Error",
                                    0x1000u);
                            sub_4E46A0(&v21 == &v21, v19, a1, (unsigned int)&v51, (int)&v21);
                            v3 = sub_4E4260(a1, (int)&v21, v50);
                          }
                          else
                          {
                            sub_4E4640(dword_74F91C0, 0, 0xA0u);
                            for ( i = 0; i < 8; ++i )
                            {
                              v29 = &dword_74F91C0[5 * i];
                              v28 = (int)((char *)&unk_74F91C8 + 20 * i);
                              sub_4E4400(a1, a2, (int)&String, 255, v50);
                              sub_4E4340(
                                a1,
                                (int)&v51,
                                a2,
                                (int)&String,
                                "%d %d  %d   %d %d  %d %d  %d %d  %s  %d",
                                (char)v29);
                            }
                            dword_8C761E8 = 0;
                            v26 = 0;
                            sub_4E4400(a1, a2, (int)&String, 255, v50);
                            sub_4E4340(
                              a1,
                              (int)&v51,
                              a2,
                              (int)&String,
                              "%s %s %s %d %s %d %s %s %d %s %s %s %d",
                              (unsigned int)&v27);
                            sub_4E4400(a1, a2, (int)&String, 255, v50);
                            if ( sub_4E4D80((int)&String, (int)"Game Option Settings:\n") )
                            {
                              dword_AACD54 = 0;
                              dword_5A144C = 100;
                              dword_8C75F58 = 0;
                              dword_8C764A0 = 0;
                              v26 = 1;
                            }
                            v25 = 0;
                            String = 0;
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            if ( v25 )
                              sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d %s %d %s %d", (unsigned int)&v27);
                            String = 0;
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            if ( v25 )
                              sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d %s %d %s %d", (unsigned int)&v27);
                            String = 0;
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d %s %d %s %d", (unsigned int)&v27);
                            String = 0;
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            if ( v25 )
                              sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d %s %d %s %d", (unsigned int)&v27);
                            String = 0;
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d %s %d %s %d ", (unsigned int)&v27);
                            String = 0;
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d %d", (unsigned int)&v27);
                            sub_4E4640(dword_750BA68, 0, 0x28u);
                            String = 0;
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            sub_4E4340(
                              a1,
                              (int)&v51,
                              a2,
                              (int)&String,
                              "%s %I64d %I64d %I64d %I64d %I64d",
                              (unsigned int)&v27);
                            String = 0;
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d %d %d", (unsigned int)&v27);
                            String = 0;
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d %d %s %d", (unsigned int)&v27);
                            String = 0;
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d %s %I64d", (unsigned int)&v27);
                            String = 0;
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            if ( v25 )
                              sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d", (unsigned int)&v27);
                            String = 0;
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            if ( v25 )
                              sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d", (unsigned int)&v27);
                            String = 0;
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            if ( v25 )
                            {
                              sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %s %s", (unsigned int)&v27);
                              dword_8C761EC = inet_addr("192.168.0.7");
                            }
                            String = 0;
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            if ( v25 )
                              sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d", (unsigned int)&v27);
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            if ( v25 )
                              sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d", (unsigned int)&v27);
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            if ( v25 )
                              sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d", (unsigned int)&v27);
                            v25 = sub_4E4400(a1, a2, (int)&String, 255, v50);
                            if ( v25 )
                              sub_4E4340(a1, (int)&v51, a2, (int)&String, "%s %d", (unsigned int)&v27);
                            v3 = sub_4E4260(a1, a2, v50);
                            if ( v26 )
                            {
                              dword_8C76364 = 1;
                              v3 = sub_401154(1);
                            }
                          }
                        }
                      }
                    }
                    else
                    {
                      v12 = MessageBoxA(hWnd, "not game-server generated gameconfig.txt - Line6", "Error", 0x1000u);
                      sub_4E46A0(&v21 == &v21, v12, a1, (unsigned int)&v51, (int)&v21);
                      v3 = sub_4E4260(a1, (int)&v21, v50);
                    }
                  }
                }
              }
              else
              {
                v9 = MessageBoxA(hWnd, "not game-server generated gameconfig.txt - Line4", "Error", 0x1000u);
                sub_4E46A0(&v21 == &v21, v9, a1, (unsigned int)&v51, (int)&v21);
                v3 = sub_4E4260(a1, (int)&v21, v50);
              }
            }
          }
        }
        else
        {
          v6 = MessageBoxA(hWnd, "not game-server generated gameconfig.txt - Line2", "Error", 0x1000u);
          sub_4E46A0(&v21 == &v21, v6, a1, (unsigned int)&v51, (int)&v21);
          v3 = sub_4E4260(a1, (int)&v21, v50);
        }
      }
    }
  }
  else
  {
    v2 = MessageBoxA(hWnd, "no gameconfig.txt, server will generate default setting.", "Error", 0x1000u);
    sub_4E46A0(&v21 == &v21, v2, a1, (unsigned int)&v51, (int)&v21);
    dword_8C76364 = 1;
    v3 = sub_401154(1);
  }
  return sub_4E46A0(1, v3, v23, v21, v22);
}
// 44F3F0: too many cbuild loops
// 401154: using guessed type _DWORD __cdecl sub_401154(_DWORD);
// 597350: using guessed type int dword_597350[];
// 597390: using guessed type int dword_597390[];
// 5973D0: using guessed type int dword_5973D0[];
// 597410: using guessed type int dword_597410[];
// 5A0FB0: using guessed type int dword_5A0FB0;
// 5A0FFC: using guessed type int dword_5A0FFC;
// 5A1000: using guessed type int dword_5A1000;
// 5A1004: using guessed type int dword_5A1004;
// 5A103C: using guessed type int dword_5A103C;
// 5A1040: using guessed type int dword_5A1040;
// 5A1044: using guessed type int dword_5A1044;
// 5A104C: using guessed type int dword_5A104C;
// 5A1050: using guessed type int dword_5A1050;
// 5A144C: using guessed type int dword_5A144C;
// AACD54: using guessed type int dword_AACD54;
// 74F8198: using guessed type __int16 word_74F8198[];
// 74F91C0: using guessed type int dword_74F91C0[];
// 750BA68: using guessed type int dword_750BA68[];
// 8C75F58: using guessed type int dword_8C75F58;
// 8C761E8: using guessed type int dword_8C761E8;
// 8C761EC: using guessed type int dword_8C761EC;
// 8C761F0: using guessed type int dword_8C761F0;
// 8C761F4: using guessed type int dword_8C761F4;
// 8C761F8: using guessed type int dword_8C761F8;
// 8C761FC: using guessed type int dword_8C761FC;
// 8C76200: using guessed type int dword_8C76200;
// 8C76204: using guessed type int dword_8C76204;
// 8C76208: using guessed type int dword_8C76208;
// 8C7620C: using guessed type int dword_8C7620C;
// 8C76254: using guessed type int dword_8C76254;
// 8C762BC: using guessed type int dword_8C762BC;
// 8C762C0: using guessed type int dword_8C762C0;
// 8C762C4: using guessed type int dword_8C762C4;
// 8C762D8: using guessed type int dword_8C762D8;
// 8C76364: using guessed type int dword_8C76364;
// 8C764A0: using guessed type int dword_8C764A0;
// 44F3F0: using guessed type char var_204[32];

//----- (00451400) --------------------------------------------------------
int __usercall sub_451400<eax>(int a1<ebx>, int a2)
{
  int v2; // eax@1
  int v3; // esi@2
  int v4; // eax@2
  int v5; // eax@4
  int v6; // eax@7
  int v7; // eax@7
  int v8; // eax@7
  int v9; // eax@9
  int v10; // eax@9
  int v11; // eax@9
  int v12; // eax@11
  int v13; // eax@11
  int v14; // eax@11
  int v15; // eax@13
  int v16; // eax@13
  int v17; // eax@13
  int v18; // eax@15
  int v19; // eax@15
  int v20; // eax@15
  int v21; // eax@17
  int v22; // eax@17
  int v23; // eax@17
  int v24; // eax@19
  int v25; // eax@19
  int v26; // eax@19
  int v27; // esi@21
  int v28; // eax@21
  int v29; // eax@23
  int v30; // eax@23
  int v31; // eax@26
  int v32; // eax@26
  int v33; // eax@26
  int v34; // esi@28
  int v35; // eax@28
  int v36; // eax@33
  int v37; // eax@33
  int v38; // eax@35
  int v39; // eax@35
  int v40; // eax@38
  int v41; // eax@38
  int v42; // eax@38
  int v43; // esi@40
  int v44; // eax@40
  int v45; // eax@42
  int v46; // eax@42
  int v47; // eax@45
  int v48; // eax@45
  int v49; // eax@47
  int v50; // eax@47
  int v51; // eax@47
  int v52; // eax@49
  int v53; // eax@49
  int v54; // eax@49
  int v55; // eax@51
  int v56; // eax@51
  int v57; // eax@53
  int v58; // eax@53
  int v59; // eax@55
  int v60; // eax@55
  int v61; // eax@57
  int v62; // eax@57
  int v63; // eax@59
  int v64; // eax@59
  int v65; // eax@61
  int v66; // eax@61
  int v67; // eax@63
  int v68; // eax@63
  int v69; // eax@65
  int v70; // eax@65
  int v71; // eax@67
  int v72; // eax@67
  int v73; // eax@69
  int v74; // eax@69
  int v75; // eax@71
  int v76; // eax@71
  int v77; // eax@73
  int v78; // eax@73
  int v79; // eax@75
  int v80; // eax@75
  int v81; // eax@77
  int v82; // eax@77
  int v83; // eax@79
  int v84; // eax@79
  int v85; // eax@81
  int v86; // eax@81
  int v87; // eax@83
  char v89; // [sp+0h] [bp-39Ch]@2
  int v90; // [sp+4h] [bp-398h]@85
  int v91; // [sp+8h] [bp-394h]@85
  char v92; // [sp+Ch] [bp-390h]@1
  int v93; // [sp+4Ch] [bp-350h]@42
  int *v94; // [sp+50h] [bp-34Ch]@42
  __int16 *v95; // [sp+54h] [bp-348h]@32
  int k; // [sp+58h] [bp-344h]@30
  char v97; // [sp+5Ch] [bp-340h]@30
  __int16 *v98; // [sp+15Ch] [bp-240h]@30
  int j; // [sp+160h] [bp-23Ch]@28
  char v100; // [sp+164h] [bp-238h]@23
  int v101; // [sp+264h] [bp-138h]@23
  int i; // [sp+268h] [bp-134h]@21
  int v103; // [sp+26Ch] [bp-130h]@5
  int v104; // [sp+270h] [bp-12Ch]@3
  HDC hDC; // [sp+274h] [bp-128h]@2
  const CHAR String; // [sp+278h] [bp-124h]@7
  int y; // [sp+378h] [bp-24h]@2
  int x; // [sp+37Ch] [bp-20h]@2
  int v109; // [sp+380h] [bp-1Ch]@1
  COLORREF v110; // [sp+384h] [bp-18h]@1
  int v111; // [sp+388h] [bp-14h]@1
  int v112; // [sp+38Ch] [bp-10h]@1
  COLORREF color; // [sp+390h] [bp-Ch]@1
  int v114; // [sp+394h] [bp-8h]@1
  int v115; // [sp+398h] [bp-4h]@1
  int v116; // [sp+39Ch] [bp+0h]@2

  v2 = -858993460;
  memset(&v92, -858993460, 0x390u);
  v109 = 65535;
  v110 = 0;
  v111 = 2142208;
  v112 = (int)&unk_E0B000;
  color = 255;
  v114 = 4491519;
  v115 = (int)&unk_FFFFFF;
  if ( dword_8C76364 )
  {
    x = 0;
    y = 0;
    v3 = (int)&v89;
    v4 = (int)GetDC(hWnd);
    v2 = sub_4E46A0(&v89 == &v89, v4, a1, (unsigned int)&v116, (int)&v89);
    hDC = (HDC)v2;
    if ( v2 )
    {
      v104 = 0;
      if ( !h
        || (v3 = (int)&v89,
            v5 = (int)SelectObject(hDC, h),
            v2 = sub_4E46A0(&v89 == &v89, v5, a1, (unsigned int)&v116, (int)&v89),
            (v104 = v2) != 0) )
      {
        v103 = 0;
        if ( a2 )
          v103 = sub_4E4620(a1, v3, "gameconfig.txt", (int)"wt");
        y -= dword_54F8190;
        v6 = SetTextColor(hDC, color);
        sub_4E46A0(&v89 == &v89, v6, a1, (unsigned int)&v116, (int)&v89);
        sub_4E3F40(a1, (int)&v89, (int)&String, "Drop Item Event Settings:");
        v7 = sub_4E4B50((int)&String);
        v8 = TextOutA(hDC, x, y, &String, v7);
        sub_4E46A0(&v89 == &v89, v8, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        v9 = SetTextColor(hDC, v110);
        sub_4E46A0(&v89 == &v89, v9, a1, (unsigned int)&v116, (int)&v89);
        sub_4E3F40(
          a1,
          (int)&v89,
          (int)&String,
          "  evindex %d  evdelete %d  evon %d  evitem %d  evrate %d  evstart %d %d %d %d");
        v10 = sub_4E4B50((int)&String);
        v11 = TextOutA(hDC, x, y, &String, v10);
        sub_4E46A0(&v89 == &v89, v11, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        v12 = SetTextColor(hDC, color);
        sub_4E46A0(&v89 == &v89, v12, a1, (unsigned int)&v116, (int)&v89);
        sub_4E3F40(a1, (int)&v89, (int)&String, "Etc Event Settings:");
        v13 = sub_4E4B50((int)&String);
        v14 = TextOutA(hDC, x, y, &String, v13);
        sub_4E46A0(&v89 == &v89, v14, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        v15 = SetTextColor(hDC, v110);
        sub_4E46A0(&v89 == &v89, v15, a1, (unsigned int)&v116, (int)&v89);
        sub_4E3F40(
          a1,
          (int)&v89,
          (int)&String,
          "  double %d  deadpoint %d  dungeonevent %d  statsapphire %d  battleroyal %d  VS: %d  translevel: %d");
        v16 = sub_4E4B50((int)&String);
        v17 = TextOutA(hDC, x, y, &String, v16);
        sub_4E46A0(&v89 == &v89, v17, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        v18 = SetTextColor(hDC, color);
        sub_4E46A0(&v89 == &v89, v18, a1, (unsigned int)&v116, (int)&v89);
        sub_4E3F40(a1, (int)&v89, (int)&String, "Billing Settings:");
        v19 = sub_4E4B50((int)&String);
        v20 = TextOutA(hDC, x, y, &String, v19);
        sub_4E46A0(&v89 == &v89, v20, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        v21 = SetTextColor(hDC, v110);
        sub_4E46A0(&v89 == &v89, v21, a1, (unsigned int)&v116, (int)&v89);
        sub_4E3F40(
          a1,
          (int)&v89,
          (int)&String,
          "  billmode %d  freeexp %d  charselbill %d  potioncount %d  partybonus %d  guildboard %d");
        v22 = sub_4E4B50((int)&String);
        v23 = TextOutA(hDC, x, y, &String, v22);
        sub_4E46A0(&v89 == &v89, v23, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        v24 = SetTextColor(hDC, color);
        sub_4E46A0(&v89 == &v89, v24, a1, (unsigned int)&v116, (int)&v89);
        sub_4E3F40(a1, (int)&v89, (int)&String, "Item Drop Bonus Settings:");
        v25 = sub_4E4B50((int)&String);
        v26 = TextOutA(hDC, x, y, &String, v25);
        sub_4E46A0(&v89 == &v89, v26, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        v27 = (int)&v89;
        v28 = SetTextColor(hDC, v110);
        sub_4E46A0(&v89 == &v89, v28, a1, (unsigned int)&v116, (int)&v89);
        for ( i = 0; i < 4; ++i )
        {
          v101 = 16 * i;
          sub_4E3F40(a1, v27, (int)&String, "   %3d %3d %3d %3d %3d %3d %3d %3d");
          v101 = 16 * i + 8;
          sub_4E3F40(a1, v27, (int)&v100, "%s   %3d %3d %3d %3d %3d %3d %3d %3d");
          v29 = sub_4E4B50((int)&v100);
          v27 = (int)&v89;
          v30 = TextOutA(hDC, x, y, &v100, v29);
          sub_4E46A0(&v89 == &v89, v30, a1, (unsigned int)&v116, (int)&v89);
          y += 16;
          if ( a2 )
            sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&v100);
        }
        v31 = SetTextColor(hDC, color);
        sub_4E46A0(&v89 == &v89, v31, a1, (unsigned int)&v116, (int)&v89);
        sub_4E3F40(a1, (int)&v89, (int)&String, "Treasure Settings:");
        v32 = sub_4E4B50((int)&String);
        v33 = TextOutA(hDC, x, y, &String, v32);
        sub_4E46A0(&v89 == &v89, v33, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        v34 = (int)&v89;
        v35 = SetTextColor(hDC, v110);
        sub_4E46A0(&v89 == &v89, v35, a1, (unsigned int)&v116, (int)&v89);
        for ( j = 0; j < 16; ++j )
        {
          v98 = &word_74F8198[26 * j];
          sub_4E3F40(a1, v34, (int)&v97, "%-4d ");
          for ( k = 0; k < 5; ++k )
          {
            v95 = &v98[4 * k + 1];
            sub_4E3F40(a1, v34, (int)&String, "  %-4d %2d %2d %2d %2d %2d %2d   ");
            sub_4E4730((int)&v97, (int)&String);
          }
          v36 = sub_4E4B50((int)&v97);
          v37 = TextOutA(hDC, x, y, &v97, v36);
          sub_4E46A0(&v89 == &v89, v37, a1, (unsigned int)&v116, (int)&v89);
          y += 16;
          if ( a2 )
            sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&v97);
          sub_4E3F40(
            a1,
            (int)&v89,
            (int)&String,
            "       %-5d                %-5d                %-5d                %-5d                %-5d");
          v38 = sub_4E4B50((int)&String);
          v34 = (int)&v89;
          v39 = TextOutA(hDC, x, y, &String, v38);
          sub_4E46A0(&v89 == &v89, v39, a1, (unsigned int)&v116, (int)&v89);
          y += 16;
          if ( a2 )
            sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        }
        v40 = SetTextColor(hDC, color);
        sub_4E46A0(&v89 == &v89, v40, a1, (unsigned int)&v116, (int)&v89);
        sub_4E3F40(a1, (int)&v89, (int)&String, "Rare Item Drop Settings:");
        v41 = sub_4E4B50((int)&String);
        v42 = TextOutA(hDC, x, y, &String, v41);
        sub_4E46A0(&v89 == &v89, v42, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        v43 = (int)&v89;
        v44 = SetTextColor(hDC, v110);
        sub_4E46A0(&v89 == &v89, v44, a1, (unsigned int)&v116, (int)&v89);
        for ( i = 0; i < 8; ++i )
        {
          v94 = &dword_74F91C0[5 * i];
          v93 = (int)((char *)&unk_74F91C8 + 20 * i);
          sub_4E3F40(a1, v43, (int)&String, "%-4d %-8d  %-4d   %-4d %-4d  %-4d %-4d  %-4d %-4d  x  %2d");
          v45 = sub_4E4B50((int)&String);
          v43 = (int)&v89;
          v46 = TextOutA(hDC, x, y, &String, v45);
          sub_4E46A0(&v89 == &v89, v46, a1, (unsigned int)&v116, (int)&v89);
          y += 16;
          if ( a2 )
            sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        }
        sub_4E3F40(a1, v43, (int)&String, "rare mode : %d  StopGoldCoin: %d  LocalServer : %d  Stop Quest : %d");
        v47 = sub_4E4B50((int)&String);
        v48 = TextOutA(hDC, x, y, &String, v47);
        sub_4E46A0(&v89 == &v89, v48, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        v49 = SetTextColor(hDC, color);
        sub_4E46A0(&v89 == &v89, v49, a1, (unsigned int)&v116, (int)&v89);
        sub_4E3F40(a1, (int)&v89, (int)&String, "Game Option Settings:");
        v50 = sub_4E4B50((int)&String);
        v51 = TextOutA(hDC, x, y, &String, v50);
        sub_4E46A0(&v89 == &v89, v51, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        v52 = SetTextColor(hDC, v110);
        sub_4E46A0(&v89 == &v89, v52, a1, (unsigned int)&v116, (int)&v89);
        sub_4E3F40(a1, (int)&v89, (int)&String, "NonePKServer: %d  GambleServer: %d KhepraOpen: %d");
        v53 = sub_4E4B50((int)&String);
        v54 = TextOutA(hDC, x, y, &String, v53);
        sub_4E46A0(&v89 == &v89, v54, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "ItemDestroy: %d ItemMaster: %d EXP_NOT_DOUBLE_ZONE: %d");
        v55 = sub_4E4B50((int)&String);
        v56 = TextOutA(hDC, x, y, &String, v55);
        sub_4E46A0(&v89 == &v89, v56, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "USE_GUILDWAR_MANTLE: %d USE_FREE_GAMBLE: %d  casinoticket: %d");
        v57 = sub_4E4B50((int)&String);
        v58 = TextOutA(hDC, x, y, &String, v57);
        sub_4E46A0(&v89 == &v89, v58, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "lottoTicket: %d maxlevel: %d createchar: %d");
        v59 = sub_4E4B50((int)&String);
        v60 = TextOutA(hDC, x, y, &String, v59);
        sub_4E46A0(&v89 == &v89, v60, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "8thskill: %d maxlevelticket: %d eventhour: %d");
        v61 = sub_4E4B50((int)&String);
        v62 = TextOutA(hDC, x, y, &String, v61);
        sub_4E46A0(&v89 == &v89, v62, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "duelletterlimit: %d %d");
        v63 = sub_4E4B50((int)&String);
        v64 = TextOutA(hDC, x, y, &String, v63);
        sub_4E46A0(&v89 == &v89, v64, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "TownTax: %I64d %I64d %I64d %I64d %I64d");
        v65 = sub_4E4B50((int)&String);
        v66 = TextOutA(hDC, x, y, &String, v65);
        sub_4E46A0(&v89 == &v89, v66, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "randomquiz: %d exp:%d coin:%d");
        v67 = sub_4E4B50((int)&String);
        v68 = TextOutA(hDC, x, y, &String, v67);
        sub_4E46A0(&v89 == &v89, v68, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "itemprice: %d %d sealofsoul:%d");
        v69 = sub_4E4B50((int)&String);
        v70 = TextOutA(hDC, x, y, &String, v69);
        sub_4E46A0(&v89 == &v89, v70, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "nightmare: %d blessmoney: %I64d");
        v71 = sub_4E4B50((int)&String);
        v72 = TextOutA(hDC, x, y, &String, v71);
        sub_4E46A0(&v89 == &v89, v72, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "addcrackerror: %d");
        v73 = sub_4E4B50((int)&String);
        v74 = TextOutA(hDC, x, y, &String, v73);
        sub_4E46A0(&v89 == &v89, v74, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "encode %d");
        v75 = sub_4E4B50((int)&String);
        v76 = TextOutA(hDC, x, y, &String, v75);
        sub_4E46A0(&v89 == &v89, v76, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "logdemon %s %s");
        v77 = sub_4E4B50((int)&String);
        v78 = TextOutA(hDC, x, y, &String, v77);
        sub_4E46A0(&v89 == &v89, v78, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "kingdomfield %d");
        v79 = sub_4E4B50((int)&String);
        v80 = TextOutA(hDC, x, y, &String, v79);
        sub_4E46A0(&v89 == &v89, v80, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "ItemDeleteMode %d");
        v81 = sub_4E4B50((int)&String);
        v82 = TextOutA(hDC, x, y, &String, v81);
        sub_4E46A0(&v89 == &v89, v82, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "GameBleMoney %d");
        v83 = sub_4E4B50((int)&String);
        v84 = TextOutA(hDC, x, y, &String, v83);
        sub_4E46A0(&v89 == &v89, v84, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        sub_4E3F40(a1, (int)&v89, (int)&String, "CreateHardCharactor %d");
        v85 = sub_4E4B50((int)&String);
        v86 = TextOutA(hDC, x, y, &String, v85);
        sub_4E46A0(&v89 == &v89, v86, a1, (unsigned int)&v116, (int)&v89);
        y += 16;
        if ( a2 )
          sub_4E5440(a1, (int)&v89, v103, (int)"%s\n", (unsigned int)&String);
        v87 = ReleaseDC(hWnd, hDC);
        v2 = sub_4E46A0(&v89 == &v89, v87, a1, (unsigned int)&v116, (int)&v89);
        if ( v103 )
          v2 = sub_4E4260(a1, (int)&v89, v103);
      }
    }
  }
  return sub_4E46A0(1, v2, v91, v89, v90);
}
// 54F8190: using guessed type int dword_54F8190;
// 74F8198: using guessed type __int16 word_74F8198[];
// 74F91C0: using guessed type int dword_74F91C0[];
// 750BA88: using guessed type __int64 qword_750BA88;
// 8C761C8: using guessed type __int64 qword_8C761C8;
// 8C76364: using guessed type int dword_8C76364;

//----- (00452FD0) --------------------------------------------------------
int __cdecl sub_452FD0()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-50h]@0
  int v3; // [sp+4h] [bp-4Ch]@0
  int v4; // [sp+8h] [bp-48h]@0
  char v5; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  v0 = -858993460;
  memset(&v5, -858993460, 0x44u);
  for ( i = 0; i < 64; ++i )
  {
    if ( !byte_74F8D98[16 * i] )
    {
      sub_4E4720((int)&byte_74F8D98[16 * i]);
      return sub_4E46A0(1, v0, v4, v2, v3);
    }
    v0 = i + 1;
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}

//----- (00453060) --------------------------------------------------------
int __cdecl sub_453060(int a1)
{
  char v2; // [sp+0h] [bp-54h]@0
  int v3; // [sp+4h] [bp-50h]@0
  int v4; // [sp+8h] [bp-4Ch]@0
  char v5; // [sp+Ch] [bp-48h]@1
  int i; // [sp+4Ch] [bp-8h]@1
  int v7; // [sp+50h] [bp-4h]@1

  memset(&v5, -858993460, 0x48u);
  v7 = 0;
  for ( i = 0; i < 64; ++i )
  {
    if ( byte_74F8D98[16 * i] )
    {
      if ( !sub_4E4D80((int)&byte_74F8D98[16 * i], a1) )
        ++v7;
    }
  }
  return sub_4E46A0(1, v7, v4, v2, v3);
}

//----- (00453110) --------------------------------------------------------
signed int __cdecl sub_453110(int a1)
{
  signed int result; // eax@2
  char v2; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@3

  memset(&v2, -858993460, 0x44u);
  if ( dword_5A0FB0 > 0 )
  {
    for ( i = 0; i < 4; ++i )
    {
      if ( *(_BYTE *)(a1 + 16 * i + 16)
        && *(_WORD *)(a1 + 28 * i + 80) >= dword_5A0FB0
        && (signed int)*(_WORD *)(a1 + 28 * i + 80) < 999 )
        return 1;
    }
    result = 0;
  }
  else
  {
    result = 1;
  }
  return result;
}
// 5A0FB0: using guessed type int dword_5A0FB0;

//----- (004531D0) --------------------------------------------------------
int __usercall sub_4531D0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, u_long hostlong, int a6)
{
  int v6; // eax@6
  int v7; // eax@11
  char v9; // [sp+0h] [bp-11Ch]@11
  int v10; // [sp+4h] [bp-118h]@19
  int v11; // [sp+8h] [bp-114h]@19
  char v12; // [sp+Ch] [bp-110h]@1
  int *v13; // [sp+4Ch] [bp-D0h]@14
  int v14; // [sp+50h] [bp-CCh]@11
  int v15; // [sp+54h] [bp-C8h]@11
  u_long v16; // [sp+58h] [bp-C4h]@1
  char v17; // [sp+60h] [bp-BCh]@11
  char v18; // [sp+80h] [bp-9Ch]@11
  char v19; // [sp+A0h] [bp-7Ch]@5
  char v20; // [sp+B8h] [bp-64h]@3
  char v21; // [sp+E0h] [bp-3Ch]@14
  char v22; // [sp+F9h] [bp-23h]@14
  u_long v23; // [sp+104h] [bp-18h]@5
  int v24; // [sp+11Ch] [bp+0h]@11

  memset(&v12, -858993460, 0x110u);
  sub_4014BA(1, a3, hostlong, 0, 0, a4);
  sub_4E4640(&v16, 0, 0xC4u);
  v16 = htonl(hostlong);
  if ( dword_752C484[790 * a3] != 1 || *(_BYTE *)(a4 + 1) == 95 )
    sub_4E4720((int)&v20);
  else
    sub_4E3F40(a1, a2, (int)&v20, "V_%s");
  sub_4E4720((int)&v19);
  v23 = htonl(0x19u);
  sub_4E4810(&v19, "TICT", 4u);
  if ( hostlong == 3 )
  {
    v6 = 1;
  }
  else
  {
    if ( hostlong != 1 && hostlong != 8 || !a6 && byte_752C3CC[3160 * a3] )
    {
      sub_4E4720((int)&v18);
      if ( !v18 )
      {
        Log("err,send bill session zero", &byte_752BAD8[3160 * a3], 0);
        v6 = 0;
        return sub_4E46A0(1, v6, v11, v9, v10);
      }
    }
    else
    {
      a2 = (int)&v9;
      v7 = timeGetTime();
      v15 = sub_4E46A0(&v9 == &v9, v7, a1, (unsigned int)&v24, (int)&v9);
      LOWORD(v14) = v15;
      sub_4E3F40(a1, (int)&v9, (int)&v18, "WYD_%4.4d%2.2d%2.2d_%2.2d%2.2d%2.2d_%4.4X_%4.4d_%1d");
      sub_4E4720((int)&byte_752C3CC[3160 * a3]);
      sub_4E4810(&v17, &dword_752C440[790 * a3], 0x10u);
    }
    v13 = &dword_752BAEC[790 * a3];
    sub_4E3F40(a1, a2, (int)&v21, "%d.%d.%d.%d");
    sub_4E4720((int)&v22);
    sub_4E4810(&v17, &unk_54EB288, 0x10u);
    sub_4010B9(&v16);
    if ( hostlong == 1 )
      dword_752C3C4[790 * a3] = 1;
    if ( hostlong == 2 )
    {
      dword_752C3C4[790 * a3] = 0;
      sub_4E4640(&byte_752C3CC[3160 * a3], 0, 0x20u);
    }
    v6 = 0;
  }
  return sub_4E46A0(1, v6, v11, v9, v10);
}
// 4010B9: using guessed type _DWORD __stdcall sub_4010B9(_DWORD);
// 4014BA: using guessed type _DWORD __cdecl sub_4014BA(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 752BAEC: using guessed type int dword_752BAEC[];
// 752C3C4: using guessed type int dword_752C3C4[];
// 752C440: using guessed type int dword_752C440[];
// 752C484: using guessed type int dword_752C484[];

//----- (004535B0) --------------------------------------------------------
int __usercall sub_4535B0<eax>(int a1<ebx>, int a2<esi>, int a3, u_long hostlong)
{
  char v5; // [sp+0h] [bp-78h]@0
  int v6; // [sp+4h] [bp-74h]@0
  int v7; // [sp+8h] [bp-70h]@0
  char v8; // [sp+Ch] [bp-6Ch]@1
  char v9; // [sp+4Ch] [bp-2Ch]@2
  char v10; // [sp+4Dh] [bp-2Bh]@2
  char v11; // [sp+4Eh] [bp-2Ah]@2
  char v12; // [sp+4Fh] [bp-29h]@2
  char v13; // [sp+50h] [bp-28h]@2
  int v14; // [sp+6Ch] [bp-Ch]@2
  u_long v15; // [sp+70h] [bp-8h]@2
  u_long v16; // [sp+74h] [bp-4h]@2
  int v17; // [sp+78h] [bp+0h]@2

  memset(&v8, -858993460, 0x6Cu);
  if ( dword_8C76318 )
  {
    v16 = ntohl(*(_DWORD *)(a3 + 4));
    v15 = ntohl(*(_DWORD *)(a3 + 192));
    v14 = 0;
    v9 = *(_BYTE *)(a3 + 65);
    v10 = *(_BYTE *)(a3 + 66);
    v11 = *(_BYTE *)(a3 + 67);
    v12 = *(_BYTE *)(a3 + 68);
    v13 = 0;
    sub_4E4340(a1, (int)&v17, a2, (int)&v9, "%d", (unsigned int)&v14);
    sub_4014BA(1, v14, hostlong, v15, v16, a3 + 96);
  }
  sub_4E4810((void *)(a3 + 8), &unk_54EB288, 0x10u);
  *(_DWORD *)a3 = htonl(hostlong);
  sub_4010B9(a3);
  return sub_4E46A0(1, 0, v7, v5, v6);
}
// 4010B9: using guessed type _DWORD __stdcall sub_4010B9(_DWORD);
// 4014BA: using guessed type _DWORD __cdecl sub_4014BA(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8C76318: using guessed type int dword_8C76318;

//----- (004536E0) --------------------------------------------------------
int __cdecl sub_4536E0(signed int a1, signed int a2, int a3, signed int a4, int a5)
{
  int v5; // eax@224
  int v6; // eax@301
  int v7; // eax@365
  signed int v8; // eax@387
  int v9; // edx@393
  char v11; // [sp+0h] [bp-E4h]@0
  int v12; // [sp+4h] [bp-E0h]@0
  int v13; // [sp+8h] [bp-DCh]@0
  char v14; // [sp+Ch] [bp-D8h]@1
  int v15; // [sp+4Ch] [bp-98h]@375
  int v16; // [sp+50h] [bp-94h]@370
  int i; // [sp+54h] [bp-90h]@368
  int v18; // [sp+58h] [bp-8Ch]@363
  int v19; // [sp+5Ch] [bp-88h]@363
  int v20; // [sp+60h] [bp-84h]@363
  int v21; // [sp+64h] [bp-80h]@363
  int v22; // [sp+68h] [bp-7Ch]@363
  int v23; // [sp+6Ch] [bp-78h]@363
  int v24; // [sp+70h] [bp-74h]@363
  int v25; // [sp+74h] [bp-70h]@317
  int v26; // [sp+78h] [bp-6Ch]@307
  int v27; // [sp+7Ch] [bp-68h]@307
  int v28; // [sp+80h] [bp-64h]@307
  int v29; // [sp+84h] [bp-60h]@307
  int v30; // [sp+88h] [bp-5Ch]@305
  bool v31; // [sp+8Ch] [bp-58h]@227
  bool v32; // [sp+90h] [bp-54h]@156
  int v33; // [sp+94h] [bp-50h]@102
  int v34; // [sp+98h] [bp-4Ch]@102
  int v35; // [sp+9Ch] [bp-48h]@102
  int v36; // [sp+A0h] [bp-44h]@90
  int v37; // [sp+A4h] [bp-40h]@88
  int v38; // [sp+A8h] [bp-3Ch]@33
  int v39; // [sp+ACh] [bp-38h]@33
  int v40; // [sp+B0h] [bp-34h]@33
  int v41; // [sp+B4h] [bp-30h]@33
  int v42; // [sp+B8h] [bp-2Ch]@33
  int v43; // [sp+BCh] [bp-28h]@17
  int v44; // [sp+C0h] [bp-24h]@15
  int v45; // [sp+C4h] [bp-20h]@15
  int v46; // [sp+C8h] [bp-1Ch]@15
  int v47; // [sp+CCh] [bp-18h]@15
  int v48; // [sp+D0h] [bp-14h]@15
  int v49; // [sp+D4h] [bp-10h]@7
  int v50; // [sp+D8h] [bp-Ch]@7
  int v51; // [sp+DCh] [bp-8h]@3
  int v52; // [sp+E0h] [bp-4h]@1

  memset(&v14, -858993460, 0xD8u);
  v52 = 0;
  if ( a4 >= 1000 )
  {
    v52 = a4 % 1000;
    a4 = 0;
  }
  v51 = a4 / 8;
  if ( a4 / 8 < 0 )
    v51 = 0;
  if ( v51 > 2 )
    v51 = 2;
  v50 = -1;
  v49 = -1;
  if ( (signed int)*(_BYTE *)(a1 + 2) >= 100 && (signed int)*(_BYTE *)(a1 + 2) <= 105 )
  {
    v50 = *(_BYTE *)(a1 + 2) - 100;
    v49 = *(_BYTE *)(a1 + 3);
    *(_BYTE *)(a1 + 2) = 0;
    *(_BYTE *)(a1 + 3) = 0;
  }
  if ( v52 > 100 )
    v50 = v52 - 100;
  dword_8C75EEC = 0;
  dword_8C75EE8 = 0;
  if ( !a3 && a2 >= 210 )
    a2 -= 47;
  v48 = *(_WORD *)a1;
  v47 = word_9CCCC4[70 * v48];
  v46 = word_9CCC86[70 * v48];
  v45 = word_9CCCC6[70 * v48];
  v44 = (a2 - v46) / 25;
  if ( v50 != -1 )
    v44 = v50;
  dword_1FDEC9C = v44;
  v43 = 0;
  if ( v44 >= 4 )
    v43 = 1;
  if ( v44 < 0 )
    v44 = 0;
  if ( v50 <= 4 )
  {
    if ( v44 > 4 )
      v44 = 4;
  }
  else
  {
    if ( v44 > 5 )
      v44 = 5;
  }
  if ( a3 && v44 >= 3 )
    v44 = 2;
  if ( v45 & 0xFE && !*(_BYTE *)(a1 + 2) && v45 != 128 )
  {
    v42 = 59;
    v41 = 0;
    v40 = 0;
    v39 = Rand()() % 101;
    v38 = 100;
    if ( a3 )
    {
      v38 = v39 % 3;
    }
    else
    {
      if ( v44 )
      {
        switch ( v44 )
        {
          case 1:
            v38 = v39 % (6 - v51);
            break;
          case 2:
            v38 = v39 % (6 - v51);
            break;
          case 3:
            v38 = v39 % 4;
            break;
        }
      }
      else
      {
        v38 = v39 % (8 - v51);
      }
      if ( v44 >= 4 )
        v38 = v39 % 2;
    }
    switch ( v45 )
    {
      case 2:
        if ( v38 )
        {
          if ( v38 == 1 )
          {
            v42 = 60;
            v40 = 2;
          }
        }
        else
        {
          v42 = 26;
          v40 = 3;
        }
        break;
      case 4:
        if ( a5 == 1 )
        {
          if ( v38 )
          {
            if ( v38 == 1 )
            {
              v42 = 3;
              v40 = 5;
            }
          }
          else
          {
            v42 = 71;
            v40 = 10;
            v41 = 1;
          }
        }
        else
        {
          v42 = 71;
          v40 = 10;
          v41 = 1;
        }
        break;
      case 8:
        if ( a5 == 1 )
        {
          if ( v38 )
          {
            if ( v38 == 1 )
            {
              v42 = 3;
              v40 = 5;
            }
          }
          else
          {
            v42 = 71;
            v40 = 10;
            v41 = 1;
          }
        }
        else
        {
          v42 = 71;
          v40 = 10;
          v41 = 1;
        }
        break;
      case 16:
        v42 = 72;
        v40 = 5;
        break;
      case 32:
        v42 = 73;
        v40 = 6;
        v41 = -1;
        break;
      case 64:
      case 192:
        if ( v47 != 44 && v47 != 47 )
        {
          if ( v38 )
          {
            if ( v38 == 1 )
            {
              v42 = 2;
              v40 = 9;
              v41 = -1;
            }
            else
            {
              if ( v38 == 2 )
              {
                v42 = 74;
                v40 = 3;
              }
            }
          }
          else
          {
            v42 = 26;
            v40 = 3;
            v41 = 1;
          }
        }
        else
        {
          if ( v38 )
          {
            if ( v38 == 1 )
            {
              v42 = 74;
              v40 = 3;
              v41 = 1;
            }
          }
          else
          {
            v42 = 60;
            v40 = 4;
            v41 = -1;
          }
        }
        break;
    }
    v37 = Rand()() % 100;
    if ( a3 )
      v37 = 2 * v37 / 3;
    v36 = 100;
    if ( a3 )
    {
      v36 = v37 % 4;
    }
    else
    {
      if ( v44 )
      {
        switch ( v44 )
        {
          case 1:
            v36 = v37 % 6;
            break;
          case 2:
            v36 = v37 % 6;
            break;
          case 3:
            v36 = v37 % 4;
            break;
          default:
            if ( v44 >= 4 )
              v36 = v37 % 3;
            break;
        }
      }
      else
      {
        v36 = v37 % 8;
      }
    }
    v35 = 59;
    v34 = 0;
    v33 = 0;
    switch ( v45 )
    {
      case 2:
        if ( v36 )
        {
          if ( v36 == 1 )
          {
            v35 = 3;
            v34 = 5;
            v33 = -1;
          }
        }
        else
        {
          v35 = 4;
          v34 = 10;
        }
        break;
      case 4:
        if ( v36 )
        {
          if ( v36 == 1 )
          {
            v35 = 2;
            v34 = 6;
            v33 = -1;
          }
          else
          {
            if ( v36 == 2 )
            {
              v35 = 3;
              v34 = 5;
              v33 = -1;
            }
          }
        }
        else
        {
          v35 = 60;
          v34 = 2;
          v33 = -1;
        }
        break;
      case 8:
        if ( v36 )
        {
          if ( v36 == 1 )
          {
            v35 = 2;
            v34 = 6;
            v33 = -1;
          }
          else
          {
            if ( v36 == 2 )
            {
              v35 = 3;
              v34 = 5;
              v33 = -1;
            }
          }
        }
        else
        {
          v35 = 60;
          v34 = 2;
          v33 = -1;
        }
        break;
      case 16:
        if ( v36 )
        {
          switch ( v36 )
          {
            case 1:
              v35 = 2;
              v34 = 6;
              v33 = -1;
              break;
            case 2:
              v35 = 74;
              v34 = 3;
              break;
            case 3:
              v35 = 54;
              v34 = 3;
              break;
          }
        }
        else
        {
          v35 = 60;
          v34 = 2;
          v33 = -1;
        }
        break;
      case 32:
        if ( v36 )
        {
          if ( v36 == 1 )
          {
            v35 = 74;
            v34 = 3;
          }
        }
        else
        {
          v35 = 60;
          v34 = 2;
          v33 = -1;
        }
        break;
      case 64:
      case 128:
      case 192:
        if ( v47 != 44 && v47 != 47 )
        {
          if ( v36 )
          {
            if ( v36 == 1 )
            {
              v35 = 2;
              v34 = 9;
              v33 = -1;
            }
            else
            {
              if ( v36 == 2 )
              {
                v35 = 74;
                v34 = 3;
                v33 = 1;
              }
            }
          }
          else
          {
            v35 = 26;
            v34 = 3;
            v33 = 1;
          }
        }
        else
        {
          if ( v36 )
          {
            if ( v36 == 1 )
            {
              v35 = 74;
              v34 = 3;
              v33 = 1;
            }
          }
          else
          {
            v35 = 60;
            v34 = 4;
            v33 = -1;
          }
        }
        break;
    }
    v32 = 0;
    v39 = Rand()() % 100;
    if ( v44 )
    {
      switch ( v44 )
      {
        case 1:
          if ( v39 >= 0 )
          {
            if ( v39 >= 4 )
            {
              if ( v39 >= 24 )
              {
                if ( v39 >= 65 )
                  v32 = 1;
                else
                  v32 = 2;
              }
              else
              {
                v32 = 3;
              }
            }
            else
            {
              v32 = 4;
            }
          }
          else
          {
            v32 = 5;
          }
          break;
        case 2:
          if ( v39 >= 0 )
          {
            if ( v39 >= 14 )
            {
              if ( v39 >= 60 )
                v32 = 2;
              else
                v32 = 3;
            }
            else
            {
              v32 = 4;
            }
          }
          else
          {
            v32 = 5;
          }
          break;
        case 3:
          if ( v39 >= 9 )
          {
            if ( v39 >= 50 )
            {
              if ( v39 >= 90 )
                v32 = 3;
              else
                v32 = 4;
            }
            else
            {
              v32 = 5;
            }
          }
          else
          {
            v32 = 6;
          }
          break;
        case 4:
          if ( v39 >= 25 )
            v32 = 5;
          else
            v32 = 6;
          break;
        default:
          if ( v44 >= 5 )
            v32 = 6;
          break;
      }
    }
    else
    {
      if ( v39 >= 2 )
      {
        if ( v39 >= 6 )
        {
          if ( v39 >= 24 )
            v32 = v39 < 55;
          else
            v32 = 2;
        }
        else
        {
          v32 = 3;
        }
      }
      else
      {
        v32 = 4;
      }
    }
    if ( v43 && v32 < 4 )
      v32 = 4;
    if ( v44 >= 3 && (v45 == 64 || v45 == 128 || v45 == 192) && (v42 == 2 || v42 == 60) )
      v41 = -2;
    v32 += v41;
    if ( a3 && !v32 )
      v32 = 1;
    if ( *(_BYTE *)(a1 + 4) || v32 <= 0 )
    {
      if ( *(_BYTE *)(a1 + 4) || v32 > 0 || v45 != 32 )
      {
        if ( !*(_BYTE *)(a1 + 4) )
        {
          *(_BYTE *)(a1 + 4) = 59;
          v5 = Rand()() & 0x8000007F;
          if ( v5 < 0 )
            LOBYTE(v5) = ((unsigned __int8)(v5 - 1) | 0x80) + 1;
          *(_BYTE *)(a1 + 5) = v5;
        }
      }
      else
      {
        *(_BYTE *)(a1 + 4) = v42;
        *(_BYTE *)(a1 + 5) = 0;
      }
    }
    else
    {
      *(_BYTE *)(a1 + 4) = v42;
      *(_BYTE *)(a1 + 5) = v40 * v32;
    }
    dword_8C75EEC = v32;
    v31 = 0;
    v37 = Rand()() % 100;
    if ( v44 )
    {
      switch ( v44 )
      {
        case 1:
          if ( v37 >= 1 )
          {
            if ( v37 >= 5 )
            {
              if ( v37 >= 24 )
              {
                if ( v37 >= 65 )
                  v31 = 1;
                else
                  v31 = 2;
              }
              else
              {
                v31 = 3;
              }
            }
            else
            {
              v31 = 4;
            }
          }
          else
          {
            v31 = 5;
          }
          break;
        case 2:
          if ( v37 >= 2 )
          {
            if ( v37 >= 16 )
            {
              if ( v37 >= 60 )
                v31 = 2;
              else
                v31 = 3;
            }
            else
            {
              v31 = 4;
            }
          }
          else
          {
            v31 = 5;
          }
          break;
        case 3:
          if ( v37 >= 9 )
          {
            if ( v37 >= 45 )
              v31 = 4;
            else
              v31 = 5;
          }
          else
          {
            v31 = 6;
          }
          break;
        case 4:
          if ( v37 >= 5 )
          {
            if ( v37 >= 55 )
              v31 = 4;
            else
              v31 = 5;
          }
          else
          {
            v31 = 6;
          }
          break;
        default:
          if ( v44 >= 5 )
          {
            if ( v37 < 25 )
              v31 = 6;
            if ( v37 >= 65 )
              v31 = 4;
            else
              v31 = 5;
          }
          break;
      }
    }
    else
    {
      if ( v39 >= 2 )
      {
        if ( v37 >= 6 )
        {
          if ( v37 >= 24 )
            v31 = v37 < 55;
          else
            v31 = 2;
        }
        else
        {
          v31 = 3;
        }
      }
      else
      {
        v32 = 4;
      }
    }
    if ( v43 && v31 < 3 )
      v31 = 3;
    if ( v44 >= 3 && (v45 == 64 || v45 == 128 || v45 == 192) && (v35 == 2 || v35 == 60) )
      v33 = -2;
    if ( a3 && v31 >= 5 )
      v31 = 4;
    v31 += v33;
    if ( v51 && !v31 )
      v31 = v51;
    if ( a3 && !v31 )
      v31 = 1;
    if ( v31 <= 0 || *(_BYTE *)(a1 + 6) )
    {
      if ( !*(_BYTE *)(a1 + 6) )
      {
        *(_BYTE *)(a1 + 6) = 59;
        v6 = Rand()() & 0x8000007F;
        if ( v6 < 0 )
          LOBYTE(v6) = ((unsigned __int8)(v6 - 1) | 0x80) + 1;
        *(_BYTE *)(a1 + 7) = v6;
      }
    }
    else
    {
      *(_BYTE *)(a1 + 6) = v35;
      *(_BYTE *)(a1 + 7) = v34 * v31;
    }
    dword_8C75EE8 = v31;
    if ( !*(_BYTE *)(a1 + 2) )
    {
      v30 = Rand()() % 100;
      if ( a3 )
        v30 /= 2;
      v29 = 1;
      v28 = 12;
      v27 = 45;
      v26 = 70;
      if ( v44 >= 3 )
      {
        v29 = 6;
        v28 = 35;
        v27 = 85;
        v26 = 100;
      }
      if ( v44 == 2 )
      {
        v29 = 6;
        v28 = 35;
        v27 = 85;
        v26 = 100;
      }
      if ( v44 == 1 )
      {
        v29 = 6;
        v28 = 22;
        v27 = 75;
        v26 = 90;
      }
      if ( !v44 )
      {
        v29 = 6;
        v28 = 22;
        v27 = 75;
        v26 = 90;
      }
      if ( v30 >= v29 )
      {
        if ( v30 >= v28 )
        {
          if ( v30 >= v27 )
          {
            if ( v30 >= v26 )
            {
              *(_BYTE *)(a1 + 2) = 59;
              v7 = Rand()() & 0x8000007F;
              if ( v7 < 0 )
                LOBYTE(v7) = ((unsigned __int8)(v7 - 1) | 0x80) + 1;
              *(_BYTE *)(a1 + 3) = v7;
            }
            else
            {
              if ( !dword_8C762D4 )
              {
                v24 = Rand()() % 10;
                v23 = dword_597F00[v24];
                v22 = v44;
                v21 = *(&dword_597D70[20 * v44] + 2 * v24);
                v20 = *(&dword_597D74[20 * v44] + 2 * v24);
                v19 = v20 + 1 - v21;
                v18 = Rand()() % v19 + v21;
                *(_BYTE *)(a1 + 2) = v23;
                *(_BYTE *)(a1 + 3) = v18;
              }
            }
          }
          else
          {
            *(_BYTE *)(a1 + 2) = 43;
            *(_BYTE *)(a1 + 3) = 0;
          }
        }
        else
        {
          *(_BYTE *)(a1 + 2) = 43;
          *(_BYTE *)(a1 + 3) = 1;
        }
      }
      else
      {
        *(_BYTE *)(a1 + 2) = 43;
        *(_BYTE *)(a1 + 3) = 2;
        if ( v49 > 2 )
        {
          v25 = Rand()() % 100;
          switch ( v49 )
          {
            case 3:
              if ( v25 < 30 )
                *(_BYTE *)(a1 + 3) = 3;
              break;
            case 4:
              if ( v25 >= 10 )
              {
                if ( v25 < 40 )
                  *(_BYTE *)(a1 + 3) = 3;
              }
              else
              {
                *(_BYTE *)(a1 + 3) = 4;
              }
              break;
            case 5:
              if ( v25 >= 10 )
              {
                if ( v25 >= 30 )
                {
                  if ( v25 < 60 )
                    *(_BYTE *)(a1 + 3) = 3;
                }
                else
                {
                  *(_BYTE *)(a1 + 3) = 4;
                }
              }
              else
              {
                *(_BYTE *)(a1 + 3) = 5;
              }
              break;
            case 6:
              if ( v25 >= 10 )
              {
                if ( v25 >= 20 )
                {
                  if ( v25 >= 40 )
                  {
                    if ( v25 < 60 )
                      *(_BYTE *)(a1 + 3) = 3;
                  }
                  else
                  {
                    *(_BYTE *)(a1 + 3) = 4;
                  }
                }
                else
                {
                  *(_BYTE *)(a1 + 3) = 5;
                }
              }
              else
              {
                *(_BYTE *)(a1 + 3) = 6;
              }
              break;
            case 7:
              if ( v25 >= 4 )
              {
                if ( v25 >= 10 )
                {
                  if ( v25 >= 20 )
                  {
                    if ( v25 >= 35 )
                    {
                      if ( v25 < 60 )
                        *(_BYTE *)(a1 + 3) = 3;
                    }
                    else
                    {
                      *(_BYTE *)(a1 + 3) = 4;
                    }
                  }
                  else
                  {
                    *(_BYTE *)(a1 + 3) = 5;
                  }
                }
                else
                {
                  *(_BYTE *)(a1 + 3) = 6;
                }
              }
              else
              {
                *(_BYTE *)(a1 + 3) = 7;
              }
              break;
          }
        }
      }
    }
  }
  for ( i = 0; i < 12; ++i )
  {
    v16 = word_9CCC86[70 * v48];
    switch ( *(&word_9CCC90[70 * v48] + 2 * i) )
    {
      case 43:
        *(_BYTE *)(a1 + 2) = 43;
        *(_BYTE *)(a1 + 3) = *((_BYTE *)&word_9CCC92[70 * v48] + 4 * i);
        break;
      case 61:
        *(_BYTE *)(a1 + 2) = 61;
        *(_BYTE *)(a1 + 3) = *((_BYTE *)&word_9CCC92[70 * v48] + 4 * i);
        break;
      case 78:
        *(_BYTE *)(a1 + 2) = 78;
        v15 = Rand()() % 4 + *(&word_9CCC92[70 * v48] + 2 * i);
        if ( v15 > 9 )
          v15 = 9;
        *(_BYTE *)(a1 + 3) = v15;
        break;
      case 106:
        *(_BYTE *)(a1 + 2) = 106;
        *(_BYTE *)(a1 + 3) = *((_BYTE *)&word_9CCC92[70 * v48] + 4 * i);
        break;
      case 107:
        *(_BYTE *)(a1 + 4) = 107;
        *(_BYTE *)(a1 + 5) = *((_BYTE *)&word_9CCC92[70 * v48] + 4 * i);
        break;
      case 108:
        *(_BYTE *)(a1 + 6) = 108;
        *(_BYTE *)(a1 + 7) = *((_BYTE *)&word_9CCC92[70 * v48] + 4 * i);
        break;
    }
  }
  if ( (signed int)*(_WORD *)a1 >= 447 && (signed int)*(_WORD *)a1 <= 450
    || (v8 = a1, (signed int)*(_WORD *)a1 >= 692) && (v8 = *(_WORD *)a1, v8 <= 695)
    || *(_WORD *)a1 == 753 )
  {
    if ( !*(_BYTE *)(a1 + 2) )
    {
      *(_BYTE *)(a1 + 2) = 59;
      *(_BYTE *)(a1 + 3) = Rand()();
    }
    v8 = *(_BYTE *)(a1 + 4);
    if ( !*(_BYTE *)(a1 + 4) )
    {
      *(_BYTE *)(a1 + 4) = 59;
      v9 = (char)Rand()() & 0x800000FF;
      v8 = a1;
      *(_BYTE *)(a1 + 5) = v9;
    }
    if ( !*(_BYTE *)(a1 + 6) )
    {
      *(_BYTE *)(a1 + 6) = 59;
      v8 = Rand()();
      *(_BYTE *)(a1 + 7) = v8;
    }
  }
  return sub_4E46A0(1, v8, v13, v11, v12);
}
// 597D70: using guessed type int dword_597D70[];
// 597D74: using guessed type int dword_597D74[];
// 597F00: using guessed type int dword_597F00[];
// 9CCC86: using guessed type __int16 word_9CCC86[];
// 9CCC90: using guessed type __int16 word_9CCC90[];
// 9CCC92: using guessed type __int16 word_9CCC92[];
// 9CCCC4: using guessed type __int16 word_9CCCC4[];
// 9CCCC6: using guessed type __int16 word_9CCCC6[];
// 1FDEC9C: using guessed type int dword_1FDEC9C;
// 8C75EE8: using guessed type int dword_8C75EE8;
// 8C75EEC: using guessed type int dword_8C75EEC;
// 8C762D4: using guessed type int dword_8C762D4;

//----- (00454DB0) --------------------------------------------------------
int __usercall sub_454DB0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@4
  char v4; // [sp+0h] [bp-264h]@0
  int v5; // [sp+4h] [bp-260h]@0
  int v6; // [sp+8h] [bp-25Ch]@0
  char v7; // [sp+Ch] [bp-258h]@1
  int v8; // [sp+4Ch] [bp-218h]@13
  int i; // [sp+50h] [bp-214h]@10
  int v10; // [sp+54h] [bp-210h]@9
  int v11; // [sp+58h] [bp-20Ch]@6
  char v12; // [sp+5Ch] [bp-208h]@6
  int v13; // [sp+15Ch] [bp-108h]@5
  int v14; // [sp+160h] [bp-104h]@1
  char v15; // [sp+164h] [bp-100h]@1

  memset(&v7, -858993460, 0x258u);
  sub_4E3F40(a1, a2, (int)&v15, "S:/Settings/RandomQuiz.txt");
  v14 = sub_4E4620(a1, a2, &v15, (int)"rt");
  if ( !v14 )
    v14 = sub_4E4620(a1, a2, "RandomQuiz.txt", (int)"rt");
  if ( v14 )
  {
    dword_8C75F68 = 0;
    sub_4E4640(byte_54F2988, 0, 0x5780u);
    v13 = 0;
    while ( 1 )
    {
      sub_4E4640(&v12, 0, 4u);
      v11 = sub_4E4400(a1, a2, (int)&v12, 255, v14);
      if ( !v11 )
        break;
      ++v13;
      if ( v12 == 35 )
      {
        v11 = sub_4E4400(a1, a2, (int)&v12, 255, v14);
        if ( !v11 )
          break;
        ++v13;
        v10 = sub_4E4B50((int)&v12);
        if ( v10 < 96 )
        {
          sub_4E4720((int)&byte_54F2988[224 * dword_8C75F68]);
          *(&byte_54F2988[224 * dword_8C75F68] + v10) = 0;
          *(&byte_54F2987[224 * dword_8C75F68] + v10) = 0;
          for ( i = 0; i < 4; ++i )
          {
            v11 = sub_4E4400(a1, a2, (int)&v12, 255, v14);
            if ( !v11 )
              break;
            ++v13;
            v8 = sub_4E4B50((int)&v12);
            if ( v8 >= 32 )
              break;
            sub_4E4720((int)(&byte_54F29E8[224 * dword_8C75F68] + 32 * i));
            *(&byte_54F29E8[224 * dword_8C75F68] + 32 * i + v8) = 0;
            *(&byte_54F29E8[224 * dword_8C75F68 - 1] + 32 * i + v8) = 0;
          }
          if ( i == 4 )
            ++dword_8C75F68;
          if ( dword_8C75F68 >= 100 )
            break;
        }
      }
    }
    v2 = sub_4E4260(a1, a2, v14);
  }
  else
  {
    v2 = Log("err,Reading Random Quiz error - can't open RandomQuiz.txt", "-system", 0);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 8C75F68: using guessed type int dword_8C75F68;

//----- (004551A0) --------------------------------------------------------
int __usercall sub_4551A0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@7
  char v4; // [sp+0h] [bp-154h]@0
  int v5; // [sp+4h] [bp-150h]@0
  int v6; // [sp+8h] [bp-14Ch]@0
  char v7; // [sp+Ch] [bp-148h]@1
  int v8; // [sp+4Ch] [bp-108h]@4
  char v9; // [sp+50h] [bp-104h]@4
  int i; // [sp+150h] [bp-4h]@1
  int v11; // [sp+154h] [bp+0h]@11

  memset(&v7, -858993460, 0x148u);
  for ( i = 0; i < 5; ++i )
    dword_594E20[21 * i] = 0;
  dword_5A1064 = 1;
  sub_4E3F40(a1, a2, (int)&v9, "S:/Settings/Guild_%2.2d_%2.2d.txt");
  v8 = sub_4E4620(a1, a2, &v9, (int)"rt");
  if ( !v8 )
    v8 = sub_4E4620(a1, a2, "Guild.txt", (int)"rt");
  if ( v8 )
  {
    for ( i = 0; i < 5; ++i )
    {
      dword_594DD0[21 * i] = 0;
      dword_594DD4[21 * i] = 0;
    }
    sub_4E7990(a1, (int)&v11, a2, v8, "%d", (unsigned int)&dword_5A1064);
    for ( i = 0; i < 5; ++i )
      sub_4E7990(a1, (int)&v11, a2, v8, "%d", (unsigned int)dword_594DD0 + 84 * i);
    for ( i = 0; i < 5; ++i )
      sub_4E7990(a1, (int)&v11, a2, v8, "%d", (unsigned int)dword_594DD4 + 84 * i);
    for ( i = 0; i < 5; ++i )
    {
      sub_4E7990(a1, (int)&v11, a2, v8, "%d", (unsigned int)dword_594E18 + 84 * i);
      if ( dword_594E18[21 * i] < 0 || dword_594E18[21 * i] > 30 )
        dword_594E18[21 * i] = 10;
    }
    for ( i = 0; i < 5; ++i )
      sub_4E7990(a1, (int)&v11, a2, v8, "%d", (unsigned int)dword_594E1C + 84 * i);
    for ( i = 0; i < 5; ++i )
      sub_4E7990(a1, (int)&v11, a2, v8, "%d", (unsigned int)dword_594E20 + 84 * i);
    for ( i = 0; i < 5; ++i )
      sub_4E7990(a1, (int)&v11, a2, v8, "%d", (unsigned int)dword_88634F0 + 4 * i);
    for ( i = 0; i < 10; ++i )
      sub_4E7990(a1, (int)&v11, a2, v8, "%d", (unsigned int)dword_750BA90 + 4 * i);
    v2 = sub_4E4260(a1, a2, v8);
    if ( !dword_5A1064 )
      v2 = Log("err,Reading Guild error - Guild counter zero", "-system", 0);
  }
  else
  {
    v2 = Log("err,Reading Guild error - can't open Guild.txt", "-system", 0);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 594DD0: using guessed type int dword_594DD0[];
// 594DD4: using guessed type int dword_594DD4[];
// 594E18: using guessed type int dword_594E18[];
// 594E1C: using guessed type int dword_594E1C[];
// 594E20: using guessed type int dword_594E20[];
// 5A1064: using guessed type int dword_5A1064;
// 750BA90: using guessed type int dword_750BA90[];
// 88634F0: using guessed type int dword_88634F0[];

//----- (004555A0) --------------------------------------------------------
int __usercall sub_4555A0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-154h]@0
  char v5; // [sp+0h] [bp-154h]@6
  char v6; // [sp+0h] [bp-154h]@9
  char v7; // [sp+0h] [bp-154h]@12
  char v8; // [sp+0h] [bp-154h]@15
  char v10; // [sp+0h] [bp-154h]@29
  char v11; // [sp+0h] [bp-154h]@32
  char v12; // [sp+0h] [bp-154h]@35
  char v13; // [sp+0h] [bp-154h]@38
  int v15; // [sp+4h] [bp-150h]@0
  int v16; // [sp+8h] [bp-14Ch]@0
  char v17; // [sp+Ch] [bp-148h]@1
  char v18; // [sp+4Ch] [bp-108h]@24
  int v19; // [sp+14Ch] [bp-8h]@1
  int i; // [sp+150h] [bp-4h]@3

  memset(&v17, -858993460, 0x148u);
  v19 = sub_4E4620(a1, a2, "Guild.txt", (int)"wt");
  if ( v19 )
  {
    sub_4E5440(a1, a2, v19, (int)"%d", dword_5A1064);
    for ( i = 0; i < 5; ++i )
      sub_4E5440(a1, a2, v19, (int)" %d", dword_594DD0[21 * i]);
    sub_4E5440(a1, a2, v19, (int)"\n", v4);
    for ( i = 0; i < 5; ++i )
      sub_4E5440(a1, a2, v19, (int)" %d", dword_594DD4[21 * i]);
    sub_4E5440(a1, a2, v19, (int)"\n", v5);
    for ( i = 0; i < 5; ++i )
      sub_4E5440(a1, a2, v19, (int)" %d", dword_594E18[21 * i]);
    sub_4E5440(a1, a2, v19, (int)"\n", v6);
    for ( i = 0; i < 5; ++i )
      sub_4E5440(a1, a2, v19, (int)" %d", dword_594E1C[21 * i]);
    sub_4E5440(a1, a2, v19, (int)"\n", v7);
    for ( i = 0; i < 5; ++i )
      sub_4E5440(a1, a2, v19, (int)" %d", dword_594E20[21 * i]);
    sub_4E5440(a1, a2, v19, (int)"\n", v8);
    for ( i = 0; i < 5; ++i )
      sub_4E5440(a1, a2, v19, (int)" %d", dword_88634F0[i]);
    sub_4E5440(a1, a2, v19, (int)"\n", v4);
    for ( i = 0; i < 10; ++i )
      sub_4E5440(a1, a2, v19, (int)" %d", dword_750BA90[i]);
    sub_4E4260(a1, a2, v19);
    sub_4E3F40(a1, a2, (int)&v18, "S:/Settings/Guild_%2.2d_%2.2d.txt");
    v19 = sub_4E4620(a1, a2, &v18, (int)"wt");
    if ( v19 )
    {
      sub_4E5440(a1, a2, v19, (int)"%d", dword_5A1064);
      for ( i = 0; i < 5; ++i )
        sub_4E5440(a1, a2, v19, (int)" %d", dword_594DD0[21 * i]);
      sub_4E5440(a1, a2, v19, (int)"\n", v4);
      for ( i = 0; i < 5; ++i )
        sub_4E5440(a1, a2, v19, (int)" %d", dword_594DD4[21 * i]);
      sub_4E5440(a1, a2, v19, (int)"\n", v10);
      for ( i = 0; i < 5; ++i )
        sub_4E5440(a1, a2, v19, (int)" %d", dword_594E18[21 * i]);
      sub_4E5440(a1, a2, v19, (int)"\n", v11);
      for ( i = 0; i < 5; ++i )
        sub_4E5440(a1, a2, v19, (int)" %d", dword_594E1C[21 * i]);
      sub_4E5440(a1, a2, v19, (int)"\n", v12);
      for ( i = 0; i < 5; ++i )
        sub_4E5440(a1, a2, v19, (int)" %d", dword_594E20[21 * i]);
      sub_4E5440(a1, a2, v19, (int)"\n", v13);
      for ( i = 0; i < 5; ++i )
        sub_4E5440(a1, a2, v19, (int)" %d", dword_88634F0[i]);
      sub_4E5440(a1, a2, v19, (int)"\n", v4);
      for ( i = 0; i < 10; ++i )
        sub_4E5440(a1, a2, v19, (int)" %d", dword_750BA90[i]);
      v2 = sub_4E4260(a1, a2, v19);
    }
    else
    {
      v2 = Log("err,Writing Guild error - can't open Guild.txt(:S)", "-system", 0);
    }
  }
  else
  {
    v2 = Log("err,Writing Guild error - can't open Guild.txt(Local)", "-system", 0);
  }
  return sub_4E46A0(1, v2, v16, v4, v15);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 594DD0: using guessed type int dword_594DD0[];
// 594DD4: using guessed type int dword_594DD4[];
// 594E18: using guessed type int dword_594E18[];
// 594E1C: using guessed type int dword_594E1C[];
// 594E20: using guessed type int dword_594E20[];
// 5A1064: using guessed type int dword_5A1064;
// 750BA90: using guessed type int dword_750BA90[];
// 88634F0: using guessed type int dword_88634F0[];

//----- (00455BB0) --------------------------------------------------------
int __usercall sub_455BB0<eax>(int a1<ebx>, int a2<esi>, int a3, signed int a4)
{
  int v4; // eax@3
  char v6; // [sp+0h] [bp-A4h]@0
  int v7; // [sp+4h] [bp-A0h]@0
  int v8; // [sp+8h] [bp-9Ch]@0
  char v9; // [sp+Ch] [bp-98h]@1
  int v10; // [sp+4Ch] [bp-58h]@42
  int v11; // [sp+50h] [bp-54h]@42
  int v12; // [sp+54h] [bp-50h]@42
  int v13; // [sp+58h] [bp-4Ch]@33
  int v14; // [sp+5Ch] [bp-48h]@33
  int v15; // [sp+60h] [bp-44h]@33
  int v16; // [sp+64h] [bp-40h]@29
  int v17; // [sp+68h] [bp-3Ch]@27
  int v18; // [sp+6Ch] [bp-38h]@27
  int v19; // [sp+70h] [bp-34h]@27
  int v20; // [sp+74h] [bp-30h]@24
  int v21; // [sp+78h] [bp-2Ch]@24
  int v22; // [sp+7Ch] [bp-28h]@24
  int i; // [sp+80h] [bp-24h]@17
  int v24; // [sp+84h] [bp-20h]@17
  int v25; // [sp+88h] [bp-1Ch]@17
  int v26; // [sp+8Ch] [bp-18h]@17
  int v27; // [sp+90h] [bp-14h]@17
  int v28; // [sp+94h] [bp-10h]@17
  int v29; // [sp+98h] [bp-Ch]@14
  int v30; // [sp+9Ch] [bp-8h]@4
  int v31; // [sp+A0h] [bp-4h]@4

  memset(&v9, -858993460, 0x98u);
  if ( a4 >= 1000 && a4 < 12800 )
  {
    v31 = word_1FDECC4[862 * a4];
    v30 = (unsigned __int16)word_1FDECB2[862 * a3];
    if ( v31 >= 0 && v31 < dword_5A10F0 )
    {
      if ( v31 == 4 )
      {
        v4 = 0;
      }
      else
      {
        if ( byte_1FDEF8C[1724 * a3] )
        {
          if ( byte_1FDECB0[1724 * a3] == 7 || byte_1FDECB0[1724 * a3] == 8 )
          {
            v29 = sub_40109B(a3);
            if ( v29 )
            {
              if ( v29 == dword_5A1054 + 1 )
              {
                v19 = (unsigned __int16)word_1FDECB2[862 * a3];
                v18 = v19 >> 12;
                v17 = v19 & 0xFFF;
                if ( v29 != *(&byte_88B5F1D[245760 * (v19 >> 12)] + 60 * v17) )
                {
                  sub_401BB3(a4, &unk_8A7644);
                  v4 = 0;
                  return sub_4E46A0(1, v4, v8, v6, v7);
                }
                v16 = *(&dword_88B5F20[61440 * v18] + 15 * v17);
                if ( v16 < 100 )
                {
                  sub_401BB3(a4, &unk_8A7644);
                  v4 = 0;
                  return sub_4E46A0(1, v4, v8, v6, v7);
                }
              }
              else
              {
                v28 = 0;
                v27 = 0;
                v26 = dword_5A1054 + 1;
                v25 = 0;
                v24 = 0;
                for ( i = 0; i < 5; ++i )
                {
                  if ( v29 == dword_88634F0[i] )
                    ++v25;
                }
                if ( !v25 )
                {
                  sub_401BB3(a4, &unk_8A7644);
                  v4 = 0;
                  return sub_4E46A0(1, v4, v8, v6, v7);
                }
                v22 = v30 >> 12;
                v21 = v30 & 0xFFF;
                v20 = *(&dword_88B5F20[61440 * (v30 >> 12)] + 15 * (v30 & 0xFFF));
                if ( v20 < 1000 )
                {
                  sub_401BB3(a4, &unk_8A7644);
                  v4 = 0;
                  return sub_4E46A0(1, v4, v8, v6, v7);
                }
              }
              if ( dword_594DD0[21 * v31] == v30 )
              {
                sub_401BB3(a4, &unk_8A7444);
                v4 = 0;
              }
              else
              {
                v15 = 1;
                v14 = v30 >> 12;
                v13 = v30 & 0xFFF;
                if ( v30 >> 12 >= 0 && v14 < 16 && v13 >= 0 && v13 < 4096 )
                {
                  if ( !(&byte_88B5EEC[245760 * v14] + 60 * v13) )
                    v15 = 0;
                }
                else
                {
                  v15 = 0;
                }
                if ( v15 )
                {
                  sub_401C03(v30, -100);
                  sub_401B63(a3, &unk_8A76C4);
                  sub_4E3F40(a1, a2, (int)&String, "gld,%s,current:%d-%d");
                  Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
                  v12 = v30 >> 12;
                  v11 = v30 & 0xFFF;
                  v10 = *(&dword_88B5F20[61440 * (v30 >> 12)] + 15 * (v30 & 0xFFF));
                  if ( v10 >= dword_34EA4EC[v31] )
                  {
                    dword_594DD4[21 * v31] = v30;
                    dword_34EA4EC[v31] = v10;
                    sub_40110E();
                    sub_401BA4();
                  }
                  v4 = 1;
                }
                else
                {
                  sub_401BB3(a4, &unk_8ABE44);
                  v4 = 0;
                }
              }
            }
            else
            {
              v4 = 0;
            }
          }
          else
          {
            sub_401BB3(a4, &unk_8B2BC4);
            v4 = 0;
          }
        }
        else
        {
          sub_401BB3(a4, &unk_8A73C4);
          v4 = 0;
        }
      }
    }
    else
    {
      v4 = 0;
    }
  }
  else
  {
    v4 = 0;
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 40109B: using guessed type _DWORD __cdecl sub_40109B(_DWORD);
// 40110E: using guessed type int sub_40110E(void);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 401BA4: using guessed type int sub_401BA4(void);
// 401BB3: using guessed type _DWORD __cdecl sub_401BB3(_DWORD, _DWORD);
// 401C03: using guessed type _DWORD __cdecl sub_401C03(_DWORD, _DWORD);
// 594DD0: using guessed type int dword_594DD0[];
// 594DD4: using guessed type int dword_594DD4[];
// 5A1054: using guessed type int dword_5A1054;
// 5A10F0: using guessed type int dword_5A10F0;
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 34EA4EC: using guessed type int dword_34EA4EC[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 88634F0: using guessed type int dword_88634F0[];
// 88B5F20: using guessed type int dword_88B5F20[];

//----- (004560E0) --------------------------------------------------------
int __cdecl sub_4560E0(int a1, signed int a2, int a3)
{
  int v3; // eax@5
  __int16 *v4; // ecx@68
  int v5; // edx@68
  int v6; // eax@68
  __int16 *v7; // ecx@68
  char v9; // [sp+0h] [bp-16Ch]@0
  int v10; // [sp+4h] [bp-168h]@0
  int v11; // [sp+8h] [bp-164h]@0
  char v12; // [sp+Ch] [bp-160h]@1
  int v13; // [sp+4Ch] [bp-120h]@115
  int j; // [sp+50h] [bp-11Ch]@112
  int v15; // [sp+54h] [bp-118h]@108
  char v16; // [sp+58h] [bp-114h]@108
  int v17; // [sp+D8h] [bp-94h]@108
  int v18; // [sp+108h] [bp-64h]@95
  int v19; // [sp+10Ch] [bp-60h]@95
  int v20; // [sp+110h] [bp-5Ch]@95
  int v21; // [sp+114h] [bp-58h]@71
  int v22; // [sp+118h] [bp-54h]@65
  int v23; // [sp+11Ch] [bp-50h]@64
  int v24; // [sp+120h] [bp-4Ch]@64
  int v25; // [sp+124h] [bp-48h]@62
  int v26; // [sp+128h] [bp-44h]@60
  int v27; // [sp+12Ch] [bp-40h]@60
  int v28; // [sp+130h] [bp-3Ch]@58
  int v29; // [sp+134h] [bp-38h]@55
  int v30; // [sp+138h] [bp-34h]@55
  int v31; // [sp+13Ch] [bp-30h]@55
  int v32; // [sp+140h] [bp-2Ch]@55
  int v33; // [sp+144h] [bp-28h]@29
  int v34; // [sp+148h] [bp-24h]@11
  int i; // [sp+14Ch] [bp-20h]@9
  int v36; // [sp+150h] [bp-1Ch]@9
  int v37; // [sp+154h] [bp-18h]@9
  int v38; // [sp+158h] [bp-14h]@9
  int v39; // [sp+15Ch] [bp-10h]@9
  int v40; // [sp+160h] [bp-Ch]@9
  int v41; // [sp+164h] [bp-8h]@3
  int v42; // [sp+168h] [bp-4h]@1

  memset(&v12, -858993460, 0x160u);
  v42 = dword_1FDF1D8[431 * a1];
  if ( v42 <= 0 )
    v42 = a1;
  v41 = sub_401546();
  if ( v41 && v41 < 12800 )
  {
    sub_40193D(&byte_1FDECA0[1724 * v41]);
    if ( a2 >= 0 && a2 < 100 )
    {
      v40 = word_74F934C[378 * a2];
      v39 = 0;
      v38 = 0;
      v37 = 0;
      v36 = -1;
      for ( i = 0; i < 12; ++i )
      {
        v34 = *(&word_1FDF28A[862 * v42] + i);
        if ( !v34 && v36 == -1 )
          v36 = i;
        if ( v34 && dword_1FDF300[431 * v34] )
        {
          if ( (LOWORD(dword_1FDECFC[431 * v34]) == 206
             || LOWORD(dword_1FDECFC[431 * v34]) == 226
             || LOWORD(dword_1FDECFC[431 * v34]) == 227
             || LOWORD(dword_1FDECFC[431 * v34]) == 244
             || LOWORD(dword_1FDECFC[431 * v34]) == 245
             || LOWORD(dword_1FDECFC[431 * v34]) == 225
             || LOWORD(dword_1FDECFC[431 * v34]) == 307
             || LOWORD(dword_1FDECFC[431 * v34]) == 396)
            && LOWORD(dword_1FDECFC[431 * v34]) != v40 )
          {
            v3 = 0;
            return sub_4E46A0(1, v3, v11, v9, v10);
          }
          ++v37;
        }
      }
      if ( a2 > 7 )
        goto LABEL_123;
      v33 = 0;
      if ( a2 )
      {
        switch ( a2 )
        {
          case 1:
            v33 = (unsigned __int8)byte_1FDECFA[1724 * a1] / 30;
            break;
          case 2:
            v33 = (unsigned __int8)byte_1FDECFA[1724 * a1] / 40;
            break;
          case 3:
            v33 = (unsigned __int8)byte_1FDECFA[1724 * a1] / 40;
            break;
          case 4:
            v33 = (unsigned __int8)byte_1FDECFA[1724 * a1] / 40;
            break;
          case 5:
            v33 = (unsigned __int8)byte_1FDECFA[1724 * a1] / 80;
            break;
          case 6:
            v33 = (unsigned __int8)byte_1FDECFA[1724 * a1] / 80;
            break;
          case 7:
            v33 = 1;
            break;
        }
      }
      else
      {
        v33 = (unsigned __int8)byte_1FDECFA[1724 * a1] / 30;
      }
      if ( v37 < v33 )
      {
LABEL_123:
        if ( v36 < 12 && v36 != -1 )
        {
          sub_4E4640(&word_1FDF28A[862 * v41], 0, 0x18u);
          memcpy(&byte_1FDECA0[1724 * v41], (char *)&unk_74F92F0 + 756 * a2, 0x2F4u);
          word_1FDECC4[862 * v41] = word_1FDECC4[862 * a1];
          sub_4E4730((int)&byte_1FDECA0[1724 * v41], (int)"^");
          for ( i = 0; i < 16; ++i )
          {
            if ( *(&byte_1FDECA0[1724 * v41] + i) == 95 )
              *(&byte_1FDECA0[1724 * v41] + i) = 32;
          }
          sub_4E4640(&byte_1FDF154[1724 * v41], 0, 0x80u);
          v32 = word_1FDECF2[862 * a1];
          v31 = (unsigned __int8)byte_1FDECFA[1724 * a1];
          v30 = v32 * dword_598898[17 * a2] / 100;
          v29 = v31 * dword_59889C[17 * a2] / 100;
          word_1FDECC8[862 * v41] += v29 + v30;
          v30 = v32 * dword_5988A0[17 * a2] / 100;
          v29 = v31 * dword_5988A4[17 * a2] / 100;
          word_1FDECC6[862 * v41] += v29 + v30;
          v30 = v32 * dword_5988A8[17 * a2] / 100;
          v29 = v31 * dword_5988AC[17 * a2] / 100;
          word_1FDECCC[862 * v41] += v29 + v30;
          word_1FDECE8[862 * v41] = word_1FDECCC[862 * v41];
          if ( dword_1FDEF7C[431 * a1] & 0x8000 )
            word_1FDECC8[862 * v41] = 115 * word_1FDECC8[862 * v41] / 100;
          dword_1FDF27C[431 * v41] = -1;
          dword_1FDF1DC[431 * v41] = 5;
          dword_1FDF1E0[431 * v41] = 5;
          dword_1FDF1D4[431 * v41] = 4;
          dword_1FDF278[431 * v41] = 0;
          dword_1FDF274[431 * v41] = 0;
          sub_4E4640(&dword_1FDF238[431 * v41], 0, 0x14u);
          sub_4E4640(&dword_1FDF24C[431 * v41], 0, 0x14u);
          dword_1FDF1D8[431 * v41] = v42;
          dword_1FDF1EC[431 * v41] = dword_8C76270;
          if ( a3 )
          {
            v28 = sub_40191F(a3, 81);
            if ( v28 >= 100 )
              v28 = 100;
            v27 = LOWORD(dword_1FDECFC[431 * v41]);
            v26 = 0;
            if ( v27 >= 315 && v27 <= 346 )
            {
              v25 = 0;
              if ( v27 - 315 < 30 )
                v25 = dword_5A1284[v27];
              v24 = v25 / 2 - 1000;
              v23 = v25 - v24;
              v26 = v28 * (v25 - v24) / 100 + v25 / 2 - 1000;
            }
            word_1FDECDA[862 * v41] = v26;
            word_1FDECF6[862 * v41] = v26;
            LOBYTE(v22) = sub_40191F(a3, 81);
            word_1FDECC8[862 * v41] += 6 * (unsigned __int8)v22;
            word_1FDECE4[862 * v41] = word_1FDECC8[862 * v41];
          }
          dword_1FDF300[431 * v41] = 1;
          if ( word_1FDECB2[862 * a1] || !dword_1FDF2B0[431 * a1] )
          {
            v4 = &word_1FDED5C[862 * a1];
            v5 = *(_DWORD *)v4;
            v6 = *((_DWORD *)v4 + 1);
            v7 = &word_1FDED5C[862 * v41];
            *(_DWORD *)v7 = v5;
            *((_DWORD *)v7 + 1) = v6;
          }
          sub_40162C(v41);
          dword_1FDF2B0[431 * v41] = dword_1FDF2B0[431 * a1];
          if ( word_1FDED5C[862 * v41] == 509 )
            word_1FDED5C[862 * v41] = 508;
          word_1FDECEC[862 * v41] = word_1FDECE8[862 * v41];
          v21 = word_1FDED74[862 * a1];
          if ( v21 == 543
            || v21 == 545
            || v21 == 1766
            || v21 == 1767
            || v21 == 1768
            || v21 == 3191
            || v21 == 3194
            || v21 == 3197 )
          {
            sub_4E4640(&word_1FDED74[862 * v41], 0, 8u);
            word_1FDED74[862 * v41] = 734;
          }
          if ( v21 == 544
            || v21 == 546
            || v21 == 1769
            || v21 == 1770
            || v21 == 1771
            || v21 == 3192
            || v21 == 3195
            || v21 == 3198 )
          {
            sub_4E4640(&word_1FDED74[862 * v41], 0, 8u);
            word_1FDED74[862 * v41] = 735;
          }
          if ( word_1FDED74[862 * a1] == 548
            || word_1FDED74[862 * a1] == 549
            || v21 == 3193
            || v21 == 3196
            || v21 == 3199 )
          {
            sub_4E4640(&word_1FDED74[862 * v41], 0, 8u);
            word_1FDED74[862 * v41] = 550;
          }
          byte_1FDECB0[1724 * v41] = 4;
          word_1FDECB2[862 * v41] = word_1FDECB2[862 * a1];
          sub_4016EF(1000);
          sub_4E4640(&word_1FDF282[862 * v41], 0, 8u);
          v20 = dword_1FDF1F4[431 * a1];
          v19 = dword_1FDF1F8[431 * a1];
          v18 = sub_4015D2(v41, &v20, &v19);
          if ( v18 )
          {
            dword_1FDF1F4[431 * v41] = v20;
            dword_1FDF1E4[431 * v41] = v20;
            dword_1FDF1F8[431 * v41] = v19;
            dword_1FDF1E8[431 * v41] = v19;
            if ( !a3 )
            {
              byte_1FDF154[1724 * v41] = 24;
              word_1FDF156[862 * v41] = 0;
              byte_1FDF155[1724 * v41] = 0;
              dword_1FDF158[431 * v41] = 20;
              if ( dword_1FDEF7C[431 * a1] & 0x8000 )
              {
                dword_1FDF158[431 * v41] += 3;
                if ( LOWORD(dword_1FDECFC[431 * v41]) == 396 )
                  dword_1FDF158[431 * v41] = 100;
              }
              if ( a2 >= 28 && a2 <= 37 )
                dword_1FDF158[431 * v41] = 128;
            }
            if ( a3 )
            {
              if ( *(_WORD *)(a3 + 2) > (signed int)(unsigned __int16)word_1FDECE8[862 * v41] )
                *(_WORD *)(a3 + 2) = word_1FDECE8[862 * v41];
              word_1FDECD0[862 * v41] = *(_WORD *)(a3 + 2);
              word_1FDECEC[862 * v41] = word_1FDECD0[862 * v41];
            }
            sub_4010FF(v41, &v16);
            LOWORD(v17) = v17 | 3;
            *(&word_34EA550[4096 * v19] + v20) = v41;
            sub_4014FB(v20, v19, &v16, 0);
            v15 = v41;
            *(&word_1FDF28A[862 * v42] + v36) = v41;
            dword_1FDF1D8[431 * v15] = v42;
            if ( !v38 )
              sub_4016AE(v42, v42, 0);
            sub_4016AE(v15, v42, 0);
            if ( !v38 )
              sub_4016AE(v15, v15, v36 + 1);
            sub_4016AE(v42, v15, v36 + 1);
            for ( j = 0; j < 12; ++j )
            {
              v13 = *(&word_1FDF28A[862 * v42] + j);
              if ( v13 )
              {
                if ( v13 != v15 )
                  sub_4016AE(v13, v15, j + 1);
                sub_4016AE(v15, v13, j + 1);
              }
            }
            dword_1FDF2A8[431 * v41] = a1;
            v3 = 1;
          }
          else
          {
            dword_1FDF1D4[431 * v41] = 0;
            v3 = 0;
          }
        }
        else
        {
          sub_401B63(a1, &unk_8A7844);
          v3 = 0;
        }
      }
      else
      {
        v3 = 0;
      }
    }
    else
    {
      v3 = 0;
    }
  }
  else
  {
    sub_401B63(a1, &unk_8A7744);
    v3 = 0;
  }
  return sub_4E46A0(1, v3, v11, v9, v10);
}
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401546: using guessed type int sub_401546(void);
// 4015D2: using guessed type _DWORD __cdecl sub_4015D2(_DWORD, _DWORD, _DWORD);
// 40162C: using guessed type _DWORD __cdecl sub_40162C(_DWORD);
// 4016AE: using guessed type _DWORD __cdecl sub_4016AE(_DWORD, _DWORD, char);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 40193D: using guessed type int __thiscall sub_40193D(_DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 598898: using guessed type int dword_598898[];
// 59889C: using guessed type int dword_59889C[];
// 5988A0: using guessed type int dword_5988A0[];
// 5988A4: using guessed type int dword_5988A4[];
// 5988A8: using guessed type int dword_5988A8[];
// 5988AC: using guessed type int dword_5988AC[];
// 5A1284: using guessed type int dword_5A1284[];
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDECC6: using guessed type __int16 word_1FDECC6[];
// 1FDECC8: using guessed type __int16 word_1FDECC8[];
// 1FDECCC: using guessed type __int16 word_1FDECCC[];
// 1FDECD0: using guessed type __int16 word_1FDECD0[];
// 1FDECDA: using guessed type __int16 word_1FDECDA[];
// 1FDECE4: using guessed type __int16 word_1FDECE4[];
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECF2: using guessed type __int16 word_1FDECF2[];
// 1FDECF6: using guessed type __int16 word_1FDECF6[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED5C: using guessed type __int16 word_1FDED5C[];
// 1FDED74: using guessed type __int16 word_1FDED74[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDF156: using guessed type __int16 word_1FDF156[];
// 1FDF158: using guessed type int dword_1FDF158[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1DC: using guessed type int dword_1FDF1DC[];
// 1FDF1E0: using guessed type int dword_1FDF1E0[];
// 1FDF1E4: using guessed type int dword_1FDF1E4[];
// 1FDF1E8: using guessed type int dword_1FDF1E8[];
// 1FDF1EC: using guessed type int dword_1FDF1EC[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF238: using guessed type int dword_1FDF238[];
// 1FDF24C: using guessed type int dword_1FDF24C[];
// 1FDF274: using guessed type int dword_1FDF274[];
// 1FDF278: using guessed type int dword_1FDF278[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 1FDF282: using guessed type __int16 word_1FDF282[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 1FDF2A8: using guessed type int dword_1FDF2A8[];
// 1FDF2B0: using guessed type int dword_1FDF2B0[];
// 1FDF300: using guessed type int dword_1FDF300[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 74F934C: using guessed type __int16 word_74F934C[];
// 8C76270: using guessed type int dword_8C76270;

//----- (004572C0) --------------------------------------------------------
int __usercall sub_4572C0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6, const void *a7)
{
  int v7; // eax@3
  char v9; // [sp+0h] [bp-118h]@0
  int v10; // [sp+4h] [bp-114h]@0
  int v11; // [sp+8h] [bp-110h]@0
  char v12; // [sp+Ch] [bp-10Ch]@1
  char v13; // [sp+4Ch] [bp-CCh]@23
  int v14; // [sp+CCh] [bp-4Ch]@23
  int v15; // [sp+FCh] [bp-1Ch]@21
  int v16; // [sp+100h] [bp-18h]@19
  int v17; // [sp+104h] [bp-14h]@19
  int v18; // [sp+108h] [bp-10h]@19
  int i; // [sp+10Ch] [bp-Ch]@9
  int v20; // [sp+110h] [bp-8h]@5
  int v21; // [sp+114h] [bp-4h]@1

  memset(&v12, -858993460, 0x10Cu);
  v21 = sub_401546();
  if ( v21 > 0 && v21 < 12800 )
  {
    sub_40193D(&byte_1FDECA0[1724 * v21]);
    sub_4E4720((int)&byte_1FDECA0[1724 * v21]);
    sub_4E4640(&word_1FDF28A[862 * v21], 0, 0x18u);
    if ( a7 )
    {
      sub_4E4810(&byte_1FDECA0[1724 * v21], a7, 0x2F4u);
    }
    else
    {
      v20 = sub_4013E8(&byte_1FDECA0[1724 * v21], a6);
      if ( !v20 )
      {
        v7 = 0;
        return sub_4E46A0(1, v7, v11, v9, v10);
      }
    }
    byte_1FDECAF[1724 * v21] = 0;
    byte_1FDECCA[1724 * v21] = 0;
    for ( i = 0; i < 16; ++i )
    {
      if ( *(&byte_1FDECA0[1724 * v21] + i) == 95 )
        *(&byte_1FDECA0[1724 * v21] + i) = 32;
      if ( *(&byte_1FDECA0[1724 * v21] + i) == 64 )
        *(&byte_1FDECA0[1724 * v21] + i) = 32;
    }
    dword_1FDF2EC[431 * v21] = (unsigned __int8)byte_1FDEF8E[1724 * v21];
    dword_1FDF2F0[431 * v21] = (unsigned __int8)byte_1FDEF8F[1724 * v21];
    sub_4E4640(&byte_1FDF154[1724 * v21], 0, 0x80u);
    for ( i = 0; i < 5; ++i )
    {
      *(&dword_1FDF238[431 * v21] + i) = a4;
      *(&dword_1FDF24C[431 * v21] + i) = a5;
    }
    dword_1FDF27C[431 * v21] = -1;
    dword_1FDF2CC[431 * v21] = 0;
    dword_1FDF1DC[431 * v21] = 0;
    dword_1FDF1E0[431 * v21] = 0;
    dword_1FDF1D4[431 * v21] = 4;
    dword_1FDF278[431 * v21] = 0;
    dword_1FDF1D8[431 * v21] = 0;
    dword_1FDF220[431 * v21] = 10;
    byte_1FDF31C[1724 * v21] = 0;
    dword_1FDF1EC[431 * v21] = dword_8C76270;
    dword_1FDF33C[431 * v21] = 0;
    dword_1FDF340[431 * v21] = 0;
    dword_1FDF344[431 * v21] = 0;
    sub_4016EF(1000);
    word_1FDECEC[862 * v21] = word_1FDECE8[862 * v21];
    dword_1FDF274[431 * v21] = 0;
    sub_4E4640(&word_1FDF282[862 * v21], 0, 8u);
    v18 = dword_1FDF238[431 * v21];
    v17 = dword_1FDF24C[431 * v21];
    v16 = sub_4015D2(v21, &v18, &v17);
    if ( v16 )
    {
      dword_1FDF230[431 * v21] = v18;
      dword_1FDF1F4[431 * v21] = v18;
      dword_1FDF1E4[431 * v21] = v18;
      dword_1FDF234[431 * v21] = v17;
      dword_1FDF1F8[431 * v21] = v17;
      dword_1FDF1E8[431 * v21] = v17;
      sub_4015AF(v21);
      v15 = (unsigned __int16)word_1FDECCE[862 * v21];
      if ( v15 )
        SetAffect(v21, v15, 30000, 200);
      sub_4010FF(v21, &v13);
      LOWORD(v14) = v14 | 2;
      *(&word_34EA550[4096 * v17] + v18) = v21;
      sub_4014FB(v18, v17, &v13, 0);
      v7 = v21;
    }
    else
    {
      sub_4E3F40(a1, a2, (int)&String, "err,No empty mobgrid:%s x:%d y:%d");
      Log(&String, "-system", 0);
      dword_1FDF1D4[431 * v21] = 0;
      byte_1FDECA0[1724 * v21] = 0;
      dword_1FDF27C[431 * v21] = -1;
      v7 = -2;
    }
  }
  else
  {
    sub_4E3F40(a1, a2, (int)&String, "err,no emptymob create %s");
    Log(&String, "-sys", 0);
    v7 = -1;
  }
  return sub_4E46A0(1, v7, v11, v9, v10);
}
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 4013E8: using guessed type _DWORD __cdecl sub_4013E8(_DWORD, _DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401546: using guessed type int sub_401546(void);
// 4015AF: using guessed type _DWORD __cdecl sub_4015AF(_DWORD);
// 4015D2: using guessed type _DWORD __cdecl sub_4015D2(_DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 40193D: using guessed type int __thiscall sub_40193D(_DWORD);
// 40195B: using guessed type _DWORD __cdecl SetAffect(_DWORD, _DWORD, _DWORD, _DWORD);
// 1FDECCE: using guessed type __int16 word_1FDECCE[];
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1DC: using guessed type int dword_1FDF1DC[];
// 1FDF1E0: using guessed type int dword_1FDF1E0[];
// 1FDF1E4: using guessed type int dword_1FDF1E4[];
// 1FDF1E8: using guessed type int dword_1FDF1E8[];
// 1FDF1EC: using guessed type int dword_1FDF1EC[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF220: using guessed type int dword_1FDF220[];
// 1FDF230: using guessed type int dword_1FDF230[];
// 1FDF234: using guessed type int dword_1FDF234[];
// 1FDF238: using guessed type int dword_1FDF238[];
// 1FDF24C: using guessed type int dword_1FDF24C[];
// 1FDF274: using guessed type int dword_1FDF274[];
// 1FDF278: using guessed type int dword_1FDF278[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 1FDF282: using guessed type __int16 word_1FDF282[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 1FDF2CC: using guessed type int dword_1FDF2CC[];
// 1FDF2EC: using guessed type int dword_1FDF2EC[];
// 1FDF2F0: using guessed type int dword_1FDF2F0[];
// 1FDF33C: using guessed type int dword_1FDF33C[];
// 1FDF340: using guessed type int dword_1FDF340[];
// 1FDF344: using guessed type int dword_1FDF344[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 8C76270: using guessed type int dword_8C76270;

//----- (004579A0) --------------------------------------------------------
int __usercall sub_4579A0<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4, int a5)
{
  int v5; // eax@1
  const void *v6; // esi@26
  int v7; // esi@26
  const void *v8; // esi@44
  const void *v9; // esi@46
  const void *v10; // esi@47
  const void *v11; // esi@49
  const void *v12; // esi@134
  const void *v13; // esi@152
  const void *v14; // esi@154
  const void *v15; // esi@155
  const void *v16; // esi@157
  char v18; // [sp+0h] [bp-228h]@0
  int v19; // [sp+4h] [bp-224h]@0
  int v20; // [sp+8h] [bp-220h]@0
  char v21; // [sp+Ch] [bp-21Ch]@1
  bool v22; // [sp+4Ch] [bp-1DCh]@22
  char v23; // [sp+50h] [bp-1D8h]@200
  int v24; // [sp+D0h] [bp-158h]@200
  int v25; // [sp+100h] [bp-128h]@198
  int v26; // [sp+104h] [bp-124h]@194
  int v27; // [sp+108h] [bp-120h]@187
  int v28; // [sp+10Ch] [bp-11Ch]@187
  int k; // [sp+110h] [bp-118h]@169
  int j; // [sp+114h] [bp-114h]@160
  int v31; // [sp+118h] [bp-110h]@151
  int v32; // [sp+11Ch] [bp-10Ch]@149
  int v33; // [sp+120h] [bp-108h]@131
  int v34; // [sp+124h] [bp-104h]@125
  char v35; // [sp+128h] [bp-100h]@125
  int v36; // [sp+1A8h] [bp-80h]@125
  int v37; // [sp+1D8h] [bp-50h]@121
  int v38; // [sp+1DCh] [bp-4Ch]@114
  int v39; // [sp+1E0h] [bp-48h]@114
  int v40; // [sp+1E4h] [bp-44h]@95
  int v41; // [sp+1E8h] [bp-40h]@93
  int i; // [sp+1ECh] [bp-3Ch]@52
  int v43; // [sp+1F0h] [bp-38h]@43
  int v44; // [sp+1F4h] [bp-34h]@41
  int v45; // [sp+1F8h] [bp-30h]@17
  int v46; // [sp+1FCh] [bp-2Ch]@14
  int v47; // [sp+200h] [bp-28h]@14
  int v48; // [sp+204h] [bp-24h]@14
  int v49; // [sp+208h] [bp-20h]@10
  int v50; // [sp+20Ch] [bp-1Ch]@8
  int v51; // [sp+210h] [bp-18h]@8
  int v52; // [sp+214h] [bp-14h]@8
  int v53; // [sp+218h] [bp-10h]@5
  int v54; // [sp+21Ch] [bp-Ch]@5
  int v55; // [sp+220h] [bp-8h]@5
  int v56; // [sp+224h] [bp-4h]@1

  v5 = -858993460;
  memset(&v21, -858993460, 0x21Cu);
  v56 = 0;
  if ( a3 != 6048 && a3 != 4958 && a3 != 4959 )
  {
    v55 = 0;
    v54 = a3;
    v53 = dword_BDEAA4[748 * a3];
    if ( v53 >= 51 && v53 != 100 && v53 < 3000 )
    {
      v52 = dword_BDEAB8[748 * a3];
      v51 = dword_BDEACC[748 * a3];
      v50 = v51 - v52;
      if ( v51 - v52 <= 0 )
      {
        sub_4E3F40(a1, a2, (int)&String, "err,argmo index wrong relocation aidx:%d delta:%d start:%d end:%d num:%d");
        Log(&String, "-system", 0);
        v5 = Log(&String, "-system", 0);
        return sub_4E46A0(1, v5, v20, v18, v19);
      }
      v49 = Rand()() % v50 + v52;
      if ( v49 < 0 || v50 > 200 )
      {
        sub_4E3F40(a1, a2, (int)&String, "err,argmo wrong index relocation aidx:%d delta:%d start:%d end:%d num:%d");
        Log(&String, "-system", 0);
        Log(&String, "-system", 0);
      }
      a3 = v49;
      v55 = 1;
    }
    v48 = dword_BDF058[748 * v54];
    v47 = dword_BDEAB0[748 * v54];
    v46 = dword_BDEAB4[748 * v54] - dword_BDEAB0[748 * v54] + 1;
    if ( v46 <= 0 )
    {
      sub_4E3F40(a1, a2, (int)&String, "err,zero divide : %d");
      Log(&String, "-system", 0);
      v46 = 1;
    }
    v47 += Rand()() % v46;
    v5 = dword_BDEAAC[748 * v54];
    if ( v5 < dword_BDEAA8[748 * v54] )
    {
      v45 = sub_401546();
      if ( v45 > 0 && v45 < 12800 )
      {
        v5 = sub_40193D(&byte_1FDECA0[1724 * v45]);
        v22 = a3 >= 5481 && a3 <= 5502;
        if ( !v22 || !dword_BDF064[748 * a3] )
        {
          v56 = v45;
          sub_4E4640(&word_1FDF28A[862 * v45], 0, 0x18u);
          v6 = (char *)&unk_BDF068 + 2992 * v54;
          memcpy(&byte_1FDECA0[1724 * v45], v6, 0x2F4u);
          v7 = (int)((char *)v6 + 756);
          if ( v54 >= 10 && v54 <= 17 )
            dword_1FDECBC[431 * v45] *= 20;
          if ( v54 >= 171 && v54 <= 178 )
            dword_1FDECBC[431 * v45] *= 10;
          if ( v54 >= 183 && v54 <= 190 )
            dword_1FDECBC[431 * v45] *= 30;
          dword_1FDF2C0[431 * v45] = v55;
          if ( (v54 < 81 || v54 > 96) && (v54 < 107 || v54 > 122) && (v54 < 124 || v54 > 139) )
          {
            sub_4E4720((int)&byte_1FDECA0[1724 * v45]);
          }
          else
          {
            v44 = 4 - dword_8C762E0 / 440;
            if ( v44 < 1 || v44 > 3 )
            {
              v11 = (char *)&unk_54EB638 + 9072 * dword_8C762E8;
              memcpy(&byte_1FDECA0[1724 * v45], v11, 0x2F4u);
              v7 = (int)((char *)v11 + 756);
            }
            else
            {
              v43 = dword_5A107C[v44];
              if ( v43 > 0 )
              {
                if ( v43 > 30 )
                {
                  v10 = (char *)&unk_54EB638 + 9072 * dword_8C762E8 + 2268 * v44;
                  memcpy(&byte_1FDECA0[1724 * v45], v10, 0x2F4u);
                  v7 = (int)((char *)v10 + 756);
                }
                else
                {
                  v9 = (char *)&unk_54EB92C + 9072 * dword_8C762E8 + 2268 * v44;
                  memcpy(&byte_1FDECA0[1724 * v45], v9, 0x2F4u);
                  v7 = (int)((char *)v9 + 756);
                }
              }
              else
              {
                v8 = (char *)&unk_54EBC20 + 9072 * dword_8C762E8 + 2268 * v44;
                memcpy(&byte_1FDECA0[1724 * v45], v8, 0x2F4u);
                v7 = (int)((char *)v8 + 756);
              }
            }
          }
          byte_1FDECAF[1724 * v45] = 0;
          byte_1FDECCA[1724 * v45] = 0;
          for ( i = 0; i < 16; ++i )
          {
            if ( *(&byte_1FDECA0[1724 * v45] + i) == 95 )
              *(&byte_1FDECA0[1724 * v45] + i) = 32;
            if ( *(&byte_1FDECA0[1724 * v45] + i) == 64 )
              *(&byte_1FDECA0[1724 * v45] + i) = 32;
          }
          if ( v54 == 396 )
          {
            sub_4018CA(1, v45);
            dword_1FDF2D4[431 * v45] = 1;
            dword_8C7649C = v45;
          }
          else
          {
            if ( v54 == 5798 )
            {
              sub_4018CA(2, v45);
            }
            else
            {
              if ( v54 < 5957 || a3 > 5964 )
              {
                switch ( v54 )
                {
                  case 5715:
                    sub_4018CA(4, v45);
                    break;
                  case 5716:
                    sub_4018CA(5, v45);
                    break;
                  case 5717:
                    sub_4018CA(6, v45);
                    break;
                  case 1079:
                    sub_4018CA(7, v45);
                    dword_8C761C4 = v45;
                    break;
                  case 154:
                    sub_4018CA(8, v45);
                    break;
                  case 155:
                    sub_4018CA(9, v45);
                    break;
                  case 156:
                    sub_4018CA(10, v45);
                    dword_1FDF338[431 * v45] = 60;
                    break;
                  case 159:
                    sub_4018CA(11, v45);
                    break;
                }
              }
              else
              {
                sub_4018CA(3, v45);
              }
            }
          }
          sub_4E4640(&byte_1FDF154[1724 * v45], 0, 0x80u);
          for ( i = 0; i < 5; ++i )
          {
            if ( *(&dword_BDEAB8[748 * a3] + i) )
            {
              if ( *(&dword_BDEAE0[748 * a3] + i) )
              {
                *(&dword_1FDF238[431 * v45] + i) = *(&dword_BDEAB8[748 * a3] + i)
                                                 - *(&dword_BDEAE0[748 * a3] + i)
                                                 + 2 * Rand()() % (*(&dword_BDEAE0[748 * a3] + i) + 1);
                *(&dword_1FDF24C[431 * v45] + i) = *(&dword_BDEACC[748 * a3] + i)
                                                 - *(&dword_BDEAE0[748 * a3] + i)
                                                 + 2 * Rand()() % (*(&dword_BDEAE0[748 * a3] + i) + 1);
              }
              else
              {
                *(&dword_1FDF238[431 * v45] + i) = *(&dword_BDEAB8[748 * a3] + i);
                *(&dword_1FDF24C[431 * v45] + i) = *(&dword_BDEACC[748 * a3] + i);
              }
              v7 = i;
              *(&dword_1FDF260[431 * v45] + i) = *(&dword_BDEAF4[748 * a3] + i);
            }
            else
            {
              *(&dword_1FDF238[431 * v45] + i) = 0;
              *(&dword_1FDF24C[431 * v45] + i) = 0;
            }
          }
          if ( a4 && a5 )
          {
            v41 = a4;
            if ( a3 != 23 )
              v41 = v41 + Rand()() % 5 - 2;
            v40 = a5;
            if ( a3 != 23 )
              v40 = v40 + Rand()() % 5 - 2;
            for ( i = 0; i < 5; ++i )
            {
              *(&dword_1FDF238[431 * v45] + i) = v41;
              *(&dword_1FDF24C[431 * v45] + i) = v40;
            }
          }
          dword_BDF064[748 * a3] = v45;
          dword_1FDF300[431 * v45] = 0;
          dword_1FDF27C[431 * v45] = v54;
          dword_1FDF2CC[431 * v45] = 0;
          dword_1FDF1DC[431 * v45] = dword_BDF058[748 * v54];
          dword_1FDF1E0[431 * v45] = dword_BDF05C[748 * v54];
          dword_1FDF1D4[431 * v45] = 4;
          dword_1FDF278[431 * v45] = 0;
          dword_1FDF1D8[431 * v45] = 0;
          dword_1FDF220[431 * v45] = dword_1FDF260[431 * v45];
          dword_1FDF1EC[431 * v45] = dword_8C76270;
          sub_4016EF(1000);
          word_1FDECEC[862 * v45] = word_1FDECE8[862 * v45];
          dword_1FDF2EC[431 * v45] = 0;
          dword_1FDF2F0[431 * v45] = 0;
          byte_1FDEF8E[1724 * v45] = 0;
          byte_1FDEF8F[1724 * v45] = 0;
          byte_1FDF31C[1724 * v45] = 0;
          dword_1FDF33C[431 * v45] = 0;
          dword_1FDF340[431 * v45] = 0;
          dword_1FDF344[431 * v45] = 0;
          if ( dword_8C76210 && word_1FDECE0[862 * v45] < 120 )
          {
            if ( (v54 < 270 || dword_5A12A0[0] + 270 < v54)
              && (v54 < 285 || dword_5A12A4 + 285 < v54)
              && (v54 < 302 || dword_5A12A8 + 302 < v54) )
              word_1FDECEC[862 * v45] = 3 * (unsigned __int16)word_1FDECEC[862 * v45] / 4;
            else
              word_1FDECEC[862 * v45] = word_1FDECE8[862 * v45];
          }
          dword_1FDF274[431 * v45] = 0;
          sub_4E4640(&word_1FDF282[862 * v45], 0, 8u);
          if ( !dword_1FDF2D4[431 * v45] && byte_1FDECB0[1724 * v45] == 1 && Rand()() % 10 == 1 )
            byte_1FDECB0[1724 * v45] = 2;
          v39 = dword_1FDF238[431 * v45];
          v38 = dword_1FDF24C[431 * v45];
          if ( v54 >= 275 && v54 <= dword_5A12B4 + 310 )
          {
            if ( v54 >= 292 )
            {
              if ( v54 >= 310 )
              {
                dword_1FDECBC[431 * v45] *= 6;
                v7 = 100;
                dword_1FDECBC[431 * v45] -= ((unsigned int)(100
                                                          * (dword_5A12A8 - dword_BDE9CC)
                                                          / dword_5A12A8
                                                          * dword_1FDECBC[431 * v45]) >> 1)
                                          / 0x64;
              }
              else
              {
                dword_1FDECBC[431 * v45] *= 6;
                v7 = 100;
                dword_1FDECBC[431 * v45] -= ((unsigned int)(100
                                                          * (dword_5A12A4 - dword_BDE9C8)
                                                          / dword_5A12A4
                                                          * dword_1FDECBC[431 * v45]) >> 1)
                                          / 0x64;
              }
            }
            else
            {
              dword_1FDECBC[431 * v45] *= 6;
              v7 = 100;
              dword_1FDECBC[431 * v45] -= ((unsigned int)(100
                                                        * (dword_5A12A0[0] - dword_BDE9C4[0])
                                                        / dword_5A12A0[0]
                                                        * dword_1FDECBC[431 * v45]) >> 1)
                                        / 0x64;
            }
          }
          v37 = sub_4015D2(v45, &v39, &v38);
          if ( v37 )
          {
            dword_1FDF230[431 * v45] = v39;
            dword_1FDF1F4[431 * v45] = v39;
            dword_1FDF1E4[431 * v45] = v39;
            dword_1FDF234[431 * v45] = v38;
            dword_1FDF1F8[431 * v45] = v38;
            dword_1FDF1E8[431 * v45] = v38;
            if ( dword_BDEAAC[748 * v54] < 0 )
              dword_BDEAAC[748 * v54] = 0;
            ++dword_BDEAAC[748 * v54];
            sub_4015AF(v45);
            dword_1FDF2EC[431 * v45] = (unsigned __int8)byte_BDF356[2992 * v54];
            dword_1FDF2F0[431 * v45] = (unsigned __int8)byte_BDF357[2992 * v54];
            word_1FDECEA[862 * v45] = word_BDF0B2[1496 * v54];
            word_1FDECEE[862 * v45] = word_1FDECEA[862 * v45];
            sub_4010FF(v45, &v35);
            LOWORD(v36) = v36 | 2;
            *(&word_34EA550[4096 * v38] + v39) = v45;
            sub_4014FB(v39, v38, &v35, 0);
            v5 = 2992 * v54;
            v34 = dword_BDEAA8[748 * v54] - dword_BDEAAC[748 * v54];
            if ( v34 > 0 )
            {
              if ( v47 > v34 )
              {
                v5 = v34;
                v47 = v34;
              }
              for ( i = 0; i < v47; ++i )
              {
                v33 = sub_401546();
                if ( v33 > 0 && v33 < 12800 )
                {
                  sub_40193D(&byte_1FDECA0[1724 * v33]);
                  sub_4E4640(&word_1FDF28A[862 * v33], 0, 0x18u);
                  *(&word_1FDF28A[862 * v56] + i) = v33;
                  v12 = (char *)&unk_BDF35C + 2992 * v54;
                  memcpy(&byte_1FDECA0[1724 * v33], v12, 0x2F4u);
                  v7 = (int)((char *)v12 + 756);
                  if ( v54 >= 10 && v54 <= 17 )
                    dword_1FDECBC[431 * v33] = 4 * ((unsigned int)(3 * dword_1FDECBC[431 * v33]) >> 1);
                  if ( v54 >= 171 && v54 <= 178 )
                    dword_1FDECBC[431 * v33] = 2 * ((unsigned int)(3 * dword_1FDECBC[431 * v33]) >> 1);
                  if ( v54 >= 183 && v54 <= 190 )
                    dword_1FDECBC[431 * v33] = 6 * ((unsigned int)(3 * dword_1FDECBC[431 * v33]) >> 1);
                  dword_1FDF2C0[431 * v33] = v55;
                  if ( (v54 < 81 || v54 > 96) && (v54 < 107 || v54 > 122) && (v54 < 124 || v54 > 139) )
                  {
                    sub_4E4720((int)&byte_1FDECA0[1724 * v33]);
                  }
                  else
                  {
                    v32 = 4 - dword_8C762E0 / 440;
                    if ( v32 < 1 || v32 > 3 )
                    {
                      v16 = (char *)&unk_54EB638 + 9072 * dword_8C762E8;
                      memcpy(&byte_1FDECA0[1724 * v33], v16, 0x2F4u);
                      v7 = (int)((char *)v16 + 756);
                    }
                    else
                    {
                      v31 = dword_5A107C[v32];
                      if ( v31 > 0 )
                      {
                        if ( v31 > 30 )
                        {
                          v15 = (char *)&unk_54EB638 + 9072 * dword_8C762E8 + 2268 * v32;
                          memcpy(&byte_1FDECA0[1724 * v33], v15, 0x2F4u);
                          v7 = (int)((char *)v15 + 756);
                        }
                        else
                        {
                          v14 = (char *)&unk_54EB92C + 9072 * dword_8C762E8 + 2268 * v32;
                          memcpy(&byte_1FDECA0[1724 * v33], v14, 0x2F4u);
                          v7 = (int)((char *)v14 + 756);
                        }
                      }
                      else
                      {
                        v13 = (char *)&unk_54EBC20 + 9072 * dword_8C762E8 + 2268 * v32;
                        memcpy(&byte_1FDECA0[1724 * v33], v13, 0x2F4u);
                        v7 = (int)((char *)v13 + 756);
                      }
                    }
                  }
                  byte_1FDECCA[1724 * v33] = 0;
                  for ( j = 0; j < 16; ++j )
                  {
                    if ( *(&byte_1FDECA0[1724 * v33] + j) == 95 )
                      *(&byte_1FDECA0[1724 * v33] + j) = 32;
                    if ( *(&byte_1FDECA0[1724 * v33] + j) == 64 )
                      *(&byte_1FDECA0[1724 * v33] + j) = 32;
                  }
                  if ( v54 == 396 )
                  {
                    dword_1FDF2D4[431 * v33] = 1;
                    dword_8C7649C = v33;
                  }
                  sub_4E4640(&byte_1FDF154[1724 * v33], 0, 0x80u);
                  for ( k = 0; k < 5; ++k )
                  {
                    if ( *(&dword_BDEAB8[748 * a3] + k) )
                    {
                      *(&dword_1FDF238[431 * v33] + k) = *(&byte_597048[24 * v48] + 2 * i)
                                                       + *(&dword_1FDF238[431 * v56] + k);
                      *(&dword_1FDF24C[431 * v33] + k) = *(&byte_597049[24 * v48] + 2 * i)
                                                       + *(&dword_1FDF24C[431 * v56] + k);
                      v7 = i;
                      *(&dword_1FDF260[431 * v33] + i) = *(&dword_BDEAF4[748 * a3] + i);
                    }
                    else
                    {
                      *(&dword_1FDF238[431 * v33] + k) = 0;
                      *(&dword_1FDF24C[431 * v33] + k) = 0;
                    }
                  }
                  if ( a4 && a5 )
                  {
                    for ( j = 0; j < 5; ++j )
                    {
                      *(&dword_1FDF238[431 * v33] + j) = a4 + Rand()() % 5 - 2;
                      *(&dword_1FDF24C[431 * v33] + j) = a5 + Rand()() % 5 - 2;
                    }
                  }
                  dword_1FDF300[431 * v33] = 0;
                  dword_1FDF27C[431 * v33] = v54;
                  dword_1FDF2CC[431 * v33] = 0;
                  dword_1FDF1DC[431 * v33] = dword_BDF058[748 * v54];
                  dword_1FDF1E0[431 * v33] = dword_BDF05C[748 * v54];
                  dword_1FDF1D4[431 * v33] = 4;
                  dword_1FDF278[431 * v33] = 0;
                  dword_1FDF1D8[431 * v33] = v56;
                  dword_1FDF1EC[431 * v33] = dword_8C76270;
                  sub_4016EF(1000);
                  word_1FDECEC[862 * v33] = word_1FDECE8[862 * v33];
                  byte_1FDEF8E[1724 * v33] = 0;
                  byte_1FDEF8F[1724 * v33] = 0;
                  dword_1FDF2EC[431 * v33] = 0;
                  dword_1FDF2F0[431 * v33] = 0;
                  byte_1FDF31C[1724 * v33] = 0;
                  dword_1FDF33C[431 * v33] = 0;
                  dword_1FDF340[431 * v33] = 0;
                  dword_1FDF344[431 * v33] = 0;
                  sub_4015AF(v33);
                  if ( dword_8C76210 && word_1FDECE0[862 * v33] < 120 )
                    word_1FDECEC[862 * v33] = 3 * (unsigned __int16)word_1FDECEC[862 * v33] / 4;
                  dword_1FDF220[431 * v33] = dword_1FDF260[431 * v33];
                  dword_1FDF274[431 * v33] = 0;
                  sub_4E4640(&word_1FDF282[862 * v33], 0, 8u);
                  if ( !dword_1FDF2D4[431 * v33] && byte_1FDECB0[1724 * v33] == 1 && Rand()() % 10 == 1 )
                    byte_1FDECB0[1724 * v33] = 2;
                  v28 = dword_1FDF238[431 * v33];
                  v27 = dword_1FDF24C[431 * v33];
                  if ( v54 >= 275 && v54 <= dword_5A12B4 + 310 )
                  {
                    if ( v54 >= 292 )
                    {
                      if ( v54 >= 310 )
                      {
                        dword_1FDECBC[431 * v33] *= 6;
                        v7 = 100;
                        dword_1FDECBC[431 * v33] -= ((unsigned int)(100
                                                                  * (dword_5A12A8 - dword_BDE9CC)
                                                                  / dword_5A12A8
                                                                  * dword_1FDECBC[431 * v33]) >> 1)
                                                  / 0x64;
                      }
                      else
                      {
                        dword_1FDECBC[431 * v33] *= 6;
                        v7 = 100;
                        dword_1FDECBC[431 * v33] -= ((unsigned int)(100
                                                                  * (dword_5A12A4 - dword_BDE9C8)
                                                                  / dword_5A12A4
                                                                  * dword_1FDECBC[431 * v33]) >> 1)
                                                  / 0x64;
                      }
                    }
                    else
                    {
                      dword_1FDECBC[431 * v33] *= 6;
                      v7 = 100;
                      dword_1FDECBC[431 * v33] -= ((unsigned int)(100
                                                                * (dword_5A12A0[0] - dword_BDE9C4[0])
                                                                / dword_5A12A0[0]
                                                                * dword_1FDECBC[431 * v33]) >> 1)
                                                / 0x64;
                    }
                  }
                  v26 = sub_4015D2(v33, &v28, &v27);
                  if ( !v26 )
                    v26 = sub_4015D2(v33, &v28, &v27);
                  if ( v26 )
                  {
                    dword_1FDF230[431 * v33] = v28;
                    dword_1FDF1F4[431 * v33] = v28;
                    dword_1FDF1E4[431 * v33] = v28;
                    dword_1FDF234[431 * v33] = v27;
                    dword_1FDF1F8[431 * v33] = v27;
                    dword_1FDF1E8[431 * v33] = v27;
                    v25 = (unsigned __int16)word_BDF38A[1496 * v54];
                    if ( v25 )
                      SetAffect(v33, v25, 100000, 200);
                    dword_1FDF2EC[431 * v33] = (unsigned __int8)byte_BDF64A[2992 * v54];
                    dword_1FDF2F0[431 * v33] = (unsigned __int8)byte_BDF64B[2992 * v54];
                    sub_4015AF(v33);
                    sub_4010FF(v33, &v23);
                    LOWORD(v24) = v24 | 2;
                    *(&word_34EA550[4096 * v27] + v28) = v33;
                    sub_4014FB(v28, v27, &v23, 0);
                    if ( dword_BDEAAC[748 * v54] < 0 )
                      dword_BDEAAC[748 * v54] = 0;
                    v5 = dword_BDEAAC[748 * v54] + 1;
                    dword_BDEAAC[748 * v54] = v5;
                  }
                  else
                  {
                    dword_1FDF1D4[431 * v33] = 0;
                    dword_1FDF27C[431 * v33] = -1;
                    byte_1FDECA0[1724 * v33] = 0;
                    *(&word_1FDF28A[862 * v56] + i) = 0;
                    sub_4E3F40(a1, v7, (int)&String, "err,no empty mobgrid: %d x:%d y:%d");
                    v5 = Log(&String, "-system", 0);
                  }
                }
                else
                {
                  *(&word_1FDF28A[862 * v56] + i) = 0;
                  sub_4E3F40(a1, v7, (int)&String, "err,no empty mob: %d");
                  v5 = Log(&String, "-system", 0);
                }
              }
            }
          }
          else
          {
            sub_4E3F40(a1, v7, (int)&String, "err,No empty mobgrid: %d x:%d y:%d");
            Log(&String, "-system", 0);
            dword_1FDF1D4[431 * v45] = 0;
            v5 = 1724 * v45;
            byte_1FDECA0[1724 * v45] = 0;
            dword_1FDF27C[431 * v45] = -1;
          }
        }
      }
      else
      {
        sub_4E3F40(a1, a2, (int)&String, "err,no emptymob leader: %d");
        v5 = Log(&String, "-system", 0);
      }
    }
  }
  return sub_4E46A0(1, v5, v20, v18, v19);
}
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401546: using guessed type int sub_401546(void);
// 4015AF: using guessed type _DWORD __cdecl sub_4015AF(_DWORD);
// 4015D2: using guessed type _DWORD __cdecl sub_4015D2(_DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 4018CA: using guessed type _DWORD __cdecl sub_4018CA(_DWORD, _DWORD);
// 40193D: using guessed type int __thiscall sub_40193D(_DWORD);
// 40195B: using guessed type _DWORD __cdecl SetAffect(_DWORD, _DWORD, _DWORD, _DWORD);
// 5A107C: using guessed type int dword_5A107C[];
// 5A12A0: using guessed type int dword_5A12A0[];
// 5A12A4: using guessed type int dword_5A12A4;
// 5A12A8: using guessed type int dword_5A12A8;
// 5A12B4: using guessed type int dword_5A12B4;
// BDE9C4: using guessed type int dword_BDE9C4[];
// BDE9C8: using guessed type int dword_BDE9C8;
// BDE9CC: using guessed type int dword_BDE9CC;
// BDEAA4: using guessed type int dword_BDEAA4[];
// BDEAA8: using guessed type int dword_BDEAA8[];
// BDEAAC: using guessed type int dword_BDEAAC[];
// BDEAB0: using guessed type int dword_BDEAB0[];
// BDEAB4: using guessed type int dword_BDEAB4[];
// BDEAB8: using guessed type int dword_BDEAB8[];
// BDEACC: using guessed type int dword_BDEACC[];
// BDEAE0: using guessed type int dword_BDEAE0[];
// BDEAF4: using guessed type int dword_BDEAF4[];
// BDF058: using guessed type int dword_BDF058[];
// BDF05C: using guessed type int dword_BDF05C[];
// BDF064: using guessed type int dword_BDF064[];
// BDF0B2: using guessed type __int16 word_BDF0B2[];
// BDF38A: using guessed type __int16 word_BDF38A[];
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEA: using guessed type __int16 word_1FDECEA[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECEE: using guessed type __int16 word_1FDECEE[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1DC: using guessed type int dword_1FDF1DC[];
// 1FDF1E0: using guessed type int dword_1FDF1E0[];
// 1FDF1E4: using guessed type int dword_1FDF1E4[];
// 1FDF1E8: using guessed type int dword_1FDF1E8[];
// 1FDF1EC: using guessed type int dword_1FDF1EC[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF220: using guessed type int dword_1FDF220[];
// 1FDF230: using guessed type int dword_1FDF230[];
// 1FDF234: using guessed type int dword_1FDF234[];
// 1FDF238: using guessed type int dword_1FDF238[];
// 1FDF24C: using guessed type int dword_1FDF24C[];
// 1FDF260: using guessed type int dword_1FDF260[];
// 1FDF274: using guessed type int dword_1FDF274[];
// 1FDF278: using guessed type int dword_1FDF278[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 1FDF282: using guessed type __int16 word_1FDF282[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 1FDF2C0: using guessed type int dword_1FDF2C0[];
// 1FDF2CC: using guessed type int dword_1FDF2CC[];
// 1FDF2D4: using guessed type int dword_1FDF2D4[];
// 1FDF2EC: using guessed type int dword_1FDF2EC[];
// 1FDF2F0: using guessed type int dword_1FDF2F0[];
// 1FDF300: using guessed type int dword_1FDF300[];
// 1FDF338: using guessed type int dword_1FDF338[];
// 1FDF33C: using guessed type int dword_1FDF33C[];
// 1FDF340: using guessed type int dword_1FDF340[];
// 1FDF344: using guessed type int dword_1FDF344[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 8C761C4: using guessed type int dword_8C761C4;
// 8C76210: using guessed type int dword_8C76210;
// 8C76270: using guessed type int dword_8C76270;
// 8C762E0: using guessed type int dword_8C762E0;
// 8C762E8: using guessed type int dword_8C762E8;
// 8C7649C: using guessed type int dword_8C7649C;

//----- (0045A010) --------------------------------------------------------
int __usercall sub_45A010<eax>(int a1<ebx>, int a2<esi>)
{
  char v3; // [sp+0h] [bp-58h]@0
  int v4; // [sp+4h] [bp-54h]@0
  int v5; // [sp+8h] [bp-50h]@0
  char v6; // [sp+Ch] [bp-4Ch]@1
  int v7; // [sp+4Ch] [bp-Ch]@12
  int v8; // [sp+50h] [bp-8h]@8
  int i; // [sp+54h] [bp-4h]@1

  memset(&v6, -858993460, 0x4Cu);
  for ( i = 0; i < dword_1FDEC80; ++i )
    dword_1FD7F20[i] = 0;
  for ( i = 1000; i < 12800; ++i )
  {
    if ( dword_1FDF1D4[431 * i] )
    {
      v8 = dword_1FDF27C[431 * i];
      if ( v8 >= 0 )
      {
        if ( v8 < dword_1FDEC80 )
        {
          if ( v8 == 1078 )
            v7 = 0;
          ++dword_1FD7F20[v8];
        }
      }
    }
  }
  for ( i = 0; i < dword_1FDEC80; ++i )
  {
    if ( dword_BDEAAC[748 * i] != dword_1FD7F20[i] )
    {
      sub_4E3F40(a1, a2, (int)&String, "Idx:%d Name:%s Old:%d New:%d");
      Log(&String, "-system", 0);
      dword_BDEAAC[748 * i] = dword_1FD7F20[i];
    }
  }
  return sub_4E46A0(1, i, v5, v3, v4);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// BDEAAC: using guessed type int dword_BDEAAC[];
// 1FD7F20: using guessed type int dword_1FD7F20[];
// 1FDEC80: using guessed type int dword_1FDEC80;
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF27C: using guessed type int dword_1FDF27C[];

//----- (0045A200) --------------------------------------------------------
int __usercall sub_45A200<eax>(int a1<ebx>, HINSTANCE hInstance)
{
  int v2; // eax@1
  int v3; // eax@1
  int v4; // eax@1
  int v5; // eax@1
  int v6; // eax@2
  int v7; // eax@2
  char v9; // [sp+0h] [bp-74h]@1
  int v10; // [sp+4h] [bp-70h]@4
  int v11; // [sp+8h] [bp-6Ch]@4
  char v12; // [sp+Ch] [bp-68h]@1
  WNDCLASSA WndClass; // [sp+4Ch] [bp-28h]@1
  int v14; // [sp+74h] [bp+0h]@1

  memset(&v12, -858993460, 0x68u);
  WndClass.style = 9;
  WndClass.lpfnWndProc = (WNDPROC)sub_401145;
  WndClass.cbClsExtra = 0;
  WndClass.cbWndExtra = 0;
  v2 = (int)LoadIconA(hInstance, "MAINICON");
  WndClass.hIcon = (HICON)sub_4E46A0(&v9 == &v9, v2, a1, (unsigned int)&v14, (int)&v9);
  WndClass.hInstance = hInstance;
  v3 = (int)LoadCursorA(0, (LPCSTR)0x7F00);
  WndClass.hCursor = (HCURSOR)sub_4E46A0(&v9 == &v9, v3, a1, (unsigned int)&v14, (int)&v9);
  v4 = (int)GetStockObject(0);
  WndClass.hbrBackground = (HBRUSH)sub_4E46A0(&v9 == &v9, v4, a1, (unsigned int)&v14, (int)&v9);
  WndClass.lpszClassName = "MainClass";
  WndClass.lpszMenuName = (LPCSTR)102;
  LOWORD(v5) = RegisterClassA(&WndClass);
  if ( (unsigned __int16)sub_4E46A0(&v9 == &v9, v5, a1, (unsigned int)&v14, (int)&v9) )
  {
    v7 = 1;
  }
  else
  {
    LOWORD(v6) = RegisterClassA(&WndClass);
    v7 = (unsigned __int16)sub_4E46A0(&v9 == &v9, v6, a1, (unsigned int)&v14, (int)&v9);
  }
  return sub_4E46A0(1, v7, v11, v9, v10);
}
// 401145: using guessed type int sub_401145();

//----- (0045A320) --------------------------------------------------------
int __usercall sub_45A320<eax>(int a1<ebx>, HINSTANCE hInstance, int nCmdShow)
{
  int v3; // eax@1
  int v4; // eax@2
  int v5; // eax@3
  int v6; // eax@3
  char v8; // [sp+0h] [bp-4Ch]@1
  int v9; // [sp+4h] [bp-48h]@4
  int v10; // [sp+8h] [bp-44h]@4
  char v11; // [sp+Ch] [bp-40h]@1
  int v12; // [sp+4Ch] [bp+0h]@1

  memset(&v11, -858993460, 0x40u);
  v3 = (int)CreateWindowExA(
              0,
              "MainClass",
              "Game Server",
              (DWORD)&unk_2EF0000,
              -2147483648,
              -2147483648,
              648,
              640,
              0,
              0,
              hInstance,
              0);
  hWnd = (HWND)sub_4E46A0(&v8 == &v8, v3, a1, (unsigned int)&v12, (int)&v8);
  if ( hWnd )
  {
    v5 = ShowWindow(hWnd, nCmdShow);
    sub_4E46A0(&v8 == &v8, v5, a1, (unsigned int)&v12, (int)&v8);
    v6 = UpdateWindow(hWnd);
    sub_4E46A0(&v8 == &v8, v6, a1, (unsigned int)&v12, (int)&v8);
    v4 = 1;
  }
  else
  {
    v4 = 0;
  }
  return sub_4E46A0(1, v4, v10, v8, v9);
}

//----- (0045A400) --------------------------------------------------------
int __usercall sub_45A400<eax>(int a1<ebx>, int a2<esi>, const CHAR *a3)
{
  char v3; // ST08_1@1
  char v4; // ST08_1@1
  char v5; // ST08_1@1
  char v6; // ST08_1@1
  char v7; // ST08_1@1
  char v8; // ST08_1@1
  char v9; // ST08_1@1
  char v10; // ST08_1@1
  char v11; // ST08_1@1
  char v12; // ST08_1@1
  char v13; // ST08_1@1
  char v14; // ST08_1@1
  char v15; // ST08_1@1
  char v16; // ST08_1@1
  char v18; // [sp+0h] [bp-50h]@0
  int v19; // [sp+4h] [bp-4Ch]@0
  int v20; // [sp+8h] [bp-48h]@0
  char v21; // [sp+Ch] [bp-44h]@1
  int v22; // [sp+4Ch] [bp-4h]@1

  memset(&v21, -858993460, 0x44u);
  v22 = sub_4E4620(a1, a2, a3, (int)"wt");
  sub_4E5440(a1, a2, v22, (int)"<script>\n", v18);
  sub_4E5440(a1, a2, v22, (int)"function f_show(idx) \n", v3);
  sub_4E5440(a1, a2, v22, (int)"{\n", v4);
  sub_4E5440(a1, a2, v22, (int)"opener.document.frmRegist.item_code.value=idx;\n", v5);
  sub_4E5440(a1, a2, v22, (int)"self.close();\n", v6);
  sub_4E5440(a1, a2, v22, (int)"}\n", v7);
  sub_4E5440(a1, a2, v22, (int)"</script>\n", v8);
  sub_4E5440(a1, a2, v22, (int)"<style><!--\n", v9);
  sub_4E5440(a1, a2, v22, (int)"A:link {color:#111111;font-size:9pt;text-decoration:none}\n", v10);
  sub_4E5440(a1, a2, v22, (int)"A:visited {color:#333333;font-size:9pt;text-decoration:none}\n", v11);
  sub_4E5440(a1, a2, v22, (int)"A:active {color:red;font-size:9pt}\n", v12);
  sub_4E5440(a1, a2, v22, (int)"A:hover {text-color:red;text-decoration:underline}\n", v13);
  sub_4E5440(a1, a2, v22, (int)"BODY,TD,TH {font-size: 9pt}\n", v14);
  sub_4E5440(a1, a2, v22, (int)"--></style>\n", v15);
  return sub_4E46A0(1, v22, v20, v16, v19);
}

//----- (0045A580) --------------------------------------------------------
int __usercall sub_45A580<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@45
  char v4; // ST18_1@45
  char v6; // [sp+0h] [bp-80h]@0
  char v7; // [sp+0h] [bp-80h]@1
  int v10; // [sp+4h] [bp-7Ch]@0
  int v11; // [sp+8h] [bp-78h]@0
  char v12; // [sp+Ch] [bp-74h]@1
  int v13; // [sp+4Ch] [bp-34h]@32
  int l; // [sp+50h] [bp-30h]@30
  int k; // [sp+54h] [bp-2Ch]@16
  int j; // [sp+58h] [bp-28h]@13
  int i; // [sp+5Ch] [bp-24h]@1
  char v18; // [sp+60h] [bp-20h]@19

  memset(&v12, -858993460, 0x74u);
  sub_4E5440(a1, a2, a3, (int)"<body leftmargin=0 topmargin=0 marginwidth=0 marginheight=0><table>\n", v6);
  for ( i = 0; i < 4; ++i )
  {
    if ( i )
      sub_4E5440(a1, a2, a3, (int)"<tr><td colspan=5 bgcolor='#FFFFFF'>&nbsp;</td></tr>", v7);
    if ( !i )
      sub_4E5440(a1, a2, a3, (int)"<tr><td colspan=5 bgcolor='#EEEEEE'> &nbsp; T R A N S   K N I G H T</td></tr>", v7);
    if ( i == 1 )
      sub_4E5440(a1, a2, a3, (int)"<tr><td colspan=5 bgcolor='#EEEEEE'> &nbsp; F O R E M A</td></tr>", v7);
    if ( i == 2 )
      sub_4E5440(a1, a2, a3, (int)"<tr><td colspan=5 bgcolor='#EEEEEE'> &nbsp; B E A S T   M A S T E R</td></tr>", v7);
    if ( i == 3 )
      sub_4E5440(a1, a2, a3, (int)"<tr><td colspan=5 bgcolor='#EEEEEE'> &nbsp; H U N T E R</td></tr>", v7);
    for ( j = 0; j < 32; ++j )
    {
      if ( !(j % 4) )
      {
        sub_4E5440(a1, a2, a3, (int)"<tr>", v7);
        for ( k = 0; k < 5; ++k )
        {
          if ( !k )
            sub_4E4720((int)&v18);
          if ( k == 1 )
            sub_4E4720((int)&v18);
          if ( k == 2 )
            sub_4E4720((int)&v18);
          if ( k == 3 )
            sub_4E4720((int)&v18);
          if ( k == 4 )
            sub_4E4720((int)&v18);
          sub_4E5440(a1, a2, a3, (int)"<td width=155 height=2 bgcolor='%s'></td>", (unsigned int)&v18);
        }
        sub_4E5440(a1, a2, a3, (int)"</tr>\n", v7);
      }
      sub_4E5440(a1, a2, a3, (int)"<tr>", v7);
      for ( l = 0; l < 5; ++l )
      {
        v13 = *(&word_74F8898[160 * i] + 20 * j / 4 + 5 * j % 4 + l);
        if ( !l )
          sub_4E4720((int)&v18);
        if ( l == 1 )
          sub_4E4720((int)&v18);
        if ( l == 2 )
          sub_4E4720((int)&v18);
        if ( l == 3 )
          sub_4E4720((int)&v18);
        if ( l == 4 )
          sub_4E4720((int)&v18);
        sub_4E5440(
          a1,
          a2,
          a3,
          (int)"<td width=155 bgcolor='%s'><a href=\"javascript:f_show(%d);\" title='%d'>%s</a></td>",
          (unsigned int)&v18);
      }
      sub_4E5440(a1, a2, a3, (int)"</tr>\n", v7);
    }
  }
  v3 = sub_4E5440(a1, a2, a3, (int)"</table></body>\n", v7);
  return sub_4E46A0(1, v3, v11, v4, v10);
}

//----- (0045A950) --------------------------------------------------------
int __usercall sub_45A950<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@32
  char v4; // ST1C_1@32
  char v6; // [sp+0h] [bp-A0h]@0
  char v7; // [sp+0h] [bp-A0h]@1
  int v9; // [sp+4h] [bp-9Ch]@0
  int v10; // [sp+8h] [bp-98h]@0
  char v11; // [sp+Ch] [bp-94h]@1
  int v12; // [sp+4Ch] [bp-54h]@23
  int v13; // [sp+50h] [bp-50h]@23
  int v14; // [sp+54h] [bp-4Ch]@5
  int j; // [sp+58h] [bp-48h]@3
  int i; // [sp+5Ch] [bp-44h]@1
  char v17; // [sp+60h] [bp-40h]@25
  char v18; // [sp+80h] [bp-20h]@6

  memset(&v11, -858993460, 0x94u);
  sub_4E5440(a1, a2, a3, (int)"<body leftmargin=0 topmargin=0 marginwidth=0 marginheight=0><table>\n", v6);
  for ( i = 0; i < 32; ++i )
  {
    sub_4E5440(a1, a2, a3, (int)"<tr  height=10>", v7);
    for ( j = 0; j < 9; ++j )
    {
      v14 = *(&word_BDE750[9 * i] + j);
      if ( !j )
        sub_4E4720((int)&v18);
      if ( j == 1 )
        sub_4E4720((int)&v18);
      if ( j == 2 )
        sub_4E4720((int)&v18);
      if ( j == 3 )
        sub_4E4720((int)&v18);
      if ( j == 4 )
        sub_4E4720((int)&v18);
      if ( j == 5 )
        sub_4E4720((int)&v18);
      if ( j == 6 )
        sub_4E4720((int)&v18);
      if ( j == 7 )
        sub_4E4720((int)&v18);
      if ( j == 8 )
        sub_4E4720((int)&v18);
      v13 = word_9CCC86[70 * v14];
      v12 = word_9CCC8E[70 * v14] + word_9CCC8C[70 * v14] + word_9CCC8A[70 * v14] + word_9CCC88[70 * v14];
      if ( v13 || v12 <= 75 )
      {
        if ( v13 || v12 <= 20 )
          sub_4E4720((int)&v17);
        else
          sub_4E4720((int)&v17);
      }
      else
      {
        sub_4E4720((int)&v17);
      }
      sub_4E5440(
        a1,
        a2,
        a3,
        (int)"<td width=140 height=16 bgcolor='%s'><a href=\"javascript:f_show(%d);\" title='%d'><font color='%s'> %16.16s </font></a></td>",
        (unsigned int)&v18);
    }
    sub_4E5440(a1, a2, a3, (int)"</tr>\n", v7);
  }
  v3 = sub_4E5440(a1, a2, a3, (int)"</table></body>\n", v7);
  return sub_4E46A0(1, v3, v10, v4, v9);
}
// 9CCC86: using guessed type __int16 word_9CCC86[];
// 9CCC88: using guessed type __int16 word_9CCC88[];
// 9CCC8A: using guessed type __int16 word_9CCC8A[];
// 9CCC8C: using guessed type __int16 word_9CCC8C[];
// 9CCC8E: using guessed type __int16 word_9CCC8E[];
// BDE750: using guessed type __int16 word_BDE750[];

//----- (0045AC70) --------------------------------------------------------
int __usercall sub_45AC70<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@77
  char v4; // [sp+0h] [bp-7Ch]@0
  int v5; // [sp+4h] [bp-78h]@0
  int v6; // [sp+8h] [bp-74h]@0
  char v7; // [sp+Ch] [bp-70h]@1
  int v8; // [sp+4Ch] [bp-30h]@77
  int v9; // [sp+50h] [bp-2Ch]@61
  int v10; // [sp+54h] [bp-28h]@28
  int v11; // [sp+58h] [bp-24h]@28
  int j; // [sp+5Ch] [bp-20h]@26
  int v13; // [sp+60h] [bp-1Ch]@11
  int v14; // [sp+64h] [bp-18h]@11
  int v15; // [sp+68h] [bp-14h]@11
  int v16; // [sp+6Ch] [bp-10h]@11
  int v17; // [sp+70h] [bp-Ch]@11
  int v18; // [sp+74h] [bp-8h]@11
  int i; // [sp+78h] [bp-4h]@1

  memset(&v7, -858993460, 0x70u);
  sub_4E4640(word_74F8898, 0, 0x500u);
  sub_4E4640(word_BDE750, 0, 0x240u);
  for ( i = 800; i < 6500; ++i )
  {
    if ( (i < 1000 || i > 1100)
      && byte_9CCC40[140 * i]
      && byte_9CCC40[140 * i] != 48
      && sub_4E4D80((int)&byte_9CCC40[140 * i], (int)"?w")
      && sub_4E4D80((int)&byte_9CCC40[140 * i], (int)"")
      && sub_4E4D80((int)&byte_9CCC40[140 * i], (int)"") )
    {
      v18 = 0;
      v17 = -1;
      v16 = word_9CCCC4[70 * i];
      v15 = v16 % 10 - 1;
      v14 = word_9CCCCA[70 * i] - 1;
      v13 = word_9CCCC6[70 * i];
      switch ( v13 )
      {
        case 2:
          v13 = 0;
          break;
        case 4:
          v13 = 1;
          break;
        case 8:
          v13 = 2;
          break;
        case 16:
          v13 = 3;
          break;
        case 32:
          v13 = 4;
          break;
        case 64:
          v13 = 5;
          break;
        default:
          v13 = v13 == 192 ? 5 : -1;
          break;
      }
      for ( j = 0; j < 12; ++j )
      {
        v11 = *(&word_9CCC90[70 * i] + 2 * j);
        v10 = *(&word_9CCC92[70 * i] + 2 * j);
        if ( v11 == 34 || v11 == 55 )
        {
          v18 = 1;
          break;
        }
        if ( v11 == 18 )
          v17 = v10;
      }
      if ( !v18 )
      {
        switch ( v17 )
        {
          case 1:
            v17 = 0;
            break;
          case 2:
            v17 = 1;
            break;
          case 4:
            v17 = 2;
            break;
          case 8:
            v17 = 3;
            break;
        }
        if ( v14 >= 0 && v14 <= 3 )
        {
          if ( v17 < 0 || v17 >= 4 || v13 < 0 || v13 >= 5 || v15 < 0 || v15 >= 8 )
            continue;
          *(&word_74F8898[160 * v17] + 20 * v15 + 5 * v14 + v13) = i;
        }
        if ( v16 >= 41 && v16 <= 49 && v13 == 5 && v15 >= 0 && v15 < 9 )
        {
          v9 = word_9CCC86[70 * i] / 5;
          if ( v9 < 0 )
            v9 = 0;
          if ( *(&word_BDE6FE[9 * v9] + v16) )
          {
            ++v9;
            if ( v9 > 15 )
              v9 = 15;
            if ( *(&word_BDE6FE[9 * v9] + v16) )
            {
              ++v9;
              if ( v9 > 15 )
                v9 = 15;
              if ( *(&word_BDE6FE[9 * v9] + v16) )
              {
                ++v9;
                if ( v9 > 15 )
                  v9 = 15;
                if ( *(&word_BDE6FE[9 * v9] + v16) )
                {
                  ++v9;
                  if ( v9 > 15 )
                    v9 = 15;
                }
              }
            }
          }
          *(&word_BDE6FE[9 * v9] + v16) = i;
        }
      }
    }
  }
  v8 = sub_40135C("searcharmor.htm");
  sub_401398(v8);
  sub_4E4260(a1, a2, v8);
  v8 = sub_40135C("searchweapon.htm");
  sub_401753(v8);
  v2 = sub_4E4260(a1, a2, v8);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 40135C: using guessed type _DWORD __cdecl sub_40135C(_DWORD);
// 401398: using guessed type _DWORD __cdecl sub_401398(_DWORD);
// 401753: using guessed type _DWORD __cdecl sub_401753(_DWORD);
// 9CCC86: using guessed type __int16 word_9CCC86[];
// 9CCC90: using guessed type __int16 word_9CCC90[];
// 9CCC92: using guessed type __int16 word_9CCC92[];
// 9CCCC4: using guessed type __int16 word_9CCCC4[];
// 9CCCC6: using guessed type __int16 word_9CCCC6[];
// 9CCCCA: using guessed type __int16 word_9CCCCA[];
// BDE6FE: using guessed type __int16 word_BDE6FE[];
// BDE750: using guessed type __int16 word_BDE750[];

//----- (0045B520) --------------------------------------------------------
int __usercall sub_45B520<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  int v3; // eax@12
  int v4; // ecx@12
  char v6; // [sp+0h] [bp-284h]@0
  int v7; // [sp+4h] [bp-280h]@0
  int v8; // [sp+8h] [bp-27Ch]@0
  char v9; // [sp+Ch] [bp-278h]@1
  int v10; // [sp+4Ch] [bp-238h]@3
  char v11; // [sp+50h] [bp-234h]@3
  int v12; // [sp+250h] [bp-34h]@12
  int v13; // [sp+254h] [bp-30h]@12
  int v14; // [sp+258h] [bp-2Ch]@12
  int v15; // [sp+25Ch] [bp-28h]@12
  int v16; // [sp+260h] [bp-24h]@12
  int v17; // [sp+264h] [bp-20h]@12
  int v18; // [sp+268h] [bp-1Ch]@12
  int v19; // [sp+26Ch] [bp-18h]@11
  int v20; // [sp+270h] [bp-14h]@8
  int v21; // [sp+274h] [bp-10h]@11
  int v22; // [sp+278h] [bp-Ch]@4
  int v23; // [sp+27Ch] [bp-8h]@4
  int v24; // [sp+280h] [bp-4h]@1
  int v25; // [sp+284h] [bp+0h]@4

  memset(&v9, -858993460, 0x278u);
  v2 = sub_4E4620(a1, a2, "lvitem.txt", (int)"r");
  v24 = v2;
  if ( v2 )
  {
    sub_4E4640(dword_54F2100, 0, 0x880u);
    while ( 1 )
    {
      v2 = sub_4E4400(a1, a2, (int)&v11, 512, v24);
      v10 = v2;
      if ( !v2 )
        break;
      v23 = sub_4E4340(a1, (int)&v25, a2, (int)&v11, "%d %d %d %d %d %d %d %d %d %d %d", (unsigned int)&v22);
      if ( v23 != -1 && v22 >= 0 && v22 < 24 && v20 >= 0 && v20 <= 4 )
      {
        --v22;
        dword_54F2100[17 * v22] = v21;
        if ( v19 )
        {
          if ( v19 == 1 || v19 == 2 )
          {
            --v19;
            *(&word_54F2104[34 * v22] + 8 * v20 + 4 * v19) = v12;
            *((_BYTE *)&word_54F2104[34 * v22 + 1] + 16 * v20 + 8 * v19) = v13;
            *((_BYTE *)&word_54F2104[34 * v22 + 1] + 16 * v20 + 8 * v19 + 1) = v14;
            *((_BYTE *)&word_54F2104[34 * v22 + 2] + 16 * v20 + 8 * v19) = v15;
            *((_BYTE *)&word_54F2104[34 * v22 + 2] + 16 * v20 + 8 * v19 + 1) = v16;
            *((_BYTE *)&word_54F2104[34 * v22 + 3] + 16 * v20 + 8 * v19) = v17;
            *((_BYTE *)&word_54F2104[34 * v22 + 3] + 16 * v20 + 8 * v19 + 1) = v18;
          }
        }
        else
        {
          *(&word_54F2104[34 * v22] + 8 * v20) = v12;
          *((_BYTE *)&unk_54F2106 + 68 * v22 + 16 * v20) = v13;
          *(&byte_54F2107[68 * v22] + 16 * v20) = v14;
          *(&byte_54F2108[68 * v22] + 16 * v20) = v15;
          *((_BYTE *)&unk_54F2109 + 68 * v22 + 16 * v20) = v16;
          *(&byte_54F210A[68 * v22] + 16 * v20) = v17;
          *(&byte_54F210B[68 * v22] + 16 * v20) = v18;
          v3 = *((_DWORD *)&byte_54F2108[68 * v22] + 4 * v20);
          v4 = 17 * v22;
          a2 = 16 * v20;
          *(&dword_54F210C[17 * v22] + 4 * v20) = *((_DWORD *)&word_54F2104[34 * v22] + 4 * v20);
          *(int *)((char *)&dword_54F2110[v4] + a2) = v3;
        }
        sub_4E3F40(
          a1,
          a2,
          (int)&String,
          " TextDataLoad 'lvitem.txt' (%d)lv:%d class:%d type:%d item:%d %d %d %d %d %d %d");
        Log(&String, "-system", 0);
      }
    }
  }
  return sub_4E46A0(1, v2, v8, v6, v7);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 54F2100: using guessed type int dword_54F2100[];
// 54F2104: using guessed type __int16 word_54F2104[];
// 54F210C: using guessed type int dword_54F210C[];
// 54F2110: using guessed type int dword_54F2110[];

//----- (0045B940) --------------------------------------------------------
int __usercall sub_45B940<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-74h]@0
  int v5; // [sp+4h] [bp-70h]@0
  int v6; // [sp+8h] [bp-6Ch]@0
  char v7; // [sp+Ch] [bp-68h]@1
  __int16 v8; // [sp+4Ch] [bp-28h]@4
  char v9; // [sp+50h] [bp-24h]@5
  char v10; // [sp+54h] [bp-20h]@5
  char v11; // [sp+58h] [bp-1Ch]@5
  char v12; // [sp+5Ch] [bp-18h]@5
  char v13; // [sp+60h] [bp-14h]@5
  char v14; // [sp+64h] [bp-10h]@5
  int i; // [sp+68h] [bp-Ch]@2
  int v16; // [sp+6Ch] [bp-8h]@4
  int v17; // [sp+70h] [bp-4h]@1
  int v18; // [sp+74h] [bp+0h]@4

  memset(&v7, -858993460, 0x68u);
  v2 = sub_4E4620(a1, a2, "deleteitem.txt", (int)"rt");
  v17 = v2;
  if ( v2 )
  {
    v2 = (int)sub_4E4640(word_750BA40, 0, 0x28u);
    for ( i = 0; i < 5; ++i )
    {
      v2 = sub_4E7990(a1, (int)&v18, a2, v17, "%d %d %d %d %d %d %d", (unsigned int)&v8);
      v16 = v2;
      if ( v2 != 7 )
        break;
      word_750BA40[4 * i] = v8;
      byte_750BA42[8 * i] = v9;
      byte_750BA43[8 * i] = v10;
      byte_750BA44[8 * i] = v11;
      byte_750BA45[8 * i] = v12;
      byte_750BA46[8 * i] = v13;
      byte_750BA47[8 * i] = v14;
      sub_4E3F40(a1, a2, (int)&String, " TextDataLoad 'deleteitem.txt' itemlist[%d] set %d %d %d %d %d %d %d ");
      Log(&String, "-system", 0);
      v2 = i + 1;
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 750BA40: using guessed type __int16 word_750BA40[];

//----- (0045BB40) --------------------------------------------------------
int __userpurge sub_45BB40<eax>(int a1<ebx>, int a2<esi>, HINSTANCE a3, int a4, int a5, int a6)
{
  int v6; // eax@3
  int v7; // eax@6
  int v8; // eax@6
  int v9; // eax@6
  int v10; // eax@6
  int v11; // edi@6
  int v12; // esi@6
  int v13; // eax@10
  int v14; // eax@24
  int v15; // eax@26
  int v16; // eax@46
  int v17; // eax@46
  int v18; // eax@46
  int v19; // eax@47
  int v20; // eax@48
  int v21; // eax@48
  char v23; // [sp+0h] [bp-38Ch]@6
  int v24; // [sp+4h] [bp-388h]@50
  int v25; // [sp+8h] [bp-384h]@50
  char v26; // [sp+Ch] [bp-380h]@1
  int v27; // [sp+4Ch] [bp-340h]@46
  __int16 v28; // [sp+50h] [bp-33Ch]@46
  __int16 v29; // [sp+52h] [bp-33Ah]@46
  char v30; // [sp+68h] [bp-324h]@43
  int v31; // [sp+12Ch] [bp-260h]@41
  char *v32; // [sp+130h] [bp-25Ch]@41
  int k; // [sp+134h] [bp-258h]@27
  char *v34; // [sp+138h] [bp-254h]@25
  int j; // [sp+13Ch] [bp-250h]@16
  int i; // [sp+140h] [bp-24Ch]@14
  char v37; // [sp+144h] [bp-248h]@13
  char v38; // [sp+148h] [bp-244h]@13
  char v39; // [sp+14Ch] [bp-240h]@13
  char v40; // [sp+150h] [bp-23Ch]@13
  char v41; // [sp+154h] [bp-238h]@11
  char v42; // [sp+158h] [bp-234h]@11
  char v43; // [sp+15Ch] [bp-230h]@11
  char v44; // [sp+160h] [bp-22Ch]@11
  int v45; // [sp+164h] [bp-228h]@8
  int v46; // [sp+168h] [bp-224h]@8
  char v47; // [sp+16Ch] [bp-220h]@8
  char v48; // [sp+26Ch] [bp-120h]@9
  int v49; // [sp+36Ch] [bp-20h]@6
  struct tagMSG Msg; // [sp+370h] [bp-1Ch]@47
  int v51; // [sp+38Ch] [bp+0h]@1

  memset(&v26, -858993460, 0x380u);
  sub_401032(0, 1, 0);
  sub_4E91C0(a1, (int)&v51, a2, (int)&dword_8A58B8);
  if ( a4 || sub_4014EC(a3) )
  {
    if ( sub_4010AF(a3, a6) )
    {
      v7 = (int)CreateFontA(12, 0, 0, 0, 300, 0, 0, 0, 1u, 5u, 0, 0, 0, "Fixedsys");
      h = (HGDIOBJ)sub_4E46A0(&v23 == &v23, v7, a1, (unsigned int)&v51, (int)&v23);
      v8 = GetTickCount();
      v9 = sub_4E46A0(&v23 == &v23, v8, a1, (unsigned int)&v51, (int)&v23);
      sub_4E46E0(v9);
      sub_401933();
      sub_401839();
      sub_401A50();
      sub_4E91C0(a1, (int)&v51, (int)&v23, (int)&dword_8A58B8);
      v10 = sub_4E8F60(a1, (int)&v51, (int)&v23, &dword_8A58B8);
      memcpy(&dword_AACD30, (const void *)v10, 0x24u);
      v12 = v10 + 36;
      v11 = (int)(&dword_AACD30 + 9);
      sub_4018D9("GAME");
      sub_4017C1("PCROOM");
      sub_401A3C("BILL");
      sub_4014F1("CHAT");
      sub_40153C("GAMB");
      sub_4E4640(word_74F8198, 0, 0x340u);
      sub_4019B5();
      dword_8C76364 = 1;
      sub_401154(1);
      sub_4E4640(word_750BAC4, 0, 0x20000u);
      sub_4E4640(word_882F930, 0, 0x20000u);
      sub_4E4640(dword_88634F0, 0, 0x14u);
      sub_4E4640(dword_750BA90, 0, 0x28u);
      sub_4E4640(dword_882F4F0, 0, 0x28u);
      sub_4E4640(dword_752BAC4, 0, 0x14u);
      sub_4E4640(dword_74F8668, 0, 0x190u);
      v49 = sub_401276(&s);
      if ( v49 )
      {
        sub_401208();
        v47 = 0;
        v46 = 0;
        v45 = sub_4E4620(a1, v12, "localip.txt", (int)"rt");
        if ( v45 )
        {
          sub_4E7990(a1, v11, v12, v45, "%s %d", (unsigned int)&v48);
          sub_4E7990(a1, v11, v12, v45, "%s", (unsigned int)&v47);
          sub_4E4260(a1, v12, v45);
        }
        else
        {
          v12 = (int)&v23;
          v13 = MessageBoxA(hWnd, "Can't find localip.txt", "REBOOTING ERROR", 0);
          sub_4E46A0(&v23 == &v23, v13, a1, v11, (int)&v23);
        }
        sub_4E4340(a1, v11, v12, (int)&v48, "%d.%d.%d.%d", (unsigned int)&v44);
        sub_4E4720((int)&unk_54EB288);
        byte_8C76358 = v44;
        byte_8C76359 = v43;
        byte_8C7635A = v42;
        byte_8C7635B = v41;
        if ( v47 )
        {
          sub_4E4340(a1, v11, v12, (int)&v47, "%d.%d.%d.%d", (unsigned int)&v40);
          byte_8C7635C = v40;
          byte_8C7635D = v39;
          byte_8C7635E = v38;
          byte_8C7635F = v37;
        }
        else
        {
          byte_8C7635C = byte_8C76358;
          byte_8C7635D = byte_8C76359;
          byte_8C7635E = byte_8C7635A;
          byte_8C7635F = byte_8C7635B;
        }
        byte_54F20E0 = 0;
        for ( i = 0; ; ++i )
        {
          if ( i < 10 )
          {
            for ( j = 1; j < 11; ++j )
            {
              if ( !sub_4E4D80((int)(&byte_AAAEF0[704 * i] + 64 * j), (int)&v48) )
              {
                sub_4E4720((int)&byte_54F20E0);
                dword_5A1060 = i;
                dword_5A1054 = j - 1;
                break;
              }
            }
            if ( !byte_54F20E0 )
              continue;
          }
          break;
        }
        if ( byte_54F20E0 )
        {
          dword_54F20DC = 7514;
          v34 = &byte_8C7635C;
          v49 = sub_401686(&byte_54F20E0, 0x1D5Au, *(_DWORD *)&byte_8C7635C, 0x402u);
          if ( v49 )
          {
            dword_5A1008 = 0;
            for ( k = 1; k < 11; ++k )
            {
              if ( *(&byte_AAAEF0[704 * dword_5A1060] + 64 * k) )
                ++dword_5A1008;
            }
            if ( dword_5A1008 <= 0 )
              dword_5A1008 = 1;
            if ( dword_5A1008 > 10 )
              dword_5A1008 = 10;
            if ( !sub_4E4D80((int)&byte_54F20E0, (int)"122.168.0.5") )
            {
              dword_8C762D4 = 1;
              dword_8C76388 = 1;
              dword_5A103C = 0;
            }
            v45 = sub_4E4620(a1, v12, "biserver.txt", (int)"rt");
            if ( v45 )
            {
              sub_4E7990(a1, v11, v12, v45, "%s %d", (unsigned int)&unk_BDE9A0);
              sub_4E4260(a1, v12, v45);
            }
            if ( dword_5A103C > 0 )
            {
              v32 = &byte_8C76358;
              v31 = sub_4012B2((char *)&unk_BDE9A0, dword_54F20D8, *(_DWORD *)&byte_8C76358, 0x404u);
              if ( v31 )
              {
                sub_4E4640(&v30, 0, 0xC4u);
                sub_40112C(&v30, 0xCu);
                sub_4E4640(&v30, 0, 0xC4u);
                sub_40112C(&v30, 4u);
              }
              else
              {
                Log("err,Can't connect Billing server.", "-system", 0);
                dword_5A103C = 0;
              }
            }
            if ( dword_8C762D4 == 1 )
              dword_5A1054 = v46;
            sub_40118B();
            sub_401190();
            sub_401613();
            sub_401BD6();
            sub_40161D();
            sub_401CA8();
            sub_4019F1();
            sub_4E4640(byte_74F8D98, 0, 0x400u);
            v16 = timeGetTime();
            dword_8C76270 = sub_4E46A0(&v23 == &v23, v16, a1, v11, (int)&v23);
            v17 = SetTimer(hWnd, 0, 0xFAu, 0);
            sub_4E46A0(&v23 == &v23, v17, a1, v11, (int)&v23);
            v18 = SetTimer(hWnd, 1u, 0x2710u, 0);
            sub_4E46A0(&v23 == &v23, v18, a1, v11, (int)&v23);
            Log("sys,start initialized", "-system", 0);
            sub_401947(hWnd, *(_DWORD *)v34, 0x2059u, 0x403u);
            sub_401B86();
            sub_4019D3();
            sub_40105A();
            sub_401307();
            sub_4018F7(".\\TOTOGame.csv");
            sub_401C8F();
            sub_401AFA();
            sub_401703();
            sub_40185C();
            dword_54EB278 = dword_5A0A50;
            sub_4E4640(&v27, 0, 0x1Cu);
            v29 = 0;
            LOWORD(v27) = 28;
            v28 = 3107;
            sub_40132A(&v27, 28);
            sub_401875("CountryIP.csv");
            while ( 1 )
            {
              v19 = GetMessageA(&Msg, 0, 0, 0);
              if ( !sub_4E46A0(&v23 == &v23, v19, a1, v11, (int)&v23) )
                break;
              v20 = TranslateMessage(&Msg);
              sub_4E46A0(&v23 == &v23, v20, a1, v11, (int)&v23);
              v21 = DispatchMessageA(&Msg);
              sub_4E46A0(&v23 == &v23, v21, a1, v11, (int)&v23);
            }
            sub_40143D();
            v6 = Msg.wParam;
          }
          else
          {
            Log("err,Can't connect to DB-Server.", "-system", 0);
            v15 = MessageBoxA(hWnd, "Can't connect to DB-SERVER", "REBOOTING ERROR", 0);
            sub_4E46A0(&v23 == &v23, v15, a1, v11, (int)&v23);
            v6 = 0;
          }
        }
        else
        {
          v14 = MessageBoxA(
                  hWnd,
                  "Can't get Server Group Index. check [Locakip.txt] and [ServerList.txt]",
                  "Error",
                  0x1000u);
          sub_4E46A0(&v23 == &v23, v14, a1, v11, (int)&v23);
          v6 = 1;
        }
      }
      else
      {
        Log("err,WSAInitialize fail", "-system", 0);
        v6 = 0;
      }
    }
    else
    {
      v6 = 0;
    }
  }
  else
  {
    v6 = 0;
  }
  return sub_4E46A0(1, v6, v25, v23, v24);
}
// 401032: using guessed type _DWORD __cdecl sub_401032(_DWORD, _DWORD, _DWORD);
// 40105A: using guessed type int sub_40105A(void);
// 4010AF: using guessed type _DWORD __cdecl sub_4010AF(HINSTANCE hInstance, _DWORD nCmdShow);
// 40112C: using guessed type _DWORD __cdecl sub_40112C(_DWORD, u_long hostlong);
// 401154: using guessed type _DWORD __cdecl sub_401154(_DWORD);
// 40118B: using guessed type int sub_40118B(void);
// 401190: using guessed type int sub_401190(void);
// 401208: using guessed type int sub_401208(void);
// 401276: using guessed type int __thiscall sub_401276(_DWORD);
// 4012B2: using guessed type _DWORD __stdcall sub_4012B2(char *cp, u_short hostshort, _DWORD, u_int wMsg);
// 401307: using guessed type int sub_401307(void);
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 40143D: using guessed type int sub_40143D(void);
// 4014EC: using guessed type _DWORD __cdecl sub_4014EC(HINSTANCE hInstance);
// 4014F1: using guessed type _DWORD __cdecl sub_4014F1(_DWORD);
// 40153C: using guessed type _DWORD __cdecl sub_40153C(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401613: using guessed type int sub_401613(void);
// 40161D: using guessed type int sub_40161D(void);
// 401686: using guessed type _DWORD __stdcall sub_401686(char *cp, u_short hostshort, _DWORD, u_int wMsg);
// 401703: using guessed type int sub_401703(void);
// 4017C1: using guessed type _DWORD __cdecl sub_4017C1(_DWORD);
// 401839: using guessed type int sub_401839(void);
// 40185C: using guessed type int sub_40185C(void);
// 401875: using guessed type _DWORD __cdecl sub_401875(_DWORD);
// 4018D9: using guessed type _DWORD __cdecl sub_4018D9(_DWORD);
// 4018F7: using guessed type _DWORD __cdecl sub_4018F7(_DWORD);
// 401933: using guessed type int sub_401933(void);
// 401947: using guessed type _DWORD __stdcall sub_401947(HWND hWnd, _DWORD, u_short hostshort, u_int wMsg);
// 4019B5: using guessed type int sub_4019B5(void);
// 4019D3: using guessed type int sub_4019D3(void);
// 4019F1: using guessed type int sub_4019F1(void);
// 401A3C: using guessed type _DWORD __cdecl sub_401A3C(_DWORD);
// 401A50: using guessed type int sub_401A50(void);
// 401AFA: using guessed type int sub_401AFA(void);
// 401B86: using guessed type int sub_401B86(void);
// 401BD6: using guessed type int sub_401BD6(void);
// 401C8F: using guessed type int sub_401C8F(void);
// 401CA8: using guessed type int sub_401CA8(void);
// 5A0A50: using guessed type int dword_5A0A50;
// 5A1008: using guessed type int dword_5A1008;
// 5A103C: using guessed type int dword_5A103C;
// 5A1054: using guessed type int dword_5A1054;
// 5A1060: using guessed type int dword_5A1060;
// 8A58B8: using guessed type int dword_8A58B8;
// AACD30: using guessed type int dword_AACD30;
// 54EB278: using guessed type int dword_54EB278;
// 54F20D8: using guessed type int dword_54F20D8;
// 54F20DC: using guessed type int dword_54F20DC;
// 54F20E0: using guessed type char byte_54F20E0;
// 74F8198: using guessed type __int16 word_74F8198[];
// 74F8668: using guessed type int dword_74F8668[];
// 750BA90: using guessed type int dword_750BA90[];
// 750BAC4: using guessed type __int16 word_750BAC4[];
// 752BAC4: using guessed type int dword_752BAC4[];
// 882F4F0: using guessed type int dword_882F4F0[];
// 882F930: using guessed type __int16 word_882F930[];
// 88634F0: using guessed type int dword_88634F0[];
// 8C76270: using guessed type int dword_8C76270;
// 8C762D4: using guessed type int dword_8C762D4;
// 8C76358: using guessed type char byte_8C76358;
// 8C76359: using guessed type char byte_8C76359;
// 8C7635A: using guessed type char byte_8C7635A;
// 8C7635B: using guessed type char byte_8C7635B;
// 8C7635C: using guessed type char byte_8C7635C;
// 8C7635D: using guessed type char byte_8C7635D;
// 8C7635E: using guessed type char byte_8C7635E;
// 8C7635F: using guessed type char byte_8C7635F;
// 8C76364: using guessed type int dword_8C76364;
// 8C76388: using guessed type int dword_8C76388;

//----- (0045DB50) --------------------------------------------------------
int __cdecl sub_45DB50(int a1, int a2, int a3, int a4, int a5)
{
  char v6; // [sp+0h] [bp-54h]@0
  int v7; // [sp+4h] [bp-50h]@0
  int v8; // [sp+8h] [bp-4Ch]@0
  char v9; // [sp+Ch] [bp-48h]@1
  int i; // [sp+4Ch] [bp-8h]@1
  int v11; // [sp+50h] [bp-4h]@1

  memset(&v9, -858993460, 0x48u);
  v11 = 0;
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22
      && dword_1FDF1D4[431 * i]
      && dword_1FDF1F4[431 * i] >= a1
      && dword_1FDF1F4[431 * i] <= a3
      && dword_1FDF1F8[431 * i] >= a2 )
    {
      if ( dword_1FDF1F8[431 * i] <= a4 )
      {
        sub_4E4720(a5);
        ++v11;
      }
    }
  }
  return sub_4E46A0(1, v11, v8, v6, v7);
}
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (0045DC90) --------------------------------------------------------
int __cdecl sub_45DC90(int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-6Ch]@0
  int v5; // [sp+4h] [bp-68h]@0
  int v6; // [sp+8h] [bp-64h]@0
  char v7; // [sp+Ch] [bp-60h]@1
  int v8; // [sp+4Ch] [bp-20h]@19
  int v9; // [sp+50h] [bp-1Ch]@17
  int v10; // [sp+54h] [bp-18h]@12
  int v11; // [sp+58h] [bp-14h]@9
  int i; // [sp+5Ch] [bp-10h]@6
  int v13; // [sp+60h] [bp-Ch]@4
  int v14; // [sp+64h] [bp-8h]@1
  int v15; // [sp+68h] [bp-4h]@1

  memset(&v7, -858993460, 0x60u);
  v2 = (int)&word_1FDED6C[862 * a1];
  v15 = (int)&word_1FDED6C[862 * a1];
  v14 = 1;
  if ( a2 )
  {
    v2 = sub_4E9350(a2, v15, 8u);
    v14 = v2;
  }
  if ( v14 )
  {
    v13 = dword_1FDF1D8[431 * a1];
    if ( !v13 )
      v13 = a1;
    for ( i = 0; i < 12; ++i )
    {
      v11 = *(&word_1FDF28A[862 * v13] + i);
      if ( v11 > 0 )
      {
        if ( v11 <= 12800 )
        {
          v10 = LOWORD(dword_1FDECFC[431 * v11]);
          if ( dword_1FDF2A8[431 * v11] == a1 )
          {
            if ( v10 >= 315 )
            {
              if ( v10 <= 346 )
                sub_401B90(v11, 3);
            }
          }
        }
      }
    }
    v2 = v15;
    v9 = *(_WORD *)v15 - 2320;
    if ( v9 >= 10 )
    {
      if ( v9 < 40 )
      {
        v2 = sub_40191F(v15, 80);
        v8 = v2;
        if ( v2 > 0 )
          v2 = sub_401744(a1, v9, v15);
      }
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401744: using guessed type _DWORD __cdecl sub_401744(_DWORD, _DWORD, _DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED6C: using guessed type __int16 word_1FDED6C[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 1FDF2A8: using guessed type int dword_1FDF2A8[];

//----- (0045DE40) --------------------------------------------------------
int __cdecl sub_45DE40(signed int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-64h]@0
  int v4; // [sp+4h] [bp-60h]@0
  int v5; // [sp+8h] [bp-5Ch]@0
  char v6; // [sp+Ch] [bp-58h]@1
  __int16 v7; // [sp+4Ch] [bp-18h]@12
  __int16 v8; // [sp+50h] [bp-14h]@12
  __int16 v9; // [sp+54h] [bp-10h]@11
  __int16 v10; // [sp+58h] [bp-Ch]@11
  int v11; // [sp+5Ch] [bp-8h]@6
  int v12; // [sp+60h] [bp-4h]@3

  v1 = -858993460;
  memset(&v6, -858993460, 0x58u);
  if ( a1 >= 1000 )
  {
    v1 = 1724 * a1;
    if ( byte_1FDECB0[1724 * a1] == 4 )
    {
      v1 = LOWORD(dword_1FDECFC[431 * a1]);
      v12 = LOWORD(dword_1FDECFC[431 * a1]);
      if ( v12 >= 315 )
      {
        if ( v12 <= 346 )
        {
          v11 = dword_1FDF2A8[431 * a1];
          if ( v11 > 0 )
          {
            if ( v11 < 1000 )
            {
              v1 = 1724 * v11;
              if ( dword_1FDF1D4[431 * v11] )
              {
                if ( dword_752BAF0[790 * v11] == 22 )
                {
                  v10 = word_1FDED6C[862 * v11] - 2330;
                  v9 = v12 - 315;
                  v1 = v10;
                  if ( (signed __int16)(v12 - 315) == v10 )
                  {
                    v8 = word_1FDED6E[862 * v11];
                    v7 = word_1FDECEC[862 * a1];
                    v1 = v7;
                    if ( v8 != v7 )
                    {
                      word_1FDED6E[862 * v11] = v7;
                      v1 = sub_401960(v11, 0, 14, &word_1FDED6C[862 * v11]);
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED6C: using guessed type __int16 word_1FDED6C[];
// 1FDED6E: using guessed type __int16 word_1FDED6E[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF2A8: using guessed type int dword_1FDF2A8[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (0045E010) --------------------------------------------------------
int __cdecl sub_45E010(signed int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-68h]@0
  int v5; // [sp+4h] [bp-64h]@0
  int v6; // [sp+8h] [bp-60h]@0
  char v7; // [sp+Ch] [bp-5Ch]@1
  __int16 v8; // [sp+4Ch] [bp-1Ch]@9
  int v9; // [sp+50h] [bp-18h]@7
  int v10; // [sp+54h] [bp-14h]@7
  int v11; // [sp+58h] [bp-10h]@4
  int v12; // [sp+5Ch] [bp-Ch]@4
  int v13; // [sp+60h] [bp-8h]@4
  __int16 *v14; // [sp+64h] [bp-4h]@1

  memset(&v7, -858993460, 0x5Cu);
  v2 = (int)&word_1FDED6C[862 * a1];
  v14 = &word_1FDED6C[862 * a1];
  if ( word_1FDED6C[862 * a1] >= 2360 )
  {
    v2 = (int)v14;
    if ( *v14 < 2390 )
    {
      v13 = *v14 - 2360;
      v12 = (unsigned __int16)word_74F9338[378 * (v13 + 10)];
      v11 = *((_BYTE *)v14 + 6);
      if ( v11 > 0 || v14[1] <= 0 )
      {
        v10 = v14[1];
        v2 = v14[1] - a2;
        v9 = v14[1] - a2;
        if ( v9 >= v12 )
          v9 = v12;
        LOWORD(v2) = v9;
        v8 = v9;
        v14[1] = v9;
        if ( v9 <= 0 )
        {
          v2 = (int)v14;
          *((_BYTE *)v14 + 6) = 0;
        }
        if ( v10 <= 0 && v9 > 0 || v9 <= 0 && v10 > 0 )
        {
          sub_401AC3(a1, 0);
          sub_4016EF(a1);
          v2 = sub_4018B1(a1);
        }
        if ( v10 != v9 && a1 < 1000 )
          v2 = sub_401960(a1, 0, 14, &word_1FDED6C[862 * a1]);
      }
      else
      {
        v14[1] = 0;
        v11 = 0;
        v2 = sub_4016EF(a1);
      }
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401AC3: using guessed type _DWORD __cdecl sub_401AC3(_DWORD, _DWORD);
// 1FDED6C: using guessed type __int16 word_1FDED6C[];
// 74F9338: using guessed type __int16 word_74F9338[];

//----- (0049E610) --------------------------------------------------------
int __usercall sub_49E610<eax>(int a1<ebx>, int a2<esi>, u_long *a3)
{
  signed int v3; // eax@7
  char v5; // [sp+0h] [bp-2A8h]@0
  int v6; // [sp+4h] [bp-2A4h]@0
  int v7; // [sp+8h] [bp-2A0h]@0
  char v8; // [sp+Ch] [bp-29Ch]@1
  int v9; // [sp+4Ch] [bp-25Ch]@83
  int v10; // [sp+50h] [bp-258h]@83
  int v11; // [sp+54h] [bp-254h]@83
  char v12; // [sp+58h] [bp-250h]@39
  int v13; // [sp+158h] [bp-150h]@32
  int v14; // [sp+15Ch] [bp-14Ch]@32
  int v15; // [sp+160h] [bp-148h]@32
  char v16; // [sp+164h] [bp-144h]@24
  const CHAR MultiByteStr; // [sp+1E4h] [bp-C4h]@24
  int v18; // [sp+264h] [bp-44h]@22
  int v19; // [sp+268h] [bp-40h]@10
  int v20; // [sp+26Ch] [bp-3Ch]@10
  char v21; // [sp+270h] [bp-38h]@1
  char v22; // [sp+271h] [bp-37h]@1
  char v23; // [sp+272h] [bp-36h]@1
  char v24; // [sp+273h] [bp-35h]@1
  char v25; // [sp+274h] [bp-34h]@1
  int v26; // [sp+290h] [bp-18h]@1
  int v27; // [sp+294h] [bp-14h]@1
  u_long v28; // [sp+298h] [bp-10h]@1
  u_long v29; // [sp+29Ch] [bp-Ch]@1
  u_long v30; // [sp+2A0h] [bp-8h]@1
  int v31; // [sp+2A4h] [bp-4h]@1
  int v32; // [sp+2A8h] [bp+0h]@1

  memset(&v8, -858993460, 0x29Cu);
  v31 = (int)a3;
  v30 = ntohl(*a3);
  v29 = ntohl(*(_DWORD *)(v31 + 4));
  v28 = ntohl(*(_DWORD *)(v31 + 192));
  v27 = v31 + 96;
  v26 = 0;
  v21 = *(_BYTE *)(v31 + 65);
  v22 = *(_BYTE *)(v31 + 66);
  v23 = *(_BYTE *)(v31 + 67);
  v24 = *(_BYTE *)(v31 + 68);
  v25 = 0;
  sub_4E4340(a1, (int)&v32, a2, (int)&v21, "%d", (unsigned int)&v26);
  sub_4014BA(0, v26, v30, v29, v28, v27);
  if ( v26 > 0 && v26 < 1000 )
  {
    v20 = sub_4E4D80(v27, (int)&byte_752BAD8[3160 * v26]);
    v19 = 0;
    if ( byte_752C3E0[3160 * v26] != *(_BYTE *)(v31 + 60)
      || byte_752C3E1[3160 * v26] != *(_BYTE *)(v31 + 61)
      || byte_752C3E2[3160 * v26] != *(_BYTE *)(v31 + 62)
      || byte_752C3E3[3160 * v26] != *(_BYTE *)(v31 + 63) )
      v19 = 1;
    if ( !dword_752BAF0[790 * v26] || v20 || v19 )
    {
      if ( v30 == 6 )
      {
        v3 = sub_40112C(v31, 6u);
      }
      else
      {
        *(_DWORD *)(v31 + 4) = htonl(1u);
        v3 = sub_40112C(a3, 2u);
      }
    }
    else
    {
      v18 = 0;
      if ( dword_752BAF0[790 * v26] == 22 )
        v18 = dword_752C460[790 * v26];
      sub_4E4720((int)&MultiByteStr);
      sub_4E8E60(a1, (int)&v32, a2, &MultiByteStr);
      sub_4E4720((int)&v16);
      sub_4E8E60(a1, (int)&v32, a2, &v16);
      v3 = sub_4E4D80((int)&MultiByteStr, (int)&v16);
      if ( v3 )
      {
        if ( v30 == 6 )
        {
          *(_DWORD *)(v31 + 4) = htonl(1u);
          v3 = sub_40112C(v31, 6u);
          return sub_4E46A0(1, v3, v7, v5, v6);
        }
        v3 = sub_40112C(a3, 2u);
      }
      if ( v30 != 1 && v30 != 8 )
      {
        if ( v30 != 2 )
        {
          if ( v30 == 5 )
          {
            v11 = (signed int)v28 / 3600;
            v10 = (signed int)v28 % 3600 / 60;
            v3 = (signed int)v28 / 60;
            v9 = (signed int)v28 % 60;
            if ( dword_5A103C == 2 || dword_5A103C == 3 && v18 >= 1 )
            {
              if ( v29 == 1 )
              {
                if ( v11 || v10 )
                {
                  if ( v11 )
                    v3 = sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AB744);
                  else
                    v3 = sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AA644);
                }
                else
                {
                  v3 = sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AA5C4);
                }
                if ( dword_5A103C == 2
                  || dword_5A103C == 3 && dword_752BAF0[790 * v26] == 22 && (v3 = word_1FDECC4[862 * v26], v3 >= 1000) )
                  v3 = sub_401B63(v26, &String);
              }
              else
              {
                if ( v29 != -3 )
                {
                  if ( v29 )
                  {
                    if ( v29 == -1 )
                    {
                      sub_4015FF(v26, 0, 404, 0);
                      sub_401B63(v26, &unk_8AA744);
                    }
                    else
                    {
                      if ( v29 == -2 )
                        sub_401B63(v26, &unk_8AA7C4);
                      else
                        sub_401B63(v26, &unk_8AA844);
                    }
                  }
                  else
                  {
                    sub_4015FF(v26, 0, 404, 0);
                    sub_401B63(v26, &unk_8AA6C4);
                  }
                  sub_4019FB(&dword_752BAF8[790 * v26]);
                  v3 = sub_401302(v26);
                }
              }
            }
          }
          else
          {
            if ( v30 == 6 )
            {
              *(_DWORD *)(v31 + 4) = htonl(0);
              v3 = sub_40112C(v31, 6u);
            }
          }
        }
      }
      else
      {
        sub_4E4720((int)&byte_752C3C8[3160 * v26]);
        if ( v29 && (v3 = v31, *(_BYTE *)(v31 + 176) != 83) )
        {
          if ( v29 != 10 && v29 != 11 && v29 != 12 )
          {
            if ( v29 == 32 )
            {
              dword_752C0C8[790 * v26] = 4;
            }
            else
            {
              if ( v29 == 35 )
              {
                dword_752C0C8[790 * v26] = 5;
                v3 = sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AC744);
                if ( dword_5A103C == 2 || dword_5A103C == 3 && v18 >= 1 )
                  v3 = sub_401B63(v26, &String);
              }
              else
              {
                dword_752C0C8[790 * v26] = 6;
                v3 = sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AA544);
                if ( dword_5A103C == 2 || dword_5A103C == 3 && v18 >= 1 )
                  v3 = sub_401B63(v26, &String);
              }
            }
          }
          else
          {
            dword_752C0C8[790 * v26] = 3;
          }
        }
        else
        {
          dword_752C0C8[790 * v26] = 2;
          v15 = (signed int)v28 / 3600;
          v14 = (signed int)v28 % 3600 / 60;
          v13 = (signed int)v28 % 60;
          if ( *(_BYTE *)(v31 + 178) == 84 )
          {
            if ( v15 || v14 )
            {
              if ( v15 )
                sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AB744);
              else
                sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AA644);
            }
            else
            {
              sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AA5C4);
            }
            v3 = sub_4E3F40(a1, a2, (int)&v12, "^%s");
            if ( dword_5A103C == 2 || dword_5A103C == 3 && v18 >= 1 )
            {
              if ( !dword_8C762BC && v30 == 8 )
                v3 = sub_401B63(v26, &v12);
              if ( dword_8C762BC && v30 == 1 )
                v3 = sub_401B63(v26, &v12);
            }
          }
          else
          {
            v3 = *(_BYTE *)(v31 + 178);
            if ( v3 == 70 )
            {
              dword_752C464[790 * v26] = *(_BYTE *)(v31 + 176) == 83 ? 1 : 0;
              sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AB7C4);
              v3 = sub_4E3F40(a1, a2, (int)&v12, "^%s");
              if ( dword_5A103C == 2 || dword_5A103C == 3 && v18 >= 1 )
              {
                if ( *(_BYTE *)(v31 + 161) != 80 )
                {
                  if ( !dword_8C762BC && v30 == 8 )
                    v3 = sub_401B63(v26, &v12);
                  if ( dword_8C762BC && v30 == 1 )
                    v3 = sub_401B63(v26, &v12);
                }
              }
            }
          }
        }
      }
    }
  }
  else
  {
    if ( v30 == 6 )
    {
      *(_DWORD *)(v31 + 4) = htonl(1u);
      if ( dword_752C484[790 * v26] == 1 && byte_752BAD9[3160 * v26] != 95 )
        sub_4E3F40(a1, a2, v31 + 96, "%s");
      v3 = sub_40112C(v31, 6u);
    }
    else
    {
      *(_DWORD *)(v31 + 4) = htonl(1u);
      v3 = sub_40112C(a3, 2u);
    }
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 40112C: using guessed type _DWORD __cdecl sub_40112C(_DWORD, u_long hostlong);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 4014BA: using guessed type _DWORD __cdecl sub_4014BA(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 4019FB: using guessed type int __thiscall sub_4019FB(_DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 5A103C: using guessed type int dword_5A103C;
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];
// 752C0C8: using guessed type int dword_752C0C8[];
// 752C460: using guessed type int dword_752C460[];
// 752C464: using guessed type int dword_752C464[];
// 752C484: using guessed type int dword_752C484[];
// 8C762BC: using guessed type int dword_8C762BC;

//----- (0049F100) --------------------------------------------------------
int __usercall sub_49F100<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@2
  int v4; // esi@153
  int v5; // ecx@245
  int v6; // edx@245
  int v7; // esi@247
  int v8; // esi@251
  int v9; // eax@293
  int v10; // ecx@293
  int v11; // esi@293
  int v12; // edx@300
  int v13; // eax@300
  int v14; // esi@300
  int v15; // esi@392
  int v16; // esi@392
  int v17; // esi@457
  int v18; // esi@457
  int v19; // esi@482
  int v20; // esi@483
  int v21; // esi@665
  int v22; // esi@665
  __int64 v23; // qax@714
  int v24; // esi@721
  int v25; // ecx@786
  int v26; // edx@786
  int v27; // edx@815
  int v28; // eax@815
  int v29; // edx@843
  char v31; // [sp+0h] [bp-1424h]@0
  int v32; // [sp+4h] [bp-1420h]@0
  int v33; // [sp+8h] [bp-141Ch]@0
  char v34; // [sp+Ch] [bp-1418h]@1
  int v35; // [sp+4Ch] [bp-13D8h]@188
  int v36; // [sp+50h] [bp-13D4h]@5
  int v37; // [sp+54h] [bp-13D0h]@878
  char v38; // [sp+58h] [bp-13CCh]@861
  __int16 v39; // [sp+5Ch] [bp-13C8h]@861
  __int16 v40; // [sp+5Eh] [bp-13C6h]@861
  int v41; // [sp+64h] [bp-13C0h]@856
  int v42; // [sp+68h] [bp-13BCh]@855
  int v43; // [sp+6Ch] [bp-13B8h]@854
  int v44; // [sp+70h] [bp-13B4h]@853
  int v45; // [sp+74h] [bp-13B0h]@852
  int v46; // [sp+78h] [bp-13ACh]@851
  int v47; // [sp+7Ch] [bp-13A8h]@850
  int v48; // [sp+80h] [bp-13A4h]@849
  __int16 v49; // [sp+84h] [bp-13A0h]@849
  __int16 v50; // [sp+86h] [bp-139Eh]@849
  int v51; // [sp+8Ch] [bp-1398h]@849
  int v52; // [sp+90h] [bp-1394h]@849
  char v53; // [sp+94h] [bp-1390h]@848
  int v54; // [sp+A0h] [bp-1384h]@844
  int v55; // [sp+A4h] [bp-1380h]@841
  int v56; // [sp+A8h] [bp-137Ch]@837
  int v57; // [sp+ACh] [bp-1378h]@834
  unsigned int v58; // [sp+B0h] [bp-1374h]@820
  unsigned int v59; // [sp+B4h] [bp-1370h]@820
  unsigned int v60; // [sp+B8h] [bp-136Ch]@820
  unsigned int v61; // [sp+BCh] [bp-1368h]@820
  int v62; // [sp+C0h] [bp-1364h]@817
  int v63; // [sp+C4h] [bp-1360h]@817
  int v64; // [sp+C8h] [bp-135Ch]@817
  unsigned int v65; // [sp+CCh] [bp-1358h]@817
  int v66; // [sp+D0h] [bp-1354h]@816
  int v67; // [sp+D4h] [bp-1350h]@811
  int i12; // [sp+D8h] [bp-134Ch]@808
  int v69; // [sp+DCh] [bp-1348h]@796
  int v70; // [sp+E0h] [bp-1344h]@796
  int v71; // [sp+E4h] [bp-1340h]@796
  int v72; // [sp+E8h] [bp-133Ch]@796
  int v73; // [sp+ECh] [bp-1338h]@796
  int v74; // [sp+F0h] [bp-1334h]@815
  int i11; // [sp+F4h] [bp-1330h]@787
  int v76; // [sp+F8h] [bp-132Ch]@787
  int v77; // [sp+FCh] [bp-1328h]@787
  int v78; // [sp+100h] [bp-1324h]@782
  int i10; // [sp+104h] [bp-1320h]@779
  int v80; // [sp+108h] [bp-131Ch]@779
  int v81; // [sp+10Ch] [bp-1318h]@786
  int v82; // [sp+110h] [bp-1314h]@774
  int v83; // [sp+114h] [bp-1310h]@772
  int v84; // [sp+118h] [bp-130Ch]@772
  int i9; // [sp+11Ch] [bp-1308h]@765
  char v86; // [sp+120h] [bp-1304h]@754
  int v87; // [sp+1A0h] [bp-1284h]@754
  int v88; // [sp+1D0h] [bp-1254h]@749
  int v89; // [sp+1D4h] [bp-1250h]@740
  int v90; // [sp+1D8h] [bp-124Ch]@736
  int v91; // [sp+1DCh] [bp-1248h]@736
  int v92; // [sp+1E0h] [bp-1244h]@733
  int v93; // [sp+1E4h] [bp-1240h]@733
  int v94; // [sp+1E8h] [bp-123Ch]@729
  int v95; // [sp+1ECh] [bp-1238h]@729
  int v96; // [sp+1F0h] [bp-1234h]@729
  int i8; // [sp+1F4h] [bp-1230h]@723
  int v98; // [sp+1F8h] [bp-122Ch]@714
  int v99; // [sp+1FCh] [bp-1228h]@714
  int v100; // [sp+200h] [bp-1224h]@711
  int v101; // [sp+204h] [bp-1220h]@708
  int v102; // [sp+208h] [bp-121Ch]@702
  int v103; // [sp+20Ch] [bp-1218h]@701
  int v104; // [sp+210h] [bp-1214h]@700
  int v105; // [sp+214h] [bp-1210h]@700
  int v106; // [sp+218h] [bp-120Ch]@698
  __int16 v107; // [sp+21Ch] [bp-1208h]@698
  __int16 v108; // [sp+21Eh] [bp-1206h]@698
  int v109; // [sp+224h] [bp-1200h]@698
  int v110; // [sp+228h] [bp-11FCh]@698
  int v111; // [sp+22Ch] [bp-11F8h]@698
  int v112; // [sp+230h] [bp-11F4h]@695
  int v113; // [sp+234h] [bp-11F0h]@695
  int v114; // [sp+238h] [bp-11ECh]@691
  __int16 v115; // [sp+23Ch] [bp-11E8h]@691
  __int16 v116; // [sp+23Eh] [bp-11E6h]@691
  int v117; // [sp+244h] [bp-11E0h]@691
  int v118; // [sp+248h] [bp-11DCh]@691
  int v119; // [sp+24Ch] [bp-11D8h]@691
  int v120; // [sp+250h] [bp-11D4h]@688
  __int16 v121; // [sp+254h] [bp-11D0h]@688
  __int16 v122; // [sp+256h] [bp-11CEh]@688
  int v123; // [sp+25Ch] [bp-11C8h]@688
  int v124; // [sp+260h] [bp-11C4h]@688
  int v125; // [sp+264h] [bp-11C0h]@688
  int i7; // [sp+268h] [bp-11BCh]@680
  int i6; // [sp+26Ch] [bp-11B8h]@678
  int v128; // [sp+270h] [bp-11B4h]@678
  int v129; // [sp+274h] [bp-11B0h]@677
  int v130; // [sp+278h] [bp-11ACh]@675
  int v131; // [sp+27Ch] [bp-11A8h]@675
  int v132; // [sp+280h] [bp-11A4h]@671
  int v133; // [sp+284h] [bp-11A0h]@648
  int i5; // [sp+288h] [bp-119Ch]@644
  int v135; // [sp+28Ch] [bp-1198h]@618
  int v136; // [sp+290h] [bp-1194h]@618
  int v137; // [sp+294h] [bp-1190h]@618
  int v138; // [sp+298h] [bp-118Ch]@567
  int v139; // [sp+29Ch] [bp-1188h]@567
  int v140; // [sp+2A0h] [bp-1184h]@567
  int i4; // [sp+2A4h] [bp-1180h]@540
  int v142; // [sp+2A8h] [bp-117Ch]@521
  int v143; // [sp+2ACh] [bp-1178h]@516
  int v144; // [sp+2B0h] [bp-1174h]@501
  int v145; // [sp+2B4h] [bp-1170h]@498
  int i3; // [sp+2B8h] [bp-116Ch]@495
  int v147; // [sp+2BCh] [bp-1168h]@493
  int v148; // [sp+2C0h] [bp-1164h]@493
  int v149; // [sp+2C4h] [bp-1160h]@493
  int i2; // [sp+2C8h] [bp-115Ch]@490
  int v151; // [sp+2CCh] [bp-1158h]@490
  int v152; // [sp+2D0h] [bp-1154h]@488
  int v153; // [sp+2D4h] [bp-1150h]@488
  char v154; // [sp+2D8h] [bp-114Ch]@489
  int v155; // [sp+3D8h] [bp-104Ch]@486
  int v156; // [sp+3DCh] [bp-1048h]@485
  int v157; // [sp+3E0h] [bp-1044h]@484
  int v158; // [sp+3E4h] [bp-1040h]@483
  int v159; // [sp+3E8h] [bp-103Ch]@482
  int v160; // [sp+3ECh] [bp-1038h]@481
  int v161; // [sp+3F0h] [bp-1034h]@481
  int v162; // [sp+3F4h] [bp-1030h]@480
  int v163; // [sp+3F8h] [bp-102Ch]@480
  int v164; // [sp+3FCh] [bp-1028h]@479
  int v165; // [sp+400h] [bp-1024h]@479
  int v166; // [sp+404h] [bp-1020h]@478
  int v167; // [sp+408h] [bp-101Ch]@478
  int v168; // [sp+40Ch] [bp-1018h]@477
  int v169; // [sp+410h] [bp-1014h]@477
  int v170; // [sp+414h] [bp-1010h]@476
  int v171; // [sp+418h] [bp-100Ch]@476
  int v172; // [sp+41Ch] [bp-1008h]@475
  __int16 v173; // [sp+420h] [bp-1004h]@471
  __int16 v174; // [sp+424h] [bp-1000h]@471
  __int16 v175; // [sp+426h] [bp-FFEh]@471
  int v176; // [sp+42Ch] [bp-FF8h]@471
  int v177; // [sp+430h] [bp-FF4h]@471
  char v178; // [sp+434h] [bp-FF0h]@470
  int *v179; // [sp+534h] [bp-EF0h]@470
  int v180; // [sp+538h] [bp-EECh]@464
  int k; // [sp+53Ch] [bp-EE8h]@457
  __int16 v182; // [sp+540h] [bp-EE4h]@457
  int j; // [sp+544h] [bp-EE0h]@450
  int v184; // [sp+548h] [bp-EDCh]@437
  int v185; // [sp+54Ch] [bp-ED8h]@434
  int i; // [sp+550h] [bp-ED4h]@431
  int v187; // [sp+554h] [bp-ED0h]@429
  int i1; // [sp+558h] [bp-ECCh]@420
  __int16 v189; // [sp+55Ch] [bp-EC8h]@417
  __int16 v190; // [sp+560h] [bp-EC4h]@417
  __int16 v191; // [sp+562h] [bp-EC2h]@417
  int v192; // [sp+568h] [bp-EBCh]@417
  int v193; // [sp+56Ch] [bp-EB8h]@417
  int nn; // [sp+570h] [bp-EB4h]@406
  char v195; // [sp+574h] [bp-EB0h]@405
  int *v196; // [sp+674h] [bp-DB0h]@405
  int mm; // [sp+678h] [bp-DACh]@392
  __int16 v198; // [sp+67Ch] [bp-DA8h]@392
  int ll; // [sp+680h] [bp-DA4h]@386
  int v200; // [sp+684h] [bp-DA0h]@373
  int kk; // [sp+688h] [bp-D9Ch]@369
  int jj; // [sp+68Ch] [bp-D98h]@338
  int v203; // [sp+690h] [bp-D94h]@325
  int v204; // [sp+694h] [bp-D90h]@322
  int ii; // [sp+698h] [bp-D8Ch]@319
  char v206; // [sp+69Ch] [bp-D88h]@426
  int v207; // [sp+79Ch] [bp-C88h]@316
  int v208; // [sp+7A0h] [bp-C84h]@307
  char v209; // [sp+7A4h] [bp-C80h]@304
  char v210; // [sp+7C4h] [bp-C60h]@300
  char v211; // [sp+7E4h] [bp-C40h]@300
  char v212; // [sp+8E4h] [bp-B40h]@293
  char v213; // [sp+904h] [bp-B20h]@293
  int v214; // [sp+A04h] [bp-A20h]@292
  int m; // [sp+A08h] [bp-A1Ch]@290
  char v216; // [sp+A0Ch] [bp-A18h]@289
  char v217; // [sp+A2Ch] [bp-9F8h]@287
  int v218; // [sp+A4Ch] [bp-9D8h]@286
  int v219; // [sp+A50h] [bp-9D4h]@285
  int v220; // [sp+A54h] [bp-9D0h]@280
  int v221; // [sp+A58h] [bp-9CCh]@279
  __int16 v222; // [sp+A5Ch] [bp-9C8h]@278
  __int16 v223; // [sp+A60h] [bp-9C4h]@278
  __int16 v224; // [sp+A62h] [bp-9C2h]@278
  int v225; // [sp+A68h] [bp-9BCh]@278
  int v226; // [sp+A6Ch] [bp-9B8h]@278
  int v227; // [sp+A70h] [bp-9B4h]@278
  int v228; // [sp+A74h] [bp-9B0h]@272
  int v229; // [sp+A78h] [bp-9ACh]@267
  int v230; // [sp+A7Ch] [bp-9A8h]@267
  int v231; // [sp+A80h] [bp-9A4h]@257
  int v232; // [sp+A84h] [bp-9A0h]@257
  int l; // [sp+A88h] [bp-99Ch]@252
  int v234; // [sp+A8Ch] [bp-998h]@252
  int v235; // [sp+A90h] [bp-994h]@252
  int v236; // [sp+A94h] [bp-990h]@251
  int v237; // [sp+A98h] [bp-98Ch]@248
  int v238; // [sp+A9Ch] [bp-988h]@247
  int v239; // [sp+AA0h] [bp-984h]@244
  int n; // [sp+AA4h] [bp-980h]@240
  int v241; // [sp+AA8h] [bp-97Ch]@240
  int v242; // [sp+AACh] [bp-978h]@240
  int v243; // [sp+AB0h] [bp-974h]@240
  int v244; // [sp+AB4h] [bp-970h]@239
  int v245; // [sp+AB8h] [bp-96Ch]@239
  int v246; // [sp+ABCh] [bp-968h]@238
  int v247; // [sp+AC0h] [bp-964h]@234
  int v248; // [sp+AC4h] [bp-960h]@234
  int v249; // [sp+AC8h] [bp-95Ch]@234
  int v250; // [sp+ACCh] [bp-958h]@234
  int v251; // [sp+AD0h] [bp-954h]@232
  int v252; // [sp+AD4h] [bp-950h]@223
  int v253; // [sp+AD8h] [bp-94Ch]@223
  int v254; // [sp+ADCh] [bp-948h]@223
  int v255; // [sp+AE0h] [bp-944h]@218
  int v256; // [sp+AE4h] [bp-940h]@216
  int v257; // [sp+AE8h] [bp-93Ch]@213
  int v258; // [sp+AECh] [bp-938h]@213
  int v259; // [sp+AF0h] [bp-934h]@213
  char v260; // [sp+AF4h] [bp-930h]@184
  __int16 v261; // [sp+AF8h] [bp-92Ch]@184
  __int16 v262; // [sp+AFAh] [bp-92Ah]@184
  int v263; // [sp+B00h] [bp-924h]@173
  int v264; // [sp+B04h] [bp-920h]@173
  int v265; // [sp+B08h] [bp-91Ch]@173
  int v266; // [sp+B0Ch] [bp-918h]@173
  int v267; // [sp+B10h] [bp-914h]@173
  int v268; // [sp+B14h] [bp-910h]@169
  int v269; // [sp+B18h] [bp-90Ch]@169
  int v270; // [sp+B1Ch] [bp-908h]@169
  int v271; // [sp+B20h] [bp-904h]@169
  int v272; // [sp+B24h] [bp-900h]@159
  int v273; // [sp+B28h] [bp-8FCh]@159
  int v274; // [sp+B2Ch] [bp-8F8h]@159
  int v275; // [sp+B30h] [bp-8F4h]@159
  int v276; // [sp+B34h] [bp-8F0h]@159
  int v277; // [sp+B38h] [bp-8ECh]@159
  int v278; // [sp+B3Ch] [bp-8E8h]@155
  int v279; // [sp+B40h] [bp-8E4h]@155
  int v280; // [sp+B44h] [bp-8E0h]@155
  int v281; // [sp+B48h] [bp-8DCh]@155
  int v282; // [sp+B4Ch] [bp-8D8h]@153
  int v283; // [sp+B50h] [bp-8D4h]@153
  int v284; // [sp+B54h] [bp-8D0h]@150
  int v285; // [sp+B58h] [bp-8CCh]@150
  int v286; // [sp+B5Ch] [bp-8C8h]@147
  int i21; // [sp+B60h] [bp-8C4h]@143
  int v288; // [sp+B64h] [bp-8C0h]@143
  int i14; // [sp+B68h] [bp-8BCh]@136
  int v290; // [sp+B6Ch] [bp-8B8h]@129
  int v291; // [sp+B70h] [bp-8B4h]@129
  int v292; // [sp+B74h] [bp-8B0h]@129
  int v293; // [sp+B78h] [bp-8ACh]@128
  int v294; // [sp+B7Ch] [bp-8A8h]@127
  int i22; // [sp+B80h] [bp-8A4h]@120
  int v296; // [sp+B84h] [bp-8A0h]@117
  int v297; // [sp+B88h] [bp-89Ch]@113
  int i15; // [sp+B8Ch] [bp-898h]@108
  int v299; // [sp+B90h] [bp-894h]@108
  int v300; // [sp+B94h] [bp-890h]@108
  int v301; // [sp+B98h] [bp-88Ch]@107
  int i17; // [sp+B9Ch] [bp-888h]@100
  int v303; // [sp+BA0h] [bp-884h]@100
  __int64 v304; // [sp+BA4h] [bp-880h]@93
  int v305; // [sp+BACh] [bp-878h]@93
  int i16; // [sp+BB0h] [bp-874h]@86
  int v307; // [sp+BB4h] [bp-870h]@82
  int v308; // [sp+BB8h] [bp-86Ch]@82
  int i19; // [sp+BBCh] [bp-868h]@78
  int i18; // [sp+BC0h] [bp-864h]@74
  int v311; // [sp+BC4h] [bp-860h]@73
  int v312; // [sp+BC8h] [bp-85Ch]@66
  int v313; // [sp+BCCh] [bp-858h]@65
  int i20; // [sp+BD0h] [bp-854h]@60
  int v315; // [sp+BD4h] [bp-850h]@60
  int v316; // [sp+BD8h] [bp-84Ch]@60
  int v317; // [sp+BDCh] [bp-848h]@60
  char v318; // [sp+BE0h] [bp-844h]@59
  int i13; // [sp+FE0h] [bp-444h]@54
  int v320; // [sp+FE4h] [bp-440h]@54
  int v321; // [sp+FE8h] [bp-43Ch]@51
  char v322; // [sp+FECh] [bp-438h]@39
  int v323; // [sp+13ECh] [bp-38h]@36
  int v324; // [sp+13F0h] [bp-34h]@36
  char v325; // [sp+13F4h] [bp-30h]@36
  int v326; // [sp+1414h] [bp-10h]@36
  int v327; // [sp+1418h] [bp-Ch]@4
  int v328; // [sp+141Ch] [bp-8h]@3
  int v329; // [sp+1420h] [bp-4h]@1
  int v330; // [sp+1424h] [bp+0h]@36

  memset(&v34, -858993460, 0x1418u);
  v329 = a3;
  if ( *(_WORD *)(a3 + 4) & 0x400 && (v3 = *(_WORD *)(v329 + 6), v3 < 1000) )
  {
    v327 = *(_WORD *)(v329 + 6);
    if ( v327 )
    {
      if ( v327 <= 0 || v327 >= 1000 || dword_752BAF0[790 * v327] )
      {
        if ( v327 > 0 && v327 <= 1000 )
        {
          v35 = *(_WORD *)(v329 + 4);
          if ( v35 > 1068 )
          {
            if ( v35 > 3122 )
            {
              if ( v35 > 4062 )
              {
                if ( v35 > 15375 )
                {
                  if ( v35 == 15386 )
                  {
                    v250 = a3;
                    v249 = *(_DWORD *)(a3 + 12);
                    v248 = v249 >> 12;
                    v247 = v249 & 0xFFF;
                    if ( v249 >= 0 && v249 <= 65535 )
                    {
                      *(&dword_88B5EE8[61440 * v248] + 15 * v247) = 0;
                      sub_4E4640(&word_1FDED5C[862 * v327], 0, 8u);
                      sub_401960(v327, 0, 12, &word_1FDED5C[862 * v327]);
                      sub_4016EF(v327);
                      sub_40162C(v327);
                      sub_4018B1(v327);
                      sub_4E3F40(a1, a2, (int)&String, "sys,delete guild %s %s");
                      Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                      v3 = sub_401B63(v327, &unk_8AB0C4);
                    }
                    else
                    {
                      sub_4E3F40(a1, a2, (int)&String, "err,_MSG_DeleteGuild  guild index error %d");
                      v3 = Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                    }
                  }
                }
                else
                {
                  switch ( v35 )
                  {
                    case 15375:
                      v187 = a3;
                      if ( sub_4E7950(a3 + 1824, (int)((char *)&unk_752C4CC + 3160 * v327), 36) )
                      {
                        sub_401B63(v327, &unk_8AA8C4);
                        sub_4019FB(&dword_752BAF8[790 * v327]);
                        v3 = sub_401302(v327);
                      }
                      else
                      {
                        sub_4E7850((int)&byte_752BAD8[3160 * v327], v187 + 1784, 0x10u);
                        byte_752BAE7[3160 * v327] = 0;
                        byte_752BAE6[3160 * v327] = 0;
                        dword_752C3C4[790 * v327] = 0;
                        dword_752C404[790 * v327] = 0;
                        dword_752C408[790 * v327] = 0;
                        dword_752C414[790 * v327] = 0;
                        dword_752C40C[790 * v327] = 0;
                        dword_752C460[790 * v327] = 0;
                        dword_752C468[790 * v327] = 0;
                        dword_752C464[790 * v327] = 0;
                        *(_WORD *)(v187 + 6) = 30002;
                        *(_WORD *)(v187 + 4) = 266;
                        dword_752BAF0[790 * v327] = 11;
                        for ( i = 0; i < 128; ++i )
                        {
                          v185 = v187 + 8 * i + 756;
                          if ( (signed int)*(_WORD *)(v187 + 8 * i + 756) > 0 )
                          {
                            if ( (signed int)*(_WORD *)v185 < 6500 )
                            {
                              v184 = word_9CCCC6[70 * *(_WORD *)v185];
                              if ( v184 == 64 || v184 == 192 )
                              {
                                if ( *(_BYTE *)(v185 + 2) == 73 || *(_BYTE *)(v185 + 2) == 67 )
                                  *(_BYTE *)(v185 + 2) = 2;
                                if ( *(_BYTE *)(v185 + 4) == 73 || *(_BYTE *)(v185 + 4) == 67 )
                                  *(_BYTE *)(v185 + 4) = 2;
                                if ( *(_BYTE *)(v185 + 6) == 73 || *(_BYTE *)(v185 + 6) == 67 )
                                  *(_BYTE *)(v185 + 6) = 2;
                              }
                            }
                          }
                        }
                        if ( dword_8C7620C )
                        {
                          for ( j = 0; j < 128; ++j )
                          {
                            if ( (signed int)*(_WORD *)(v187 + 8 * j + 756) >= 470
                              && (signed int)*(_WORD *)(v187 + 8 * j + 756) <= 495
                              && *(_WORD *)(v187 + 8 * j + 756) != 481 )
                              *(_WORD *)(v187 + 8 * j + 756) = 0;
                          }
                        }
                        sub_4E4810(&dword_752BB44[790 * v327], (const void *)(v187 + 756), 0x400u);
                        dword_752BF44[790 * v327] = *(_DWORD *)(v187 + 1780);
                        dword_752C0C8[790 * v327] = 0;
                        v17 = v187 + 12;
                        memcpy((char *)&unk_752C0CC + 3160 * v327, (const void *)(v187 + 12), 0x2E8u);
                        v18 = v17 + 744;
                        dword_752C4B4[790 * v327] = *(_DWORD *)(v187 + 1816);
                        dword_752C4B8[790 * v327] = *(_DWORD *)(v187 + 1820);
                        dword_752C49C[790 * v327] = 0;
                        v182 = Rand()();
                        byte_752C48C[3160 * v327] = v182;
                        byte_752C48D[3160 * v327] = HIBYTE(v182);
                        v182 = Rand()();
                        byte_752C48E[3160 * v327] = v182;
                        byte_752C48F[3160 * v327] = HIBYTE(v182);
                        v182 = Rand()();
                        byte_752C490[3160 * v327] = v182;
                        byte_752C491[3160 * v327] = HIBYTE(v182);
                        v182 = Rand()();
                        byte_752C492[3160 * v327] = v182;
                        byte_752C493[3160 * v327] = HIBYTE(v182);
                        v182 = Rand()();
                        byte_752C494[3160 * v327] = v182;
                        byte_752C495[3160 * v327] = HIBYTE(v182);
                        v182 = Rand()();
                        byte_752C496[3160 * v327] = v182;
                        byte_752C497[3160 * v327] = HIBYTE(v182);
                        v182 = Rand()();
                        byte_752C498[3160 * v327] = v182;
                        byte_752C499[3160 * v327] = HIBYTE(v182);
                        v182 = Rand()();
                        byte_752C49A[3160 * v327] = v182;
                        byte_752C49B[3160 * v327] = HIBYTE(v182);
                        for ( k = 0; k < 16; ++k )
                        {
                          if ( !*(&byte_752C48C[3160 * v327] + k) )
                            *(&byte_752C48C[3160 * v327] + k) = 1;
                          if ( *(&byte_752C48C[3160 * v327] + k) == -1 )
                            *(&byte_752C48C[3160 * v327] + k) = -2;
                        }
                        sub_4E4810((void *)(v187 + 1800), &byte_752C48C[3160 * v327], 0x10u);
                        sub_40132A(v187, 1824);
                        sub_4E4810((char *)&unk_752BB28 + 3160 * v327, (const void *)(v187 + 1800), 0x10u);
                        dword_752BB38[790 * v327] = 0;
                        dword_752BB3C[790 * v327] = 0;
                        dword_752C568[790 * v327] = 0;
                        dword_752C588[790 * v327] = 0;
                        sub_4E3F40(a1, v18, (int)&String, "sys,%s %s %s %s %d %d %d %d");
                        Log(&String, &byte_752BAD8[3160 * v327], 0);
                        v180 = sub_4013A7(v187 + 12);
                        if ( dword_5A103C > 0 && v180 )
                        {
                          if ( dword_8C762BC )
                            sub_401979(v327, v187 + 1784, 1u, 1);
                          else
                            sub_401979(v327, v187 + 1784, 8u, 1);
                          dword_752C468[790 * v327] = dword_8C7632C;
                        }
                        byte_752C3C8[3160 * v327] = 0;
                        v179 = &dword_752BAEC[790 * v327];
                        sub_4E3F40(a1, v18, (int)&v178, "sta,%d.%d.%d.%d %X%X%X%X %d");
                        v3 = Log(&v178, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                        if ( dword_8C762DC )
                        {
                          v174 = 1961;
                          v175 = 30001;
                          v176 = 0;
                          v177 = 0;
                          v173 = 20;
                          v3 = sub_401203(&v173, 20);
                        }
                        if ( dword_BAF180 )
                          v3 = sub_40132A(&word_54EB3E0, (unsigned __int16)word_54EB3E0);
                      }
                      break;
                    case 4063:
                      v3 = sub_401663(v327, 0, 4063);
                      break;
                    case 13321:
                      v208 = a3;
                      v3 = a3;
                      *(_WORD *)(a3 + 6) = 0;
                      if ( !*(_DWORD *)(v208 + 12) )
                      {
                        if ( dword_752BAF0[790 * v327] >= 11 )
                        {
                          v3 = 3160 * v327;
                          if ( dword_752BAF0[790 * v327] != 24 )
                            v3 = sub_401B63(v327, v208 + 36);
                        }
                      }
                      break;
                  }
                }
              }
              else
              {
                if ( v35 == 4062 )
                {
                  v3 = sub_401663(v327, 0, 4062);
                }
                else
                {
                  if ( v35 > 3127 )
                  {
                    if ( v35 == 4010 && dword_8C762DC )
                    {
                      v219 = a3;
                      *(_WORD *)(a3 + 6) = 30001;
                      sub_40132A(v219, 52);
                      v3 = 3160 * v327;
                      dword_752BAF0[790 * v327] = 11;
                    }
                  }
                  else
                  {
                    switch ( v35 )
                    {
                      case 3127:
                        v43 = a3;
                        sub_401B63(*(_WORD *)(a3 + 6), &unk_8AC744);
                        sub_4019FB(&dword_752BAF8[790 * *(_WORD *)(v43 + 6)]);
                        v3 = sub_401302(v327);
                        break;
                      case 3124:
                        v235 = a3;
                        v234 = 0;
                        for ( l = 0; l < 4; ++l )
                        {
                          if ( sub_401A55(byte_1FDF035[1724 * v327], l) )
                            v234 += 100;
                        }
                        v232 = 0;
                        v231 = word_1FDECE0[862 * v327];
                        if ( v231 == 399 )
                        {
                          v234 += 300;
                          ++v232;
                        }
                        if ( v231 >= 398 )
                        {
                          v234 += 300;
                          ++v232;
                        }
                        if ( v231 >= 379 )
                        {
                          v234 += 300;
                          ++v232;
                        }
                        if ( v231 >= 369 )
                        {
                          v234 += 200;
                          ++v232;
                        }
                        if ( v231 >= 355 )
                        {
                          v234 += 100;
                          ++v232;
                        }
                        word_1FDEF80[862 * v327] = v234 + 1000;
                        word_1FDEF84[862 * v327] = 1500;
                        byte_1FDF037[1724 * v327] = v232;
                        v230 = (unsigned __int8)byte_1FDECB4[1724 * v327];
                        word_1FDECD4[862 * v327] = LOWORD(dword_594D70[6 * v230]);
                        word_1FDECD6[862 * v327] = LOWORD(dword_594D74[6 * v230]);
                        word_1FDECD8[862 * v327] = LOWORD(dword_594D78[6 * v230]);
                        word_1FDECDA[862 * v327] = LOWORD(dword_594D7C[6 * v230]);
                        byte_1FDECDC[1724 * v327] = 0;
                        byte_1FDECDD[1724 * v327] = 0;
                        byte_1FDECDE[1724 * v327] = 0;
                        byte_1FDECDF[1724 * v327] = 0;
                        word_1FDECE0[862 * v327] = 0;
                        word_1FDECC4[862 * v327] = 0;
                        dword_1FDEF7C[431 * v327] = 0;
                        dword_1FDEF7C[431 * v327] |= 0x40000000u;
                        dword_1FDECBC[431 * v327] = 0;
                        dword_1FDEF94[431 * v327] = 0;
                        dword_1FDF0E0[431 * v327] = 0;
                        v229 = sub_401834(3199, byte_1FDECB0[1724 * v327]);
                        sub_4E4640(&word_1FDED74[862 * v327], 0, 8u);
                        word_1FDED74[862 * v327] = v229;
                        for ( l = 0; l < 64; ++l )
                        {
                          if ( *((_WORD *)&dword_1FDED7C[431 * v327] + 4 * l) == 5338 )
                          {
                            *((_WORD *)&dword_1FDED7C[431 * v327] + 4 * l) = 0;
                            break;
                          }
                        }
                        v228 = 0;
                        if ( v231 < 399 )
                        {
                          if ( v231 < 379 )
                          {
                            if ( v231 >= 354 )
                              v228 = 3500;
                          }
                          else
                          {
                            v228 = 3501;
                          }
                        }
                        else
                        {
                          v228 = 3502;
                        }
                        sub_4E4640(&word_1FDED04[862 * v327], 0, 8u);
                        word_1FDED04[862 * v327] = v228;
                        byte_1FDED00[1724 * v327] = 86;
                        byte_1FDED01[1724 * v327] = 1;
                        byte_1FDED02[1724 * v327] = 28;
                        sub_4E3F40(a1, a2, (int)&String, "sys,tras god 2 character %s[%d]");
                        Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                        sub_401528(v327);
                        v227 = dword_752BAE8[790 * v327];
                        v223 = 948;
                        v224 = 0;
                        v225 = v227;
                        v226 = 0;
                        v222 = 20;
                        v3 = sub_40132A(&v222, 20);
                        break;
                      case 3125:
                        v221 = a3;
                        v3 = sub_40115E(v327, 5338, 0);
                        break;
                    }
                  }
                }
              }
            }
            else
            {
              if ( v35 == 3122 )
              {
                v246 = a3;
                *(_WORD *)(a3 + 6) = 30000;
                *(_WORD *)(v246 + 4) = 3523;
                v3 = sub_40132A(v246, 52);
              }
              else
              {
                if ( v35 > 1323 )
                {
                  v35 -= 3087;
                  v3 = v35;
                  switch ( v35 )
                  {
                    case 9:
                      v259 = a3;
                      v258 = *(_DWORD *)(a3 + 12);
                      v257 = *(_DWORD *)(a3 + 16);
                      if ( v257 >= 1000 )
                      {
                        sub_4E3F40(a1, a2, (int)&String, "err,_MSG_CreateGuildfail Target Over");
                        v3 = Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                        return sub_4E46A0(1, v3, v33, v31, v32);
                      }
                      if ( v258 == 1 )
                      {
                        sub_4E4640(&word_1FDED5C[862 * v327], 0, 8u);
                        sub_401960(v327, 0, 12, &word_1FDED5C[862 * v327]);
                        sub_4016EF(v327);
                        sub_40162C(v327);
                        v256 = dword_9DE31C;
                        sub_4E3F40(a1, a2, (int)&String, "sys,create guild fail %s");
                        Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                      }
                      else
                      {
                        if ( v258 == 2 )
                        {
                          v255 = (unsigned __int16)word_1FDECB2[862 * v257];
                          if ( v255 != (unsigned __int16)word_1FDECB2[862 * v327] )
                          {
                            sub_4E3F40(a1, a2, (int)&String, "err,create guild fail -diff guild index %s");
                            Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                          }
                          if ( v255 < 0 || v255 > 65535 )
                          {
                            sub_4E3F40(a1, a2, (int)&String, "err,_MSG_CreateGuildfail  guild index error %d");
                            v3 = Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                            return sub_4E46A0(1, v3, v33, v31, v32);
                          }
                          v254 = v255 >> 12;
                          v253 = v255 & 0xFFF;
                          v252 = word_1FDED5C[862 * v257];
                          if ( v252 != 526 && v252 != 529 )
                          {
                            if ( v252 != 527 && v252 != 530 )
                            {
                              if ( v252 == 528 || v252 == 531 )
                              {
                                *(&byte_88B5F10[245760 * v254] + 60 * v253) = 0;
                                *(&byte_88B5F11[245760 * v254] + 60 * v253) = 0;
                              }
                            }
                            else
                            {
                              *(&byte_88B5F04[245760 * v254] + 60 * v253) = 0;
                              *(&byte_88B5F05[245760 * v254] + 60 * v253) = 0;
                            }
                          }
                          else
                          {
                            *(&byte_88B5EF8[245760 * v254] + 60 * v253) = 0;
                            *(&byte_88B5EF9[245760 * v254] + 60 * v253) = 0;
                          }
                          sub_4E4640(&word_1FDED5C[862 * v257], 0, 8u);
                          sub_401960(v257, 0, 12, &word_1FDED5C[862 * v257]);
                          sub_4016EF(v257);
                          sub_40162C(v257);
                          v251 = dword_9DEC68;
                          sub_4E3F40(a1, a2, (int)&String, "sys,create sub guild fail %s");
                          Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                        }
                      }
                      v3 = sub_401B63(v327, &unk_8ACBC4);
                      break;
                    case 33:
                      v238 = a3;
                      *(_WORD *)(a3 + 4) = 272;
                      *(_WORD *)(v238 + 6) = 30001;
                      v7 = v238 + 12;
                      memcpy((char *)&unk_752C0CC + 3160 * v327, (const void *)(v238 + 12), 0x2E8u);
                      sub_40132A(v238, 756);
                      dword_752BAF0[790 * v327] = 11;
                      sub_4E3F40(a1, v7 + 744, (int)&String, "sys,Complete out in Capsule");
                      v3 = Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                      return sub_4E46A0(1, v3, v33, v31, v32);
                    case 31:
                      v236 = a3;
                      *(_WORD *)(a3 + 4) = 274;
                      *(_WORD *)(v236 + 6) = 30001;
                      v8 = v236 + 12;
                      memcpy((char *)&unk_752C0CC + 3160 * v327, (const void *)(v236 + 12), 0x2E8u);
                      sub_40132A(v236, 756);
                      dword_752BAF0[790 * v327] = 11;
                      sub_4E3F40(a1, v8 + 744, (int)&String, "sys,Complete put in Capsule");
                      v3 = Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                      return sub_4E46A0(1, v3, v33, v31, v32);
                    case 0:
                      v218 = a3;
                      if ( dword_752BAF0[790 * v327] >= 11 )
                      {
                        if ( sub_4E4D80((int)&byte_752BAD8[3160 * v327], v218 + 16) )
                        {
                          sub_4E3F40(a1, a2, (int)&String, "tra,%s");
                          sub_401B1D(v218 + 32, &v216);
                          sub_4E4730((int)&String, (int)&v216);
                          v3 = Log(&String, "_fail_name_", dword_752BAEC[790 * v327]);
                        }
                        else
                        {
                          for ( m = 0; m < 126; ++m )
                          {
                            v214 = sub_401B13(v218 + 32, &dword_752BB44[790 * v327], m % 9, m / 9);
                            if ( v214 == 1 )
                            {
                              v9 = *(_DWORD *)(v218 + 36);
                              v10 = 3160 * v327;
                              v11 = m;
                              *(&dword_752BB44[790 * v327] + 2 * m) = *(_DWORD *)(v218 + 32);
                              *(int *)((char *)&dword_752BB48[2 * v11] + v10) = v9;
                              sub_401960(v327, 2, m, v218 + 32);
                              sub_4E3F40(a1, v11, (int)&v213, "!%s [ %s ]");
                              sub_401B63(v327, &v213);
                              *(_DWORD *)(v218 + 12) = 0;
                              sub_40132A(v218, *(_WORD *)v218);
                              sub_4E3F40(a1, v11, (int)&String, "tra,%s %d");
                              sub_401B1D(v218 + 32, &v212);
                              sub_4E4730((int)&String, (int)&v212);
                              Log(&String, "_web1_", dword_752BAEC[790 * v327]);
                              v3 = 3160 * v327;
                              if ( dword_752BAF0[790 * v327] >= 11 )
                                v3 = sub_401906(v327, 0);
                              return sub_4E46A0(1, v3, v33, v31, v32);
                            }
                          }
                          for ( m = 127; m >= 0; --m )
                          {
                            if ( !*((_WORD *)&dword_752BB44[790 * v327] + 4 * m) )
                            {
                              v12 = *(_DWORD *)(v218 + 36);
                              v13 = 3160 * v327;
                              v14 = m;
                              *(&dword_752BB44[790 * v327] + 2 * m) = *(_DWORD *)(v218 + 32);
                              *(int *)((char *)&dword_752BB48[2 * v14] + v13) = v12;
                              sub_401960(v327, 2, m, v218 + 32);
                              sub_4E3F40(a1, v14, (int)&v211, "!%s [%s]");
                              sub_401B63(v327, &v211);
                              *(_DWORD *)(v218 + 12) = 0;
                              sub_40132A(v218, *(_WORD *)v218);
                              sub_4E3F40(a1, v14, (int)&String, "tra,%s %d");
                              sub_401B1D(v218 + 32, &v210);
                              sub_4E4730((int)&String, (int)&v210);
                              v3 = Log(&String, "_web2_", dword_752BAEC[790 * v327]);
                              if ( dword_752BAF0[790 * v327] >= 11 )
                                v3 = sub_401906(v327, 0);
                              return sub_4E46A0(1, v3, v33, v31, v32);
                            }
                          }
                          *(_DWORD *)(v218 + 12) = 3;
                          sub_40132A(v218, *(_WORD *)v218);
                          sub_4E3F40(a1, a2, (int)&String, "tra,%s");
                          sub_401B1D(v218 + 32, &v209);
                          sub_4E4730((int)&String, (int)&v209);
                          Log(&String, "_fail_empty_", dword_752BAEC[790 * v327]);
                          if ( dword_752BAF0[790 * v327] == 24 )
                          {
                            sub_401302(v327);
                            Log(
                              "item sent, in saving-quit mode",
                              &byte_752BAD8[3160 * v327],
                              dword_752BAEC[790 * v327]);
                          }
                          v3 = sub_401906(v327, 0);
                        }
                      }
                      else
                      {
                        sub_4E3F40(a1, a2, (int)&String, "tra,%s");
                        sub_401B1D(v218 + 32, &v217);
                        sub_4E4730((int)&String, (int)&v217);
                        v3 = Log(&String, "_fail_play_", dword_752BAEC[790 * v327]);
                      }
                      return sub_4E46A0(1, v3, v33, v31, v32);
                    default:
                      return sub_4E46A0(1, v3, v33, v31, v32);
                  }
                }
                else
                {
                  if ( v35 == 1323 )
                  {
                    v220 = a3;
                    *(_WORD *)(a3 + 6) = 30000;
                    sub_40132A(v220, 16);
                    v3 = sub_401302(v327);
                  }
                  else
                  {
                    v35 -= 1069;
                    v3 = v35;
                    switch ( v35 )
                    {
                      case 4:
                        v245 = a3;
                        v3 = a3;
                        v244 = *(_DWORD *)(a3 + 12);
                        if ( v244 >= 1 )
                        {
                          v243 = 0;
                          sub_4E4640(&v241, 0, 8u);
                          LOWORD(v241) = 3443;
                          BYTE2(v241) = 59;
                          BYTE3(v241) = v244 / 256;
                          LOBYTE(v242) = 59;
                          BYTE1(v242) = v244;
                          for ( n = 0; n < 60; ++n )
                          {
                            if ( !*((_WORD *)&dword_1FDED7C[431 * v327] + 4 * n) )
                            {
                              v239 = sub_4017E4(&dword_1FDED7C[431 * v327], n);
                              if ( v239 )
                              {
                                v5 = 1724 * v327;
                                v6 = n;
                                *(&dword_1FDED7C[431 * v327] + 2 * n) = v241;
                                *(int *)((char *)&dword_1FDED80[2 * v6] + v5) = v242;
                                sub_401960(v327, 1, n, &v241);
                                sub_4E3F40(a1, a2, (int)&String, "err,fail out in Capsule");
                                Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                                break;
                              }
                            }
                          }
                          sub_401906(v327, 0);
                          sub_401B63(v327, &unk_8ACBC4);
                          sub_4E3F40(a1, a2, (int)&String, "sys,fail out in Capsule %d (%d:%d , %d:%d) ");
                          v3 = Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                        }
                        break;
                      case 2:
                        v237 = sub_40144C(v327, 4334, 0);
                        if ( v237 )
                        {
                          sub_4E3F40(a1, a2, (int)&String, "sys,fail put in Capsule");
                          Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                          sub_401B63(v327, &unk_8ACBC4);
                          v3 = sub_401906(v327, 0);
                        }
                        else
                        {
                          sub_4E3F40(a1, a2, (int)&String, "err,fail put in Capsule (empty net cargo)");
                          v3 = Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                        }
                        break;
                      case 253:
                        sub_40132A(a3, 80);
                        v3 = sub_401302(v327);
                        break;
                      case 0:
                        v3 = sub_40155F(a3, v327);
                        break;
                      case 6:
                        v171 = a3;
                        v170 = *(_WORD *)(a3 + 6);
                        sub_401B63(v327, &unk_8B3944);
                        sub_4019FB(&dword_752BAF8[790 * v327]);
                        v3 = sub_401302(v327);
                        break;
                      default:
                        return sub_4E46A0(1, v3, v33, v31, v32);
                    }
                  }
                }
              }
            }
          }
          else
          {
            if ( v35 == 1068 )
            {
              v44 = a3;
              sub_401B63(*(_WORD *)(a3 + 6), &unk_8B35C4);
              sub_4019FB(&dword_752BAF8[790 * *(_WORD *)(v44 + 6)]);
              sub_4E3F40(a1, a2, (int)&String, "cra,cra,account crack block -%s type:4");
              Log(&String, &byte_752BAD8[3160 * *(_WORD *)(v44 + 6)], dword_752BAEC[790 * *(_WORD *)(v44 + 6)]);
              v3 = sub_401302(v327);
            }
            else
            {
              v35 -= 1026;
              v3 = v35;
              switch ( v35 )
              {
                case 38:
                  v3 = sub_401B63(*(_WORD *)(v329 + 6), &unk_8AA944);
                  break;
                case 39:
                  v3 = sub_401B63(*(_WORD *)(v329 + 6), &unk_8AFD44);
                  break;
                case 20:
                  v207 = a3;
                  *(_BYTE *)(a3 + 1815) = 0;
                  *(_BYTE *)(v207 + 1814) = 0;
                  byte_752BAE7[3160 * v327] = 0;
                  byte_752BAE6[3160 * v327] = 0;
                  if ( dword_8C762D4 || !sub_4E4D80(v207 + 1800, (int)&byte_752BAD8[3160 * v327]) )
                  {
                    sub_401B68(&byte_752BAD8[3160 * v327]);
                    *(_WORD *)(v207 + 6) = 30002;
                    *(_WORD *)(v207 + 4) = 266;
                    dword_752BAF0[790 * v327] = 11;
                    for ( ii = 0; ii < 128; ++ii )
                    {
                      v204 = v207 + 8 * ii + 772;
                      if ( (signed int)*(_WORD *)(v207 + 8 * ii + 772) > 0 )
                      {
                        if ( (signed int)*(_WORD *)v204 < 6500 )
                        {
                          v203 = word_9CCCC6[70 * *(_WORD *)v204];
                          if ( v203 == 64 || v203 == 192 )
                          {
                            if ( *(_BYTE *)(v204 + 2) == 73 || *(_BYTE *)(v204 + 2) == 67 )
                              *(_BYTE *)(v204 + 2) = 2;
                            if ( *(_BYTE *)(v204 + 4) == 73 || *(_BYTE *)(v204 + 4) == 67 )
                              *(_BYTE *)(v204 + 4) = 2;
                            if ( *(_BYTE *)(v204 + 6) == 73 || *(_BYTE *)(v204 + 6) == 67 )
                              *(_BYTE *)(v204 + 6) = 2;
                          }
                        }
                      }
                    }
                    if ( dword_8C76560 )
                    {
                      for ( jj = 0; jj < 5; ++jj )
                      {
                        for ( ii = 0; ii < 127; ++ii )
                        {
                          if ( (signed int)*(_WORD *)(v207 + 8 * ii + 772) > 0
                            && (signed int)*(_WORD *)(v207 + 8 * ii + 772) < 6500 )
                          {
                            if ( dword_8C76560 == 1 )
                            {
                              if ( *(_WORD *)(v207 + 8 * ii + 772) == word_750BA40[4 * jj] )
                                sub_4E4640((void *)(v207 + 8 * ii + 772), 0, 8u);
                            }
                            else
                            {
                              if ( dword_8C76560 == 2 )
                              {
                                if ( *(_WORD *)(v207 + 8 * ii + 772) == word_750BA40[4 * jj]
                                  && *(_BYTE *)(v207 + 8 * ii + 774) == byte_750BA42[8 * jj]
                                  && *(_BYTE *)(v207 + 8 * ii + 776) == byte_750BA44[8 * jj]
                                  && *(_BYTE *)(v207 + 8 * ii + 778) == byte_750BA46[8 * jj] )
                                  sub_4E4640((void *)(v207 + 8 * ii + 772), 0, 8u);
                              }
                              else
                              {
                                if ( dword_8C76560 == 3
                                  && *(_WORD *)(v207 + 8 * ii + 772) == word_750BA40[4 * jj]
                                  && *(_BYTE *)(v207 + 8 * ii + 774) == byte_750BA42[8 * jj]
                                  && *(_BYTE *)(v207 + 8 * ii + 775) == byte_750BA43[8 * jj]
                                  && *(_BYTE *)(v207 + 8 * ii + 776) == byte_750BA44[8 * jj]
                                  && *(_BYTE *)(v207 + 8 * ii + 777) == byte_750BA45[8 * jj]
                                  && *(_BYTE *)(v207 + 8 * ii + 778) == byte_750BA46[8 * jj]
                                  && *(_BYTE *)(v207 + 8 * ii + 779) == byte_750BA47[8 * jj] )
                                  sub_4E4640((void *)(v207 + 8 * ii + 772), 0, 8u);
                              }
                            }
                          }
                        }
                      }
                    }
                    if ( dword_8C7620C )
                    {
                      for ( kk = 0; kk < 128; ++kk )
                      {
                        if ( *(_WORD *)(v207 + 8 * kk + 772) == 475 )
                        {
                          v200 = v207 + 8 * kk + 772;
                          if ( (signed int)*(_WORD *)(v207 + 8 * kk + 772) > 0 )
                          {
                            if ( (signed int)*(_WORD *)v200 < 6500
                              && *(_BYTE *)(v200 + 2) == 43
                              && !*(_BYTE *)(v200 + 3) )
                              *(_WORD *)(v207 + 8 * kk + 772) = 0;
                          }
                        }
                      }
                    }
                    for ( ii = 120; ii < 127; ++ii )
                    {
                      if ( (signed int)*(_WORD *)(v207 + 8 * ii + 772) > 0
                        && (signed int)*(_WORD *)(v207 + 8 * ii + 772) < 6500 )
                      {
                        for ( ll = 0; ll < 127; ++ll )
                        {
                          if ( !*(_WORD *)(v207 + 8 * ll + 772) )
                          {
                            sub_4E4810((void *)(v207 + 8 * ll + 772), (const void *)(v207 + 8 * ii + 772), 8u);
                            sub_4E4640((void *)(v207 + 8 * ii + 772), 0, 8u);
                            break;
                          }
                        }
                      }
                    }
                    sub_4E4810(&dword_752BB44[790 * v327], (const void *)(v207 + 772), 0x400u);
                    dword_752BF44[790 * v327] = *(_DWORD *)(v207 + 1796);
                    dword_752C0C8[790 * v327] = 0;
                    v15 = v207 + 28;
                    memcpy((char *)&unk_752C0CC + 3160 * v327, (const void *)(v207 + 28), 0x2E8u);
                    v16 = v15 + 744;
                    dword_752C4B4[790 * v327] = *(_DWORD *)(v207 + 1816);
                    dword_752C4B8[790 * v327] = *(_DWORD *)(v207 + 1820);
                    dword_752C49C[790 * v327] = 0;
                    v198 = Rand()();
                    byte_752C48C[3160 * v327] = v198;
                    byte_752C48D[3160 * v327] = HIBYTE(v198);
                    v198 = Rand()();
                    byte_752C48E[3160 * v327] = v198;
                    byte_752C48F[3160 * v327] = HIBYTE(v198);
                    v198 = Rand()();
                    byte_752C490[3160 * v327] = v198;
                    byte_752C491[3160 * v327] = HIBYTE(v198);
                    v198 = Rand()();
                    byte_752C492[3160 * v327] = v198;
                    byte_752C493[3160 * v327] = HIBYTE(v198);
                    v198 = Rand()();
                    byte_752C494[3160 * v327] = v198;
                    byte_752C495[3160 * v327] = HIBYTE(v198);
                    v198 = Rand()();
                    byte_752C496[3160 * v327] = v198;
                    byte_752C497[3160 * v327] = HIBYTE(v198);
                    v198 = Rand()();
                    byte_752C498[3160 * v327] = v198;
                    byte_752C499[3160 * v327] = HIBYTE(v198);
                    v198 = Rand()();
                    byte_752C49A[3160 * v327] = v198;
                    byte_752C49B[3160 * v327] = HIBYTE(v198);
                    for ( mm = 0; mm < 16; ++mm )
                    {
                      if ( !*(&byte_752C48C[3160 * v327] + mm) )
                        *(&byte_752C48C[3160 * v327] + mm) = 1;
                      if ( *(&byte_752C48C[3160 * v327] + mm) == -1 )
                        *(&byte_752C48C[3160 * v327] + mm) = -2;
                    }
                    sub_4E4810((void *)(v207 + 12), &byte_752C48C[3160 * v327], 0x10u);
                    sub_40132A(v207, 1824);
                    sub_4E4810((char *)&unk_752BB28 + 3160 * v327, (const void *)(v207 + 12), 0x10u);
                    dword_752BB38[790 * v327] = 0;
                    dword_752BB3C[790 * v327] = 0;
                    if ( dword_5A103C > 0 && sub_4013A7(v207 + 28) )
                    {
                      if ( dword_8C762BC )
                        sub_401979(v327, v207 + 1800, 1u, 1);
                      else
                        sub_401979(v327, v207 + 1800, 8u, 1);
                      dword_752C468[790 * v327] = dword_8C7632C;
                    }
                    byte_752C3C8[3160 * v327] = 0;
                    v196 = &dword_752BAEC[790 * v327];
                    sub_4E3F40(a1, v16, (int)&v195, "sta,%d.%d.%d.%d %X%X%X%X %d - %d -%d (%d)");
                    Log(&v195, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                    if ( dword_8C761A0 == 1 )
                    {
                      for ( nn = 0; nn < 10; ++nn )
                      {
                        if ( dword_752C440[790 * v327] == dword_74F87F8[4 * nn]
                          && dword_752C444[790 * v327] == dword_74F87FC[4 * nn]
                          && dword_752C448[790 * v327] == dword_74F8800[4 * nn]
                          && dword_752C44C[790 * v327] == dword_74F8804[4 * nn] )
                          dword_752C58C[790 * v327] = 1;
                      }
                    }
                    if ( dword_752C4BC[790 * v327] )
                    {
                      sub_4E3F40(a1, v16, (int)&v195, "pcr,Login %d.%d.%d.%d %X%X%X%X %d - %d");
                      Log(&v195, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                      sub_401177(&v195, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                    }
                    if ( dword_8C762DC )
                    {
                      v190 = 1961;
                      v191 = 30001;
                      v192 = 0;
                      v193 = 0;
                      v189 = 20;
                      sub_401203(&v189, 20);
                    }
                    if ( dword_BAF180 )
                      sub_40132A(&word_54EB3E0, (unsigned __int16)word_54EB3E0);
                    v3 = 3160 * v327;
                    dword_752C568[790 * v327] = 0;
                    for ( i1 = 1; i1 < 1000; ++i1 )
                    {
                      if ( i1 != v327 )
                      {
                        v3 = 3160 * i1;
                        if ( dword_752BAF0[790 * i1] > 2 )
                        {
                          v3 = sub_4E4D80((int)&byte_752BAD8[3160 * i1], (int)&byte_752BAD8[3160 * v327]);
                          if ( !v3 )
                          {
                            sub_4E3F40(a1, v16, (int)&v206, "cra,double account crack block - conn:%d mode:%d");
                            Log(&v206, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                            sub_4E3F40(a1, v16, (int)&v206, "cra,double account crack block - conn:%d mode:%d");
                            v3 = Log(&v206, &byte_752BAD8[3160 * i1], dword_752BAEC[790 * i1]);
                            return sub_4E46A0(1, v3, v33, v31, v32);
                          }
                        }
                      }
                    }
                  }
                  else
                  {
                    sub_401B63(v327, &unk_8AA8C4);
                    sub_4019FB(&dword_752BAF8[790 * v327]);
                    v3 = sub_401302(v327);
                  }
                  break;
                case 24:
                  v172 = a3;
                  *(_WORD *)(a3 + 6) = 30003;
                  sub_401663(v327, 0, 279);
                  v3 = sub_401302(v327);
                  break;
                case 31:
                  v169 = a3;
                  v168 = *(_WORD *)(a3 + 6);
                  sub_401B63(v327, &unk_8AA944);
                  sub_4019FB(&dword_752BAF8[790 * v327]);
                  v3 = sub_401302(v327);
                  break;
                case 34:
                  v167 = a3;
                  v166 = *(_WORD *)(a3 + 6);
                  sub_401B63(v327, &unk_8AA9C4);
                  sub_4019FB(&dword_752BAF8[790 * v327]);
                  v3 = sub_401302(v327);
                  break;
                case 35:
                  v165 = a3;
                  v164 = *(_WORD *)(a3 + 6);
                  sub_401B63(v327, &unk_8AB844);
                  sub_4019FB(&dword_752BAF8[790 * v327]);
                  v3 = sub_401302(v327);
                  break;
                case 36:
                  v163 = a3;
                  v162 = *(_WORD *)(a3 + 6);
                  sub_401B63(v327, &unk_8ABEC4);
                  v3 = sub_4019FB(&dword_752BAF8[790 * v327]);
                  break;
                case 32:
                  v161 = a3;
                  v160 = *(_WORD *)(a3 + 6);
                  sub_4012B7(&byte_752BAD8[3160 * v327]);
                  sub_401B63(v327, &unk_8AAA44);
                  sub_4019FB(&dword_752BAF8[790 * v327]);
                  v3 = sub_401302(v327);
                  break;
                case 22:
                  v159 = a3;
                  *(_WORD *)(a3 + 4) = 272;
                  *(_WORD *)(v159 + 6) = 30001;
                  v19 = v159 + 12;
                  memcpy((char *)&unk_752C0CC + 3160 * v327, (const void *)(v159 + 12), 0x2E8u);
                  sub_40132A(v159, 756);
                  dword_752BAF0[790 * v327] = 11;
                  sub_4E3F40(a1, v19 + 744, (int)&String, "sys,confirm new character");
                  v3 = Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                  break;
                case 23:
                  v158 = a3;
                  *(_WORD *)(a3 + 4) = 274;
                  *(_WORD *)(v158 + 6) = 30001;
                  v20 = v158 + 12;
                  memcpy((char *)&unk_752C0CC + 3160 * v327, (const void *)(v158 + 12), 0x2E8u);
                  sub_40132A(v158, 756);
                  dword_752BAF0[790 * v327] = 11;
                  sub_4E3F40(a1, v20 + 744, (int)&String, "sys,confirm delete character");
                  v3 = Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                  break;
                case 28:
                  v157 = a3;
                  *(_WORD *)(a3 + 6) = 30001;
                  sub_401663(v327, 0, 283);
                  v3 = 3160 * v327;
                  dword_752BAF0[790 * v327] = 11;
                  break;
                case 27:
                  v156 = a3;
                  *(_WORD *)(a3 + 6) = 30001;
                  v3 = sub_401663(v327, 0, 282);
                  dword_752BAF0[790 * v327] = 11;
                  break;
                case 21:
                  v155 = a3;
                  if ( v327 )
                  {
                    v153 = (int)&byte_752BAD8[3160 * v327];
                    byte_752BAD8[3160 * v327 + 15] = 0;
                    *(_BYTE *)(v153 + 14) = 0;
                    v152 = sub_4E4B50(v153);
                    if ( v152 >= 4 )
                    {
                      v151 = 0;
                      for ( i2 = 0; i2 < v152; ++i2 )
                        v151 += *(_BYTE *)(i2 + v153);
                      v149 = *(_BYTE *)v153 - *(_BYTE *)(v152 + v153 - 1);
                      v148 = *(_BYTE *)(v153 + 2) - *(_BYTE *)(v152 + v153 - 2);
                      v147 = (v148 >> 24) + (v149 >> 16) + (v151 >> 8) + v152;
                      if ( v147 == *(_WORD *)(v155 + 774) )
                      {
                        sub_40193D(&byte_1FDECA0[1724 * v327]);
                        dword_752C404[790 * v327] = 0;
                        dword_752C408[790 * v327] = 0;
                        dword_752C40C[790 * v327] = 0;
                        dword_752C414[790 * v327] = 0;
                        for ( i3 = 0; i3 < 16; ++i3 )
                        {
                          v145 = v155 + 8 * i3 + 108;
                          if ( (signed int)*(_WORD *)(v155 + 8 * i3 + 108) > 0 )
                          {
                            if ( (signed int)*(_WORD *)v145 < 6500 )
                            {
                              v144 = word_9CCCC6[70 * *(_WORD *)v145];
                              if ( v144 == 64 || v144 == 192 )
                              {
                                if ( *(_BYTE *)(v145 + 2) == 73 || *(_BYTE *)(v145 + 2) == 67 )
                                  *(_BYTE *)(v145 + 2) = 2;
                                if ( *(_BYTE *)(v145 + 4) == 73 || *(_BYTE *)(v145 + 4) == 67 )
                                  *(_BYTE *)(v145 + 4) = 2;
                                if ( *(_BYTE *)(v145 + 6) == 73 || *(_BYTE *)(v145 + 6) == 67 )
                                  *(_BYTE *)(v145 + 6) = 2;
                              }
                            }
                          }
                        }
                        for ( i3 = 0; i3 < 63; ++i3 )
                        {
                          v143 = v155 + 8 * i3 + 236;
                          if ( (signed int)*(_WORD *)(v155 + 8 * i3 + 236) > 0 && (signed int)*(_WORD *)v143 < 6500 )
                          {
                            if ( (signed int)*(_WORD *)v143 >= 400 )
                            {
                              v142 = word_9CCCC6[70 * *(_WORD *)v143];
                              if ( v142 == 64 || v142 == 192 )
                              {
                                if ( *(_BYTE *)(v143 + 2) == 73 || *(_BYTE *)(v143 + 2) == 67 )
                                  *(_BYTE *)(v143 + 2) = 2;
                                if ( *(_BYTE *)(v143 + 4) == 73 || *(_BYTE *)(v143 + 4) == 67 )
                                  *(_BYTE *)(v143 + 4) = 2;
                                if ( *(_BYTE *)(v143 + 6) == 73 || *(_BYTE *)(v143 + 6) == 67 )
                                  *(_BYTE *)(v143 + 6) = 2;
                              }
                            }
                            else
                            {
                              *(_WORD *)v143 = 0;
                            }
                          }
                        }
                        if ( dword_8C76560 )
                        {
                          for ( i2 = 0; i2 < 5; ++i2 )
                          {
                            if ( word_750BA40[4 * i2] > 0 && word_750BA40[4 * i2] < 6500 )
                            {
                              for ( i4 = 0; i4 < 63; ++i4 )
                              {
                                if ( (signed int)*(_WORD *)(v155 + 8 * i4 + 236) > 0
                                  && (signed int)*(_WORD *)(v155 + 8 * i4 + 236) < 6500 )
                                {
                                  if ( dword_8C76560 == 1 )
                                  {
                                    if ( *(_WORD *)(v155 + 8 * i4 + 236) == word_750BA40[4 * i2] )
                                      sub_4E4640((void *)(v155 + 8 * i4 + 236), 0, 8u);
                                  }
                                  else
                                  {
                                    if ( dword_8C76560 == 2 )
                                    {
                                      if ( *(_WORD *)(v155 + 8 * i4 + 236) == word_750BA40[4 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 238) == byte_750BA42[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 240) == byte_750BA44[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 242) == byte_750BA46[8 * i2] )
                                        sub_4E4640((void *)(v155 + 8 * i4 + 236), 0, 8u);
                                    }
                                    else
                                    {
                                      if ( dword_8C76560 == 3
                                        && *(_WORD *)(v155 + 8 * i4 + 236) == word_750BA40[4 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 238) == byte_750BA42[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 239) == byte_750BA43[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 240) == byte_750BA44[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 241) == byte_750BA45[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 242) == byte_750BA46[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 243) == byte_750BA47[8 * i2] )
                                        sub_4E4640((void *)(v155 + 8 * i4 + 236), 0, 8u);
                                    }
                                  }
                                  if ( dword_8C76560 == 4 )
                                  {
                                    v140 = 0;
                                    v139 = 0;
                                    v138 = 0;
                                    if ( byte_750BA42[8 * i2] )
                                    {
                                      if ( *(_BYTE *)(v155 + 8 * i4 + 238) == byte_750BA42[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 239) == byte_750BA43[8 * i2] )
                                        v140 = 1;
                                    }
                                    else
                                    {
                                      v140 = 1;
                                    }
                                    if ( byte_750BA44[8 * i2] )
                                    {
                                      if ( *(_BYTE *)(v155 + 8 * i4 + 240) == byte_750BA44[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 241) == byte_750BA45[8 * i2] )
                                        v139 = 1;
                                    }
                                    else
                                    {
                                      v139 = 1;
                                    }
                                    if ( byte_750BA46[8 * i2] )
                                    {
                                      if ( *(_BYTE *)(v155 + 8 * i4 + 242) == byte_750BA46[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 243) == byte_750BA47[8 * i2] )
                                        v138 = 1;
                                    }
                                    else
                                    {
                                      v138 = 1;
                                    }
                                    if ( *(_WORD *)(v155 + 8 * i4 + 236) == word_750BA40[4 * i2] && v140 && v139 && v138 )
                                      sub_4E4640((void *)(v155 + 8 * i4 + 236), 0, 8u);
                                  }
                                }
                              }
                              for ( i4 = 0; i4 < 16; ++i4 )
                              {
                                if ( (signed int)*(_WORD *)(v155 + 8 * i4 + 108) > 0
                                  && (signed int)*(_WORD *)(v155 + 8 * i4 + 108) < 6500 )
                                {
                                  if ( dword_8C76560 == 1 )
                                  {
                                    if ( *(_WORD *)(v155 + 8 * i4 + 108) == word_750BA40[4 * i2] )
                                      sub_4E4640((void *)(v155 + 8 * i4 + 108), 0, 8u);
                                  }
                                  else
                                  {
                                    if ( dword_8C76560 == 2 )
                                    {
                                      if ( *(_WORD *)(v155 + 8 * i4 + 108) == word_750BA40[4 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 110) == byte_750BA42[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 112) == byte_750BA44[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 114) == byte_750BA46[8 * i2] )
                                        sub_4E4640((void *)(v155 + 8 * i4 + 108), 0, 8u);
                                    }
                                    else
                                    {
                                      if ( dword_8C76560 == 3
                                        && *(_WORD *)(v155 + 8 * i4 + 108) == word_750BA40[4 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 110) == byte_750BA42[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 111) == byte_750BA43[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 112) == byte_750BA44[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 113) == byte_750BA45[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 114) == byte_750BA46[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 115) == byte_750BA47[8 * i2] )
                                        sub_4E4640((void *)(v155 + 8 * i4 + 108), 0, 8u);
                                    }
                                  }
                                  if ( dword_8C76560 == 4 )
                                  {
                                    v137 = 0;
                                    v136 = 0;
                                    v135 = 0;
                                    if ( byte_750BA42[8 * i2] )
                                    {
                                      if ( *(_BYTE *)(v155 + 8 * i4 + 110) == byte_750BA42[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 111) == byte_750BA43[8 * i2] )
                                        v137 = 1;
                                    }
                                    else
                                    {
                                      v137 = 1;
                                    }
                                    if ( byte_750BA44[8 * i2] )
                                    {
                                      if ( *(_BYTE *)(v155 + 8 * i4 + 112) == byte_750BA44[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 113) == byte_750BA45[8 * i2] )
                                        v136 = 1;
                                    }
                                    else
                                    {
                                      v136 = 1;
                                    }
                                    if ( byte_750BA46[8 * i2] )
                                    {
                                      if ( *(_BYTE *)(v155 + 8 * i4 + 114) == byte_750BA46[8 * i2]
                                        && *(_BYTE *)(v155 + 8 * i4 + 115) == byte_750BA47[8 * i2] )
                                        v135 = 1;
                                    }
                                    else
                                    {
                                      v135 = 1;
                                    }
                                    if ( *(_WORD *)(v155 + 8 * i4 + 108) == word_750BA40[4 * i2] && v137 && v136 && v135 )
                                      sub_4E4640((void *)(v155 + 8 * i4 + 108), 0, 8u);
                                  }
                                }
                              }
                            }
                          }
                        }
                        if ( dword_8C7620C )
                        {
                          for ( i5 = 0; i5 < 63; ++i5 )
                          {
                            if ( *(_WORD *)(v155 + 8 * i5 + 236) == 475 )
                            {
                              v133 = v155 + 8 * i5 + 236;
                              if ( (signed int)*(_WORD *)(v155 + 8 * i5 + 236) > 0 )
                              {
                                if ( (signed int)*(_WORD *)v133 < 6500
                                  && *(_BYTE *)(v133 + 2) == 43
                                  && !*(_BYTE *)(v133 + 3) )
                                  *(_WORD *)(v155 + 8 * i5 + 236) = 0;
                              }
                            }
                          }
                        }
                        sub_401776(v155 + 778, *(_DWORD *)(v155 + 748), 16);
                        sub_401776(v155 + 760, *(_DWORD *)(v155 + 748), 4);
                        if ( !*(_WORD *)(v155 + 108)
                          || *(_WORD *)(v155 + 108) == 22
                          || *(_WORD *)(v155 + 108) == 23
                          || *(_WORD *)(v155 + 108) == 24
                          || *(_WORD *)(v155 + 108) == 25 )
                          *(_WORD *)(v155 + 108) = 21;
                        if ( *(_WORD *)(v155 + 108) == 32 )
                          *(_WORD *)(v155 + 108) = 21;
                        if ( (unsigned __int16)(*(_WORD *)(v155 + 38) & 0xC000) == 49152 )
                          *(_WORD *)(v155 + 38) &= 0x3FFFu;
                        memcpy(&byte_1FDECA0[1724 * v327], (const void *)(v155 + 16), 0x2F4u);
                        memcpy(&dword_1FDEF94[431 * v327], (const void *)(v155 + 796), 0xA0u);
                        v21 = v155 + 956;
                        memcpy(&byte_1FDF034[1724 * v327], (const void *)(v155 + 956), 0x120u);
                        v22 = v21 + 288;
                        sub_4E4810(&byte_1FDF154[1724 * v327], (const void *)(v155 + 828), 0x80u);
                        dword_1FDF2C8[431 * v327] = LOWORD(dword_1FDECFC[431 * v327]);
                        sub_4E4810((char *)&unk_752C3EC + 3160 * v327, (const void *)(v155 + 778), 0x10u);
                        byte_1FDECCA[1724 * v327] = 0;
                        sub_401375(&byte_1FDECA0[1724 * v327], dword_1FDF2C8[431 * v327]);
                        sub_4016EF(v327);
                        sub_40162C(v327);
                        if ( !byte_1FDED02[1724 * v327] )
                        {
                          byte_1FDED00[1724 * v327] = 86;
                          byte_1FDED02[1724 * v327] = 28;
                          byte_1FDED03[1724 * v327] = byte_1FDF038[1724 * v327];
                          sub_4E3F40(a1, v22, (int)&v154, "sys,set citizen %d-%d:%d %d:%d %d:%d");
                          Log(&v154, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                        }
                        if ( dword_1FDEFA8[431 * v327] > 100000 )
                          dword_1FDEFA8[431 * v327] = 0;
                        if ( sub_40178F(v327) )
                          sub_4016FE(v327, 0);
                        v132 = (unsigned __int16)word_1FDECB2[862 * v327];
                        if ( v132 < 0 || v132 > 65535 )
                        {
                          sub_4E3F40(a1, v22, (int)&String, "err,guild index error %d");
                          Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                          v132 = 0;
                        }
                        if ( v132 )
                        {
                          v131 = v132 >> 12;
                          v130 = v132 & 0xFFF;
                          if ( !*(&dword_88B5EE8[61440 * (v132 >> 12)] + 15 * (v132 & 0xFFF)) )
                          {
                            sub_4E4640(&word_1FDED5C[862 * v327], 0, 8u);
                            sub_401960(v327, 0, 12, &word_1FDED5C[862 * v327]);
                          }
                          v129 = sub_40109B(v327);
                          if ( (unsigned __int8)byte_1FDEF8C[1724 * v327] == 2 )
                          {
                            v128 = 0;
                            for ( i6 = 0; i6 < 10; ++i6 )
                            {
                              for ( i7 = 0; i7 < 5; ++i7 )
                              {
                                if ( *(&dword_5A39F0[5 * i6] + i7) == (unsigned __int16)word_1FDECB2[862 * v327] )
                                {
                                  v128 = i6 + 1;
                                  break;
                                }
                              }
                            }
                            if ( v128 && *(&byte_88B5F1D[245760 * v131] + 60 * v130) != v128 )
                            {
                              sub_4E4640(&v120, 0, 0x18u);
                              v122 = v327;
                              LOWORD(v120) = 24;
                              v121 = 3095;
                              v123 = v132;
                              v124 = 2;
                              v125 = v128;
                              sub_40132A(&v120, 24);
                              sub_401087(v327, v128);
                              sub_4E3F40(a1, v22, (int)&v154, "sys,set server town %s[ %s ] %d = %d");
                              Log(&v154, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                            }
                            else
                            {
                              if ( v129 && v129 != *(&byte_88B5F1D[245760 * v131] + 60 * v130) )
                              {
                                sub_4E4640(&v114, 0, 0x18u);
                                v116 = v327;
                                LOWORD(v114) = 24;
                                v115 = 3095;
                                v117 = v132;
                                v118 = 2;
                                v119 = v129;
                                sub_40132A(&v114, 24);
                                sub_4E3F40(a1, v22, (int)&v154, "sys,set server town %s[ %s ] %d = %d");
                                Log(&v154, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                              }
                            }
                          }
                          else
                          {
                            if ( *(&byte_88B5F1D[245760 * v131] + 60 * v130) )
                              sub_401087(v327, *(&byte_88B5F1D[245760 * v131] + 60 * v130));
                          }
                          v113 = word_1FDED74[862 * v327];
                          v112 = sub_401870(v113);
                          if ( v112 && v112 != *(&byte_88B5F1E[245760 * v131] + 60 * v130) )
                          {
                            if ( (unsigned __int8)byte_1FDEF8C[1724 * v327] == 2 )
                            {
                              sub_4E4640(&v106, 0, 0x18u);
                              v108 = v327;
                              LOWORD(v106) = 24;
                              v107 = 3095;
                              v109 = v132;
                              v110 = 3;
                              v111 = v112;
                              sub_40132A(&v106, 24);
                              Log(&v154, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                            }
                            else
                            {
                              if ( (unsigned __int8)byte_1FDEF8C[1724 * v327] != 2 )
                              {
                                v105 = word_1FDED74[862 * v327];
                                v104 = *(&byte_88B5F1E[245760 * v131] + 60 * v130);
                                v105 = sub_401834(v105, v104);
                                word_1FDED74[862 * v327] = v105;
                                sub_4E3F40(a1, v22, (int)&v154, "sys,set guild clan %s:mantle : %d (%d :%d )");
                                Log(&v154, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                              }
                            }
                          }
                        }
                        v103 = 0;
                        if ( sub_401640(&byte_1FDECA0[1724 * v327]) == 2 )
                        {
                          v102 = word_1FDED04[862 * v327];
                          if ( v102 < 3503 || v102 > 3506 )
                          {
                            byte_1FDF03D[1724 * v327] = 0;
                          }
                          else
                          {
                            byte_1FDF03D[1724 * v327] = 1;
                            if ( byte_1FDF037[1724 * v327] > 5 )
                              byte_1FDF037[1724 * v327] = 5;
                          }
                          v101 = byte_1FDF03F[1724 * v327];
                          if ( v101 && v101 != 1
                            || *((_WORD *)&dword_1FDF048[431 * v327] + 34 * v101) != dword_1FDF2C8[431 * v327] )
                          {
                            byte_1FDED01[1724 * v327] = 1;
                          }
                          else
                          {
                            v100 = 0;
                            if ( v101 )
                              v100 = 0;
                            else
                              v100 = 1;
                            v23 = *(&word_1FDF050[862 * v327] + 34 * v100);
                            v103 = (((signed int)v23 - HIDWORD(v23)) >> 1) + 2;
                            byte_1FDED01[1724 * v327] = v103;
                            memcpy(&word_1FDF050[862 * v327] + 34 * v101, &word_1FDECC4[862 * v327], 0x1Cu);
                            LODWORD(v23) = &dword_1FDECFC[431 * v327];
                            HIDWORD(v23) = *(_DWORD *)(v23 + 4);
                            v98 = *(_DWORD *)v23;
                            v99 = HIDWORD(v23);
                            LOWORD(v98) = LOWORD(dword_1FDF2C8[431 * v327]);
                            HIDWORD(v23) = 1724 * v327;
                            LODWORD(v23) = 68 * v101;
                            *(&dword_1FDF048[431 * v327] + 17 * v101) = v98;
                            *(int *)((char *)dword_1FDF04C + HIDWORD(v23) + v23) = v99;
                            *(&dword_1FDF044[431 * v327] + 17 * v101) = dword_1FDEF7C[431 * v327];
                            *(&dword_1FDF06C[431 * v327] + 17 * v101) = dword_1FDECBC[431 * v327];
                            sub_4E4810((char *)&unk_1FDF070 + 1724 * v327 + 68 * v101, &byte_1FDEF88[1724 * v327], 4u);
                            sub_4E4810(
                              (char *)&unk_1FDF074 + 1724 * v327 + 68 * v101,
                              (char *)&unk_752C3EC + 3160 * v327,
                              0x10u);
                            *(&word_1FDF084[862 * v327] + 34 * v101) = word_1FDEF80[862 * v327];
                            *(&word_1FDF086[862 * v327] + 34 * v101) = word_1FDEF84[862 * v327];
                          }
                        }
                        if ( word_1FDECB2[862 * v327] )
                          dword_1FDF2B0[431 * v327] = 0;
                        else
                          dword_1FDF2B0[431 * v327] = 1;
                        sub_4015FA(&byte_1FDECA0[1724 * v327], dword_1FDF2C8[431 * v327], &byte_1FDF034[1724 * v327]);
                        sub_401375(&byte_1FDECA0[1724 * v327], dword_1FDF2C8[431 * v327]);
                        sub_40175D(&byte_1FDECA0[1724 * v327], dword_1FDF2C8[431 * v327]);
                        sub_40107D(&byte_1FDECA0[1724 * v327], dword_1FDF2C8[431 * v327]);
                        sub_401ADC(&byte_1FDECA0[1724 * v327], dword_1FDF2C8[431 * v327]);
                        if ( !word_1FDECEC[862 * v327] )
                          word_1FDECEC[862 * v327] = 2;
                        dword_1FDF1D4[431 * v327] = 2;
                        memcpy((void *)(v155 + 16), &byte_1FDECA0[1724 * v327], 0x2F4u);
                        *(_WORD *)(v155 + 48) = *(_WORD *)(v155 + 48) + Rand()() % 5 - 2;
                        v24 = *(_WORD *)(v155 + 50);
                        *(_WORD *)(v155 + 50) = v24 + Rand()() % 5 - 2;
                        *(_WORD *)(v155 + 4) = 276;
                        *(_WORD *)(v155 + 6) = 30001;
                        *(_WORD *)(v155 + 12) = *(_WORD *)(v155 + 48);
                        *(_WORD *)(v155 + 14) = *(_WORD *)(v155 + 50);
                        *(_WORD *)(v155 + 774) = v327;
                        *(_WORD *)(v155 + 776) = dword_8C762D0;
                        dword_1FDF1EC[431 * v327] = dword_8C76270;
                        dword_1FDF1F4[431 * v327] = *(_WORD *)(v155 + 48);
                        dword_1FDF1E4[431 * v327] = dword_1FDF1F4[431 * v327];
                        dword_1FDF1F8[431 * v327] = *(_WORD *)(v155 + 50);
                        dword_1FDF1E8[431 * v327] = dword_1FDF1F8[431 * v327];
                        dword_1FDF22C[431 * v327] = 0;
                        if ( !word_1FDEF74[862 * v327] )
                        {
                          sub_4E4640(&word_1FDEF74[862 * v327], 0, 8u);
                          word_1FDEF74[862 * v327] = 547;
                          byte_1FDEF76[1724 * v327] = 75;
                          byte_1FDEF78[1724 * v327] = 76;
                          byte_1FDEF7A[1724 * v327] = 77;
                        }
                        dword_752C450[790 * v327] = 0;
                        byte_752C3B4[3160 * v327] = 0;
                        dword_752BAE8[790 * v327] = *(_WORD *)(v155 + 772);
                        dword_752C0C4[790 * v327] = 0;
                        dword_752C480[790 * v327] = 0;
                        dword_752C0B4[790 * v327] = 0;
                        dword_752C0B8[790 * v327] = 876;
                        dword_752C0BC[790 * v327] = 235543242;
                        dword_752C0AC[790 * v327] = 0;
                        dword_752C0B0[790 * v327] = 235543242;
                        dword_752C0C0[790 * v327] = 235543242;
                        dword_752C454[790 * v327] = 0;
                        dword_752C458[790 * v327] = 0;
                        dword_752C470[790 * v327] = 0;
                        dword_752C488[790 * v327] = -1;
                        dword_752C4A0[790 * v327] = 0;
                        dword_752C4A4[790 * v327] = 0;
                        dword_752C4A8[790 * v327] = 0;
                        dword_752C580[790 * v327] = 0;
                        dword_752C584[790 * v327] = 0;
                        sub_4E4640(&dword_752C590[790 * v327], 0xFFu, 0x1A0u);
                        sub_4E4640((char *)&unk_752BF4C + 3160 * v327, 0, 0x9Cu);
                        for ( i8 = 0; i8 < 15; ++i8 )
                          *(&byte_752BFD0[3160 * v327] + i8) = -1;
                        for ( i8 = 0; i8 < 12; ++i8 )
                          *(&byte_752C06C[3160 * v327] + i8) = -1;
                        dword_752BAF4[790 * v327] = 0;
                        dword_752C430[790 * v327] = 0;
                        v96 = *(_WORD *)(v155 + 12);
                        v95 = *(_WORD *)(v155 + 14);
                        v94 = (byte_1FDECB1[1724 * v327] & 0xC0) >> 6;
                        if ( sub_401640(&byte_1FDECA0[1724 * v327]) || word_1FDECE0[862 * v327] >= 35 )
                        {
                          v96 = Rand()() % 15 + dword_594DE0[21 * v94];
                          v24 = 84 * v94;
                          v95 = Rand()() % 15 + dword_594DE4[21 * v94];
                        }
                        else
                        {
                          v96 = Rand()() % 5 + 2110;
                          v95 = Rand()() % 5 + 2039;
                        }
                        v93 = (unsigned __int8)byte_1FDECB4[1724 * v327];
                        v92 = dword_1FDF2C8[431 * v327];
                        if ( v92 < 40 && v92 >= 0 )
                        {
                          v91 = v92 % 10;
                          v90 = v92 / 10;
                          if ( v92 % 10 < 6 || v91 > 9 )
                            v93 = v90;
                          else
                            v93 = v91 - 6;
                        }
                        else
                        {
                          Log("err,CRITICAL unknown face", &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                        }
                        byte_1FDECB4[1724 * v327] = v93;
                        *(_BYTE *)(v155 + 36) = v93;
                        v89 = (unsigned __int16)word_1FDECB2[862 * v327];
                        if ( v93 >= 0 && v93 <= 3 )
                        {
                          for ( i2 = 0; i2 < 5; ++i2 )
                          {
                            if ( v89 && v89 == dword_594DD0[21 * i2] )
                            {
                              v96 = dword_594DD8[21 * i2];
                              v95 = dword_594DDC[21 * i2];
                              break;
                            }
                          }
                          v88 = sub_4015D2(v327, &v96, &v95);
                          if ( v88 )
                          {
                            *(_WORD *)(v155 + 12) = v96;
                            *(_WORD *)(v155 + 14) = v95;
                            dword_1FDF1F4[431 * v327] = v96;
                            dword_1FDF1E4[431 * v327] = v96;
                            dword_1FDF1F8[431 * v327] = v95;
                            dword_1FDF1E8[431 * v327] = v95;
                            dword_752BAF0[790 * v327] = 22;
                            dword_752C3FC[790 * v327] = 0;
                            dword_752C400[790 * v327] = 0;
                            word_752BFE6[1580 * v327] = 0;
                            if ( word_1FDECE0[862 * v327] < 999 && byte_1FDECB1[1724 * v327] & 1 )
                              byte_1FDECB1[1724 * v327] &= 0xFEu;
                            sub_4016EF(v327);
                            sub_401203(v155, 1244);
                            word_752BF48[1580 * v327] = 0;
                            dword_752C434[790 * v327] = (unsigned __int16)word_1FDECEC[862 * v327];
                            dword_752C438[790 * v327] = (unsigned __int16)word_1FDECEE[862 * v327];
                            dword_752C43C[790 * v327] = 0;
                            dword_752C4AC[790 * v327] = 0;
                            dword_752C4B0[790 * v327] = 0;
                            dword_752C474[790 * v327] = 0;
                            dword_752C478[790 * v327] = 0;
                            dword_752C47C[790 * v327] = 0;
                            dword_752C574[790 * v327] = 0;
                            dword_752C578[790 * v327] = 0;
                            dword_752C57C[790 * v327] = 0;
                            dword_752C46C[790 * v327] = 0;
                            sub_4010FF(v327, &v86);
                            LOWORD(v87) = v87 | 2;
                            *(&word_34EA550[4096 * *(_WORD *)(v155 + 14)] + *(_WORD *)(v155 + 12)) = v327;
                            sub_4014FB(*(_WORD *)(v155 + 12), *(_WORD *)(v155 + 14), &v86, 0);
                            sub_401221(v327);
                            if ( word_1FDECE0[862 * v327] >= 999 )
                              dword_752C460[790 * v327] = 1;
                            sub_401483(v327, 0);
                            sub_401915(v327, dword_594F6C);
                            sub_4016A9(v327);
                            if ( dword_8C76348 )
                              sub_4015FF(v327, 30000, 940, dword_8C76348);
                            for ( i3 = 60; i3 < 63; ++i3 )
                            {
                              if ( (signed int)*((_WORD *)&dword_1FDED7C[431 * v327] + 4 * i3) > 0
                                && (signed int)*((_WORD *)&dword_1FDED7C[431 * v327] + 4 * i3) < 6500
                                && *((_WORD *)&dword_1FDED7C[431 * v327] + 4 * i3) != 3467 )
                              {
                                for ( i9 = 0; i9 < 63; ++i9 )
                                {
                                  if ( !*((_WORD *)&dword_1FDED7C[431 * v327] + 4 * i9) )
                                  {
                                    sub_4E4810(
                                      &dword_1FDED7C[431 * v327] + 2 * i9,
                                      &dword_1FDED7C[431 * v327] + 2 * i3,
                                      8u);
                                    sub_401960(v327, 1, i9, &dword_1FDED7C[431 * v327] + 2 * i9);
                                    sub_4E4640(&dword_1FDED7C[431 * v327] + 2 * i3, 0, 8u);
                                    break;
                                  }
                                }
                              }
                            }
                            sub_40172B(v327, 0);
                            if ( (unsigned __int8)byte_1FDEF8C[1724 * v327] == 2 )
                            {
                              v84 = -1;
                              v83 = (unsigned __int16)word_1FDECB2[862 * v327];
                              if ( v83 == dword_8C76158 || v83 == dword_8C76154 )
                              {
                                v82 = byte_1FDECB0[1724 * v327];
                                if ( v82 == 7 )
                                {
                                  v84 = 3994;
                                }
                                else
                                {
                                  if ( v82 == 8 )
                                    v84 = 3993;
                                }
                              }
                              if ( v84 != -1 )
                              {
                                sub_4E4640(&v80, 0, 8u);
                                LOWORD(v80) = v84;
                                for ( i10 = 0; ; ++i10 )
                                {
                                  if ( i10 < 60 )
                                  {
                                    v78 = sub_4017E4(&dword_1FDED7C[431 * v327], i10);
                                    if ( !v78 )
                                      continue;
                                    if ( *((_WORD *)&dword_1FDED7C[431 * v327] + 4 * i10) )
                                      continue;
                                  }
                                  break;
                                }
                                if ( i10 >= 0 && i10 < 60 )
                                {
                                  v25 = 1724 * v327;
                                  v26 = i10;
                                  *(&dword_1FDED7C[431 * v327] + 2 * i10) = v80;
                                  *(int *)((char *)&dword_1FDED80[2 * v26] + v25) = v81;
                                  sub_401960(v327, 1, i10, &dword_1FDED7C[431 * v327] + 2 * i10);
                                }
                              }
                            }
                            sub_401578(v327);
                            v77 = 0;
                            v76 = 0;
                            for ( i11 = 0; i11 < 10; ++i11 )
                            {
                              v76 = dword_5A3A00[5 * i11];
                              if ( v89 && v76 && v76 == v89 )
                              {
                                v77 = 1;
                                break;
                              }
                            }
                            if ( v77 == 1 && (unsigned __int8)byte_1FDEF8C[1724 * v327] == 2 )
                            {
                              sub_4E4640(&v73, 0, 8u);
                              v73 = 153813739;
                              v72 = v76;
                              v71 = v76 >> 12;
                              v70 = v76 & 0xFFF;
                              v69 = *(&dword_88B5F20[61440 * (v76 >> 12)] + 15 * (v76 & 0xFFF));
                              if ( v69 > 1000 )
                              {
                                if ( v69 > 1500 )
                                {
                                  if ( v69 > 3000 )
                                  {
                                    if ( v69 > 5000 )
                                    {
                                      if ( v69 > 8000 )
                                      {
                                        if ( v69 > 11000 )
                                          BYTE3(v73) = -3;
                                        else
                                          BYTE3(v73) = -7;
                                      }
                                      else
                                      {
                                        BYTE3(v73) = -11;
                                      }
                                    }
                                    else
                                    {
                                      BYTE3(v73) = -15;
                                    }
                                  }
                                  else
                                  {
                                    BYTE3(v73) = -19;
                                  }
                                }
                                else
                                {
                                  BYTE3(v73) = -23;
                                }
                              }
                              for ( i12 = 0; ; ++i12 )
                              {
                                if ( i12 < 60 )
                                {
                                  v67 = sub_4017E4(&dword_1FDED7C[431 * v327], i12);
                                  if ( !v67 )
                                    continue;
                                  if ( *((_WORD *)&dword_1FDED7C[431 * v327] + 4 * i12) )
                                    continue;
                                }
                                break;
                              }
                              if ( i12 >= 0 && i12 < 60 )
                              {
                                v27 = 1724 * v327;
                                v28 = i12;
                                *(&dword_1FDED7C[431 * v327] + 2 * i12) = v73;
                                *(int *)((char *)&dword_1FDED80[2 * v28] + v27) = v74;
                                sub_401960(v327, 1, i12, &dword_1FDED7C[431 * v327] + 2 * i12);
                              }
                            }
                            sub_4E3F40(
                              a1,
                              v24,
                              (int)&String,
                              "sta,Login char:%s exp:%u level:%d conn:%d money:%d, store:%d");
                            Log(&String, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                            sub_401348(v327);
                            v66 = word_1FDECC4[862 * v327];
                            if ( v66 < 400 )
                            {
                              v65 = dword_1FDECBC[431 * v327];
                              v64 = 0;
                              v63 = 0;
                              v62 = sub_401640(&byte_1FDECA0[1724 * v327]);
                              if ( v62 == 2 )
                              {
                                v64 = dword_598574[v66];
                                v63 = (int)*(&off_598578 + v66);
                              }
                              else
                              {
                                v64 = dword_597F28[v66];
                                v63 = dword_597F2C[v66];
                              }
                              v61 = (unsigned int)(v63 - v64) >> 2;
                              v60 = v61 + v64;
                              v59 = v64 + 2 * ((unsigned int)(v63 - v64) >> 2);
                              v58 = 3 * ((unsigned int)(v63 - v64) >> 2) + v64;
                              if ( v65 <= v58 )
                              {
                                if ( v65 <= v59 )
                                  dword_1FDF228[431 * v327] = v65 <= v60 ? 0 : 1;
                                else
                                  dword_1FDF228[431 * v327] = 2;
                              }
                              else
                              {
                                dword_1FDF228[431 * v327] = 3;
                              }
                              if ( word_1FDECC4[862 * v327] >= dword_5A0FB0 && !dword_8C762BC )
                                sub_401979(v327, &byte_752BAD8[3160 * v327], 1u, 1);
                            }
                            sub_4011AE(v327);
                            if ( dword_8C76280 || dword_8C76284 )
                            {
                              dword_752C568[790 * v327] = 40;
                              sub_401497(v327);
                            }
                            if ( dword_8C75F64 == 2 )
                            {
                              v57 = sub_4011B3((char *)&unk_1FDF03A + 1724 * v327, 2);
                              if ( v57 )
                              {
                                if ( dword_8C75F64 )
                                  sub_401668(v327, 1);
                              }
                            }
                            v56 = sub_40109B(v327);
                            if ( !v56 && !sub_401640(&byte_1FDECA0[1724 * v327]) )
                              sub_401087(v327, dword_5A1054 + 1);
                            if ( v56 == dword_5A1054 + 1 )
                            {
                              v55 = 0;
                              if ( qword_8C761C8 )
                                v55 = sub_4E5390(qword_8C761C8, (unsigned int)&unk_5F5E100, 0);
                              sub_4E3F40(a1, v24, (int)&String, (const char *)&unk_8B3B44);
                              sub_401B63(v327, &String);
                            }
                            else
                            {
                              v54 = 0;
                              if ( qword_8C761C8 )
                                v54 = sub_4E5390(qword_8C761C8, (unsigned int)&unk_5F5E100, 0);
                              sub_4E3F40(a1, v24, (int)&String, (const char *)&unk_8B3FC4);
                              sub_401B63(v327, &String);
                            }
                            if ( dword_8C761B4 )
                            {
                              LOWORD(v29) = dword_8C761B4;
                              sub_4011CC(v29, &v53);
                              sub_4E3F40(a1, v24, (int)&String, (const char *)&unk_8B24C4);
                              sub_401B63(v327, &String);
                            }
                            sub_4E4640(&v48, 0, 0x14u);
                            LOWORD(v48) = 20;
                            v49 = 450;
                            v50 = 30000;
                            v51 = dword_8C75EF8;
                            v52 = 8 * dword_8C75EFC;
                            v3 = sub_401203(&v48, 20);
                          }
                          else
                          {
                            Log(
                              "Can't start can't get mobgrid",
                              &byte_752BAD8[3160 * v327],
                              dword_752BAEC[790 * v327]);
                            v3 = sub_401302(v327);
                          }
                        }
                        else
                        {
                          Log("err,login Undefined class", &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                          v3 = sub_401302(v327);
                        }
                      }
                      else
                      {
                        sub_4E3F40(a1, a2, (int)&v154, "err,cnf account login, not match,conn:%d name:%d mode:%d-%d");
                        v3 = Log(&v154, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                      }
                    }
                    else
                    {
                      sub_4E3F40(a1, a2, (int)&v154, "err,cnf account login, len<4, conn:%d name:%d mode:%d-%d");
                      v3 = Log(&v154, &byte_752BAD8[3160 * v327], dword_752BAEC[790 * v327]);
                    }
                  }
                  else
                  {
                    sub_4010EB(0, " CNFCharLogin");
                    v3 = sub_401302(v327);
                  }
                  break;
                case 26:
                  v47 = a3;
                  *(_WORD *)(a3 + 6) = 30001;
                  sub_401663(v327, 0, 281);
                  dword_752BAF0[790 * v327] = 11;
                  v3 = sub_4010EB(v327, " CharLoginFail");
                  break;
                case 0:
                  v46 = a3;
                  *(_WORD *)(a3 + 4) = 258;
                  *(_WORD *)(v46 + 6) = 0;
                  v3 = sub_40132A(a3, 116);
                  break;
                case 29:
                  v45 = a3;
                  sub_401663(*(_WORD *)(a3 + 6), 30002, 284);
                  sub_4019FB(&dword_752BAF8[790 * *(_WORD *)(v45 + 6)]);
                  v3 = sub_401302(v327);
                  break;
                case 30:
                  v42 = a3;
                  sub_401663(*(_WORD *)(a3 + 6), 30002, 285);
                  sub_4019FB(&dword_752BAF8[790 * *(_WORD *)(v42 + 6)]);
                  v3 = sub_401302(v327);
                  break;
                case 8:
                  v41 = a3;
                  if ( (signed int)*(_WORD *)(a3 + 6) > 0 && (signed int)*(_WORD *)(v41 + 6) < 1000 )
                  {
                    if ( dword_752BAF0[790 * *(_WORD *)(v41 + 6)] != 22
                      && dword_752BAF0[790 * *(_WORD *)(v41 + 6)] != 24 )
                    {
                      v39 = 2053;
                      v40 = *(_WORD *)(v41 + 6);
                      sub_40132A(&v38, 12);
                    }
                    if ( dword_752BAF0[790 * *(_WORD *)(v41 + 6)] == 22
                      || dword_752BAF0[790 * *(_WORD *)(v41 + 6)] == 11 )
                    {
                      if ( *(_DWORD *)(v41 + 28) )
                      {
                        if ( *(_DWORD *)(v41 + 28) == 1 )
                          sub_401B63(*(_WORD *)(v41 + 6), &unk_8AB844);
                      }
                      else
                      {
                        sub_401B63(*(_WORD *)(v41 + 6), &unk_8AAAC4);
                      }
                      sub_4019FB(&dword_752BAF8[790 * *(_WORD *)(v41 + 6)]);
                    }
                    if ( dword_752BAF0[790 * *(_WORD *)(v41 + 6)] != 22
                      || *(_DWORD *)(v41 + 28)
                      || dword_752C474[790 * v327] && dword_752C474[790 * v327] <= (unsigned int)(dword_8C76270 - 5000) )
                    {
                      v3 = sub_401302(*(_WORD *)(v41 + 6));
                    }
                    else
                    {
                      if ( !dword_752C474[790 * v327] )
                        dword_752C474[790 * v327] = dword_8C76270;
                      v3 = sub_4015FF(v327, 0, 942, 0);
                    }
                  }
                  else
                  {
                    v3 = Log("err,DBsavingquit - id range", "-system", 0);
                  }
                  break;
                case 9:
                  v37 = a3;
                  dword_1FDF1D4[431 * v327] = 0;
                  dword_752BAF0[790 * v327] = 1;
                  v3 = sub_401302(v327);
                  break;
                default:
                  return sub_4E46A0(1, v3, v33, v31, v32);
              }
            }
          }
        }
        else
        {
          sub_4E3F40(a1, a2, (int)&String, "Unknown DB Message - conn:%d - type:%d");
          v3 = Log(&String, "-system", 0);
        }
      }
      else
      {
        v261 = 2053;
        v262 = v327;
        v3 = sub_40132A(&v260, 12);
      }
    }
    else
    {
      v3 = v329;
      v36 = *(_WORD *)(v329 + 4);
      if ( v36 > 3107 )
      {
        if ( v36 > 3799 )
        {
          if ( v36 > 15382 )
          {
            if ( v36 == 15386 )
            {
              v271 = a3;
              v270 = *(_DWORD *)(a3 + 12);
              v269 = v270 >> 12;
              v268 = v270 & 0xFFF;
              if ( v270 >= 0 && v270 <= 65535 )
              {
                *(&dword_88B5EE8[61440 * v269] + 15 * v268) = 0;
                v3 = 60 * v268;
                *(&byte_88B5EED[245760 * v269] + 60 * v268) = 0;
                *(&byte_88B5EF9[245760 * v269] + 60 * v268) = 0;
              }
              else
              {
                sub_4E3F40(a1, a2, (int)&String, "err,update guild  index error %d");
                v3 = Log(&String, "-system", 0);
              }
            }
            else
            {
              if ( v36 == 15388 )
              {
                v267 = a3;
                v266 = *(_DWORD *)(a3 + 16);
                v265 = v266 >> 12;
                v264 = v266 & 0xFFF;
                v263 = *(_BYTE *)(a3 + 20);
                if ( v266 >= 0 && v266 <= 65535 )
                {
                  if ( v263 >= 1 && v263 <= 3 )
                  {
                    sub_4E4810(&dword_88B5EE8[61440 * v265 + 1] + 15 * v264 + 3 * v263, (const void *)(v267 + 21), 0xCu);
                    *((_BYTE *)&dword_88B5EE8[61440 * v265 + 3] + 60 * v264 + 12 * v263 + 3) = 0;
                    *((_BYTE *)&dword_88B5EE8[61440 * v265 + 3] + 60 * v264 + 12 * v263 + 2) = 0;
                    sub_4E3F40(a1, a2, (int)&String, "sys,create sub guild %s - %s");
                    v3 = Log(&String, "-system", 0);
                  }
                  else
                  {
                    sub_4E3F40(a1, a2, (int)&String, "err,update guild  sub party index error %d");
                    v3 = Log(&String, "-system", 0);
                  }
                }
                else
                {
                  sub_4E3F40(a1, a2, (int)&String, "errupdate guild index error %d");
                  v3 = Log(&String, "-system", 0);
                }
              }
            }
          }
          else
          {
            switch ( v36 )
            {
              case 15382:
                v281 = a3;
                v280 = *(_DWORD *)(a3 + 12);
                v279 = v280 >> 12;
                v278 = v280 & 0xFFF;
                if ( v280 >= 0 && v280 <= 65535 )
                {
                  *(&dword_88B5EE8[61440 * v279] + 15 * v278) = v280;
                  sub_4E4720((int)(&byte_88B5EEC[245760 * v279] + 60 * v278));
                  *(&byte_88B5EF7[245760 * v279] + 60 * v278) = 0;
                  *(&byte_88B5EF6[245760 * v279] + 60 * v278) = 0;
                  v3 = v281;
                  LOBYTE(v3) = *(_BYTE *)(v281 + 28);
                  *(&byte_88B5F1D[245760 * v279] + 60 * v278) = v3;
                  *(&byte_88B5F1C[245760 * v279] + 60 * v278) = 1;
                }
                else
                {
                  sub_4E3F40(a1, a2, (int)&String, "err,update guild index error %d");
                  v3 = Log(&String, "-system", 0);
                }
                break;
              case 13321:
                v286 = a3;
                v3 = a3;
                if ( *(_DWORD *)(a3 + 12) == 1 )
                  v3 = sub_401479(v286 + 36);
                break;
              case 15373:
                dword_8C762DC = 1;
                v320 = a3;
                for ( i13 = 1; i13 < 1000; ++i13 )
                {
                  if ( dword_752BAF0[790 * i13] == 22 )
                    sub_401203(v320, *(_WORD *)v320);
                }
                sub_4E4810((void *)&String, (const void *)(v320 + 12), 0x64u);
                byte_882F57C = 0;
                byte_882F57D = 0;
                sub_4E3F40(a1, a2, (int)&v318, "etc,banner %s");
                v3 = Log(&v318, "system", 0);
                break;
            }
          }
        }
        else
        {
          if ( v36 == 3799 )
          {
            v292 = a3;
            v291 = *(_DWORD *)(a3 + 12);
            v3 = *(_DWORD *)(a3 + 16);
            v290 = *(_DWORD *)(a3 + 16);
            if ( v290 >= 0 && v290 < 16 && v291 >= 0 && v291 < 16 && v291 != v290 )
            {
              *((_DWORD *)&qword_750BA88 + v291 + 1) = v290;
              sub_4E3F40(a1, a2, (int)&String, "Server War %d To %d");
              v3 = Log(&String, "-system", 0);
              for ( i14 = 0; i14 < 1000; ++i14 )
              {
                if ( dword_752BAF0[790 * i14] == 22 && dword_1FDF1D4[431 * i14] )
                {
                  sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B3CC4);
                  sub_401B63(i14, &String);
                }
                v3 = i14 + 1;
              }
            }
          }
          else
          {
            if ( v36 > 3362 )
            {
              if ( v36 == 3598 )
              {
                v294 = a3;
                v3 = sub_401A87(*(_DWORD *)(a3 + 12), *(_DWORD *)(a3 + 16));
              }
              else
              {
                if ( v36 == 3602 )
                {
                  v293 = a3;
                  v3 = sub_401B95(*(_DWORD *)(a3 + 12), *(_DWORD *)(a3 + 16));
                }
              }
            }
            else
            {
              switch ( v36 )
              {
                case 3362:
                  v300 = a3;
                  v299 = *(_WORD *)(a3 + 124);
                  *(_WORD *)(a3 + 124) = 1;
                  *(_WORD *)(v300 + 4) = 820;
                  v3 = v300;
                  *(_WORD *)(v300 + 6) = 0;
                  for ( i15 = 1; i15 < 1000; ++i15 )
                  {
                    if ( dword_752BAF0[790 * i15] == 22 )
                    {
                      v3 = 3160 * i15;
                      if ( !dword_752C414[790 * i15] )
                      {
                        v297 = byte_1FDECB0[1724 * i15];
                        v3 = v297;
                        if ( v297 == v299 )
                          v3 = sub_401203(v300, *(_WORD *)v300);
                      }
                    }
                  }
                  break;
                case 3126:
                  v308 = a3;
                  v3 = a3;
                  v307 = *(_DWORD *)(a3 + 12);
                  if ( v307 == 1 )
                  {
                    v3 = sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B4044);
                    dword_5A162C = 6;
                  }
                  else
                  {
                    if ( v307 > 5 )
                    {
                      v3 = sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B40C4);
                      dword_5A162C = v307;
                    }
                  }
                  for ( i16 = 0; i16 < 1000; ++i16 )
                  {
                    if ( dword_752BAF0[790 * i16] == 22 && dword_1FDF1D4[431 * i16] )
                      sub_401B63(i16, &String);
                    v3 = i16 + 1;
                  }
                  break;
                case 3357:
                  v303 = a3;
                  v3 = a3;
                  *(_WORD *)(a3 + 4) = 3357;
                  *(_WORD *)(v303 + 6) = 0;
                  for ( i17 = 0; i17 < 1000; ++i17 )
                  {
                    v3 = 3160 * i17;
                    if ( dword_752BAF0[790 * i17] == 22 && dword_1FDF1D4[431 * i17] )
                      v3 = sub_401203(v303, 108);
                  }
                  break;
              }
            }
          }
        }
      }
      else
      {
        if ( v36 == 3107 )
        {
          v311 = a3;
          if ( dword_8C7615C != *(_DWORD *)(a3 + 20) )
          {
            for ( i18 = 0; i18 < 1000; ++i18 )
              sub_40172B(i18, 3993);
          }
          if ( dword_8C76160 != *(_DWORD *)(v311 + 24) )
          {
            for ( i19 = 0; i19 < 1000; ++i19 )
              sub_40172B(i19, 3994);
          }
          dword_8C7615C = *(_DWORD *)(v311 + 20);
          dword_8C76154 = *(_DWORD *)(v311 + 12);
          dword_8C76160 = *(_DWORD *)(v311 + 24);
          v3 = v311;
          dword_8C76158 = *(_DWORD *)(v311 + 16);
        }
        else
        {
          if ( v36 > 1969 )
          {
            v36 -= 3083;
            v3 = 0;
            switch ( v36 )
            {
              case 10:
                v317 = a3;
                v316 = *(_DWORD *)(a3 + 12);
                v315 = *(_DWORD *)(a3 + 16);
                dword_8C76170 = v315;
                sub_4E3F40(a1, a2, (int)&String, "etc,Rune Gate open:%d");
                v3 = Log(&String, "system", 0);
                for ( i20 = 0; i20 < 1000; ++i20 )
                {
                  v3 = 3160 * i20;
                  if ( dword_752BAF0[790 * i20] == 22 )
                  {
                    if ( dword_1FDF1D4[431 * i20] )
                    {
                      v3 = (unsigned __int16)word_1FDECEC[862 * i20];
                      v313 = v3;
                      if ( v3 >= 0 )
                      {
                        v3 = sub_40109B(i20);
                        v312 = v3;
                        if ( dword_5A1054 + 1 == v3 )
                        {
                          if ( dword_1FDEF7C[431 * i20] & 0x80
                            || (v3 = dword_1FDEF7C[431 * i20] & 0x8000) != 0
                            || (unsigned int)&unk_800000 & dword_1FDEF7C[431 * i20] )
                          {
                            SetAffect(i20, 102, 0, 2);
                            sub_4018B1(i20);
                            v3 = sub_4011AE(i20);
                          }
                        }
                      }
                    }
                  }
                }
                break;
              case 20:
                v305 = a3;
                v304 = *(_DWORD *)(a3 + 16);
                if ( SHIDWORD(v304) <= 0 && SHIDWORD(v304) < 0 )
                  v304 = 0i64;
                qword_8C761C8 += 1000000000i64;
                qword_750BA88 += v304;
                if ( SHIDWORD(v304) <= 0 && SHIDWORD(v304) < 0 )
                  v304 = 0i64;
                sub_4E3F40(a1, a2, (int)&String, "sys,Output war winner point %I64d - tax : %I64d");
                v3 = Log(&String, "system", 0);
                break;
              case 0:
                v301 = a3;
                *(_BYTE *)(a3 + 111) = 0;
                *(_BYTE *)(v301 + 110) = 0;
                Log(v301 + 16, "system", 0);
                v3 = sub_401091(0, *(_DWORD *)(v301 + 12), v301 + 16);
                break;
              case 16:
                v285 = a3;
                v284 = *(_DWORD *)(a3 + 12);
                if ( v284 >= 0 && v284 <= 65535 )
                {
                  v283 = v284 >> 12;
                  v282 = v284 & 0xFFF;
                  v4 = v285 + 12;
                  memcpy(&dword_88B5EE8[61440 * (v284 >> 12)] + 15 * (v284 & 0xFFF), (const void *)(v285 + 12), 0x3Cu);
                  *(&byte_88B5EF7[245760 * v283] + 60 * v282) = 0;
                  *(&byte_88B5EF6[245760 * v283] + 60 * v282) = 0;
                  *(&byte_88B5F03[245760 * v283] + 60 * v282) = 0;
                  *(&byte_88B5F02[245760 * v283] + 60 * v282) = 0;
                  *(&byte_88B5F0F[245760 * v283] + 60 * v282) = 0;
                  *(&byte_88B5F0E[245760 * v283] + 60 * v282) = 0;
                  *(&byte_88B5F1B[245760 * v283] + 60 * v282) = 0;
                  *(&byte_88B5F1A[245760 * v283] + 60 * v282) = 0;
                  sub_4E3F40(a1, v4 + 60, (int)&String, "%d.%s.%s.%s.%s. C(%d) N(%d) M(%d) F(%d)");
                  v3 = Log(&String, "system", 0);
                }
                else
                {
                  sub_4E3F40(a1, a2, (int)&String, "err,_MSG_InitGuildlist guild index error %d");
                  v3 = Log(&String, "system", 0);
                }
                break;
              case 12:
                v277 = a3;
                v276 = *(_DWORD *)(a3 + 12);
                v275 = *(_DWORD *)(a3 + 16);
                v274 = *(_DWORD *)(a3 + 20);
                v273 = v276 >> 12;
                v272 = v276 & 0xFFF;
                if ( v276 >= 0 && v276 <= 65535 )
                {
                  switch ( v275 )
                  {
                    case 3:
                      *(&byte_88B5F1E[245760 * v273] + 60 * v272) = v274;
                      break;
                    case 2:
                      *(&byte_88B5F1D[245760 * v273] + 60 * v272) = v274;
                      break;
                    case 1:
                      *(&dword_88B5F20[61440 * v273] + 15 * v272) = v274;
                      break;
                  }
                  sub_4E3F40(a1, a2, (int)&String, "sys,update guild result %d type:%d");
                  v3 = Log(&String, "-system", 0);
                }
                else
                {
                  sub_4E3F40(a1, a2, (int)&String, "err,update guild index error %d");
                  v3 = Log(&String, "-system", 0);
                }
                break;
              default:
                return sub_4E46A0(1, v3, v33, v31, v32);
            }
          }
          else
          {
            if ( v36 == 1969 )
            {
              v321 = a3;
              v3 = *(_WORD *)(a3 + 12);
              if ( v3 == 10 )
              {
                memcpy(&word_74F84D8, (const void *)v321, 0x190u);
                word_74F84DE = 30000;
                v3 = sub_401956();
              }
            }
            else
            {
              if ( v36 > 1063 )
              {
                if ( v36 == 1217 )
                {
                  v326 = a3;
                  v324 = 0;
                  sub_4E4340(a1, (int)&v330, a2, a3 + 13, "%s %d", (unsigned int)&v325);
                  v323 = sub_401951(&v325);
                  if ( *(_BYTE *)(v326 + 12) )
                  {
                    if ( v323 >= 1000 )
                    {
                      sub_4E3F40(a1, a2, (int)&v322, "etc, cash charge success %s(A) %d");
                      v3 = Log(&v322, &v325, 0);
                    }
                    else
                    {
                      if ( dword_752BAF0[790 * v323] == 22 )
                      {
                        sub_401B63(v323, &unk_8B31C4);
                        sub_4E3F40(a1, a2, (int)&v322, "etc, cash charge success %s %d");
                      }
                      else
                      {
                        sub_4E3F40(a1, a2, (int)&v322, "etc, cash charge success %s(A) %d");
                      }
                      v3 = Log(&v322, &v325, dword_752BAEC[790 * v323]);
                    }
                  }
                  else
                  {
                    if ( v323 >= 1000 )
                    {
                      sub_4E3F40(a1, a2, (int)&v322, "etc, cash charge fail %s(A) %d");
                      v3 = Log(&v322, &v325, 0);
                    }
                    else
                    {
                      if ( dword_752BAF0[790 * v323] == 22 )
                      {
                        sub_401B63(v323, &unk_8B3244);
                        sub_4E3F40(a1, a2, (int)&v322, "etc, cash charge fail %s %d");
                      }
                      else
                      {
                        sub_4E3F40(a1, a2, (int)&v322, "etc, cash charge fail %s(A) %d");
                      }
                      v3 = Log(&v322, &v325, dword_752BAEC[790 * v323]);
                    }
                  }
                }
                else
                {
                  if ( v36 == 1961 )
                  {
                    dword_8C762DC = 1;
                    v3 = Log("TransperCharacter mode", "system", 0);
                  }
                }
              }
              else
              {
                switch ( v36 )
                {
                  case 1063:
                    v288 = a3;
                    v3 = (int)sub_4E4810(dword_5A39F0, (const void *)(a3 + 12), 0xC8u);
                    for ( i21 = 0; i21 < 10; ++i21 )
                    {
                      sub_4E3F40(a1, a2, (int)&String, "etc, guild report %d - %d %d %d %d %d");
                      v3 = Log(&String, "-system", 0);
                    }
                    break;
                  case 1054:
                    dword_8C761BC = 1;
                    v3 = Log("Complate Server Init", "system", 0);
                    break;
                  case 1059:
                    v296 = a3;
                    if ( *(_DWORD *)(a3 + 12) != -1 )
                    {
                      dword_5A1060 = *(_DWORD *)(v296 + 12);
                      dword_5A1054 = *(_DWORD *)(v296 + 20);
                    }
                    dword_5A1058 = *(_DWORD *)(v296 + 16);
                    if ( !dword_8C762C8 )
                    {
                      for ( i22 = 1; i22 < 11; ++i22 )
                      {
                        if ( *(&byte_AAAEF0[704 * dword_5A1060] + 64 * i22) )
                          ++dword_8C762C8;
                      }
                      dword_5A105C = 640 * dword_8C762C8 / 2;
                    }
                    sub_4E3F40(a1, a2, (int)&String, "DB set sapphire %d / %d");
                    v3 = Log(&String, "-system", 0);
                    break;
                }
              }
            }
          }
        }
      }
    }
  }
  else
  {
    v328 = a3;
    sub_4E3F40(a1, a2, (int)&String, "err,packet Type:%d ID:%d Size:%d KeyWord:%d");
    v3 = Log(&String, "-system", 0);
  }
  return sub_4E46A0(1, v3, v33, v31, v32);
}
// 40107D: using guessed type _DWORD __cdecl sub_40107D(_DWORD, _DWORD);
// 401087: using guessed type _DWORD __cdecl sub_401087(_DWORD, char);
// 401091: using guessed type _DWORD __cdecl sub_401091(_DWORD, _DWORD, _DWORD);
// 40109B: using guessed type _DWORD __cdecl sub_40109B(_DWORD);
// 4010EB: using guessed type _DWORD __cdecl sub_4010EB(_DWORD, _DWORD);
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 40115E: using guessed type _DWORD __cdecl sub_40115E(_DWORD, _DWORD, _DWORD);
// 401177: using guessed type _DWORD __cdecl sub_401177(_DWORD, _DWORD, _DWORD);
// 4011AE: using guessed type _DWORD __cdecl sub_4011AE(_DWORD);
// 4011B3: using guessed type _DWORD __cdecl sub_4011B3(_DWORD, _DWORD);
// 4011CC: using guessed type _DWORD __cdecl sub_4011CC(_DWORD, _DWORD);
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401221: using guessed type _DWORD __cdecl sub_401221(_DWORD);
// 4012B7: using guessed type _DWORD __cdecl sub_4012B7(_DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 401348: using guessed type _DWORD __cdecl sub_401348(_DWORD);
// 401375: using guessed type _DWORD __cdecl sub_401375(_DWORD, _DWORD);
// 4013A7: using guessed type _DWORD __cdecl sub_4013A7(_DWORD);
// 40144C: using guessed type _DWORD __cdecl sub_40144C(_DWORD, _DWORD, _DWORD);
// 401479: using guessed type _DWORD __cdecl sub_401479(_DWORD);
// 401483: using guessed type _DWORD __cdecl sub_401483(_DWORD, _DWORD);
// 401497: using guessed type _DWORD __cdecl sub_401497(_DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401528: using guessed type _DWORD __cdecl sub_401528(_DWORD);
// 40155F: using guessed type _DWORD __cdecl sub_40155F(_DWORD, _DWORD);
// 401578: using guessed type _DWORD __cdecl sub_401578(_DWORD);
// 4015D2: using guessed type _DWORD __cdecl sub_4015D2(_DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4015FA: using guessed type _DWORD __cdecl sub_4015FA(_DWORD, _DWORD, _DWORD);
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 40162C: using guessed type _DWORD __cdecl sub_40162C(_DWORD);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 401663: using guessed type _DWORD __cdecl sub_401663(_DWORD, __int16, __int16);
// 401668: using guessed type _DWORD __cdecl sub_401668(_DWORD, _DWORD);
// 4016A9: using guessed type _DWORD __cdecl sub_4016A9(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 4016FE: using guessed type _DWORD __cdecl sub_4016FE(_DWORD, _DWORD);
// 40172B: using guessed type _DWORD __cdecl sub_40172B(_DWORD, _DWORD);
// 40175D: using guessed type _DWORD __cdecl sub_40175D(_DWORD, _DWORD);
// 401776: using guessed type _DWORD __cdecl sub_401776(_DWORD, _DWORD, _DWORD);
// 40178F: using guessed type _DWORD __cdecl sub_40178F(_DWORD);
// 4017E4: using guessed type _DWORD __cdecl sub_4017E4(_DWORD, _DWORD);
// 401834: using guessed type _DWORD __cdecl sub_401834(_DWORD, _DWORD);
// 401870: using guessed type _DWORD __cdecl sub_401870(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 401906: using guessed type _DWORD __cdecl sub_401906(_DWORD, _DWORD);
// 401915: using guessed type _DWORD __cdecl sub_401915(_DWORD, _DWORD);
// 40193D: using guessed type int __thiscall sub_40193D(_DWORD);
// 401951: using guessed type _DWORD __cdecl sub_401951(_DWORD);
// 401956: using guessed type int sub_401956(void);
// 40195B: using guessed type _DWORD __cdecl SetAffect(_DWORD, _DWORD, _DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401979: using guessed type _DWORD __cdecl sub_401979(_DWORD, _DWORD, u_long hostlong, _DWORD);
// 4019FB: using guessed type int __thiscall sub_4019FB(_DWORD);
// 401A55: using guessed type _DWORD __cdecl sub_401A55(char, _DWORD);
// 401A87: using guessed type _DWORD __cdecl sub_401A87(_DWORD, _DWORD);
// 401ADC: using guessed type _DWORD __cdecl sub_401ADC(_DWORD, _DWORD);
// 401B13: using guessed type _DWORD __cdecl sub_401B13(_DWORD, _DWORD, _DWORD, _DWORD);
// 401B1D: using guessed type _DWORD __cdecl sub_401B1D(_DWORD, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 401B68: using guessed type int __thiscall sub_401B68(_DWORD);
// 401B95: using guessed type _DWORD __cdecl sub_401B95(_DWORD, _DWORD);
// 594D70: using guessed type int dword_594D70[];
// 594D74: using guessed type int dword_594D74[];
// 594D78: using guessed type int dword_594D78[];
// 594D7C: using guessed type int dword_594D7C[];
// 594DD0: using guessed type int dword_594DD0[];
// 594DD8: using guessed type int dword_594DD8[];
// 594DDC: using guessed type int dword_594DDC[];
// 594DE0: using guessed type int dword_594DE0[];
// 594DE4: using guessed type int dword_594DE4[];
// 594F6C: using guessed type int dword_594F6C;
// 597F28: using guessed type int dword_597F28[];
// 597F2C: using guessed type int dword_597F2C[];
// 598574: using guessed type int dword_598574[];
// 598578: using guessed type void *off_598578;
// 5A0FB0: using guessed type int dword_5A0FB0;
// 5A103C: using guessed type int dword_5A103C;
// 5A1054: using guessed type int dword_5A1054;
// 5A1058: using guessed type int dword_5A1058;
// 5A105C: using guessed type int dword_5A105C;
// 5A1060: using guessed type int dword_5A1060;
// 5A162C: using guessed type int dword_5A162C;
// 5A39F0: using guessed type int dword_5A39F0[];
// 5A3A00: using guessed type int dword_5A3A00[];
// 9CCCC6: using guessed type __int16 word_9CCCC6[];
// 9DE31C: using guessed type int dword_9DE31C;
// 9DEC68: using guessed type int dword_9DEC68;
// BAF180: using guessed type int dword_BAF180;
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDECD4: using guessed type __int16 word_1FDECD4[];
// 1FDECD6: using guessed type __int16 word_1FDECD6[];
// 1FDECD8: using guessed type __int16 word_1FDECD8[];
// 1FDECDA: using guessed type __int16 word_1FDECDA[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECEE: using guessed type __int16 word_1FDECEE[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED04: using guessed type __int16 word_1FDED04[];
// 1FDED5C: using guessed type __int16 word_1FDED5C[];
// 1FDED74: using guessed type __int16 word_1FDED74[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDED80: using guessed type int dword_1FDED80[];
// 1FDEF74: using guessed type __int16 word_1FDEF74[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDEF80: using guessed type __int16 word_1FDEF80[];
// 1FDEF84: using guessed type __int16 word_1FDEF84[];
// 1FDEF94: using guessed type int dword_1FDEF94[];
// 1FDEFA8: using guessed type int dword_1FDEFA8[];
// 1FDF044: using guessed type int dword_1FDF044[];
// 1FDF048: using guessed type int dword_1FDF048[];
// 1FDF04C: using guessed type int dword_1FDF04C[];
// 1FDF050: using guessed type __int16 word_1FDF050[];
// 1FDF06C: using guessed type int dword_1FDF06C[];
// 1FDF084: using guessed type __int16 word_1FDF084[];
// 1FDF086: using guessed type __int16 word_1FDF086[];
// 1FDF0E0: using guessed type int dword_1FDF0E0[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1E4: using guessed type int dword_1FDF1E4[];
// 1FDF1E8: using guessed type int dword_1FDF1E8[];
// 1FDF1EC: using guessed type int dword_1FDF1EC[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF228: using guessed type int dword_1FDF228[];
// 1FDF22C: using guessed type int dword_1FDF22C[];
// 1FDF2B0: using guessed type int dword_1FDF2B0[];
// 1FDF2C8: using guessed type int dword_1FDF2C8[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 54EB3E0: using guessed type __int16 word_54EB3E0;
// 74F84D8: using guessed type __int16 word_74F84D8;
// 74F84DE: using guessed type __int16 word_74F84DE;
// 74F87F8: using guessed type int dword_74F87F8[];
// 74F87FC: using guessed type int dword_74F87FC[];
// 74F8800: using guessed type int dword_74F8800[];
// 74F8804: using guessed type int dword_74F8804[];
// 750BA40: using guessed type __int16 word_750BA40[];
// 750BA88: using guessed type __int64 qword_750BA88;
// 752BAE8: using guessed type int dword_752BAE8[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF4: using guessed type int dword_752BAF4[];
// 752BAF8: using guessed type int dword_752BAF8[];
// 752BB38: using guessed type int dword_752BB38[];
// 752BB3C: using guessed type int dword_752BB3C[];
// 752BB44: using guessed type int dword_752BB44[];
// 752BB48: using guessed type int dword_752BB48[];
// 752BF44: using guessed type int dword_752BF44[];
// 752BF48: using guessed type __int16 word_752BF48[];
// 752BFE6: using guessed type __int16 word_752BFE6[];
// 752C0AC: using guessed type int dword_752C0AC[];
// 752C0B0: using guessed type int dword_752C0B0[];
// 752C0B4: using guessed type int dword_752C0B4[];
// 752C0B8: using guessed type int dword_752C0B8[];
// 752C0BC: using guessed type int dword_752C0BC[];
// 752C0C0: using guessed type int dword_752C0C0[];
// 752C0C4: using guessed type int dword_752C0C4[];
// 752C0C8: using guessed type int dword_752C0C8[];
// 752C3C4: using guessed type int dword_752C3C4[];
// 752C3FC: using guessed type int dword_752C3FC[];
// 752C400: using guessed type int dword_752C400[];
// 752C404: using guessed type int dword_752C404[];
// 752C408: using guessed type int dword_752C408[];
// 752C40C: using guessed type int dword_752C40C[];
// 752C414: using guessed type int dword_752C414[];
// 752C430: using guessed type int dword_752C430[];
// 752C434: using guessed type int dword_752C434[];
// 752C438: using guessed type int dword_752C438[];
// 752C43C: using guessed type int dword_752C43C[];
// 752C440: using guessed type int dword_752C440[];
// 752C444: using guessed type int dword_752C444[];
// 752C448: using guessed type int dword_752C448[];
// 752C44C: using guessed type int dword_752C44C[];
// 752C450: using guessed type int dword_752C450[];
// 752C454: using guessed type int dword_752C454[];
// 752C458: using guessed type int dword_752C458[];
// 752C460: using guessed type int dword_752C460[];
// 752C464: using guessed type int dword_752C464[];
// 752C468: using guessed type int dword_752C468[];
// 752C46C: using guessed type int dword_752C46C[];
// 752C470: using guessed type int dword_752C470[];
// 752C474: using guessed type int dword_752C474[];
// 752C478: using guessed type int dword_752C478[];
// 752C47C: using guessed type int dword_752C47C[];
// 752C480: using guessed type int dword_752C480[];
// 752C488: using guessed type int dword_752C488[];
// 752C49C: using guessed type int dword_752C49C[];
// 752C4A0: using guessed type int dword_752C4A0[];
// 752C4A4: using guessed type int dword_752C4A4[];
// 752C4A8: using guessed type int dword_752C4A8[];
// 752C4AC: using guessed type int dword_752C4AC[];
// 752C4B0: using guessed type int dword_752C4B0[];
// 752C4B4: using guessed type int dword_752C4B4[];
// 752C4B8: using guessed type int dword_752C4B8[];
// 752C4BC: using guessed type int dword_752C4BC[];
// 752C568: using guessed type int dword_752C568[];
// 752C574: using guessed type int dword_752C574[];
// 752C578: using guessed type int dword_752C578[];
// 752C57C: using guessed type int dword_752C57C[];
// 752C580: using guessed type int dword_752C580[];
// 752C584: using guessed type int dword_752C584[];
// 752C588: using guessed type int dword_752C588[];
// 752C58C: using guessed type int dword_752C58C[];
// 752C590: using guessed type int dword_752C590[];
// 882F57C: using guessed type char byte_882F57C;
// 882F57D: using guessed type char byte_882F57D;
// 88B5EE8: using guessed type int dword_88B5EE8[];
// 88B5F20: using guessed type int dword_88B5F20[];
// 8C75EF8: using guessed type int dword_8C75EF8;
// 8C75EFC: using guessed type int dword_8C75EFC;
// 8C75F64: using guessed type int dword_8C75F64;
// 8C76154: using guessed type int dword_8C76154;
// 8C76158: using guessed type int dword_8C76158;
// 8C7615C: using guessed type int dword_8C7615C;
// 8C76160: using guessed type int dword_8C76160;
// 8C76170: using guessed type int dword_8C76170;
// 8C761A0: using guessed type int dword_8C761A0;
// 8C761B4: using guessed type int dword_8C761B4;
// 8C761BC: using guessed type int dword_8C761BC;
// 8C761C8: using guessed type __int64 qword_8C761C8;
// 8C7620C: using guessed type int dword_8C7620C;
// 8C76270: using guessed type int dword_8C76270;
// 8C76280: using guessed type int dword_8C76280;
// 8C76284: using guessed type int dword_8C76284;
// 8C762BC: using guessed type int dword_8C762BC;
// 8C762C8: using guessed type int dword_8C762C8;
// 8C762D0: using guessed type int dword_8C762D0;
// 8C762D4: using guessed type int dword_8C762D4;
// 8C762DC: using guessed type int dword_8C762DC;
// 8C7632C: using guessed type int dword_8C7632C;
// 8C76348: using guessed type int dword_8C76348;
// 8C76560: using guessed type int dword_8C76560;

//----- (004A9AB0) --------------------------------------------------------
__int16 __cdecl sub_4A9AB0(int a1, int a2, int a3, int a4, int a5, signed int a6, int a7)
{
  __int16 result; // ax@1
  char v8; // [sp+Ch] [bp-13Ch]@1
  int v9; // [sp+4Ch] [bp-FCh]@204
  int v10; // [sp+50h] [bp-F8h]@204
  int v11; // [sp+54h] [bp-F4h]@203
  int v12; // [sp+58h] [bp-F0h]@201
  int v13; // [sp+5Ch] [bp-ECh]@193
  int v14; // [sp+60h] [bp-E8h]@193
  int v15; // [sp+64h] [bp-E4h]@191
  int v16; // [sp+68h] [bp-E0h]@189
  int v17; // [sp+6Ch] [bp-DCh]@181
  int v18; // [sp+70h] [bp-D8h]@181
  int v19; // [sp+74h] [bp-D4h]@177
  int v20; // [sp+78h] [bp-D0h]@175
  int v21; // [sp+7Ch] [bp-CCh]@162
  int v22; // [sp+80h] [bp-C8h]@162
  int v23; // [sp+84h] [bp-C4h]@161
  int v24; // [sp+88h] [bp-C0h]@159
  int v25; // [sp+8Ch] [bp-BCh]@151
  int v26; // [sp+90h] [bp-B8h]@151
  int v27; // [sp+94h] [bp-B4h]@149
  int v28; // [sp+98h] [bp-B0h]@147
  int v29; // [sp+9Ch] [bp-ACh]@139
  int v30; // [sp+A0h] [bp-A8h]@139
  int v31; // [sp+A4h] [bp-A4h]@135
  int v32; // [sp+A8h] [bp-A0h]@133
  int v33; // [sp+ACh] [bp-9Ch]@122
  int v34; // [sp+B0h] [bp-98h]@122
  int v35; // [sp+B4h] [bp-94h]@121
  int v36; // [sp+B8h] [bp-90h]@119
  int v37; // [sp+BCh] [bp-8Ch]@111
  int v38; // [sp+C0h] [bp-88h]@111
  int v39; // [sp+C4h] [bp-84h]@109
  int v40; // [sp+C8h] [bp-80h]@107
  int v41; // [sp+CCh] [bp-7Ch]@99
  int v42; // [sp+D0h] [bp-78h]@99
  int v43; // [sp+D4h] [bp-74h]@95
  int v44; // [sp+D8h] [bp-70h]@93
  int v45; // [sp+DCh] [bp-6Ch]@82
  int v46; // [sp+E0h] [bp-68h]@82
  int v47; // [sp+E4h] [bp-64h]@81
  int v48; // [sp+E8h] [bp-60h]@79
  int v49; // [sp+ECh] [bp-5Ch]@71
  int v50; // [sp+F0h] [bp-58h]@71
  int v51; // [sp+F4h] [bp-54h]@69
  int v52; // [sp+F8h] [bp-50h]@67
  int v53; // [sp+FCh] [bp-4Ch]@59
  int v54; // [sp+100h] [bp-48h]@59
  int v55; // [sp+104h] [bp-44h]@55
  int v56; // [sp+108h] [bp-40h]@53
  int v57; // [sp+10Ch] [bp-3Ch]@42
  int v58; // [sp+110h] [bp-38h]@42
  int v59; // [sp+114h] [bp-34h]@41
  int v60; // [sp+118h] [bp-30h]@39
  int v61; // [sp+11Ch] [bp-2Ch]@31
  int v62; // [sp+120h] [bp-28h]@31
  int v63; // [sp+124h] [bp-24h]@29
  int v64; // [sp+128h] [bp-20h]@27
  int v65; // [sp+12Ch] [bp-1Ch]@19
  int v66; // [sp+130h] [bp-18h]@19
  int v67; // [sp+134h] [bp-14h]@15
  int v68; // [sp+138h] [bp-10h]@13
  int v69; // [sp+13Ch] [bp-Ch]@1
  int i; // [sp+140h] [bp-8h]@1
  int v71; // [sp+144h] [bp-4h]@1

  memset(&v8, -858993460, 0x13Cu);
  v71 = 1;
  i = 0;
  v69 = 0;
  result = a1;
  if ( a1 >= a4 )
  {
    if ( a2 >= a4 )
    {
      if ( a1 < 4096 - a4 )
      {
        result = 4096 - a4;
        if ( a2 < 4096 - a4 )
        {
          if ( (signed int)(unsigned __int16)*(&word_34EA550[4096 * a2] + a1) <= 0
            || (signed int)(unsigned __int16)*(&word_34EA550[4096 * a2] + a1) >= 1000
            || (*(_WORD *)(a5 + 4 * v69 + 46) = *(&word_34EA550[4096 * a2] + a1), ++v69, result = v69, v69 < a3) )
          {
            while ( 1 )
            {
              for ( i = 0; i < v71; ++i )
              {
                ++a1;
                if ( a7 )
                {
                  if ( a7 == 1 )
                  {
                    v64 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                    if ( v64 > 0 )
                    {
                      if ( dword_1FDF1D4[431 * v64] > 0 )
                      {
                        v63 = (unsigned __int16)word_1FDECEC[862 * v64];
                        if ( v63 > 0 )
                        {
                          if ( v64 < 1000 )
                          {
                            v62 = dword_1FDF1F4[431 * v64];
                            v61 = dword_1FDF1F8[431 * v64];
                            if ( v62 >= a1 - 33 )
                            {
                              if ( v62 <= a1 + 33 && (v61 >= a2 - 33 || v61 <= a2 + 33) )
                              {
                                *(_WORD *)(a5 + 4 * v69 + 46) = v64;
                                result = v69++ + 1;
                                if ( v69 >= a3 )
                                  return result;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                  else
                  {
                    if ( a7 == 2 )
                    {
                      v60 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                      if ( v60 > 0 )
                      {
                        if ( dword_1FDF1D4[431 * v60] > 0 )
                        {
                          v59 = (unsigned __int16)word_1FDECEC[862 * v60];
                          if ( v59 > 0 )
                          {
                            v58 = dword_1FDF1F4[431 * v60];
                            v57 = dword_1FDF1F8[431 * v60];
                            if ( v58 >= a1 - 33 )
                            {
                              if ( v58 <= a1 + 33 && (v57 >= a2 - 33 || v57 <= a2 + 33) )
                              {
                                result = v60;
                                *(_WORD *)(a5 + 4 * v69++ + 46) = v60;
                                if ( v69 >= a3 )
                                  return result;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
                else
                {
                  v68 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                  if ( v68 > 0 )
                  {
                    if ( dword_1FDF1D4[431 * v68] > 0 )
                    {
                      v67 = (unsigned __int16)word_1FDECEC[862 * v68];
                      if ( v67 > 0 )
                      {
                        if ( a6 < 1000 || v68 < 1000 || dword_1FDF300[431 * v68] )
                        {
                          v66 = dword_1FDF1F4[431 * v68];
                          v65 = dword_1FDF1F8[431 * v68];
                          if ( v66 >= a1 - 33 )
                          {
                            if ( v66 <= a1 + 33 && (v65 >= a2 - 33 || v65 <= a2 + 33) )
                            {
                              *(_WORD *)(a5 + 4 * v69++ + 46) = v68;
                              result = v69;
                              if ( v69 >= a3 )
                                return result;
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
              for ( i = 0; i < v71; ++i )
              {
                ++a2;
                if ( a7 )
                {
                  if ( a7 == 1 )
                  {
                    v52 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                    if ( v52 > 0 )
                    {
                      if ( dword_1FDF1D4[431 * v52] > 0 )
                      {
                        v51 = (unsigned __int16)word_1FDECEC[862 * v52];
                        if ( v51 > 0 )
                        {
                          if ( v52 < 1000 )
                          {
                            v50 = dword_1FDF1F4[431 * v52];
                            v49 = dword_1FDF1F8[431 * v52];
                            if ( v50 >= a1 - 33 )
                            {
                              if ( v50 <= a1 + 33 && (v49 >= a2 - 33 || v49 <= a2 + 33) )
                              {
                                result = v52;
                                *(_WORD *)(a5 + 4 * v69++ + 46) = v52;
                                if ( v69 >= a3 )
                                  return result;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                  else
                  {
                    if ( a7 == 2 )
                    {
                      v48 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                      if ( v48 > 0 )
                      {
                        if ( dword_1FDF1D4[431 * v48] > 0 )
                        {
                          v47 = (unsigned __int16)word_1FDECEC[862 * v48];
                          if ( v47 > 0 )
                          {
                            v46 = dword_1FDF1F4[431 * v48];
                            v45 = dword_1FDF1F8[431 * v48];
                            if ( v46 >= a1 - 33 )
                            {
                              if ( v46 <= a1 + 33 && (v45 >= a2 - 33 || v45 <= a2 + 33) )
                              {
                                *(_WORD *)(a5 + 4 * v69++ + 46) = v48;
                                result = v69;
                                if ( v69 >= a3 )
                                  return result;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
                else
                {
                  v56 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                  if ( v56 > 0 )
                  {
                    if ( dword_1FDF1D4[431 * v56] > 0 )
                    {
                      v55 = (unsigned __int16)word_1FDECEC[862 * v56];
                      if ( v55 > 0 )
                      {
                        if ( a6 < 1000 || v56 < 1000 || dword_1FDF300[431 * v56] )
                        {
                          v54 = dword_1FDF1F4[431 * v56];
                          v53 = dword_1FDF1F8[431 * v56];
                          if ( v54 >= a1 - 33 )
                          {
                            if ( v54 <= a1 + 33 && (v53 >= a2 - 33 || v53 <= a2 + 33) )
                            {
                              *(_WORD *)(a5 + 4 * v69 + 46) = v56;
                              result = v69++ + 1;
                              if ( v69 >= a3 )
                                return result;
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
              ++v71;
              for ( i = 0; ; ++i )
              {
                result = i;
                if ( i >= v71 )
                  break;
                --a1;
                if ( a7 )
                {
                  if ( a7 == 1 )
                  {
                    v40 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                    if ( v40 > 0 )
                    {
                      if ( dword_1FDF1D4[431 * v40] > 0 )
                      {
                        v39 = (unsigned __int16)word_1FDECEC[862 * v40];
                        if ( v39 > 0 )
                        {
                          if ( v40 < 1000 )
                          {
                            v38 = dword_1FDF1F4[431 * v40];
                            v37 = dword_1FDF1F8[431 * v40];
                            if ( v38 >= a1 - 33 )
                            {
                              if ( v38 <= a1 + 33 && (v37 >= a2 - 33 || v37 <= a2 + 33) )
                              {
                                *(_WORD *)(a5 + 4 * v69 + 46) = v40;
                                result = v69++ + 1;
                                if ( v69 >= a3 )
                                  return result;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                  else
                  {
                    if ( a7 == 2 )
                    {
                      v36 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                      if ( v36 > 0 )
                      {
                        if ( dword_1FDF1D4[431 * v36] > 0 )
                        {
                          v35 = (unsigned __int16)word_1FDECEC[862 * v36];
                          if ( v35 > 0 )
                          {
                            v34 = dword_1FDF1F4[431 * v36];
                            v33 = dword_1FDF1F8[431 * v36];
                            if ( v34 >= a1 - 33 )
                            {
                              if ( v34 <= a1 + 33 && (v33 >= a2 - 33 || v33 <= a2 + 33) )
                              {
                                result = v36;
                                *(_WORD *)(a5 + 4 * v69++ + 46) = v36;
                                if ( v69 >= a3 )
                                  return result;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
                else
                {
                  v44 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                  if ( v44 > 0 )
                  {
                    if ( dword_1FDF1D4[431 * v44] > 0 )
                    {
                      v43 = (unsigned __int16)word_1FDECEC[862 * v44];
                      if ( v43 > 0 )
                      {
                        if ( a6 < 1000 || v44 < 1000 || dword_1FDF300[431 * v44] )
                        {
                          v42 = dword_1FDF1F4[431 * v44];
                          v41 = dword_1FDF1F8[431 * v44];
                          if ( v42 >= a1 - 33 )
                          {
                            if ( v42 <= a1 + 33 && (v41 >= a2 - 33 || v41 <= a2 + 33) )
                            {
                              *(_WORD *)(a5 + 4 * v69++ + 46) = v44;
                              result = v69;
                              if ( v69 >= a3 )
                                return result;
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
              for ( i = 0; i < v71; ++i )
              {
                --a2;
                if ( a7 )
                {
                  if ( a7 == 1 )
                  {
                    v28 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                    if ( v28 > 0 )
                    {
                      if ( dword_1FDF1D4[431 * v28] > 0 )
                      {
                        v27 = (unsigned __int16)word_1FDECEC[862 * v28];
                        if ( v27 > 0 )
                        {
                          if ( v28 < 1000 )
                          {
                            v26 = dword_1FDF1F4[431 * v28];
                            v25 = dword_1FDF1F8[431 * v28];
                            if ( v26 >= a1 - 33 )
                            {
                              if ( v26 <= a1 + 33 && (v25 >= a2 - 33 || v25 <= a2 + 33) )
                              {
                                result = v28;
                                *(_WORD *)(a5 + 4 * v69++ + 46) = v28;
                                if ( v69 >= a3 )
                                  return result;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                  else
                  {
                    if ( a7 == 2 )
                    {
                      v24 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                      if ( v24 > 0 )
                      {
                        if ( dword_1FDF1D4[431 * v24] > 0 )
                        {
                          v23 = (unsigned __int16)word_1FDECEC[862 * v24];
                          if ( v23 > 0 )
                          {
                            v22 = dword_1FDF1F4[431 * v24];
                            v21 = dword_1FDF1F8[431 * v24];
                            if ( v22 >= a1 - 33 )
                            {
                              if ( v22 <= a1 + 33 && (v21 >= a2 - 33 || v21 <= a2 + 33) )
                              {
                                *(_WORD *)(a5 + 4 * v69++ + 46) = v24;
                                result = v69;
                                if ( v69 >= a3 )
                                  return result;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
                else
                {
                  v32 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                  if ( v32 > 0 )
                  {
                    if ( dword_1FDF1D4[431 * v32] > 0 )
                    {
                      v31 = (unsigned __int16)word_1FDECEC[862 * v32];
                      if ( v31 > 0 )
                      {
                        if ( a6 < 1000 || v32 < 1000 || dword_1FDF300[431 * v32] )
                        {
                          v30 = dword_1FDF1F4[431 * v32];
                          v29 = dword_1FDF1F8[431 * v32];
                          if ( v30 >= a1 - 33 )
                          {
                            if ( v30 <= a1 + 33 && (v29 >= a2 - 33 || v29 <= a2 + 33) )
                            {
                              *(_WORD *)(a5 + 4 * v69 + 46) = v32;
                              result = v69++ + 1;
                              if ( v69 >= a3 )
                                return result;
                            }
                          }
                        }
                      }
                    }
                  }
                }
                result = i + 1;
              }
              if ( v71 >= a4 - 1 )
                break;
              ++v71;
            }
            for ( i = 0; i < v71; ++i )
            {
              ++a1;
              if ( a7 )
              {
                if ( a7 == 1 )
                {
                  v16 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                  if ( v16 > 0 )
                  {
                    if ( dword_1FDF1D4[431 * v16] > 0 )
                    {
                      v15 = (unsigned __int16)word_1FDECEC[862 * v16];
                      if ( v15 > 0 )
                      {
                        if ( v16 < 1000 )
                        {
                          v14 = dword_1FDF1F4[431 * v16];
                          v13 = dword_1FDF1F8[431 * v16];
                          if ( v14 >= a1 - 33 )
                          {
                            if ( v14 <= a1 + 33 && (v13 >= a2 - 33 || v13 <= a2 + 33) )
                            {
                              result = v16;
                              *(_WORD *)(a5 + 4 * v69++ + 46) = v16;
                              if ( v69 >= a3 )
                                return result;
                            }
                          }
                        }
                      }
                    }
                  }
                }
                else
                {
                  if ( a7 == 2 )
                  {
                    v12 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                    if ( v12 > 0 )
                    {
                      if ( dword_1FDF1D4[431 * v12] > 0 )
                      {
                        v11 = (unsigned __int16)word_1FDECEC[862 * v12];
                        if ( v11 > 0 )
                        {
                          v10 = dword_1FDF1F4[431 * v12];
                          v9 = dword_1FDF1F8[431 * v12];
                          if ( v10 >= a1 - 33 )
                          {
                            if ( v10 <= a1 + 33 && (v9 >= a2 - 33 || v9 <= a2 + 33) )
                            {
                              *(_WORD *)(a5 + 4 * v69++ + 46) = v12;
                              result = v69;
                              if ( v69 >= a3 )
                                return result;
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
              else
              {
                v20 = (unsigned __int16)*(&word_34EA550[4096 * a2] + a1);
                if ( v20 > 0 )
                {
                  if ( dword_1FDF1D4[431 * v20] > 0 )
                  {
                    v19 = (unsigned __int16)word_1FDECEC[862 * v20];
                    if ( v19 > 0 )
                    {
                      if ( a6 < 1000 || v20 < 1000 || dword_1FDF300[431 * v20] )
                      {
                        v18 = dword_1FDF1F4[431 * v20];
                        v17 = dword_1FDF1F8[431 * v20];
                        if ( v18 >= a1 - 33 )
                        {
                          if ( v18 <= a1 + 33 && (v17 >= a2 - 33 || v17 <= a2 + 33) )
                          {
                            *(_WORD *)(a5 + 4 * v69 + 46) = v20;
                            result = v69++ + 1;
                            if ( v69 >= a3 )
                              return result;
                          }
                        }
                      }
                    }
                  }
                }
              }
              result = i + 1;
            }
          }
        }
      }
    }
  }
  return result;
}
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF300: using guessed type int dword_1FDF300[];
// 34EA550: using guessed type __int16 word_34EA550[];

//----- (004AB070) --------------------------------------------------------
int __usercall sub_4AB070<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@5
  char v5; // [sp+0h] [bp-54h]@0
  int v6; // [sp+4h] [bp-50h]@0
  int v7; // [sp+8h] [bp-4Ch]@0
  char v8; // [sp+Ch] [bp-48h]@1
  int v9; // [sp+4Ch] [bp-8h]@1
  int v10; // [sp+50h] [bp-4h]@1

  memset(&v8, -858993460, 0x48u);
  v10 = dword_8C7632C;
  v9 = dword_752C45C[790 * a3];
  if ( v9 > dword_8C7632C )
    dword_752C45C[790 * a3] = dword_8C7632C;
  if ( v9 < v10 - 1440 )
    dword_752C45C[790 * a3] = dword_8C7632C;
  v3 = v10 - 720;
  if ( v9 < v10 - 720 )
  {
    sub_4E3F40(a1, a2, (int)&String, "sys,disconnect last:%d server:%d mode:%d conn:%d");
    Log(&String, &byte_752BAD8[3160 * dword_5A1070], 0);
    v3 = sub_401302(a3);
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 5A1070: using guessed type int dword_5A1070;
// 752C45C: using guessed type int dword_752C45C[];
// 8C7632C: using guessed type int dword_8C7632C;

//----- (004AB1B0) --------------------------------------------------------
int __cdecl sub_4AB1B0()
{
  int v0; // eax@18
  char v2; // [sp+0h] [bp-50h]@0
  int v3; // [sp+4h] [bp-4Ch]@0
  int v4; // [sp+8h] [bp-48h]@0
  char v5; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  memset(&v5, -858993460, 0x44u);
  ++dword_594F70;
  sub_4019D3();
  sub_40120D(1);
  sub_401659(1036, 1672, 1144, 1764, dword_594F20);
  dword_8C76348 = 0;
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22 )
      sub_401663(i, 940, dword_8C76348);
  }
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22 )
      sub_4015FF(i, 30000, 940, dword_8C76348);
  }
  for ( i = 1000; i < 12800; ++i )
  {
    if ( dword_1FDF1D4[431 * i] && LOWORD(dword_1FDECFC[431 * i]) == 219 )
      sub_401B90(i, 2);
  }
  sub_401ACD(1036, 1672, 1144, 1764);
  v0 = sub_401BBD();
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 40120D: using guessed type _DWORD __cdecl sub_40120D(_DWORD);
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 401659: using guessed type _DWORD __cdecl sub_401659(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401663: using guessed type _DWORD __cdecl sub_401663(_DWORD, __int16, __int16);
// 4019D3: using guessed type int sub_4019D3(void);
// 401ACD: using guessed type _DWORD __cdecl sub_401ACD(_DWORD, _DWORD, _DWORD, _DWORD);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 401BBD: using guessed type int sub_401BBD(void);
// 594F20: using guessed type int dword_594F20;
// 594F70: using guessed type int dword_594F70;
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 8C76348: using guessed type int dword_8C76348;

//----- (004AB3A0) --------------------------------------------------------
int __usercall sub_4AB3A0<eax>(int a1<ebx>, int a2<esi>, signed int a3)
{
  int v3; // eax@1
  char v4; // al@85
  char v6; // [sp+0h] [bp-19Ch]@0
  int v7; // [sp+4h] [bp-198h]@0
  int v8; // [sp+8h] [bp-194h]@0
  char v9; // [sp+Ch] [bp-190h]@1
  int v10; // [sp+4Ch] [bp-150h]@97
  int v11; // [sp+50h] [bp-14Ch]@97
  __int16 v12; // [sp+54h] [bp-148h]@97
  __int16 v13; // [sp+58h] [bp-144h]@97
  __int16 v14; // [sp+5Ah] [bp-142h]@97
  __int16 v15; // [sp+60h] [bp-13Ch]@97
  __int16 v16; // [sp+62h] [bp-13Ah]@97
  __int16 v17; // [sp+64h] [bp-138h]@97
  __int16 v18; // [sp+66h] [bp-136h]@97
  int v19; // [sp+68h] [bp-134h]@95
  int v20; // [sp+6Ch] [bp-130h]@93
  int v21; // [sp+70h] [bp-12Ch]@93
  int v22; // [sp+74h] [bp-128h]@93
  int v23; // [sp+78h] [bp-124h]@93
  int v24; // [sp+7Ch] [bp-120h]@93
  int v25; // [sp+80h] [bp-11Ch]@93
  int v26; // [sp+84h] [bp-118h]@92
  int v27; // [sp+88h] [bp-114h]@85
  int v28; // [sp+8Ch] [bp-110h]@85
  int j; // [sp+90h] [bp-10Ch]@76
  int i; // [sp+94h] [bp-108h]@70
  char v31; // [sp+98h] [bp-104h]@70
  int v32; // [sp+148h] [bp-54h]@68
  char v33; // [sp+14Ch] [bp-50h]@59
  char v34; // [sp+152h] [bp-4Ah]@59
  int v35; // [sp+154h] [bp-48h]@52
  int v36; // [sp+158h] [bp-44h]@52
  int v37; // [sp+15Ch] [bp-40h]@47
  __int16 *v38; // [sp+160h] [bp-3Ch]@45
  int v39; // [sp+164h] [bp-38h]@41
  int v40; // [sp+168h] [bp-34h]@41
  int v41; // [sp+16Ch] [bp-30h]@41
  int l; // [sp+170h] [bp-2Ch]@34
  int v43; // [sp+174h] [bp-28h]@31
  __int16 v44; // [sp+178h] [bp-24h]@28
  __int16 v45; // [sp+17Ch] [bp-20h]@28
  __int16 v46; // [sp+17Eh] [bp-1Eh]@28
  int v47; // [sp+184h] [bp-18h]@28
  int k; // [sp+188h] [bp-14h]@19
  int v49; // [sp+18Ch] [bp-10h]@19
  int v50; // [sp+190h] [bp-Ch]@19
  int v51; // [sp+194h] [bp-8h]@10
  int v52; // [sp+198h] [bp-4h]@9

  v3 = -858993460;
  memset(&v9, -858993460, 0x190u);
  if ( a3 <= 0 || a3 >= 1000 )
    return sub_4E46A0(1, v3, v8, v6, v7);
  if ( dword_752C568[790 * a3] > 0 )
  {
    --dword_752C568[790 * a3];
    if ( dword_752C568[790 * a3] == 30 || dword_752C568[790 * a3] == 10 )
      sub_401497(a3);
    if ( !dword_752C568[790 * a3] )
    {
      v52 = dword_1FDEF98[431 * a3];
      dword_1FDEF98[431 * a3] = dword_8A58B8 + 10800;
      byte_1FDF034[1724 * a3] = 0;
      sub_4E3F40(a1, a2, (int)&String, "cra,account crack block -%s, %d type:3");
      Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
      sub_401302(a3);
    }
  }
  v51 = (unsigned __int16)word_1FDECB2[862 * a3];
  if ( dword_8C76348 <= 1
    || dword_1FDF1F4[431 * a3] != 1046
    || dword_1FDF1F8[431 * a3] != 1690
    || v51 <= 0
    || (v3 = 1724 * a3, (unsigned __int8)byte_1FDEF8C[1724 * a3] != 2)
    || v51 == dword_594F20 )
  {
    dword_752C470[790 * a3] = 0;
LABEL_44:
    ++dword_752C46C[790 * a3];
    if ( !(dword_752C46C[790 * a3] % 0x1C2u) )
    {
      v38 = &word_1FDED6C[862 * a3];
      if ( word_1FDED6C[862 * a3] >= 2300 )
      {
        if ( *v38 < 2330 )
        {
          v37 = sub_401C44(v38, 84);
          if ( v37 > 0 )
          {
            --v37;
            *((_BYTE *)v38 + 7) = v37;
            sub_401960(a3, 0, 14, &word_1FDED6C[862 * a3]);
            sub_401B63(a3, &unk_8AEAC4);
          }
        }
      }
      if ( *v38 >= 2330 && *v38 < 2390 && v38[1] > 0 )
      {
        v36 = *((_BYTE *)v38 + 6);
        v35 = (*v38 - 2330) % 30;
        if ( v35 > 15 && v35 != 19 )
          v36 -= 4;
        else
          v36 -= 2;
        if ( v36 < 5 )
          sub_401B63(a3, &unk_8B0CC4);
        if ( v36 > 1 )
        {
          *((_BYTE *)v38 + 6) = v36;
        }
        else
        {
          v38[1] = 0;
          *((_BYTE *)v38 + 6) = 4;
          sub_401B63(a3, &unk_8AEBC4);
          sub_4E4810(&v33, v38, 8u);
          v34 = 0;
          if ( *v38 >= 2360 && *v38 < 2390 )
            sub_401974(a3, 0);
          if ( *v38 >= 2360 )
            sub_4016EF(a3);
          else
            sub_401483(a3, &v33);
          sub_4E3F40(a1, a2, (int)&String, "ref,mount life changed mode3 %d-(%d,%d,%d)");
          Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        }
        sub_401960(a3, 0, 14, &word_1FDED6C[862 * a3]);
      }
    }
    v32 = sub_401352(a3);
    if ( v32 > 0 )
    {
      --v32;
      sub_4016B8(a3, v32);
      if ( !v32 )
      {
        sub_4010FF(a3, &v31);
        sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v31, 0);
        for ( i = 1000; i < 12800; ++i )
        {
          if ( dword_1FDF1D4[431 * i] == 5 && byte_1FDECB0[1724 * i] == 4 )
          {
            if ( word_1FDF280[862 * i] == a3 )
            {
              word_1FDF280[862 * i] = 0;
              dword_1FDF1D4[431 * i] = 4;
            }
            for ( j = 0; j < 4; ++j )
            {
              if ( *(&word_1FDF282[862 * i] + j) == a3 )
              {
                *(&word_1FDF282[862 * i] + j) = 0;
                dword_1FDF1D4[431 * i] = 4;
              }
            }
          }
        }
      }
    }
    if ( dword_752C570[790 * a3] && dword_752C570[790 * a3] < dword_8A58B8 - 300 )
    {
      v3 = sub_4015E6(a3, 0);
    }
    else
    {
      v28 = 200;
      v4 = sub_401712(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3]);
      LOBYTE(v27) = v4;
      v3 = v4 & 1;
      if ( v3 )
        v28 = 500;
      if ( v27 & 0x20 )
        v28 = 1000;
      if ( dword_1FDF1D4[431 * a3] )
      {
        if ( a3 >= 1000 || (v3 = 3160 * a3, dword_752BAF0[790 * a3] == 22) )
        {
          v26 = (unsigned __int16)word_1FDECEC[862 * a3];
          if ( v26 > 0 )
          {
            v25 = (unsigned __int16)word_1FDECEE[862 * a3];
            v24 = (unsigned __int16)word_1FDECE8[862 * a3];
            v23 = (unsigned __int16)word_1FDECEA[862 * a3];
            v22 = v26;
            v21 = (unsigned __int8)byte_1FDEF8E[1724 * a3];
            v20 = v28 + 4 * v21;
            v26 += v20;
            if ( v26 > v24 )
              v26 = v24;
            word_1FDECEC[862 * a3] = v26;
            v21 = (unsigned __int8)byte_1FDEF8F[1724 * a3];
            v19 = v28 + 4 * v21;
            v25 += v19;
            if ( v25 > v23 )
              v25 = v23;
            word_1FDECEE[862 * a3] = v25;
            v13 = 385;
            v12 = 20;
            v14 = a3;
            v15 = v26;
            v16 = v25;
            sub_4016CC(a3);
            sub_401C17(a3);
            v17 = LOWORD(dword_752C434[790 * a3]);
            v18 = LOWORD(dword_752C438[790 * a3]);
            v11 = dword_1FDF1F4[431 * a3];
            v10 = dword_1FDF1F8[431 * a3];
            if ( v22 == v26 )
              v3 = sub_4018A7(a3);
            else
              v3 = sub_4014FB(v11, v10, &v12, 0);
          }
        }
      }
    }
    return sub_4E46A0(1, v3, v8, v6, v7);
  }
  if ( dword_8C76348 < 3 )
  {
    sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B22C4);
    v3 = sub_401B63(a3, &String);
  }
  if ( dword_8C76348 < 3 )
    goto LABEL_44;
  v50 = (unsigned __int16)word_1FDECB2[862 * a3];
  v49 = 1;
  for ( k = 0; k < 5; ++k )
  {
    if ( *(&dword_5A39F0[5 * dword_5A1054] + k) == v50 )
      v49 = 0;
    v3 = k + 1;
  }
  if ( !v49 && !dword_752C470[790 * a3] )
  {
    sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AF3C4);
    v3 = sub_401479(&String);
  }
  if ( !v49 )
  {
    ++dword_752C470[790 * a3];
    v45 = 941;
    v44 = 16;
    v46 = a3;
    v47 = 1;
    sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v44, 0);
    if ( dword_752C470[790 * a3] > 22 )
    {
      sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AF444);
      sub_401479(&String);
      v43 = dword_594F20;
      dword_594F20 = v50;
      dword_594F6C = byte_1FDECB0[1724 * a3];
      if ( v50 == v43 )
      {
        ++dword_594F70;
      }
      else
      {
        dword_594F70 = 0;
        sub_401C03(v50, 650);
        sub_401C03(v43, -650);
      }
      for ( l = 0; l < 10; ++l )
        dword_750BA90[l] = 0;
      sub_401C62();
      sub_401BA4();
      sub_401B86();
      for ( l = 0; l < 1000; ++l )
      {
        sub_401578(l);
        sub_40172B(l, 0);
      }
    }
    if ( !(dword_752C470[790 * a3] % 7) )
    {
      v41 = dword_1FDF1F4[431 * a3];
      v40 = dword_1FDF1F8[431 * a3];
      v39 = *(&byte_782F298[4096 * v40] + v41) - *(&byte_782F298[4096 * v40] + v41);
      sub_4E3F40(a1, a2, (int)&String, "etc,charge castle: %s x(%d) y(%d) h(%d)");
      Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
    }
    goto LABEL_44;
  }
  return sub_4E46A0(1, v3, v8, v6, v7);
}
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 401352: using guessed type _DWORD __cdecl sub_401352(_DWORD);
// 401479: using guessed type _DWORD __cdecl sub_401479(_DWORD);
// 401483: using guessed type _DWORD __cdecl sub_401483(_DWORD, _DWORD);
// 401497: using guessed type _DWORD __cdecl sub_401497(_DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401578: using guessed type _DWORD __cdecl sub_401578(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4015E6: using guessed type _DWORD __cdecl sub_4015E6(_DWORD, _DWORD);
// 4016B8: using guessed type _DWORD __cdecl sub_4016B8(_DWORD, _DWORD);
// 4016CC: using guessed type _DWORD __cdecl sub_4016CC(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 401712: using guessed type _DWORD __cdecl sub_401712(_DWORD, _DWORD);
// 40172B: using guessed type _DWORD __cdecl sub_40172B(_DWORD, _DWORD);
// 4018A7: using guessed type _DWORD __cdecl sub_4018A7(_DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401974: using guessed type _DWORD __cdecl sub_401974(_DWORD, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 401B86: using guessed type int sub_401B86(void);
// 401BA4: using guessed type int sub_401BA4(void);
// 401C03: using guessed type _DWORD __cdecl sub_401C03(_DWORD, _DWORD);
// 401C17: using guessed type _DWORD __cdecl sub_401C17(_DWORD);
// 401C44: using guessed type _DWORD __cdecl sub_401C44(_DWORD, _DWORD);
// 401C62: using guessed type int sub_401C62(void);
// 594F20: using guessed type int dword_594F20;
// 594F6C: using guessed type int dword_594F6C;
// 594F70: using guessed type int dword_594F70;
// 5A1054: using guessed type int dword_5A1054;
// 5A39F0: using guessed type int dword_5A39F0[];
// 8A58B8: using guessed type int dword_8A58B8;
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEA: using guessed type __int16 word_1FDECEA[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECEE: using guessed type __int16 word_1FDECEE[];
// 1FDED6C: using guessed type __int16 word_1FDED6C[];
// 1FDEF98: using guessed type int dword_1FDEF98[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF280: using guessed type __int16 word_1FDF280[];
// 1FDF282: using guessed type __int16 word_1FDF282[];
// 750BA90: using guessed type int dword_750BA90[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752C434: using guessed type int dword_752C434[];
// 752C438: using guessed type int dword_752C438[];
// 752C46C: using guessed type int dword_752C46C[];
// 752C470: using guessed type int dword_752C470[];
// 752C568: using guessed type int dword_752C568[];
// 752C570: using guessed type int dword_752C570[];
// 8C76348: using guessed type int dword_8C76348;

//----- (004AC330) --------------------------------------------------------
int __usercall sub_4AC330<eax>(int a1<ebx>, int a2<esi>, signed int a3)
{
  char v3; // al@198
  int v4; // eax@291
  char v6; // [sp+0h] [bp-2B0h]@0
  int v7; // [sp+4h] [bp-2ACh]@0
  int v8; // [sp+8h] [bp-2A8h]@0
  char v9; // [sp+Ch] [bp-2A4h]@1
  int v10; // [sp+4Ch] [bp-264h]@278
  int v11; // [sp+50h] [bp-260h]@275
  int v12; // [sp+54h] [bp-25Ch]@60
  int v13; // [sp+58h] [bp-258h]@287
  int v14; // [sp+5Ch] [bp-254h]@287
  __int16 v15; // [sp+60h] [bp-250h]@287
  __int16 v16; // [sp+64h] [bp-24Ch]@287
  __int16 v17; // [sp+66h] [bp-24Ah]@287
  __int16 v18; // [sp+6Ch] [bp-244h]@287
  __int16 v19; // [sp+6Eh] [bp-242h]@287
  int v20; // [sp+70h] [bp-240h]@273
  int v21; // [sp+74h] [bp-23Ch]@273
  int v22; // [sp+78h] [bp-238h]@250
  int v23; // [sp+7Ch] [bp-234h]@241
  int v24; // [sp+80h] [bp-230h]@241
  int ll; // [sp+84h] [bp-22Ch]@241
  __int16 *v26; // [sp+88h] [bp-228h]@241
  int v27; // [sp+8Ch] [bp-224h]@241
  int v28; // [sp+90h] [bp-220h]@246
  int v29; // [sp+94h] [bp-21Ch]@248
  int v30; // [sp+98h] [bp-218h]@241
  int v31; // [sp+9Ch] [bp-214h]@246
  int v32; // [sp+A0h] [bp-210h]@248
  int v33; // [sp+A4h] [bp-20Ch]@227
  int v34; // [sp+A8h] [bp-208h]@227
  int v35; // [sp+ACh] [bp-204h]@227
  int v36; // [sp+B0h] [bp-200h]@221
  int v37; // [sp+B4h] [bp-1FCh]@221
  int v38; // [sp+B8h] [bp-1F8h]@221
  int v39; // [sp+BCh] [bp-1F4h]@221
  int kk; // [sp+C0h] [bp-1F0h]@205
  int jj; // [sp+C4h] [bp-1ECh]@199
  int v42; // [sp+C8h] [bp-1E8h]@199
  int v43; // [sp+CCh] [bp-1E4h]@199
  int v44; // [sp+D0h] [bp-1E0h]@199
  int v45; // [sp+D4h] [bp-1DCh]@199
  __int16 v46; // [sp+D8h] [bp-1D8h]@199
  __int16 v47; // [sp+DCh] [bp-1D4h]@215
  __int16 v48; // [sp+DEh] [bp-1D2h]@215
  int v49; // [sp+E0h] [bp-1D0h]@215
  char v50; // [sp+E4h] [bp-1CCh]@215
  __int16 v51; // [sp+E8h] [bp-1C8h]@215
  __int16 v52; // [sp+EAh] [bp-1C6h]@215
  __int16 v53; // [sp+F0h] [bp-1C0h]@215
  __int16 v54; // [sp+F6h] [bp-1BAh]@215
  int v55[13]; // [sp+106h] [bp-1AAh]@212
  int v56; // [sp+13Ch] [bp-174h]@198
  int v57; // [sp+140h] [bp-170h]@198
  int v58; // [sp+144h] [bp-16Ch]@187
  int v59; // [sp+148h] [bp-168h]@178
  int ii; // [sp+14Ch] [bp-164h]@175
  int v61; // [sp+150h] [bp-160h]@172
  int v62; // [sp+154h] [bp-15Ch]@167
  int v63; // [sp+158h] [bp-158h]@167
  int n; // [sp+15Ch] [bp-154h]@164
  int v65; // [sp+160h] [bp-150h]@152
  int v66; // [sp+164h] [bp-14Ch]@152
  __int16 v67; // [sp+168h] [bp-148h]@150
  __int16 v68; // [sp+16Ch] [bp-144h]@150
  __int16 v69; // [sp+16Eh] [bp-142h]@150
  int v70; // [sp+170h] [bp-140h]@150
  char v71; // [sp+174h] [bp-13Ch]@150
  __int16 v72; // [sp+178h] [bp-138h]@150
  __int16 v73; // [sp+17Ah] [bp-136h]@150
  __int16 v74; // [sp+180h] [bp-130h]@152
  __int16 v75; // [sp+186h] [bp-12Ah]@152
  __int16 v76; // [sp+196h] [bp-11Ah]@152
  __int16 v77; // [sp+198h] [bp-118h]@152
  __int16 v78; // [sp+19Ah] [bp-116h]@153
  __int16 v79; // [sp+19Ch] [bp-114h]@153
  __int16 v80; // [sp+19Eh] [bp-112h]@155
  __int16 v81; // [sp+1A0h] [bp-110h]@155
  __int16 v82; // [sp+1A2h] [bp-10Eh]@157
  __int16 v83; // [sp+1A4h] [bp-10Ch]@157
  __int16 v84; // [sp+1A6h] [bp-10Ah]@159
  __int16 v85; // [sp+1A8h] [bp-108h]@159
  __int16 v86; // [sp+1AAh] [bp-106h]@161
  __int16 v87; // [sp+1ACh] [bp-104h]@161
  int v88; // [sp+1CCh] [bp-E4h]@129
  int v89; // [sp+1D0h] [bp-E0h]@127
  int m; // [sp+1D4h] [bp-DCh]@121
  int l; // [sp+1D8h] [bp-D8h]@115
  int v92; // [sp+1DCh] [bp-D4h]@115
  int v93; // [sp+1E0h] [bp-D0h]@115
  int v94; // [sp+1E4h] [bp-CCh]@91
  int v95; // [sp+1E8h] [bp-C8h]@90
  int k; // [sp+1ECh] [bp-C4h]@84
  int j; // [sp+1F0h] [bp-C0h]@78
  int v98; // [sp+1F4h] [bp-BCh]@76
  int v99; // [sp+1F8h] [bp-B8h]@76
  int v100; // [sp+1FCh] [bp-B4h]@76
  int v101; // [sp+200h] [bp-B0h]@75
  int v102; // [sp+204h] [bp-ACh]@75
  int v103; // [sp+208h] [bp-A8h]@75
  int v104; // [sp+20Ch] [bp-A4h]@75
  int v105; // [sp+210h] [bp-A0h]@75
  int v106; // [sp+214h] [bp-9Ch]@75
  int v107; // [sp+218h] [bp-98h]@75
  int v108; // [sp+21Ch] [bp-94h]@75
  unsigned int v109; // [sp+220h] [bp-90h]@62
  unsigned int v110; // [sp+224h] [bp-8Ch]@60
  float v111; // [sp+228h] [bp-88h]@60
  int v112; // [sp+22Ch] [bp-84h]@45
  int v113; // [sp+230h] [bp-80h]@35
  int v114; // [sp+234h] [bp-7Ch]@35
  int v115; // [sp+238h] [bp-78h]@31
  int v116; // [sp+23Ch] [bp-74h]@30
  int v117; // [sp+240h] [bp-70h]@30
  int v118; // [sp+244h] [bp-6Ch]@30
  int v119; // [sp+248h] [bp-68h]@30
  int v120; // [sp+24Ch] [bp-64h]@30
  int v121; // [sp+250h] [bp-60h]@29
  int i; // [sp+254h] [bp-5Ch]@26
  __int16 v123; // [sp+258h] [bp-58h]@19
  __int16 v124; // [sp+25Ch] [bp-54h]@19
  __int16 v125; // [sp+25Eh] [bp-52h]@19
  int v126; // [sp+260h] [bp-50h]@19
  char v127; // [sp+264h] [bp-4Ch]@19
  __int16 v128; // [sp+268h] [bp-48h]@19
  __int16 v129; // [sp+26Ah] [bp-46h]@19
  __int16 v130; // [sp+270h] [bp-40h]@19
  __int16 v131; // [sp+276h] [bp-3Ah]@19
  __int16 v132; // [sp+286h] [bp-2Ah]@23
  __int16 v133; // [sp+288h] [bp-28h]@23
  int v134; // [sp+28Ch] [bp-24h]@8
  int v135; // [sp+290h] [bp-20h]@8
  int v136; // [sp+294h] [bp-1Ch]@8
  int v137; // [sp+298h] [bp-18h]@5
  int v138; // [sp+29Ch] [bp-14h]@1
  int v139; // [sp+2A0h] [bp-10h]@1
  int v140; // [sp+2A4h] [bp-Ch]@1
  int v141; // [sp+2A8h] [bp-8h]@1
  int v142; // [sp+2ACh] [bp-4h]@1

  memset(&v9, -858993460, 0x2A4u);
  v142 = 0;
  v141 = 0;
  v140 = 0;
  v139 = 0;
  v138 = word_1FDED64[862 * a3];
  if ( a3 < 1000 && (v138 == 753 || v138 == 769 || v138 == 1726) )
  {
    v137 = word_1FDF280[862 * a3];
    if ( word_1FDF280[862 * a3] )
    {
      if ( sub_401096(a3, v137) )
      {
        v136 = dword_1FDF1F4[431 * a3];
        v135 = dword_1FDF1F8[431 * a3];
        v134 = 0;
        switch ( v138 )
        {
          case 753:
            v134 = 4;
            break;
          case 769:
            v134 = 6;
            break;
          case 1726:
            v134 = 5;
            break;
        }
        if ( dword_1FDF1F4[431 * v137] >= v136 - v134
          && dword_1FDF1F4[431 * v137] <= v134 + v136
          && (dword_1FDF1F8[431 * v137] >= v135 - v134 || dword_1FDF1F8[431 * v137] <= v134 + v135) )
        {
          sub_4E4640(&v123, 0, 0x34u);
          v124 = 925;
          v125 = a3;
          v123 = 52;
          v126 = 235543242;
          v128 = LOWORD(dword_1FDF1F4[431 * a3]);
          v129 = LOWORD(dword_1FDF1F8[431 * a3]);
          v127 = -2;
          v130 = a3;
          v131 = 32;
          if ( v138 == 769 )
            v131 = 34;
          if ( v138 == 1726 )
            v131 = 36;
          v132 = v137;
          v133 = -1;
          sub_40100A(a3, &v123);
        }
        else
        {
          word_1FDF280[862 * a3] = 0;
        }
      }
      else
      {
        word_1FDF280[862 * a3] = 0;
      }
    }
  }
  if ( a3 < 1000 )
    dword_1FDF318[431 * a3] = 0;
  for ( i = 0; i < 16; ++i )
  {
    v121 = (unsigned __int8)*(&byte_1FDF154[1724 * a3] + 8 * i);
    if ( v121 <= 0 )
      continue;
    v120 = (unsigned __int16)word_1FDECE8[862 * a3];
    v119 = (unsigned __int16)word_1FDECEC[862 * a3];
    v118 = *(&word_1FDF156[862 * a3] + 4 * i);
    v117 = (unsigned __int8)*(&byte_1FDF155[1724 * a3] + 8 * i);
    v116 = word_1FDECE0[862 * a3];
    switch ( v121 )
    {
      case 13:
        v115 = (unsigned __int8)byte_1FDECFA[1724 * a3] / 5;
        if ( dword_1FDEF7C[431 * a3] & 0x8000 )
          v115 += 650;
        dword_1FDF354[431 * a3] = v115;
        break;
      case 17:
        v114 = v117 / 2 + v118;
        v113 = word_1FDECE0[862 * a3] / 2;
        if ( dword_1FDEF7C[431 * a3] & 0x80 )
          v114 += v113;
        v119 += v114;
        if ( v119 < 1 )
          v119 = 1;
        if ( v119 > v120 )
          v119 = v120;
        if ( (unsigned __int16)word_1FDECEC[862 * a3] != v119 )
          v142 = 1;
        v139 = v119 - (unsigned __int16)word_1FDECEC[862 * a3];
        word_1FDECEC[862 * a3] = v119;
        v140 = 1;
        break;
      case 37:
        v112 = 2 * (unsigned __int8)byte_1FDECFA[1724 * a3] / 10 + 24;
        if ( (unsigned __int16)word_1FDECEE[862 * a3] < v112 )
        {
          *(&dword_1FDF158[431 * a3] + 2 * i) = 0;
          dword_1FDF2E4[431 * a3] = 0;
        }
        else
        {
          word_1FDECEE[862 * a3] -= v112;
          dword_1FDF2E4[431 * a3] = v112;
          dword_752C438[790 * a3] -= v112;
          sub_401C17(a3);
          v142 = 1;
        }
        break;
      case 30:
        if ( v117 )
        {
          if ( v117 == 1 )
          {
            dword_1FDF318[431 * a3] = 1000;
          }
          else
          {
            if ( v117 == 2 )
              dword_1FDF318[431 * a3] = 2000;
          }
        }
        else
        {
          dword_1FDF318[431 * a3] = 500;
        }
        break;
      case 20:
        if ( a3 >= 1000 )
          v118 -= dword_1FDEF7C[431 * a3] / 0x3E8u;
        v12 = 100 - v118;
        v111 = (double)(100 - v118) / 100.0;
        v110 = 1000;
        if ( a3 >= 1000 )
          v110 = 10 * (100 - dword_1FDEF7C[431 * a3] / 0x3E8u);
        v109 = v119 - v110;
        v119 = (signed __int16)sub_4E4D4C((double)v119 * v111);
        if ( v119 < (signed int)v109 )
          v119 = v109;
        if ( v119 < 1 )
          v119 = 1;
        if ( v119 > v120 )
          v119 = v120;
        if ( (unsigned __int16)word_1FDECEC[862 * a3] != v119 )
          v142 = 1;
        v139 = v119 - (unsigned __int16)word_1FDECEC[862 * a3];
        word_1FDECEC[862 * a3] = v119;
        if ( a3 > 0 && a3 < 1000 )
          dword_752C434[790 * a3] += v139;
        v140 = 1;
        sub_40146A(a3);
        break;
      case 22:
        v108 = 0;
        v107 = 0;
        v106 = 0;
        v105 = 0;
        v104 = 0;
        v103 = 0;
        LOBYTE(v102) = sub_401712(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3]);
        v101 = byte_1FDECB0[1724 * a3];
        if ( !(v102 & 1) )
        {
          v100 = dword_1FDF1F8[431 * a3] - 1;
          v99 = dword_1FDF1F4[431 * a3] - 1;
          v98 = dword_1FDF1D8[431 * a3];
          if ( v98 <= 0 )
            v98 = a3;
          for ( j = v100; ; ++j )
          {
            if ( j <= v100 + 2 )
            {
              if ( j < 0 || j >= 4096 )
                continue;
              for ( k = v99; k <= v99 + 2; ++k )
              {
                if ( k >= 0 )
                {
                  if ( k < 4096 )
                  {
                    v95 = (unsigned __int16)*(&word_34EA550[4096 * j] + k);
                    if ( sub_401096(a3, v95) )
                    {
                      v94 = byte_1FDECB0[1724 * v95];
                      if ( v94 != 6 )
                      {
                        if ( v108 )
                        {
                          if ( v108 != v95 )
                          {
                            if ( !v107 )
                            {
                              v107 = v95;
                              break;
                            }
                            if ( v107 != v95 )
                            {
                              if ( !v106 )
                              {
                                v106 = v95;
                                break;
                              }
                              if ( v106 != v95 )
                              {
                                if ( !v105 )
                                {
                                  v105 = v95;
                                  break;
                                }
                                if ( v105 != v95 )
                                {
                                  if ( !v104 )
                                  {
                                    v104 = v95;
                                    break;
                                  }
                                  if ( v104 != v95 && !v103 )
                                  {
                                    v103 = v95;
                                    break;
                                  }
                                }
                              }
                            }
                          }
                        }
                        else
                        {
                          v108 = v95;
                        }
                      }
                    }
                  }
                }
              }
              if ( !v103 )
                continue;
            }
            break;
          }
          if ( !v106 || !v105 || !v104 || !v103 )
          {
            v93 = dword_1FDF1F8[431 * a3] - 2;
            v92 = dword_1FDF1F4[431 * a3] - 2;
            for ( l = v93; ; ++l )
            {
              if ( l <= v93 + 4 )
              {
                if ( l < 0 || l >= 4096 )
                  continue;
                for ( m = v92; m <= v92 + 4; ++m )
                {
                  if ( m >= 0 )
                  {
                    if ( m < 4096 )
                    {
                      v89 = (unsigned __int16)*(&word_34EA550[4096 * l] + m);
                      if ( sub_401096(a3, v89) )
                      {
                        if ( (signed int)(unsigned __int16)word_1FDECEC[862 * v89] > 0 )
                        {
                          v88 = byte_1FDECB0[1724 * v89];
                          if ( v88 != 6 )
                          {
                            if ( v108 )
                            {
                              if ( v108 != v89 )
                              {
                                if ( !v107 )
                                {
                                  v107 = v89;
                                  break;
                                }
                                if ( v107 != v89 )
                                {
                                  if ( !v106 )
                                  {
                                    v106 = v89;
                                    break;
                                  }
                                  if ( v106 != v89 )
                                  {
                                    if ( !v105 )
                                    {
                                      v105 = v89;
                                      break;
                                    }
                                    if ( v105 != v89 )
                                    {
                                      if ( !v104 )
                                      {
                                        v104 = v89;
                                        break;
                                      }
                                      if ( v104 != v89 && !v103 )
                                      {
                                        v103 = v89;
                                        break;
                                      }
                                    }
                                  }
                                }
                              }
                            }
                            else
                            {
                              v108 = v89;
                            }
                          }
                        }
                      }
                    }
                  }
                }
                if ( !v103 )
                  continue;
              }
              break;
            }
          }
          if ( v108 )
          {
            sub_4E4640(&v67, 0, 0x64u);
            v68 = 871;
            v69 = a3;
            v67 = 100;
            v70 = 235543242;
            v72 = LOWORD(dword_1FDF1F4[431 * a3]);
            v73 = LOWORD(dword_1FDF1F8[431 * a3]);
            v71 = -2;
            if ( LOWORD(dword_1FDECFC[431 * a3]) == 219 )
              v71 = -4;
            v74 = a3;
            v75 = 33;
            v66 = Rand()() % 100;
            v65 = v66 + v116 + v117;
            v76 = v108;
            v77 = -1;
            if ( v65 > 300 )
            {
              v78 = v107;
              v79 = -1;
            }
            if ( v65 > 350 )
            {
              v80 = v106;
              v81 = -1;
            }
            if ( v65 > 400 )
            {
              v82 = v105;
              v83 = -1;
            }
            if ( v65 > 450 )
            {
              v84 = v104;
              v85 = -1;
            }
            if ( v65 > 500 )
            {
              v86 = v103;
              v87 = -1;
            }
            if ( a3 >= 1000 )
            {
              for ( n = 0; n < 13; ++n )
              {
                v63 = (unsigned __int16)*(&v76 + 2 * n);
                v62 = word_1FDECC8[862 * a3];
                v62 = v62 * (Rand()() % 8 + 5) / 10;
                v62 -= word_1FDECE2[862 * a3] / 2;
                if ( v62 < 0 )
                  v62 = Rand()() % 100;
                *(&v77 + 2 * n) = v62;
                if ( v63 > 0 && v63 < 12800 )
                {
                  v61 = dword_1FDF1D8[431 * v63];
                  if ( *(&v77 + 2 * n) > 0 )
                  {
                    if ( v61 <= 0 )
                      v61 = v63;
                    sub_401023(v61, i);
                    sub_401023(i, v61);
                    for ( ii = 0; ii < 12; ++ii )
                    {
                      v59 = *(&word_1FDF28A[862 * v61] + ii);
                      if ( v59 > 1000 )
                      {
                        if ( dword_1FDF1D4[431 * v59] && (signed int)(unsigned __int16)word_1FDECEC[862 * v59] > 0 )
                        {
                          sub_401023(v59, i);
                          sub_401023(i, v59);
                        }
                        else
                        {
                          if ( dword_1FDF1D4[431 * v59] )
                            sub_401B90(v59, 1);
                          *(&word_1FDF28A[862 * v61] + ii) = 0;
                        }
                      }
                    }
                  }
                  if ( v77 > 0 || v77 <= -5 )
                  {
                    v58 = v77;
                    v77 = sub_401A82(v63, v77);
                    sub_401488(v63, v77);
                    sub_40146A(v63);
                  }
                  if ( v63 > 0 && v63 < 1000 )
                  {
                    dword_752C434[790 * v63] -= v77;
                    sub_4016CC(v63);
                  }
                  if ( (signed int)(unsigned __int16)word_1FDECEC[862 * v63] <= 0 )
                  {
                    word_1FDECEC[862 * v63] = 0;
                    sub_401C12(v63, a3, 0, 0);
                  }
                }
              }
              sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v67, 0);
            }
            else
            {
              sub_40100A(a3, &v67);
            }
          }
        }
        break;
      case 23:
        if ( a3 >= 1000 )
          continue;
        v3 = sub_401712(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3]);
        LOBYTE(v57) = v3;
        v56 = byte_1FDECB0[1724 * a3];
        if ( !(v3 & 1) )
        {
          sub_4E4640(&v46, 0, 0x64u);
          v45 = 0;
          v44 = 0;
          v43 = dword_1FDF1F8[431 * a3] - 1;
          v42 = dword_1FDF1F4[431 * a3] - 1;
          for ( jj = v43; jj <= v43 + 2; ++jj )
          {
            if ( jj >= 0 && jj < 4096 )
            {
              for ( kk = v42; kk <= v42 + 2; ++kk )
              {
                if ( kk >= 0 )
                {
                  if ( kk < 4096 )
                  {
                    v44 = (unsigned __int16)*(&word_34EA550[4096 * jj] + kk);
                    if ( sub_401096(a3, v44) )
                    {
                      LOWORD(v55[v45]) = v44;
                      HIWORD(v55[v45++]) = -1;
                    }
                  }
                }
              }
            }
          }
          if ( LOWORD(v55[0]) )
          {
            v47 = 871;
            v48 = a3;
            v46 = 100;
            v49 = 235543242;
            v51 = LOWORD(dword_1FDF1F4[431 * a3]);
            v52 = LOWORD(dword_1FDF1F8[431 * a3]);
            v50 = -2;
            v53 = a3;
            v54 = 52;
            sub_40100A(a3, &v46);
          }
        }
        break;
    }
    if ( *(&dword_1FDF158[431 * a3] + 2 * i) > 162000 || *(&dword_1FDF158[431 * a3] + 2 * i) <= 0 )
    {
      if ( *(&dword_1FDF158[431 * a3] + 2 * i) >= 1000000 && a3 < 1000 )
      {
        v39 = *(&dword_1FDF158[431 * a3] + 2 * i) % 1000000 / 10000;
        v38 = *(&dword_1FDF158[431 * a3] + 2 * i) % 10000;
        v37 = *(&dword_1FDF158[431 * a3] + 2 * i) / 1000000 - 4;
        v36 = 0;
        if ( v37 )
        {
          if ( v37 == 1 )
          {
            v36 = 15;
          }
          else
          {
            if ( v37 == 2 )
              v36 = 30;
          }
        }
        else
        {
          v36 = 7;
        }
        v35 = v36 + v38 + 365 * v39;
        v34 = dword_8C7636C + 365 * dword_8C76368;
        v33 = v36 + v38 + 365 * v39 - v34;
        if ( v36 + v38 + 365 * v39 - v34 <= 0 || v33 > 1000 )
        {
          sub_4E3F40(a1, a2, (int)&String, "prim, end time limit primium item type:%d value:%d char:%s time:%d slot:%d");
          Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
          *(&dword_1FDF158[431 * a3] + 2 * i) = 450;
        }
      }
    }
    else
    {
      --*(&dword_1FDF158[431 * a3] + 2 * i);
    }
    if ( *(&dword_1FDF158[431 * a3] + 2 * i) <= 0 )
    {
      if ( (unsigned __int8)*(&byte_1FDF154[1724 * a3] + 8 * i) == 16
        || (unsigned __int8)*(&byte_1FDF154[1724 * a3] + 8 * i) == 33 )
        v141 = 1;
      if ( (unsigned __int8)*(&byte_1FDF154[1724 * a3] + 8 * i) == 8 )
        word_1FDF350[862 * a3] = 0;
      *(&byte_1FDF154[1724 * a3] + 8 * i) = 0;
      *(&dword_1FDF158[431 * a3] + 2 * i) = 0;
      *(&word_1FDF156[862 * a3] + 4 * i) = 0;
      *(&byte_1FDF155[1724 * a3] + 8 * i) = 0;
      v142 = 1;
    }
  }
  if ( v138 >= 3900 )
  {
    if ( v138 < 4000 )
    {
      ++dword_1FDF2FC[431 * a3];
      if ( dword_1FDF2FC[431 * a3] >= 8 )
      {
        sub_4E4640(&v30, 0, 0xCu);
        sub_4E4640(&v27, 0, 0xCu);
        v26 = &word_1FDED64[862 * a3];
        v24 = 0;
        v23 = 0;
        for ( ll = 0; ll < 3; ++ll )
        {
          switch ( LOBYTE(v26[ll + 1]) )
          {
            case 0x6A:
              v30 = HIBYTE(v26[ll + 1]);
              v27 = ll + 1;
              break;
            case 0x6B:
              v31 = HIBYTE(v26[ll + 1]);
              v28 = ll + 1;
              break;
            case 0x6C:
              v32 = HIBYTE(v26[ll + 1]);
              v29 = ll + 1;
              break;
          }
        }
        v22 = 0;
        for ( ll = 0; ll < 3; ++ll )
        {
          if ( !*(&v27 + ll) )
          {
            sub_4E3F40(a1, a2, (int)&String, "err,wrong item data %d");
            Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
            sub_4E4640(&word_1FDED64[862 * a3], 0, 8u);
            sub_401960(a3, 1, 13, &word_1FDED64[862 * a3]);
          }
        }
        if ( v32 )
        {
          --v32;
        }
        else
        {
          if ( v31 )
          {
            --v31;
          }
          else
          {
            if ( v30 )
              --v30;
            else
              v22 = 1;
            v31 = 23;
          }
          v32 = 59;
        }
        if ( v22 )
        {
          sub_4E3F40(a1, a2, (int)&String, "prim,end primium item:%d");
          Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
          sub_4E4640(&word_1FDED64[862 * a3], 0, 8u);
          sub_401960(a3, 0, 13, &word_1FDED64[862 * a3]);
        }
        else
        {
          for ( ll = 0; ll < 3; ++ll )
            HIBYTE(v26[*(&v27 + ll)]) = *((_BYTE *)&v30 + 4 * ll);
          sub_401960(a3, 0, 13, &word_1FDED64[862 * a3]);
        }
        dword_1FDF2FC[431 * a3] = 0;
      }
    }
  }
  if ( a3 < 1000 && word_1FDED64[862 * a3] != 3916 )
  {
    v21 = dword_1FDF1F4[431 * a3];
    v20 = dword_1FDF1F8[431 * a3];
    if ( v21 >> 7 != 17 || v20 >> 7 != 28 )
    {
      v10 = v21 >> 7 == 31 && v20 >> 7 == 31 ? 1 : 0;
      v11 = v10;
    }
    else
    {
      v11 = 1;
    }
    if ( v11 )
      sub_4012C6(a3);
  }
  if ( v140 )
  {
    if ( a3 > 0 && a3 < 1000 )
    {
      sub_4016CC(a3);
      sub_401C17(a3);
    }
    v16 = 394;
    v15 = 16;
    v17 = a3;
    v18 = word_1FDECEC[862 * a3];
    v19 = v139;
    v14 = dword_1FDF1F4[431 * a3];
    v13 = dword_1FDF1F8[431 * a3];
    sub_4014FB(v14, v13, &v15, 0);
  }
  if ( v142 )
  {
    sub_4016EF(a3);
    if ( v141 )
      sub_401AC3(a3, 0);
    sub_4018B1(a3);
    v4 = 1;
  }
  else
  {
    v4 = 0;
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 40100A: using guessed type int __cdecl sub_40100A(_DWORD, _DWORD);
// 401023: using guessed type _DWORD __cdecl sub_401023(_DWORD, _DWORD);
// 401096: using guessed type _DWORD __cdecl sub_401096(_DWORD, _DWORD);
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 40146A: using guessed type _DWORD __cdecl sub_40146A(_DWORD);
// 401488: using guessed type _DWORD __cdecl sub_401488(_DWORD, _DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4016CC: using guessed type _DWORD __cdecl sub_4016CC(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 401712: using guessed type _DWORD __cdecl sub_401712(_DWORD, _DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401A82: using guessed type _DWORD __cdecl sub_401A82(_DWORD, _DWORD);
// 401AC3: using guessed type _DWORD __cdecl sub_401AC3(_DWORD, _DWORD);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 401C12: using guessed type _DWORD __cdecl sub_401C12(_DWORD, _DWORD, _DWORD, _DWORD);
// 401C17: using guessed type _DWORD __cdecl sub_401C17(_DWORD);
// 1FDECC8: using guessed type __int16 word_1FDECC8[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECE2: using guessed type __int16 word_1FDECE2[];
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECEE: using guessed type __int16 word_1FDECEE[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED64: using guessed type __int16 word_1FDED64[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDF156: using guessed type __int16 word_1FDF156[];
// 1FDF158: using guessed type int dword_1FDF158[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF280: using guessed type __int16 word_1FDF280[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 1FDF2E4: using guessed type int dword_1FDF2E4[];
// 1FDF2FC: using guessed type int dword_1FDF2FC[];
// 1FDF318: using guessed type int dword_1FDF318[];
// 1FDF350: using guessed type __int16 word_1FDF350[];
// 1FDF354: using guessed type int dword_1FDF354[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752C434: using guessed type int dword_752C434[];
// 752C438: using guessed type int dword_752C438[];
// 8C76368: using guessed type int dword_8C76368;
// 8C7636C: using guessed type int dword_8C7636C;
// 4AC330: using guessed type int var_1AA[13];

//----- (004AE770) --------------------------------------------------------
int __cdecl sub_4AE770(int a1, int a2, int a3, int a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-7Ch]@0
  int v7; // [sp+4h] [bp-78h]@0
  int v8; // [sp+8h] [bp-74h]@0
  char v9; // [sp+Ch] [bp-70h]@1
  int v10; // [sp+4Ch] [bp-30h]@12
  int v11; // [sp+50h] [bp-2Ch]@12
  __int16 v12; // [sp+54h] [bp-28h]@12
  __int16 v13; // [sp+58h] [bp-24h]@12
  __int16 v14; // [sp+5Ah] [bp-22h]@12
  __int16 v15; // [sp+60h] [bp-1Ch]@12
  __int16 v16; // [sp+62h] [bp-1Ah]@12
  int v17; // [sp+64h] [bp-18h]@12
  int v18; // [sp+68h] [bp-14h]@10
  int v19; // [sp+6Ch] [bp-10h]@10
  int v20; // [sp+70h] [bp-Ch]@10
  int v21; // [sp+74h] [bp-8h]@10
  int i; // [sp+78h] [bp-4h]@1

  v4 = -858993460;
  memset(&v9, -858993460, 0x70u);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22
      && (signed int)(unsigned __int16)word_1FDECEC[862 * i] > 0
      && dword_1FDF1F4[431 * i] >= a1
      && dword_1FDF1F4[431 * i] <= a3
      && dword_1FDF1F8[431 * i] >= a2
      && dword_1FDF1F8[431 * i] <= a4 )
    {
      v21 = 1048576000;
      v20 = 2000;
      v19 = (unsigned __int16)word_1FDECEC[862 * i];
      v18 = v19 - 2000;
      v19 = (signed __int16)sub_4E4D4C((double)v19 * 0.25);
      if ( v19 < v18 )
        v19 = v18;
      v17 = v19 - (unsigned __int16)word_1FDECEC[862 * i];
      word_1FDECEC[862 * i] = v19;
      dword_752C434[790 * i] += v17;
      sub_4016CC(i);
      sub_401C17(i);
      v13 = 394;
      v12 = 16;
      v14 = i;
      v15 = word_1FDECEC[862 * i];
      v16 = v17;
      v11 = dword_1FDF1F4[431 * i];
      v10 = dword_1FDF1F8[431 * i];
      sub_4014FB(v11, v10, &v12, 0);
    }
    v4 = i + 1;
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 4016CC: using guessed type _DWORD __cdecl sub_4016CC(_DWORD);
// 401C17: using guessed type _DWORD __cdecl sub_401C17(_DWORD);
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752C434: using guessed type int dword_752C434[];

//----- (004AE9F0) --------------------------------------------------------
int __cdecl sub_4AE9F0(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-74h]@0
  int v4; // [sp+4h] [bp-70h]@0
  int v5; // [sp+8h] [bp-6Ch]@0
  char v6; // [sp+Ch] [bp-68h]@1
  __int16 v7; // [sp+4Ch] [bp-28h]@12
  __int16 v8; // [sp+50h] [bp-24h]@12
  __int16 v9; // [sp+52h] [bp-22h]@12
  int v10; // [sp+58h] [bp-1Ch]@12
  __int16 v11; // [sp+5Ch] [bp-18h]@12
  char v12; // [sp+5Eh] [bp-16h]@12
  int v13; // [sp+60h] [bp-14h]@12
  int v14; // [sp+64h] [bp-10h]@12
  int v15; // [sp+68h] [bp-Ch]@4
  int v16; // [sp+6Ch] [bp-8h]@4
  int i; // [sp+70h] [bp-4h]@1

  v1 = -858993460;
  memset(&v6, -858993460, 0x68u);
  for ( i = 0; i < 6; ++i )
  {
    v16 = i + 36;
    v15 = 0;
    if ( (a1 != 1 || dword_88636B0[13 * v16] != 3) && (a1 || dword_88636B0[13 * v16] != 1) )
    {
      if ( a1 == 1 )
        sub_401A14(v16, 3, &v15);
      if ( !a1 )
        sub_401A14(v16, 1, &v15);
      v14 = dword_88636A4[13 * v16];
      v13 = dword_88636A8[13 * v16];
      v9 = 30000;
      v8 = 884;
      v10 = v16 + 15000;
      v7 = 20;
      v12 = v15;
      v11 = LOWORD(dword_88636B0[13 * v16]);
      sub_4014FB(v14, v13, &v7, 0);
      dword_88636B8[13 * v16] = 0;
    }
    v1 = i + 1;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401A14: using guessed type _DWORD __cdecl sub_401A14(_DWORD, _DWORD, _DWORD);
// 88636A4: using guessed type int dword_88636A4[];
// 88636A8: using guessed type int dword_88636A8[];
// 88636B0: using guessed type int dword_88636B0[];
// 88636B8: using guessed type int dword_88636B8[];

//----- (004AEB70) --------------------------------------------------------
int __cdecl sub_4AEB70(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-58h]@0
  int v4; // [sp+4h] [bp-54h]@0
  int v5; // [sp+8h] [bp-50h]@0
  char v6; // [sp+Ch] [bp-4Ch]@1
  int i; // [sp+4Ch] [bp-Ch]@4
  int v8; // [sp+50h] [bp-8h]@2
  int v9; // [sp+54h] [bp-4h]@1

  memset(&v6, -858993460, 0x4Cu);
  v1 = a1;
  v9 = a1;
  if ( a1 )
  {
    *(_WORD *)(v9 + 6) = 30000;
    v8 = 0;
    if ( a1 )
    {
      v1 = *(_WORD *)v9;
      v8 = *(_WORD *)v9;
    }
    for ( i = 1; i < 1000; ++i )
    {
      if ( dword_752BAF0[790 * i] == 22 )
      {
        v1 = 1724 * i;
        if ( (signed int)(unsigned __int16)word_1FDECEC[862 * i] > 0 )
        {
          if ( v8 )
            v1 = sub_401203(a1, v8);
        }
      }
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004AEC70) --------------------------------------------------------
int __cdecl sub_4AEC70()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-58h]@0
  int v3; // [sp+4h] [bp-54h]@0
  int v4; // [sp+8h] [bp-50h]@0
  char v5; // [sp+Ch] [bp-4Ch]@1
  int v6; // [sp+4Ch] [bp-Ch]@4
  int v7; // [sp+50h] [bp-8h]@4
  int i; // [sp+54h] [bp-4h]@1

  v0 = -858993460;
  memset(&v5, -858993460, 0x4Cu);
  for ( i = 0; i < 16; ++i )
  {
    v7 = i + 20;
    v6 = 0;
    if ( dword_8C762EC[i % 4] )
    {
      word_8863698[26 * v7] = dword_8C762EC[i % 4] + 1732;
      sub_401A14(v7, 3, &v6);
    }
    else
    {
      word_8863698[26 * v7] = 1736;
      sub_401A14(v7, 1, &v6);
    }
    v0 = i + 1;
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 401A14: using guessed type _DWORD __cdecl sub_401A14(_DWORD, _DWORD, _DWORD);
// 8863698: using guessed type __int16 word_8863698[];
// 8C762EC: using guessed type int dword_8C762EC[];

//----- (004AED80) --------------------------------------------------------
int __cdecl sub_4AED80()
{
  int v0; // eax@2
  int v1; // edx@5
  int v2; // eax@24
  int v3; // ecx@24
  int v4; // edx@24
  int v5; // eax@25
  char v7; // [sp+0h] [bp-6Ch]@0
  int v8; // [sp+4h] [bp-68h]@0
  int v9; // [sp+8h] [bp-64h]@0
  char v10; // [sp+Ch] [bp-60h]@1
  int v11; // [sp+4Ch] [bp-20h]@41
  int i; // [sp+50h] [bp-1Ch]@38
  int v13; // [sp+54h] [bp-18h]@21
  int v14; // [sp+58h] [bp-14h]@15
  int j; // [sp+5Ch] [bp-10h]@12
  int v16; // [sp+60h] [bp-Ch]@10
  int v17; // [sp+64h] [bp-8h]@5
  int v18; // [sp+68h] [bp-4h]@3

  memset(&v10, -858993460, 0x60u);
  if ( dword_8C762E4 > 0 )
  {
    v18 = dword_1FDF1D8[431 * dword_8C762E4];
    if ( v18 <= 0 )
      v18 = dword_8C762E4;
    v1 = dword_8C762E0 % 440;
    v17 = dword_8C762E0 / 440 - 1;
    if ( v17 >= 0 && v17 <= 3 && (dword_8C762E8 || v17 || (v1 = 1724 * v18, word_1FDED4C[862 * v18] == 1732)) )
    {
      v13 = 4 * (3 - v17) + 81;
      sub_401C5D(4 * (3 - v17) + 81, 4 * (3 - v17) + 82, 4 * (3 - v17) + 83, 4 * (3 - v17) + 84);
      sub_401C30(v13, 0, 0);
      sub_401C30(v13 + 1, 0, 0);
      sub_401C30(v13 + 2, 0, 0);
      sub_401C30(v13 + 3, 0, 0);
      if ( v17 == 3 )
      {
        dword_8C762EC[0] = 0;
        dword_8C762F0 = 0;
        dword_8C762F4 = 0;
        dword_8C762F8[0] = 0;
      }
      if ( word_1FDED4C[862 * v18] == 1732 )
      {
        v5 = Rand()();
        v3 = 3;
        v4 = v5 % 3 + 1;
        dword_8C762EC[3 - v17] = v4;
      }
      else
      {
        v2 = Rand()() % 4;
        v4 = 3 - v17;
        dword_8C762EC[3 - v17] = v2 + 1;
      }
      if ( dword_8C762D4 )
      {
        v3 = 3 - v17;
        v4 = v17;
        dword_8C762EC[3 - v17] = v17;
      }
      if ( !dword_8C762E8 )
      {
        v3 = word_1FDED4C[862 * v18];
        if ( v3 != 1732 )
        {
          v4 = 3 - v17;
          dword_8C762EC[3 - v17] = 4;
        }
      }
      sub_401749(v3, v4);
      if ( v17 == 3
        || (v0 = 1724 * v18, dword_1FDF1F4[431 * v18] >= 768)
        && dword_1FDF1F4[431 * v18] <= 892
        && dword_1FDF1F8[431 * v18] >= 3584
        && (v0 = 1724 * v18, dword_1FDF1F8[431 * v18] <= 3708) )
      {
        sub_401A19(v18, dword_5A17E8[2 * v17], dword_5A17EC[2 * v17], 0);
        v0 = sub_4015FF(v18, 30000, 929, 220);
      }
      for ( i = 0; i < 12; ++i )
      {
        v0 = i;
        v11 = *(&word_1FDF28A[862 * v18] + i);
        if ( v11 > 0 )
        {
          if ( v11 < 1000 )
          {
            if ( dword_752BAF0[790 * v11] == 22 )
            {
              if ( v17 == 3
                || (v0 = 1724 * v11, dword_1FDF1F4[431 * v11] >= 768)
                && dword_1FDF1F4[431 * v11] <= 892
                && dword_1FDF1F8[431 * v11] >= 3584
                && (v0 = 1724 * v11, dword_1FDF1F8[431 * v11] <= 3708) )
              {
                sub_401A19(v11, dword_5A17E8[2 * v17], dword_5A17EC[2 * v17], 0);
                v0 = sub_4015FF(v11, 30000, 929, 220);
              }
            }
          }
        }
      }
    }
    else
    {
      dword_8C762EC[0] = 0;
      dword_8C762F0 = 0;
      dword_8C762F4 = 0;
      dword_8C762F8[0] = 0;
      dword_5A1080[0] = 100;
      dword_5A1084 = 100;
      dword_5A1088 = 100;
      dword_5A108C = 100;
      sub_401749(440, v1);
      v16 = dword_1FDF1D8[431 * dword_8C762E4];
      if ( v16 <= 0 )
        v16 = dword_8C762E4;
      sub_4012C6(v16);
      for ( j = 0; j < 12; ++j )
      {
        v14 = *(&word_1FDF28A[862 * v16] + j);
        if ( v14 > 0 && v14 < 1000 && dword_752BAF0[790 * v14] == 22 )
          sub_4012C6(v14);
      }
      dword_8C762E4 = 0;
      dword_8C762E0 = 0;
      v0 = sub_401ACD(780, 3592, 884, 3692);
    }
  }
  else
  {
    v0 = sub_401ACD(780, 3592, 884, 3692);
  }
  return sub_4E46A0(1, v0, v9, v7, v8);
}
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 401749: using guessed type int __fastcall sub_401749(_DWORD, _DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 401ACD: using guessed type _DWORD __cdecl sub_401ACD(_DWORD, _DWORD, _DWORD, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 401C5D: using guessed type _DWORD __cdecl sub_401C5D(_DWORD, _DWORD, _DWORD, _DWORD);
// 5A1080: using guessed type int dword_5A1080[];
// 5A1084: using guessed type int dword_5A1084;
// 5A1088: using guessed type int dword_5A1088;
// 5A108C: using guessed type int dword_5A108C;
// 5A17E8: using guessed type int dword_5A17E8[];
// 5A17EC: using guessed type int dword_5A17EC[];
// 1FDED4C: using guessed type __int16 word_1FDED4C[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 8C762D4: using guessed type int dword_8C762D4;
// 8C762E0: using guessed type int dword_8C762E0;
// 8C762E4: using guessed type int dword_8C762E4;
// 8C762E8: using guessed type int dword_8C762E8;
// 8C762EC: using guessed type int dword_8C762EC[];
// 8C762F0: using guessed type int dword_8C762F0;
// 8C762F4: using guessed type int dword_8C762F4;
// 8C762F8: using guessed type int dword_8C762F8[];

//----- (004AF390) --------------------------------------------------------
int __usercall sub_4AF390<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  int *v3; // edi@1
  int v4; // esi@1
  int v5; // eax@5
  int v6; // eax@12
  int v7; // eax@13
  int v8; // eax@17
  int v9; // esi@25
  int v10; // eax@25
  int v11; // eax@32
  int v12; // eax@32
  char v14; // [sp+0h] [bp-384h]@12
  int v15; // [sp+4h] [bp-380h]@242
  int v16; // [sp+8h] [bp-37Ch]@242
  char v17; // [sp+Ch] [bp-378h]@1
  int v18; // [sp+4Ch] [bp-338h]@195
  __int16 v19; // [sp+50h] [bp-334h]@195
  __int16 v20; // [sp+52h] [bp-332h]@195
  int v21; // [sp+58h] [bp-32Ch]@195
  char v22; // [sp+5Ch] [bp-328h]@195
  char v23; // [sp+BCh] [bp-2C8h]@193
  int v24; // [sp+13Ch] [bp-248h]@187
  int ii; // [sp+140h] [bp-244h]@179
  int v26; // [sp+144h] [bp-240h]@174
  int v27; // [sp+148h] [bp-23Ch]@165
  int v28; // [sp+14Ch] [bp-238h]@160
  int n; // [sp+150h] [bp-234h]@150
  unsigned int v30; // [sp+154h] [bp-230h]@150
  unsigned int v31; // [sp+158h] [bp-22Ch]@150
  unsigned int v32; // [sp+15Ch] [bp-228h]@148
  int v33; // [sp+160h] [bp-224h]@148
  int v34; // [sp+164h] [bp-220h]@141
  int v35; // [sp+168h] [bp-21Ch]@141
  int v36; // [sp+16Ch] [bp-218h]@140
  int m; // [sp+170h] [bp-214h]@136
  __int16 v38; // [sp+174h] [bp-210h]@133
  __int16 v39; // [sp+178h] [bp-20Ch]@133
  __int16 v40; // [sp+17Ah] [bp-20Ah]@133
  int v41; // [sp+180h] [bp-204h]@133
  __int16 v42; // [sp+184h] [bp-200h]@133
  char v43; // [sp+186h] [bp-1FEh]@133
  int v44; // [sp+188h] [bp-1FCh]@133
  int v45; // [sp+18Ch] [bp-1F8h]@133
  int v46; // [sp+190h] [bp-1F4h]@130
  int v47; // [sp+194h] [bp-1F0h]@130
  int v48; // [sp+198h] [bp-1ECh]@126
  int v49; // [sp+19Ch] [bp-1E8h]@126
  int l; // [sp+1A0h] [bp-1E4h]@123
  int v51; // [sp+1A4h] [bp-1E0h]@98
  int v52; // [sp+1A8h] [bp-1DCh]@88
  int v53; // [sp+1ACh] [bp-1D8h]@81
  int k; // [sp+1B0h] [bp-1D4h]@76
  int v55; // [sp+1B4h] [bp-1D0h]@76
  int v56; // [sp+1B8h] [bp-1CCh]@76
  int v57; // [sp+1BCh] [bp-1C8h]@72
  int v58; // [sp+1C0h] [bp-1C4h]@66
  int v59; // [sp+1C4h] [bp-1C0h]@66
  int v60; // [sp+1C8h] [bp-1BCh]@66
  int v61; // [sp+1CCh] [bp-1B8h]@65
  int v62; // [sp+1D0h] [bp-1B4h]@63
  void *v63; // [sp+1D4h] [bp-1B0h]@55
  int v64; // [sp+1D8h] [bp-1ACh]@55
  int v65; // [sp+1DCh] [bp-1A8h]@54
  int j; // [sp+1E0h] [bp-1A4h]@38
  char v67; // [sp+1E4h] [bp-1A0h]@34
  int v68; // [sp+2A8h] [bp-DCh]@32
  char *v69; // [sp+2ACh] [bp-D8h]@32
  int v70; // [sp+2B0h] [bp-D4h]@26
  int v71; // [sp+2B4h] [bp-D0h]@23
  int i; // [sp+2B8h] [bp-CCh]@5
  int v73; // [sp+2BCh] [bp-C8h]@5
  char v74; // [sp+2C0h] [bp-C4h]@3
  int v75; // [sp+384h] [bp+0h]@1

  memset(&v17, -858993460, 0x378u);
  sub_4E91C0(a1, (int)&v75, a2, (int)&dword_8A58B8);
  v2 = sub_4E8F60(a1, (int)&v75, a2, &dword_8A58B8);
  memcpy(&dword_AACD30, (const void *)v2, 0x24u);
  v4 = v2 + 36;
  v3 = &dword_AACD30 + 9;
  if ( dword_5A106C == 120 )
  {
    if ( dword_5A103C )
    {
      sub_4E4640(&v74, 0, 0xC4u);
      sub_40112C(&v74, 4u);
      dword_5A103C = 0;
    }
    while ( 1 )
    {
      if ( dword_5A1070 >= 1000 )
      {
        sub_4E3F40(a1, v4, (int)&String, "etc,item drop count 00:%d 01:%d 02:%d 03:%d 04:%d 05:%d 06:%d 07:%d");
        Log(&String, "-system", 0);
        v5 = Log("sys,server down complete - Final check started", "-system", 0);
        v73 = 1;
        for ( i = 0; i < 1000; ++i )
        {
          v5 = 3160 * dword_5A1070;
          if ( dword_752BAF0[790 * dword_5A1070] )
          {
            v73 = 0;
            sub_4E3F40(a1, v4, (int)&String, "sys,cleaning user_mode:%d mob_mode:%d");
            byte_752BAE7[3160 * i] = 0;
            byte_752BAE6[3160 * i] = 0;
            Log(&String, &byte_752BAD8[3160 * i], 0);
            v5 = sub_401302(i);
          }
        }
        if ( v73 )
        {
          Log("sys,server down complete", "-system", 0);
          if ( h )
          {
            v6 = DeleteObject(h);
            sub_4E46A0(&v14 == &v14, v6, a1, (char)v3, (int)&v14);
            h = 0;
          }
          PostQuitMessage(0);
          v5 = sub_4E46A0(&v14 == &v14, v7, a1, (char)v3, (int)&v14);
        }
        return sub_4E46A0(1, v5, v16, v14, v15);
      }
      if ( dword_752BAF0[790 * dword_5A1070] )
        break;
      ++dword_5A1070;
    }
    byte_752BAE7[3160 * dword_5A1070] = 0;
    byte_752BAE6[3160 * dword_5A1070] = 0;
    sub_4E3F40(a1, v4, (int)&String, "sys,save %d - %d - %s");
    Log(&String, "-system", 0);
    v5 = sub_401302(dword_5A1070++);
    if ( dword_5A1070 >= 1000 )
    {
      v8 = SetTimer(hWnd, 0, 0xBB8u, 0);
      v5 = sub_4E46A0(&v14 == &v14, v8, a1, (char)v3, (int)&v14);
    }
  }
  else
  {
    if ( dword_5A106C > -1000 )
    {
      if ( dword_5A106C > 0 )
      {
        if ( dword_5A106C % 20 == 1 )
        {
          v71 = dword_5A106C / 20;
          sub_401479(&byte_8A67C4[128 * (dword_5A106C / 20 + 17)]);
        }
        v5 = dword_5A106C++ + 1;
        if ( dword_5A106C == 120 )
          return sub_4E46A0(1, v5, v16, v14, v15);
      }
      else
      {
        ++dword_5A106C;
      }
    }
    ++dword_8C7632C;
    ++dword_8C7637C;
    v9 = (int)&v14;
    v10 = timeGetTime();
    dword_8C76270 = sub_4E46A0(&v14 == &v14, v10, a1, (char)v3, (int)&v14);
    if ( dword_8C762E0 > 0 )
    {
      --dword_8C762E0;
      v70 = dword_8C762E0 % 440;
      if ( !(dword_8C762E0 % 440) )
        sub_401604();
    }
    if ( !dword_5A103C || dword_8C762A8 <= 0 || dword_34EA500 )
    {
      dword_8C762A8 = 0;
    }
    else
    {
      --dword_8C762A8;
      if ( dword_8C762A8 <= 0 )
      {
        v11 = timeGetTime();
        dword_8C76270 = sub_4E46A0(&v14 == &v14, v11, a1, (char)v3, (int)&v14);
        sub_4E3F40(a1, (int)&v14, (int)&String, "err,start reconnect BILL %d");
        Log(&String, "-system", 0);
        v69 = &byte_8C76358;
        v68 = sub_4012B2((char *)&unk_BDE9A0, dword_54F20D8, *(_DWORD *)&byte_8C76358, 0x404u);
        v9 = (int)&v14;
        v12 = timeGetTime();
        dword_8C76270 = sub_4E46A0(&v14 == &v14, v12, a1, (char)v3, (int)&v14);
        sub_4E3F40(a1, (int)&v14, (int)&String, "err,start reconnect BILL %d");
        Log(&String, "-system", 0);
        if ( v68 )
        {
          sub_4E4640(&v67, 0, 0xC4u);
          sub_40112C(&v67, 0xCu);
          sub_4E4640(&v67, 0, 0xC4u);
          sub_40112C(&v67, 4u);
        }
        else
        {
          Log("err,Reconnect BILL Server(x2) fail.", "-system", 0);
          dword_5A103C = 0;
        }
      }
    }
    if ( !(dword_8C7632C % 0xCu) )
    {
      for ( j = 0; j < 100; ++j )
      {
        if ( dword_5A1074 >= 1000 )
          dword_5A1074 = 1;
        if ( dword_752BAF0[790 * dword_5A1074] == 22 && dword_1FDF1D4[431 * dword_5A1074] )
        {
          if ( dword_5A103C != 2
            || dword_752C464[790 * dword_5A1074] != 1
            || word_1FDECE0[862 * dword_5A1074] < dword_5A0FB0
            || dword_8C762B0 > 12 && dword_8C762B0 < 19 )
          {
            if ( (dword_8C76280 || dword_8C76284) && dword_752C568[790 * dword_5A1074] <= 0 )
            {
              dword_752C568[790 * dword_5A1074] = 40;
              sub_401497(dword_5A1074);
            }
            v65 = word_1FDECE0[862 * dword_5A1074];
            if ( v65 < 999 )
            {
              v64 = sub_401640(&byte_1FDECA0[1724 * dword_5A1074]);
              v63 = 0;
              v63 = v64 == 2 ? *(&off_598578 + v65) : dword_597F2C[v65];
              if ( dword_1FDECBC[431 * dword_5A1074] > (unsigned int)v63 )
              {
                ++word_1FDECC4[862 * dword_5A1074];
                word_1FDECE0[862 * dword_5A1074] = word_1FDECC4[862 * dword_5A1074];
                sub_4015FA(
                  &byte_1FDECA0[1724 * dword_5A1074],
                  dword_1FDF2C8[431 * dword_5A1074],
                  &byte_1FDF034[1724 * dword_5A1074]);
                sub_401375(&byte_1FDECA0[1724 * dword_5A1074], dword_1FDF2C8[431 * dword_5A1074]);
                sub_40107D(&byte_1FDECA0[1724 * dword_5A1074], dword_1FDF2C8[431 * dword_5A1074]);
                sub_401ADC(&byte_1FDECA0[1724 * dword_5A1074], dword_1FDF2C8[431 * dword_5A1074]);
                sub_40175D(&byte_1FDECA0[1724 * dword_5A1074], dword_1FDF2C8[431 * dword_5A1074]);
                sub_4016EF(0);
                word_1FDECEC[862 * dword_5A1074] = word_1FDECE8[862 * dword_5A1074];
                word_1FDECEE[862 * dword_5A1074] = word_1FDECEA[862 * dword_5A1074];
                sub_401B63(dword_5A1074, &unk_8A8244);
                sub_4018B1(dword_5A1074);
                sub_401348(dword_5A1074);
                sub_4E3F40(a1, v9, (int)&String, "level up to %d");
                Log(&String, &byte_752BAD8[3160 * dword_5A1074], dword_752BAEC[790 * dword_5A1074]);
              }
            }
            sub_401906(dword_5A1074, 0);
            if ( dword_8C75F64 && (dword_5A10D8 != 3 || dword_8C76348) )
            {
              v62 = dword_752C570[790 * dword_5A1074];
              if ( !v62 || v62 < dword_8A58B8 - 600 )
              {
                v61 = 1;
                if ( dword_8C75F64 == 2 )
                {
                  v60 = dword_1FDF1F4[431 * dword_5A1074];
                  v59 = dword_1FDF1F8[431 * dword_5A1074];
                  v58 = sub_401C08(v60, v59);
                  if ( v58 != 5 )
                    v61 = 0;
                }
                if ( v61 == 1 )
                  sub_401668(dword_5A1074, 1);
              }
            }
            ++dword_5A1074;
          }
          else
          {
            sub_401B63(dword_5A1074, &unk_8ACEC4);
            sub_401528(dword_5A1074++);
          }
          break;
        }
        ++dword_5A1074;
      }
      v57 = -1;
      if ( dword_8C762E0 > 0 )
        v57 = 3 - dword_8C762E0 / 440;
      if ( v57 >= 0 && v57 <= 3 )
      {
        v56 = 0;
        v55 = 0;
        for ( k = 4 * v57 + 81; k < 4 * v57 + 85; ++k )
          v56 += dword_BDEAAC[748 * k];
        dword_5A1080[v57] = v56;
        if ( dword_8C762E4 > 0 && dword_8C762E4 < 1000 )
        {
          v53 = dword_1FDF1D8[431 * dword_8C762E4];
          if ( v53 <= 0 )
            v53 = dword_8C762E4;
          sub_4015FF(v53, 30000, 944, v56);
          if ( v55 )
            sub_4015FF(v53, 30000, 929, 20);
          for ( k = 0; k < 12; ++k )
          {
            v52 = *(&word_1FDF28A[862 * v53] + k);
            if ( v52 > 0 )
            {
              if ( v52 < 1000 )
              {
                if ( dword_752BAF0[790 * v52] == 22 )
                {
                  sub_4015FF(v52, 30000, 944, v56);
                  if ( v55 )
                    sub_4015FF(v52, 30000, 929, 20);
                }
              }
            }
          }
        }
        sub_4E4640(&dword_8C762FC, 0, 0x10u);
        for ( k = 0; k < 4; ++k )
        {
          v51 = dword_8C762EC[k];
          if ( v51 > 0 && v51 < 4 )
            dword_8C762F8[v51] = 1;
        }
        if ( v56 <= 0 && v57 == 3 && dword_8C762FC == 1 && dword_8C76300 == 1 && dword_8C76304 == 1 )
        {
          if ( dword_8C762E8 )
          {
            if ( dword_8C762E8 == 1 )
            {
              sub_401C30(123, 0, 0);
            }
            else
            {
              if ( dword_8C762E8 == 2 )
                sub_401C30(140, 0, 0);
            }
          }
          else
          {
            sub_401C30(97, 0, 0);
          }
          dword_8C762EC[0] = 0;
          dword_8C762F0 = 0;
          dword_8C762F4 = 0;
          dword_8C762F8[0] = 0;
        }
        if ( !v57 && !v56 )
          dword_8C762E0 = 1321;
        if ( v57 == 1 && !v56 )
          dword_8C762E0 = 881;
        if ( v57 == 2 && !v56 )
          dword_8C762E0 = 441;
      }
      for ( l = 42; l <= 44; ++l )
      {
        if ( dword_88636B0[13 * l] == 3 )
        {
          v49 = dword_88636A4[13 * l];
          v48 = dword_88636A8[13 * l];
          if ( v49 > 0 )
          {
            if ( v49 < 4096 )
            {
              if ( v48 > 0 )
              {
                if ( v48 < 4096 )
                {
                  v47 = (unsigned __int16)*(&word_34EA550[4096 * v48] + v49);
                  v46 = (unsigned __int16)word_1FDECEC[862 * v47];
                  if ( v47 < 1000 || v47 >= 12800 || v46 <= 0 )
                  {
                    v45 = 0;
                    v44 = sub_401A14(l, 1, &v45);
                    v40 = 30000;
                    v39 = 884;
                    v41 = l + 15000;
                    v38 = 20;
                    v43 = v45;
                    v42 = LOWORD(dword_88636B0[13 * l]);
                    sub_4014FB(v49, v48, &v38, 0);
                  }
                }
              }
            }
          }
        }
      }
    }
    if ( !(dword_8C7632C % 2u) )
    {
      for ( m = 1; m < 1000; ++m )
      {
        if ( dword_752BAF0[790 * m] == 22 )
        {
          v36 = (unsigned __int16)word_1FDECEC[862 * m];
          if ( v36 > 0 )
          {
            dword_752C43C[790 * m] = 0;
            v35 = sub_401253(m);
            v34 = sub_401811(m);
            if ( v35 )
            {
              sub_4018B1(m);
            }
            else
            {
              if ( v34 )
                sub_4018A7(m);
            }
          }
        }
      }
    }
    if ( !(dword_8C7632C % 8u) )
      sub_4019B0();
    sub_4013AC();
    v33 = 0;
    v32 = dword_8C7632C % 4u;
    if ( !(dword_8C7632C % 4u) )
      sub_401B9A();
    v31 = dword_8C7632C % 0x10u;
    v30 = dword_8C7632C % 0x20u;
    for ( n = 1; n < 1000; ++n )
    {
      if ( n % 32 == v30 && dword_752BAF0[790 * n] && dword_752BAF0[790 * n] != 24 )
        sub_401C7B(n);
      if ( n % 16 == v31 )
      {
        if ( dword_752BAF0[790 * n] >= 11 )
          ++dword_752C588[790 * n];
        v28 = (unsigned __int16)word_1FDECEC[862 * n];
        if ( v28 > 0 && dword_752BAF0[790 * n] == 22 )
        {
          sub_4018FC(n);
          sub_4011C7(n);
          ++v33;
        }
      }
      if ( dword_752BAF0[790 * n] )
      {
        if ( dword_752BB04[790 * n] )
        {
          v27 = sub_4019FB(&dword_752BAF8[790 * n]);
          if ( !v27 )
          {
            sub_4E3F40(a1, v9, (int)&String, "err,send fail close %d/%d %d/%d");
            byte_752BAE7[3160 * n] = 0;
            byte_752BAE6[3160 * n] = 0;
            Log(&String, &byte_752BAD8[3160 * n], dword_752BAEC[790 * n]);
            sub_401302(n);
          }
        }
      }
    }
    if ( dword_8C7618C > 0 )
    {
      --dword_8C7618C;
      if ( dword_8C7618C <= 0 )
      {
        sub_401ACD(2528, 3920, 2542, 3946);
        dword_8C7618C = 0;
      }
    }
    if ( dword_8C76344 == 2 && n % 8 == v31 && dword_8C762D8 > 0 )
    {
      v26 = dword_8C7634C;
      if ( dword_8C7634C < 9 )
      {
        if ( v26 >= 7 )
        {
          SendDamage(2608, 1708, 2622, 1711);
          SendDamage(2608, 1739, 2622, 1743);
          SendEnvEffect(2608, 1708, 2622, 1711, 32, 0);
          SendEnvEffect(2608, 1739, 2622, 1743, 32, 0);
        }
      }
      else
      {
        SendDamage(2608, 1708, 2622, 1718);
        SendDamage(2608, 1733, 2622, 1743);
        SendEnvEffect(2608, 1708, 2622, 1718, 32, 0);
        SendEnvEffect(2608, 1733, 2622, 1743, 32, 0);
      }
    }
    sub_4019C9();
    if ( !(dword_8C7632C % 2u) )
    {
      for ( ii = 0; ii < 30; ++ii )
      {
        if ( dword_8C763A0[ii] )
        {
          --dword_8C763A0[ii];
          if ( !dword_8C763A0[ii] )
          {
            dword_8C763A0[ii] = 0;
            sub_401910(
              dword_5A10F4[2 * ii] - 8,
              dword_5A10F8[2 * ii] - 8,
              dword_5A10F4[2 * ii] + 8,
              dword_5A10F8[2 * ii] + 8,
              1965,
              1769);
          }
        }
      }
    }
    v5 = dword_8C7632C / 4u;
    if ( !(dword_8C7632C % 4u) )
    {
      v24 = sub_401ABE(dword_8C7632C);
      if ( v24 )
      {
        sub_4E3F40(a1, v9, (int)&String, "etc,nightmare clear -%s,%s,%s,%s,%s");
        Log(&String, &unk_584124, 0);
      }
      v5 = sub_401492(dword_8C7632C);
    }
    if ( dword_8C76380 > 0 )
    {
      v5 = dword_8C7632C / 2u;
      if ( !(dword_8C7632C % 2u) )
      {
        --dword_8C76380;
        if ( !dword_8C76380 )
        {
          sub_4E3F40(a1, v9, (int)&v23, (const char *)&unk_8B2444);
          sub_4E3F40(a1, v9, (int)&String, "+notice !!! %s");
          if ( dword_AACD60 == 1 )
            dword_AACD60 = 0;
          v19 = 3083;
          v20 = 0;
          v21 = 6;
          LOWORD(v18) = 112;
          sub_4E4720((int)&v22);
          v5 = sub_40132A(&v18, (unsigned __int16)v18);
        }
      }
    }
    if ( dword_5A0F0C == 1 )
    {
      if ( dword_8C7617C <= 0 )
        v5 = sub_401708();
      --dword_8C7617C;
    }
    else
    {
      if ( dword_5A0F0C != 2 && dword_5A0F0C != 3 && dword_5A0F0C != 4 )
      {
        if ( dword_5A0F0C == 5 )
        {
          if ( dword_8C76184 <= 0 )
          {
            sub_401708();
            dword_5A0F0C = 1;
          }
          v5 = dword_8C76184-- - 1;
        }
      }
      else
      {
        if ( dword_8C76180 <= 0 )
        {
          v5 = sub_401BDB();
          dword_5A0F0C = 1;
        }
        --dword_8C76180;
      }
    }
    if ( dword_8C76170 )
    {
      if ( dword_5A0A6C != 1 || dword_AACD34 && dword_AACD34 != 20 && dword_AACD34 != 40 )
      {
        if ( dword_5A0A6C != 2 || dword_AACD34 && dword_AACD34 != 20 && dword_AACD34 != 40 || dword_AACD30 <= 30 )
        {
          if ( dword_5A0A6C != 3 || dword_AACD34 != 5 && dword_AACD34 != 25 && dword_AACD34 != 45 )
          {
            if ( dword_5A0A6C != 4 || dword_AACD34 != 15 && dword_AACD34 != 35 && dword_AACD34 != 55 )
            {
              if ( dword_AACD34 > 15 && dword_AACD34 <= 19
                || dword_AACD34 > 35 && dword_AACD34 <= 39
                || dword_AACD34 > 55 && dword_AACD34 <= 59 )
                dword_5A0A6C = 1;
            }
            else
            {
              v5 = sub_4011C2();
              dword_5A0A6C = 5;
            }
          }
          else
          {
            v5 = sub_4013B6();
            dword_5A0A6C = 4;
          }
        }
        else
        {
          v5 = sub_401113();
          dword_5A0A6C = 3;
        }
      }
      else
      {
        v5 = sub_401690();
        dword_5A0A6C = 2;
      }
      if ( dword_5A0A6C == 3 || dword_5A0A6C == 4 )
        v5 = sub_401BEA();
    }
  }
  return sub_4E46A0(1, v5, v16, v14, v15);
}
// 40107D: using guessed type _DWORD __cdecl sub_40107D(_DWORD, _DWORD);
// 401113: using guessed type int sub_401113(void);
// 40112C: using guessed type _DWORD __cdecl sub_40112C(_DWORD, u_long hostlong);
// 4011C2: using guessed type int sub_4011C2(void);
// 4011C7: using guessed type _DWORD __cdecl sub_4011C7(_DWORD);
// 401253: using guessed type _DWORD __cdecl sub_401253(_DWORD);
// 4012B2: using guessed type _DWORD __stdcall sub_4012B2(char *cp, u_short hostshort, _DWORD, u_int wMsg);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// SendDamage: using guessed type _DWORD __cdecl SendDamage(_DWORD, _DWORD, _DWORD, _DWORD);
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 401348: using guessed type _DWORD __cdecl sub_401348(_DWORD);
// 401375: using guessed type _DWORD __cdecl sub_401375(_DWORD, _DWORD);
// 4013AC: using guessed type int sub_4013AC(void);
// 4013B6: using guessed type int sub_4013B6(void);
// 401479: using guessed type _DWORD __cdecl sub_401479(_DWORD);
// 401492: using guessed type int __cdecl sub_401492(_DWORD);
// 401497: using guessed type _DWORD __cdecl sub_401497(_DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401528: using guessed type _DWORD __cdecl sub_401528(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4015FA: using guessed type _DWORD __cdecl sub_4015FA(_DWORD, _DWORD, _DWORD);
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 401604: using guessed type int sub_401604(void);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 401668: using guessed type _DWORD __cdecl sub_401668(_DWORD, _DWORD);
// 401690: using guessed type int sub_401690(void);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 401708: using guessed type int sub_401708(void);
// 40175D: using guessed type _DWORD __cdecl sub_40175D(_DWORD, _DWORD);
// 401811: using guessed type _DWORD __cdecl sub_401811(_DWORD);
// 4018A7: using guessed type _DWORD __cdecl sub_4018A7(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 4018E8: using guessed type _DWORD __cdecl SendEnvEffect(_DWORD, _DWORD, _DWORD, _DWORD, __int16, __int16);
// 4018FC: using guessed type _DWORD __cdecl sub_4018FC(_DWORD);
// 401906: using guessed type _DWORD __cdecl sub_401906(_DWORD, _DWORD);
// 401910: using guessed type _DWORD __cdecl sub_401910(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4019B0: using guessed type int sub_4019B0(void);
// 4019C9: using guessed type int sub_4019C9(void);
// 4019FB: using guessed type int __thiscall sub_4019FB(_DWORD);
// 401A14: using guessed type _DWORD __cdecl sub_401A14(_DWORD, _DWORD, _DWORD);
// 401ABE: using guessed type int __cdecl sub_401ABE(_DWORD);
// 401ACD: using guessed type _DWORD __cdecl sub_401ACD(_DWORD, _DWORD, _DWORD, _DWORD);
// 401ADC: using guessed type _DWORD __cdecl sub_401ADC(_DWORD, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 401B9A: using guessed type int sub_401B9A(void);
// 401BDB: using guessed type int sub_401BDB(void);
// 401BEA: using guessed type int sub_401BEA(void);
// 401C08: using guessed type _DWORD __cdecl sub_401C08(_DWORD, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 401C7B: using guessed type _DWORD __cdecl sub_401C7B(_DWORD);
// 597F2C: using guessed type int dword_597F2C[];
// 598578: using guessed type void *off_598578;
// 5A0A6C: using guessed type int dword_5A0A6C;
// 5A0F0C: using guessed type int dword_5A0F0C;
// 5A0FB0: using guessed type int dword_5A0FB0;
// 5A103C: using guessed type int dword_5A103C;
// 5A106C: using guessed type int dword_5A106C;
// 5A1070: using guessed type int dword_5A1070;
// 5A1074: using guessed type int dword_5A1074;
// 5A1080: using guessed type int dword_5A1080[];
// 5A10D8: using guessed type int dword_5A10D8;
// 5A10F4: using guessed type int dword_5A10F4[];
// 5A10F8: using guessed type int dword_5A10F8[];
// 8A58B8: using guessed type int dword_8A58B8;
// AACD30: using guessed type int dword_AACD30;
// AACD34: using guessed type int dword_AACD34;
// AACD60: using guessed type int dword_AACD60;
// BDEAAC: using guessed type int dword_BDEAAC[];
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEA: using guessed type __int16 word_1FDECEA[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECEE: using guessed type __int16 word_1FDECEE[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 1FDF2C8: using guessed type int dword_1FDF2C8[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 54F20D8: using guessed type int dword_54F20D8;
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];
// 752BB04: using guessed type int dword_752BB04[];
// 752C43C: using guessed type int dword_752C43C[];
// 752C464: using guessed type int dword_752C464[];
// 752C568: using guessed type int dword_752C568[];
// 752C570: using guessed type int dword_752C570[];
// 752C588: using guessed type int dword_752C588[];
// 88636A4: using guessed type int dword_88636A4[];
// 88636A8: using guessed type int dword_88636A8[];
// 88636B0: using guessed type int dword_88636B0[];
// 8C75F64: using guessed type int dword_8C75F64;
// 8C76170: using guessed type int dword_8C76170;
// 8C7617C: using guessed type int dword_8C7617C;
// 8C76180: using guessed type int dword_8C76180;
// 8C76184: using guessed type int dword_8C76184;
// 8C7618C: using guessed type int dword_8C7618C;
// 8C76270: using guessed type int dword_8C76270;
// 8C76280: using guessed type int dword_8C76280;
// 8C76284: using guessed type int dword_8C76284;
// 8C762A8: using guessed type int dword_8C762A8;
// 8C762B0: using guessed type int dword_8C762B0;
// 8C762D8: using guessed type int dword_8C762D8;
// 8C762E0: using guessed type int dword_8C762E0;
// 8C762E4: using guessed type int dword_8C762E4;
// 8C762E8: using guessed type int dword_8C762E8;
// 8C762EC: using guessed type int dword_8C762EC[];
// 8C762F0: using guessed type int dword_8C762F0;
// 8C762F4: using guessed type int dword_8C762F4;
// 8C762F8: using guessed type int dword_8C762F8[];
// 8C762FC: using guessed type int dword_8C762FC;
// 8C76300: using guessed type int dword_8C76300;
// 8C76304: using guessed type int dword_8C76304;
// 8C7632C: using guessed type int dword_8C7632C;
// 8C76344: using guessed type int dword_8C76344;
// 8C76348: using guessed type int dword_8C76348;
// 8C7634C: using guessed type int dword_8C7634C;
// 8C76358: using guessed type char byte_8C76358;
// 8C7637C: using guessed type int dword_8C7637C;
// 8C76380: using guessed type int dword_8C76380;
// 8C763A0: using guessed type int dword_8C763A0[];

//----- (004B13B0) --------------------------------------------------------
int __usercall sub_4B13B0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@7
  int v3; // eax@7
  int v4; // eax@51
  int v5; // eax@87
  int v6; // eax@105
  char v8; // [sp+0h] [bp-C0h]@7
  int v9; // [sp+4h] [bp-BCh]@105
  int v10; // [sp+8h] [bp-B8h]@105
  char v11; // [sp+Ch] [bp-B4h]@1
  int v12; // [sp+4Ch] [bp-74h]@89
  __int16 v13; // [sp+50h] [bp-70h]@87
  int l; // [sp+58h] [bp-68h]@85
  int v15; // [sp+5Ch] [bp-64h]@85
  int v16; // [sp+60h] [bp-60h]@85
  int v17; // [sp+64h] [bp-5Ch]@85
  int v18; // [sp+68h] [bp-58h]@85
  int v19; // [sp+6Ch] [bp-54h]@78
  unsigned int v20; // [sp+70h] [bp-50h]@67
  int k; // [sp+74h] [bp-4Ch]@64
  __int16 v22; // [sp+78h] [bp-48h]@62
  __int16 v23; // [sp+7Ch] [bp-44h]@62
  __int16 v24; // [sp+7Eh] [bp-42h]@62
  int v25; // [sp+84h] [bp-3Ch]@62
  __int16 v26; // [sp+88h] [bp-38h]@62
  char v27; // [sp+8Ah] [bp-36h]@62
  char v28; // [sp+8Ch] [bp-34h]@62
  int v29; // [sp+90h] [bp-30h]@57
  __int16 *v30; // [sp+94h] [bp-2Ch]@57
  int v31; // [sp+98h] [bp-28h]@54
  int v32; // [sp+9Ch] [bp-24h]@54
  int v33; // [sp+A0h] [bp-20h]@54
  int j; // [sp+A4h] [bp-1Ch]@51
  unsigned int v35; // [sp+A8h] [bp-18h]@27
  int v36; // [sp+ACh] [bp-14h]@27
  unsigned int v37; // [sp+B0h] [bp-10h]@27
  int v38; // [sp+B4h] [bp-Ch]@23
  int v39; // [sp+B8h] [bp-8h]@13
  int i; // [sp+BCh] [bp-4h]@3
  int v41; // [sp+C0h] [bp+0h]@7

  memset(&v11, -858993460, 0xB4u);
  if ( !(dword_AACD38 % 6) )
  {
    if ( dword_AACD38 != dword_8C76354 )
    {
      sub_4E3F40(a1, a2, (int)&String, "etc,item drop count 00:%d 01:%d 02:%d 03:%d 04:%d 05:%d 06:%d 07:%d");
      Log(&String, "-system", 0);
      for ( i = 0; i < 8; ++i )
        dword_88634D0[i] = 0;
      sub_4018D9("GAME");
      sub_401A3C("BILL");
      sub_4017C1("PCROOM");
      sub_40153C("GAMB");
      if ( !(Rand()() & 1) )
      {
        a2 = (int)&v8;
        v2 = GetTickCount();
        v3 = sub_4E46A0(&v8 == &v8, v2, a1, (unsigned int)&v41, (int)&v8);
        sub_4E46E0(v3);
      }
    }
  }
  dword_8C76368 = dword_AACD44 - 100;
  dword_8C7636C = dword_AACD4C;
  dword_8C76370 = dword_AACD40 + 1;
  dword_8C76374 = dword_AACD3C;
  dword_8C762AC = dword_AACD48;
  dword_8C762B0 = dword_AACD38;
  dword_8C76378 = dword_AACD34;
  if ( dword_5A11EC != dword_AACD34 )
  {
    dword_8C7637C = 0;
    dword_5A11EC = dword_8C76378;
  }
  if ( dword_5A11F0 != dword_8C762B0 )
  {
    dword_5A11F0 = dword_8C762B0;
    if ( dword_1FDF1D4[431 * dword_8C7649C] )
    {
      if ( dword_8C7649C )
      {
        v39 = dword_1FDF2E8[431 * dword_8C7649C];
        if ( sub_401BE5(&byte_1FDECA0[1724 * dword_8C7649C]) )
        {
          if ( v39 > 0 )
          {
            sub_4E3F40(a1, a2, (int)&String, "sys,khepra hp data %d : %u");
            Log(&String, "-system", 0);
          }
        }
      }
    }
  }
  if ( dword_AACD38 != dword_8C76328 )
  {
    sub_4014F1("CHAT");
    sub_4E3F40(a1, a2, (int)&String, "sys,town tax report: %I64d %I64d %I64d %I64d %I64d -Exp : %u");
    Log(&String, "-system", 0);
    if ( qword_8C76168 )
    {
      sub_4E3F40(a1, a2, (int)&String, "sys,Rune Quest Zone Tax %I64d");
      Log(&String, "-system", 0);
    }
    sub_401154(1);
  }
  if ( !(dword_8C76330 % 0xAu) )
  {
    if ( dword_8C76310 )
      sub_4EACB0(dword_8C76310);
    v38 = (dword_AACD3C - 1) % dword_5A1008;
    dword_8C76210 = dword_8C762D4 || dword_5A1054 == v38;
    v37 = sub_401A73();
    v36 = dword_AACD48;
    v35 = v37 / 7;
    dword_8C76214 = !dword_AACD48 && (signed int)v35 % 2 != dword_5A1054 % 2;
    dword_8C76278 = v35 - 1796;
    dword_5A1030 = v36;
    if ( v35 - 1796 > 0x64 )
      dword_8C76278 -= 100;
    if ( dword_5A10E8 != 23 )
      dword_8C76214 = 1;
  }
  if ( dword_5A10E0 != -1 )
    dword_AACD48 = -1;
  if ( dword_8C764BC == 1 )
  {
    dword_8C764BC = 2;
    sub_401131(&unk_8AB9C4, 2176, 1160, 2300, 1276);
  }
  else
  {
    if ( dword_8C764BC == 2 )
    {
      dword_8C764BC = 0;
      sub_401ACD(2180, 1160, 2296, 1236);
    }
  }
  if ( dword_8C764C0 == 1 )
  {
    dword_8C764C0 = 2;
  }
  else
  {
    if ( dword_8C764C0 == 2 )
    {
      dword_8C764C0 = 0;
      sub_401ACD(1676, 1556, 1776, 1636);
    }
  }
  if ( dword_8C764C4 == 1 )
  {
    dword_8C764C4 = 2;
  }
  else
  {
    if ( dword_8C764C4 == 2 )
    {
      dword_8C764C4 = 0;
      sub_401ACD(1676, 1816, 1776, 1892);
    }
  }
  if ( !(dword_8C76330 % 0xAu) )
    sub_4E4640(byte_74F8D98, 0, 0x400u);
  v4 = timeGetTime();
  dword_8C76270 = sub_4E46A0(&v8 == &v8, v4, a1, (unsigned int)&v41, (int)&v8);
  for ( j = 42; j < dword_AACD5C; ++j )
  {
    v33 = word_8B88D0[4 * j];
    v32 = word_8B88D2[4 * j];
    v31 = (unsigned __int16)*(&word_54F8194[4096 * v32] + v33);
    if ( word_8863698[26 * v31] > 0 )
    {
      if ( word_8863698[26 * v31] < 6500 )
      {
        v30 = &word_8863698[26 * v31];
        v29 = sub_40191F(&word_8863698[26 * v31], 39);
        if ( v29 )
        {
          if ( dword_88636B0[13 * v31] == 1 && v29 < 15 )
          {
            if ( dword_88636B8[13 * v31] )
            {
              sub_401A14(v31, 3, &v28);
              v24 = 30000;
              v23 = 884;
              v25 = v31 + 15000;
              v22 = 20;
              v27 = v28;
              v26 = LOWORD(dword_88636B0[13 * v31]);
              sub_4014FB(v33, v32, &v22, 0);
              dword_88636B8[13 * v31] = 0;
            }
            else
            {
              dword_88636B8[13 * v31] = 1;
            }
          }
        }
      }
    }
  }
  for ( k = 0; k <= dword_1FDEC80; ++k )
  {
    v20 = dword_BDEAA4[748 * k];
    if ( k && k != 1 && k != 2 && k != 5 && k != 6 && k != 7 && v20 != -1 )
    {
      if ( (signed int)v20 > 0 )
      {
        v19 = k % (signed int)v20;
        if ( dword_8C76330 % v20 == k % (signed int)v20 )
        {
          sub_401C30(k, 0, 0);
          if ( (signed int)v20 < 51 || (signed int)v20 >= 3000 || v20 == 100 )
          {
            if ( (signed int)v20 >= 3800 )
            {
              dword_BDEAA4[748 * k] = Rand()() % 1000 + 3800;
              if ( dword_5A1000 )
              {
                v18 = Rand()() % 30;
                v17 = dword_5A1514[2 * v18];
                v16 = dword_5A1518[2 * v18];
                v15 = Rand()() % 5 + 5;
                for ( l = 0; l < v15; ++l )
                {
                  sub_4E4640(&v13, 0, 8u);
                  v13 = word_5A1604[2 * Rand()() % 10];
                  sub_4015CD(&v13, 0, 0, 0, 0);
                  v5 = Rand()() % 4;
                  sub_4016EA(v17, v16, &v13, v5, 1, 0);
                }
              }
            }
          }
          else
          {
            dword_BDEAA4[748 * k] = Rand()() % 49 + 51;
          }
        }
      }
      else
      {
        sub_4E3F40(a1, (int)&v8, (int)&String, "err,interval zero npcgen:%d");
        Log(&String, "-system", 0);
      }
    }
  }
  ++dword_8C76330;
  v12 = Rand()() % 1200;
  if ( dword_5A107C[0] == -1 )
  {
    if ( v12 >= 0 && v12 < 260 && dword_8C762D0 )
    {
      dword_8C762D0 = 0;
      sub_401645();
    }
    else
    {
      if ( v12 < 30 || v12 >= 50 || dword_8C762D0 == 1 )
      {
        if ( v12 >= 55 && v12 < 60 && dword_8C762D0 != 2 )
        {
          dword_8C762D0 = 2;
          sub_401645();
        }
      }
      else
      {
        dword_8C762D0 = 1;
        sub_401645();
      }
    }
  }
  else
  {
    if ( dword_5A107C[0] != dword_8C762D0 )
    {
      dword_8C762D0 = dword_5A107C[0];
      sub_401645();
    }
  }
  sub_40167C();
  sub_4014B5();
  sub_4013DE();
  v6 = sub_40180C();
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 401131: using guessed type _DWORD __cdecl sub_401131(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401154: using guessed type _DWORD __cdecl sub_401154(_DWORD);
// 4013DE: using guessed type int sub_4013DE(void);
// 4014B5: using guessed type int sub_4014B5(void);
// 4014F1: using guessed type _DWORD __cdecl sub_4014F1(_DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 40153C: using guessed type _DWORD __cdecl sub_40153C(_DWORD);
// 4015CD: using guessed type _DWORD __cdecl sub_4015CD(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401645: using guessed type int sub_401645(void);
// 40167C: using guessed type int sub_40167C(void);
// 4016EA: using guessed type _DWORD __cdecl sub_4016EA(_DWORD, _DWORD, _DWORD, _DWORD, char, _DWORD);
// 4017C1: using guessed type _DWORD __cdecl sub_4017C1(_DWORD);
// 40180C: using guessed type int sub_40180C(void);
// 4018D9: using guessed type _DWORD __cdecl sub_4018D9(_DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 401A14: using guessed type _DWORD __cdecl sub_401A14(_DWORD, _DWORD, _DWORD);
// 401A3C: using guessed type _DWORD __cdecl sub_401A3C(_DWORD);
// 401A73: using guessed type int sub_401A73(void);
// 401ACD: using guessed type _DWORD __cdecl sub_401ACD(_DWORD, _DWORD, _DWORD, _DWORD);
// 401BE5: using guessed type int __thiscall sub_401BE5(_DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 4EACB0: using guessed type _DWORD __cdecl sub_4EACB0(_DWORD);
// 5A1000: using guessed type int dword_5A1000;
// 5A1008: using guessed type int dword_5A1008;
// 5A1030: using guessed type int dword_5A1030;
// 5A1054: using guessed type int dword_5A1054;
// 5A107C: using guessed type int dword_5A107C[];
// 5A10E0: using guessed type int dword_5A10E0;
// 5A10E8: using guessed type int dword_5A10E8;
// 5A11EC: using guessed type int dword_5A11EC;
// 5A11F0: using guessed type int dword_5A11F0;
// 5A1514: using guessed type int dword_5A1514[];
// 5A1518: using guessed type int dword_5A1518[];
// 5A1604: using guessed type __int16 word_5A1604[];
// 8B88D0: using guessed type __int16 word_8B88D0[];
// 8B88D2: using guessed type __int16 word_8B88D2[];
// AACD34: using guessed type int dword_AACD34;
// AACD38: using guessed type int dword_AACD38;
// AACD3C: using guessed type int dword_AACD3C;
// AACD40: using guessed type int dword_AACD40;
// AACD44: using guessed type int dword_AACD44;
// AACD48: using guessed type int dword_AACD48;
// AACD4C: using guessed type int dword_AACD4C;
// AACD5C: using guessed type int dword_AACD5C;
// BDEAA4: using guessed type int dword_BDEAA4[];
// 1FDEC80: using guessed type int dword_1FDEC80;
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF2E8: using guessed type int dword_1FDF2E8[];
// 54F8194: using guessed type __int16 word_54F8194[];
// 750BA88: using guessed type __int64 qword_750BA88;
// 88634D0: using guessed type int dword_88634D0[];
// 8863698: using guessed type __int16 word_8863698[];
// 88636B0: using guessed type int dword_88636B0[];
// 88636B8: using guessed type int dword_88636B8[];
// 8C76168: using guessed type __int64 qword_8C76168;
// 8C76210: using guessed type int dword_8C76210;
// 8C76214: using guessed type int dword_8C76214;
// 8C76270: using guessed type int dword_8C76270;
// 8C76278: using guessed type int dword_8C76278;
// 8C762AC: using guessed type int dword_8C762AC;
// 8C762B0: using guessed type int dword_8C762B0;
// 8C762D0: using guessed type int dword_8C762D0;
// 8C762D4: using guessed type int dword_8C762D4;
// 8C76310: using guessed type int dword_8C76310;
// 8C76328: using guessed type int dword_8C76328;
// 8C76330: using guessed type int dword_8C76330;
// 8C76354: using guessed type int dword_8C76354;
// 8C76368: using guessed type int dword_8C76368;
// 8C7636C: using guessed type int dword_8C7636C;
// 8C76370: using guessed type int dword_8C76370;
// 8C76374: using guessed type int dword_8C76374;
// 8C76378: using guessed type int dword_8C76378;
// 8C7637C: using guessed type int dword_8C7637C;
// 8C7649C: using guessed type int dword_8C7649C;
// 8C764BC: using guessed type int dword_8C764BC;
// 8C764C0: using guessed type int dword_8C764C0;
// 8C764C4: using guessed type int dword_8C764C4;

//----- (004B2120) --------------------------------------------------------
int __usercall sub_4B2120<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-54h]@0
  int v5; // [sp+4h] [bp-50h]@0
  int v6; // [sp+8h] [bp-4Ch]@0
  char v7; // [sp+Ch] [bp-48h]@1
  int j; // [sp+4Ch] [bp-8h]@22
  int i; // [sp+50h] [bp-4h]@1

  v2 = -858993460;
  memset(&v7, -858993460, 0x48u);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_1FDF1D4[431 * i] )
    {
      if ( word_1FDED6C[862 * i] >= 3980
        && word_1FDED6C[862 * i] != 3994
        && word_1FDED6C[862 * i] != 3993
        && sub_401A0F(&word_1FDED6C[862 * i]) )
      {
        sub_4E3F40(a1, a2, (int)&String, "prim,end primium mount:%d-%d%d%d char:%s");
        Log(&String, &byte_752BAD8[3160 * i], dword_752BAEC[790 * i]);
        sub_4E4640(&word_1FDED6C[862 * i], 0, 8u);
        sub_401960(i, 0, 14, &word_1FDED6C[862 * i]);
        sub_4016EF(i);
        sub_4018B1(i);
      }
      if ( word_1FDED64[862 * i] >= 4151 && word_1FDED64[862 * i] < 4900 && sub_401A0F(&word_1FDED64[862 * i]) )
      {
        sub_4E3F40(a1, a2, (int)&String, "prim,end primium mount:%d-%d%d%d char:%s");
        Log(&String, &byte_752BAD8[3160 * i], dword_752BAEC[790 * i]);
        sub_4E4640(&word_1FDED64[862 * i], 0, 8u);
        sub_401960(i, 0, 13, &word_1FDED64[862 * i]);
        sub_4016EF(i);
        sub_4018B1(i);
      }
      if ( word_1FDED2C[862 * i] >= 3000 && word_1FDED2C[862 * i] < 3050 && sub_401A0F(&word_1FDED2C[862 * i]) )
      {
        sub_4E3F40(a1, a2, (int)&String, "prim,end primium mount:%d-%d%d%d char:%s");
        Log(&String, &byte_752BAD8[3160 * i], dword_752BAEC[790 * i]);
        sub_4E4640(&word_1FDED2C[862 * i], 0, 8u);
        sub_401960(i, 0, 6, &word_1FDED2C[862 * i]);
        sub_4016EF(i);
        sub_4018B1(i);
      }
      if ( word_1FDED34[862 * i] >= 3000 && word_1FDED34[862 * i] < 3050 && sub_401A0F(&word_1FDED34[862 * i]) )
      {
        sub_4E3F40(a1, a2, (int)&String, "prim,end primium mount:%d-%d%d%d char:%s");
        Log(&String, &byte_752BAD8[3160 * i], dword_752BAEC[790 * i]);
        sub_4E4640(&word_1FDED34[862 * i], 0, 8u);
        sub_401960(i, 0, 7, &word_1FDED2C[862 * i]);
        sub_4016EF(i);
        sub_4018B1(i);
      }
      for ( j = 0; j < 2; ++j )
      {
        if ( *(&word_1FDEF5C[862 * i] + 4 * j) == 3467 )
        {
          if ( sub_401A0F(&word_1FDEF5C[862 * i] + 4 * j) )
          {
            sub_4E3F40(a1, a2, (int)&String, "prim,end primium bag :%d-%d%d%d char:%s");
            Log(&String, &byte_752BAD8[3160 * i], dword_752BAEC[790 * i]);
            sub_4E4640(&word_1FDEF5C[862 * i] + 4 * j, 0, 8u);
            sub_401960(i, 1, j + 60, &word_1FDEF5C[862 * i] + 4 * j);
            sub_4016EF(i);
            sub_4018B1(i);
          }
        }
      }
    }
    v2 = i + 1;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401A0F: using guessed type _DWORD __cdecl sub_401A0F(_DWORD);
// 1FDED2C: using guessed type __int16 word_1FDED2C[];
// 1FDED2E: using guessed type __int16 word_1FDED2E[];
// 1FDED34: using guessed type __int16 word_1FDED34[];
// 1FDED64: using guessed type __int16 word_1FDED64[];
// 1FDED6C: using guessed type __int16 word_1FDED6C[];
// 1FDED6E: using guessed type __int16 word_1FDED6E[];
// 1FDEF5C: using guessed type __int16 word_1FDEF5C[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 752BAEC: using guessed type int dword_752BAEC[];

//----- (004B2A00) --------------------------------------------------------
int __cdecl sub_4B2A00(int a1, int a2, int a3, int a4, signed int a5)
{
  int v5; // eax@1
  char v7; // [sp+0h] [bp-518h]@0
  int v8; // [sp+4h] [bp-514h]@0
  int v9; // [sp+8h] [bp-510h]@0
  char v10; // [sp+Ch] [bp-50Ch]@1
  int v11; // [sp+4Ch] [bp-4CCh]@23
  int v12; // [sp+50h] [bp-4C8h]@11
  int v13; // [sp+54h] [bp-4C4h]@12
  int v14; // [sp+58h] [bp-4C0h]@10
  int i; // [sp+5Ch] [bp-4BCh]@2
  int j; // [sp+60h] [bp-4B8h]@2
  int v17; // [sp+64h] [bp-4B4h]@2
  int v18; // [sp+68h] [bp-4B0h]@2
  int v19[149]; // [sp+6Ch] [bp-4ACh]@17
  int v20; // [sp+2C0h] [bp-258h]@16
  int v21[149]; // [sp+2C4h] [bp-254h]@17

  v5 = -858993460;
  memset(&v10, -858993460, 0x50Cu);
  if ( a1 > 0 )
  {
    sub_4E4640(&v18, 0, 0x4B0u);
    v17 = 0;
    j = 0;
    for ( i = 1; ; ++i )
    {
      if ( i < 1000 )
      {
        if ( dword_752BAF0[790 * i] != 22 )
          continue;
        if ( !dword_1FDF1D4[431 * i] )
          continue;
        if ( (unsigned __int16)word_1FDECB2[862 * i] != a1 )
          continue;
        if ( a5 >= 1 )
        {
          if ( a5 <= 3 )
          {
            v14 = sub_401320(word_1FDED5C[862 * i]);
            if ( a5 != v14 )
              continue;
          }
        }
        v12 = i;
        v13 = sub_401640(&byte_1FDECA0[1724 * i]) == 2 ? word_1FDECE0[862 * i] + 400 : word_1FDECE0[862 * i];
        for ( j = v17 - 1; j >= 0 && *(&v20 + j) < v13; --j )
        {
          v19[j] = *(&v18 + j);
          v21[j] = *(&v20 + j);
        }
        v19[j] = v12;
        v21[j] = v13;
        ++v17;
        if ( v17 < 150 )
          continue;
      }
      break;
    }
    for ( i = 0; ; ++i )
    {
      v5 = i;
      if ( i >= a4 )
        break;
      if ( !*(&v18 + i) )
        break;
      v11 = *(&v18 + i);
      if ( dword_752BAF0[790 * v11] == 22 && dword_1FDF1D4[431 * v11] && (unsigned __int16)word_1FDECB2[862 * v11] == a1 )
      {
        sub_401A19(v11, a2, a3, 0);
        if ( i == 30 )
        {
          ++a2;
          ++a3;
        }
        if ( i == 45 )
        {
          a2 -= 2;
          a3 -= 2;
        }
      }
    }
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 401320: using guessed type _DWORD __cdecl sub_401320(_DWORD);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDED5C: using guessed type __int16 word_1FDED5C[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 4B2A00: using guessed type int var_4AC[149];
// 4B2A00: using guessed type int var_254[149];

//----- (004B2E00) --------------------------------------------------------
int __usercall sub_4B2E00<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4, int a5, int a6, signed int a7)
{
  int v7; // eax@1
  char v9; // [sp+0h] [bp-52Ch]@0
  int v10; // [sp+4h] [bp-528h]@0
  int v11; // [sp+8h] [bp-524h]@0
  char v12; // [sp+Ch] [bp-520h]@1
  int v13; // [sp+4Ch] [bp-4E0h]@31
  int v14; // [sp+50h] [bp-4DCh]@17
  int v15; // [sp+54h] [bp-4D8h]@20
  int v16; // [sp+58h] [bp-4D4h]@14
  int v17; // [sp+5Ch] [bp-4D0h]@9
  int i; // [sp+60h] [bp-4CCh]@2
  int v19; // [sp+64h] [bp-4C8h]@2
  int v20; // [sp+68h] [bp-4C4h]@2
  int v21; // [sp+6Ch] [bp-4C0h]@2
  int v22; // [sp+70h] [bp-4BCh]@2
  int j; // [sp+74h] [bp-4B8h]@2
  int v24; // [sp+78h] [bp-4B4h]@2
  int v25; // [sp+7Ch] [bp-4B0h]@2
  int v26[149]; // [sp+80h] [bp-4ACh]@25
  int v27; // [sp+2D4h] [bp-258h]@24
  int v28[149]; // [sp+2D8h] [bp-254h]@25

  v7 = -858993460;
  memset(&v12, -858993460, 0x520u);
  if ( a3 > 0 )
  {
    sub_4E4640(&v25, 0, 0x4B0u);
    v24 = 0;
    j = 0;
    v22 = a3 >> 12;
    v21 = a3 & 0xFFF;
    v20 = *(&byte_88B5F1E[245760 * (a3 >> 12)] + 60 * (a3 & 0xFFF));
    v7 = 245760 * (a3 >> 12);
    v19 = *(&byte_88B5F1D[60 * (a3 & 0xFFF)] + v7);
    for ( i = 0; i < 1000; ++i )
    {
      if ( dword_752BAF0[790 * i] == 22 )
      {
        if ( dword_1FDF1D4[431 * i] )
        {
          if ( (unsigned __int16)word_1FDECB2[862 * i] == a3 )
          {
            if ( byte_1FDECB0[1724 * i] == v20 )
            {
              v17 = sub_40109B(i);
              if ( v17 )
              {
                if ( v17 == v19 )
                {
                  if ( a7 >= 0 )
                  {
                    if ( a7 <= 3 )
                    {
                      v16 = sub_401C08(dword_1FDF1F4[431 * i], dword_1FDF1F8[431 * i]);
                      if ( v16 == a7 )
                      {
                        v14 = i;
                        if ( a7 != 2 || !sub_401640(&byte_1FDECA0[1724 * i]) )
                        {
                          v15 = sub_401640(&byte_1FDECA0[1724 * i]) == 2 ? word_1FDECE0[862 * i] + 400 : word_1FDECE0[862 * i];
                          for ( j = v24 - 1; j >= 0 && *(&v27 + j) < v15; --j )
                          {
                            v26[j] = *(&v25 + j);
                            v28[j] = *(&v27 + j);
                          }
                          v26[j] = v14;
                          v28[j] = v15;
                          v7 = v24++ + 1;
                          if ( v24 >= 150 )
                            break;
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      v7 = i + 1;
    }
    for ( i = 0; i < a6; ++i )
    {
      v7 = i;
      if ( !*(&v25 + i) )
        break;
      v13 = *(&v25 + i);
      v7 = 3160 * v13;
      if ( dword_752BAF0[790 * v13] == 22 )
      {
        if ( dword_1FDF1D4[431 * v13] )
        {
          v7 = (unsigned __int16)word_1FDECB2[862 * v13];
          if ( v7 == a3 )
          {
            sub_401A19(v13, a4, a5, 0);
            sub_4E3F40(a1, a2, (int)&String, "sys,guild war summon:%d-%d-%s");
            v7 = Log(&String, "-system", 0);
            if ( i == 30 )
            {
              ++a4;
              v7 = a5++ + 1;
            }
            if ( i == 45 )
            {
              a4 -= 2;
              a5 -= 2;
            }
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v7, v11, v9, v10);
}
// 40109B: using guessed type _DWORD __cdecl sub_40109B(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 401C08: using guessed type _DWORD __cdecl sub_401C08(_DWORD, _DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 4B2E00: using guessed type int var_4AC[149];
// 4B2E00: using guessed type int var_254[149];

//----- (004B3390) --------------------------------------------------------
int __cdecl sub_4B3390(int a1, int a2, int a3, int a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-50h]@0
  int v7; // [sp+4h] [bp-4Ch]@0
  int v8; // [sp+8h] [bp-48h]@0
  char v9; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  v4 = -858993460;
  memset(&v9, -858993460, 0x44u);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22
      && dword_1FDF1D4[431 * i]
      && dword_1FDF1F4[431 * i] >= a1
      && dword_1FDF1F4[431 * i] <= a3
      && dword_1FDF1F8[431 * i] >= a2 )
    {
      if ( dword_1FDF1F8[431 * i] <= a4 )
        sub_4012C6(i);
    }
    v4 = i + 1;
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004B34A0) --------------------------------------------------------
int __cdecl sub_4B34A0(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  char v8; // [sp+0h] [bp-58h]@0
  int v9; // [sp+4h] [bp-54h]@0
  int v10; // [sp+8h] [bp-50h]@0
  char v11; // [sp+Ch] [bp-4Ch]@1
  int v12; // [sp+4Ch] [bp-Ch]@11
  int v13; // [sp+50h] [bp-8h]@11
  int i; // [sp+54h] [bp-4h]@1

  v6 = -858993460;
  memset(&v11, -858993460, 0x4Cu);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22
      && dword_1FDF1D4[431 * i]
      && dword_1FDF1F4[431 * i] >= a1
      && dword_1FDF1F4[431 * i] <= a3
      && dword_1FDF1F8[431 * i] >= a2
      && dword_1FDF1F8[431 * i] <= a4 )
    {
      v13 = word_1FDECE0[862 * i];
      v12 = sub_401640(&byte_1FDECA0[1724 * i]);
      if ( v12 == 1 )
      {
        v13 += 400;
      }
      else
      {
        if ( v12 == 2 )
          v13 += 800;
      }
      if ( v13 >= a5 )
      {
        if ( v13 <= a6 )
          sub_4012C6(i);
      }
    }
    v6 = i + 1;
  }
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004B3630) --------------------------------------------------------
int __cdecl sub_4B3630(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // eax@1
  char v7; // [sp+0h] [bp-58h]@0
  int v8; // [sp+4h] [bp-54h]@0
  int v9; // [sp+8h] [bp-50h]@0
  char v10; // [sp+Ch] [bp-4Ch]@1
  int v11; // [sp+4Ch] [bp-Ch]@11
  int v12; // [sp+50h] [bp-8h]@11
  int i; // [sp+54h] [bp-4h]@1

  v5 = -858993460;
  memset(&v10, -858993460, 0x4Cu);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] != 22
      || !dword_1FDF1D4[431 * i]
      || dword_1FDF1F4[431 * i] < a1
      || dword_1FDF1F4[431 * i] > a3
      || dword_1FDF1F8[431 * i] < a2
      || dword_1FDF1F8[431 * i] > a4 )
      goto LABEL_2;
    v12 = sub_401640(&byte_1FDECA0[1724 * i]);
    v11 = word_1FDECE0[862 * i];
    if ( a5 )
      goto LABEL_17;
    if ( (v12 || v11 >= 250) && (v12 != 1 || v11 >= 200) )
    {
      sub_4012C6(i);
LABEL_17:
      if ( a5 == 1 )
      {
        if ( v12 == 2 )
          sub_4012C6(i);
      }
    }
LABEL_2:
    v5 = i + 1;
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004B37D0) --------------------------------------------------------
int __usercall sub_4B37D0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // eax@1
  char v9; // [sp+0h] [bp-54h]@0
  int v10; // [sp+4h] [bp-50h]@0
  int v11; // [sp+8h] [bp-4Ch]@0
  char v12; // [sp+Ch] [bp-48h]@1
  int j; // [sp+4Ch] [bp-8h]@11
  int i; // [sp+50h] [bp-4h]@1

  v7 = -858993460;
  memset(&v12, -858993460, 0x48u);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22
      && dword_1FDF1D4[431 * i]
      && dword_1FDF1F4[431 * i] >= a3
      && dword_1FDF1F4[431 * i] <= a5
      && dword_1FDF1F8[431 * i] >= a4
      && dword_1FDF1F8[431 * i] <= a6 )
    {
      for ( j = 0; j < 63 && *((_WORD *)&dword_1FDED7C[431 * i] + 4 * j) != a7; ++j )
        ;
      if ( j == 63 )
      {
        sub_401B63(i, &unk_8B1544);
        sub_4012C6(i);
      }
      else
      {
        sub_4E3F40(a1, a2, (int)&String, "etc, use elixer item %d-%d");
        sub_40173A(&dword_1FDED7C[431 * i] + 2 * j);
        sub_401960(i, 1, j, &dword_1FDED7C[431 * i] + 2 * j);
        Log(&String, &byte_752BAD8[3160 * i], dword_752BAEC[790 * i]);
      }
    }
    v7 = i + 1;
  }
  return sub_4E46A0(1, v7, v11, v9, v10);
}
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40173A: using guessed type _DWORD __cdecl sub_40173A(_DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004B3A10) --------------------------------------------------------
int __cdecl sub_4B3A10(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // eax@1
  char v7; // [sp+0h] [bp-50h]@0
  int v8; // [sp+4h] [bp-4Ch]@0
  int v9; // [sp+8h] [bp-48h]@0
  char v10; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  v5 = -858993460;
  memset(&v10, -858993460, 0x44u);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22
      && dword_1FDF1D4[431 * i]
      && dword_1FDF1F4[431 * i] >= a1
      && dword_1FDF1F4[431 * i] <= a3
      && dword_1FDF1F8[431 * i] >= a2
      && dword_1FDF1F8[431 * i] <= a4 )
    {
      if ( (unsigned __int16)word_1FDECB2[862 * i] != a5 )
        sub_4012C6(i);
    }
    v5 = i + 1;
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004B3B40) --------------------------------------------------------
int __cdecl sub_4B3B40(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  char v8; // [sp+0h] [bp-50h]@0
  int v9; // [sp+4h] [bp-4Ch]@0
  int v10; // [sp+8h] [bp-48h]@0
  char v11; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  v6 = -858993460;
  memset(&v11, -858993460, 0x44u);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22
      && dword_1FDF1D4[431 * i]
      && dword_1FDF1F4[431 * i] >= a1
      && dword_1FDF1F4[431 * i] <= a3
      && dword_1FDF1F8[431 * i] >= a2
      && dword_1FDF1F8[431 * i] <= a4 )
    {
      if ( (signed int)(unsigned __int16)word_1FDECEC[862 * i] <= 0 )
      {
        word_1FDECEC[862 * i] = 1;
        sub_4018B1(i);
      }
      sub_401A19(i, a5, a6, 0);
    }
    v6 = i + 1;
  }
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004B3CA0) --------------------------------------------------------
int __cdecl sub_4B3CA0()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-60h]@0
  int v3; // [sp+4h] [bp-5Ch]@0
  int v4; // [sp+8h] [bp-58h]@0
  char v5; // [sp+Ch] [bp-54h]@1
  int i; // [sp+4Ch] [bp-14h]@1
  int v7; // [sp+50h] [bp-10h]@1
  int v8; // [sp+54h] [bp-Ch]@1
  int v9; // [sp+58h] [bp-8h]@1
  int v10; // [sp+5Ch] [bp-4h]@1

  v0 = -858993460;
  memset(&v5, -858993460, 0x54u);
  v10 = 128;
  v9 = 128;
  v8 = 256;
  v7 = 256;
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22
      && dword_1FDF1D4[431 * i]
      && word_1FDECC4[862 * i] < 999
      && dword_1FDF1F4[431 * i] >= v10
      && dword_1FDF1F4[431 * i] <= v8
      && dword_1FDF1F8[431 * i] >= v9 )
    {
      if ( dword_1FDF1F8[431 * i] <= v7 )
        sub_4012C6(i);
    }
    v0 = i + 1;
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004B3DF0) --------------------------------------------------------
int __cdecl sub_4B3DF0(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-6Ch]@0
  int v4; // [sp+4h] [bp-68h]@0
  int v5; // [sp+8h] [bp-64h]@0
  char v6; // [sp+Ch] [bp-60h]@1
  __int16 v7; // [sp+4Ch] [bp-20h]@8
  __int16 v8; // [sp+50h] [bp-1Ch]@8
  __int16 v9; // [sp+52h] [bp-1Ah]@8
  int v10; // [sp+58h] [bp-14h]@8
  __int16 v11; // [sp+5Ch] [bp-10h]@8
  char v12; // [sp+5Eh] [bp-Eh]@8
  char v13; // [sp+60h] [bp-Ch]@8
  int v14; // [sp+64h] [bp-8h]@4
  int i; // [sp+68h] [bp-4h]@1

  v1 = -858993460;
  memset(&v6, -858993460, 0x60u);
  for ( i = 0; i < 2; ++i )
  {
    v14 = i + 13;
    if ( word_8863698[26 * (i + 13)] > 0 && word_8863698[26 * v14] < 6500 )
    {
      if ( dword_88636B0[13 * v14] != a1 )
      {
        sub_401A14(v14, a1, &v13);
        v9 = 30000;
        v8 = 884;
        v10 = v14 + 15000;
        v7 = 20;
        v12 = v13;
        v11 = LOWORD(dword_88636B0[13 * v14]);
        sub_4014FB(dword_88636A4[13 * v14], dword_88636A8[13 * v14], &v7, 0);
        dword_88636B8[13 * v14] = 0;
      }
    }
    v1 = i + 1;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401A14: using guessed type _DWORD __cdecl sub_401A14(_DWORD, _DWORD, _DWORD);
// 8863698: using guessed type __int16 word_8863698[];
// 88636A4: using guessed type int dword_88636A4[];
// 88636A8: using guessed type int dword_88636A8[];
// 88636B0: using guessed type int dword_88636B0[];
// 88636B8: using guessed type int dword_88636B8[];

//----- (004B3F50) --------------------------------------------------------
int __cdecl sub_4B3F50(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-70h]@0
  int v4; // [sp+4h] [bp-6Ch]@0
  int v5; // [sp+8h] [bp-68h]@0
  char v6; // [sp+Ch] [bp-64h]@1
  __int16 v7; // [sp+4Ch] [bp-24h]@8
  __int16 v8; // [sp+50h] [bp-20h]@8
  __int16 v9; // [sp+52h] [bp-1Eh]@8
  int v10; // [sp+58h] [bp-18h]@8
  __int16 v11; // [sp+5Ch] [bp-14h]@8
  char v12; // [sp+5Eh] [bp-12h]@8
  char v13; // [sp+60h] [bp-10h]@8
  int v14; // [sp+64h] [bp-Ch]@4
  int i; // [sp+68h] [bp-8h]@1
  int v16; // [sp+6Ch] [bp-4h]@1

  v1 = -858993460;
  memset(&v6, -858993460, 0x64u);
  v16 = 5;
  for ( i = 0; i < v16; ++i )
  {
    v14 = i + 15;
    if ( word_8863698[26 * (i + 15)] > 0 && word_8863698[26 * v14] < 6500 )
    {
      if ( dword_88636B0[13 * v14] != a1 )
      {
        sub_401A14(v14, a1, &v13);
        v9 = 30000;
        v8 = 884;
        v10 = v14 + 15000;
        v7 = 20;
        v12 = v13;
        v11 = LOWORD(dword_88636B0[13 * v14]);
        sub_4014FB(dword_88636A4[13 * v14], dword_88636A8[13 * v14], &v7, 0);
        dword_88636B8[13 * v14] = 0;
      }
    }
    v1 = i + 1;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401A14: using guessed type _DWORD __cdecl sub_401A14(_DWORD, _DWORD, _DWORD);
// 8863698: using guessed type __int16 word_8863698[];
// 88636A4: using guessed type int dword_88636A4[];
// 88636A8: using guessed type int dword_88636A8[];
// 88636B0: using guessed type int dword_88636B0[];
// 88636B8: using guessed type int dword_88636B8[];

//----- (004B40B0) --------------------------------------------------------
int __cdecl sub_4B40B0(int a1)
{
  char v2; // [sp+0h] [bp-54h]@0
  int v3; // [sp+4h] [bp-50h]@0
  int v4; // [sp+8h] [bp-4Ch]@0
  char v5; // [sp+Ch] [bp-48h]@1
  int i; // [sp+4Ch] [bp-8h]@1
  int v7; // [sp+50h] [bp-4h]@1

  memset(&v5, -858993460, 0x48u);
  v7 = Rand()() % 3 + 3;
  for ( i = 0; i < v7; ++i )
    sub_401C30(a1, 0, 0);
  return sub_4E46A0(1, i, v4, v2, v3);
}
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);

//----- (004B4140) --------------------------------------------------------
int __cdecl sub_4B4140()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-50h]@0
  int v3; // [sp+4h] [bp-4Ch]@0
  int v4; // [sp+8h] [bp-48h]@0
  char v5; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  v0 = -858993460;
  memset(&v5, -858993460, 0x44u);
  for ( i = 1000; i < 12800; ++i )
  {
    if ( dword_1FDF1D4[431 * i] && (signed int)(unsigned __int16)word_1FDECEC[862 * i] > 0 )
    {
      if ( !dword_1FDF27C[431 * i] || dword_1FDF27C[431 * i] == 1 || dword_1FDF27C[431 * i] == 2 )
        sub_401B90(i, 2);
      if ( dword_1FDF27C[431 * i] == 5 || dword_1FDF27C[431 * i] == 6 || dword_1FDF27C[431 * i] == 7 )
        sub_401B90(i, 2);
      if ( dword_1FDF27C[431 * i] == 103
        || dword_1FDF27C[431 * i] == 104
        || dword_1FDF27C[431 * i] == 105
        || dword_1FDF27C[431 * i] == 106 )
        sub_401B90(i, 2);
    }
    v0 = i + 1;
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF27C: using guessed type int dword_1FDF27C[];

//----- (004B42F0) --------------------------------------------------------
int __cdecl sub_4B42F0(int a1, int a2, int a3, int a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-50h]@0
  int v7; // [sp+4h] [bp-4Ch]@0
  int v8; // [sp+8h] [bp-48h]@0
  char v9; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  v4 = -858993460;
  memset(&v9, -858993460, 0x44u);
  for ( i = 1000; i < 12800; ++i )
  {
    if ( dword_1FDF1D4[431 * i]
      && (signed int)(unsigned __int16)word_1FDECEC[862 * i] > 0
      && (dword_1FDF27C[431 * i] == a1
       || dword_1FDF27C[431 * i] == a2
       || dword_1FDF27C[431 * i] == a3
       || dword_1FDF27C[431 * i] == a4) )
      sub_401B90(i, 2);
    v4 = i + 1;
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF27C: using guessed type int dword_1FDF27C[];

//----- (004B4400) --------------------------------------------------------
int __cdecl sub_4B4400(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-70h]@0
  int v4; // [sp+4h] [bp-6Ch]@0
  int v5; // [sp+8h] [bp-68h]@0
  char v6; // [sp+Ch] [bp-64h]@1
  __int16 v7; // [sp+4Ch] [bp-24h]@12
  __int16 v8; // [sp+50h] [bp-20h]@12
  __int16 v9; // [sp+52h] [bp-1Eh]@12
  int v10; // [sp+58h] [bp-18h]@12
  __int16 v11; // [sp+5Ch] [bp-14h]@12
  char v12; // [sp+5Eh] [bp-12h]@12
  char v13; // [sp+60h] [bp-10h]@12
  int v14; // [sp+64h] [bp-Ch]@8
  int j; // [sp+68h] [bp-8h]@5
  int i; // [sp+6Ch] [bp-4h]@1

  v1 = -858993460;
  memset(&v6, -858993460, 0x64u);
  for ( i = 0; i < dword_5A10F0; ++i )
  {
    if ( i != 4 )
    {
      for ( j = 0; j < 3; ++j )
      {
        v14 = 3 * i + j + 1;
        if ( word_8863698[26 * (3 * i + j + 1)] > 0 && word_8863698[26 * v14] < 6500 )
        {
          if ( dword_88636B0[13 * v14] != a1 )
          {
            sub_401A14(v14, a1, &v13);
            v9 = 30000;
            v8 = 884;
            v10 = v14 + 15000;
            v7 = 20;
            v12 = v13;
            v11 = LOWORD(dword_88636B0[13 * v14]);
            sub_4014FB(dword_88636A4[13 * v14], dword_88636A8[13 * v14], &v7, 0);
            dword_88636B8[13 * v14] = 0;
          }
        }
      }
    }
    v1 = i + 1;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401A14: using guessed type _DWORD __cdecl sub_401A14(_DWORD, _DWORD, _DWORD);
// 5A10F0: using guessed type int dword_5A10F0;
// 8863698: using guessed type __int16 word_8863698[];
// 88636A4: using guessed type int dword_88636A4[];
// 88636A8: using guessed type int dword_88636A8[];
// 88636B0: using guessed type int dword_88636B0[];
// 88636B8: using guessed type int dword_88636B8[];

//----- (004B45A0) --------------------------------------------------------
int __cdecl sub_4B45A0(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-6Ch]@0
  int v4; // [sp+4h] [bp-68h]@0
  int v5; // [sp+8h] [bp-64h]@0
  char v6; // [sp+Ch] [bp-60h]@1
  __int16 v7; // [sp+4Ch] [bp-20h]@8
  __int16 v8; // [sp+50h] [bp-1Ch]@8
  __int16 v9; // [sp+52h] [bp-1Ah]@8
  int v10; // [sp+58h] [bp-14h]@8
  __int16 v11; // [sp+5Ch] [bp-10h]@8
  char v12; // [sp+5Eh] [bp-Eh]@8
  char v13; // [sp+60h] [bp-Ch]@8
  int v14; // [sp+64h] [bp-8h]@4
  int i; // [sp+68h] [bp-4h]@1

  v1 = -858993460;
  memset(&v6, -858993460, 0x60u);
  for ( i = 0; i < 4; ++i )
  {
    v14 = i + 42;
    if ( word_8863698[26 * (i + 42)] > 0 && word_8863698[26 * v14] < 6500 )
    {
      if ( dword_88636B0[13 * v14] != a1 )
      {
        sub_401A14(v14, a1, &v13);
        v9 = 30000;
        v8 = 884;
        v10 = v14 + 15000;
        v7 = 20;
        v12 = v13;
        v11 = LOWORD(dword_88636B0[13 * v14]);
        sub_4014FB(dword_88636A4[13 * v14], dword_88636A8[13 * v14], &v7, 0);
        dword_88636B8[13 * v14] = 0;
      }
    }
    v1 = i + 1;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401A14: using guessed type _DWORD __cdecl sub_401A14(_DWORD, _DWORD, _DWORD);
// 8863698: using guessed type __int16 word_8863698[];
// 88636A4: using guessed type int dword_88636A4[];
// 88636A8: using guessed type int dword_88636A8[];
// 88636B0: using guessed type int dword_88636B0[];
// 88636B8: using guessed type int dword_88636B8[];

//----- (004B4700) --------------------------------------------------------
int __usercall sub_4B4700<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@7
  int v3; // eax@55
  int v4; // ecx@55
  int v5; // ecx@55
  int v6; // eax@75
  char v8; // [sp+0h] [bp-29Ch]@0
  int v9; // [sp+4h] [bp-298h]@0
  int v10; // [sp+8h] [bp-294h]@0
  char v11; // [sp+Ch] [bp-290h]@1
  int m; // [sp+4Ch] [bp-250h]@64
  int v13; // [sp+50h] [bp-24Ch]@64
  int l; // [sp+54h] [bp-248h]@48
  int k; // [sp+58h] [bp-244h]@44
  int v16; // [sp+5Ch] [bp-240h]@44
  int v17; // [sp+60h] [bp-23Ch]@18
  int v18; // [sp+64h] [bp-238h]@18
  int v19; // [sp+68h] [bp-234h]@12
  int j; // [sp+6Ch] [bp-230h]@9
  int i; // [sp+70h] [bp-22Ch]@7
  char v22; // [sp+74h] [bp-228h]@7
  char v23; // [sp+174h] [bp-128h]@7
  int v24; // [sp+274h] [bp-28h]@5
  int v25; // [sp+278h] [bp-24h]@5
  int v26; // [sp+27Ch] [bp-20h]@5
  int v27; // [sp+280h] [bp-1Ch]@5
  int v28; // [sp+284h] [bp-18h]@5
  int v29; // [sp+288h] [bp-14h]@5
  int v30; // [sp+28Ch] [bp-10h]@5
  int v31; // [sp+290h] [bp-Ch]@5
  int v32; // [sp+294h] [bp-8h]@5
  int v33; // [sp+298h] [bp-4h]@5

  memset(&v11, -858993460, 0x290u);
  for ( dword_8C76568 = 0; dword_8C76568 < dword_5A10F0; ++dword_8C76568 )
  {
    if ( dword_8C76568 != 4 )
    {
      v33 = 0;
      v32 = 0;
      v31 = 0;
      v30 = 0;
      v29 = dword_594DD0[21 * dword_8C76568];
      v28 = dword_594DD4[21 * dword_8C76568];
      v27 = 0;
      v26 = 0;
      v25 = 0;
      v24 = 0;
      if ( v28 )
      {
        v2 = sub_4011CC(84 * dword_8C76568, &v23);
        LOWORD(v2) = v28;
        sub_4011CC(v2, &v22);
        for ( i = dword_594DFC[21 * dword_8C76568]; i <= dword_594E04[21 * dword_8C76568]; ++i )
        {
          for ( j = dword_594DF8[21 * dword_8C76568]; j <= dword_594E00[21 * dword_8C76568]; ++j )
          {
            v19 = (unsigned __int16)*(&word_34EA550[4096 * i] + j);
            if ( v19 > 0 )
            {
              if ( v19 <= 1000 )
              {
                if ( dword_752BAF0[790 * v19] == 22 )
                {
                  if ( dword_1FDF1D4[431 * v19] )
                  {
                    if ( (signed int)(unsigned __int16)word_1FDECEC[862 * v19] > 0 )
                    {
                      v18 = (unsigned __int16)word_1FDECB2[862 * v19];
                      v17 = word_1FDECE0[862 * v19];
                      if ( v18 )
                      {
                        if ( v18 == v29 || v18 == v28 )
                        {
                          if ( word_1FDECC4[862 * v19] < 1000 )
                          {
                            if ( sub_401640(&byte_1FDECA0[1724 * v19]) == 2 )
                              v17 += 400;
                            sub_4E3F40(a1, a2, (int)&String, "sys,guild war survive %s(%d-%d)");
                            Log(&String, "-system", 0);
                            if ( v18 == v29 )
                            {
                              v33 += v17;
                              if ( byte_1FDECB0[1724 * v19] == 7 )
                              {
                                ++v27;
                              }
                              else
                              {
                                if ( byte_1FDECB0[1724 * v19] == 8 )
                                  ++v25;
                              }
                            }
                            else
                            {
                              if ( v18 == v28 )
                              {
                                v32 += v17;
                                if ( byte_1FDECB0[1724 * v19] == 7 )
                                {
                                  ++v26;
                                }
                                else
                                {
                                  if ( byte_1FDECB0[1724 * v19] == 8 )
                                    ++v24;
                                }
                              }
                              else
                              {
                                Log("err,more than 3 guild, at same guild zone", "-system", 0);
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
        if ( v33 < v32 )
        {
          sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AF8C4);
          sub_40169A(v29, &String);
          sub_40169A(v28, &String);
          v16 = 0;
          for ( k = 0; k < 10; ++k )
          {
            if ( dword_5A1054 != k )
            {
              for ( l = 0; l < 5; ++l )
              {
                if ( v28 == *(&dword_5A39F0[5 * k] + l) )
                {
                  v16 = 1;
                  break;
                }
              }
            }
          }
          if ( v16 == 1 )
          {
            dword_752BAC4[dword_8C76568] = v28;
            v3 = dword_8C76568;
            v4 = dword_8C76568;
            dword_882F4F0[2 * dword_8C76568] = dword_750BA68[2 * dword_8C76568];
            dword_882F4F4[2 * v4] = dword_750BA6C[2 * v3];
            v5 = dword_8C76568;
            dword_750BA68[2 * dword_8C76568] = 0;
            dword_750BA6C[2 * v5] = 0;
            dword_594DD0[21 * dword_8C76568] = 0;
          }
          else
          {
            dword_594DD0[21 * dword_8C76568] = v28;
            sub_4E3F40(a1, a2, (int)&String, "sys,Owner Guild  : %d ");
            Log(&String, "-system", 0);
          }
          dword_594E20[21 * dword_8C76568] = 0;
          if ( v29 != v28 )
          {
            sub_401C03(v28, 50);
            sub_401C03(v29, -50);
          }
          if ( v26 <= v24 )
            dword_594E1C[21 * dword_8C76568] = 8;
          else
            dword_594E1C[21 * dword_8C76568] = 7;
          sub_4E3F40(a1, a2, (int)&String, "sys,guild war type2 : %d");
          Log(&String, "-system", 0);
        }
        else
        {
          sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AF8C4);
          sub_40169A(v29, &String);
          sub_40169A(v28, &String);
          ++dword_594E20[21 * dword_8C76568];
          if ( v27 <= v25 )
            dword_594E1C[21 * dword_8C76568] = 8;
          else
            dword_594E1C[21 * dword_8C76568] = 7;
          sub_4E3F40(a1, a2, (int)&String, "sys,guild war type1 : %d");
          Log(&String, "-system", 0);
        }
        sub_4E3F40(a1, a2, (int)&String, "sys,guild war %d result %d(%d) %d(%d) - %d(%d)");
        Log(&String, "-system", 0);
        dword_594DD4[21 * dword_8C76568] = 0;
      }
      else
      {
        ++dword_594E20[21 * dword_8C76568];
        sub_4E3F40(a1, a2, (int)&String, "sys,not Final da guerra entre guildas %d(%d)");
        Log(&String, "-system", 0);
      }
    }
  }
  v13 = 0;
  for ( m = 0; m < 4; ++m )
  {
    if ( dword_594DD0[21 * m] == dword_5A3A00[5 * dword_5A1054] )
    {
      v13 = 1;
      break;
    }
  }
  if ( !v13 )
  {
    for ( m = 0; m < 4; ++m )
    {
      if ( dword_594DD0[21 * m] )
      {
        sub_4E3F40(a1, a2, (int)&String, "sys,Change Guild zone %d,%d -- %d, ");
        Log(&String, "-system", 0);
        dword_5A3A00[5 * dword_5A1054] = dword_594DD0[21 * m];
        dword_594F20 = dword_594DD0[21 * m];
        dword_594F6C = dword_594E1C[21 * m];
        break;
      }
    }
  }
  v6 = sub_401BA4();
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 4011CC: using guessed type _DWORD __cdecl sub_4011CC(_DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 40169A: using guessed type _DWORD __cdecl sub_40169A(_DWORD, _DWORD);
// 401BA4: using guessed type int sub_401BA4(void);
// 401C03: using guessed type _DWORD __cdecl sub_401C03(_DWORD, _DWORD);
// 594DD0: using guessed type int dword_594DD0[];
// 594DD4: using guessed type int dword_594DD4[];
// 594DF8: using guessed type int dword_594DF8[];
// 594DFC: using guessed type int dword_594DFC[];
// 594E00: using guessed type int dword_594E00[];
// 594E04: using guessed type int dword_594E04[];
// 594E1C: using guessed type int dword_594E1C[];
// 594E20: using guessed type int dword_594E20[];
// 594F20: using guessed type int dword_594F20;
// 594F6C: using guessed type int dword_594F6C;
// 5A1054: using guessed type int dword_5A1054;
// 5A10F0: using guessed type int dword_5A10F0;
// 5A39F0: using guessed type int dword_5A39F0[];
// 5A3A00: using guessed type int dword_5A3A00[];
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 750BA68: using guessed type int dword_750BA68[];
// 750BA6C: using guessed type int dword_750BA6C[];
// 752BAC4: using guessed type int dword_752BAC4[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 882F4F0: using guessed type int dword_882F4F0[];
// 882F4F4: using guessed type int dword_882F4F4[];
// 8C76568: using guessed type int dword_8C76568;

//----- (004B5230) --------------------------------------------------------
int __usercall sub_4B5230<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  int v3; // eax@74
  __int64 v4; // qax@247
  __int64 v5; // kr00_8@247
  char v7; // [sp+0h] [bp-ECh]@0
  int v8; // [sp+4h] [bp-E8h]@0
  int v9; // [sp+8h] [bp-E4h]@0
  char v10; // [sp+Ch] [bp-E0h]@1
  int v11; // [sp+4Ch] [bp-A0h]@260
  int v12; // [sp+50h] [bp-9Ch]@258
  int v13; // [sp+54h] [bp-98h]@257
  int jj; // [sp+58h] [bp-94h]@253
  __int16 v15; // [sp+5Ch] [bp-90h]@252
  __int16 v16; // [sp+60h] [bp-8Ch]@252
  __int16 v17; // [sp+62h] [bp-8Ah]@252
  int v18; // [sp+68h] [bp-84h]@252
  int v19; // [sp+6Ch] [bp-80h]@252
  int v20; // [sp+70h] [bp-7Ch]@252
  unsigned __int64 v21; // [sp+74h] [bp-78h]@247
  int v22; // [sp+7Ch] [bp-70h]@247
  int v23; // [sp+80h] [bp-6Ch]@244
  int v24; // [sp+84h] [bp-68h]@244
  int v25; // [sp+88h] [bp-64h]@244
  int v26; // [sp+8Ch] [bp-60h]@244
  int v27; // [sp+90h] [bp-5Ch]@244
  int v28; // [sp+94h] [bp-58h]@244
  int v29; // [sp+98h] [bp-54h]@244
  int v30; // [sp+9Ch] [bp-50h]@233
  int v31; // [sp+A0h] [bp-4Ch]@232
  int ii; // [sp+A4h] [bp-48h]@226
  int v33; // [sp+A8h] [bp-44h]@217
  int v34; // [sp+ACh] [bp-40h]@216
  int kk; // [sp+B0h] [bp-3Ch]@211
  int n; // [sp+B4h] [bp-38h]@168
  int v37; // [sp+B8h] [bp-34h]@154
  int m; // [sp+BCh] [bp-30h]@142
  int v39; // [sp+C0h] [bp-2Ch]@74
  __int16 v40; // [sp+C4h] [bp-28h]@74
  int k; // [sp+CCh] [bp-20h]@58
  int l; // [sp+D0h] [bp-1Ch]@39
  int v43; // [sp+D4h] [bp-18h]@31
  int v44; // [sp+D8h] [bp-14h]@31
  int v45; // [sp+DCh] [bp-10h]@28
  int i; // [sp+E0h] [bp-Ch]@15
  int j; // [sp+E4h] [bp-8h]@6
  int v48; // [sp+E8h] [bp-4h]@4

  v2 = -858993460;
  memset(&v10, -858993460, 0xE0u);
  if ( dword_8C76254 != 1 )
  {
    if ( dword_8C76214 == 1 && dword_AACD38 == dword_5A10E8 )
    {
      v48 = dword_AACD34;
      if ( dword_8C76348 || v48 >= 5 )
      {
        if ( dword_8C76348 != 1 || v48 <= 5 || v48 >= 10 )
        {
          if ( dword_8C76348 != 2 || v48 < 15 )
          {
            if ( dword_8C76348 != 3 || v48 < 50 )
            {
              if ( dword_8C76348 == 4 && v48 >= 55 )
              {
                sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AF2C4);
                sub_401479(&String);
                sub_401C62();
              }
            }
            else
            {
              sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AF244);
              sub_401479(&String);
              dword_8C76348 = 4;
            }
          }
          else
          {
            dword_8C76348 = 3;
            sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B2344);
            sub_401479(&String);
          }
        }
        else
        {
          sub_401659(1036, 1672, 1144, 1764, dword_594F20);
          sub_401910(1129, 1705, 1129, 1709, 1057, 1742);
          sub_401910(1116, 1705, 1116, 1709, 1057, 1742);
          sub_401910(1094, 1688, 1094, 1692, 1057, 1742);
          sub_401910(1087, 1609, 1087, 1713, 1057, 1742);
          sub_401910(1050, 1690, 1050, 1690, 1057, 1742);
          sub_401910(1046, 1690, 1047, 1691, 1057, 1742);
          sub_401910(1124, 1708, 1124, 1708, 1057, 1742);
          sub_40120D(3);
          for ( i = 0; i < 4; ++i )
          {
            sub_401C30(23, dword_5A1010[2 * i], dword_5A1014[2 * i]);
            dword_8C76240[i] = 1;
          }
          sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AF1C4);
          sub_401479(&String);
          dword_8C76348 = 2;
        }
      }
      else
      {
        sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AF144);
        sub_401479(&String);
        dword_8C76348 = 1;
        for ( j = 0; j < 1000; ++j )
        {
          if ( dword_752BAF0[790 * j] == 22 )
            sub_4015FF(j, 30000, 940, dword_8C76348);
        }
      }
    }
    v45 = (dword_AACD3C - 1) % dword_5A1008;
    if ( dword_8C762D4 || dword_5A1054 == v45 )
    {
      if ( dword_8C762D8 > 0 )
      {
        v44 = dword_AACD34 / 20;
        v43 = dword_AACD34 % 20;
        dword_8C7634C = dword_AACD34 % 20;
        dword_8C76350 = dword_AACD34 / 20;
        if ( dword_AACD38 == dword_5A10EC )
        {
          if ( dword_8C76344 || v43 )
          {
            if ( dword_8C76344 != 1 || v43 != 5 )
            {
              if ( dword_8C76344 == 2 && v43 == 13 )
              {
                if ( dword_8C762D8 > 0 && dword_8C762D8 < 6500 )
                {
                  sub_40173A(&v40);
                  v40 = dword_8C762D8;
                  v3 = Rand()() % 4;
                  v39 = sub_4016EA(2621, 1726, &v40, v3, 1, 0);
                  sub_4E3F40(a1, a2, (int)&String, "etc,britem created %d-%d");
                  Log(&String, "-system", 0);
                }
                dword_8C76344 = 3;
                sub_401131(&unk_8AE444, 2580, 1688, 2665, 1765);
              }
            }
            else
            {
              sub_4015F5(3);
              dword_8C76344 = 2;
              if ( v44 )
              {
                if ( v44 == 1 )
                {
                  sub_401131(&unk_8AE344, 2580, 1688, 2665, 1765);
                  sub_401230(2604, 1708, 2648, 1744, 200, 999);
                }
                else
                {
                  sub_401131(&unk_8AE3C4, 2580, 1688, 2665, 1765);
                }
              }
              else
              {
                sub_401131(&unk_8AE2C4, 2580, 1688, 2665, 1765);
                sub_401230(2604, 1708, 2648, 1744, 100, 999);
              }
              sub_4015F5(3);
              for ( k = 0; k < 1000; ++k )
              {
                if ( dword_752BAF0[790 * k] == 22 )
                {
                  if ( dword_1FDF1F4[431 * k] >= 2604 )
                  {
                    if ( dword_1FDF1F4[431 * k] <= 2648 )
                    {
                      if ( dword_1FDF1F8[431 * k] >= 1708 )
                      {
                        if ( dword_1FDF1F8[431 * k] <= 1744 )
                        {
                          sub_401221(k);
                          if ( dword_1FDF1D8[431 * k] )
                            sub_4013CF(k, 0);
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          else
          {
            dword_8C76344 = 1;
            if ( v44 )
            {
              if ( v44 == 1 )
              {
                sub_401131(&unk_8AE544, 2580, 1708, 2665, 1765);
                sub_401230(2604, 1708, 2648, 1744, 200, 999);
              }
              else
              {
                sub_401131(&unk_8AE5C4, 2580, 1708, 2665, 1765);
              }
            }
            else
            {
              sub_401131(&unk_8AE4C4, 2580, 1708, 2665, 1765);
              sub_401230(2604, 1708, 2648, 1744, 100, 999);
            }
            for ( l = 0; l < 1000; ++l )
            {
              if ( dword_752BAF0[790 * l] == 22 )
              {
                if ( dword_1FDF1F4[431 * l] >= 2604 )
                {
                  if ( dword_1FDF1F4[431 * l] <= 2648 )
                  {
                    if ( dword_1FDF1F8[431 * l] >= 1708 )
                    {
                      if ( dword_1FDF1F8[431 * l] <= 1744 )
                      {
                        sub_401221(l);
                        if ( dword_1FDF1D8[431 * l] )
                          sub_4013CF(l, 0);
                      }
                    }
                  }
                }
              }
            }
          }
          if ( dword_8C76344 == 3 && v43 >= 14 )
          {
            sub_4015F5(1);
            dword_8C76344 = 0;
          }
        }
      }
    }
    if ( dword_8C76210 == 1
      && (dword_AACD38 == dword_5A10EC + 2 || dword_AACD38 == dword_5A10EC + 1 || dword_AACD38 == dword_5A10EC + 3) )
    {
      if ( dword_AACD34 < 5 || dword_5A10DC )
      {
        if ( dword_AACD34 < 6 || dword_5A10DC != 1 )
        {
          if ( dword_AACD34 < 7 || dword_5A10DC != 2 )
          {
            if ( dword_AACD34 < 9 || dword_5A10DC != 3 )
            {
              if ( dword_AACD34 < 11 || dword_5A10DC != 4 )
              {
                if ( dword_AACD34 < 13 || dword_5A10DC != 5 )
                {
                  if ( dword_AACD34 < 15 || dword_5A10DC != 6 )
                  {
                    if ( dword_AACD34 < 17 || dword_5A10DC != 7 )
                    {
                      if ( dword_AACD34 < 5 && dword_5A10DC == 8 )
                      {
                        dword_5A10DC = 0;
                        for ( m = 0; m < 5; ++m )
                          dword_8C7628C[m] = 0;
                        dword_8C762B4 = 0;
                      }
                    }
                    else
                    {
                      sub_401910(2622, 1708, 2627, 1743, 2615, 1727);
                      sub_4015F5(1);
                      sub_401B5E(3);
                      sub_4011EF();
                      dword_5A10DC = 8;
                      dword_8C762B4 = 0;
                    }
                  }
                  else
                  {
                    if ( dword_AACD38 == dword_5A10EC + 3 )
                    {
                      sub_401627(106);
                      sub_401627(105);
                      sub_401627(105);
                    }
                    else
                    {
                      if ( dword_AACD38 == dword_5A10EC + 2 )
                      {
                        sub_401627(2);
                        sub_401627(2);
                      }
                      else
                      {
                        sub_401627(7);
                        sub_401627(7);
                      }
                    }
                    dword_5A10DC = 7;
                  }
                }
                else
                {
                  if ( dword_AACD38 == dword_5A10EC + 3 )
                  {
                    sub_401627(104);
                    sub_401627(105);
                  }
                  else
                  {
                    if ( dword_AACD38 == dword_5A10EC + 2 )
                    {
                      sub_401627(1);
                      sub_401627(2);
                    }
                    else
                    {
                      sub_401627(6);
                      sub_401627(7);
                    }
                  }
                  dword_5A10DC = 6;
                }
              }
              else
              {
                if ( dword_AACD38 == dword_5A10EC + 3 )
                {
                  sub_401627(103);
                  sub_401627(104);
                }
                else
                {
                  if ( dword_AACD38 == dword_5A10EC + 2 )
                  {
                    sub_401627(0);
                    sub_401627(1);
                  }
                  else
                  {
                    sub_401627(5);
                    sub_401627(6);
                  }
                }
                dword_5A10DC = 5;
              }
            }
            else
            {
              if ( dword_AACD38 == dword_5A10EC + 3 )
                sub_401627(104);
              if ( dword_AACD38 == dword_5A10EC + 2 )
                sub_401627(1);
              if ( dword_AACD38 == dword_5A10EC + 1 )
                sub_401627(6);
              dword_5A10DC = 4;
            }
          }
          else
          {
            sub_401B5E(1);
            dword_5A10DC = 3;
          }
        }
        else
        {
          if ( dword_AACD38 == dword_5A10EC + 3 )
            sub_401627(103);
          if ( dword_AACD38 == dword_5A10EC + 2 )
            sub_401627(0);
          if ( dword_AACD38 == dword_5A10EC + 1 )
            sub_401627(5);
          dword_5A10DC = 2;
        }
      }
      else
      {
        sub_4015F5(3);
        dword_5A10DC = 1;
        if ( dword_AACD38 == dword_5A10EC + 1 )
        {
          dword_8C762B4 = 1;
          sub_401938(2604, 1708, 2651, 1744, 0);
        }
        else
        {
          if ( dword_AACD38 == dword_5A10EC + 2 )
          {
            sub_401938(2604, 1708, 2651, 1744, 1);
            dword_8C762B4 = 1;
          }
          else
          {
            if ( dword_AACD38 == dword_5A10EC + 3 )
              sub_401A78(2604, 1708, 2651, 1744, 3170);
          }
        }
      }
    }
    if ( dword_AACD38 != 23 || dword_AACD48 == 6 || !dword_AACD48 || dword_8C76448 )
    {
      if ( dword_8C76448 == 1 && dword_AACD38 != 23 )
        dword_8C76448 = 0;
    }
    else
    {
      sub_401479(&unk_8B3F44);
      dword_8C76448 = 1;
    }
    v2 = dword_8C76340 - 1;
    v37 = dword_8C76340 - 1;
    if ( dword_8C76340 - 1 < 0 )
      v37 += 7;
    if ( dword_5A10E0 != -1 )
      dword_AACD48 = -1;
    if ( dword_5A10D8
      || (dword_AACD48 != dword_8C76340 || (v2 = dword_AACD38, dword_AACD38 < dword_5A10E4)) && dword_5A10E0 != 1 )
    {
      if ( dword_5A10D8 != 1
        || (dword_AACD48 != dword_8C76340 || dword_AACD38 < dword_5A10E4 || dword_AACD34 <= 2) && dword_5A10E0 != 2 )
      {
        if ( dword_5A10D8 != 2
          || ((v2 = dword_AACD48, dword_AACD48 != dword_8C76340) || dword_AACD38 < dword_5A10E4 || dword_AACD34 <= 5)
          && dword_5A10E0 != 3 )
        {
          if ( dword_5A10D8 != 3
            || (dword_AACD48 != dword_8C76340 || (v2 = dword_AACD38, dword_AACD38 < dword_5A10E4) || dword_AACD34 <= 30)
            && dword_5A10E0 != 4 )
          {
            if ( dword_5A10D8 != 4 || dword_AACD48 != v37 && dword_5A10E0 != 5 )
            {
              if ( dword_5A10D8 == 5 && (dword_AACD48 == dword_8C76340 || !dword_5A10E0) )
              {
                v2 = sub_401479(&unk_8AADC4);
                dword_5A10D8 = 0;
              }
            }
            else
            {
              v2 = sub_401479(&unk_8AAD44);
              dword_5A10D8 = 5;
            }
          }
          else
          {
            sub_401479(&unk_8AACC4);
            sub_401573();
            sub_401212();
            sub_401172();
            sub_40110E();
            sub_401AB9(3);
            sub_40141F();
            dword_5A10D8 = 4;
            sub_401B86();
            v2 = sub_4019D3();
          }
        }
        else
        {
          sub_401479(&unk_8AAC44);
          dword_5A10D8 = 3;
          v2 = sub_401AB9(1);
        }
      }
      else
      {
        sub_401479(&unk_8AABC4);
        sub_401212();
        dword_5A10D8 = 2;
        for ( n = 0; n < dword_5A10F0; ++n )
        {
          if ( n != 4 && dword_594DD4[21 * n] && dword_594DD0[21 * n] )
            sub_401C2B(dword_594DD0[21 * n], dword_594E08[21 * n], dword_594E0C[21 * n], 26, n);
        }
        for ( n = 0; ; ++n )
        {
          v2 = n;
          if ( n >= dword_5A10F0 )
            break;
          if ( n != 4 && dword_594DD4[21 * n] )
            sub_401C2B(dword_594DD4[21 * n], dword_594E10[21 * n], dword_594E14[21 * n], 26, n);
        }
      }
    }
    else
    {
      v2 = sub_401479(&unk_8AAB44);
      dword_5A10D8 = 1;
    }
    if ( dword_AACD48 != 6 && dword_AACD48 )
    {
      if ( dword_8C761C0 == 2 )
      {
        v2 = dword_AACD34 / 5;
        if ( !(dword_AACD34 % 5) )
        {
          LOWORD(v2) = word_1FDECE2[862 * dword_8C761C4] + 300;
          word_1FDECE2[862 * dword_8C761C4] = v2;
        }
      }
      if ( dword_8C761C0 || dword_AACD38 != 21 )
      {
        if ( dword_8C761C0 != 1 || dword_AACD38 != 21 )
        {
          if ( dword_8C761C0 == 2 && dword_AACD38 >= 22 )
          {
            for ( ii = 0; ii < 1000; ++ii )
            {
              if ( dword_752BAF0[790 * ii] == 22 )
              {
                if ( dword_1FDF1D4[431 * ii] )
                {
                  if ( (signed int)(unsigned __int16)word_1FDECEC[862 * ii] > 0 )
                  {
                    v31 = sub_40109B(ii);
                    if ( v31 != dword_5A1054 + 1 )
                    {
                      v30 = sub_401BC2(ii, 2476, 1847, 2545, 1918, 0);
                      if ( v30 )
                      {
                        if ( v31 == dword_1FDF318[431 * dword_8C761C4] )
                        {
                          if ( qword_750BA88 >= 200000000 )
                            dword_1FDEFA8[431 * ii] += 10;
                        }
                        else
                        {
                          sub_4012C6(ii);
                        }
                      }
                    }
                  }
                }
              }
            }
            if ( dword_5A1054 + 1 == dword_1FDF318[431 * dword_8C761C4] )
            {
              for ( jj = 0; jj < 10; ++jj )
              {
                if ( dword_5A1054 != jj )
                {
                  v13 = dword_750BA90[jj] - 1;
                  if ( v13 == dword_5A1054 )
                  {
                    v12 = dword_5A3A00[5 * v13];
                    sub_401C03(v12, -100);
                  }
                }
              }
            }
            else
            {
              qword_8C761C8 -= 1000000000i64;
              if ( SHIDWORD(qword_8C761C8) <= 0 && SHIDWORD(qword_8C761C8) < 0 )
                qword_8C761C8 = 0i64;
              v29 = 0;
              v28 = dword_1FDF318[431 * dword_8C761C4] - 1;
              v27 = dword_5A1054;
              v26 = dword_5A3A00[5 * v28];
              v25 = v26 >> 12;
              v24 = v26 & 0xFFF;
              v23 = (dword_5A1058 - dword_5A105C) / (dword_5A105C / 10);
              if ( *(&byte_88B5F1E[245760 * (v26 >> 12)] + 60 * (v26 & 0xFFF)) == 7 )
                v29 = -v23;
              else
                v29 = v23;
              sub_401C03(v26, 100);
              v22 = dword_594F20;
              sub_401C03(dword_594F20, -100);
              LODWORD(v4) = sub_4E5390(qword_750BA88, 0x64u, 0);
              a2 = HIDWORD(v4);
              v21 = sub_4E8750(v4, v29 + 20);
              v5 = qword_750BA88 - v21;
              qword_750BA88 = v5;
              if ( SHIDWORD(v5) <= 0 && SHIDWORD(v5) < 0 )
                qword_750BA88 = 0i64;
              if ( (signed __int64)v21 > 2000000000 )
                v21 = 2000000000i64;
              v20 = v21;
              v17 = 0;
              v16 = 3103;
              v15 = 20;
              v18 = dword_1FDF318[431 * dword_8C761C4];
              v19 = v21;
              sub_40132A(&v15, 20);
              sub_4E3F40(
                a1,
                a2,
                (int)&String,
                "sys, War Data tgs:%d , tgidx:%d , Tgm:%d , spp:%d rate:%d,srvTax: %I64d, Tax:%d");
              Log(&String, "-system", 0);
            }
            v11 = dword_AACD48 - 1;
            dword_88634F0[dword_AACD48 - 1] = dword_1FDF318[431 * dword_8C761C4];
            sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B3BC4);
            sub_401479(&String);
            sub_4E3F40(a1, a2, (int)&String, "sys,Base War Result %d - Day : %d");
            Log(&String, "-system", 0);
            sub_401B90(dword_8C761C4, 1);
            dword_8C761C4 = 0;
            dword_8C761C0 = 0;
            v2 = sub_401BA4();
          }
        }
        else
        {
          dword_8C761C4 = 0;
          sub_401C30(1079, 0, 0);
          byte_1FDECB0[1724 * dword_8C761C4] = 0;
          dword_1FDF318[431 * dword_8C761C4] = dword_5A1054 + 1;
          dword_8C761C0 = 2;
          v2 = sub_401479(&unk_8B3C44);
        }
      }
      else
      {
        for ( kk = 0; kk < 1000; ++kk )
        {
          v2 = 3160 * kk;
          if ( dword_752BAF0[790 * kk] == 22 )
          {
            if ( dword_1FDF1D4[431 * kk] )
            {
              v34 = sub_40109B(kk);
              v2 = dword_5A1054 + 1;
              if ( v34 != dword_5A1054 + 1 )
              {
                v2 = sub_401BC2(kk, 2476, 1847, 2545, 1918, 0);
                v33 = v2;
                if ( v2 == 1 )
                  v2 = sub_4012C6(kk);
              }
            }
          }
        }
        dword_8C761C0 = 1;
      }
    }
  }
  return sub_4E46A0(1, v2, v9, v7, v8);
}
// 40109B: using guessed type _DWORD __cdecl sub_40109B(_DWORD);
// 40110E: using guessed type int sub_40110E(void);
// 401131: using guessed type _DWORD __cdecl sub_401131(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401172: using guessed type int sub_401172(void);
// 4011EF: using guessed type int sub_4011EF(void);
// 40120D: using guessed type _DWORD __cdecl sub_40120D(_DWORD);
// 401212: using guessed type int sub_401212(void);
// 401221: using guessed type _DWORD __cdecl sub_401221(_DWORD);
// 401230: using guessed type _DWORD __cdecl sub_401230(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 4013CF: using guessed type _DWORD __cdecl sub_4013CF(_DWORD, _DWORD);
// 40141F: using guessed type int sub_40141F(void);
// 401479: using guessed type _DWORD __cdecl sub_401479(_DWORD);
// 401573: using guessed type int sub_401573(void);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4015F5: using guessed type _DWORD __cdecl sub_4015F5(_DWORD);
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 401627: using guessed type _DWORD __cdecl sub_401627(_DWORD);
// 401659: using guessed type _DWORD __cdecl sub_401659(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4016EA: using guessed type _DWORD __cdecl sub_4016EA(_DWORD, _DWORD, _DWORD, _DWORD, char, _DWORD);
// 40173A: using guessed type _DWORD __cdecl sub_40173A(_DWORD);
// 401910: using guessed type _DWORD __cdecl sub_401910(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401938: using guessed type _DWORD __cdecl sub_401938(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4019D3: using guessed type int sub_4019D3(void);
// 401A78: using guessed type _DWORD __cdecl sub_401A78(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401AB9: using guessed type _DWORD __cdecl sub_401AB9(_DWORD);
// 401B5E: using guessed type _DWORD __cdecl sub_401B5E(_DWORD);
// 401B86: using guessed type int sub_401B86(void);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 401BA4: using guessed type int sub_401BA4(void);
// 401BC2: using guessed type _DWORD __cdecl sub_401BC2(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401C03: using guessed type _DWORD __cdecl sub_401C03(_DWORD, _DWORD);
// 401C2B: using guessed type _DWORD __cdecl sub_401C2B(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 401C62: using guessed type int sub_401C62(void);
// 594DD0: using guessed type int dword_594DD0[];
// 594DD4: using guessed type int dword_594DD4[];
// 594E08: using guessed type int dword_594E08[];
// 594E0C: using guessed type int dword_594E0C[];
// 594E10: using guessed type int dword_594E10[];
// 594E14: using guessed type int dword_594E14[];
// 594F20: using guessed type int dword_594F20;
// 5A1008: using guessed type int dword_5A1008;
// 5A1010: using guessed type int dword_5A1010[];
// 5A1014: using guessed type int dword_5A1014[];
// 5A1054: using guessed type int dword_5A1054;
// 5A1058: using guessed type int dword_5A1058;
// 5A105C: using guessed type int dword_5A105C;
// 5A10D8: using guessed type int dword_5A10D8;
// 5A10DC: using guessed type int dword_5A10DC;
// 5A10E0: using guessed type int dword_5A10E0;
// 5A10E4: using guessed type int dword_5A10E4;
// 5A10E8: using guessed type int dword_5A10E8;
// 5A10EC: using guessed type int dword_5A10EC;
// 5A10F0: using guessed type int dword_5A10F0;
// 5A3A00: using guessed type int dword_5A3A00[];
// AACD34: using guessed type int dword_AACD34;
// AACD38: using guessed type int dword_AACD38;
// AACD3C: using guessed type int dword_AACD3C;
// AACD48: using guessed type int dword_AACD48;
// 1FDECE2: using guessed type __int16 word_1FDECE2[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDEFA8: using guessed type int dword_1FDEFA8[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF318: using guessed type int dword_1FDF318[];
// 750BA88: using guessed type __int64 qword_750BA88;
// 750BA90: using guessed type int dword_750BA90[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 88634F0: using guessed type int dword_88634F0[];
// 8C761C0: using guessed type int dword_8C761C0;
// 8C761C4: using guessed type int dword_8C761C4;
// 8C761C8: using guessed type __int64 qword_8C761C8;
// 8C76210: using guessed type int dword_8C76210;
// 8C76214: using guessed type int dword_8C76214;
// 8C76240: using guessed type int dword_8C76240[];
// 8C76254: using guessed type int dword_8C76254;
// 8C7628C: using guessed type int dword_8C7628C[];
// 8C762B4: using guessed type int dword_8C762B4;
// 8C762D4: using guessed type int dword_8C762D4;
// 8C762D8: using guessed type int dword_8C762D8;
// 8C76340: using guessed type int dword_8C76340;
// 8C76344: using guessed type int dword_8C76344;
// 8C76348: using guessed type int dword_8C76348;
// 8C7634C: using guessed type int dword_8C7634C;
// 8C76350: using guessed type int dword_8C76350;
// 8C76448: using guessed type int dword_8C76448;

//----- (004B6E60) --------------------------------------------------------
int __usercall sub_4B6E60<eax>(int a1<ebx>, int a2<esi>)
{
  char v3; // [sp+0h] [bp-4Ch]@0
  int v4; // [sp+4h] [bp-48h]@0
  int v5; // [sp+8h] [bp-44h]@0
  char v6; // [sp+Ch] [bp-40h]@1

  memset(&v6, -858993460, 0x40u);
  if ( dword_8C76320 )
  {
    sub_4E4260(a1, a2, dword_8C76320);
    dword_8C76320 = 0;
  }
  sub_4E3F40(a1, a2, (int)&String, ".\\chat_log\\%s%4.4d_%2.2d_%2.2d_%2.2d_%2.2d.txt");
  dword_8C76320 = sub_4E4620(a1, a2, &String, (int)"wt");
  dword_8C76328 = dword_AACD38;
  if ( !(dword_AACD38 % 6) )
    dword_8C76354 = dword_AACD38;
  return sub_4E46A0(1, dword_AACD38 / 6, v5, v3, v4);
}
// AACD38: using guessed type int dword_AACD38;
// 8C76320: using guessed type int dword_8C76320;
// 8C76328: using guessed type int dword_8C76328;
// 8C76354: using guessed type int dword_8C76354;

//----- (004B6F70) --------------------------------------------------------
int __usercall sub_4B6F70<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  signed int v4; // eax@1
  int v5; // eax@2
  char v7; // [sp+0h] [bp-ACCh]@2
  int v8; // [sp+4h] [bp-AC8h]@3
  int v9; // [sp+8h] [bp-AC4h]@3
  char v10; // [sp+Ch] [bp-AC0h]@1
  const CHAR String; // [sp+4Ch] [bp-A80h]@2
  char v12; // [sp+4CCh] [bp-600h]@2
  char v13; // [sp+5CAh] [bp-502h]@2
  char v14; // [sp+5CBh] [bp-501h]@2
  char v15; // [sp+5CCh] [bp-500h]@2
  char v16; // [sp+6CAh] [bp-402h]@2
  char v17; // [sp+6CBh] [bp-401h]@2
  char v18; // [sp+6CCh] [bp-400h]@2
  int v19; // [sp+ACCh] [bp+0h]@2

  v4 = -858993460;
  memset(&v10, -858993460, 0xAC0u);
  if ( dword_8C76320 )
  {
    sub_4E3F40(a1, a2, (int)&v18, "%2.2d%2.2d%2.2d,%2.2d%2.2d%2.2d,%8.8x");
    sub_4E7850((int)&v15, a3, 0xFFu);
    v17 = 0;
    v16 = 0;
    sub_4E7850((int)&v12, a4, 0xFFu);
    v14 = 0;
    v13 = 0;
    sub_4E3F40(a1, a2, (int)&v18, "%s,%s,%s \n");
    sub_4E5440(a1, a2, dword_8C76320, (int)&v18, v7);
    sub_4E3F40(a1, a2, (int)&String, "%d-%d %s %d");
    v5 = SetWindowTextA(hWnd, &String);
    v4 = sub_4E46A0(&v7 == &v7, v5, a1, (unsigned int)&v19, (int)&v7);
  }
  return sub_4E46A0(1, v4, v9, v7, v8);
}
// 8C76320: using guessed type int dword_8C76320;

//----- (004B7130) --------------------------------------------------------
int __usercall sub_4B7130<eax>(int a1<ebx>, int a2<esi>)
{
  char v3; // [sp+0h] [bp-4Ch]@0
  int v4; // [sp+4h] [bp-48h]@0
  int v5; // [sp+8h] [bp-44h]@0
  char v6; // [sp+Ch] [bp-40h]@1

  memset(&v6, -858993460, 0x40u);
  if ( dword_8C7631C )
  {
    sub_4E4260(a1, a2, dword_8C7631C);
    dword_8C7631C = 0;
  }
  sub_4E3F40(a1, a2, (int)&String, ".\\gamble_log\\%s%4.4d_%2.2d_%2.2d_%2.2d_%2.2d.txt");
  dword_8C7631C = sub_4E4620(a1, a2, &String, (int)"wt");
  dword_8C76354 = dword_AACD38;
  return sub_4E46A0(1, dword_8C7631C, v5, v3, v4);
}
// AACD38: using guessed type int dword_AACD38;
// 8C7631C: using guessed type int dword_8C7631C;
// 8C76354: using guessed type int dword_8C76354;

//----- (004B7210) --------------------------------------------------------
int __usercall sub_4B7210<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v4; // eax@3
  int v5; // eax@3
  char v7; // [sp+0h] [bp-ACCh]@2
  int v8; // [sp+4h] [bp-AC8h]@3
  int v9; // [sp+8h] [bp-AC4h]@3
  char v10; // [sp+Ch] [bp-AC0h]@1
  const CHAR String; // [sp+4Ch] [bp-A80h]@3
  char v12; // [sp+4CCh] [bp-600h]@1
  char v13; // [sp+5CAh] [bp-502h]@1
  char v14; // [sp+5CBh] [bp-501h]@1
  char v15; // [sp+5CCh] [bp-500h]@1
  char v16; // [sp+6CAh] [bp-402h]@1
  char v17; // [sp+6CBh] [bp-401h]@1
  char v18; // [sp+6CCh] [bp-400h]@1
  int v19; // [sp+ACCh] [bp+0h]@3

  memset(&v10, -858993460, 0xAC0u);
  sub_4E3F40(a1, a2, (int)&v18, "%2.2d%2.2d%2.2d,%2.2d%2.2d%2.2d,%8.8x");
  sub_4E7850((int)&v15, a3, 0xFFu);
  v17 = 0;
  v16 = 0;
  sub_4E7850((int)&v12, a4, 0xFFu);
  v14 = 0;
  v13 = 0;
  sub_4E3F40(a1, a2, (int)&v18, "%s,%s,%s \n");
  if ( dword_8C7631C )
    sub_4E5440(a1, a2, dword_8C7631C, (int)&v18, v7);
  sub_4E3F40(a1, a2, (int)&String, "%d-%d %s %d");
  v4 = SetWindowTextA(hWnd, &String);
  v5 = sub_4E46A0(&v7 == &v7, v4, a1, (unsigned int)&v19, (int)&v7);
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 8C7631C: using guessed type int dword_8C7631C;

//----- (004B73C0) --------------------------------------------------------
int __usercall sub_4B73C0<eax>(int a1<ebx>, int a2<esi>)
{
  char v3; // [sp+0h] [bp-4Ch]@0
  int v4; // [sp+4h] [bp-48h]@0
  int v5; // [sp+8h] [bp-44h]@0
  char v6; // [sp+Ch] [bp-40h]@1

  memset(&v6, -858993460, 0x40u);
  if ( dword_8C76318 )
  {
    sub_4E4260(a1, a2, dword_8C76318);
    dword_8C76318 = 0;
  }
  sub_4E3F40(a1, a2, (int)&String, ".\\billing_log\\%s%4.4d_%2.2d_%2.2d_%2.2d_%2.2d.txt");
  dword_8C76318 = sub_4E4620(a1, a2, &String, (int)"wt");
  return sub_4E46A0(1, dword_8C76318, v5, v3, v4);
}
// 8C76318: using guessed type int dword_8C76318;

//----- (004B7490) --------------------------------------------------------
int __usercall sub_4B7490<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  signed int v3; // eax@1
  char v5; // [sp+0h] [bp-24Ch]@0
  int v6; // [sp+4h] [bp-248h]@0
  int v7; // [sp+8h] [bp-244h]@0
  char v8; // [sp+Ch] [bp-240h]@1
  char v9; // [sp+4Ch] [bp-200h]@3

  v3 = -858993460;
  memset(&v8, -858993460, 0x240u);
  if ( dword_8C76318 )
  {
    if ( a3 )
      sub_4E3F40(a1, a2, (int)&v9, "%2.2d%2.2d,%2.2d%2.2d%2.2d,send,%3d,%2d,%2d,%2d,%s\n");
    else
      sub_4E3F40(a1, a2, (int)&v9, "%2.2d%2.2d,%2.2d%2.2d%2.2d,recv,%3d,%2d,%2d,%2d,%s\n");
    v3 = sub_4E5440(a1, a2, dword_8C76318, (int)&v9, v5);
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 8C76318: using guessed type int dword_8C76318;

//----- (004B75D0) --------------------------------------------------------
int __usercall sub_4B75D0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-4Ch]@2
  int v5; // [sp+4h] [bp-48h]@3
  int v6; // [sp+8h] [bp-44h]@3
  char v7; // [sp+Ch] [bp-40h]@1
  int v8; // [sp+4Ch] [bp+0h]@2

  memset(&v7, -858993460, 0x40u);
  if ( dword_8C76314 )
  {
    sub_4E4260(a1, a2, dword_8C76314);
    dword_8C76314 = 0;
    a2 = (int)&v4;
    Sleep(0x64u);
    sub_4E46A0(&v4 == &v4, v2, a1, (unsigned int)&v8, (int)&v4);
  }
  sub_4E3F40(a1, a2, (int)&String, ".\\GrLog\\%s%4.4d_%2.2d_%2.2d_%2.2d_%2.2d.txt");
  dword_8C76314 = sub_4E4620(a1, a2, &String, (int)"wt");
  dword_8C76354 = dword_AACD38;
  return sub_4E46A0(1, dword_8C76314, v6, v4, v5);
}
// AACD38: using guessed type int dword_AACD38;
// 8C76314: using guessed type int dword_8C76314;
// 8C76354: using guessed type int dword_8C76354;

//----- (004B76D0) --------------------------------------------------------
int __usercall sub_4B76D0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-4Ch]@2
  int v5; // [sp+4h] [bp-48h]@3
  int v6; // [sp+8h] [bp-44h]@3
  char v7; // [sp+Ch] [bp-40h]@1
  int v8; // [sp+4Ch] [bp+0h]@2

  memset(&v7, -858993460, 0x40u);
  if ( dword_8C76310 )
  {
    sub_4E4260(a1, a2, dword_8C76310);
    dword_8C76310 = 0;
    a2 = (int)&v4;
    Sleep(0x64u);
    sub_4E46A0(&v4 == &v4, v2, a1, (unsigned int)&v8, (int)&v4);
  }
  sub_4E3F40(a1, a2, (int)&String, ".\\Log\\%s%4.4d_%2.2d_%2.2d_%2.2d_%2.2d.txt");
  dword_8C76310 = sub_4E4620(a1, a2, &String, (int)"wt");
  dword_8C76354 = dword_AACD38;
  return sub_4E46A0(1, dword_8C76310, v6, v4, v5);
}
// AACD38: using guessed type int dword_AACD38;
// 8C76310: using guessed type int dword_8C76310;
// 8C76354: using guessed type int dword_8C76354;

//----- (004B77D0) --------------------------------------------------------
int __usercall sub_4B77D0<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4)
{
  int v4; // eax@8
  int v5; // eax@8
  char v7; // [sp+0h] [bp-5Ch]@8
  int v8; // [sp+4h] [bp-58h]@8
  int v9; // [sp+8h] [bp-54h]@8
  char v10; // [sp+Ch] [bp-50h]@1
  char v11; // [sp+4Ch] [bp-10h]@3
  int v12; // [sp+5Ch] [bp+0h]@8

  memset(&v10, -858993460, 0x50u);
  if ( a3 <= 0 || a3 >= 1000 )
  {
    if ( a3 < 0 || a3 >= 12800 )
      sub_4E3F40(a1, a2, (int)&String, "index:%d");
    else
      sub_4E3F40(a1, a2, (int)&String, "mob:%d name:%s");
  }
  else
  {
    sub_4E4810(&v11, &byte_752BAD8[3160 * a3], 0x10u);
    byte_752BAE7[3160 * a3] = 0;
    byte_752BAE6[3160 * a3] = 0;
    sub_4E3F40(a1, a2, (int)&String, "conn:%d mode:%d name:%s");
  }
  sub_4E4730((int)&String, a4);
  Log(&String, "-system", 0);
  v4 = SetWindowTextA(hWnd, &String);
  v5 = sub_4E46A0(&v7 == &v7, v4, a1, (unsigned int)&v12, (int)&v7);
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);

//----- (004B7950) --------------------------------------------------------
int __usercall sub_4B7950<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v4; // eax@3
  int v5; // eax@3
  char v7; // [sp+0h] [bp-ECCh]@2
  int v8; // [sp+4h] [bp-EC8h]@3
  int v9; // [sp+8h] [bp-EC4h]@3
  char v10; // [sp+Ch] [bp-EC0h]@1
  const CHAR String; // [sp+4Ch] [bp-E80h]@3
  char v12; // [sp+4CCh] [bp-A00h]@1
  char v13; // [sp+6CAh] [bp-802h]@1
  char v14; // [sp+6CBh] [bp-801h]@1
  char v15; // [sp+6CCh] [bp-800h]@1
  char v16; // [sp+8CAh] [bp-602h]@1
  char v17; // [sp+8CBh] [bp-601h]@1
  char v18; // [sp+8CCh] [bp-600h]@1
  char v19; // [sp+ACCh] [bp-400h]@1
  int v20; // [sp+ECCh] [bp+0h]@3

  memset(&v10, -858993460, 0xEC0u);
  sub_4E3F40(a1, a2, (int)&v18, "%2.2d%2.2d%2.2d,%2.2d%2.2d%2.2d,%8.8x");
  sub_4E7850((int)&v15, a3, 0x1FFu);
  v16 = 0;
  v17 = 0;
  sub_4E7850((int)&v12, a4, 0x1FFu);
  v13 = 0;
  v14 = 0;
  sub_4E3F40(a1, a2, (int)&v19, "%s,%s,%s \n");
  if ( dword_8C76314 )
    sub_4E5440(a1, a2, dword_8C76314, (int)&v19, v7);
  sub_4E3F40(a1, a2, (int)&String, "%d-%d %s");
  v4 = SetWindowTextA(hWnd, &String);
  v5 = sub_4E46A0(&v7 == &v7, v4, a1, (unsigned int)&v20, (int)&v7);
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 8C76314: using guessed type int dword_8C76314;

//----- (004B7B00) --------------------------------------------------------
int __usercall sub_4B7B00<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v4; // eax@3
  int v5; // eax@3
  char v7; // [sp+0h] [bp-E64h]@2
  int v8; // [sp+4h] [bp-E60h]@16
  int v9; // [sp+8h] [bp-E5Ch]@16
  char v10; // [sp+Ch] [bp-E58h]@1
  int v11; // [sp+4Ch] [bp-E18h]@8
  int v12; // [sp+50h] [bp-E14h]@9
  __int16 v13; // [sp+54h] [bp-E10h]@9
  char v14; // [sp+5Ch] [bp-E08h]@11
  int v15; // [sp+1DCh] [bp-C88h]@6
  int i; // [sp+1E0h] [bp-C84h]@3
  const CHAR String; // [sp+1E4h] [bp-C80h]@3
  char v18; // [sp+664h] [bp-800h]@1
  char v19; // [sp+862h] [bp-602h]@1
  char v20; // [sp+863h] [bp-601h]@1
  char v21; // [sp+864h] [bp-600h]@1
  char v22; // [sp+A62h] [bp-402h]@1
  char v23; // [sp+A63h] [bp-401h]@1
  char v24; // [sp+A64h] [bp-400h]@1
  char v25; // [sp+BE0h] [bp-284h]@10
  char v26; // [sp+BE1h] [bp-283h]@10
  int v27; // [sp+E64h] [bp+0h]@3

  memset(&v10, -858993460, 0xE58u);
  sub_4E3F40(a1, a2, (int)&v24, "%2.2d%2.2d%2.2d,%2.2d%2.2d%2.2d,%8.8x");
  sub_4E7850((int)&v21, a3, 0x1FFu);
  v22 = 0;
  v23 = 0;
  sub_4E7850((int)&v18, a4, 0x1FFu);
  v19 = 0;
  v20 = 0;
  sub_4E3F40(a1, a2, (int)&v24, "%s,%s,%s \n");
  if ( dword_8C76310 )
    sub_4E5440(a1, a2, dword_8C76310, (int)&v24, v7);
  sub_4E3F40(a1, a2, (int)&String, "%d-%d %s");
  v4 = SetWindowTextA(hWnd, &String);
  v5 = sub_4E46A0(&v7 == &v7, v4, a1, (unsigned int)&v27, (int)&v7);
  for ( i = 0; i < 10; ++i )
  {
    v15 = dword_8C75F20[i];
    if ( v15 && dword_752BAF8[790 * v15] )
    {
      v11 = sub_4E4B50((int)&v24);
      if ( v11 <= 124 )
      {
        LOWORD(v12) = 140;
        v13 = 988;
        sub_4E4810(&v14, &v24, 0x80u);
      }
      else
      {
        LOWORD(v12) = 396;
        v13 = 989;
        if ( v11 > 380 )
        {
          v25 = 0;
          v26 = 0;
        }
        sub_4E4810(&v14, &v24, 0x180u);
      }
      sub_401203(&v12, (unsigned __int16)v12);
      if ( dword_752BB04[790 * v15] >= 1024 )
        sub_4019FB(&dword_752BAF8[790 * v15]);
    }
    v5 = i + 1;
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 4019FB: using guessed type int __thiscall sub_4019FB(_DWORD);
// 752BAF8: using guessed type int dword_752BAF8[];
// 752BB04: using guessed type int dword_752BB04[];
// 8C75F20: using guessed type int dword_8C75F20[];
// 8C76310: using guessed type int dword_8C76310;

//----- (004B7EC0) --------------------------------------------------------
int __cdecl sub_4B7EC0()
{
  char v1; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  memset(&v1, -858993460, 0x44u);
  for ( i = 1; i < 1000; ++i )
  {
    ++dword_8C76194;
    if ( dword_8C76194 >= 1000 )
      dword_8C76194 = 1;
    if ( !dword_752BAF0[790 * dword_8C76194] )
      return dword_8C76194;
  }
  return 0;
}
// 752BAF0: using guessed type int dword_752BAF0[];
// 8C76194: using guessed type int dword_8C76194;

//----- (004B7F60) --------------------------------------------------------
int __cdecl sub_4B7F60()
{
  char v1; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  memset(&v1, -858993460, 0x44u);
  for ( i = 1; i < 6500; ++i )
  {
    if ( !dword_88636A0[13 * i] )
      return i;
  }
  return 0;
}
// 88636A0: using guessed type int dword_88636A0[];

//----- (004B7FD0) --------------------------------------------------------
int __cdecl sub_4B7FD0()
{
  char v1; // [sp+Ch] [bp-4Ch]@1
  int v2; // [sp+4Ch] [bp-Ch]@3
  int v3; // [sp+50h] [bp-8h]@3
  int v4; // [sp+54h] [bp-4h]@3

  memset(&v1, -858993460, 0x4Cu);
  if ( dword_5A1094[0] >= 12800 )
    dword_5A1094[0] = 1000;
  v4 = 11800;
  v3 = dword_5A1094[0];
  v2 = 0;
  while ( v2 < v4 )
  {
    if ( v3 < 12800 )
    {
      if ( !dword_1FDF1D4[431 * v3] )
      {
        dword_5A1094[0] = v3;
        return v3;
      }
    }
    else
    {
      v3 = 1000;
    }
    ++v2;
    ++v3;
  }
  return 0;
}
// 5A1094: using guessed type int dword_5A1094[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];

//----- (004B80A0) --------------------------------------------------------
int __usercall sub_4B80A0<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@8
  char v5; // [sp+0h] [bp-58h]@0
  int v6; // [sp+4h] [bp-54h]@0
  int v7; // [sp+8h] [bp-50h]@0
  char v8; // [sp+Ch] [bp-4Ch]@1
  int j; // [sp+4Ch] [bp-Ch]@11
  int i; // [sp+50h] [bp-8h]@2
  LPCSTR lpMultiByteStr; // [sp+54h] [bp-4h]@2
  int v12; // [sp+58h] [bp+0h]@2

  memset(&v8, -858993460, 0x4Cu);
  if ( *(_BYTE *)a3 == 43 )
  {
    lpMultiByteStr = (LPCSTR)(a3 + 1);
    sub_4E8E60(a1, (int)&v12, a2, (LPCSTR)(a3 + 1));
    for ( i = 1; i < 1000; ++i )
    {
      if ( dword_1FDF1D4[431 * i]
        && dword_752BAF0[790 * i] == 22
        && !sub_4E4D80((int)lpMultiByteStr, (int)&byte_752BAD8[3160 * i]) )
      {
        v3 = i;
        return sub_4E46A0(1, v3, v7, v5, v6);
      }
    }
    v3 = 0;
  }
  else
  {
    for ( j = 1; j < 1000; ++j )
    {
      if ( dword_1FDF1D4[431 * j] && dword_752BAF0[790 * j] == 22 && !sub_4E4D80(a3, (int)&byte_1FDECA0[1724 * j]) )
      {
        v3 = j;
        return sub_4E46A0(1, v3, v7, v5, v6);
      }
    }
    v3 = 0;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004B8240) --------------------------------------------------------
int __usercall sub_4B8240<eax>(int a1<ebx>, int a2<esi>, signed int a3)
{
  int v3; // eax@14
  int v4; // eax@32
  char v6; // [sp+0h] [bp-954h]@32
  int v7; // [sp+4h] [bp-950h]@38
  int v8; // [sp+8h] [bp-94Ch]@38
  char v9; // [sp+Ch] [bp-948h]@1
  char v10; // [sp+4Ch] [bp-908h]@37
  __int16 v11; // [sp+50h] [bp-904h]@37
  __int16 v12; // [sp+52h] [bp-902h]@37
  char *v13; // [sp+58h] [bp-8FCh]@31
  int i; // [sp+5Ch] [bp-8F8h]@29
  int v15; // [sp+60h] [bp-8F4h]@27
  char v16; // [sp+64h] [bp-8F0h]@27
  __int16 v17; // [sp+68h] [bp-8ECh]@22
  __int16 v18; // [sp+6Ah] [bp-8EAh]@27
  int v19; // [sp+70h] [bp-8E4h]@25
  char v20; // [sp+74h] [bp-8E0h]@27
  char v21; // [sp+368h] [bp-5ECh]@27
  int v22; // [sp+768h] [bp-1ECh]@27
  char v23; // [sp+76Ch] [bp-1E8h]@27
  char v24; // [sp+77Ch] [bp-1D8h]@27
  char v25; // [sp+78Ch] [bp-1C8h]@27
  char v26; // [sp+82Ch] [bp-128h]@27
  int v27; // [sp+94Ch] [bp-8h]@17
  int v28; // [sp+950h] [bp-4h]@12

  memset(&v9, -858993460, 0x948u);
  sub_4011BD(a3);
  if ( dword_752BAF0[790 * a3] == 22
    && dword_1FDF1F4[431 * a3] >= 0
    && dword_1FDF1F4[431 * a3] < 4096
    && dword_1FDF1F8[431 * a3] >= 0
    && dword_1FDF1F8[431 * a3] < 4096 )
    *(&word_34EA550[4096 * dword_1FDF1F8[431 * a3]] + dword_1FDF1F4[431 * a3]) = 0;
  dword_752C460[790 * a3] = 0;
  if ( dword_752C3C4[790 * a3] )
    sub_401979(a3, &byte_752BAD8[3160 * a3], 2u, 0);
  if ( dword_752BAF8[790 * a3] )
  {
    sub_4E3F40(a1, a2, (int)&String, "clo,fd %d-%d conn:%d");
    Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
    if ( dword_752C4BC[790 * a3] )
    {
      sub_4E3F40(a1, a2, (int)&String, "pcr,Logout fd %d");
      sub_401177(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
    }
  }
  sub_401410(&dword_752BAF8[790 * a3]);
  LOWORD(dword_1FDECFC[431 * a3]) = LOWORD(dword_1FDF2C8[431 * a3]);
  v28 = dword_752BAF0[790 * a3];
  if ( v28 && v28 != 1 )
  {
    if ( v28 != 22 && v28 != 24 )
    {
      v11 = 2053;
      v12 = a3;
      sub_40132A(&v10, 12);
      dword_1FDF1D4[431 * a3] = 0;
      v3 = sub_4012AD(&byte_752BAD8[3160 * a3]);
    }
    else
    {
      sub_4013CF(a3, 0);
      v3 = (unsigned __int16)word_752BFE6[1580 * a3];
      v27 = v3;
      if ( v3 > 0 )
      {
        if ( v27 < 1000 )
        {
          if ( dword_752BAF0[790 * v27] == 22 )
          {
            v3 = (unsigned __int16)word_752BFE6[1580 * v27];
            if ( v3 == a3 )
              v3 = sub_40164F(v27);
          }
        }
      }
      word_752BFE6[1580 * a3] = 0;
      v17 = 2054;
      if ( a3 >= 0 && a3 <= 12800 )
      {
        v19 = dword_752BAE8[790 * a3];
        if ( v19 >= 0 || v19 < 4 )
        {
          LOWORD(dword_1FDECFC[431 * a3]) = LOWORD(dword_1FDF2C8[431 * a3]);
          memcpy(&v20, &byte_1FDECA0[1724 * a3], 0x2F4u);
          sub_4E4810((char *)&unk_1FDEFB4 + 1724 * a3, &byte_1FDF154[1724 * a3], 0x80u);
          memcpy(&v25, &dword_1FDEF94[431 * a3], 0xA0u);
          memcpy(&v26, &byte_1FDF034[1724 * a3], 0x120u);
          sub_4E4810(&v21, &dword_752BB44[790 * a3], 0x400u);
          sub_4E4810(&v23, (char *)&unk_752C3EC + 3160 * a3, 0x10u);
          sub_4E7850((int)&v24, (int)&byte_752BAD8[3160 * a3], 0x10u);
          v22 = dword_752BF44[790 * a3];
          v18 = a3;
          v15 = sub_401203(&v16, 2280);
          if ( v15 )
          {
            sub_4019FB(&unk_BDEA50);
          }
          else
          {
            for ( i = 0; i < 5; ++i )
            {
              v13 = &byte_8C76358;
              v15 = sub_4016F4(&byte_54F20E0, dword_54F20DC, *(_DWORD *)&byte_8C76358, 0x402u);
              if ( v15 )
                break;
              Sleep(0x64u);
              sub_4E46A0(&v6 == &v6, v4, a1, (unsigned int)&v27, (int)&v6);
            }
            if ( i == 5 )
            {
              Log("err,critical!!! - close user fail ", &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
            }
            else
            {
              sub_4019FB(&unk_BDEA50);
              sub_401203(&v16, 2280);
            }
          }
          dword_752BAF0[790 * a3] = 24;
          v3 = sub_401B90(a3, 2);
          dword_752C0C4[790 * a3] = 0;
        }
      }
      else
      {
        v3 = sub_4010EB(a3, " SaveAndQuitMobidx");
      }
    }
  }
  else
  {
    v3 = sub_4012AD(&byte_752BAD8[3160 * a3]);
  }
  return sub_4E46A0(1, v3, v8, v6, v7);
}
// 4010EB: using guessed type _DWORD __cdecl sub_4010EB(_DWORD, _DWORD);
// 401177: using guessed type _DWORD __cdecl sub_401177(_DWORD, _DWORD, _DWORD);
// 4011BD: using guessed type _DWORD __cdecl sub_4011BD(_DWORD);
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 4012AD: using guessed type int __thiscall sub_4012AD(_DWORD);
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 4013CF: using guessed type _DWORD __cdecl sub_4013CF(_DWORD, _DWORD);
// 401410: using guessed type int __thiscall sub_401410(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40164F: using guessed type _DWORD __cdecl sub_40164F(_DWORD);
// 4016F4: using guessed type _DWORD __stdcall sub_4016F4(char *cp, u_short hostshort, _DWORD, u_int wMsg);
// 401979: using guessed type _DWORD __cdecl sub_401979(_DWORD, _DWORD, u_long hostlong, _DWORD);
// 4019FB: using guessed type int __thiscall sub_4019FB(_DWORD);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDEF94: using guessed type int dword_1FDEF94[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF2C8: using guessed type int dword_1FDF2C8[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 54F20DC: using guessed type int dword_54F20DC;
// 54F20E0: using guessed type char byte_54F20E0;
// 752BAE8: using guessed type int dword_752BAE8[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF8: using guessed type int dword_752BAF8[];
// 752BB44: using guessed type int dword_752BB44[];
// 752BF44: using guessed type int dword_752BF44[];
// 752BFE6: using guessed type __int16 word_752BFE6[];
// 752C0C4: using guessed type int dword_752C0C4[];
// 752C3C4: using guessed type int dword_752C3C4[];
// 752C460: using guessed type int dword_752C460[];
// 752C4BC: using guessed type int dword_752C4BC[];
// 8C76358: using guessed type char byte_8C76358;

//----- (004B8B80) --------------------------------------------------------
int __usercall sub_4B8B80<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@3
  char v5; // [sp+0h] [bp-54h]@0
  int v6; // [sp+4h] [bp-50h]@0
  int v7; // [sp+8h] [bp-4Ch]@0
  char v8; // [sp+Ch] [bp-48h]@1
  int v9; // [sp+4Ch] [bp-8h]@9
  int v10; // [sp+50h] [bp-4h]@1

  memset(&v8, -858993460, 0x48u);
  sub_4E3F40(a1, a2, (int)&String, "./%s/%s");
  v10 = sub_4E8220(a1, a2, &String, -32768, 0);
  if ( v10 == -1 )
  {
    switch ( dword_A969A60 )
    {
      case 22:
        sub_4E3F40(a1, a2, (int)&String, "err,ReadMob EEXIST %s");
        Log(&String, "-system", 0);
        v3 = 0;
        break;
      case 24:
        sub_4E3F40(a1, a2, (int)&String, "err,ReadMob EMFILE %s");
        Log(&String, "-system", 0);
        v3 = 0;
        break;
      case 2:
        sub_4E3F40(a1, a2, (int)&String, "err,ReadMob ENOENTN %s");
        Log(&String, "-system", 0);
        v3 = 0;
        break;
      default:
        sub_4E3F40(a1, a2, (int)&String, "ReadMob UNKNOWN");
        Log(&String, "-system", 0);
        v3 = 0;
        break;
    }
  }
  else
  {
    sub_4E4720((int)&String);
    v9 = sub_4E7A20(v10, a3, 0x2F4u);
    if ( v9 == -1 )
    {
      sub_4E7E80(v10);
      v3 = 0;
    }
    else
    {
      sub_4E7E80(v10);
      sub_4E4720(a3);
      sub_40186B(a3);
      memcpy((void *)(a3 + 36), (const void *)(a3 + 64), 0x1Cu);
      v3 = 1;
    }
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40186B: using guessed type _DWORD __cdecl sub_40186B(_DWORD);
// A969A60: using guessed type int dword_A969A60;

//----- (004B8DC0) --------------------------------------------------------
int __usercall sub_4B8DC0<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4)
{
  int v4; // eax@4
  char v6; // [sp+0h] [bp-C0h]@0
  int v7; // [sp+4h] [bp-BCh]@0
  int v8; // [sp+8h] [bp-B8h]@0
  char v9; // [sp+Ch] [bp-B4h]@1
  int v10; // [sp+4Ch] [bp-74h]@36
  __int16 v11; // [sp+50h] [bp-70h]@35
  __int16 v12; // [sp+54h] [bp-6Ch]@35
  __int16 v13; // [sp+56h] [bp-6Ah]@35
  __int16 v14; // [sp+5Ch] [bp-64h]@35
  int v15; // [sp+60h] [bp-60h]@35
  int v16; // [sp+64h] [bp-5Ch]@35
  __int16 v17; // [sp+68h] [bp-58h]@34
  __int16 v18; // [sp+6Ch] [bp-54h]@34
  __int16 v19; // [sp+6Eh] [bp-52h]@34
  int v20; // [sp+74h] [bp-4Ch]@34
  __int16 v21; // [sp+78h] [bp-48h]@34
  char v22; // [sp+7Ah] [bp-46h]@34
  int v23; // [sp+7Ch] [bp-44h]@26
  int v24; // [sp+80h] [bp-40h]@26
  __int16 v25; // [sp+84h] [bp-3Ch]@19
  __int16 v26; // [sp+88h] [bp-38h]@19
  __int16 v27; // [sp+8Ah] [bp-36h]@19
  int v28; // [sp+90h] [bp-30h]@19
  __int16 v29; // [sp+94h] [bp-2Ch]@19
  char v30; // [sp+96h] [bp-2Ah]@19
  int v31; // [sp+98h] [bp-28h]@14
  int v32; // [sp+9Ch] [bp-24h]@9
  int v33; // [sp+A0h] [bp-20h]@9
  int v34; // [sp+A4h] [bp-1Ch]@9
  int v35; // [sp+A8h] [bp-18h]@18
  char v36; // [sp+ACh] [bp-14h]@18
  __int16 v37; // [sp+B0h] [bp-10h]@8
  __int16 v38; // [sp+B4h] [bp-Ch]@8
  __int16 v39; // [sp+B6h] [bp-Ah]@8
  int v40; // [sp+BCh] [bp-4h]@8

  memset(&v9, -858993460, 0xB4u);
  if ( dword_1FDF27C[431 * a3] != 450 && dword_1FDF27C[431 * a3] != 475 || a4 != 3 )
  {
    if ( sub_401BE5(&byte_1FDECA0[1724 * a3]) && a4 == 3 )
    {
      sub_4E3F40(a1, a2, (int)&String, "sys,err khepra delete ");
      v4 = Log(&String, "-system", 0);
    }
    else
    {
      v38 = 357;
      v37 = 16;
      v39 = a3;
      v40 = a4;
      v4 = sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v37, a3);
      if ( a4 )
      {
        v34 = LOWORD(dword_1FDECFC[431 * a3]);
        v33 = dword_1FDF1F4[431 * a3];
        v32 = dword_1FDF1F8[431 * a3];
        if ( v34 != 220 || v33 <= 0 || v33 >= 4096 || v32 <= 0 || v32 >= 4096 )
        {
          if ( v34 == 358 && v33 > 0 && v33 < 4096 && v32 > 0 && v32 < 4096 )
          {
            v24 = (unsigned __int16)*(&word_54F8194[4096 * dword_1FDF1F8[431 * a3]] + dword_1FDF1F4[431 * a3]);
            v23 = 0;
            if ( v24 >= 0 && v24 < 6500 && dword_88636A0[13 * v24] )
              v23 = word_8863698[26 * v24];
            else
              v23 = 0;
            if ( v23 == 359 )
            {
              v35 = sub_401A14(v24, 1, &v36);
              if ( v35 )
              {
                v19 = 30000;
                v18 = 884;
                v20 = v24 + 15000;
                v17 = 20;
                v22 = v36;
                v21 = LOWORD(dword_88636B0[13 * v24]);
                sub_4014FB(dword_88636A4[13 * v24], dword_88636A8[13 * v24], &v17, 0);
                dword_88636B8[13 * v24] = 0;
              }
              v16 = dword_88636A4[13 * v24];
              v15 = dword_88636A8[13 * v24];
              sub_40173A(&word_8863698[26 * v24]);
              *(&word_54F8194[4096 * v15] + v16) = 0;
              dword_88636A0[13 * v24] = 0;
              v12 = 367;
              v11 = 16;
              v13 = 30000;
              v14 = v24 + 15000;
              sub_4014FB(v16, v15, &v11, 0);
            }
            else
            {
              Log("err,no vine soul to open", "-system", 0);
            }
          }
        }
        else
        {
          v31 = (unsigned __int16)*(&word_54F8194[4096 * v32] + v33);
          if ( v31 >= 0 && v31 < 6500 && dword_88636A0[13 * v31] )
          {
            v35 = sub_401A14(v31, 1, &v36);
            if ( v35 )
            {
              v27 = 30000;
              v26 = 884;
              v28 = v31 + 15000;
              v25 = 20;
              v30 = v36;
              v29 = LOWORD(dword_88636B0[13 * v31]);
              sub_4014FB(dword_88636A4[13 * v31], dword_88636A8[13 * v31], &v25, 0);
              dword_88636B8[13 * v31] = 0;
            }
          }
          else
          {
            Log("err,no castle gate to open", "-system", 0);
          }
        }
        v10 = dword_1FDF27C[431 * a3];
        if ( a3 >= 1000 )
        {
          if ( v10 >= 0 )
          {
            if ( v10 < 7000 )
            {
              --dword_BDEAAC[748 * v10];
              if ( dword_BDEAAC[748 * v10] < 0 )
                dword_BDEAAC[748 * v10] = 0;
            }
          }
        }
        if ( sub_401BE5(&byte_1FDECA0[1724 * a3]) )
        {
          sub_4E3F40(a1, a2, (int)&String, "sys,khepra delete type : %d, %d");
          Log(&String, "-system", 0);
        }
        sub_401078(a3);
        dword_1FDF1D4[431 * a3] = 0;
        *(&word_34EA550[4096 * dword_1FDF1F8[431 * a3]] + dword_1FDF1F4[431 * a3]) = 0;
        v4 = sub_4013CF(a3, 0);
      }
    }
  }
  else
  {
    sub_4E3F40(a1, a2, (int)&String, "sys,err king delete %d");
    v4 = Log(&String, "-system", 0);
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 401078: using guessed type _DWORD __cdecl sub_401078(_DWORD);
// 4013CF: using guessed type _DWORD __cdecl sub_4013CF(_DWORD, _DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40173A: using guessed type _DWORD __cdecl sub_40173A(_DWORD);
// 401A14: using guessed type _DWORD __cdecl sub_401A14(_DWORD, _DWORD, _DWORD);
// 401BE5: using guessed type int __thiscall sub_401BE5(_DWORD);
// BDEAAC: using guessed type int dword_BDEAAC[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 54F8194: using guessed type __int16 word_54F8194[];
// 8863698: using guessed type __int16 word_8863698[];
// 88636A0: using guessed type int dword_88636A0[];
// 88636A4: using guessed type int dword_88636A4[];
// 88636A8: using guessed type int dword_88636A8[];
// 88636B0: using guessed type int dword_88636B0[];
// 88636B8: using guessed type int dword_88636B8[];

//----- (004B9480) --------------------------------------------------------
int __cdecl sub_4B9480(int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-93Ch]@0
  int v5; // [sp+4h] [bp-938h]@0
  int v6; // [sp+8h] [bp-934h]@0
  char v7; // [sp+Ch] [bp-930h]@1
  int v8; // [sp+4Ch] [bp-8F0h]@1
  char v9; // [sp+50h] [bp-8ECh]@1
  __int16 v10; // [sp+54h] [bp-8E8h]@1
  __int16 v11; // [sp+56h] [bp-8E6h]@1
  int v12; // [sp+5Ch] [bp-8E0h]@1
  char v13; // [sp+60h] [bp-8DCh]@1
  __int16 v14; // [sp+BCh] [bp-880h]@1
  char v15; // [sp+354h] [bp-5E8h]@1
  int v16; // [sp+754h] [bp-1E8h]@1
  char v17; // [sp+758h] [bp-1E4h]@1
  char v18; // [sp+768h] [bp-1D4h]@1
  int v19; // [sp+778h] [bp-1C4h]@1
  char v20; // [sp+77Ch] [bp-1C0h]@1
  char v21; // [sp+81Ch] [bp-120h]@1

  memset(&v7, -858993460, 0x930u);
  v10 = 2055;
  v12 = dword_752BAE8[790 * a1];
  memcpy(&v13, &byte_1FDECA0[1724 * a1], 0x2F4u);
  v14 = LOWORD(dword_1FDF2C8[431 * a1]);
  sub_4E4810((char *)&unk_1FDEFB4 + 1724 * a1, &byte_1FDF154[1724 * a1], 0x80u);
  memcpy(&v20, &dword_1FDEF94[431 * a1], 0xA0u);
  memcpy(&v21, &byte_1FDF034[1724 * a1], 0x120u);
  sub_4E4810(&v15, &dword_752BB44[790 * a1], 0x400u);
  v16 = dword_752BF44[790 * a1];
  v11 = a1;
  v19 = a2;
  sub_4E7850((int)&v18, (int)&byte_752BAD8[3160 * a1], 0x10u);
  sub_4E4810(&v17, (char *)&unk_752C3EC + 3160 * a1, 0x10u);
  v2 = sub_40132A(&v9, 2284);
  v8 = v2;
  if ( !v2 )
    v2 = Log("err,critical!!! - save user fail ", &byte_752BAD8[3160 * a1], dword_752BAEC[790 * a1]);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 1FDEF94: using guessed type int dword_1FDEF94[];
// 1FDF2C8: using guessed type int dword_1FDF2C8[];
// 752BAE8: using guessed type int dword_752BAE8[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BB44: using guessed type int dword_752BB44[];
// 752BF44: using guessed type int dword_752BF44[];

//----- (004B96C0) --------------------------------------------------------
int __usercall sub_4B96C0<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@4
  char v5; // [sp+0h] [bp-50h]@0
  int v6; // [sp+4h] [bp-4Ch]@0
  int v7; // [sp+8h] [bp-48h]@0
  char v8; // [sp+Ch] [bp-44h]@1
  int v9; // [sp+4Ch] [bp-4h]@8

  memset(&v8, -858993460, 0x44u);
  if ( dword_8C762E4 == a3 )
    dword_8C762E4 = 0;
  if ( dword_752BAF0[790 * a3] == 22 )
  {
    sub_4E3F40(a1, a2, (int)&String, "sys, Logout Char %s money:%d, Store :%d, conn:%d ");
    Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
    if ( dword_752C3C4[790 * a3] && !dword_8C762BC )
      sub_401979(a3, &byte_752BAD8[3160 * a3], 2u, 0);
    LOWORD(dword_1FDECFC[431 * a3]) = LOWORD(dword_1FDF2C8[431 * a3]);
    v9 = (unsigned __int16)word_752BFE6[1580 * a3];
    if ( v9 > 0 && v9 < 1000 && dword_752BAF0[790 * v9] == 22 && (unsigned __int16)word_752BFE6[1580 * v9] == a3 )
      sub_40164F(v9);
    dword_752BAF0[790 * a3] = 11;
    dword_752C488[790 * a3] = -1;
    dword_1FDF2D4[431 * a3] = 0;
    dword_1FDF2DC[431 * a3] = 0;
    sub_401906(a3, 0);
    sub_401B90(a3, 2);
    dword_1FDF1F4[431 * a3] = (unsigned __int16)word_1FDECC0[862 * a3];
    dword_1FDF1F8[431 * a3] = (unsigned __int16)word_1FDECC2[862 * a3];
    dword_1FDF1D4[431 * a3] = 0;
    if ( a3 == dword_8C762E4 )
      dword_8C762E4 = 0;
    v3 = sub_401663(a3, a3, 278);
  }
  else
  {
    Log("err,char logout - not user_play", "-sys", dword_752BAEC[790 * a3]);
    v3 = sub_401663(a3, a3, 278);
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40164F: using guessed type _DWORD __cdecl sub_40164F(_DWORD);
// 401663: using guessed type _DWORD __cdecl sub_401663(_DWORD, __int16, __int16);
// 401906: using guessed type _DWORD __cdecl sub_401906(_DWORD, _DWORD);
// 401979: using guessed type _DWORD __cdecl sub_401979(_DWORD, _DWORD, u_long hostlong, _DWORD);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 1FDECC0: using guessed type __int16 word_1FDECC0[];
// 1FDECC2: using guessed type __int16 word_1FDECC2[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF2C8: using guessed type int dword_1FDF2C8[];
// 1FDF2D4: using guessed type int dword_1FDF2D4[];
// 1FDF2DC: using guessed type int dword_1FDF2DC[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BFE6: using guessed type __int16 word_752BFE6[];
// 752C3C4: using guessed type int dword_752C3C4[];
// 752C488: using guessed type int dword_752C488[];
// 8C762BC: using guessed type int dword_8C762BC;
// 8C762E4: using guessed type int dword_8C762E4;

//----- (004B9A00) --------------------------------------------------------
int __usercall sub_4B9A00<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-15Ch]@0
  int v5; // [sp+4h] [bp-158h]@0
  int v6; // [sp+8h] [bp-154h]@0
  char v7; // [sp+Ch] [bp-150h]@1
  int i; // [sp+4Ch] [bp-110h]@2
  int v9; // [sp+50h] [bp-10Ch]@1
  char v10; // [sp+54h] [bp-108h]@1
  int v11; // [sp+154h] [bp-8h]@1
  int v12; // [sp+158h] [bp-4h]@1

  memset(&v7, -858993460, 0x150u);
  v12 = 0;
  v11 = 0;
  dword_8C761E4 = 0;
  sub_4E4640(&unk_884F930, 0, 0x13BA0u);
  sub_4E3F40(a1, a2, (int)&v10, "./Quiz.txt");
  v2 = sub_4E4620(a1, a2, &v10, (int)"rt");
  v9 = v2;
  if ( v2 )
  {
    for ( i = 0; i < 200; ++i )
    {
      v12 = sub_4E4400(a1, a2, (int)&String, 255, v9);
      if ( !v12 )
        break;
      v11 = sub_4E4B50((int)&String);
      if ( byte_882F517[v11] == 10 || byte_882F516[v11] == 10 )
        byte_882F517[v11] = 0;
      dword_884FAC0[101 * i] = String == 79 ? 1 : 0;
      v12 = sub_4E4400(a1, a2, (int)&String, 255, v9);
      if ( !v12 )
        break;
      v11 = sub_4E4B50((int)&String);
      if ( byte_882F517[v11] == 10 || byte_882F516[v11] == 10 )
        byte_882F517[v11] = 0;
      sub_4E4720((int)((char *)&unk_884F930 + 404 * i));
      v12 = sub_4E4400(a1, a2, (int)&String, 255, v9);
      if ( !v12 )
        break;
      v11 = sub_4E4B50((int)&String);
      if ( byte_882F517[v11] == 10 || byte_882F516[v11] == 10 )
        byte_882F517[v11] = 0;
      sub_4E4720((int)((char *)&unk_884F994 + 404 * i));
      v12 = sub_4E4400(a1, a2, (int)&String, 255, v9);
      if ( !v12 )
        break;
      v11 = sub_4E4B50((int)&String);
      if ( byte_882F517[v11] == 10 || byte_882F516[v11] == 10 )
        byte_882F517[v11] = 0;
      sub_4E4720((int)((char *)&unk_884F9F8 + 404 * i));
      v12 = sub_4E4400(a1, a2, (int)&String, 255, v9);
      if ( !v12 )
        break;
      v11 = sub_4E4B50((int)&String);
      if ( byte_882F517[v11] == 10 || byte_882F516[v11] == 10 )
        byte_882F517[v11] = 0;
      sub_4E4720((int)((char *)&unk_884FA5C + 404 * i));
    }
    dword_8C761E4 = i;
    v2 = sub_4E4260(a1, a2, v9);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 884FAC0: using guessed type int dword_884FAC0[];
// 8C761E4: using guessed type int dword_8C761E4;

//----- (004B9E60) --------------------------------------------------------
int __usercall sub_4B9E60<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@11
  int v3; // eax@11
  int v4; // eax@24
  char v6; // [sp+0h] [bp-84h]@11
  int v7; // [sp+4h] [bp-80h]@39
  int v8; // [sp+8h] [bp-7Ch]@39
  char v9; // [sp+Ch] [bp-78h]@1
  int v10; // [sp+4Ch] [bp-38h]@31
  char v11; // [sp+50h] [bp-34h]@29
  int v12; // [sp+54h] [bp-30h]@25
  int v13; // [sp+58h] [bp-2Ch]@25
  int v14; // [sp+5Ch] [bp-28h]@20
  __int16 v15; // [sp+60h] [bp-24h]@20
  int m; // [sp+68h] [bp-1Ch]@17
  int l; // [sp+6Ch] [bp-18h]@14
  int v18; // [sp+70h] [bp-14h]@12
  int v19; // [sp+74h] [bp-10h]@10
  int k; // [sp+78h] [bp-Ch]@7
  int j; // [sp+7Ch] [bp-8h]@3
  int i; // [sp+80h] [bp-4h]@1
  int v23; // [sp+84h] [bp+0h]@11

  memset(&v9, -858993460, 0x78u);
  dword_8C76368 = dword_AACD44 - 100;
  dword_8C7636C = dword_AACD4C;
  dword_8C76370 = dword_AACD40 + 1;
  dword_8C76374 = dword_AACD3C;
  dword_8C762AC = dword_AACD48;
  dword_8C762B0 = dword_AACD38;
  dword_8C76378 = dword_AACD34;
  sub_401C80();
  sub_401BF9();
  for ( i = 0; i < 4096; ++i )
  {
    for ( j = 0; j < 4096; ++j )
    {
      *(&word_34EA550[4096 * i] + j) = 0;
      *(&word_54F8194[4096 * i] + j) = 0;
      *(&byte_782F298[4096 * i] + j) = 0;
    }
  }
  for ( k = 0; k < 4; ++k )
    dword_8C76240[k] = 0;
  sub_401B2C("MobName.txt", 0);
  sub_401B2C("MobName.csv", 1);
  sub_401636();
  sub_401B22();
  sub_40160E();
  sub_4E4640(&unk_54EB638, 0, 0x6A50u);
  sub_40104B(&unk_BDEAA0);
  v19 = sub_4E8220(a1, a2, "./heightmap.dat", -32768, 0);
  if ( v19 == -1 )
  {
    Log("err,Load height grid fail", "-system", 0);
    v2 = MessageBoxA(hWnd, "Can't find heightmap.dat", "err", 0x1000u);
    v3 = sub_4E46A0(&v6 == &v6, v2, a1, (unsigned int)&v23, (int)&v6);
  }
  else
  {
    sub_4E7A20(v19, (int)byte_782F298, (DWORD)&unk_1000000);
    sub_4E7E80(v19);
    sub_401028();
    sub_401181(byte_782F298, 4096);
    sub_401C35("Language_wo.txt");
    v18 = sub_4010F5();
    if ( !v18 )
      Log("err,Can't find S:/Settings/Lotto.txt", "-system", 0);
    sub_4011FE();
    sub_4E4640(dword_882F3C4, 0, 0x12Cu);
    sub_4E4640(dword_882F298, 0, 0x12Cu);
    sub_401B4A();
    sub_401C4E(&unk_74F92F0);
    Log("sys,log start", "-system", 0);
    for ( l = 0; l < 3; ++l )
    {
      sub_4013E8((char *)&unk_54EB638 + 9072 * l, off_59BEB0);
      sub_4013E8((char *)&unk_54EB92C + 9072 * l, off_59BEB0);
      sub_4013E8((char *)&unk_54EBC20 + 9072 * l, off_59BEB0);
      sub_4013E8((char *)&unk_54EBF14 + 9072 * l, off_59BEB0);
      sub_4013E8((char *)&unk_54EC208 + 9072 * l, off_59BEB0);
      sub_4013E8((char *)&unk_54EC4FC + 9072 * l, off_59BEB0);
      sub_4013E8((char *)&unk_54EC7F0 + 9072 * l, off_59BEB0);
      sub_4013E8((char *)&unk_54ECAE4 + 9072 * l, off_59BEB0);
      sub_4013E8((char *)&unk_54ECDD8 + 9072 * l, off_59BEB0);
      sub_4013E8((char *)&unk_54ED0CC + 9072 * l, off_59BEB0);
      sub_4013E8((char *)&unk_54ED3C0 + 9072 * l, off_59BEB0);
      sub_4013E8((char *)&unk_54ED6B4 + 9072 * l, off_59BEB0);
    }
    sub_4E4640(&unk_54EA558, 0, 0x8DCu);
    sub_4E4720((int)&unk_54EA558);
    sub_4013E8(&unk_54EA558, off_59BEB0);
    sub_4E4720((int)&unk_54EA84C);
    sub_4013E8(&unk_54EA84C, off_59BEB0);
    sub_4E4720((int)&unk_54EA84C);
    sub_4E4720((int)&unk_54EAB40);
    sub_4013E8(&unk_54EAB40, off_59BEB0);
    sub_4E4720((int)&unk_54EA84C);
    for ( m = 0; m < dword_AACD5C; ++m )
    {
      sub_4E4640(&v15, 0, 8u);
      v15 = word_8B88D4[4 * m];
      v14 = sub_4016EA(word_8B88D0[4 * m], word_8B88D2[4 * m], &v15, word_8B88D6[4 * m], 1, 0);
      if ( v14 < 6500 && v14 > 0 )
      {
        if ( v14 != m + 1 )
        {
          sub_4E3F40(a1, a2, (int)&String, "inititem not match, file:%d, index:%d");
          a2 = (int)&v6;
          v4 = MessageBoxA(hWnd, &String, "Error", 0x1000u);
          sub_4E46A0(&v6 == &v6, v4, a1, (unsigned int)&v23, (int)&v6);
        }
        v13 = sub_40191F(&v15, 39);
        v12 = sub_40191F(&v15, 34);
        if ( v13 && v13 < 15 || v12 == 8 || v12 == 9 )
          sub_401A14(v14, 3, &v11);
      }
    }
    dword_5A10D8 = 4;
    v10 = dword_8C76340 - 1;
    if ( dword_8C76340 - 1 < 0 )
      v10 += 7;
    if ( dword_AACD48 == v10 )
      dword_5A10D8 = 5;
    if ( dword_AACD48 == dword_8C76340 && dword_AACD38 < dword_5A10E4 )
      dword_5A10D8 = 0;
    v3 = sub_4015F5(1);
  }
  return sub_4E46A0(1, v3, v8, v6, v7);
}
// 401028: using guessed type int sub_401028(void);
// 40104B: using guessed type int __thiscall sub_40104B(_DWORD);
// 4010F5: using guessed type int sub_4010F5(void);
// 401181: using guessed type _DWORD __cdecl sub_401181(_DWORD, _DWORD);
// 4011FE: using guessed type int sub_4011FE(void);
// 4013E8: using guessed type _DWORD __cdecl sub_4013E8(_DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4015F5: using guessed type _DWORD __cdecl sub_4015F5(_DWORD);
// 40160E: using guessed type int sub_40160E(void);
// 401636: using guessed type int sub_401636(void);
// 4016EA: using guessed type _DWORD __cdecl sub_4016EA(_DWORD, _DWORD, _DWORD, _DWORD, char, _DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 401A14: using guessed type _DWORD __cdecl sub_401A14(_DWORD, _DWORD, _DWORD);
// 401B22: using guessed type int sub_401B22(void);
// 401B2C: using guessed type _DWORD __cdecl sub_401B2C(_DWORD, _DWORD);
// 401B4A: using guessed type int sub_401B4A(void);
// 401BF9: using guessed type int sub_401BF9(void);
// 401C35: using guessed type _DWORD __cdecl sub_401C35(_DWORD);
// 401C4E: using guessed type int __thiscall sub_401C4E(_DWORD);
// 401C80: using guessed type int sub_401C80(void);
// 59BEB0: using guessed type char *off_59BEB0;
// 5A10D8: using guessed type int dword_5A10D8;
// 5A10E4: using guessed type int dword_5A10E4;
// 8B88D0: using guessed type __int16 word_8B88D0[];
// 8B88D2: using guessed type __int16 word_8B88D2[];
// 8B88D4: using guessed type __int16 word_8B88D4[];
// 8B88D6: using guessed type __int16 word_8B88D6[];
// AACD34: using guessed type int dword_AACD34;
// AACD38: using guessed type int dword_AACD38;
// AACD3C: using guessed type int dword_AACD3C;
// AACD40: using guessed type int dword_AACD40;
// AACD44: using guessed type int dword_AACD44;
// AACD48: using guessed type int dword_AACD48;
// AACD4C: using guessed type int dword_AACD4C;
// AACD5C: using guessed type int dword_AACD5C;
// 34EA550: using guessed type __int16 word_34EA550[];
// 54F8194: using guessed type __int16 word_54F8194[];
// 882F298: using guessed type int dword_882F298[];
// 882F3C4: using guessed type int dword_882F3C4[];
// 8C76240: using guessed type int dword_8C76240[];
// 8C762AC: using guessed type int dword_8C762AC;
// 8C762B0: using guessed type int dword_8C762B0;
// 8C76340: using guessed type int dword_8C76340;
// 8C76368: using guessed type int dword_8C76368;
// 8C7636C: using guessed type int dword_8C7636C;
// 8C76370: using guessed type int dword_8C76370;
// 8C76374: using guessed type int dword_8C76374;
// 8C76378: using guessed type int dword_8C76378;

//----- (004BA630) --------------------------------------------------------
int __cdecl sub_4BA630()
{
  int result; // eax@1
  char v1; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  result = -858993460;
  memset(&v1, -858993460, 0x44u);
  for ( i = 0; i < dword_5A10F0; ++i )
  {
    dword_594DD4[21 * i] = 0;
    dword_34EA4EC[i] = 0;
    result = i + 1;
  }
  return result;
}
// 594DD4: using guessed type int dword_594DD4[];
// 5A10F0: using guessed type int dword_5A10F0;
// 34EA4EC: using guessed type int dword_34EA4EC[];

//----- (004BA6B0) --------------------------------------------------------
int __usercall sub_4BA6B0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@4
  char v4; // [sp+0h] [bp-154h]@0
  int v5; // [sp+4h] [bp-150h]@0
  int v6; // [sp+8h] [bp-14Ch]@0
  char v7; // [sp+Ch] [bp-148h]@1
  int i; // [sp+4Ch] [bp-108h]@5
  int v9; // [sp+50h] [bp-104h]@1
  char v10; // [sp+54h] [bp-100h]@1
  int v11; // [sp+154h] [bp+0h]@7

  memset(&v7, -858993460, 0x148u);
  sub_401172();
  sub_4E3F40(a1, a2, (int)&v10, "S:/Settings/Chall_%2.2d_%2.2d.txt");
  v9 = sub_4E4620(a1, a2, &v10, (int)"rt");
  if ( !v9 )
    v9 = sub_4E4620(a1, a2, "Chall.txt", (int)"rt");
  if ( v9 )
  {
    for ( i = 0; i < dword_5A10F0; ++i )
      sub_4E7990(a1, (int)&v11, a2, v9, "%d", (unsigned int)dword_34EA4EC + 4 * i);
    v2 = sub_4E4260(a1, a2, v9);
  }
  else
  {
    v2 = Log("err,reading chall.txt - can't open.txt", "-system", 0);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401172: using guessed type int sub_401172(void);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 5A10F0: using guessed type int dword_5A10F0;
// 34EA4EC: using guessed type int dword_34EA4EC[];

//----- (004BA810) --------------------------------------------------------
int __usercall sub_4BA810<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@4
  char v4; // [sp+0h] [bp-154h]@0
  int v5; // [sp+4h] [bp-150h]@0
  int v6; // [sp+8h] [bp-14Ch]@0
  char v7; // [sp+Ch] [bp-148h]@1
  int i; // [sp+4Ch] [bp-108h]@5
  int v9; // [sp+50h] [bp-104h]@1
  char v10; // [sp+54h] [bp-100h]@1

  memset(&v7, -858993460, 0x148u);
  sub_4E3F40(a1, a2, (int)&v10, "S:/Settings/Chall_%2.2d_%2.2d.txt");
  v9 = sub_4E4620(a1, a2, &v10, (int)"wt");
  if ( !v9 )
    v9 = sub_4E4620(a1, a2, "Chall.txt", (int)"wt");
  if ( v9 )
  {
    for ( i = 0; i < dword_5A10F0; ++i )
    {
      sub_4E5440(a1, a2, v9, (int)"%d ", dword_34EA4EC[i]);
      sub_4E5440(a1, a2, v9, (int)"\n", v4);
    }
    v2 = sub_4E4260(a1, a2, v9);
  }
  else
  {
    v2 = Log("err,writing chall.txt - can't open for write", "-system", 0);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 5A10F0: using guessed type int dword_5A10F0;
// 34EA4EC: using guessed type int dword_34EA4EC[];

//----- (004BA980) --------------------------------------------------------
int __cdecl sub_4BA980(signed int a1, signed int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-74h]@0
  int v5; // [sp+4h] [bp-70h]@0
  int v6; // [sp+8h] [bp-6Ch]@0
  char v7; // [sp+Ch] [bp-68h]@1
  int v8; // [sp+4Ch] [bp-28h]@42
  int v9; // [sp+50h] [bp-24h]@42
  int v10; // [sp+54h] [bp-20h]@35
  int i; // [sp+58h] [bp-1Ch]@32
  int v12; // [sp+5Ch] [bp-18h]@26
  int v13; // [sp+60h] [bp-14h]@26
  int v14; // [sp+64h] [bp-10h]@23
  int v15; // [sp+68h] [bp-Ch]@23
  int v16; // [sp+6Ch] [bp-8h]@17
  int v17; // [sp+70h] [bp-4h]@15

  v2 = -858993460;
  memset(&v7, -858993460, 0x68u);
  if ( a1 > 0 )
  {
    if ( a2 > 0 )
    {
      if ( a1 < 12800 )
      {
        if ( a2 < 12800 )
        {
          v2 = 1724 * a1;
          if ( dword_1FDF1D4[431 * a1] )
          {
            if ( dword_1FDF1D4[431 * a2] && (a1 >= 1000 || dword_752BAF0[790 * a1] == 22) )
            {
              v2 = 1724 * a1;
              if ( dword_1FDF1F4[431 * a1] >= dword_1FDF1F4[431 * a2] - 33 )
              {
                v2 = 1724 * a1;
                if ( dword_1FDF1F4[431 * a1] <= dword_1FDF1F4[431 * a2] + 33 )
                {
                  v2 = 1724 * a1;
                  if ( dword_1FDF1F8[431 * a1] >= dword_1FDF1F8[431 * a2] - 33 )
                  {
                    v2 = 1724 * a1;
                    if ( dword_1FDF1F8[431 * a1] <= dword_1FDF1F8[431 * a2] + 33 )
                    {
                      v17 = dword_1FDF1D8[431 * a1];
                      if ( !v17 )
                        v17 = a1;
                      v2 = 1724 * a2;
                      v16 = dword_1FDF1D8[431 * a2];
                      if ( !v16 )
                        v16 = a2;
                      if ( v17 >= 1000
                        || v16 >= 1000
                        || (v2 = 3160 * v17, dword_752C430[790 * v17] == 1) && dword_752C430[790 * v16] == 1
                        || (v2 = dword_1FDF1F4[431 * v17] >> 7,
                            v15 = dword_1FDF1F4[431 * v17] >> 7,
                            v14 = dword_1FDF1F8[431 * v17] >> 7,
                            dword_8C76348)
                        && (v15 == 8 || v14 == 13)
                        || (v13 = (unsigned __int16)word_1FDECB2[862 * v16],
                            v2 = (unsigned __int16)word_1FDECB2[862 * v17],
                            v12 = v2,
                            (unsigned __int16)word_750BAC4[v2] == v13)
                        && (v2 = v13, (unsigned __int16)word_750BAC4[v13] == v12)
                        && v13
                        && v12
                        || dword_752C430[790 * v17] == 1 )
                      {
                        if ( dword_8C764C8 )
                        {
                          for ( i = 0; i < 6; ++i )
                          {
                            if ( i > 3 )
                            {
                              v2 = i;
                              v10 = dword_8C764CC[i];
                            }
                            else
                            {
                              v10 = dword_8C76514[i];
                            }
                            if ( dword_1FDF274[431 * a2] == 1 && (v2 = v10, v10 == a2)
                              || dword_1FDF274[431 * a1] == 1 && v10 == a1 )
                              return sub_4E46A0(1, v2, v6, v4, v5);
                            v2 = i + 1;
                          }
                        }
                        dword_1FDF1D4[431 * a1] = 5;
                        sub_4011DB(a2);
                        v9 = dword_1FDF27C[431 * a1];
                        v2 = Rand()() % 4;
                        v8 = v2;
                        if ( v9 >= 0 )
                        {
                          if ( v9 < 7000 )
                          {
                            v2 = *(&byte_BDEC98[2992 * v9] + 80 * v8);
                            if ( *(&byte_BDEC98[2992 * v9] + 80 * v8) )
                            {
                              if ( !dword_1FDF1D8[431 * a1] )
                                v2 = sub_401550(a1, &byte_BDEC98[2992 * v9] + 80 * v8);
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4011DB: using guessed type _DWORD __stdcall sub_4011DB(__int16);
// 401550: using guessed type _DWORD __cdecl sub_401550(_DWORD, _DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF274: using guessed type int dword_1FDF274[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 750BAC4: using guessed type __int16 word_750BAC4[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752C430: using guessed type int dword_752C430[];
// 8C76348: using guessed type int dword_8C76348;
// 8C764C8: using guessed type int dword_8C764C8;
// 8C764CC: using guessed type int dword_8C764CC[];
// 8C76514: using guessed type int dword_8C76514[];

//----- (004BADF0) --------------------------------------------------------
int __usercall sub_4BADF0<eax>(int a1<ebx>, int a2<esi>, signed int a3, signed int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // ecx@624
  char v9; // [sp+0h] [bp-428h]@0
  int v10; // [sp+4h] [bp-424h]@0
  int v11; // [sp+8h] [bp-420h]@0
  char v12; // [sp+Ch] [bp-41Ch]@1
  int v13; // [sp+4Ch] [bp-3DCh]@597
  bool v14; // [sp+50h] [bp-3D8h]@572
  int v15; // [sp+54h] [bp-3D4h]@562
  bool v16; // [sp+58h] [bp-3D0h]@474
  bool v17; // [sp+5Ch] [bp-3CCh]@438
  bool v18; // [sp+60h] [bp-3C8h]@337
  bool v19; // [sp+64h] [bp-3C4h]@331
  bool v20; // [sp+68h] [bp-3C0h]@325
  bool v21; // [sp+6Ch] [bp-3BCh]@42
  bool v22; // [sp+70h] [bp-3B8h]@36
  bool v23; // [sp+74h] [bp-3B4h]@30
  int v24; // [sp+78h] [bp-3B0h]@655
  int v25; // [sp+7Ch] [bp-3ACh]@652
  int v26; // [sp+80h] [bp-3A8h]@648
  int v27; // [sp+84h] [bp-3A4h]@641
  __int16 v28; // [sp+88h] [bp-3A0h]@641
  char v29; // [sp+8Ah] [bp-39Eh]@642
  char v30; // [sp+8Bh] [bp-39Dh]@642
  char v31; // [sp+8Ch] [bp-39Ch]@642
  char v32; // [sp+8Dh] [bp-39Bh]@642
  char v33; // [sp+8Eh] [bp-39Ah]@642
  char v34; // [sp+8Fh] [bp-399h]@642
  int v35; // [sp+90h] [bp-398h]@640
  int v36; // [sp+94h] [bp-394h]@633
  __int16 v37; // [sp+98h] [bp-390h]@633
  __int16 v38; // [sp+9Ch] [bp-38Ch]@633
  __int16 v39; // [sp+9Eh] [bp-38Ah]@633
  int v40; // [sp+A4h] [bp-384h]@633
  int v41; // [sp+A8h] [bp-380h]@633
  int v42; // [sp+ACh] [bp-37Ch]@630
  int m; // [sp+B0h] [bp-378h]@624
  char v44; // [sp+B4h] [bp-374h]@624
  char v45; // [sp+C0h] [bp-368h]@624
  int v46; // [sp+140h] [bp-2E8h]@620
  int v47; // [sp+144h] [bp-2E4h]@594
  int v48; // [sp+148h] [bp-2E0h]@592
  int v49; // [sp+14Ch] [bp-2DCh]@589
  int v50; // [sp+150h] [bp-2D8h]@527
  int v51; // [sp+154h] [bp-2D4h]@525
  int v52; // [sp+158h] [bp-2D0h]@525
  int v53; // [sp+15Ch] [bp-2CCh]@522
  int v54; // [sp+160h] [bp-2C8h]@518
  int v55; // [sp+164h] [bp-2C4h]@513
  int v56; // [sp+168h] [bp-2C0h]@511
  int v57; // [sp+16Ch] [bp-2BCh]@505
  int v58; // [sp+170h] [bp-2B8h]@501
  int v59; // [sp+174h] [bp-2B4h]@501
  int v60; // [sp+178h] [bp-2B0h]@498
  int v61; // [sp+17Ch] [bp-2ACh]@487
  int v62; // [sp+180h] [bp-2A8h]@461
  int v63; // [sp+184h] [bp-2A4h]@459
  int v64; // [sp+188h] [bp-2A0h]@459
  int v65; // [sp+18Ch] [bp-29Ch]@457
  int v66; // [sp+190h] [bp-298h]@449
  int l; // [sp+194h] [bp-294h]@425
  int v68; // [sp+198h] [bp-290h]@429
  int v69; // [sp+19Ch] [bp-28Ch]@425
  char v70[12]; // [sp+1A0h] [bp-288h]@425
  int v71; // [sp+1ACh] [bp-27Ch]@425
  int v72; // [sp+1B0h] [bp-278h]@423
  int v73; // [sp+1B4h] [bp-274h]@421
  int v74; // [sp+1B8h] [bp-270h]@421
  int v75; // [sp+1BCh] [bp-26Ch]@416
  int v76; // [sp+1C0h] [bp-268h]@415
  int v77; // [sp+1C4h] [bp-264h]@415
  __int16 v78; // [sp+1C8h] [bp-260h]@414
  __int16 v79; // [sp+1CCh] [bp-25Ch]@414
  int v80; // [sp+1D4h] [bp-254h]@414
  int v81; // [sp+1D8h] [bp-250h]@414
  int v82; // [sp+1DCh] [bp-24Ch]@410
  int v83; // [sp+1E0h] [bp-248h]@409
  int k; // [sp+1E4h] [bp-244h]@404
  int v85; // [sp+1E8h] [bp-240h]@397
  int i; // [sp+1ECh] [bp-23Ch]@395
  int v87; // [sp+1F0h] [bp-238h]@389
  int j; // [sp+1F4h] [bp-234h]@387
  int v89; // [sp+1F8h] [bp-230h]@361
  int v90; // [sp+1FCh] [bp-22Ch]@344
  int ii; // [sp+200h] [bp-228h]@342
  int v92; // [sp+204h] [bp-224h]@342
  int v93; // [sp+208h] [bp-220h]@315
  char v94; // [sp+20Ch] [bp-21Ch]@314
  int v95; // [sp+22Ch] [bp-1FCh]@305
  int v96; // [sp+230h] [bp-1F8h]@295
  int v97; // [sp+234h] [bp-1F4h]@295
  int v98; // [sp+238h] [bp-1F0h]@287
  int v99; // [sp+23Ch] [bp-1ECh]@287
  int v100; // [sp+240h] [bp-1E8h]@282
  char v101; // [sp+244h] [bp-1E4h]@280
  int v102; // [sp+2F4h] [bp-134h]@275
  int n; // [sp+2F8h] [bp-130h]@272
  int v104; // [sp+2FCh] [bp-12Ch]@262
  int v105; // [sp+300h] [bp-128h]@262
  int v106; // [sp+304h] [bp-124h]@256
  int v107; // [sp+308h] [bp-120h]@248
  int v108; // [sp+30Ch] [bp-11Ch]@248
  int v109; // [sp+310h] [bp-118h]@245
  int v110; // [sp+314h] [bp-114h]@245
  int v111; // [sp+318h] [bp-110h]@239
  unsigned int v112; // [sp+31Ch] [bp-10Ch]@232
  int v113; // [sp+320h] [bp-108h]@232
  int v114; // [sp+324h] [bp-104h]@232
  int v115; // [sp+328h] [bp-100h]@232
  int v116; // [sp+32Ch] [bp-FCh]@228
  unsigned int v117; // [sp+330h] [bp-F8h]@226
  int v118; // [sp+334h] [bp-F4h]@222
  int v119; // [sp+338h] [bp-F0h]@222
  int v120; // [sp+33Ch] [bp-ECh]@219
  int v121; // [sp+340h] [bp-E8h]@219
  int v122; // [sp+344h] [bp-E4h]@184
  int v123; // [sp+348h] [bp-E0h]@184
  int v124; // [sp+34Ch] [bp-DCh]@174
  int v125; // [sp+350h] [bp-D8h]@174
  int v126; // [sp+354h] [bp-D4h]@174
  int v127; // [sp+358h] [bp-D0h]@174
  int v128; // [sp+35Ch] [bp-CCh]@170
  int v129; // [sp+360h] [bp-C8h]@170
  int v130; // [sp+364h] [bp-C4h]@170
  int v131; // [sp+368h] [bp-C0h]@170
  int v132; // [sp+36Ch] [bp-BCh]@159
  int v133; // [sp+370h] [bp-B8h]@159
  int v134; // [sp+374h] [bp-B4h]@153
  int v135; // [sp+378h] [bp-B0h]@153
  int v136; // [sp+37Ch] [bp-ACh]@153
  int v137; // [sp+380h] [bp-A8h]@153
  int v138; // [sp+384h] [bp-A4h]@153
  int v139; // [sp+388h] [bp-A0h]@153
  int v140; // [sp+38Ch] [bp-9Ch]@127
  int v141; // [sp+390h] [bp-98h]@125
  int v142; // [sp+394h] [bp-94h]@122
  int v143; // [sp+398h] [bp-90h]@122
  int v144; // [sp+39Ch] [bp-8Ch]@122
  int v145; // [sp+3A0h] [bp-88h]@119
  int v146; // [sp+3A4h] [bp-84h]@110
  int v147; // [sp+3A8h] [bp-80h]@106
  __int16 v148; // [sp+3ACh] [bp-7Ch]@106
  __int16 v149; // [sp+3B0h] [bp-78h]@106
  __int16 v150; // [sp+3B2h] [bp-76h]@106
  __int16 v151; // [sp+3BCh] [bp-6Ch]@106
  __int16 v152; // [sp+3BEh] [bp-6Ah]@106
  int v153; // [sp+3C4h] [bp-64h]@89
  int v154; // [sp+3C8h] [bp-60h]@89
  int v155; // [sp+3CCh] [bp-5Ch]@89
  __int16 *v156; // [sp+3D0h] [bp-58h]@87
  int v157; // [sp+3D4h] [bp-54h]@83
  int v158; // [sp+3D8h] [bp-50h]@77
  int v159; // [sp+3DCh] [bp-4Ch]@69
  int v160; // [sp+3E0h] [bp-48h]@57
  int v161; // [sp+3E4h] [bp-44h]@57
  int v162; // [sp+3E8h] [bp-40h]@52
  int v163; // [sp+3ECh] [bp-3Ch]@52
  int v164; // [sp+3F0h] [bp-38h]@52
  int v165; // [sp+3F4h] [bp-34h]@52
  int v166; // [sp+3F8h] [bp-30h]@52
  int v167; // [sp+3FCh] [bp-2Ch]@52
  int v168; // [sp+400h] [bp-28h]@20
  char v169; // [sp+404h] [bp-24h]@19
  int v170; // [sp+424h] [bp-4h]@11

  v6 = -858993460;
  memset(&v12, -858993460, 0x41Cu);
  if ( a3 <= 0 || a3 >= 12800 || a4 <= 0 || a4 >= 12800 || (v6 = 1724 * a3, !dword_1FDF1D4[431 * a3]) )
    return sub_4E46A0(1, v6, v11, v9, v10);
  if ( a3 < 1000 && !byte_752BAD8[3160 * a3] )
  {
    v6 = sub_401302(a3);
    return sub_4E46A0(1, v6, v11, v9, v10);
  }
  v170 = (int)&word_1FDED64[862 * a3];
  if ( word_1FDED64[862 * a3] == 769
    || *(_WORD *)v170 == 3457
    || *(_WORD *)v170 == 3458
    || *(_WORD *)v170 == 3459
    || *(_WORD *)v170 == 3460
    || *(_WORD *)v170 == 3462 )
  {
    if ( a3 > 0 && a3 < 1000 )
    {
      sub_401B1D(v170, &v169);
      sub_4E3F40(a1, a2, (int)&String, "cho %s x:%d y:%d");
      Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
    }
    v168 = sub_4014E2(v170);
    if ( v168 > 0 )
    {
      --v168;
      if ( *(_BYTE *)(v170 + 2) == 43 )
      {
        *(_BYTE *)(v170 + 3) = v168;
      }
      else
      {
        if ( *(_BYTE *)(v170 + 4) == 43 )
        {
          *(_BYTE *)(v170 + 5) = v168;
        }
        else
        {
          if ( *(_BYTE *)(v170 + 6) == 43 )
          {
            *(_BYTE *)(v170 + 7) = v168;
          }
          else
          {
            v23 = (signed int)*(_BYTE *)(v170 + 2) >= 115 && (signed int)*(_BYTE *)(v170 + 2) <= 126;
            if ( v23 )
            {
              *(_BYTE *)(v170 + 3) = v168;
            }
            else
            {
              v22 = (signed int)*(_BYTE *)(v170 + 4) >= 115 && (signed int)*(_BYTE *)(v170 + 4) <= 126;
              if ( v22 )
              {
                *(_BYTE *)(v170 + 5) = v168;
              }
              else
              {
                v21 = (signed int)*(_BYTE *)(v170 + 6) >= 115 && (signed int)*(_BYTE *)(v170 + 6) <= 126;
                if ( v21 )
                  *(_BYTE *)(v170 + 7) = v168;
              }
            }
          }
        }
      }
    }
    else
    {
      sub_40173A(v170);
    }
    if ( a3 > 0 && a3 < 1000 )
    {
      sub_401960(a3, 0, 13, &word_1FDED64[862 * a3]);
      sub_401B45(a3, 14, 2);
    }
    sub_401AC3(a3, 0);
    word_1FDECEC[862 * a3] = word_1FDECE8[862 * a3];
    if ( a3 < 1000 )
      sub_4016CC(a3);
    v6 = sub_4018B1(a3);
    if ( a4 < 1000 )
    {
      v167 = byte_1FDECB0[1724 * a3];
      v166 = byte_1FDECB0[1724 * a4];
      v165 = 0;
      v164 = 0;
      v163 = dword_1FDF1F4[431 * a3] / 128;
      v162 = dword_1FDF1F8[431 * a3] / 128;
      if ( v167 >= 7 && v166 >= 7 && v167 != v166 || dword_8C76254 == 1 )
        v165 = 1;
      v161 = (unsigned __int16)word_1FDECB2[862 * a3];
      v6 = 1724 * a4;
      v160 = (unsigned __int16)word_1FDECB2[862 * a4];
      if ( v161 > 0 )
      {
        if ( v161 < dword_5A14A0 )
        {
          if ( v160 > 0 )
          {
            v6 = v160;
            if ( v160 < dword_5A14A0 )
            {
              if ( (unsigned __int16)word_750BAC4[v161] == v160 )
              {
                v6 = v160;
                if ( (unsigned __int16)word_750BAC4[v160] == v161 )
                  v164 = 1;
              }
            }
          }
        }
      }
      if ( dword_8C76348 && v163 == 8 && v162 == 13 )
        v164 = 1;
      if ( v165 )
      {
        v159 = sub_4013D4(a4) + 1;
        v6 = sub_4017AD(a4, v159);
      }
    }
    return sub_4E46A0(1, v6, v11, v9, v10);
  }
  if ( dword_8C76348 > 1 && dword_1FDF1F4[431 * a3] == 1046 && dword_1FDF1F8[431 * a3] == 1690 && a3 > 0 && a3 < 1000 )
  {
    v6 = sub_401A19(a3, 1057, 1742, 0);
    return sub_4E46A0(1, v6, v11, v9, v10);
  }
  v158 = LOWORD(dword_1FDECFC[431 * a4]);
  if ( a4 >= 1000 )
  {
    if ( byte_1FDECB0[1724 * a4] == 4 )
    {
      if ( v158 >= 315 )
      {
        if ( v158 <= 346 )
        {
          if ( a3 > 1000 )
          {
            if ( byte_1FDECB0[1724 * a3] != 4 )
            {
              v157 = dword_1FDF2A8[431 * a4];
              if ( v157 > 0 )
              {
                if ( v157 < 1000 )
                {
                  if ( dword_752BAF0[790 * v157] )
                  {
                    if ( dword_1FDF1D4[431 * v157] )
                    {
                      v156 = &word_1FDED6C[862 * v157];
                      if ( word_1FDED6C[862 * v157] >= 2330 )
                      {
                        if ( *v156 < 2360 )
                        {
                          LOBYTE(v155) = *((_BYTE *)v156 + 4);
                          LOBYTE(v154) = *((_BYTE *)v156 + 7);
                          LOBYTE(v153) = v155 + 100;
                          if ( *v156 == 2330 )
                          {
                            LOBYTE(v153) = v155 + 25;
                          }
                          else
                          {
                            if ( *v156 == 2331 )
                              LOBYTE(v153) = v155 + 35;
                          }
                          if ( *v156 == 2332 )
                            LOBYTE(v153) = v155 + 45;
                          if ( *v156 == 2333 )
                            LOBYTE(v153) = v155 + 55;
                          if ( *v156 == 2334 )
                            LOBYTE(v153) = v155 + 65;
                          if ( *v156 == 2335 )
                            LOBYTE(v153) = v155 + 75;
                          if ( (unsigned __int8)v155 < word_1FDECE0[862 * a3] && (signed int)(unsigned __int8)v155 < 100 )
                          {
                            LOBYTE(v154) = v154 + 1;
                            if ( (unsigned __int8)v154 < (signed int)(unsigned __int8)v153 )
                            {
                              *((_BYTE *)v156 + 7) = v154;
                              sub_401960(v157, 0, 14, &word_1FDED6C[862 * v157]);
                            }
                            else
                            {
                              LOBYTE(v154) = 1;
                              LOBYTE(v155) = v155 + 1;
                              *((_BYTE *)v156 + 7) = 1;
                              *((_BYTE *)v156 + 4) = v155;
                              sub_401B63(v157, &unk_8AEB44);
                              sub_401960(v157, 0, 14, &word_1FDED6C[862 * v157]);
                              sub_401483(v157, 0);
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  v149 = 824;
  v148 = 24;
  v150 = 30000;
  v151 = a3;
  v152 = a4;
  word_1FDECEC[862 * a3] = 0;
  v147 = dword_1FDF1D8[431 * a4];
  if ( !v147 )
    v147 = a4;
  if ( a4 >= 1000 && byte_1FDECB0[1724 * a4] == 4 )
  {
    v146 = dword_1FDF2A8[431 * a4];
    if ( v146 <= 0 || v146 >= 1000 || dword_752BAF0[790 * v146] != 22 )
    {
      v6 = sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v148, 0);
      if ( a3 > 1000 )
        v6 = sub_401B90(a3, 1);
      return sub_4E46A0(1, v6, v11, v9, v10);
    }
    a4 = v146;
  }
  if ( a3 >= 1000 || word_1FDECC4[862 * a3] > 404 )
  {
    if ( a3 < 1000 && word_1FDECC4[862 * a3] > 400 )
    {
      dword_752C434[790 * a3] = (unsigned __int16)word_1FDECE8[862 * a3];
      sub_4016CC(a3);
      word_1FDECEC[862 * a3] = word_1FDECE8[862 * a3];
      v6 = sub_4018B1(a3);
      return sub_4E46A0(1, v6, v11, v9, v10);
    }
    if ( a3 >= 1000 )
    {
      v89 = dword_1FDF27C[431 * a3];
      if ( !dword_1FDF1D8[431 * a3] )
        dword_BDF064[748 * v89] = 0;
      if ( v89 < 270 || v89 >= dword_5A12A0[0] + 270 )
      {
        if ( v89 < 285 || v89 >= dword_5A12A4 + 285 )
        {
          if ( v89 >= 302 && v89 < dword_5A12A8 + 302 && !byte_8C76446 && dword_BDE9CC && dword_8C761D8[v89] )
          {
            --dword_BDE9CC;
            sub_401C71(2);
            dword_8C761D8[v89] = 0;
            sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v148, 0);
            v6 = sub_401B90(a3, 1);
            return sub_4E46A0(1, v6, v11, v9, v10);
          }
        }
        else
        {
          if ( !byte_8C76445 && dword_BDE9C8 && *((_WORD *)&dword_8C761E8 + v89 + 1) )
          {
            --dword_BDE9C8;
            sub_401C71(1);
            *((_WORD *)&dword_8C761E8 + v89 + 1) = 0;
            sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v148, 0);
            v6 = sub_401B90(a3, 1);
            return sub_4E46A0(1, v6, v11, v9, v10);
          }
        }
      }
      else
      {
        if ( !byte_8C76444[0] && dword_BDE9C4[0] && *((_WORD *)&dword_8C761FC + v89) )
        {
          --dword_BDE9C4[0];
          sub_401C71(0);
          *((_WORD *)&dword_8C761FC + v89) = 0;
          sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v148, 0);
          v6 = sub_401B90(a3, 1);
          return sub_4E46A0(1, v6, v11, v9, v10);
        }
      }
    }
    if ( dword_8C764C8 == 1 && a4 < 1000 )
    {
      if ( dword_1FDF27C[431 * a3] <= 450 || dword_1FDF27C[431 * a3] >= 475 )
      {
        if ( dword_1FDF27C[431 * a3] > 475 && dword_1FDF27C[431 * a3] < 496 )
        {
          for ( i = 0; i < 15; ++i )
          {
            v85 = dword_8C764CC[i];
            if ( v85 == a3 )
              dword_8C764CC[i] = 0;
          }
          dword_1FDEFA8[431 * a4] += 10;
          sub_4E3F40(a1, a2, (int)&String, "etc,kingdom war killer %s(%d) mob %s ");
          Log(&String, "system", 0);
        }
      }
      else
      {
        for ( j = 0; j < 15; ++j )
        {
          v87 = dword_8C76508[j];
          if ( v87 == a3 )
            dword_8C76508[j] = 0;
        }
        dword_1FDEFA8[431 * a4] += 10;
        sub_4E3F40(a1, a2, (int)&String, "etc,kingdom war killer %s(%d) mob %s ");
        Log(&String, "system", 0);
      }
    }
    if ( dword_8C76170 )
      sub_401569(a4, a3);
    if ( dword_1FDF27C[431 * a3] == 1079 )
    {
      sub_401B90(a3, 1);
      sub_4E3F40(a1, a2, (int)&String, "etc, endless tower killer : %s ");
      Log(&String, &byte_752BAD8[3160 * a4], dword_752BAEC[790 * a4]);
      sub_401C30(1079, 0, 0);
      byte_1FDECB0[1724 * dword_8C761C4] = 0;
      dword_1FDF318[431 * dword_8C761C4] = sub_40109B(a4);
      for ( k = 0; k < 1000; ++k )
      {
        if ( dword_752BAF0[790 * k] == 22 )
        {
          if ( dword_1FDF1D4[431 * k] )
          {
            v83 = sub_40109B(k);
            if ( v83 != dword_1FDF318[431 * dword_8C761C4] )
            {
              v82 = sub_401BC2(k, 2476, 1847, 2545, 1918, 0);
              if ( v82 == 1 )
                sub_4012C6(k);
            }
          }
        }
      }
      sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B3BC4);
      sub_401479(&String);
      if ( dword_5A1054 + 1 != dword_1FDF318[431 * dword_8C761C4] )
      {
        sub_4E4640(&v78, 0, 0x14u);
        v79 = 3799;
        v78 = 20;
        v80 = dword_5A1054 + 1;
        v81 = 0;
        sub_40132A(&v78, 20);
      }
      v77 = (unsigned __int16)word_1FDECB2[862 * a4];
      sub_401C03(v77, 50);
      v76 = dword_594F20;
      v6 = sub_401C03(dword_594F20, -50);
      return sub_4E46A0(1, v6, v11, v9, v10);
    }
    v75 = dword_1FDF27C[431 * a3];
    if ( v75 == 333 )
    {
      sub_4E3F40(a1, a2, (int)&String, "hell,hellgate_npc_killed_by_(%s)x:%d,y:%d");
      Log(&String, "hell", 0);
      byte_8C7644C = 0;
    }
    if ( a4 >= 1000 || byte_1FDECB0[1724 * a3] == 4 )
    {
      sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v148, 0);
      v6 = sub_401B90(a3, 1);
      return sub_4E46A0(1, v6, v11, v9, v10);
    }
    sub_4011A9(a4, a3);
    v74 = 0;
    v73 = word_1FDECE0[862 * a4];
    if ( sub_401640(&byte_1FDECA0[1724 * a4]) == 2 )
      v73 += 400;
    v74 = sub_401B81(dword_1FDECBC[431 * a3], v73, word_1FDECE0[862 * a3]);
    v72 = 0;
    if ( dword_1FDF2B8[431 * a4] > 0 )
      v72 = dword_1FDF2B8[431 * a4] * v74 / 80;
    v71 = 30;
    *(_DWORD *)&v70[8] = 0;
    *(_DWORD *)&v70[4] = 0;
    *(_DWORD *)v70 = dword_1FDF1F4[431 * a4];
    v69 = dword_1FDF1F8[431 * a4];
    for ( l = 0; ; ++l )
    {
      if ( l >= 13 )
      {
        if ( *(_DWORD *)&v70[4] <= 0 || *(_QWORD *)&v70[4] <= 13i64 )
        {
          sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v148, 0);
          v6 = sub_401B90(a3, 1);
          if ( dword_5A0F0C )
            v6 = sub_40150F(a4, a3);
          return sub_4E46A0(1, v6, v11, v9, v10);
        }
        v65 = dword_5A1094[*(_DWORD *)&v70[4]];
        if ( *(_DWORD *)&v70[4] > 1 )
          v65 = v65 + dword_5A1050 - 100;
        v64 = v74;
        v63 = v65 * v74 / 100;
        if ( dword_8C76254 == 1 )
          v63 = 0;
        v62 = 0;
        l = 0;
        while ( 2 )
        {
          if ( l >= 13 )
          {
            v59 = dword_1FDF27C[431 * a3];
            v58 = Rand()() % 4;
            if ( v59 >= 0 && *(&byte_BDEF18[2992 * v59] + 80 * v58) && !dword_1FDF1D8[431 * a3] )
              sub_401550(a3, &byte_BDEF18[2992 * v59] + 80 * v58);
            sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v148, 0);
            v57 = byte_1FDECB0[1724 * a4];
            if ( v57 && v57 != 4 && v57 != 7 && v57 != 8 && v57 != 9 )
            {
              v6 = sub_401B90(a3, 1);
            }
            else
            {
              v56 = a5;
              if ( !a5 )
                v56 = dword_1FDF1F4[431 * a3];
              v55 = a6;
              if ( !a6 )
                v55 = dword_1FDF1F8[431 * a3];
              if ( *(&byte_782F298[4096 * v55] + v56) > -105 && *(&byte_782F298[4096 * v55] + v56) < 115 )
              {
                v54 = word_1FDECE0[862 * a3];
                if ( sub_401BE5(&byte_1FDECA0[1724 * a3]) )
                {
                  if ( a3 >= 1000 )
                  {
                    sub_4019D8(396, 414);
                    if ( dword_8C76460 )
                    {
                      v46 = sub_40115E(a4, 542, 0);
                      if ( !v46 )
                      {
                        sub_4E3F40(a1, a2, (int)&String, "err,Khepra item send fail %d");
                        Log(&String, &byte_752BAD8[3160 * a4], dword_752BAEC[790 * a4]);
                      }
                      v46 = sub_40115E(a4, 772, 0);
                      if ( !v46 )
                      {
                        sub_4E3F40(a1, a2, (int)&String, "err,Khepra item send fail %d");
                        Log(&String, &byte_752BAD8[3160 * a4], dword_752BAEC[790 * a4]);
                      }
                    }
                    v7 = (unsigned __int16)word_1FDECB2[862 * a4];
                    dword_8C761B4 = (unsigned __int16)word_1FDECB2[862 * a4];
                    dword_1FDF2D4[431 * a3] = 0;
                    dword_8C7649C = 0;
                    LOWORD(v7) = dword_8C761B4;
                    sub_4011CC(v7, &v44);
                    sub_4E3F40(a1, a2, (int)&v45, (const char *)&unk_8B24C4);
                    sub_4E3F40(a1, a2, (int)&String, "%s");
                    sub_401479(&String);
                    for ( m = 0; m < 1000; ++m )
                    {
                      if ( dword_752BAF0[790 * m] == 22 )
                      {
                        if ( dword_1FDF1D4[431 * m] )
                        {
                          if ( (signed int)(unsigned __int16)word_1FDECEC[862 * m] > 0 )
                          {
                            v42 = sub_40109B(m);
                            if ( dword_5A1054 + 1 == v42 )
                            {
                              if ( sub_401BC2(m, 2336, 3899, 2392, 3953, 0) )
                                dword_1FDEFA8[431 * m] += 20;
                            }
                          }
                        }
                      }
                    }
                    v39 = 0;
                    v38 = 3093;
                    v37 = 20;
                    v40 = dword_5A1054;
                    v41 = (unsigned __int16)word_1FDECB2[862 * a4];
                    sub_40132A(&v37, 20);
                    sub_4E3F40(a1, a2, (int)&String, "Khepra Killed char:%s guild:%d");
                    Log(&String, "system", 0);
                    v36 = (unsigned __int16)word_1FDECB2[862 * a4];
                    sub_401C03(v36, 200);
                    qword_8C761C8 += 2000000000i64;
                  }
                }
                else
                {
                  for ( l = 0; l < 64; ++l )
                  {
                    v53 = *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * l);
                    if ( v53 && (dword_8C75F1C || v53 != 4127) )
                    {
                      v52 = dword_597250[l];
                      v51 = dword_1FDF2B4[431 * a4] + dword_597350[l];
                      if ( v51 != 100 )
                      {
                        v51 = 10000 / v51;
                        v52 = v51 * v52 / 100;
                      }
                      v50 = l / 8;
                      if ( l < 58 )
                      {
                        if ( !v50 || v50 == 1 || v50 == 2 )
                        {
                          if ( v54 >= 10 )
                          {
                            if ( v54 >= 20 )
                            {
                              if ( v54 >= 30 )
                              {
                                if ( v54 >= 40 )
                                {
                                  if ( v54 >= 50 )
                                  {
                                    if ( v54 < 60 )
                                      v52 = 8 * v52 / 10;
                                  }
                                  else
                                  {
                                    v52 = 7 * v52 / 10;
                                  }
                                }
                                else
                                {
                                  v52 = 6 * v52 / 10;
                                }
                              }
                              else
                              {
                                v52 = 5 * v52 / 10;
                              }
                            }
                            else
                            {
                              v52 = 4 * v52 / 10;
                            }
                          }
                          else
                          {
                            v52 = 3 * v52 / 10;
                          }
                        }
                      }
                      else
                      {
                        if ( v54 >= 170 )
                        {
                          if ( v54 >= 200 )
                          {
                            if ( v54 >= 230 )
                            {
                              if ( v54 >= 255 )
                              {
                                if ( v54 >= 320 )
                                  v52 = 50 * v52 / 100;
                                else
                                  v52 = 38 * v52 / 100;
                              }
                              else
                              {
                                v52 = 43 * v52 / 100;
                              }
                            }
                            else
                            {
                              v52 = 50 * v52 / 100;
                            }
                          }
                          else
                          {
                            v52 = 60 * v52 / 100;
                          }
                        }
                        else
                        {
                          v52 = 90 * v52 / 100;
                        }
                      }
                      if ( dword_8C762D4 )
                        v52 /= 25;
                      if ( dword_8C76468 )
                      {
                        v15 = dword_1FDF1F4[431 * a3] >> 7 < 27
                           || dword_1FDF1F4[431 * a3] >> 7 > 30
                           || dword_1FDF1F8[431 * a3] >> 7 < 21
                           || dword_1FDF1F8[431 * a3] >> 7 > 24 ? 0 : 1;
                        if ( v15 )
                        {
                          if ( dword_8C76468 <= 0 )
                            dword_8C76468 = 1;
                          v52 /= dword_8C76468;
                        }
                      }
                      v14 = dword_1FDF1F4[431 * a3] >> 7 >= 28
                         && dword_1FDF1F4[431 * a3] >> 7 <= 30
                         && dword_1FDF1F8[431 * a3] >> 7 >= 27
                         && dword_1FDF1F8[431 * a3] >> 7 <= 28;
                      if ( v14 )
                        v52 /= 2;
                      if ( l == 8 || l == 9 || l == 10 )
                        v52 = 4;
                      if ( l == 11 )
                        v52 = 1;
                      if ( v52 > 32000 )
                        v52 = 32000;
                      if ( v52 <= 0 )
                        v52 = 0;
                      else
                        v52 = Rand()() % v52;
                      if ( !v52 || l == 11 )
                      {
                        v49 = (int)(&dword_1FDED7C[431 * a3] + 2 * l);
                        if ( (signed int)*((_WORD *)&dword_1FDED7C[431 * a3] + 4 * l) > 0 )
                        {
                          if ( (signed int)*(_WORD *)v49 < 6500 )
                          {
                            v48 = word_9CCC86[70 * *(_WORD *)v49];
                            if ( v48 < 140 || v52 % 2 != 1 )
                            {
                              v47 = 0;
                              if ( a4 > 0 && a4 < 1000 )
                                v47 = dword_1FDF2B4[431 * a4];
                              sub_4015CD(v49, word_1FDECE0[862 * a3], 0, v47, 0);
                              sub_401217(a3, a4, v56, v55, v49);
                              v13 = *(_WORD *)v49;
                              if ( v13 > 4024 )
                              {
                                switch ( v13 )
                                {
                                  case 4114:
                                    ++dword_88634DC;
                                    break;
                                  case 4115:
                                    ++dword_88634E0;
                                    break;
                                  case 4127:
                                    ++dword_88634E4;
                                    break;
                                }
                              }
                              else
                              {
                                if ( v13 == 4024 )
                                {
                                  ++dword_88634D8;
                                }
                                else
                                {
                                  v13 -= 412;
                                  switch ( v13 )
                                  {
                                    case 0:
                                      ++dword_88634D0[0];
                                      break;
                                    case 1:
                                      ++dword_88634D4;
                                      break;
                                    case 165:
                                      ++dword_88634E8;
                                      break;
                                    case 166:
                                      ++dword_88634EC;
                                      break;
                                    default:
                                      break;
                                  }
                                }
                              }
                              if ( l == 8 || l == 9 || l == 10 )
                                l = 11;
                            }
                          }
                        }
                      }
                    }
                  }
                  dword_1FDF304[431 * a3] = 0;
                  dword_1FDF308[431 * a3] = 0;
                }
                if ( dword_8C76208 )
                {
                  if ( dword_8C761F0 )
                  {
                    if ( dword_8C761F4 )
                    {
                      if ( dword_8C76200 )
                      {
                        if ( dword_8C761FC )
                        {
                          if ( dword_8C761F8 < dword_8C761F4 )
                          {
                            v35 = Rand()() % dword_8C761FC;
                            if ( !v35 )
                            {
                              sub_4E4640(&v28, 0, 8u);
                              v27 = dword_8C76200;
                              v28 = dword_8C76200;
                              if ( dword_8C76204 )
                              {
                                v29 = 62;
                                v30 = dword_8C761F8 / 256;
                                v31 = 63;
                                v32 = dword_8C761F8;
                                v33 = 59;
                                v34 = Rand()();
                                sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8ABF44);
                              }
                              else
                              {
                                v29 = 43;
                                v30 = 0;
                                sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8ACAC4);
                              }
                              if ( dword_5A0FFC )
                                sub_401479(&String);
                              ++dword_8C761F8;
                              sub_4015CD(&v28, word_1FDECE0[862 * a3], 0, 0, 0);
                              sub_401217(a3, a4, v56, v55, &v28);
                              sub_401154(1);
                            }
                          }
                        }
                      }
                    }
                  }
                }
                if ( dword_8C761E8 )
                {
                  v26 = word_1FDEF80[862 * a3];
                  for ( l = 0; l < 8; ++l )
                  {
                    if ( v26 == dword_74F91C0[5 * l] )
                    {
                      v25 = dword_74F91C4[5 * l];
                      if ( v25 <= 30000 )
                      {
                        if ( v25 > 0 )
                        {
                          v24 = Rand()() % v25;
                          if ( dword_8C76388 || !v24 )
                          {
                            sub_40115E(a4, 0, (char *)&unk_74F91C8 + 20 * l);
                            --dword_74F91D0[5 * l];
                            if ( dword_74F91D0[5 * l] <= 0 )
                              sub_4E4640(&dword_74F91C0[5 * l], 0, 0x14u);
                            sub_401154(1);
                          }
                        }
                      }
                    }
                  }
                }
                v6 = sub_401B90(a3, 1);
                if ( dword_5A0F0C )
                  v6 = sub_40150F(a4, a3);
              }
              else
              {
                v6 = sub_401B90(a3, 1);
              }
            }
            return sub_4E46A0(1, v6, v11, v9, v10);
          }
          if ( l )
            v68 = *(&word_1FDF288[862 * v147] + l);
          else
            v68 = v147;
          if ( v68 <= 0 || v68 >= 1000 || dword_752BAF0[790 * v68] != 22 )
          {
LABEL_462:
            ++l;
            continue;
          }
          break;
        }
        v16 = dword_1FDF1F4[431 * v68] >> 7 <= 1
           || dword_1FDF1F4[431 * v68] >> 7 >= 11
           || dword_1FDF1F8[431 * v68] >> 7 >= 5;
        if ( v16 )
        {
          if ( (signed int)(unsigned __int16)word_1FDECEC[862 * v68] <= 0
            || *(_DWORD *)v70 < dword_1FDF1F4[431 * v68] - 16
            || *(_DWORD *)v70 > dword_1FDF1F4[431 * v68] + 16
            || v69 < dword_1FDF1F8[431 * v68] - 16
            || v69 > dword_1FDF1F8[431 * v68] + 16 )
            goto LABEL_462;
        }
        else
        {
          if ( (signed int)(unsigned __int16)word_1FDECEC[862 * v68] <= 0 )
            goto LABEL_462;
        }
        if ( sub_4017F3(&byte_1FDECA0[1724 * v68]) && !dword_8C7648C )
        {
          v61 = word_1FDECE0[862 * v68];
          if ( sub_401640(&byte_1FDECA0[1724 * v68]) == 2 )
            v61 = 400;
          v62 = (v71 + v61) * v63 / *(_DWORD *)&v70[8];
          if ( v62 >= 0 )
          {
            if ( v62 > 12000 )
              v62 = 12000;
            v62 = 6 * v62 / 10;
            if ( v62 > v64 )
              v62 = v64;
            v62 += v72;
            if ( dword_8C76210 && sub_401640(&byte_1FDECA0[1724 * v68]) != 2 && word_1FDECE0[862 * v68] < 100 )
              v62 += v74 / 4;
            v62 = sub_401A37(v68, v62);
            v62 = sub_401C8A(v68, v62);
            sub_4011D1(v68, &v62);
            v60 = v62 + dword_1FDECBC[431 * v68];
            if ( (unsigned int)v60 > 0xF1661880 )
              v60 = -244967296;
            dword_1FDECBC[431 * v68] = v60;
          }
        }
        goto LABEL_462;
      }
      if ( l )
        v68 = *(&word_1FDF288[862 * v147] + l);
      else
        v68 = v147;
      if ( v68 > 0 && v68 < 1000 && dword_752BAF0[790 * v68] == 22 )
      {
        v17 = dword_1FDF1F4[431 * v68] >> 7 <= 1
           || dword_1FDF1F4[431 * v68] >> 7 >= 11
           || dword_1FDF1F8[431 * v68] >> 7 >= 5;
        if ( v17 )
        {
          if ( (signed int)(unsigned __int16)word_1FDECEC[862 * v68] <= 0
            || *(_DWORD *)v70 < dword_1FDF1F4[431 * v68] - 16
            || *(_DWORD *)v70 > dword_1FDF1F4[431 * v68] + 16
            || v69 < dword_1FDF1F8[431 * v68] - 16
            || v69 > dword_1FDF1F8[431 * v68] + 16 )
            continue;
        }
        else
        {
          if ( (signed int)(unsigned __int16)word_1FDECEC[862 * v68] <= 0 )
            continue;
        }
        v66 = word_1FDECE0[862 * v68];
        if ( sub_401640(&byte_1FDECA0[1724 * v68]) == 2 )
          v66 = 400;
        *(_DWORD *)&v70[8] += v71 + v66;
        ++*(_DWORD *)&v70[4];
      }
    }
  }
  v6 = 1724 * a3;
  v145 = word_1FDECC4[862 * a3];
  if ( v145 >= 0 && v145 < 400 )
  {
    v144 = 0;
    v143 = 0;
    v142 = sub_401640(&byte_1FDECA0[1724 * a3]);
    if ( v142 == 2 )
    {
      v144 = dword_598574[v145];
      v143 = (int)*(&off_598578 + v145);
    }
    else
    {
      v144 = dword_597F28[v145];
      v143 = dword_597F2C[v145];
    }
    v141 = v143 - v144;
    if ( v143 - v144 < 0 )
      v141 = 0;
    v140 = v141 / 20;
    if ( v145 >= 30 )
      v140 = v141 / 22;
    if ( v145 >= 40 )
      v140 = v141 / 25;
    if ( v145 >= 50 )
      v140 = v141 / 30;
    if ( v145 >= 60 )
      v140 = v141 / 35;
    if ( v145 >= 70 )
      v140 = v141 / 40;
    if ( v145 >= 80 )
      v140 = v141 / 45;
    if ( v145 >= 90 )
      v140 = v141 / 50;
    if ( v145 >= 100 )
      v140 = v141 / 55;
    if ( v145 >= 150 )
      v140 = v141 / 70;
    if ( v145 >= 200 )
      v140 = v141 / 85;
    if ( v145 >= 250 )
      v140 = v141 / 100;
    if ( v140 < 0 )
      v140 = 0;
    if ( v140 > 30000 )
      v140 = 30000;
    v139 = byte_1FDECB0[1724 * a3];
    v138 = byte_1FDECB0[1724 * a4];
    v137 = 0;
    v136 = 0;
    v135 = dword_1FDF1F4[431 * a3] / 128;
    v134 = dword_1FDF1F8[431 * a3] / 128;
    if ( a4 < 1000 )
    {
      v140 /= 6;
      if ( v139 >= 7 && v138 >= 7 && v139 != v138 || dword_8C76254 == 1 )
        v137 = 1;
      v133 = (unsigned __int16)word_1FDECB2[862 * a3];
      v132 = (unsigned __int16)word_1FDECB2[862 * a4];
      if ( v133 > 0
        && v133 < dword_5A14A0
        && v132 > 0
        && v132 < dword_5A14A0
        && (unsigned __int16)word_750BAC4[v133] == v132
        && (unsigned __int16)word_750BAC4[v132] == v133 )
        v136 = 1;
      if ( dword_8C76348 && v135 == 8 && v134 == 13 )
        v136 = 1;
    }
    sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v148, 0);
    v131 = sub_4013D4(a4);
    v130 = sub_4013BB(a4);
    v129 = sub_4013BB(a3);
    v128 = sub_401352(a3);
    if ( v129 > 10 )
    {
      if ( v129 <= 25 )
        v140 *= 3;
    }
    else
    {
      v140 *= 5;
    }
    v127 = sub_4014B0(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3]);
    v126 = sub_401C08(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3]);
    v125 = sub_401640(&byte_1FDECA0[1724 * a3]);
    v124 = 0;
    if ( v135 == 1 && v134 == 31 )
      v124 = 1;
    if ( v127 != 5 || v126 != 5 || v124 )
    {
      sub_401B63(a3, &unk_8AAF44);
      if ( v127 >= 0 && v127 < 5 )
      {
        v97 = word_1FDECE0[862 * a4];
        v96 = word_1FDECE0[862 * a3];
        if ( a4 >= 1000 )
          sub_4E3F40(a1, a2, (int)&String, "etc,PK MOB killer:%s(%d) killed:%s(%d)");
        else
          sub_4E3F40(a1, a2, (int)&String, "etc,PK %s killer:%s(%d) killed:%s(%d) pk:%d");
        if ( a3 < 1000 )
          Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        if ( v125 == 2 && byte_1FDF03D[1724 * a3] == 1 )
        {
          sub_401523(a3);
          v131 += 1000;
          sub_4017AD(a4, v131);
        }
        if ( a4 < 1000 && (unsigned __int8)byte_1FDEF8C[1724 * a3] == 2 )
        {
          v95 = (unsigned __int16)word_1FDECB2[862 * a3];
          if ( word_1FDED6C[862 * a3] == 3993 )
          {
            sub_401C03(v95, -1000);
          }
          else
          {
            if ( word_1FDED6C[862 * a3] == 3994 )
              sub_401C03(v95, -1000);
            else
              sub_401C03(v95, -500);
          }
        }
      }
    }
    else
    {
      if ( v140 > 150000 )
        v140 = 150000;
      if ( v140 < 0 )
        v140 = 0;
      v123 = 20;
      v122 = v140;
      if ( v125 == 2 || v145 >= v123 )
      {
        if ( a4 >= 1000 )
        {
          if ( dword_5A1040 )
          {
            if ( dword_1FDECBC[431 * a3] < (unsigned int)v140 )
              dword_1FDECBC[431 * a3] = 0;
            else
              dword_1FDECBC[431 * a3] -= v140;
            if ( a3 > 0 && a3 < 1000 )
              dword_752C4B0[790 * a3] = v140 / 4;
          }
          if ( v125 == 2 && byte_1FDF03D[1724 * a3] == 1 )
            sub_401523(a3);
        }
        else
        {
          sub_401866(a3, &v140);
          if ( dword_1FDECBC[431 * a3] < (unsigned int)v140 )
            dword_1FDECBC[431 * a3] = 0;
          else
            dword_1FDECBC[431 * a3] -= v140;
          if ( v122 - v140 > 0 )
          {
            sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B2FC4);
            sub_401B63(a3, &String);
          }
          if ( a3 > 0 && a3 < 1000 )
            dword_752C4B0[790 * a3] = v140 / 4;
          dword_1FDEFA8[431 * a3] -= 20;
          if ( dword_1FDEFA8[431 * a3] < 0 )
            dword_1FDEFA8[431 * a3] = 0;
          if ( v125 == 2 && byte_1FDF03D[1724 * a3] == 1 )
          {
            sub_401523(a3);
            v131 += 1000;
            sub_4017AD(a4, v131);
          }
        }
        if ( dword_5A1040 || a4 < 1000 )
        {
          if ( v140 )
          {
            sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AAEC4);
            sub_401B63(a3, &String);
          }
          sub_401348(a3);
        }
      }
      else
      {
        sub_401B63(a3, &unk_8AAE44);
      }
      if ( dword_8C761C0 )
      {
        ++v131;
        sub_4017AD(a4, v131);
        v137 = 0;
      }
      v121 = sub_40109B(a3);
      v120 = sub_40109B(a4);
      if ( v121 != v120 )
      {
        ++v131;
        sub_4017AD(a4, v131);
      }
      if ( v137 )
      {
        v140 = v122;
        v119 = 2 * v122 / 3;
        v118 = word_1FDECE0[862 * a3];
        if ( v118 < 0 )
          v118 = 0;
        if ( v118 > dword_5A0A58 - 1 )
          v118 = dword_5A0A58 - 1;
        v117 = dword_597F28[v118];
        if ( dword_1FDECBC[431 * a3] < v117 )
          v119 = 0;
        v116 = 0;
        if ( sub_401807(a4) )
          v116 = 1;
        if ( v116 )
          v119 = 0;
        v115 = v119;
        v114 = dword_597F28[word_1FDECC4[862 * a3]];
        v113 = dword_597F2C[word_1FDECC4[862 * a3]];
        v112 = (v113 - v114) / 0xAu;
        if ( dword_1FDEF94[431 * a3] >= v112 )
        {
          v119 = 0;
          v115 = 0;
        }
        sub_4011D1(a4, &v119);
        if ( v115 - v119 > 0 )
        {
          sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B3044);
          sub_401B63(a4, &String);
        }
        sub_401348(a4);
        if ( v130 > 45 )
        {
          ++v131;
          sub_4017AD(a4, v131);
        }
      }
      if ( !v136 )
      {
        v111 = -3;
        if ( v129 < 25 )
          v111 = -2;
        if ( v111 > 0 )
          v111 = 0;
        if ( v128 > 0 )
          v111 = 0;
        v110 = word_1FDED74[862 * a3];
        v109 = sub_401870(v110);
        if ( v111 && v109 == 6 )
          v111 = -4;
        v108 = dword_1FDF1F4[431 * a4] >> 7;
        v107 = dword_1FDF1F8[431 * a4] >> 7;
        if ( dword_8C76348 > 0 && v108 == 8 && v107 == 13 && !dword_752C430[790 * a4] )
          v111 = 0;
        if ( a3 < 1000 && sub_401807(a4) )
          v111 = 0;
        v106 = sub_401BC2(a4, 3200, 896, 3968, 1792, 0);
        if ( dword_8C761C0 && sub_401BC2(a4, 2476, 1847, 2545, 1918, 0) == 1 )
          v106 = 1;
        if ( dword_8C764C8 == 1 && sub_401BC2(a4, 1032, 1924, 1236, 2160, 0) == 1 )
          v106 = 1;
        v105 = sub_40109B(a3);
        v104 = sub_40109B(a4);
        if ( v105 != v104 && *((_DWORD *)&qword_750BA88 + v104 + 1) == v105 )
          v106 = 1;
        if ( dword_8C76254 != 1 && !v106 )
        {
          v130 += v111;
          sub_4014C4(a4, v130);
          if ( v111 )
          {
            sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8ACFC4);
            sub_401B63(a4, &String);
          }
          sub_4016EF(a4);
          sub_4018B1(a4);
        }
        if ( dword_5A11E8 )
          sub_401069(a3);
        for ( n = 0; n < 64; ++n )
        {
          if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * n) == 3463 )
          {
            v102 = sub_4013D9(&dword_1FDED7C[431 * a3] + 2 * n);
            if ( v102 > 1 )
            {
              --v102;
              sub_40187F(&dword_1FDED7C[431 * a3] + 2 * n, v102);
            }
            else
            {
              sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * n, 0, 8u);
            }
            sub_401960(a3, 1, n, &dword_1FDED7C[431 * a3] + 2 * n);
            word_1FDECEC[862 * a3] = (unsigned __int16)word_1FDECE8[862 * a3] / 5;
            sub_4016EF(a3);
            sub_401A19(a3, dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], 0);
            break;
          }
        }
      }
      sub_4010FF(a4, &v101);
      sub_4014FB(dword_1FDF1F4[431 * a4], dword_1FDF1F8[431 * a4], &v101, 0);
      sub_4010FF(a3, &v101);
      sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v101, 0);
      if ( a4 < 1000 && (unsigned __int8)byte_1FDEF8C[1724 * a3] == 2 )
      {
        v100 = (unsigned __int16)word_1FDECB2[862 * a3];
        if ( word_1FDED6C[862 * a3] == 3993 )
        {
          sub_401C03(v100, -1000);
        }
        else
        {
          if ( word_1FDED6C[862 * a3] == 3994 )
            sub_401C03(v100, -1000);
          else
            sub_401C03(v100, -500);
        }
      }
      v99 = word_1FDECE0[862 * a4];
      v98 = word_1FDECE0[862 * a3];
      if ( a4 >= 1000 )
        sub_4E3F40(a1, a2, (int)&String, "etc,PK MOB killer:%s(%d,%d) killed:%s(%d,%d) kingdom:%d war:%d");
      else
        sub_4E3F40(a1, a2, (int)&String, "etc,PK %s killer:%s(%d,%d) killed:%s(%d,%d) kingdom:%d war:%d pk:%d");
      if ( a3 < 1000 )
        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
    }
    if ( word_1FDED64[862 * a3] == 753 || (v6 = word_1FDED64[862 * a3], v6 == 1726) )
    {
      if ( a3 > 0 && a3 < 1000 )
      {
        sub_401B1D(v170, &v94);
        sub_4E3F40(a1, a2, (int)&String, "cho %s x:%d y:%d");
        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
      }
      v93 = sub_4014E2(&word_1FDED64[862 * a3]);
      if ( v93 > 0 )
      {
        --v93;
        if ( byte_1FDED66[1724 * a3] == 43 )
        {
          byte_1FDED67[1724 * a3] = v93;
        }
        else
        {
          if ( byte_1FDED68[1724 * a3] == 43 )
          {
            byte_1FDED69[1724 * a3] = v93;
          }
          else
          {
            if ( byte_1FDED6A[1724 * a3] == 43 )
            {
              byte_1FDED6B[1724 * a3] = v93;
            }
            else
            {
              v20 = byte_1FDED66[1724 * a3] >= 115 && byte_1FDED66[1724 * a3] <= 126;
              if ( v20 )
              {
                byte_1FDED67[1724 * a3] = v93;
              }
              else
              {
                v19 = byte_1FDED68[1724 * a3] >= 115 && byte_1FDED68[1724 * a3] <= 126;
                if ( v19 )
                {
                  byte_1FDED69[1724 * a3] = v93;
                }
                else
                {
                  v18 = byte_1FDED6A[1724 * a3] >= 115 && byte_1FDED6A[1724 * a3] <= 126;
                  if ( v18 )
                    byte_1FDED6B[1724 * a3] = v93;
                }
              }
            }
          }
        }
      }
      else
      {
        sub_40173A(&word_1FDED64[862 * a3]);
      }
      v6 = sub_401960(a3, 0, 13, &word_1FDED64[862 * a3]);
    }
    v92 = 0;
    for ( ii = 0; ii < 16; ++ii )
    {
      v6 = ii;
      v90 = (unsigned __int8)*(&byte_1FDF154[1724 * a3] + 8 * ii);
      if ( v90 == 1 || v90 == 3 || v90 == 5 || v90 == 7 || v90 == 10 || v90 == 12 || v90 == 20 || v90 == 32 )
      {
        v6 = ii;
        *(&byte_1FDF154[1724 * a3] + 8 * ii) = 0;
        v92 = 1;
      }
    }
    if ( v92 )
      v6 = sub_4016EF(a3);
  }
  return sub_4E46A0(1, v6, v11, v9, v10);
}
// 401069: using guessed type _DWORD __cdecl sub_401069(_DWORD);
// 40109B: using guessed type _DWORD __cdecl sub_40109B(_DWORD);
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 401154: using guessed type _DWORD __cdecl sub_401154(_DWORD);
// 40115E: using guessed type _DWORD __cdecl sub_40115E(_DWORD, _DWORD, _DWORD);
// 4011A9: using guessed type _DWORD __cdecl sub_4011A9(_DWORD, _DWORD);
// 4011CC: using guessed type _DWORD __cdecl sub_4011CC(_DWORD, _DWORD);
// 4011D1: using guessed type _DWORD __cdecl sub_4011D1(_DWORD, _DWORD);
// 401217: using guessed type _DWORD __cdecl sub_401217(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 401348: using guessed type _DWORD __cdecl sub_401348(_DWORD);
// 401352: using guessed type _DWORD __cdecl sub_401352(_DWORD);
// 4013BB: using guessed type _DWORD __cdecl sub_4013BB(_DWORD);
// 4013D4: using guessed type _DWORD __cdecl sub_4013D4(_DWORD);
// 4013D9: using guessed type _DWORD __cdecl sub_4013D9(_DWORD);
// 401479: using guessed type _DWORD __cdecl sub_401479(_DWORD);
// 401483: using guessed type _DWORD __cdecl sub_401483(_DWORD, _DWORD);
// 4014B0: using guessed type _DWORD __cdecl sub_4014B0(_DWORD, _DWORD);
// 4014C4: using guessed type _DWORD __cdecl sub_4014C4(_DWORD, _DWORD);
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 40150F: using guessed type _DWORD __cdecl sub_40150F(_DWORD, _DWORD);
// 401523: using guessed type _DWORD __cdecl sub_401523(_DWORD);
// 401550: using guessed type _DWORD __cdecl sub_401550(_DWORD, _DWORD);
// 401569: using guessed type _DWORD __cdecl sub_401569(_DWORD, _DWORD);
// 4015CD: using guessed type _DWORD __cdecl sub_4015CD(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 4016CC: using guessed type _DWORD __cdecl sub_4016CC(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 40173A: using guessed type _DWORD __cdecl sub_40173A(_DWORD);
// 4017AD: using guessed type _DWORD __cdecl sub_4017AD(_DWORD, _DWORD);
// 4017F3: using guessed type int __thiscall sub_4017F3(_DWORD);
// 401807: using guessed type _DWORD __cdecl sub_401807(_DWORD);
// 401866: using guessed type _DWORD __cdecl sub_401866(_DWORD, _DWORD);
// 401870: using guessed type _DWORD __cdecl sub_401870(_DWORD);
// 40187F: using guessed type _DWORD __cdecl sub_40187F(_DWORD, char);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 4019D8: using guessed type _DWORD __cdecl sub_4019D8(_DWORD, _DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 401A37: using guessed type _DWORD __cdecl sub_401A37(_DWORD, _DWORD);
// 401AC3: using guessed type _DWORD __cdecl sub_401AC3(_DWORD, _DWORD);
// 401B1D: using guessed type _DWORD __cdecl sub_401B1D(_DWORD, _DWORD);
// 401B45: using guessed type _DWORD __cdecl sub_401B45(_DWORD, __int16, __int16);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 401B81: using guessed type _DWORD __cdecl sub_401B81(_DWORD, _DWORD, _DWORD);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 401BC2: using guessed type _DWORD __cdecl sub_401BC2(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401BE5: using guessed type int __thiscall sub_401BE5(_DWORD);
// 401C03: using guessed type _DWORD __cdecl sub_401C03(_DWORD, _DWORD);
// 401C08: using guessed type _DWORD __cdecl sub_401C08(_DWORD, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 401C71: using guessed type _DWORD __cdecl sub_401C71(_DWORD);
// 401C8A: using guessed type _DWORD __cdecl sub_401C8A(_DWORD, _DWORD);
// 594F20: using guessed type int dword_594F20;
// 597250: using guessed type int dword_597250[];
// 597350: using guessed type int dword_597350[];
// 597F28: using guessed type int dword_597F28[];
// 597F2C: using guessed type int dword_597F2C[];
// 598574: using guessed type int dword_598574[];
// 598578: using guessed type void *off_598578;
// 5A0A58: using guessed type int dword_5A0A58;
// 5A0F0C: using guessed type int dword_5A0F0C;
// 5A0FFC: using guessed type int dword_5A0FFC;
// 5A1040: using guessed type int dword_5A1040;
// 5A1050: using guessed type int dword_5A1050;
// 5A1054: using guessed type int dword_5A1054;
// 5A1094: using guessed type int dword_5A1094[];
// 5A11E8: using guessed type int dword_5A11E8;
// 5A12A0: using guessed type int dword_5A12A0[];
// 5A12A4: using guessed type int dword_5A12A4;
// 5A12A8: using guessed type int dword_5A12A8;
// 5A14A0: using guessed type int dword_5A14A0;
// 9CCC86: using guessed type __int16 word_9CCC86[];
// BDE9C4: using guessed type int dword_BDE9C4[];
// BDE9C8: using guessed type int dword_BDE9C8;
// BDE9CC: using guessed type int dword_BDE9CC;
// BDF064: using guessed type int dword_BDF064[];
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED64: using guessed type __int16 word_1FDED64[];
// 1FDED6C: using guessed type __int16 word_1FDED6C[];
// 1FDED74: using guessed type __int16 word_1FDED74[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDEF80: using guessed type __int16 word_1FDEF80[];
// 1FDEF94: using guessed type int dword_1FDEF94[];
// 1FDEFA8: using guessed type int dword_1FDEFA8[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 1FDF288: using guessed type __int16 word_1FDF288[];
// 1FDF2A8: using guessed type int dword_1FDF2A8[];
// 1FDF2B4: using guessed type int dword_1FDF2B4[];
// 1FDF2B8: using guessed type int dword_1FDF2B8[];
// 1FDF2D4: using guessed type int dword_1FDF2D4[];
// 1FDF304: using guessed type int dword_1FDF304[];
// 1FDF308: using guessed type int dword_1FDF308[];
// 1FDF318: using guessed type int dword_1FDF318[];
// 74F91C0: using guessed type int dword_74F91C0[];
// 74F91C4: using guessed type int dword_74F91C4[];
// 74F91D0: using guessed type int dword_74F91D0[];
// 750BA88: using guessed type __int64 qword_750BA88;
// 750BAC4: using guessed type __int16 word_750BAC4[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752C430: using guessed type int dword_752C430[];
// 752C434: using guessed type int dword_752C434[];
// 752C4B0: using guessed type int dword_752C4B0[];
// 88634D0: using guessed type int dword_88634D0[];
// 88634D4: using guessed type int dword_88634D4;
// 88634D8: using guessed type int dword_88634D8;
// 88634DC: using guessed type int dword_88634DC;
// 88634E0: using guessed type int dword_88634E0;
// 88634E4: using guessed type int dword_88634E4;
// 88634E8: using guessed type int dword_88634E8;
// 88634EC: using guessed type int dword_88634EC;
// 8C75F1C: using guessed type int dword_8C75F1C;
// 8C76170: using guessed type int dword_8C76170;
// 8C761B4: using guessed type int dword_8C761B4;
// 8C761C0: using guessed type int dword_8C761C0;
// 8C761C4: using guessed type int dword_8C761C4;
// 8C761C8: using guessed type __int64 qword_8C761C8;
// 8C761E8: using guessed type int dword_8C761E8;
// 8C761F0: using guessed type int dword_8C761F0;
// 8C761F4: using guessed type int dword_8C761F4;
// 8C761F8: using guessed type int dword_8C761F8;
// 8C761FC: using guessed type int dword_8C761FC;
// 8C76200: using guessed type int dword_8C76200;
// 8C76204: using guessed type int dword_8C76204;
// 8C76208: using guessed type int dword_8C76208;
// 8C76210: using guessed type int dword_8C76210;
// 8C76254: using guessed type int dword_8C76254;
// 8C762D4: using guessed type int dword_8C762D4;
// 8C76348: using guessed type int dword_8C76348;
// 8C76388: using guessed type int dword_8C76388;
// 8C76445: using guessed type char byte_8C76445;
// 8C76446: using guessed type char byte_8C76446;
// 8C7644C: using guessed type char byte_8C7644C;
// 8C76460: using guessed type int dword_8C76460;
// 8C76468: using guessed type int dword_8C76468;
// 8C7648C: using guessed type int dword_8C7648C;
// 8C7649C: using guessed type int dword_8C7649C;
// 8C764C8: using guessed type int dword_8C764C8;
// 8C764CC: using guessed type int dword_8C764CC[];
// 8C76508: using guessed type int dword_8C76508[];

//----- (004BFF60) --------------------------------------------------------
int __cdecl sub_4BFF60(int a1, int a2, int a3, int a4, char a5, int a6)
{
  int v6; // eax@3
  int v7; // ecx@11
  __int16 *v8; // edx@11
  __int16 *v9; // edx@11
  int v10; // ecx@11
  char v12; // [sp+0h] [bp-74h]@0
  int v13; // [sp+4h] [bp-70h]@0
  int v14; // [sp+8h] [bp-6Ch]@0
  char v15; // [sp+Ch] [bp-68h]@1
  bool v16; // [sp+4Ch] [bp-28h]@14
  __int16 v17; // [sp+50h] [bp-24h]@11
  __int16 v18; // [sp+54h] [bp-20h]@11
  __int16 v19; // [sp+56h] [bp-1Eh]@11
  __int16 v20; // [sp+5Ch] [bp-18h]@11
  __int16 v21; // [sp+5Eh] [bp-16h]@11
  __int16 v22; // [sp+60h] [bp-14h]@11
  int v23; // [sp+62h] [bp-12h]@11
  int v24; // [sp+66h] [bp-Eh]@11
  char v25; // [sp+6Ah] [bp-Ah]@11
  char v26; // [sp+6Bh] [bp-9h]@11
  char v27; // [sp+6Ch] [bp-8h]@11
  char v28; // [sp+6Dh] [bp-7h]@11
  __int16 v29; // [sp+6Eh] [bp-6h]@11
  int v30; // [sp+70h] [bp-4h]@9

  memset(&v15, -858993460, 0x68u);
  if ( (signed int)*(_WORD *)a3 > 0 && (signed int)*(_WORD *)a3 < 6500 )
  {
    sub_40179E(&a1, &a2);
    if ( *(&byte_782F298[4096 * a2] + a1) > -105 && *(&byte_782F298[4096 * a2] + a1) < 115 )
    {
      if ( *(&word_54F8194[4096 * a2] + a1) )
      {
        v6 = 0;
      }
      else
      {
        v30 = sub_4015EB();
        if ( v30 )
        {
          dword_88636A0[13 * v30] = 1;
          dword_88636A4[13 * v30] = a1;
          dword_88636A8[13 * v30] = a2;
          v7 = *(_DWORD *)(a3 + 4);
          v8 = &word_8863698[26 * v30];
          *(_DWORD *)v8 = *(_DWORD *)a3;
          *((_DWORD *)v8 + 1) = v7;
          dword_88636B4[13 * v30] = a4;
          dword_88636B0[13 * v30] = 1;
          dword_88636B8[13 * v30] = 0;
          dword_88636BC[13 * v30] = 0;
          dword_88636AC[13 * v30] = sub_40191F(a3, 34);
          *(&word_54F8194[4096 * a2] + a1) = v30;
          dword_88636C0[13 * v30] = *(&byte_782F298[4096 * a2] + a1);
          dword_88636C4[13 * v30] = dword_8C7632C;
          dword_88636C8[13 * v30] = a6;
          v18 = 622;
          v17 = 32;
          v19 = 30000;
          v22 = v30 + 15000;
          v9 = &word_8863698[26 * v30];
          v10 = *((_DWORD *)v9 + 1);
          v23 = *(_DWORD *)v9;
          v24 = v10;
          v20 = a1;
          v21 = a2;
          v25 = a4;
          v26 = LOBYTE(dword_88636B0[13 * v30]);
          v28 = a5;
          v29 = a6;
          v27 = LOBYTE(dword_88636C0[13 * v30]);
          v16 = a1 <= 16 || a1 >= 20 || a2 >= 29;
          if ( v16 )
            sub_4014FB(a1, a2, &v17, 0);
          else
            sub_401406(a1, a2, &v17, 0);
          v6 = v30;
        }
        else
        {
          v6 = 0;
        }
      }
    }
    else
    {
      v6 = 0;
    }
  }
  else
  {
    v6 = 0;
  }
  return sub_4E46A0(1, v6, v14, v12, v13);
}
// 401406: using guessed type _DWORD __cdecl sub_401406(_DWORD, _DWORD, _DWORD, _DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 4015EB: using guessed type int sub_4015EB(void);
// 40179E: using guessed type _DWORD __cdecl sub_40179E(_DWORD, _DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 54F8194: using guessed type __int16 word_54F8194[];
// 8863698: using guessed type __int16 word_8863698[];
// 88636A0: using guessed type int dword_88636A0[];
// 88636A4: using guessed type int dword_88636A4[];
// 88636A8: using guessed type int dword_88636A8[];
// 88636AC: using guessed type int dword_88636AC[];
// 88636B0: using guessed type int dword_88636B0[];
// 88636B4: using guessed type int dword_88636B4[];
// 88636B8: using guessed type int dword_88636B8[];
// 88636BC: using guessed type int dword_88636BC[];
// 88636C0: using guessed type int dword_88636C0[];
// 88636C4: using guessed type int dword_88636C4[];
// 88636C8: using guessed type int dword_88636C8[];
// 8C7632C: using guessed type int dword_8C7632C;

//----- (004C0290) --------------------------------------------------------
int __cdecl sub_4C0290(signed int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-108h]@0
  int v4; // [sp+4h] [bp-104h]@0
  int v5; // [sp+8h] [bp-100h]@0
  char v6; // [sp+Ch] [bp-FCh]@1
  char v7; // [sp+4Ch] [bp-BCh]@10
  int v8; // [sp+FCh] [bp-Ch]@10
  int v9; // [sp+100h] [bp-8h]@10
  int i; // [sp+104h] [bp-4h]@3

  v1 = -858993460;
  memset(&v6, -858993460, 0xFCu);
  if ( a1 > 0 )
  {
    if ( a1 < 1000 )
    {
      sub_4E4640((char *)&unk_752BF4C + 3160 * a1, 0, 0x9Cu);
      for ( i = 0; i < 15; ++i )
        *(&byte_752BFD0[3160 * a1] + i) = -1;
      v1 = (int)sub_4E4640((char *)&unk_752BFE8 + 3160 * a1, 0, 0xC4u);
      for ( i = 0; i < 12; ++i )
      {
        v1 = 3160 * a1;
        *(&byte_752C06C[3160 * a1] + i) = -1;
      }
      if ( dword_752BAF0[790 * a1] == 22 )
      {
        sub_401663(a1, a1, 900);
        v9 = dword_1FDF1F4[431 * a1];
        v8 = dword_1FDF1F8[431 * a1];
        sub_4010FF(a1, &v7);
        v1 = sub_4014FB(v9, v8, &v7, 0);
        dword_752BAF4[790 * a1] = 0;
      }
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401663: using guessed type _DWORD __cdecl sub_401663(_DWORD, __int16, __int16);
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF4: using guessed type int dword_752BAF4[];

//----- (004C0460) --------------------------------------------------------
int __usercall sub_4C0460<eax>(int a1<ebx>, int a2<esi>, signed int a3, signed int a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-80h]@0
  int v7; // [sp+4h] [bp-7Ch]@0
  int v8; // [sp+8h] [bp-78h]@0
  char v9; // [sp+Ch] [bp-74h]@1
  int v10; // [sp+4Ch] [bp-34h]@67
  int v11; // [sp+50h] [bp-30h]@63
  int v12; // [sp+54h] [bp-2Ch]@59
  int l; // [sp+58h] [bp-28h]@56
  int v14; // [sp+5Ch] [bp-24h]@50
  int v15; // [sp+60h] [bp-20h]@48
  int k; // [sp+64h] [bp-1Ch]@48
  int v17; // [sp+68h] [bp-18h]@39
  int j; // [sp+6Ch] [bp-14h]@36
  int v19; // [sp+70h] [bp-10h]@36
  int v20; // [sp+74h] [bp-Ch]@22
  int i; // [sp+78h] [bp-8h]@19
  int v22; // [sp+7Ch] [bp-4h]@1

  memset(&v9, -858993460, 0x74u);
  v4 = 1724 * a3;
  v22 = dword_1FDF1D8[431 * a3];
  if ( v22 >= 0 && v22 < 12800 )
  {
    if ( v22 && v22 < 1000 && dword_752BAF0[790 * v22] != 22 )
    {
      Log("err,removeparty - conn mode", &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
      Log("err,removeparty - leader mode", &byte_752BAD8[3160 * v22], dword_752BAEC[790 * v22]);
      v4 = 1724 * a3;
      dword_1FDF1D8[431 * a3] = 0;
    }
    else
    {
      if ( a4 )
      {
        if ( a4 > 0 )
        {
          if ( a4 < 1000 )
          {
            if ( dword_752BAF0[790 * a4] == 22 )
            {
              if ( !v22 )
              {
                v4 = dword_1FDF1D8[431 * a4];
                if ( v4 == a3 )
                {
                  if ( a3 != a4 )
                  {
                    if ( a4 > 0 && a4 < 1000 )
                      sub_401730(a4, 0);
                    v4 = sub_401730(a3, a4);
                    dword_1FDF1D8[431 * a4] = 0;
                    for ( i = 0; i < 12; ++i )
                    {
                      v20 = *(&word_1FDF28A[862 * a3] + i);
                      if ( v20 )
                      {
                        if ( v20 == a4 )
                          *(&word_1FDF28A[862 * a3] + i) = 0;
                        if ( v20 > 0 && v20 < 1000 && dword_752BAF0[790 * v20] == 22 )
                          sub_401730(v20, a4);
                      }
                      v4 = i + 1;
                    }
                  }
                }
              }
            }
          }
        }
      }
      else
      {
        if ( a3 > 0 && a3 < 1000 )
          sub_401730(a3, 0);
        if ( !v22 )
          v22 = a3;
        v19 = 0;
        sub_401730(v22, a3);
        dword_1FDF1D8[431 * a3] = 0;
        dword_1FDF314[431 * a3] = 0;
        for ( j = 0; j < 12; ++j )
        {
          v17 = *(&word_1FDF28A[862 * v22] + j);
          if ( v17 )
          {
            ++v19;
            if ( v17 == a3 )
              *(&word_1FDF28A[862 * v22] + j) = 0;
            if ( v17 > 0 && v17 < 1000 && dword_752BAF0[790 * v17] == 22 )
              sub_401730(v17, a3);
          }
        }
        v4 = v22;
        if ( v22 == a3 )
        {
          v15 = 0;
          for ( k = 0; k < 12; ++k )
          {
            v14 = *(&word_1FDF28A[862 * v22] + k);
            if ( v14 )
            {
              v15 = v14;
              break;
            }
          }
          if ( k != 12 && v19 > 1 )
          {
            sub_4016AE(v15, v15, 0);
            for ( l = 0; l < 12; ++l )
            {
              v12 = *(&word_1FDF28A[862 * v22] + l);
              if ( v12 > 0 )
              {
                sub_4016AE(v15, v12, l + 1);
                sub_4016AE(v12, v15, 0);
                dword_1FDF1D8[431 * v12] = v15;
                if ( v12 != v15 )
                  *(&word_1FDF28A[862 * v15] + l) = v12;
              }
            }
            dword_1FDF1D8[431 * v15] = 0;
            sub_4E4640(&word_1FDF28A[862 * v22], 0, 0x18u);
            v4 = 1724 * v15;
            v11 = dword_1FDF314[431 * v15];
            if ( v11 )
            {
              if ( v19 >= 0 && v19 <= 21 )
              {
                v4 = sub_401BC2(a3, 3200, 896, 3968, 1792, 0);
                v10 = v4;
                if ( v4 == 1 )
                  dword_5A0B18[4 * (v11 - 1)] = v15;
              }
              else
              {
                sub_4E3F40(a1, a2, (int)&String, "err,Rune Quest Index %d");
                v4 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
              }
            }
          }
          else
          {
            dword_1FDF1D8[431 * v15] = 0;
            v4 = (int)sub_4E4640(&word_1FDF28A[862 * v22], 0, 0x18u);
          }
        }
      }
    }
  }
  else
  {
    v4 = Log("err,RemoveParty but worng leader", &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4016AE: using guessed type _DWORD __cdecl sub_4016AE(_DWORD, _DWORD, char);
// 401730: using guessed type _DWORD __cdecl sub_401730(_DWORD, _DWORD);
// 401BC2: using guessed type _DWORD __cdecl sub_401BC2(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 5A0B18: using guessed type int dword_5A0B18[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 1FDF314: using guessed type int dword_1FDF314[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004C0B20) --------------------------------------------------------
int __cdecl sub_4C0B20(int a1, int a2, int a3)
{
  int v3; // eax@2
  char v5; // [sp+0h] [bp-C0h]@0
  int v6; // [sp+4h] [bp-BCh]@0
  int v7; // [sp+8h] [bp-B8h]@0
  char v8; // [sp+Ch] [bp-B4h]@1
  int v9; // [sp+4Ch] [bp-74h]@34
  char v10; // [sp+50h] [bp-70h]@30
  int v11; // [sp+60h] [bp-60h]@30
  int v12; // [sp+64h] [bp-5Ch]@30
  int v13; // [sp+84h] [bp-3Ch]@29
  int v14; // [sp+88h] [bp-38h]@23
  int v15; // [sp+8Ch] [bp-34h]@23
  int v16; // [sp+90h] [bp-30h]@18
  int v17; // [sp+94h] [bp-2Ch]@12
  int v18; // [sp+98h] [bp-28h]@12
  int v19; // [sp+9Ch] [bp-24h]@12
  int j; // [sp+A0h] [bp-20h]@9
  int i; // [sp+A4h] [bp-1Ch]@7
  int v22; // [sp+A8h] [bp-18h]@7
  int v23; // [sp+ACh] [bp-14h]@7
  int v24; // [sp+B0h] [bp-10h]@3
  int v25; // [sp+B4h] [bp-Ch]@3
  int v26; // [sp+B8h] [bp-8h]@1
  int v27; // [sp+BCh] [bp-4h]@1

  memset(&v8, -858993460, 0xB4u);
  v27 = dword_88636B4[13 * a1];
  v26 = sub_401C1C(
          dword_88636AC[13 * a1],
          dword_88636B0[13 * a1],
          a2,
          dword_88636A4[13 * a1],
          dword_88636A8[13 * a1],
          byte_782F298,
          v27,
          a3);
  if ( v26 )
  {
    dword_88636C0[13 * a1] = *(_DWORD *)a3;
    v25 = dword_88636AC[13 * a1];
    v24 = dword_88636B0[13 * a1];
    dword_88636B8[13 * a1] = 0;
    if ( v25 < 10 && v25 >= 0 )
    {
      if ( v24 != a2 )
      {
        v23 = dword_88636A4[13 * a1];
        v22 = dword_88636A8[13 * a1];
        for ( i = 0; i <= 5; ++i )
        {
          for ( j = 0; j <= 5; ++j )
          {
            v19 = *(&dword_5959C8[144 * v25] + 36 * v27 + 6 * i + j);
            v18 = v23 + j - 2;
            v17 = v22 + i - 2;
            if ( v18 >= 1 )
            {
              if ( v17 >= 1 )
              {
                if ( v18 <= 4094 )
                {
                  if ( v17 <= 4094 )
                  {
                    if ( v19 )
                    {
                      v16 = (unsigned __int16)*(&word_34EA550[4096 * v17] + v18);
                      if ( v16 > 0 )
                      {
                        if ( v16 < 12800 )
                        {
                          if ( dword_1FDF1D4[431 * v16] && LOWORD(dword_1FDECFC[431 * v16]) == 220 )
                          {
                            dword_1FDF1D4[431 * v16] = 0;
                            LOWORD(dword_1FDECFC[431 * v16]) = 0;
                            v15 = dword_1FDF1F4[431 * v16];
                            v14 = dword_1FDF1F8[431 * v16];
                            if ( v15 > 0 && v15 < 4096 && v14 > 0 && v14 < 4096 )
                              *(&word_34EA550[4096 * v14] + v15) = 0;
                          }
                          else
                          {
                            v13 = sub_40176C(v16, &v18, &v17, *(&byte_782F298[4096 * v17] + v18));
                            if ( v13 )
                            {
                              byte_1FDF208[1724 * v16] = 0;
                              sub_401339(v16, v18, v17, &v10);
                              v12 = 20;
                              v11 = 0;
                              sub_4014FB(v18, v17, &v10, 0);
                              if ( v16 < 1000 )
                                sub_401203(&v10, 52);
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      v9 = sub_40191F(&word_8863698[26 * a1], 39);
      if ( v9 == 15 && v24 == 1 && a2 == 3 )
        sub_40177B("Gate", dword_88636A4[13 * a1], dword_88636A8[13 * a1], off_59BEB0, 0);
      dword_88636B0[13 * a1] = a2;
      v3 = 1;
    }
    else
    {
      Log("err,updateItem maskidx illegal", "-system", 0);
      v3 = 1;
    }
  }
  else
  {
    v3 = 0;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401339: using guessed type _DWORD __cdecl sub_401339(_DWORD, __int16, __int16, _DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40176C: using guessed type _DWORD __cdecl sub_40176C(_DWORD, _DWORD, _DWORD, _DWORD);
// 40177B: using guessed type _DWORD __cdecl sub_40177B(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 401C1C: using guessed type _DWORD __cdecl sub_401C1C(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 59BEB0: using guessed type char *off_59BEB0;
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 8863698: using guessed type __int16 word_8863698[];
// 88636A4: using guessed type int dword_88636A4[];
// 88636A8: using guessed type int dword_88636A8[];
// 88636AC: using guessed type int dword_88636AC[];
// 88636B0: using guessed type int dword_88636B0[];
// 88636B4: using guessed type int dword_88636B4[];
// 88636B8: using guessed type int dword_88636B8[];
// 88636C0: using guessed type int dword_88636C0[];

//----- (004C0FE0) --------------------------------------------------------
int __cdecl sub_4C0FE0(signed int a1)
{
  int v1; // eax@9
  char v3; // [sp+0h] [bp-98h]@0
  int v4; // [sp+4h] [bp-94h]@0
  int v5; // [sp+8h] [bp-90h]@0
  char v6; // [sp+Ch] [bp-8Ch]@1
  int v7; // [sp+4Ch] [bp-4Ch]@7
  int v8; // [sp+5Ch] [bp-3Ch]@7
  int v9; // [sp+80h] [bp-18h]@7
  int i; // [sp+84h] [bp-14h]@2
  int v11; // [sp+88h] [bp-10h]@1
  int v12; // [sp+8Ch] [bp-Ch]@1
  int v13; // [sp+90h] [bp-8h]@1
  int v14; // [sp+94h] [bp-4h]@1

  memset(&v6, -858993460, 0x8Cu);
  v14 = (unsigned __int16)word_1FDECC0[862 * a1];
  v13 = (unsigned __int16)word_1FDECC2[862 * a1];
  v12 = (byte_1FDECB1[1724 * a1] & 0xC0) >> 6;
  v14 = Rand()() % 15 + dword_594DE0[21 * v12];
  v13 = Rand()() % 15 + dword_594DE4[21 * v12];
  v11 = (unsigned __int16)word_1FDECB2[862 * a1];
  if ( v11 > 0 )
  {
    for ( i = 0; i < 5; ++i )
    {
      if ( v11 == dword_594DD0[21 * i] )
      {
        v14 = dword_594DD8[21 * i];
        v13 = dword_594DDC[21 * i];
        break;
      }
    }
  }
  v9 = sub_4015D2(a1, &v14, &v13);
  sub_401339(a1, v14, v13, &v7);
  v8 = 1;
  if ( a1 < 1000 )
    sub_401203(&v7, (unsigned __int16)v7);
  sub_4011D6(a1, v14, v13, &v7);
  sub_4016EF(a1);
  v1 = sub_4018B1(a1);
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4011D6: using guessed type _DWORD __cdecl sub_4011D6(_DWORD, _DWORD, _DWORD, _DWORD);
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401339: using guessed type _DWORD __cdecl sub_401339(_DWORD, __int16, __int16, _DWORD);
// 4015D2: using guessed type _DWORD __cdecl sub_4015D2(_DWORD, _DWORD, _DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 594DD0: using guessed type int dword_594DD0[];
// 594DD8: using guessed type int dword_594DD8[];
// 594DDC: using guessed type int dword_594DDC[];
// 594DE0: using guessed type int dword_594DE0[];
// 594DE4: using guessed type int dword_594DE4[];
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECC0: using guessed type __int16 word_1FDECC0[];
// 1FDECC2: using guessed type __int16 word_1FDECC2[];

//----- (004C1210) --------------------------------------------------------
int __usercall sub_4C1210<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v4; // eax@3
  int v5; // edx@7
  char v7; // [sp+0h] [bp-74h]@0
  int v8; // [sp+4h] [bp-70h]@0
  int v9; // [sp+8h] [bp-6Ch]@0
  char v10; // [sp+Ch] [bp-68h]@1
  int i; // [sp+4Ch] [bp-28h]@35
  int j; // [sp+50h] [bp-24h]@18
  int v13; // [sp+54h] [bp-20h]@10
  int v14; // [sp+58h] [bp-1Ch]@7
  char v15; // [sp+5Ch] [bp-18h]@7
  char v16; // [sp+68h] [bp-Ch]@7

  memset(&v10, -858993460, 0x68u);
  if ( a3 > 0 && a4 >= 0 && (v4 = a3, a3 < dword_5A14A0) && a4 < dword_5A14A0 )
  {
    if ( a3 != a4 )
    {
      LOWORD(v4) = a3;
      sub_4011CC(v4, &v16);
      LOWORD(v5) = a4;
      sub_4011CC(v5, &v15);
      v14 = (unsigned __int16)word_750BAC4[a3];
      if ( v14 < 0 || v14 >= dword_5A14A0 )
        v14 = 0;
      v4 = a4;
      v13 = (unsigned __int16)word_750BAC4[a4];
      if ( v13 < 0 || v13 >= dword_5A14A0 )
        v13 = 0;
      if ( a4 )
      {
        if ( v14 || !a4 || v13 == a3 )
        {
          if ( v14 || !a4 || v13 != a3 )
          {
            sub_4E3F40(a1, a2, (int)&String, "err,dowar my:%d ta:%d ct:%d et:%d");
            v4 = Log(&String, "-system", 0);
          }
          else
          {
            sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AD144);
            sub_401479(&String);
            v4 = a3;
            word_750BAC4[a3] = a4;
            for ( i = 0; i < 1000; ++i )
            {
              v4 = 3160 * i;
              if ( dword_752BAF0[790 * i] == 22 )
              {
                if ( (unsigned __int16)word_1FDECB2[862 * i] == a3
                  || (v4 = 1724 * i, (unsigned __int16)word_1FDECB2[862 * i] == a4) )
                  v4 = sub_401915(i, dword_594F6C);
              }
            }
          }
        }
        else
        {
          sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AD0C4);
          sub_40169A(a3, &String);
          v4 = sub_40169A(a4, &String);
          word_750BAC4[a3] = a4;
        }
      }
      else
      {
        if ( v14 > 0 )
        {
          v4 = v14;
          if ( v14 < dword_5A14A0 )
          {
            v13 = (unsigned __int16)word_750BAC4[v14];
            sub_4011CC(v14, &v15);
            if ( v13 == a3 )
            {
              sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AD1C4);
              word_750BAC4[v14] = 0;
              word_750BAC4[a3] = 0;
              for ( j = 0; j < 1000; ++j )
              {
                if ( dword_752BAF0[790 * j] == 22
                  && ((unsigned __int16)word_1FDECB2[862 * j] == a3 || (unsigned __int16)word_1FDECB2[862 * j] == v14) )
                  sub_401915(j, dword_594F6C);
              }
            }
            else
            {
              sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AD644);
              word_750BAC4[a3] = 0;
            }
            sub_40169A(a3, &String);
            v4 = sub_40169A(v14, &String);
          }
        }
      }
    }
  }
  else
  {
    sub_4E3F40(a1, a2, (int)&String, "err,dowar my:%d ta:%d");
    v4 = Log(&String, "-system", 0);
  }
  return sub_4E46A0(1, v4, v9, v7, v8);
}
// 4011CC: using guessed type _DWORD __cdecl sub_4011CC(_DWORD, _DWORD);
// 401479: using guessed type _DWORD __cdecl sub_401479(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40169A: using guessed type _DWORD __cdecl sub_40169A(_DWORD, _DWORD);
// 401915: using guessed type _DWORD __cdecl sub_401915(_DWORD, _DWORD);
// 594F6C: using guessed type int dword_594F6C;
// 5A14A0: using guessed type int dword_5A14A0;
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 750BAC4: using guessed type __int16 word_750BAC4[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004C16B0) --------------------------------------------------------
int __usercall sub_4C16B0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v4; // eax@3
  int v5; // edx@7
  char v7; // [sp+0h] [bp-70h]@0
  int v8; // [sp+4h] [bp-6Ch]@0
  int v9; // [sp+8h] [bp-68h]@0
  char v10; // [sp+Ch] [bp-64h]@1
  int i; // [sp+4Ch] [bp-24h]@18
  int v12; // [sp+50h] [bp-20h]@10
  int v13; // [sp+54h] [bp-1Ch]@7
  char v14; // [sp+58h] [bp-18h]@7
  char v15; // [sp+64h] [bp-Ch]@7

  memset(&v10, -858993460, 0x64u);
  if ( a3 > 0 && a4 >= 0 && (v4 = a3, a3 < dword_5A14A0) && a4 < dword_5A14A0 )
  {
    if ( a3 != a4 )
    {
      LOWORD(v4) = a3;
      sub_4011CC(v4, &v15);
      LOWORD(v5) = a4;
      sub_4011CC(v5, &v14);
      v13 = (unsigned __int16)word_882F930[a3];
      if ( v13 < 0 || v13 >= dword_5A14A0 )
        v13 = 0;
      v4 = a4;
      v12 = (unsigned __int16)word_882F930[a4];
      if ( a4 )
      {
        if ( !v13 && a4 )
        {
          sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AF744);
          sub_40169A(a3, &String);
          v4 = sub_40169A(a4, &String);
          LOWORD(v4) = a4;
          word_882F930[a3] = a4;
        }
      }
      else
      {
        v4 = (unsigned __int16)word_882F930[a3];
        v13 = v4;
        if ( v4 > 0 && v13 < dword_5A14A0 )
        {
          LOWORD(v4) = v13;
          sub_4011CC(v4, &v14);
          sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AF6C4);
          sub_40169A(a3, &String);
          sub_40169A(v13, &String);
          word_882F930[a3] = 0;
          v4 = v13;
          word_882F930[v13] = 0;
        }
      }
      for ( i = 0; i < 1000; ++i )
      {
        if ( dword_752BAF0[790 * i] == 22 )
        {
          v4 = 1724 * i;
          if ( (unsigned __int16)word_1FDECB2[862 * i] == a3 )
            v4 = sub_401915(i, dword_594F6C);
        }
      }
    }
  }
  else
  {
    sub_4E3F40(a1, a2, (int)&String, "err,doally my:%d ta:%d");
    v4 = Log(&String, "-system", 0);
  }
  return sub_4E46A0(1, v4, v9, v7, v8);
}
// 4011CC: using guessed type _DWORD __cdecl sub_4011CC(_DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40169A: using guessed type _DWORD __cdecl sub_40169A(_DWORD, _DWORD);
// 401915: using guessed type _DWORD __cdecl sub_401915(_DWORD, _DWORD);
// 594F6C: using guessed type int dword_594F6C;
// 5A14A0: using guessed type int dword_5A14A0;
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 882F930: using guessed type __int16 word_882F930[];

//----- (004C1970) --------------------------------------------------------
int __usercall sub_4C1970<eax>(int a1<ebx>, int a2<esi>, signed int a3, signed int a4)
{
  int v4; // eax@3
  char v6; // [sp+0h] [bp-204h]@0
  int v7; // [sp+4h] [bp-200h]@0
  int v8; // [sp+8h] [bp-1FCh]@0
  char v9; // [sp+Ch] [bp-1F8h]@1
  char v10; // [sp+4Ch] [bp-1B8h]@38
  char v11; // [sp+FCh] [bp-108h]@38
  int v12; // [sp+1ACh] [bp-58h]@38
  __int16 v13; // [sp+1B0h] [bp-54h]@38
  __int16 v14; // [sp+1B2h] [bp-52h]@38
  int v15; // [sp+1B8h] [bp-4Ch]@38
  int v16; // [sp+1BCh] [bp-48h]@38
  int v17; // [sp+1C0h] [bp-44h]@38
  int v18; // [sp+1C4h] [bp-40h]@29
  int v19; // [sp+1C8h] [bp-3Ch]@29
  int v20; // [sp+1CCh] [bp-38h]@29
  int v21; // [sp+1D0h] [bp-34h]@26
  __int16 v22; // [sp+1D4h] [bp-30h]@26
  __int16 v23; // [sp+1D6h] [bp-2Eh]@26
  int v24; // [sp+1DCh] [bp-28h]@26
  int j; // [sp+1E0h] [bp-24h]@21
  int i; // [sp+1E4h] [bp-20h]@19
  int v27; // [sp+1E8h] [bp-1Ch]@18
  int v28; // [sp+1ECh] [bp-18h]@18
  int v29; // [sp+1F0h] [bp-14h]@18
  int v30; // [sp+1F4h] [bp-10h]@14
  int v31; // [sp+1F8h] [bp-Ch]@14
  int v32; // [sp+1FCh] [bp-8h]@9
  int v33; // [sp+200h] [bp-4h]@9

  memset(&v9, -858993460, 0x1F8u);
  if ( a4 > 0 && a4 <= 1000 )
  {
    if ( a3 > 0 && a3 <= 1000 )
    {
      if ( dword_8C76348 <= 0 )
      {
        v33 = (unsigned __int16)word_1FDECB2[862 * a3];
        v32 = (unsigned __int8)byte_1FDEF8C[1724 * a3];
        if ( v33 )
        {
          if ( a4 < 1000 && dword_752BAF0[790 * a4] == 22 )
          {
            v31 = (unsigned __int16)word_1FDECB2[862 * a4];
            v30 = (unsigned __int8)byte_1FDEF8C[1724 * a4];
            if ( v31 == v33 )
            {
              if ( a3 != a4 || v32 != 2 )
              {
                if ( a3 == a4 || (v4 = v32, v32 > v30) )
                {
                  v20 = v31 >> 12;
                  v19 = v31 & 0xFFF;
                  v18 = word_1FDED5C[862 * a4];
                  if ( v18 != 526 && v18 != 529 )
                  {
                    if ( v18 != 527 && v18 != 530 )
                    {
                      if ( v18 == 528 || v18 == 531 )
                      {
                        *(&byte_88B5F10[245760 * v20] + 60 * v19) = 0;
                        *(&byte_88B5F11[245760 * v20] + 60 * v19) = 0;
                      }
                    }
                    else
                    {
                      *(&byte_88B5F04[245760 * v20] + 60 * v19) = 0;
                      *(&byte_88B5F05[245760 * v20] + 60 * v19) = 0;
                    }
                  }
                  else
                  {
                    *(&byte_88B5EF8[245760 * v20] + 60 * v19) = 0;
                    *(&byte_88B5EF9[245760 * v20] + 60 * v19) = 0;
                  }
                  sub_4E4640(&v12, 0, 0x18u);
                  v14 = a3;
                  LOWORD(v12) = 24;
                  v13 = 3095;
                  v15 = v33;
                  v16 = 0;
                  v17 = a4;
                  sub_40132A(&v12, 24);
                  sub_4E4640(&word_1FDED5C[862 * a4], 0, 8u);
                  sub_401960(a4, 0, 12, &word_1FDED5C[862 * a4]);
                  sub_40162C(a4);
                  sub_4016EF(a4);
                  sub_4E3F40(a1, a2, (int)&String, "sys,update guild out %d - %s : %s");
                  Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
                  sub_4010FF(a4, &v11);
                  sub_4014FB(dword_1FDF1E4[431 * a4], dword_1FDF1E8[431 * a4], &v11, 0);
                  sub_401B63(a4, &unk_8AB0C4);
                  sub_4010FF(a3, &v10);
                  sub_4014FB(dword_1FDF1E4[431 * a3], dword_1FDF1E8[431 * a3], &v10, 0);
                  v4 = sub_401B63(a3, &unk_8AB0C4);
                }
              }
              else
              {
                v29 = (v33 >> 12) & 0xF;
                v28 = v33 & 0xFFF;
                v27 = (unsigned __int16)word_1FDECB2[862 * a3];
                if ( v27 )
                {
                  for ( i = 0; i < 10; ++i )
                  {
                    for ( j = 0; j < 5; ++j )
                    {
                      v4 = 20 * i;
                      if ( v27 == *(&dword_5A39F0[5 * i] + j) )
                        return sub_4E46A0(1, v4, v8, v6, v7);
                    }
                  }
                }
                sub_4E4640(&v21, 0, 0x10u);
                v23 = a3;
                LOWORD(v21) = 16;
                v22 = 15386;
                v24 = v33;
                v4 = sub_40132A(&v21, 16);
              }
            }
            else
            {
              v4 = sub_401B63(a3, &unk_8AAFC4);
            }
          }
          else
          {
            v4 = sub_401B63(a3, &unk_8A9544);
          }
        }
        else
        {
          v4 = sub_401B63(a3, &unk_8AB144);
        }
      }
      else
      {
        v4 = sub_401B63(a3, &unk_8B03C4);
      }
    }
    else
    {
      v4 = Log("err,dodeprivate - conn", "-system", 0);
    }
  }
  else
  {
    v4 = Log("err,dodeprivate - target", "-system", 0);
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40162C: using guessed type _DWORD __cdecl sub_40162C(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 5A39F0: using guessed type int dword_5A39F0[];
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDED5C: using guessed type __int16 word_1FDED5C[];
// 1FDF1E4: using guessed type int dword_1FDF1E4[];
// 1FDF1E8: using guessed type int dword_1FDF1E8[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 8C76348: using guessed type int dword_8C76348;

//----- (004C1FC0) --------------------------------------------------------
int __usercall sub_4C1FC0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-5A0h]@0
  int v5; // [sp+4h] [bp-59Ch]@0
  int v6; // [sp+8h] [bp-598h]@0
  char v7; // [sp+Ch] [bp-594h]@1
  int k; // [sp+4Ch] [bp-554h]@68
  char v9; // [sp+50h] [bp-550h]@67
  char v10; // [sp+150h] [bp-450h]@67
  __int16 v11; // [sp+250h] [bp-350h]@62
  __int16 v12; // [sp+254h] [bp-34Ch]@62
  __int16 v13; // [sp+256h] [bp-34Ah]@62
  char v14; // [sp+25Ch] [bp-344h]@80
  char v15; // [sp+45Ch] [bp-144h]@61
  int v16; // [sp+55Ch] [bp-44h]@56
  int v17; // [sp+560h] [bp-40h]@39
  int v18; // [sp+564h] [bp-3Ch]@39
  int j; // [sp+568h] [bp-38h]@34
  int v20; // [sp+56Ch] [bp-34h]@34
  int v21; // [sp+570h] [bp-30h]@34
  int v22; // [sp+574h] [bp-2Ch]@34
  int v23; // [sp+578h] [bp-28h]@34
  int v24; // [sp+57Ch] [bp-24h]@34
  int v25; // [sp+580h] [bp-20h]@34
  int v26; // [sp+584h] [bp-1Ch]@8
  int v27; // [sp+588h] [bp-18h]@8
  int i; // [sp+58Ch] [bp-14h]@3
  int v29; // [sp+590h] [bp-10h]@3
  int v30; // [sp+594h] [bp-Ch]@3
  int v31; // [sp+598h] [bp-8h]@3
  int v32; // [sp+59Ch] [bp-4h]@3

  v2 = -858993460;
  memset(&v7, -858993460, 0x594u);
  if ( dword_8C764B8 > 0 )
  {
    --dword_8C764B8;
    v2 = dword_8C764B8 / 5;
    if ( !(dword_8C764B8 % 5) )
    {
      v32 = 0;
      v31 = 0;
      v30 = 0;
      v29 = 0;
      for ( i = 1; i < 1000; ++i )
      {
        v2 = 3160 * i;
        if ( dword_752BAF0[790 * i] == 22 )
        {
          if ( (signed int)(unsigned __int16)word_1FDECEC[862 * i] > 0 )
          {
            v27 = dword_1FDF1F4[431 * i];
            v2 = dword_1FDF1F8[431 * i];
            v26 = dword_1FDF1F8[431 * i];
            if ( v27 >= dword_5A1504 )
            {
              if ( v27 <= dword_5A150C )
              {
                v2 = v26;
                if ( v26 >= dword_5A1508 )
                {
                  if ( v26 <= dword_5A1510 )
                  {
                    if ( dword_8C764A4 == 1 )
                    {
                      if ( i == dword_8C764A8 )
                        v2 = v32++ + 1;
                      if ( i == dword_8C764AC )
                        ++v30;
                    }
                    else
                    {
                      v2 = 1724 * i;
                      if ( (unsigned __int16)word_1FDECB2[862 * i] == dword_8C764A8 )
                      {
                        v2 = v32 + word_1FDECE0[862 * i];
                        v32 += word_1FDECE0[862 * i];
                      }
                      if ( (unsigned __int16)word_1FDECB2[862 * i] == dword_8C764AC )
                      {
                        v2 = 1724 * i;
                        v30 += word_1FDECE0[862 * i];
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      if ( !v32 || !v30 )
        dword_8C764B8 = 0;
    }
    if ( dword_8C764B8 >= 60 )
    {
      if ( dword_8C764B8 >= 120 )
      {
        if ( dword_8C764B8 < 180 )
        {
          SendDamage(142, 4007, 195, 4019);
          SendDamage(142, 4070, 195, 4082);
          SendEnvEffect(142, 4007, 168, 4018, 32, 0);
          SendEnvEffect(142, 4071, 168, 4082, 32, 0);
          SendEnvEffect(169, 4007, 195, 4018, 32, 0);
          v2 = SendEnvEffect(169, 4071, 195, 4082, 32, 0);
        }
      }
      else
      {
        SendDamage(142, 4007, 195, 4034);
        SendDamage(142, 4055, 195, 4082);
        SendEnvEffect(142, 4007, 168, 4018, 32, 0);
        SendEnvEffect(142, 4071, 168, 4082, 32, 0);
        SendEnvEffect(142, 4019, 168, 4030, 32, 0);
        SendEnvEffect(142, 4059, 168, 4070, 32, 0);
        SendEnvEffect(168, 4007, 195, 4018, 32, 0);
        SendEnvEffect(168, 4071, 195, 4082, 32, 0);
        SendEnvEffect(168, 4019, 195, 4030, 32, 0);
        v2 = SendEnvEffect(168, 4059, 195, 4070, 32, 0);
      }
    }
    else
    {
      SendDamage(142, 4007, 195, 4042);
      SendDamage(142, 4046, 195, 4082);
      SendEnvEffect(142, 4007, 168, 4018, 32, 0);
      SendEnvEffect(142, 4071, 168, 4082, 32, 0);
      SendEnvEffect(142, 4019, 168, 4030, 32, 0);
      SendEnvEffect(142, 4059, 168, 4070, 32, 0);
      SendEnvEffect(142, 4031, 168, 4042, 32, 0);
      SendEnvEffect(142, 4047, 168, 4058, 32, 0);
      SendEnvEffect(168, 4007, 195, 4018, 32, 0);
      SendEnvEffect(168, 4071, 195, 4082, 32, 0);
      SendEnvEffect(168, 4019, 195, 4030, 32, 0);
      SendEnvEffect(168, 4059, 195, 4070, 32, 0);
      SendEnvEffect(168, 4031, 195, 4042, 32, 0);
      v2 = SendEnvEffect(168, 4047, 195, 4058, 32, 0);
    }
  }
  if ( dword_8C764B8 <= 0 )
  {
    v25 = 0;
    v24 = 0;
    v23 = 0;
    v22 = 0;
    v21 = 0;
    v20 = 0;
    for ( j = 1; j < 1000; ++j )
    {
      if ( dword_752BAF0[790 * j] == 22 )
      {
        if ( (signed int)(unsigned __int16)word_1FDECEC[862 * j] > 0 )
        {
          v18 = dword_1FDF1F4[431 * j];
          v17 = dword_1FDF1F8[431 * j];
          if ( v18 >= dword_5A1504 )
          {
            if ( v18 <= dword_5A150C && v17 >= dword_5A1508 && v17 <= dword_5A1510 )
            {
              if ( dword_8C764A4 == 1 )
              {
                if ( j == dword_8C764A8 )
                  ++v25;
                if ( j == dword_8C764AC )
                  ++v23;
              }
              else
              {
                if ( (unsigned __int16)word_1FDECB2[862 * j] == dword_8C764A8 )
                  v25 += word_1FDECE0[862 * j];
                if ( (unsigned __int16)word_1FDECB2[862 * j] == dword_8C764AC )
                  v23 += word_1FDECE0[862 * j];
              }
            }
          }
        }
      }
    }
    if ( word_1FDED64[862 * j] == 769 )
    {
      v16 = byte_1FDED67[1724 * j] + 1;
      if ( j == dword_8C764A8 )
        v24 += v16;
      if ( j == dword_8C764AC )
        v22 += v16;
    }
    byte_5A14B3 = 0;
    byte_5A14B2 = 0;
    byte_5A14D3 = 0;
    byte_5A14D2 = 0;
    v21 = v24 + v25;
    v20 = v22 + v23;
    if ( v24 + v25 == v22 + v23 )
    {
      sub_4E3F40(a1, a2, (int)&v15, (const char *)&unk_8B2E44);
      sub_401B63(j, &String);
    }
    else
    {
      sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B2DC4);
      sub_401B63(j, &String);
      v12 = 2060;
      v13 = 0;
      v11 = 524;
      if ( dword_8C764A4 != 1
        || dword_8C764A8 <= 0
        || dword_8C764A8 >= 1000
        || dword_8C764AC <= 0
        || dword_8C764AC >= 1000 )
      {
        for ( k = 0; k < 10 && byte_54EB29C[16 * k]; ++k )
        {
          if ( k )
            sub_4E4730((int)&v10, (int)"_");
          sub_4E4730((int)&v10, (int)&byte_54EB29C[16 * k]);
        }
        for ( k = 0; k < 10 && byte_54EB29C[16 * (k + 10)]; ++k )
        {
          if ( k )
            sub_4E4730((int)&v9, (int)"_");
          sub_4E4730((int)&v9, (int)&byte_54EB29C[16 * (k + 10)]);
        }
      }
      else
      {
        sub_4E3F40(a1, a2, (int)&v10, "%s");
        sub_4E3F40(a1, a2, (int)&v9, "%s");
      }
      sub_4E3F40(a1, a2, (int)&String, "RNK %d %d %s %d %d %s %d %d");
      byte_882F717 = 0;
      byte_882F716 = 0;
      sub_4E4720((int)&v14);
      sub_40132A(&v11, 524);
    }
    v2 = sub_401BF4();
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// SendDamage: using guessed type _DWORD __cdecl SendDamage(_DWORD, _DWORD, _DWORD, _DWORD);
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 4018E8: using guessed type _DWORD __cdecl SendEnvEffect(_DWORD, _DWORD, _DWORD, _DWORD, __int16, __int16);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 401BF4: using guessed type int sub_401BF4(void);
// 5A14B2: using guessed type char byte_5A14B2;
// 5A14B3: using guessed type char byte_5A14B3;
// 5A14D2: using guessed type char byte_5A14D2;
// 5A14D3: using guessed type char byte_5A14D3;
// 5A1504: using guessed type int dword_5A1504;
// 5A1508: using guessed type int dword_5A1508;
// 5A150C: using guessed type int dword_5A150C;
// 5A1510: using guessed type int dword_5A1510;
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDED64: using guessed type __int16 word_1FDED64[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 882F716: using guessed type char byte_882F716;
// 882F717: using guessed type char byte_882F717;
// 8C764A4: using guessed type int dword_8C764A4;
// 8C764A8: using guessed type int dword_8C764A8;
// 8C764AC: using guessed type int dword_8C764AC;
// 8C764B8: using guessed type int dword_8C764B8;

//----- (004C2CF0) --------------------------------------------------------
int __usercall sub_4C2CF0<eax>(int a1<ebx>, int a2<esi>, int a3, signed int a4, signed int a5)
{
  int v5; // eax@1
  char v7; // [sp+0h] [bp-B0h]@0
  int v8; // [sp+4h] [bp-ACh]@0
  int v9; // [sp+8h] [bp-A8h]@0
  char v10; // [sp+Ch] [bp-A4h]@1
  int j; // [sp+4Ch] [bp-64h]@83
  int v12; // [sp+50h] [bp-60h]@83
  int v13; // [sp+54h] [bp-5Ch]@83
  int v14; // [sp+58h] [bp-58h]@83
  int k; // [sp+5Ch] [bp-54h]@64
  int v16; // [sp+60h] [bp-50h]@64
  int v17; // [sp+64h] [bp-4Ch]@64
  int v18; // [sp+68h] [bp-48h]@64
  int v19; // [sp+6Ch] [bp-44h]@64
  int v20; // [sp+70h] [bp-40h]@59
  int v21; // [sp+74h] [bp-3Ch]@59
  int v22; // [sp+78h] [bp-38h]@54
  int v23; // [sp+7Ch] [bp-34h]@54
  int v24; // [sp+80h] [bp-30h]@42
  int v25; // [sp+84h] [bp-2Ch]@27
  int i; // [sp+88h] [bp-28h]@17
  int v27; // [sp+8Ch] [bp-24h]@17
  int v28; // [sp+90h] [bp-20h]@17
  int v29; // [sp+94h] [bp-1Ch]@17
  int v30; // [sp+98h] [bp-18h]@12
  int v31; // [sp+9Ch] [bp-14h]@10
  int v32; // [sp+A0h] [bp-10h]@9
  int v33; // [sp+A4h] [bp-Ch]@9
  int v34; // [sp+A8h] [bp-8h]@9
  int v35; // [sp+ACh] [bp-4h]@2

  v5 = -858993460;
  memset(&v10, -858993460, 0xA4u);
  if ( a3 )
  {
    v34 = 450;
    v33 = (unsigned __int16)word_1FDECB2[862 * a4];
    v5 = (unsigned __int16)word_1FDECB2[862 * a5];
    v32 = v5;
    if ( v33 != v5 )
    {
      v31 = dword_1FDF1D8[431 * a4];
      if ( v31 <= 0 )
        v31 = a4;
      v5 = dword_1FDF1D8[431 * a5];
      v30 = dword_1FDF1D8[431 * a5];
      if ( v30 <= 0 )
        v30 = a5;
      if ( v31 != v30 )
      {
        if ( a3 != 1 && a3 != 2 )
          goto LABEL_114;
        v29 = 0;
        v28 = 0;
        v27 = 0;
        for ( i = -1; i < 12; ++i )
        {
          if ( i == -1 )
            v27 = v31;
          else
            v27 = *(&word_1FDF28A[862 * v31] + i);
          if ( v27 != a4 && v27 > 0 && v27 <= 1000 )
          {
            v25 = word_1FDECE0[862 * v27];
            if ( sub_4012DA(dword_1FDF2C8[431 * v27]) == 1 )
              v25 = v25 / 100 + 5;
            if ( v25 > v29 )
              v29 = v25;
          }
        }
        for ( i = -1; i < 12; ++i )
        {
          if ( i == -1 )
            v27 = v30;
          else
            v27 = *(&word_1FDF28A[862 * v30] + i);
          if ( v27 != a5 && v27 > 0 && v27 <= 1000 )
          {
            v24 = word_1FDECE0[862 * v27];
            if ( sub_4012DA(dword_1FDF2C8[431 * v27]) == 1 )
              v24 = v24 / 100 + 5;
            if ( v24 > v29 )
              v29 = v24;
          }
        }
        if ( v29 > 2 )
          v29 = 2;
        if ( v28 > 2 )
          v28 = 2;
        if ( v29 == v28 )
        {
LABEL_114:
          dword_8C764A4 = a3 + 1;
          dword_8C764A8 = a4;
          sub_4E4720((int)"unnamed");
          dword_8C764B0 = (unsigned __int16)word_1FDECB2[862 * a4];
          dword_8C764AC = a5;
          sub_4E4720((int)"unnamed");
          dword_8C764B4 = (unsigned __int16)word_1FDECB2[862 * a5];
          sub_4E4640(byte_54EB29C, 0, 0x140u);
          switch ( a3 )
          {
            case 1:
              v23 = 5;
              v22 = 5;
              break;
            case 2:
              v23 = 10;
              v22 = 10;
              break;
            case 3:
              v23 = 100;
              v22 = 100;
              break;
          }
          v21 = (unsigned __int8)byte_1FDEF8C[1724 * a4];
          v5 = 1724 * a5;
          v20 = (unsigned __int8)byte_1FDEF8C[1724 * a5];
          if ( a3 != 3 || v21 <= 0 || v20 <= 0 || v33 <= 0 || v32 <= 0 )
          {
            dword_752C4A4[790 * a4] = dword_1FDF1F4[431 * a4];
            dword_752C4A8[790 * a4] = dword_1FDF1F8[431 * a4];
            dword_752C4A4[790 * a5] = dword_1FDF1F4[431 * a5];
            dword_752C4A8[790 * a5] = dword_1FDF1F8[431 * a5];
            sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AC8C4);
            sub_401B63(a4, &String);
            sub_401B63(a5, &String);
            sub_401A19(a4, dword_5A14E4, dword_5A14E8, 0);
            sub_401A19(a5, dword_5A14EC, dword_5A14F0, 0);
            v14 = 0;
            v13 = 0;
            v5 = v23-- - 1;
            --v22;
            v12 = 0;
            for ( j = -1; j < 12 && v23 > 0; ++j )
            {
              if ( j == -1 )
              {
                v5 = v31;
                v12 = v31;
              }
              else
              {
                v5 = *(&word_1FDF28A[862 * v31] + j);
                v12 = *(&word_1FDF28A[862 * v31] + j);
              }
              if ( v12 != a4 )
              {
                if ( v12 > 0 )
                {
                  if ( v12 <= 1000 )
                  {
                    dword_752C4A4[790 * v12] = dword_1FDF1F4[431 * v12];
                    dword_752C4A8[790 * v12] = dword_1FDF1F8[431 * v12];
                    v5 = sub_401A19(v12, dword_5A14E4, dword_5A14E8, 0);
                    --v23;
                    if ( v14 < 10 )
                      sub_4E4720((int)&byte_54EB29C[16 * v14++]);
                  }
                }
              }
            }
            for ( j = -1; j < 12 && v22 > 0; ++j )
            {
              if ( j == -1 )
                v12 = v30;
              else
                v12 = *(&word_1FDF28A[862 * v30] + j);
              if ( v12 != a5 )
              {
                if ( v12 > 0 )
                {
                  if ( v12 <= 1000 )
                  {
                    dword_752C4A4[790 * v12] = dword_1FDF1F4[431 * v12];
                    dword_752C4A8[790 * v12] = dword_1FDF1F8[431 * v12];
                    sub_401A19(v12, dword_5A14EC, dword_5A14F0, 0);
                    --v22;
                    if ( v13 < 10 )
                      sub_4E4720((int)&byte_54EB29C[16 * (v13++ + 10)]);
                  }
                }
              }
              v5 = j + 1;
            }
          }
          else
          {
            v19 = 150;
            v18 = 0;
            v17 = 0;
            v16 = 0;
            for ( k = 0; ; ++k )
            {
              if ( k < 1000 )
              {
                v5 = 3160 * k;
                if ( dword_752BAF0[790 * k] != 22 )
                  continue;
                if ( !dword_1FDF1D4[431 * k] )
                  continue;
                v5 = (unsigned __int16)word_1FDECB2[862 * k];
                if ( v5 != v33 )
                {
                  if ( (unsigned __int16)word_1FDECB2[862 * k] != v32 )
                    continue;
                }
                dword_752C4A4[790 * k] = dword_1FDF1F4[431 * k];
                dword_752C4A8[790 * k] = dword_1FDF1F8[431 * k];
                if ( (unsigned __int16)word_1FDECB2[862 * k] == v33 )
                {
                  sub_401A19(k, dword_5A14E4, dword_5A14E8, 0);
                  if ( v17 < 10 )
                    sub_4E4720((int)&byte_54EB29C[16 * v17++]);
                }
                if ( (unsigned __int16)word_1FDECB2[862 * k] == v32 )
                {
                  sub_401A19(k, dword_5A14EC, dword_5A14F0, 0);
                  if ( v16 < 10 )
                    sub_4E4720((int)&byte_54EB29C[16 * (v16++ + 10)]);
                }
                if ( v18 == 30 )
                {
                  ++dword_5A14E4;
                  ++dword_5A14E8;
                  ++dword_5A14EC;
                  ++dword_5A14F0;
                }
                if ( v18 == 45 )
                {
                  dword_5A14E4 -= 2;
                  dword_5A14E8 -= 2;
                  dword_5A14EC -= 2;
                  dword_5A14F0 -= 2;
                }
                sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AC8C4);
                sub_401B63(a4, &String);
                sub_401B63(a5, &String);
                sub_4015FF(k, 30000, 929, 2 * v34 - 2);
                ++v18;
                v5 = v18;
                if ( v18 < v19 )
                  continue;
              }
              break;
            }
          }
        }
        else
        {
          sub_401B63(a4, &unk_8B14C4);
          v5 = sub_401B63(a5, &unk_8B14C4);
        }
      }
    }
  }
  else
  {
    v35 = 121;
    if ( a4 > 0 && a4 < 1000 && a5 > 0 && a5 < 1000 )
    {
      dword_8C764A4 = 1;
      dword_8C764A8 = a4;
      sub_4E4720((int)"unnamed");
      dword_8C764B0 = (unsigned __int16)word_1FDECB2[862 * a4];
      dword_8C764AC = a5;
      sub_4E4720((int)"unnamed");
      dword_8C764B4 = (unsigned __int16)word_1FDECB2[862 * a5];
      dword_8C764B8 = v35;
      sub_401A19(a4, dword_5A14E4, dword_5A14E8, 0);
      sub_401A19(a5, dword_5A14EC, dword_5A14F0, 0);
      sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AC8C4);
      sub_401B63(a4, &String);
      sub_401B63(a5, &String);
      sub_4015FF(a4, 30000, 929, 2 * v35 - 2);
      v5 = sub_4015FF(a5, 30000, 929, 2 * v35 - 2);
    }
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 4012DA: using guessed type _DWORD __cdecl sub_4012DA(_DWORD);
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 5A14E4: using guessed type int dword_5A14E4;
// 5A14E8: using guessed type int dword_5A14E8;
// 5A14EC: using guessed type int dword_5A14EC;
// 5A14F0: using guessed type int dword_5A14F0;
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 1FDF2C8: using guessed type int dword_1FDF2C8[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752C4A4: using guessed type int dword_752C4A4[];
// 752C4A8: using guessed type int dword_752C4A8[];
// 8C764A4: using guessed type int dword_8C764A4;
// 8C764A8: using guessed type int dword_8C764A8;
// 8C764AC: using guessed type int dword_8C764AC;
// 8C764B0: using guessed type int dword_8C764B0;
// 8C764B4: using guessed type int dword_8C764B4;
// 8C764B8: using guessed type int dword_8C764B8;

//----- (004C3A90) --------------------------------------------------------
int __cdecl sub_4C3A90()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  dword_8C764A4 = 0;
  dword_8C764B8 = 0;
  dword_8C764A8 = 0;
  dword_8C764AC = 0;
  aUnnamed_0[0] = 0;
  aUnnamed[0] = 0;
  v0 = sub_401910(dword_5A1504, dword_5A1508, dword_5A150C, dword_5A1510, 2572, 1752);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 401910: using guessed type _DWORD __cdecl sub_401910(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 5A1504: using guessed type int dword_5A1504;
// 5A1508: using guessed type int dword_5A1508;
// 5A150C: using guessed type int dword_5A150C;
// 5A1510: using guessed type int dword_5A1510;
// 8C764A4: using guessed type int dword_8C764A4;
// 8C764A8: using guessed type int dword_8C764A8;
// 8C764AC: using guessed type int dword_8C764AC;
// 8C764B8: using guessed type int dword_8C764B8;

//----- (004C3B40) --------------------------------------------------------
int __cdecl sub_4C3B40(signed int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@4

  v2 = -858993460;
  memset(&v7, -858993460, 0x44u);
  if ( a1 > 0 && a1 < 1000 )
  {
    for ( i = 0; i < 16; ++i )
    {
      if ( (unsigned __int8)*(&byte_1FDF154[1724 * a1] + 8 * i) == a2 )
      {
        *(&byte_1FDF154[1724 * a1] + 8 * i) = 0;
        sub_4016EF(a1);
        v2 = sub_4018B1(a1);
        return sub_4E46A0(1, v2, v6, v4, v5);
      }
      v2 = i + 1;
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);

//----- (004C3C20) --------------------------------------------------------
int __cdecl sub_4C3C20(signed int a1, int a2, int a3, int a4)
{
  int v4; // eax@2
  char v6; // [sp+0h] [bp-88h]@0
  int v7; // [sp+4h] [bp-84h]@0
  int v8; // [sp+8h] [bp-80h]@0
  char v9; // [sp+Ch] [bp-7Ch]@1
  int v10; // [sp+4Ch] [bp-3Ch]@5
  int v11; // [sp+5Ch] [bp-2Ch]@5
  int v12; // [sp+80h] [bp-8h]@2
  int v13; // [sp+84h] [bp-4h]@1

  memset(&v9, -858993460, 0x7Cu);
  v13 = 0;
  if ( a4 )
  {
    v4 = sub_4012BC(a1, &a2, &a3);
    v12 = v4;
  }
  else
  {
    v4 = sub_4015D2(a1, &a2, &a3);
    v12 = v4;
  }
  if ( v12 )
  {
    sub_401339(a1, a2, a3, &v10);
    v11 = 1;
    if ( a1 < 1000 )
      sub_401203(&v10, (unsigned __int16)v10);
    sub_4011D6(a1, a2, a3, &v10);
    sub_4016EF(a1);
    sub_4018B1(a1);
    v4 = 3160 * a1;
    dword_752C574[790 * a1] = 0;
    dword_752C578[790 * a1] = 0;
    dword_752C57C[790 * a1] = 0;
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 4011D6: using guessed type _DWORD __cdecl sub_4011D6(_DWORD, _DWORD, _DWORD, _DWORD);
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 4012BC: using guessed type _DWORD __cdecl sub_4012BC(_DWORD, _DWORD, _DWORD);
// 401339: using guessed type _DWORD __cdecl sub_401339(_DWORD, __int16, __int16, _DWORD);
// 4015D2: using guessed type _DWORD __cdecl sub_4015D2(_DWORD, _DWORD, _DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 752C574: using guessed type int dword_752C574[];
// 752C578: using guessed type int dword_752C578[];
// 752C57C: using guessed type int dword_752C57C[];

//----- (004C3DA0) --------------------------------------------------------
int __cdecl sub_4C3DA0(signed int a1, int a2, int a3)
{
  int v3; // eax@3
  char v5; // [sp+0h] [bp-84h]@0
  int v6; // [sp+4h] [bp-80h]@0
  int v7; // [sp+8h] [bp-7Ch]@0
  char v8; // [sp+Ch] [bp-78h]@1
  int v9; // [sp+4Ch] [bp-38h]@1
  int v10; // [sp+5Ch] [bp-28h]@1
  int v11; // [sp+80h] [bp-4h]@1

  memset(&v8, -858993460, 0x78u);
  v11 = sub_4015D2(a1, &a2, &a3);
  sub_401339(a1, a2, a3, &v9);
  v10 = 1;
  if ( a1 < 1000 )
    sub_401203(&v9, (unsigned __int16)v9);
  sub_4011D6(a1, a2, a3, &v9);
  sub_4016EF(a1);
  v3 = sub_4018B1(a1);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4011D6: using guessed type _DWORD __cdecl sub_4011D6(_DWORD, _DWORD, _DWORD, _DWORD);
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401339: using guessed type _DWORD __cdecl sub_401339(_DWORD, __int16, __int16, _DWORD);
// 4015D2: using guessed type _DWORD __cdecl sub_4015D2(_DWORD, _DWORD, _DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);

//----- (004C3EA0) --------------------------------------------------------
int __cdecl sub_4C3EA0(signed int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-70h]@0
  int v5; // [sp+4h] [bp-6Ch]@0
  int v6; // [sp+8h] [bp-68h]@0
  char v7; // [sp+Ch] [bp-64h]@1
  __int16 v8; // [sp+4Ch] [bp-24h]@10
  __int16 v9; // [sp+50h] [bp-20h]@10
  __int16 v10; // [sp+52h] [bp-1Eh]@10
  char v11; // [sp+5Ch] [bp-14h]@10
  int v12; // [sp+6Ch] [bp-4h]@6

  v2 = -858993460;
  memset(&v7, -858993460, 0x64u);
  if ( a1 > 0 && a1 <= 1000 && a2 >= 0 && a2 <= 1000 )
  {
    v12 = dword_752C480[790 * a1];
    if ( v12 > 0 && v12 < 1000 && dword_752BAF0[790 * v12] == 22 )
      sub_401663(v12, 30000, 947);
    dword_752C480[790 * a1] = a2;
    v9 = 946;
    v10 = 30000;
    v8 = 32;
    sub_4E7850((int)&v11, (int)&byte_1FDECA0[1724 * a1], 0x10u);
    v2 = sub_401203(&v8, 32);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401663: using guessed type _DWORD __cdecl sub_401663(_DWORD, __int16, __int16);
// 752BAF0: using guessed type int dword_752BAF0[];
// 752C480: using guessed type int dword_752C480[];

//----- (004C3FD0) --------------------------------------------------------
int __cdecl sub_4C3FD0(signed int a1, signed int a2, signed int a3, signed int a4)
{
  int v4; // eax@2
  int v5; // eax@51
  char v7; // [sp+0h] [bp-80h]@0
  int v8; // [sp+4h] [bp-7Ch]@0
  int v9; // [sp+8h] [bp-78h]@0
  char v10; // [sp+Ch] [bp-74h]@1
  char v11; // [sp+4Ch] [bp-34h]@68
  int v12; // [sp+50h] [bp-30h]@51
  char v13; // [sp+54h] [bp-2Ch]@35
  int v14; // [sp+58h] [bp-28h]@32
  int v15; // [sp+5Ch] [bp-24h]@32
  int i; // [sp+60h] [bp-20h]@12
  int v17; // [sp+64h] [bp-1Ch]@6
  int v18; // [sp+68h] [bp-18h]@6
  int v19; // [sp+6Ch] [bp-14h]@6
  int v20; // [sp+70h] [bp-10h]@6
  int v21; // [sp+74h] [bp-Ch]@6
  int v22; // [sp+78h] [bp-8h]@6
  int v23; // [sp+7Ch] [bp-4h]@6

  memset(&v10, -858993460, 0x74u);
  if ( a2 < 104 )
  {
    if ( (unsigned __int8)byte_1FDECB1[1724 * a1] != 1 || a1 <= 1000 )
    {
      v23 = dword_8B61EC[24 * a2];
      v22 = dword_8B6210[24 * a2];
      v21 = dword_8B61F4[24 * a2];
      v20 = a2 / 24 % 4;
      v19 = a2 % 24 / 8;
      v18 = dword_8B61E4[24 * a2];
      v17 = 0;
      if ( a2 != 47 && dword_1FDF34C[431 * a1] & 0x200 && v22 )
      {
        v4 = 0;
      }
      else
      {
        if ( a2 == 47 && dword_1FDF34C[431 * a1] & 0x200 )
        {
          for ( i = 1; i < 16; ++i )
          {
            if ( (unsigned __int8)*(&byte_1FDF154[1724 * a1] + 8 * i) == 19 )
            {
              *(&byte_1FDF154[1724 * a1] + 8 * i) = 0;
              *(&dword_1FDF158[431 * a1] + 2 * i) = 0;
              sub_4016EF(a1);
              sub_4011AE(a1);
              sub_4018B1(a1);
              v4 = 0;
              return sub_4E46A0(1, v4, v9, v7, v8);
            }
          }
        }
        if ( a2 == 102 )
        {
          v17 = 15;
        }
        else
        {
          v17 = sub_401433(a1, v23);
          if ( v23 > 0 )
            v17 = sub_401433(a1, v23);
          if ( v18 > 0 )
            v17 = sub_401433(a1, v18);
        }
        if ( v17 < 0 || v17 >= 16 )
        {
          v4 = 0;
        }
        else
        {
          if ( v18 )
          {
            *(&byte_1FDF154[1724 * a1] + 8 * v17) = v18;
            *(&word_1FDF156[862 * a1] + 4 * v17) = word_8B61E8[48 * a2];
            *(&dword_1FDF158[431 * a1] + 2 * v17) = v21 * a3 / 100;
            if ( a2 == 37 && dword_1FDEF7C[431 * a1] & 0x8000 )
              *(&dword_1FDF158[431 * a1] + 2 * v17) += 3;
            if ( a3 >= 10000 )
              *(&dword_1FDF158[431 * a1] + 2 * v17) = 10000;
            *(&byte_1FDF155[1724 * a1] + 8 * v17) = a4;
            sub_4016EF(a1);
            v4 = 1;
          }
          else
          {
            v15 = (unsigned __int8)*(&byte_1FDF154[1724 * a1] + 8 * v17);
            *(&byte_1FDF154[1724 * a1] + 8 * v17) = v23;
            *(&word_1FDF156[862 * a1] + 4 * v17) = LOWORD(dword_8B61F0[24 * a2]);
            v14 = v21 * a3 / 100;
            if ( !v22 && a2 <= 96 )
            {
              if ( dword_1FDEF7C[431 * a1] & 0x80 )
              {
                v13 = byte_1FDECB4[1724 * a1];
                if ( v13 )
                {
                  if ( v13 == 2 )
                  {
                    if ( v20 == 2 && !v19 )
                      v14 += 3;
                  }
                  else
                  {
                    if ( v13 == 3 && v20 == 3 && !v19 )
                      v14 += 3;
                  }
                }
                else
                {
                  if ( !v20 && !v19 )
                    v14 += 5;
                }
              }
              if ( dword_1FDEF7C[431 * a1] & 0x8000 )
              {
                v5 = (unsigned __int8)byte_1FDECB4[1724 * a1];
                v12 = (unsigned __int8)byte_1FDECB4[1724 * a1];
                switch ( v5 )
                {
                  case 0:
                    if ( !v20 && v19 == 1 )
                      v14 += 5;
                    break;
                  case 1:
                    if ( v20 == 1 && v19 == 1 )
                      v14 += 3;
                    break;
                  case 2:
                    if ( v20 == 2 && v19 == 1 )
                      v14 += 3;
                    break;
                  case 3:
                    if ( v20 == 3 && v19 == 1 )
                      v14 += 5;
                    break;
                  default:
                    break;
                }
              }
              if ( (unsigned int)&unk_800000 & dword_1FDEF7C[431 * a1] )
              {
                v11 = byte_1FDECB4[1724 * a1];
                if ( v11 == 1 )
                {
                  if ( v20 == 1 && v19 == 2 )
                    v14 += 3;
                }
                else
                {
                  if ( v11 == 2 )
                  {
                    if ( v20 == 2 && v19 == 2 )
                      v14 += 3;
                  }
                  else
                  {
                    if ( v11 == 3 && v20 == 3 && v19 == 2 )
                      v14 += 3;
                  }
                }
              }
            }
            if ( a2 == 102 )
            {
              switch ( a4 )
              {
                case 1:
                  v14 = 50;
                  break;
                case 2:
                  v14 = 450;
                  break;
                case 3:
                  v14 = 100;
                  break;
                default:
                  v14 = word_1FDECE0[862 * a1] + 10;
                  if ( v14 > 50 )
                    v14 = 50;
                  break;
              }
            }
            *(&dword_1FDF158[431 * a1] + 2 * v17) = v14;
            if ( v15 == v23 )
            {
              if ( a4 > (unsigned __int8)*(&byte_1FDF155[1724 * a1] + 8 * v17) )
                *(&byte_1FDF155[1724 * a1] + 8 * v17) = a4;
            }
            else
            {
              *(&byte_1FDF155[1724 * a1] + 8 * v17) = a4;
            }
            if ( a3 >= 100000 )
              *(&dword_1FDF158[431 * a1] + 2 * v17) = 100000;
            sub_4016EF(a1);
            v4 = 1;
          }
        }
      }
    }
    else
    {
      v4 = 0;
    }
  }
  else
  {
    v4 = 0;
  }
  return sub_4E46A0(1, v4, v9, v7, v8);
}
// 4011AE: using guessed type _DWORD __cdecl sub_4011AE(_DWORD);
// 401433: using guessed type _DWORD __cdecl sub_401433(_DWORD, _DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 8B61E4: using guessed type int dword_8B61E4[];
// 8B61E8: using guessed type __int16 word_8B61E8[];
// 8B61EC: using guessed type int dword_8B61EC[];
// 8B61F0: using guessed type int dword_8B61F0[];
// 8B61F4: using guessed type int dword_8B61F4[];
// 8B6210: using guessed type int dword_8B6210[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDF156: using guessed type __int16 word_1FDF156[];
// 1FDF158: using guessed type int dword_1FDF158[];
// 1FDF34C: using guessed type int dword_1FDF34C[];

//----- (004C4FD0) --------------------------------------------------------
int __usercall sub_4C4FD0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v4; // eax@2
  char v6; // [sp+0h] [bp-154h]@0
  int v7; // [sp+4h] [bp-150h]@0
  int v8; // [sp+8h] [bp-14Ch]@0
  char v9; // [sp+Ch] [bp-148h]@1
  char v10; // [sp+4Ch] [bp-108h]@20
  __int16 v11; // [sp+14Ch] [bp-8h]@3
  int v12; // [sp+150h] [bp-4h]@1

  memset(&v9, -858993460, 0x148u);
  v12 = sub_401433(a3, 8);
  if ( v12 != -1 )
  {
    v11 = *(&word_1FDF156[862 * a3] + 4 * v12);
    switch ( a4 )
    {
      case 3200:
        v11 |= 1u;
        break;
      case 3201:
        v11 |= 2u;
        break;
      case 3202:
        v11 |= 4u;
        break;
      case 3204:
        v11 |= 8u;
        break;
      case 3205:
        v11 |= 0x10u;
        break;
      case 3206:
        v11 |= 0x20u;
        break;
      case 3208:
        v11 |= 0x40u;
        break;
      default:
        if ( a4 != 3209 )
        {
          v4 = 0;
          return sub_4E46A0(1, v4, v8, v6, v7);
        }
        v11 |= 0x80u;
        break;
    }
    *(&word_1FDF156[862 * a3] + 4 * v12) = v11;
    *(&byte_1FDF154[1724 * a3] + 8 * v12) = 8;
    *(&dword_1FDF158[431 * a3] + 2 * v12) = 45;
    word_1FDF350[862 * a3] = 0;
    word_1FDF350[862 * a3] = v11;
    sub_4016EF(a3);
    sub_4011AE(a3);
    sub_4018B1(a3);
    sub_4E3F40(a1, a2, (int)&v10, "etc,SetUseBuffAffect : %d)");
    Log(&v10, &unk_584124, 0);
    v4 = 1;
    return sub_4E46A0(1, v4, v8, v6, v7);
  }
  v4 = 0;
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 4011AE: using guessed type _DWORD __cdecl sub_4011AE(_DWORD);
// 401433: using guessed type _DWORD __cdecl sub_401433(_DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 1FDF156: using guessed type __int16 word_1FDF156[];
// 1FDF158: using guessed type int dword_1FDF158[];
// 1FDF350: using guessed type __int16 word_1FDF350[];

//----- (004C5240) --------------------------------------------------------
int __cdecl sub_4C5240()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-6Ch]@0
  int v3; // [sp+4h] [bp-68h]@0
  int v4; // [sp+8h] [bp-64h]@0
  char v5; // [sp+Ch] [bp-60h]@1
  __int16 v6; // [sp+4Ch] [bp-20h]@12
  __int16 v7; // [sp+50h] [bp-1Ch]@12
  __int16 v8; // [sp+52h] [bp-1Ah]@12
  __int16 v9; // [sp+58h] [bp-14h]@12
  int v10; // [sp+5Ch] [bp-10h]@12
  int v11; // [sp+60h] [bp-Ch]@12
  int v12; // [sp+64h] [bp-8h]@6
  int i; // [sp+68h] [bp-4h]@1

  v0 = -858993460;
  memset(&v5, -858993460, 0x60u);
  for ( i = 0; i < dword_5A1068; ++i )
  {
    ++dword_5A1078;
    if ( dword_5A1078 >= 6500 )
      dword_5A1078 = dword_AACD5C + 1;
    v12 = word_8863698[26 * dword_5A1078];
    if ( v12 != 1727 && v12 != 359 && dword_88636A0[13 * dword_5A1078] )
    {
      if ( dword_88636BC[13 * dword_5A1078] )
      {
        v11 = dword_88636A4[13 * dword_5A1078];
        v10 = dword_88636A8[13 * dword_5A1078];
        sub_40173A(&word_8863698[26 * dword_5A1078]);
        *(&word_54F8194[4096 * v10] + v11) = 0;
        dword_88636A0[13 * dword_5A1078] = 0;
        v7 = 367;
        v6 = 16;
        v8 = 30000;
        v9 = dword_5A1078 + 15000;
        sub_4014FB(v11, v10, &v6, 0);
      }
      else
      {
        dword_88636BC[13 * dword_5A1078] = 1;
      }
    }
    v0 = i + 1;
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 40173A: using guessed type _DWORD __cdecl sub_40173A(_DWORD);
// 5A1068: using guessed type int dword_5A1068;
// 5A1078: using guessed type int dword_5A1078;
// AACD5C: using guessed type int dword_AACD5C;
// 54F8194: using guessed type __int16 word_54F8194[];
// 8863698: using guessed type __int16 word_8863698[];
// 88636A0: using guessed type int dword_88636A0[];
// 88636A4: using guessed type int dword_88636A4[];
// 88636A8: using guessed type int dword_88636A8[];
// 88636BC: using guessed type int dword_88636BC[];

//----- (004C5420) --------------------------------------------------------
signed int __cdecl sub_4C5420(int a1)
{
  signed int result; // eax@4
  char v2; // [sp+Ch] [bp-4Ch]@1
  int v3; // [sp+4Ch] [bp-Ch]@5
  int v4; // [sp+50h] [bp-8h]@3
  int v5; // [sp+54h] [bp-4h]@3

  memset(&v2, -858993460, 0x4Cu);
  if ( dword_752C434[790 * a1] > (unsigned __int16)word_1FDECE8[862 * a1] )
    dword_752C434[790 * a1] = (unsigned __int16)word_1FDECE8[862 * a1];
  v5 = (unsigned __int16)word_1FDECEC[862 * a1];
  v4 = dword_752C434[790 * a1];
  if ( v4 > v5 )
  {
    v3 = v4 - v5;
    if ( v4 - v5 > 2000 )
      v3 = 2000;
    v5 += v3;
    if ( v5 > 64000 )
      v5 = 64000;
    word_1FDECEC[862 * a1] = v5;
    if ( (unsigned __int16)word_1FDECEC[862 * a1] > v4 )
      word_1FDECEC[862 * a1] = v4;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 752C434: using guessed type int dword_752C434[];

//----- (004C5570) --------------------------------------------------------
signed int __cdecl sub_4C5570(int a1)
{
  signed int result; // eax@4
  char v2; // [sp+Ch] [bp-4Ch]@1
  int v3; // [sp+4Ch] [bp-Ch]@5
  int v4; // [sp+50h] [bp-8h]@3
  int v5; // [sp+54h] [bp-4h]@3

  memset(&v2, -858993460, 0x4Cu);
  if ( dword_752C438[790 * a1] > (unsigned __int16)word_1FDECEA[862 * a1] )
    dword_752C438[790 * a1] = (unsigned __int16)word_1FDECEA[862 * a1];
  v5 = (unsigned __int16)word_1FDECEE[862 * a1];
  v4 = dword_752C438[790 * a1];
  if ( v4 > v5 )
  {
    v3 = v4 - v5;
    if ( v4 - v5 > 2000 )
      v3 = 2000;
    v5 += v3;
    if ( v5 > 64000 )
      v5 = 64000;
    word_1FDECEE[862 * a1] = v5;
    if ( (unsigned __int16)word_1FDECEE[862 * a1] > v4 )
      word_1FDECEE[862 * a1] = v4;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 1FDECEA: using guessed type __int16 word_1FDECEA[];
// 1FDECEE: using guessed type __int16 word_1FDECEE[];
// 752C438: using guessed type int dword_752C438[];

//----- (004C56C0) --------------------------------------------------------
__int16 __cdecl sub_4C56C0(signed int a1)
{
  int v1; // eax@1
  char v3; // [sp+Ch] [bp-40h]@1

  LOWORD(v1) = -13108;
  memset(&v3, -858993460, 0x40u);
  if ( a1 > 0 && a1 < 1000 )
  {
    if ( (unsigned __int16)word_1FDECEC[862 * a1] > (signed int)(unsigned __int16)word_1FDECE8[862 * a1] )
      word_1FDECEC[862 * a1] = word_1FDECE8[862 * a1];
    v1 = (unsigned __int16)word_1FDECEC[862 * a1];
    if ( dword_752C434[790 * a1] < v1 )
    {
      LOWORD(v1) = 3160 * a1;
      dword_752C434[790 * a1] = (unsigned __int16)word_1FDECEC[862 * a1];
    }
  }
  return v1;
}
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 752C434: using guessed type int dword_752C434[];

//----- (004C57B0) --------------------------------------------------------
__int16 __cdecl sub_4C57B0(signed int a1)
{
  int v1; // eax@1
  char v3; // [sp+Ch] [bp-40h]@1

  LOWORD(v1) = -13108;
  memset(&v3, -858993460, 0x40u);
  if ( a1 > 0 && a1 < 1000 )
  {
    if ( (unsigned __int16)word_1FDECEE[862 * a1] > (signed int)(unsigned __int16)word_1FDECEA[862 * a1] )
      word_1FDECEE[862 * a1] = word_1FDECEA[862 * a1];
    v1 = (unsigned __int16)word_1FDECEE[862 * a1];
    if ( dword_752C438[790 * a1] < v1 )
    {
      LOWORD(v1) = 3160 * a1;
      dword_752C438[790 * a1] = (unsigned __int16)word_1FDECEE[862 * a1];
    }
  }
  return v1;
}
// 1FDECEA: using guessed type __int16 word_1FDECEA[];
// 1FDECEE: using guessed type __int16 word_1FDECEE[];
// 752C438: using guessed type int dword_752C438[];

//----- (004C5A20) --------------------------------------------------------
int __usercall sub_4C5A20<eax>(int a1<ebx>, int a2<esi>, signed int a3)
{
  int v3; // eax@98
  char v5; // [sp+0h] [bp-B4h]@0
  int v6; // [sp+4h] [bp-B0h]@0
  int v7; // [sp+8h] [bp-ACh]@0
  char v8; // [sp+Ch] [bp-A8h]@1
  int v9; // [sp+4Ch] [bp-68h]@90
  int v10; // [sp+50h] [bp-64h]@60
  int v11; // [sp+54h] [bp-60h]@50
  int v12; // [sp+58h] [bp-5Ch]@33
  int v13; // [sp+5Ch] [bp-58h]@25
  int v14; // [sp+60h] [bp-54h]@95
  int v15; // [sp+64h] [bp-50h]@90
  int v16; // [sp+68h] [bp-4Ch]@90
  int v17; // [sp+6Ch] [bp-48h]@89
  int j; // [sp+70h] [bp-44h]@74
  int v19; // [sp+74h] [bp-40h]@74
  int v20; // [sp+78h] [bp-3Ch]@74
  int v21; // [sp+7Ch] [bp-38h]@67
  int v22; // [sp+80h] [bp-34h]@60
  int v23; // [sp+84h] [bp-30h]@50
  int v24; // [sp+88h] [bp-2Ch]@40
  int v25; // [sp+8Ch] [bp-28h]@24
  int v26; // [sp+90h] [bp-24h]@24
  int v27; // [sp+94h] [bp-20h]@28
  int v28; // [sp+98h] [bp-1Ch]@28
  int v29; // [sp+9Ch] [bp-18h]@24
  int v30; // [sp+A0h] [bp-14h]@24
  int v31; // [sp+A4h] [bp-10h]@22
  int i; // [sp+A8h] [bp-Ch]@17
  int v33; // [sp+ACh] [bp-8h]@1
  int v34; // [sp+B0h] [bp-4h]@1

  memset(&v8, -858993460, 0xA8u);
  v34 = 0;
  v33 = Rand()() % 100;
  if ( a3 % 25 == 23 )
  {
    if ( v33 >= 50 )
    {
      if ( v33 >= 60 )
      {
        if ( v33 >= 90 )
          v34 = 4;
        else
          v34 = 3;
      }
      else
      {
        v34 = 2;
      }
    }
    else
    {
      v34 = 1;
    }
  }
  else
  {
    if ( v33 >= 40 )
    {
      if ( v33 >= 70 )
      {
        if ( v33 >= 90 )
          v34 = 4;
        else
          v34 = 3;
      }
      else
      {
        v34 = 2;
      }
    }
    else
    {
      v34 = 1;
    }
  }
  for ( i = 1; i < 1000; ++i )
  {
    if ( dword_752C488[790 * i] == a3 && dword_752C4A0[790 * i] )
    {
      dword_752C4A0[790 * i] = 0;
      v31 = a3 / 25;
      if ( a3 % 25 == 24 )
      {
        sub_4012C6(i);
        continue;
      }
      v30 = dword_1FDF1F4[431 * i];
      v29 = dword_1FDF1F8[431 * i];
      v26 = dword_882F3C4[a3];
      v25 = dword_884FAC0[101 * v26];
      if ( v25 == 1 )
      {
        v13 = v31;
        if ( v31 )
        {
          if ( v13 == 1 )
          {
            v28 = dword_59556C[8 * a3 % 25] + 128;
            v27 = dword_595570[8 * a3 % 25] - 128;
          }
          else
          {
            if ( v13 == 2 )
            {
              v28 = dword_59556C[8 * a3 % 25] + 256;
              v27 = dword_595570[8 * a3 % 25];
            }
            else
            {
              v28 = dword_59556C[8 * a3];
              v27 = dword_595570[8 * a3];
            }
          }
        }
        else
        {
          v28 = dword_59556C[8 * a3];
          v27 = dword_595570[8 * a3];
        }
      }
      else
      {
        v12 = v31;
        if ( v31 )
        {
          if ( v12 == 1 )
          {
            v28 = dword_595574[8 * a3 % 25] + 128;
            v27 = dword_595578[8 * a3 % 25] - 128;
          }
          else
          {
            if ( v12 == 2 )
            {
              v28 = dword_595574[8 * a3 % 25] + 256;
              v27 = dword_595578[8 * a3 % 25];
            }
            else
            {
              v28 = dword_595574[8 * a3];
              v27 = dword_595578[8 * a3];
            }
          }
        }
        else
        {
          v28 = dword_595574[8 * a3 % 25];
          v27 = dword_595578[8 * a3 % 25];
        }
      }
      v24 = 0;
      if ( v30 < v28 || v30 >= v28 + 4 || v29 < v27 || v29 >= v27 + 4 )
      {
        v24 = -v34;
        if ( 4 == v34 )
        {
          sub_401B63(i, &unk_8B0844);
          sub_4012C6(i);
          continue;
        }
      }
      else
      {
        v24 = v34;
        if ( v34 == 4 )
          v24 = 1;
      }
      if ( v24 <= 0 )
      {
        v22 = 0;
        v10 = v31;
        if ( v31 )
        {
          if ( v10 == 1 )
          {
            v22 = 4000 * v24;
          }
          else
          {
            if ( v10 == 2 )
              v22 = 7600 * v24;
          }
        }
        else
        {
          v22 = 2000 * v24;
        }
        v21 = -v22;
        if ( v22 > 0 && (unsigned int)dword_1FDECBC[431 * i] < 0xEE6B2800 )
          dword_1FDECBC[431 * i] += v22;
        if ( v22 < 0 && dword_1FDECBC[431 * i] > (unsigned int)v21 )
          dword_1FDECBC[431 * i] += v22;
        sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B0744);
        sub_401348(i);
        sub_401B63(i, &String);
      }
      else
      {
        v23 = 0;
        v11 = v31;
        if ( v31 )
        {
          if ( v11 == 1 )
          {
            v23 = 4000 * v24;
          }
          else
          {
            if ( v11 == 2 )
              v23 = 7600 * v24;
          }
        }
        else
        {
          v23 = 2000 * v24;
        }
        dword_1FDECBC[431 * i] += v23;
        if ( sub_40164A(&byte_1FDECA0[1724 * i]) )
        {
          sub_401B63(i, &unk_8A8244);
          sub_4018B1(i);
        }
        sub_401348(i);
        sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B06C4);
        sub_401B63(i, &String);
      }
      v20 = v24 + a3 % 25;
      v19 = a3 % 25;
      for ( j = 0; j < 4 && v20 != v19; ++j )
      {
        if ( v20 > v19 )
          ++v19;
        if ( v20 < v19 )
          --v19;
        if ( v19 >= 25 )
        {
          v20 = 48 - v20;
          v19 = 23;
        }
      }
      if ( v19 >= 0 && v19 < 25 )
      {
        if ( dword_595564[8 * v19] < 0 || dword_595564[8 * v19] > 5000 )
          v17 = 0;
        v16 = dword_595564[8 * v19];
        v15 = dword_595568[8 * v19];
        v9 = v31;
        if ( v31 == 1 )
        {
          v16 += 128;
          v15 -= 128;
        }
        else
        {
          if ( v9 == 2 )
            v16 += 256;
        }
        sub_401A19(i, v16, v15, 1);
        v14 = sub_401537(dword_1FDF1F4[431 * i], dword_1FDF1F8[431 * i]);
        if ( v14 % 25 == 24 )
          sub_401C30(v14 + 195, 0, 0);
      }
      else
      {
        sub_401B63(i, &unk_8B0844);
        sub_4012C6(i);
      }
    }
  }
  v3 = a3 / 25;
  if ( a3 % 25 != 24 )
    v3 = sub_401C30(a3 + 195, 0, 0);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 401348: using guessed type _DWORD __cdecl sub_401348(_DWORD);
// 401537: using guessed type _DWORD __cdecl sub_401537(_DWORD, _DWORD);
// 40164A: using guessed type int __thiscall sub_40164A(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 595564: using guessed type int dword_595564[];
// 595568: using guessed type int dword_595568[];
// 59556C: using guessed type int dword_59556C[];
// 595570: using guessed type int dword_595570[];
// 595574: using guessed type int dword_595574[];
// 595578: using guessed type int dword_595578[];
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752C488: using guessed type int dword_752C488[];
// 752C4A0: using guessed type int dword_752C4A0[];
// 882F3C4: using guessed type int dword_882F3C4[];
// 884FAC0: using guessed type int dword_884FAC0[];

//----- (004C6360) --------------------------------------------------------
int __usercall sub_4C6360<eax>(int a1<ebx>, signed int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-1E4h]@0
  int v5; // [sp+4h] [bp-1E0h]@0
  int v6; // [sp+8h] [bp-1DCh]@0
  char v7; // [sp+Ch] [bp-1D8h]@1
  int i; // [sp+4Ch] [bp-198h]@1
  int v9; // [sp+50h] [bp-194h]@1
  __int16 v10; // [sp+54h] [bp-190h]@1
  __int16 v11; // [sp+5Ch] [bp-188h]@1
  __int16 v12; // [sp+5Eh] [bp-186h]@1
  char v13; // [sp+60h] [bp-184h]@1
  char v14; // [sp+C0h] [bp-124h]@1
  char v15; // [sp+120h] [bp-C4h]@1
  char v16; // [sp+180h] [bp-64h]@1
  int v17; // [sp+1E0h] [bp-4h]@1

  memset(&v7, -858993460, 0x1D8u);
  v17 = Rand()() % 4 + 4 * a2 % 25;
  dword_882F3C4[a2] = v17;
  dword_882F298[a2] = 4;
  v10 = 1969;
  LOWORD(v9) = 400;
  v11 = 0;
  v12 = 0;
  sub_4E3F40(a1, a2 % 25, (int)&v13, "    << No. %d >>");
  sub_4E3F40(a1, a2 % 25, (int)&v14, (const char *)&unk_884F930 + 404 * v17);
  sub_4E3F40(a1, a2 % 25, (int)&v15, (const char *)&unk_884F994 + 404 * v17);
  v2 = sub_4E3F40(a1, a2 % 25, (int)&v16, (const char *)&unk_884F9F8 + 404 * v17);
  for ( i = 1; i < 1000; ++i )
  {
    v2 = 3160 * i;
    if ( dword_752C488[790 * i] == a2 )
    {
      dword_752C4A0[790 * i] = 1;
      if ( a2 % 25 == 24 )
      {
        if ( a2 > 25 )
          sub_401B63(i, &unk_8B15C4);
        else
          sub_401B63(i, &unk_8B08C4);
        v2 = sub_4015FF(i, 30000, 929, 14);
      }
      else
      {
        sub_401203(&v9, (unsigned __int16)v9);
        v2 = sub_4015FF(i, 30000, 929, 14);
      }
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 752C488: using guessed type int dword_752C488[];
// 752C4A0: using guessed type int dword_752C4A0[];
// 882F298: using guessed type int dword_882F298[];
// 882F3C4: using guessed type int dword_882F3C4[];

//----- (004C65F0) --------------------------------------------------------
int __cdecl sub_4C65F0()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-58h]@0
  int v3; // [sp+4h] [bp-54h]@0
  int v4; // [sp+8h] [bp-50h]@0
  char v5; // [sp+Ch] [bp-4Ch]@1
  int v6; // [sp+4Ch] [bp-Ch]@5
  int v7; // [sp+50h] [bp-8h]@5
  int i; // [sp+54h] [bp-4h]@1

  v0 = -858993460;
  memset(&v5, -858993460, 0x4Cu);
  dword_8C7656C = 0;
  for ( i = 1; i < 1000; ++i )
  {
    dword_752C488[790 * i] = -1;
    if ( dword_752BAF0[790 * i] == 22 )
    {
      v7 = dword_1FDF1F4[431 * i];
      v6 = dword_1FDF1F8[431 * i];
      dword_752C488[790 * i] = sub_401537(v7, v6);
    }
    v0 = i + 1;
  }
  for ( i = 0; i < 75; ++i )
  {
    if ( dword_BDEAAC[748 * (i + 195)] > 0 || dword_882F298[i] > 0 )
    {
      v0 = i;
      if ( dword_882F298[i] > 0 )
      {
        v0 = i;
        --dword_882F298[i];
        if ( dword_882F298[i] <= 0 )
          v0 = sub_401A7D(i);
      }
    }
    else
    {
      v0 = sub_401AD7(i);
    }
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 401537: using guessed type _DWORD __cdecl sub_401537(_DWORD, _DWORD);
// 401A7D: using guessed type _DWORD __cdecl sub_401A7D(_DWORD);
// 401AD7: using guessed type _DWORD __cdecl sub_401AD7(_DWORD);
// BDEAAC: using guessed type int dword_BDEAAC[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752C488: using guessed type int dword_752C488[];
// 882F298: using guessed type int dword_882F298[];
// 8C7656C: using guessed type int dword_8C7656C;

//----- (004C6790) --------------------------------------------------------
int __cdecl sub_4C6790()
{
  int v0; // eax@1
  __int16 *v1; // edx@8
  int v2; // ecx@8
  char v4; // [sp+0h] [bp-A0h]@0
  int v5; // [sp+4h] [bp-9Ch]@0
  int v6; // [sp+8h] [bp-98h]@0
  char v7; // [sp+Ch] [bp-94h]@1
  int v8; // [sp+4Ch] [bp-54h]@8
  int v9; // [sp+50h] [bp-50h]@8
  __int16 v10; // [sp+54h] [bp-4Ch]@8
  __int16 v11; // [sp+58h] [bp-48h]@8
  __int16 v12; // [sp+5Ah] [bp-46h]@8
  __int16 v13; // [sp+60h] [bp-40h]@8
  __int16 v14; // [sp+62h] [bp-3Eh]@8
  __int16 v15; // [sp+64h] [bp-3Ch]@8
  int v16; // [sp+66h] [bp-3Ah]@8
  int v17; // [sp+6Ah] [bp-36h]@8
  char v18; // [sp+6Eh] [bp-32h]@8
  char v19; // [sp+6Fh] [bp-31h]@8
  char v20; // [sp+70h] [bp-30h]@8
  char v21; // [sp+71h] [bp-2Fh]@8
  __int16 v22; // [sp+72h] [bp-2Eh]@8
  int v23; // [sp+74h] [bp-2Ch]@3
  int v24; // [sp+78h] [bp-28h]@3
  int v25; // [sp+7Ch] [bp-24h]@3
  int v26; // [sp+80h] [bp-20h]@3
  int i; // [sp+84h] [bp-1Ch]@1
  int v28; // [sp+88h] [bp-18h]@3
  int v29; // [sp+8Ch] [bp-14h]@10
  int v30; // [sp+90h] [bp-10h]@11
  int v31; // [sp+94h] [bp-Ch]@12
  int v32; // [sp+98h] [bp-8h]@13
  int v33; // [sp+9Ch] [bp-4h]@1

  v0 = -858993460;
  memset(&v7, -858993460, 0x94u);
  dword_8C7626C = 0;
  v33 = 0;
  for ( i = 0; i < 5; ++i )
  {
    dword_8C76258[i] = 0;
    v26 = i + 67;
    v25 = word_8863698[26 * (i + 67)];
    v33 = dword_594E20[21 * i];
    v24 = dword_594DD0[21 * i];
    v23 = dword_594E1C[21 * i];
    dword_8C76258[i] = v24;
    *(&v28 + i) = v23;
    if ( v33 >= 4 )
      v33 = 4;
    if ( v33 < 0 )
      v33 = 0;
    word_8863698[26 * v26] = v33 + 3145;
    byte_886369A[52 * v26] = 56;
    byte_886369B[52 * v26] = v24 / 256;
    byte_886369C[52 * v26] = 57;
    byte_886369D[52 * v26] = v24;
    byte_886369E[52 * v26] = 0;
    byte_886369F[52 * v26] = 0;
    if ( v25 != word_8863698[26 * v26] )
    {
      v9 = dword_88636A4[13 * v26];
      v8 = dword_88636A8[13 * v26];
      v11 = 622;
      v10 = 32;
      v12 = 30000;
      v15 = v26 + 15000;
      v1 = &word_8863698[26 * v26];
      v2 = *((_DWORD *)v1 + 1);
      v16 = *(_DWORD *)v1;
      v17 = v2;
      v13 = v9;
      v14 = v8;
      v18 = LOBYTE(dword_88636B4[13 * v26]);
      v19 = LOBYTE(dword_88636B0[13 * v26]);
      v21 = 0;
      v22 = 0;
      v20 = LOBYTE(dword_88636C0[13 * v26]);
      sub_4014FB(v9, v8, &v10, 0);
    }
    v0 = i + 1;
  }
  if ( v28 == v29 )
  {
    if ( v29 == v30 )
    {
      v0 = v30;
      if ( v30 == v31 )
      {
        if ( v31 == v32 )
          dword_8C7626C = v28;
      }
    }
  }
  return sub_4E46A0(1, v0, v6, v4, v5);
}
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 594DD0: using guessed type int dword_594DD0[];
// 594E1C: using guessed type int dword_594E1C[];
// 594E20: using guessed type int dword_594E20[];
// 8863698: using guessed type __int16 word_8863698[];
// 88636A4: using guessed type int dword_88636A4[];
// 88636A8: using guessed type int dword_88636A8[];
// 88636B0: using guessed type int dword_88636B0[];
// 88636B4: using guessed type int dword_88636B4[];
// 88636C0: using guessed type int dword_88636C0[];
// 8C76258: using guessed type int dword_8C76258[];
// 8C7626C: using guessed type int dword_8C7626C;

//----- (004C6A90) --------------------------------------------------------
int __cdecl sub_4C6A90(int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  v2 = -858993460;
  memset(&v7, -858993460, 0x44u);
  for ( i = 1000; i < 12800; ++i )
  {
    if ( dword_1FDF1D4[431 * i]
      && (signed int)(unsigned __int16)word_1FDECEC[862 * i] > 0
      && dword_1FDF27C[431 * i] >= a1 )
    {
      if ( dword_1FDF27C[431 * i] <= a2 )
        sub_401B90(i, 2);
    }
    v2 = i + 1;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF27C: using guessed type int dword_1FDF27C[];

//----- (004C6B60) --------------------------------------------------------
int __usercall sub_4C6B60<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@19
  char v4; // [sp+0h] [bp-74h]@0
  int v5; // [sp+4h] [bp-70h]@0
  int v6; // [sp+8h] [bp-6Ch]@0
  char v7; // [sp+Ch] [bp-68h]@1
  int k; // [sp+4Ch] [bp-28h]@65
  int j; // [sp+50h] [bp-24h]@36
  int m; // [sp+54h] [bp-20h]@20
  int v11; // [sp+58h] [bp-1Ch]@20
  int v12; // [sp+5Ch] [bp-18h]@7
  int l; // [sp+60h] [bp-14h]@7
  int v14; // [sp+64h] [bp-10h]@7
  int i; // [sp+68h] [bp-Ch]@1
  int v16; // [sp+6Ch] [bp-8h]@1
  int v17; // [sp+70h] [bp-4h]@1

  memset(&v7, -858993460, 0x68u);
  v17 = 0;
  v16 = 0;
  for ( i = 0; i < 3; ++i )
  {
    if ( byte_54F2980[i] )
    {
      if ( byte_54F2980[i] )
      {
        if ( dword_5A1294[i] == dword_AACD34 % 20 )
        {
          if ( dword_AACD30 < 40 )
          {
            byte_8C76444[i] = 1;
            for ( j = 1; j < 1000; ++j )
            {
              if ( dword_752BAF0[790 * j] == 22
                && dword_1FDF1D4[431 * j]
                && dword_1FDF1F4[431 * j] >= dword_5A1270[2 * i]
                && dword_1FDF1F4[431 * j] <= dword_5A1258[2 * i]
                && dword_1FDF1F8[431 * j] >= dword_5A1274[2 * i]
                && dword_1FDF1F8[431 * j] <= dword_5A125C[2 * i] )
              {
                if ( v17 >= 4 )
                {
                  sub_4012C6(j);
                  ++v17;
                  if ( dword_BDE9C4[i] == dword_5A12A0[i] )
                  {
                    sub_4E4810((char *)&unk_54F2088 + 16 * (v17 - 1), &byte_1FDECA0[1724 * j], 0x10u);
                    v16 = i + 1;
                    v2 = i + 1;
                  }
                  else
                  {
                    v2 = 0;
                  }
                  return sub_4E46A0(1, v2, v6, v4, v5);
                }
                sub_4012C6(j);
                ++v17;
                if ( dword_BDE9C4[i] == dword_5A12A0[i] )
                {
                  sub_4E4810((char *)&unk_54F2088 + 16 * (v17 - 1), &byte_1FDECA0[1724 * j], 0x10u);
                  v16 = i + 1;
                }
              }
            }
            byte_54F2980[i] = 0;
            if ( i )
            {
              if ( i == 1 )
              {
                sub_4019D8(285, dword_5A12A0[1] + 285);
                sub_4019D8(dword_5A12C4[i], dword_5A12AC[i] + dword_5A12C4[i]);
                sub_4019D8(324, (unsigned __int16)word_8C76398[i] + 324);
              }
              else
              {
                if ( i == 2 )
                {
                  sub_4019D8(302, dword_5A12A0[2] + 302);
                  sub_4019D8(dword_5A12C4[i], dword_5A12AC[i] + dword_5A12C4[i]);
                  sub_4019D8(328, (unsigned __int16)word_8C76398[i] + 328);
                }
              }
            }
            else
            {
              sub_4019D8(270, dword_5A12A0[0] + 270);
              sub_4019D8(dword_5A12C4[i], dword_5A12AC[i] + dword_5A12C4[i]);
              sub_4019D8(322, (unsigned __int16)word_8C76398[i] + 322);
            }
            sub_4E3F40(a1, a2, (int)&String, "etc,nightmare lev : %d - live npc(%d)");
            Log(&String, &unk_584124, 0);
            dword_BDE9C4[i] = 0;
            dword_750BAB8[i] = 0;
            word_8C76398[i] = 0;
            byte_8C76444[i] = 0;
          }
        }
        else
        {
          a2 = 20;
          if ( dword_5A1294[i] - 3 == dword_AACD34 % 20 && dword_BDE9C4[i] >= 4 && !word_8C76398[i] && dword_AACD30 < 5 )
          {
            word_8C76398[i] = dword_BDE9C4[i] - 3;
            for ( k = 0; k < dword_BDE9C4[i] - 3; ++k )
            {
              sub_401C30(k + dword_5A12DC[i], 0, 0);
              sub_4E3F40(a1, 20, (int)&String, "etc,nightmare boss gen - %d");
              Log(&String, &unk_584124, 0);
            }
          }
        }
      }
    }
    else
    {
      a2 = 20;
      if ( dword_5A1288[i] + 4 == dword_AACD34 % 20 && dword_AACD30 < 8 && dword_AACD30 > 3 )
      {
        v14 = 0;
        l = 0;
        v12 = dword_5A12A0[i] << 16;
        v12 |= dword_BDE9C4[i];
        for ( l = 1; l < 1000; ++l )
        {
          if ( dword_752BAF0[790 * l] == 22
            && dword_1FDF1D4[431 * l]
            && dword_1FDF1F4[431 * l] >= dword_5A1270[2 * i]
            && dword_1FDF1F4[431 * l] <= dword_5A1258[2 * i]
            && dword_1FDF1F8[431 * l] >= dword_5A1274[2 * i] )
          {
            if ( dword_1FDF1F8[431 * l] <= dword_5A125C[2 * i] )
            {
              sub_4015FF(l, 30000, 929, 900);
              sub_4015FF(l, 30000, 955, v12);
              ++v14;
            }
          }
        }
        if ( !v14 )
        {
          v2 = 0;
          return sub_4E46A0(1, v2, v6, v4, v5);
        }
        byte_54F2980[i] = 1;
        v11 = dword_5A12A0[i];
        for ( m = 0; m < v11; ++m )
        {
          if ( i )
          {
            if ( i == 1 )
            {
              word_8C76424[m] = 1;
            }
            else
            {
              if ( i == 2 )
                word_8C76434[m] = 1;
            }
          }
          else
          {
            word_8C76418[m] = 1;
          }
        }
        byte_8C76444[i] = 0;
        sub_4E4640(&unk_54F2088, 0, 0x50u);
        for ( l = 0; l < dword_5A12AC[i]; ++l )
          sub_401C30(l + dword_5A12C4[i], 0, 0);
      }
    }
  }
  v2 = v16;
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 4019D8: using guessed type _DWORD __cdecl sub_4019D8(_DWORD, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 5A1258: using guessed type int dword_5A1258[];
// 5A125C: using guessed type int dword_5A125C[];
// 5A1270: using guessed type int dword_5A1270[];
// 5A1274: using guessed type int dword_5A1274[];
// 5A1288: using guessed type int dword_5A1288[];
// 5A1294: using guessed type int dword_5A1294[];
// 5A12A0: using guessed type int dword_5A12A0[];
// 5A12AC: using guessed type int dword_5A12AC[];
// 5A12C4: using guessed type int dword_5A12C4[];
// 5A12DC: using guessed type int dword_5A12DC[];
// AACD30: using guessed type int dword_AACD30;
// AACD34: using guessed type int dword_AACD34;
// BDE9C4: using guessed type int dword_BDE9C4[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 750BAB8: using guessed type int dword_750BAB8[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 8C76398: using guessed type __int16 word_8C76398[];
// 8C76418: using guessed type __int16 word_8C76418[];
// 8C76424: using guessed type __int16 word_8C76424[];
// 8C76434: using guessed type __int16 word_8C76434[];

//----- (004C7460) --------------------------------------------------------
int __cdecl sub_4C7460(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-54h]@0
  int v4; // [sp+4h] [bp-50h]@0
  int v5; // [sp+8h] [bp-4Ch]@0
  char v6; // [sp+Ch] [bp-48h]@1
  int i; // [sp+4Ch] [bp-8h]@1
  int v8; // [sp+50h] [bp-4h]@1

  memset(&v6, -858993460, 0x48u);
  v8 = dword_5A12A0[a1] << 16;
  v1 = dword_BDE9C4[a1] | v8;
  v8 |= dword_BDE9C4[a1];
  for ( i = 1; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22 )
    {
      v1 = 1724 * i;
      if ( dword_1FDF1D4[431 * i] )
      {
        v1 = dword_1FDF1F4[431 * i];
        if ( v1 >= dword_5A1270[2 * a1] )
        {
          v1 = dword_1FDF1F4[431 * i];
          if ( v1 <= dword_5A1258[2 * a1] )
          {
            v1 = dword_1FDF1F8[431 * i];
            if ( v1 >= dword_5A1274[2 * a1] )
            {
              v1 = dword_1FDF1F8[431 * i];
              if ( v1 <= dword_5A125C[2 * a1] )
                v1 = sub_4015FF(i, 30000, 955, v8);
            }
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 5A1258: using guessed type int dword_5A1258[];
// 5A125C: using guessed type int dword_5A125C[];
// 5A1270: using guessed type int dword_5A1270[];
// 5A1274: using guessed type int dword_5A1274[];
// 5A12A0: using guessed type int dword_5A12A0[];
// BDE9C4: using guessed type int dword_BDE9C4[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004C75D0) --------------------------------------------------------
int __cdecl sub_4C75D0(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  char v8; // [sp+0h] [bp-50h]@0
  int v9; // [sp+4h] [bp-4Ch]@0
  int v10; // [sp+8h] [bp-48h]@0
  char v11; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  v6 = -858993460;
  memset(&v11, -858993460, 0x44u);
  for ( i = 1; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22
      && dword_1FDF1D4[431 * i]
      && dword_1FDF1F4[431 * i] >= a1
      && dword_1FDF1F4[431 * i] <= a3
      && dword_1FDF1F8[431 * i] >= a2 )
    {
      if ( dword_1FDF1F8[431 * i] <= a4 )
      {
        sub_401B63(i, &byte_8A67C4[128 * a5]);
        sub_4015FF(i, 30000, 929, a6);
      }
    }
    v6 = i + 1;
  }
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004C7710) --------------------------------------------------------
int __usercall sub_4C7710<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@8
  char v5; // [sp+0h] [bp-58h]@0
  int v6; // [sp+4h] [bp-54h]@0
  int v7; // [sp+8h] [bp-50h]@0
  char v8; // [sp+Ch] [bp-4Ch]@1
  int j; // [sp+4Ch] [bp-Ch]@11
  int i; // [sp+50h] [bp-8h]@2
  LPCSTR lpMultiByteStr; // [sp+54h] [bp-4h]@2
  int v12; // [sp+58h] [bp+0h]@2

  memset(&v8, -858993460, 0x4Cu);
  if ( *(_BYTE *)a3 == 43 )
  {
    lpMultiByteStr = (LPCSTR)(a3 + 1);
    sub_4E8E60(a1, (int)&v12, a2, (LPCSTR)(a3 + 1));
    for ( i = 1; i < 1000; ++i )
    {
      if ( dword_1FDF1D4[431 * i]
        && dword_752BAF0[790 * i] == 22
        && !sub_4E4D80((int)lpMultiByteStr, (int)&byte_752BAD8[3160 * i]) )
      {
        v3 = i;
        return sub_4E46A0(1, v3, v7, v5, v6);
      }
    }
    v3 = 0;
  }
  else
  {
    for ( j = 1; j < 12800; ++j )
    {
      if ( dword_1FDF1D4[431 * j] && !sub_4E4D80(a3, (int)&byte_1FDECA0[1724 * j]) )
      {
        v3 = j;
        return sub_4E46A0(1, v3, v7, v5, v6);
      }
    }
    v3 = 0;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004C7870) --------------------------------------------------------
int __usercall sub_4C7870<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@16
  int v3; // esi@18
  int v4; // edx@18
  int v5; // eax@44
  char v7; // [sp+0h] [bp-6Ch]@0
  int v8; // [sp+4h] [bp-68h]@0
  int v9; // [sp+8h] [bp-64h]@0
  char v10; // [sp+Ch] [bp-60h]@1
  int v11; // [sp+4Ch] [bp-20h]@1
  int k; // [sp+50h] [bp-1Ch]@53
  int l; // [sp+54h] [bp-18h]@32
  int v14; // [sp+58h] [bp-14h]@32
  int j; // [sp+5Ch] [bp-10h]@12
  int i; // [sp+60h] [bp-Ch]@1
  int v17; // [sp+64h] [bp-8h]@1
  int v18; // [sp+68h] [bp-4h]@1

  memset(&v10, -858993460, 0x60u);
  v18 = 0;
  v17 = 0;
  i = 0;
  v11 = (unsigned __int8)byte_8C7644C - 1;
  switch ( byte_8C7644C )
  {
    case 1:
      sub_401C30(334, 0, 0);
      byte_8C7644C = 0;
      sub_4E3F40(a1, a2, (int)&String, "hell,hellgate_lev_1_center_boss");
      Log(&String, "hell", 0);
      break;
    case 2:
      for ( i = 0; i < 3; ++i )
      {
        sub_401C30(i + 335, 0, 0);
        sub_401C30(2 * i + 390, 0, 0);
        sub_401C30(2 * i + 391, 0, 0);
      }
      byte_8C76451 = Rand()() % 3 + 1;
      byte_8C7644C = 0;
      sub_4E3F40(a1, a2, (int)&String, "hell,hellgate_lev_2_potal_boss-%d");
      Log(&String, "hell", 0);
      break;
    case 3:
      for ( i = 0; i < 36; ++i )
        sub_401C30(i + 342, 0, 0);
      for ( i = 0; i < 4; ++i )
      {
        for ( j = 0; j < 9; ++j )
          *(&byte_74F9198[9 * i] + j) = 1;
      }
      v2 = Rand()() & 0x80000003;
      if ( v2 < 0 )
        LOBYTE(v2) = ((unsigned __int8)(v2 - 1) | 0xFC) + 1;
      byte_8C7645C[0] = v2;
      v3 = (unsigned __int8)v2;
      v4 = ((unsigned __int8)v2 + Rand()() % 3 + 1) & 0x80000003;
      if ( v4 < 0 )
        LOBYTE(v4) = ((unsigned __int8)(v4 - 1) | 0xFC) + 1;
      byte_8C7645D = v4;
      byte_8C7644C = 0;
      sub_4E3F40(a1, v3, (int)&String, "hell,hellgate_lev_3_hellzone_boss-%d,%d");
      Log(&String, "hell", 0);
      break;
    case 4:
      sub_401C30(333, 0, 0);
      sub_4E3F40(a1, a2, (int)&String, "hell,hellgate_lev_4_npc_gen");
      Log(&String, "hell", 0);
      byte_8C7644C = 5;
      break;
    case 5:
      for ( i = 0; i < 12; ++i )
        sub_401C30(i + 378, 0, 0);
      for ( i = 6023; i < 6047; ++i )
        sub_401C30(i, 0, 0);
      break;
    default:
      break;
  }
  if ( byte_8C7644D )
  {
    if ( byte_8C7644D && dword_AACD34 % 30 == 29 && dword_AACD30 < 40 )
    {
      for ( k = 1; k < 1000; ++k )
      {
        if ( dword_752BAF0[790 * k] == 22
          && dword_1FDF1D4[431 * k]
          && dword_1FDF1F4[431 * k] >= dword_5A1348
          && dword_1FDF1F4[431 * k] <= dword_5A1350
          && dword_1FDF1F8[431 * k] >= dword_5A134C
          && dword_1FDF1F8[431 * k] <= dword_5A1354 )
        {
          if ( v18 >= 4 )
          {
            sub_4012C6(k);
            ++v18;
            v5 = 0;
            return sub_4E46A0(1, v5, v9, v7, v8);
          }
          sub_4012C6(k);
          ++v18;
        }
      }
      for ( k = 0; k < 8; ++k )
        byte_8C76454[k] = 1;
      byte_8C7644F = 0;
      byte_8C76450 = 0;
      byte_8C76451 = 0;
      byte_8C7644D = 0;
      sub_4019D8(333, 395);
      sub_4019D8(6023, 6046);
      byte_8C7644E = 0;
    }
    goto LABEL_70;
  }
  if ( dword_AACD34 % 30 != 4 || dword_AACD30 >= 8 || dword_AACD30 <= 3 )
  {
LABEL_70:
    v5 = v17;
    return sub_4E46A0(1, v5, v9, v7, v8);
  }
  v14 = 0;
  for ( l = 1; l < 1000; ++l )
  {
    if ( dword_752BAF0[790 * l] == 22
      && dword_1FDF1D4[431 * l]
      && dword_1FDF1F4[431 * l] >= dword_5A1348
      && dword_1FDF1F4[431 * l] <= dword_5A1350
      && dword_1FDF1F8[431 * l] >= dword_5A134C )
    {
      if ( dword_1FDF1F8[431 * l] <= dword_5A1354 )
      {
        sub_4015FF(l, 30000, 929, 1500);
        ++v14;
      }
    }
  }
  if ( v14 )
  {
    byte_8C7644D = 1;
    for ( l = 0; l < 8; ++l )
      byte_8C76454[l] = 1;
    byte_8C7644F = 0;
    byte_8C76450 = 0;
    byte_8C76451 = 0;
    byte_8C7644C = 1;
    goto LABEL_70;
  }
  v5 = 0;
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 4019D8: using guessed type _DWORD __cdecl sub_4019D8(_DWORD, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 5A1348: using guessed type int dword_5A1348;
// 5A134C: using guessed type int dword_5A134C;
// 5A1350: using guessed type int dword_5A1350;
// 5A1354: using guessed type int dword_5A1354;
// AACD30: using guessed type int dword_AACD30;
// AACD34: using guessed type int dword_AACD34;
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 8C7644C: using guessed type char byte_8C7644C;
// 8C7644D: using guessed type char byte_8C7644D;
// 8C7644E: using guessed type char byte_8C7644E;
// 8C7644F: using guessed type char byte_8C7644F;
// 8C76450: using guessed type char byte_8C76450;
// 8C76451: using guessed type char byte_8C76451;
// 8C7645D: using guessed type char byte_8C7645D;

//----- (004C7FE0) --------------------------------------------------------
int __cdecl sub_4C7FE0(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-6Ch]@0
  int v4; // [sp+4h] [bp-68h]@0
  int v5; // [sp+8h] [bp-64h]@0
  char v6; // [sp+Ch] [bp-60h]@1
  __int16 v7; // [sp+4Ch] [bp-20h]@8
  __int16 v8; // [sp+50h] [bp-1Ch]@8
  __int16 v9; // [sp+52h] [bp-1Ah]@8
  int v10; // [sp+58h] [bp-14h]@8
  __int16 v11; // [sp+5Ch] [bp-10h]@8
  char v12; // [sp+5Eh] [bp-Eh]@8
  int v13; // [sp+60h] [bp-Ch]@8
  int v14; // [sp+64h] [bp-8h]@4
  int i; // [sp+68h] [bp-4h]@1

  v1 = -858993460;
  memset(&v6, -858993460, 0x60u);
  for ( i = 0; i < 2; ++i )
  {
    v14 = i + 72;
    if ( word_8863698[26 * (i + 72)] > 0 && word_8863698[26 * v14] < 6500 )
    {
      if ( dword_88636B0[13 * v14] != a1 )
      {
        v13 = 0;
        sub_401A14(v14, a1, &v13);
        v9 = 30000;
        v8 = 884;
        v10 = v14 + 15000;
        v7 = 20;
        v12 = v13;
        v11 = LOWORD(dword_88636B0[13 * v14]);
        sub_4014FB(dword_88636A4[13 * v14], dword_88636A8[13 * v14], &v7, 0);
        dword_88636B8[13 * v14] = 0;
      }
    }
    v1 = i + 1;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401A14: using guessed type _DWORD __cdecl sub_401A14(_DWORD, _DWORD, _DWORD);
// 8863698: using guessed type __int16 word_8863698[];
// 88636A4: using guessed type int dword_88636A4[];
// 88636A8: using guessed type int dword_88636A8[];
// 88636B0: using guessed type int dword_88636B0[];
// 88636B8: using guessed type int dword_88636B8[];

//----- (004C8140) --------------------------------------------------------
bool __cdecl sub_4C8140(int a1)
{
  char v2; // [sp+Ch] [bp-48h]@1
  int v3; // [sp+4Ch] [bp-8h]@1
  int v4; // [sp+50h] [bp-4h]@1

  memset(&v2, -858993460, 0x48u);
  v4 = dword_1FDF1F4[431 * a1];
  v3 = dword_1FDF1F8[431 * a1];
  return v4 >= 2176 && v4 <= 2560 && v3 >= 3840 && v3 <= 4096;
}
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];

//----- (004C81D0) --------------------------------------------------------
bool __cdecl sub_4C81D0(signed int a1, signed int a2)
{
  char v3; // [sp+Ch] [bp-40h]@1

  memset(&v3, -858993460, 0x40u);
  return a1 >= 2176 && a1 <= 2560 && a2 >= 3840 && a2 <= 4096;
}

//----- (004C8580) --------------------------------------------------------
int __usercall sub_4C8580<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // eax@4
  unsigned __int64 v7; // qax@5
  int v8; // edx@13
  int v9; // ecx@15
  char v11; // [sp+0h] [bp-78h]@0
  int v12; // [sp+4h] [bp-74h]@0
  int v13; // [sp+8h] [bp-70h]@0
  char v14; // [sp+Ch] [bp-6Ch]@1
  int v15; // [sp+4Ch] [bp-2Ch]@11
  int i; // [sp+50h] [bp-28h]@7
  int v17; // [sp+54h] [bp-24h]@7
  int v18; // [sp+58h] [bp-20h]@13
  int v19; // [sp+5Ch] [bp-1Ch]@5
  int v20; // [sp+60h] [bp-18h]@5
  int v21; // [sp+64h] [bp-14h]@5
  int v22; // [sp+68h] [bp-10h]@3
  int v23; // [sp+6Ch] [bp-Ch]@3
  unsigned __int64 v24; // [sp+70h] [bp-8h]@1

  memset(&v14, -858993460, 0x6Cu);
  v24 = a5 + dword_1FDECB8[431 * a3];
  qword_8C761D0 = a5;
  if ( *(_BYTE *)(a4 + 1) == 14 )
  {
    v24 += a6;
    sub_4E4720((int)&unk_BDE990);
    dword_8C76380 = 4;
    sub_4E3F40(a1, a2, (int)&String, "etc,jackpot %u");
    Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
    dword_54EB278 = 0;
  }
  v22 = 2000000000;
  v23 = 0;
  if ( (signed __int64)v24 >= 2000000000 )
  {
    v21 = sub_4E5390(v24, 0x3B9ACA00u, 0);
    LODWORD(v7) = sub_4EABF0(v24, 1000000000i64);
    v20 = sub_4E5390(v7, (unsigned int)&unk_5F5E100, 0);
    v19 = sub_4EABF0(v24, (unsigned int)&unk_5F5E100);
    if ( v21 > 0 || v20 > 0 )
    {
      LOWORD(v17) = 4010;
      for ( i = 0; i < 63; ++i )
      {
        if ( !*((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i) )
        {
          v15 = sub_4017E4(&dword_1FDED7C[431 * a3], i);
          if ( v15 )
          {
            if ( v21 <= 0 )
            {
              if ( v20 <= 0 )
                break;
              LOWORD(v17) = 4010;
              v9 = i;
              *(&dword_1FDED7C[431 * a3] + 2 * i) = v17;
              *(&dword_1FDED80[431 * a3] + 2 * v9) = v18;
              sub_401960(a3, 1, i, &v17);
              sub_4E3F40(a1, a2, (int)&String, "etc, gamble1 silver 1 send %d");
              Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
              --v20;
            }
            else
            {
              LOWORD(v17) = 4011;
              v8 = i;
              *(&dword_1FDED7C[431 * a3] + 2 * i) = v17;
              *(&dword_1FDED80[431 * a3] + 2 * v8) = v18;
              sub_401960(a3, 1, i, &v17);
              sub_4E3F40(a1, a2, (int)&String, "etc, gamble1 silver 10 send %d");
              Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
              --v21;
            }
          }
        }
      }
      if ( v21 > 0 )
      {
        sub_4E3F40(a1, a2, (int)&String, "etc, gamble1 silver 10 empty %d");
        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
      }
      if ( v20 > 0 )
      {
        sub_4E3F40(a1, a2, (int)&String, "etc, gamble1 silver 1 empty %d");
        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
      }
    }
    dword_1FDECB8[431 * a3] = v19;
    v6 = SendEtc(a3);
  }
  else
  {
    v6 = 1724 * a3;
    dword_1FDECB8[431 * a3] = v24;
  }
  return sub_4E46A0(1, v6, v13, v11, v12);
}
// 401500: using guessed type _DWORD __cdecl SendEtc(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4017E4: using guessed type _DWORD __cdecl sub_4017E4(_DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDED80: using guessed type int dword_1FDED80[];
// 54EB278: using guessed type int dword_54EB278;
// 752BAEC: using guessed type int dword_752BAEC[];
// 8C761D0: using guessed type __int64 qword_8C761D0;
// 8C76380: using guessed type int dword_8C76380;

//----- (004C8A40) --------------------------------------------------------
int __cdecl sub_4C8A40(int a1)
{
  int v1; // eax@7
  char v3; // [sp+0h] [bp-64h]@0
  int v4; // [sp+4h] [bp-60h]@0
  int v5; // [sp+8h] [bp-5Ch]@0
  char v6; // [sp+Ch] [bp-58h]@1
  __int16 v7; // [sp+4Ch] [bp-18h]@7
  __int16 v8; // [sp+50h] [bp-14h]@7
  __int16 v9; // [sp+52h] [bp-12h]@7
  __int16 v10; // [sp+58h] [bp-Ch]@7
  __int16 v11; // [sp+5Ah] [bp-Ah]@7
  int v12; // [sp+5Ch] [bp-8h]@7
  int i; // [sp+60h] [bp-4h]@1

  memset(&v6, -858993460, 0x58u);
  for ( i = 1; i < 19; ++i )
    sub_401C30(i + 396, 0, 0);
  for ( i = 5217; i < 5221; ++i )
    sub_401C30(i, 0, 0);
  v8 = 874;
  v7 = 20;
  v12 = 0;
  v9 = a1;
  v10 = 7;
  v11 = 1;
  v1 = sub_401406(dword_1FDF1F4[431 * a1], dword_1FDF1F8[431 * a1], &v7, 0);
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401406: using guessed type _DWORD __cdecl sub_401406(_DWORD, _DWORD, _DWORD, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];

//----- (004C8B60) --------------------------------------------------------
int __cdecl sub_4C8B60(int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-C0h]@0
  int v5; // [sp+4h] [bp-BCh]@0
  int v6; // [sp+8h] [bp-B8h]@0
  char v7; // [sp+Ch] [bp-B4h]@1
  int v8; // [sp+4Ch] [bp-74h]@14
  int j; // [sp+50h] [bp-70h]@12
  int v10; // [sp+54h] [bp-6Ch]@11
  int i; // [sp+58h] [bp-68h]@1
  __int16 v12; // [sp+5Ch] [bp-64h]@3
  __int16 v13; // [sp+60h] [bp-60h]@12
  __int16 v14; // [sp+62h] [bp-5Eh]@12
  int v15; // [sp+64h] [bp-5Ch]@12
  char v16; // [sp+68h] [bp-58h]@4
  __int16 v17; // [sp+6Ch] [bp-54h]@12
  __int16 v18; // [sp+6Eh] [bp-52h]@12
  __int16 v19; // [sp+74h] [bp-4Ch]@12
  __int16 v20; // [sp+78h] [bp-48h]@12
  __int16 v21; // [sp+7Ah] [bp-46h]@4
  __int16 v22; // [sp+80h] [bp-40h]@12
  __int16 v23[27]; // [sp+8Ah] [bp-36h]@14

  v2 = -858993460;
  memset(&v7, -858993460, 0xB4u);
  for ( i = 0; i < 8; ++i )
  {
    sub_4E4640(&v12, 0, 0x64u);
    sub_4011F4(word_5A1368[2 * i], word_5A136A[2 * i], 13, 20, &v12, a1, 1);
    if ( a2 )
    {
      switch ( a2 )
      {
        case 1:
          v16 = 9;
          v21 = 111;
          break;
        case 2:
          v16 = 0;
          v21 = 110;
          break;
        case 3:
          v16 = 0;
          v21 = 112;
          break;
      }
    }
    else
    {
      v16 = Rand()() % 3 + 4;
      v21 = -1;
    }
    v2 = sub_4016D1(a1, a2, &v12);
    v10 = v2;
    if ( v2 )
    {
      v14 = 30000;
      v19 = a1;
      v15 = dword_8C76270;
      v17 = LOWORD(dword_1FDF1F4[431 * a1]);
      v18 = LOWORD(dword_1FDF1F8[431 * a1]);
      v12 = 100;
      v13 = 871;
      v20 = -1;
      v22 = -1;
      v2 = sub_401406(dword_1FDF1F4[431 * a1], dword_1FDF1F8[431 * a1], &v12, 0);
      for ( j = 0; j < 13; ++j )
      {
        v2 = (unsigned __int16)v23[2 * j];
        v8 = v2;
        if ( (signed int)(unsigned __int16)word_1FDECEC[862 * v2] <= 0 )
        {
          word_1FDECEC[862 * v8] = 0;
          v2 = sub_401C12(v8, a1, 0, 0);
        }
      }
    }
    if ( !a2 || a2 == 3 && v10 == 1 )
      break;
    v2 = i + 1;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4011F4: using guessed type _DWORD __cdecl sub_4011F4(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401406: using guessed type _DWORD __cdecl sub_401406(_DWORD, _DWORD, _DWORD, _DWORD);
// 4016D1: using guessed type _DWORD __cdecl sub_4016D1(_DWORD, _DWORD, _DWORD);
// 401C12: using guessed type _DWORD __cdecl sub_401C12(_DWORD, _DWORD, _DWORD, _DWORD);
// 5A1368: using guessed type __int16 word_5A1368[];
// 5A136A: using guessed type __int16 word_5A136A[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 8C76270: using guessed type int dword_8C76270;
// 4C8B60: using guessed type __int16 var_36[27];

//----- (004C8DF0) --------------------------------------------------------
int __cdecl sub_4C8DF0(int a1, int a2, int a3)
{
  char v4; // [sp+0h] [bp-9Ch]@0
  int v5; // [sp+4h] [bp-98h]@0
  int v6; // [sp+8h] [bp-94h]@0
  char v7; // [sp+Ch] [bp-90h]@1
  int v8; // [sp+4Ch] [bp-50h]@58
  int v9; // [sp+50h] [bp-4Ch]@55
  int v10; // [sp+54h] [bp-48h]@53
  int v11; // [sp+58h] [bp-44h]@44
  int j; // [sp+5Ch] [bp-40h]@41
  int v13; // [sp+60h] [bp-3Ch]@38
  int v14; // [sp+64h] [bp-38h]@34
  int v15; // [sp+68h] [bp-34h]@34
  int v16; // [sp+6Ch] [bp-30h]@18
  int v17; // [sp+70h] [bp-2Ch]@18
  int v18; // [sp+74h] [bp-28h]@12
  int v19; // [sp+78h] [bp-24h]@12
  int v20; // [sp+7Ch] [bp-20h]@12
  int v21; // [sp+80h] [bp-1Ch]@12
  int v22; // [sp+84h] [bp-18h]@12
  int v23; // [sp+88h] [bp-14h]@4
  int i; // [sp+8Ch] [bp-10h]@1
  int v25; // [sp+90h] [bp-Ch]@1
  int v26; // [sp+94h] [bp-8h]@1
  int v27; // [sp+98h] [bp-4h]@1

  memset(&v7, -858993460, 0x90u);
  v27 = 0;
  v26 = 0;
  v25 = 0;
  *(_BYTE *)(a3 + 14) = 0;
  for ( i = 0; i < 13; ++i )
  {
    v23 = *(_WORD *)(a3 + 4 * i + 46);
    if ( v23 > 0
      && v23 < 12800
      && dword_1FDF1D4[431 * v23]
      && (signed int)(unsigned __int16)word_1FDECEC[862 * v23] > 0
      && !(byte_1FDECB1[1724 * v23] & 1)
      && byte_1FDECB0[1724 * v23] != byte_1FDECB0[1724 * a1] )
    {
      if ( a2 )
      {
        if ( a2 != 1 || dword_752C434[790 * v23] <= 1 )
        {
          if ( a2 != 2 || dword_752C434[790 * v23] <= 1 )
          {
            if ( a2 != 3 || dword_752C434[790 * v23] <= 1 )
              continue;
            v26 = 3 * (unsigned __int16)word_1FDECE8[862 * v23];
            v25 = 1;
          }
          else
          {
            v26 = (unsigned __int16)word_1FDECEC[862 * v23];
          }
        }
        else
        {
          v26 = Rand()() % 1000 + 3000;
        }
      }
      else
      {
        v22 = dword_1FDF2EC[431 * a1];
        v21 = dword_1FDF2F0[431 * a1];
        v20 = v21 * v22;
        v19 = v22 * v21 * v22 / 100;
        v18 = v21 * v22 - v19;
        if ( v21 * v22 - v19 <= 0 )
          v18 = 1;
        if ( v18 > 32767 )
          v18 = 32767;
        v26 = v19 + Rand()() % v18;
        if ( word_1FDED3C[862 * a1] == 786 )
        {
          if ( byte_1FDED40[1724 * a1] == 71 )
          {
            v17 = byte_1FDED41[1724 * a1];
            v16 = Rand()() % 100;
            if ( v16 < v17 )
            {
              v26 = v26 * (Rand()() % 4 + 15) / 10;
              *(_BYTE *)(a3 + 14) = 2;
            }
          }
        }
      }
      *(_WORD *)(a3 + 4 * i + 46) = v23;
      *(_WORD *)(a3 + 4 * i + 48) = v26;
      if ( !a2 )
      {
        if ( v23 < 1000 )
        {
          if ( (signed int)*(_WORD *)(a3 + 4 * i + 48) > 0 )
          {
            v15 = sub_401424(&byte_1FDECA0[1724 * v23], dword_1FDF358[431 * v23], 200, &dword_1FDF34C[431 * v23]);
            v14 = Rand()() % 1000;
            if ( v14 < v15 )
            {
              *(_WORD *)(a3 + 4 * i + 48) = -3;
              if ( dword_1FDF34C[431 * v23] & 0x200 )
              {
                if ( v14 < 100 )
                  *(_WORD *)(a3 + 4 * i + 48) = -4;
              }
            }
          }
        }
      }
      v13 = dword_1FDF1D8[431 * v23];
      if ( (signed int)*(_WORD *)(a3 + 4 * i + 48) > 0 )
      {
        if ( v13 <= 0 )
          v13 = v23;
        sub_401023(v13, a1);
        sub_401023(a1, v13);
        for ( j = 0; j < 12; ++j )
        {
          v11 = *(&word_1FDF28A[862 * v13] + j);
          if ( v11 > 1000 )
          {
            if ( dword_1FDF1D4[431 * v11] && (signed int)(unsigned __int16)word_1FDECEC[862 * v11] > 0 )
            {
              sub_401023(v11, a1);
              sub_401023(a1, v11);
            }
            else
            {
              if ( dword_1FDF1D4[431 * v11] )
                sub_401B90(v11, 1);
              *(&word_1FDF28A[862 * v13] + j) = 0;
            }
          }
        }
      }
      if ( (signed int)*(_WORD *)(a3 + 4 * i + 48) > 0 || (signed int)*(_WORD *)(a3 + 4 * i + 48) <= -5 )
      {
        v10 = v26;
        v10 = v26 - word_1FDECE2[862 * v23];
        v10 = sub_401A82(v23, v10);
        v10 -= dword_1FDF2F0[431 * v23];
        if ( v10 < 0 )
          v10 = 0;
        *(_WORD *)(a3 + 4 * i + 48) = v10;
        v9 = (unsigned __int16)word_1FDECEC[862 * v23];
        if ( v23 >= 1000 )
        {
          v9 -= *(_WORD *)(a3 + 4 * i + 48);
        }
        else
        {
          if ( (unsigned __int16)word_1FDECEE[862 * v23] > (signed int)*(_WORD *)(a3 + 4 * i + 48)
            && dword_1FDF34C[431 * v23] & 1 )
          {
            v8 = 70 * *(_WORD *)(a3 + 4 * i + 48) / 100;
            *(_WORD *)(a3 + 4 * i + 48) -= v8;
            *(_WORD *)(a3 + 4 * i + 48) = *(_WORD *)(a3 + 4 * i + 48);
            dword_752C438[790 * v23] -= v8;
            word_1FDECEE[862 * v23] = LOWORD(dword_752C438[790 * v23]);
            v9 -= *(_WORD *)(a3 + 4 * i + 48);
            sub_401C17(v23);
          }
          else
          {
            v9 -= *(_WORD *)(a3 + 4 * i + 48);
          }
          dword_752C434[790 * v23] -= *(_WORD *)(a3 + 4 * i + 48);
          sub_4016CC(v23);
        }
        if ( v9 <= 0 )
          v9 = 0;
        if ( v25 )
          word_1FDECEC[862 * v23] = 0;
        else
          word_1FDECEC[862 * v23] = v9;
        sub_40146A(v23);
      }
      v27 = 1;
    }
  }
  return sub_4E46A0(1, v27, v6, v4, v5);
}
// 401023: using guessed type _DWORD __cdecl sub_401023(_DWORD, _DWORD);
// 401424: using guessed type _DWORD __cdecl sub_401424(_DWORD, _DWORD, _DWORD, _DWORD);
// 40146A: using guessed type _DWORD __cdecl sub_40146A(_DWORD);
// 4016CC: using guessed type _DWORD __cdecl sub_4016CC(_DWORD);
// 401A82: using guessed type _DWORD __cdecl sub_401A82(_DWORD, _DWORD);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 401C17: using guessed type _DWORD __cdecl sub_401C17(_DWORD);
// 1FDECE2: using guessed type __int16 word_1FDECE2[];
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECEE: using guessed type __int16 word_1FDECEE[];
// 1FDED3C: using guessed type __int16 word_1FDED3C[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 1FDF2EC: using guessed type int dword_1FDF2EC[];
// 1FDF2F0: using guessed type int dword_1FDF2F0[];
// 1FDF34C: using guessed type int dword_1FDF34C[];
// 1FDF358: using guessed type int dword_1FDF358[];
// 752C434: using guessed type int dword_752C434[];
// 752C438: using guessed type int dword_752C438[];

//----- (004C9680) --------------------------------------------------------
int __cdecl sub_4C9680()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  sub_401C30(396, 0, 0);
  sub_401929(1);
  dword_8C76494 = 1;
  v0 = sub_401154(1);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 401154: using guessed type _DWORD __cdecl sub_401154(_DWORD);
// 401929: using guessed type _DWORD __cdecl sub_401929(_DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 8C76494: using guessed type int dword_8C76494;

//----- (004C96F0) --------------------------------------------------------
int __usercall sub_4C96F0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-60h]@0
  int v5; // [sp+4h] [bp-5Ch]@0
  int v6; // [sp+8h] [bp-58h]@0
  char v7; // [sp+Ch] [bp-54h]@1
  int i; // [sp+4Ch] [bp-14h]@8
  int v9; // [sp+50h] [bp-10h]@3
  int v10; // [sp+54h] [bp-Ch]@1
  char v11; // [sp+58h] [bp-8h]@11
  int v12; // [sp+60h] [bp+0h]@5

  memset(&v7, -858993460, 0x54u);
  sub_4E4640(&unk_54EAE38, 0, 0x400u);
  v10 = sub_4E4620(a1, a2, "KhepraDropItem.txt", (int)"rt");
  if ( v10 )
  {
    v9 = sub_4E4400(a1, a2, (int)&String, 255, v10);
    if ( v9 )
    {
      sub_4E4340(a1, (int)&v12, a2, (int)&String, "%d", (unsigned int)&dword_8C76460);
      if ( dword_8C76460 > 0 && dword_8C76460 <= 128 )
      {
        for ( i = 0; i < dword_8C76460; ++i )
        {
          sub_4E4640(&v11, 0, 8u);
          v9 = sub_4E4400(a1, a2, (int)&String, 255, v10);
          if ( v9 )
            sub_4E4340(a1, (int)&v12, a2, (int)&String, "%d %d %d %d %d %d %d", (char)((char *)&unk_54EAE38 + 8 * i));
        }
        v2 = sub_4E4260(a1, a2, v10);
      }
      else
      {
        v2 = sub_4E4260(a1, a2, v10);
      }
    }
    else
    {
      v2 = sub_4E4260(a1, a2, v10);
    }
  }
  else
  {
    sub_4E3F40(a1, a2, (int)&String, "err, Can`t read KhepraDropItem.txt");
    v2 = Log(&String, "-System-", 0);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 8C76460: using guessed type int dword_8C76460;

//----- (004C9AF0) --------------------------------------------------------
int __cdecl sub_4C9AF0(int a1, int a2)
{
  int result; // eax@13
  char v3; // [sp+Ch] [bp-50h]@1
  int v4; // [sp+4Ch] [bp-10h]@1
  int v5; // [sp+50h] [bp-Ch]@1
  int v6; // [sp+54h] [bp-8h]@1
  int v7; // [sp+58h] [bp-4h]@1

  memset(&v3, -858993460, 0x50u);
  v7 = dword_8C76368;
  v6 = dword_8C76370;
  v5 = a2 + dword_8C76374;
  v4 = dword_5A1804[dword_8C76370];
  if ( !(dword_8C76368 % 4) )
    v4 = dword_5A1834[v6];
  if ( v5 > v4 )
  {
    v5 -= v4;
    if ( v6 == 12 )
    {
      v6 = 1;
      ++v7;
    }
    else
    {
      ++v6;
    }
    v4 = dword_5A1804[v6];
    if ( !(dword_8C76368 % 4) )
      v4 = dword_5A1834[v6];
    if ( v5 > v4 )
    {
      v5 -= v4;
      if ( v6 == 12 )
      {
        v6 = 1;
        ++v7;
      }
      else
      {
        ++v6;
      }
    }
  }
  *(_BYTE *)(a1 + 2) = 109;
  *(_BYTE *)(a1 + 3) = v7;
  *(_BYTE *)(a1 + 4) = 110;
  *(_BYTE *)(a1 + 5) = v6;
  result = a1;
  *(_BYTE *)(a1 + 6) = 106;
  *(_BYTE *)(a1 + 7) = v5;
  return result;
}
// 5A1804: using guessed type int dword_5A1804[];
// 5A1834: using guessed type int dword_5A1834[];
// 8C76368: using guessed type int dword_8C76368;
// 8C76370: using guessed type int dword_8C76370;
// 8C76374: using guessed type int dword_8C76374;

//----- (004C9C80) --------------------------------------------------------
bool __cdecl sub_4C9C80(int a1)
{
  bool result; // eax@5
  char v2; // [sp+Ch] [bp-40h]@1

  memset(&v2, -858993460, 0x40u);
  if ( *(_BYTE *)(a1 + 3) != dword_8C76368
    || *(_BYTE *)(a1 + 5) != dword_8C76370
    || *(_BYTE *)(a1 + 7) != dword_8C76374
    || dword_8C762B0 < 0 )
  {
    if ( *(_BYTE *)(a1 + 3) >= dword_8C76368 )
    {
      if ( *(_BYTE *)(a1 + 3) > dword_8C76368 || *(_BYTE *)(a1 + 5) >= dword_8C76370 )
        result = *(_BYTE *)(a1 + 3) <= dword_8C76368
              && *(_BYTE *)(a1 + 5) <= dword_8C76370
              && *(_BYTE *)(a1 + 7) < dword_8C76374;
      else
        result = 1;
    }
    else
    {
      result = 1;
    }
  }
  else
  {
    result = 1;
  }
  return result;
}
// 8C762B0: using guessed type int dword_8C762B0;
// 8C76368: using guessed type int dword_8C76368;
// 8C76370: using guessed type int dword_8C76370;
// 8C76374: using guessed type int dword_8C76374;

//----- (004C9D80) --------------------------------------------------------
int __cdecl sub_4C9D80()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-54h]@0
  int v3; // [sp+4h] [bp-50h]@0
  int v4; // [sp+8h] [bp-4Ch]@0
  char v5; // [sp+Ch] [bp-48h]@1
  bool v6; // [sp+4Ch] [bp-8h]@12
  int i; // [sp+50h] [bp-4h]@3

  memset(&v5, -858993460, 0x48u);
  v0 = dword_8C76378 / 15;
  if ( dword_8C76378 % 15 == 2 && dword_8C7637C <= 10 )
  {
    for ( i = 0; i < 1000; ++i )
    {
      v0 = 3160 * i;
      if ( dword_752BAF0[790 * i] == 22 && dword_1FDF1D4[431 * i] )
      {
        v0 = dword_1FDF1F4[431 * i] >> 7;
        v6 = v0 >= 28
          && dword_1FDF1F4[431 * i] >> 7 <= 30
          && (v0 = 1724 * i, dword_1FDF1F8[431 * i] >> 7 >= 27)
          && (v0 = dword_1FDF1F8[431 * i] >> 7, v0 <= 28);
        if ( v6 )
        {
          if ( (signed int)(unsigned __int16)word_1FDECEC[862 * i] <= 0 )
          {
            word_1FDECEC[862 * i] = 1;
            sub_4018B1(i);
          }
          v0 = sub_4012C6(i);
        }
      }
    }
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 8C76378: using guessed type int dword_8C76378;
// 8C7637C: using guessed type int dword_8C7637C;

//----- (004C9F20) --------------------------------------------------------
int __cdecl sub_4C9F20(signed int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-5Ch]@0
  int v5; // [sp+4h] [bp-58h]@0
  int v6; // [sp+8h] [bp-54h]@0
  char v7; // [sp+Ch] [bp-50h]@1
  unsigned int v8; // [sp+4Ch] [bp-10h]@9
  int v9; // [sp+50h] [bp-Ch]@6
  int v10; // [sp+54h] [bp-8h]@6
  int v11; // [sp+58h] [bp-4h]@6

  v2 = -858993460;
  memset(&v7, -858993460, 0x50u);
  if ( a1 >= 0 )
  {
    if ( a1 < 1000 )
    {
      v2 = 1724 * a1;
      if ( dword_1FDEF94[431 * a1] < 250000000 )
      {
        if ( *(_DWORD *)a2 )
        {
          v11 = 0;
          v10 = 0;
          v9 = sub_401640(&byte_1FDECA0[1724 * a1]);
          if ( v9 == 2 )
          {
            v11 = dword_598574[word_1FDECC4[862 * a1]];
            v10 = (int)*(&off_598578 + word_1FDECC4[862 * a1]);
          }
          else
          {
            v11 = dword_597F28[word_1FDECC4[862 * a1]];
            v10 = dword_597F2C[word_1FDECC4[862 * a1]];
          }
          v2 = (v10 - v11) / 0xAu;
          v8 = (v10 - v11) / 0xAu;
          if ( (v8 & 0x80000000u) == 0 )
          {
            v2 = 1724 * a1;
            if ( dword_1FDEF94[431 * a1] <= (signed int)v8 )
            {
              if ( *(_DWORD *)a2 + dword_1FDEF94[431 * a1] >= (signed int)v8 )
                dword_1FDEF94[431 * a1] = v8;
              else
                dword_1FDEF94[431 * a1] += *(_DWORD *)a2;
              sub_4016EF(a1);
              v2 = sub_4018B1(a1);
              *(_DWORD *)a2 = 0;
            }
            else
            {
              *(_DWORD *)a2 = 0;
            }
          }
          else
          {
            *(_DWORD *)a2 = 0;
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 597F28: using guessed type int dword_597F28[];
// 597F2C: using guessed type int dword_597F2C[];
// 598574: using guessed type int dword_598574[];
// 598578: using guessed type void *off_598578;
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDEF94: using guessed type int dword_1FDEF94[];

//----- (004CA150) --------------------------------------------------------
int __cdecl sub_4CA150(signed int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  v2 = -858993460;
  memset(&v7, -858993460, 0x40u);
  if ( a1 >= 0 && a1 < 1000 )
  {
    v2 = 1724 * a1;
    if ( dword_1FDEF94[431 * a1] > 0 )
    {
      if ( *(_DWORD *)a2 )
      {
        if ( dword_1FDEF94[431 * a1] < 0 )
        {
          *(_DWORD *)a2 -= dword_1FDEF94[431 * a1];
          dword_1FDEF94[431 * a1] = 0;
        }
        else
        {
          dword_1FDEF94[431 * a1] -= *(_DWORD *)a2;
          *(_DWORD *)a2 = 0;
        }
        sub_4016EF(a1);
        v2 = sub_4018B1(a1);
      }
    }
    else
    {
      dword_1FDEF94[431 * a1] = 0;
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 1FDEF94: using guessed type int dword_1FDEF94[];

//----- (004CA2A0) --------------------------------------------------------
int __cdecl sub_4CA2A0(int a1)
{
  int v1; // eax@4
  char v3; // [sp+0h] [bp-50h]@0
  int v4; // [sp+4h] [bp-4Ch]@0
  int v5; // [sp+8h] [bp-48h]@0
  char v6; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  memset(&v6, -858993460, 0x44u);
  for ( i = 1; i < 1000; ++i )
  {
    if ( !sub_4E4D80((int)&byte_752BAD8[3160 * i], a1) )
    {
      v1 = i;
      return sub_4E46A0(1, v1, v5, v3, v4);
    }
  }
  v1 = 0;
  return sub_4E46A0(1, v1, v5, v3, v4);
}

//----- (004CA3A0) --------------------------------------------------------
int __cdecl sub_4CA3A0(signed int a1, signed int a2)
{
  char v3; // [sp+Ch] [bp-44h]@1
  int v4; // [sp+4Ch] [bp-4h]@1

  memset(&v3, -858993460, 0x44u);
  v4 = 0;
  if ( a1 < 2228 || a1 > 2257 || a2 < 1700 || a2 > 1728 )
  {
    if ( a1 < 2379 || a1 > 2426 || a2 < 2077 || a2 > 2132 )
    {
      if ( a1 < 459 || a1 > 497 || a2 < 3887 || a2 > 3916 )
      {
        if ( a1 < 656 || a1 > 704 || a2 < 3726 || a2 > 3764 )
        {
          if ( a1 < 1308 || a1 > 1350 || a2 < 4024 || a2 > 4056 )
          {
            if ( a1 < 2639 || a1 > 2670 || a2 < 1966 || a2 > 2003 )
            {
              if ( a1 < 1949 || a1 > 1989 || a2 < 1586 || a2 > 1615 )
              {
                if ( a1 < 2231 || a1 > 2260 || a2 < 1563 || a2 > 1591 )
                {
                  if ( a1 < 792 || a1 > 828 || a2 < 4045 || a2 > 4081 )
                  {
                    if ( a1 >= 1716 && a1 <= 1749 && a2 >= 1712 && a2 <= 1739 )
                      v4 = 10;
                  }
                  else
                  {
                    v4 = 9;
                  }
                }
                else
                {
                  v4 = 8;
                }
              }
              else
              {
                v4 = 7;
              }
            }
            else
            {
              v4 = 6;
            }
          }
          else
          {
            v4 = 5;
          }
        }
        else
        {
          v4 = 4;
        }
      }
      else
      {
        v4 = 3;
      }
    }
    else
    {
      v4 = 2;
    }
  }
  else
  {
    v4 = 1;
  }
  return v4;
}

//----- (004CA620) --------------------------------------------------------
int __cdecl sub_4CA620()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-50h]@0
  int v3; // [sp+4h] [bp-4Ch]@0
  int v4; // [sp+8h] [bp-48h]@0
  char v5; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@3

  memset(&v5, -858993460, 0x44u);
  v0 = dword_8C76378 / 10;
  if ( dword_8C76378 % 10 == 3 && dword_8C7637C <= 20 )
  {
    for ( i = 0; i < 1000; ++i )
    {
      v0 = 3160 * i;
      if ( dword_752BAF0[790 * i] == 22 )
      {
        if ( dword_1FDF1D4[431 * i] )
        {
          v0 = sub_40173F(dword_1FDF1F4[431 * i], dword_1FDF1F8[431 * i]);
          if ( v0 )
          {
            if ( (signed int)(unsigned __int16)word_1FDECEC[862 * i] <= 0 )
            {
              word_1FDECEC[862 * i] = 1;
              sub_4018B1(i);
            }
            sub_4012C6(i);
            dword_752C580[790 * i] = 0;
            v0 = 3160 * i;
            dword_752C584[790 * i] = 0;
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 40173F: using guessed type _DWORD __cdecl sub_40173F(_DWORD, _DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752C580: using guessed type int dword_752C580[];
// 752C584: using guessed type int dword_752C584[];
// 8C76378: using guessed type int dword_8C76378;
// 8C7637C: using guessed type int dword_8C7637C;

//----- (004CA7A0) --------------------------------------------------------
int __cdecl sub_4CA7A0(int a1, signed int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-60h]@0
  int v5; // [sp+4h] [bp-5Ch]@0
  int v6; // [sp+8h] [bp-58h]@0
  char v7; // [sp+Ch] [bp-54h]@1
  char v8; // [sp+4Ch] [bp-14h]@7
  __int16 v9; // [sp+50h] [bp-10h]@7
  __int16 v10; // [sp+52h] [bp-Eh]@7
  int v11; // [sp+58h] [bp-8h]@7
  int v12; // [sp+5Ch] [bp-4h]@7

  v2 = -858993460;
  memset(&v7, -858993460, 0x54u);
  if ( a2 > 0 )
  {
    if ( a2 <= 10 )
    {
      v2 = dword_5A1054 + 1;
      if ( a2 != dword_5A1054 + 1 )
      {
        if ( dword_5A106C == -1000 )
        {
          v9 = 2068;
          v10 = a1;
          v11 = a2;
          v12 = dword_752BAE8[790 * a1];
          v2 = sub_40132A(&v8, 20);
        }
        else
        {
          v2 = sub_401B63(a1, &unk_8A7944);
        }
      }
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 5A1054: using guessed type int dword_5A1054;
// 5A106C: using guessed type int dword_5A106C;
// 752BAE8: using guessed type int dword_752BAE8[];

//----- (004CA870) --------------------------------------------------------
int __usercall sub_4CA870<eax>(int a1<ebx>, int a2, int a3)
{
  int v3; // eax@2
  int v4; // esi@3
  int v5; // esi@3
  int v6; // esi@18
  int v7; // esi@46
  int v8; // eax@83
  int v9; // ecx@112
  char v11; // [sp+0h] [bp-EA0h]@0
  int v12; // [sp+4h] [bp-E9Ch]@0
  int v13; // [sp+8h] [bp-E98h]@0
  char v14; // [sp+Ch] [bp-E94h]@1
  unsigned int v15; // [sp+4Ch] [bp-E54h]@117
  unsigned int v16; // [sp+50h] [bp-E50h]@117
  unsigned int v17; // [sp+54h] [bp-E4Ch]@117
  unsigned int v18; // [sp+58h] [bp-E48h]@117
  int v19; // [sp+5Ch] [bp-E44h]@114
  int v20; // [sp+60h] [bp-E40h]@114
  int v21; // [sp+64h] [bp-E3Ch]@114
  unsigned int v22; // [sp+68h] [bp-E38h]@114
  int v23; // [sp+6Ch] [bp-E34h]@113
  int v24; // [sp+70h] [bp-E30h]@108
  int m; // [sp+74h] [bp-E2Ch]@105
  int v26; // [sp+78h] [bp-E28h]@93
  int v27; // [sp+7Ch] [bp-E24h]@93
  int v28; // [sp+80h] [bp-E20h]@93
  int v29; // [sp+84h] [bp-E1Ch]@93
  int v30; // [sp+88h] [bp-E18h]@93
  int v31; // [sp+8Ch] [bp-E14h]@112
  int l; // [sp+90h] [bp-E10h]@84
  int v33; // [sp+94h] [bp-E0Ch]@84
  int v34; // [sp+98h] [bp-E08h]@84
  int v35; // [sp+9Ch] [bp-E04h]@79
  int k; // [sp+A0h] [bp-E00h]@76
  int v37; // [sp+A4h] [bp-DFCh]@76
  int v38; // [sp+A8h] [bp-DF8h]@83
  int v39; // [sp+ACh] [bp-DF4h]@71
  int v40; // [sp+B0h] [bp-DF0h]@69
  int v41; // [sp+B4h] [bp-DECh]@69
  char v42; // [sp+B8h] [bp-DE8h]@64
  int v43; // [sp+138h] [bp-D68h]@64
  int v44; // [sp+168h] [bp-D38h]@62
  int v45; // [sp+16Ch] [bp-D34h]@53
  int v46; // [sp+170h] [bp-D30h]@49
  int v47; // [sp+174h] [bp-D2Ch]@49
  int v48; // [sp+178h] [bp-D28h]@46
  int v49; // [sp+17Ch] [bp-D24h]@46
  int v50; // [sp+180h] [bp-D20h]@46
  int v51; // [sp+184h] [bp-D1Ch]@46
  int v52; // [sp+188h] [bp-D18h]@46
  char v53; // [sp+18Ch] [bp-D14h]@24
  int *v54; // [sp+28Ch] [bp-C14h]@24
  int j; // [sp+290h] [bp-C10h]@11
  __int16 v56; // [sp+294h] [bp-C0Ch]@11
  int i; // [sp+298h] [bp-C08h]@3
  int v58; // [sp+29Ch] [bp-C04h]@3
  char v59; // [sp+2A0h] [bp-C00h]@1
  __int16 v60; // [sp+2A4h] [bp-BFCh]@18
  __int16 v61; // [sp+2A6h] [bp-BFAh]@18
  char v62; // [sp+2ACh] [bp-BF4h]@18
  char v63; // [sp+2BCh] [bp-BE4h]@18
  char v64; // [sp+5A4h] [bp-8FCh]@18
  int v65; // [sp+9A4h] [bp-4FCh]@18
  char v66; // [sp+9A8h] [bp-4F8h]@18
  char v67; // [sp+9B6h] [bp-4EAh]@1
  char v68; // [sp+9B7h] [bp-4E9h]@1
  int v69; // [sp+9B8h] [bp-4E8h]@18
  int v70; // [sp+9BCh] [bp-4E4h]@18
  char v71; // [sp+9C0h] [bp-4E0h]@1
  __int16 v72; // [sp+9C4h] [bp-4DCh]@38
  __int16 v73; // [sp+9C6h] [bp-4DAh]@38
  __int16 v74; // [sp+9CCh] [bp-4D4h]@38
  __int16 v75; // [sp+9CEh] [bp-4D2h]@38
  char v76; // [sp+9D0h] [bp-4D0h]@38
  char v77; // [sp+9E4h] [bp-4BCh]@53
  int v78; // [sp+9F0h] [bp-4B0h]@38
  __int16 v79; // [sp+CC4h] [bp-1DCh]@38
  __int16 v80; // [sp+CC6h] [bp-1DAh]@38
  __int16 v81; // [sp+CC8h] [bp-1D8h]@38
  char v82; // [sp+CCAh] [bp-1D6h]@38
  char v83; // [sp+CDCh] [bp-1C4h]@38
  char v84; // [sp+D7Ch] [bp-124h]@38
  int v85; // [sp+E9Ch] [bp-4h]@1

  memset(&v14, -858993460, 0xE94u);
  v85 = a2;
  sub_4E4640(&v71, 0, 0x4DCu);
  sub_4E4640(&v59, 0, 0x720u);
  v68 = 0;
  v67 = 0;
  byte_752BAE7[3160 * a3] = 0;
  byte_752BAE6[3160 * a3] = 0;
  if ( sub_4E4D80(v85 + 756, (int)&byte_752BAD8[3160 * a3]) )
  {
    sub_401B63(a3, &unk_8AA8C4);
    sub_4019FB(&dword_752BAF8[790 * a3]);
    v3 = sub_401302(a3);
  }
  else
  {
    dword_752C3C4[790 * a3] = 0;
    dword_752C404[790 * a3] = 0;
    dword_752C408[790 * a3] = 0;
    dword_752C40C[790 * a3] = 0;
    dword_752C414[790 * a3] = 0;
    dword_752C460[790 * a3] = 0;
    dword_752C468[790 * a3] = 0;
    dword_752C464[790 * a3] = 0;
    dword_752C500[790 * a3] = 0;
    dword_752C504[790 * a3] = 0;
    sub_4E4810(&dword_752BB44[790 * a3], (const void *)(v85 + 772), 0x400u);
    dword_752BF44[790 * a3] = *(_DWORD *)(v85 + 1796);
    dword_752C0C8[790 * a3] = 0;
    v4 = v85 + 12;
    memcpy((char *)&unk_752C0CC + 3160 * a3, (const void *)(v85 + 12), 0x2E8u);
    v5 = v4 + 744;
    v58 = 0;
    for ( i = 0; i < 4; ++i )
    {
      if ( (unsigned int)*(&dword_752C3A4[790 * a3] + i) >= 0x77359400 && *(&word_752C11C[1580 * a3] + 14 * i) < 300 )
      {
        sub_4E3F40(a1, v5, (int)&String, "sys,err-char:%s exp:%u level:%d");
        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        *(&dword_752C3A4[790 * a3] + i) = 0;
        *(_DWORD *)(v85 + 4 * i + 740) = 0;
        v58 = 1;
      }
    }
    if ( v58 )
      sub_401906(a3, 0);
    dword_752C4B4[790 * a3] = *(_DWORD *)(v85 + 1816);
    dword_752C4B8[790 * a3] = *(_DWORD *)(v85 + 1820);
    v56 = Rand()();
    byte_752C48C[3160 * a3] = v56;
    byte_752C48D[3160 * a3] = HIBYTE(v56);
    v56 = Rand()();
    byte_752C48E[3160 * a3] = v56;
    byte_752C48F[3160 * a3] = HIBYTE(v56);
    v56 = Rand()();
    byte_752C490[3160 * a3] = v56;
    byte_752C491[3160 * a3] = HIBYTE(v56);
    v56 = Rand()();
    byte_752C492[3160 * a3] = v56;
    byte_752C493[3160 * a3] = HIBYTE(v56);
    v56 = Rand()();
    byte_752C494[3160 * a3] = v56;
    byte_752C495[3160 * a3] = HIBYTE(v56);
    v56 = Rand()();
    byte_752C496[3160 * a3] = v56;
    byte_752C497[3160 * a3] = HIBYTE(v56);
    v56 = Rand()();
    byte_752C498[3160 * a3] = v56;
    byte_752C499[3160 * a3] = HIBYTE(v56);
    v56 = Rand()();
    byte_752C49A[3160 * a3] = v56;
    byte_752C49B[3160 * a3] = HIBYTE(v56);
    for ( j = 0; j < 16; ++j )
    {
      if ( !*(&byte_752C48C[3160 * a3] + j) )
        *(&byte_752C48C[3160 * a3] + j) = 1;
      if ( *(&byte_752C48C[3160 * a3] + j) == -1 )
        *(&byte_752C48C[3160 * a3] + j) = -2;
    }
    v61 = 30000;
    v60 = 266;
    memcpy(&v63, (const void *)(v85 + 12), 0x2E8u);
    v6 = v85 + 756;
    v65 = *(_DWORD *)(v85 + 1796);
    sub_4E4720((int)&v66);
    v69 = *(_DWORD *)(v85 + 1816);
    v70 = *(_DWORD *)(v85 + 1820);
    sub_4E4810(&v64, (const void *)(v85 + 772), 0x400u);
    sub_4E4810(&v62, &byte_752C48C[3160 * a3], 0x10u);
    sub_40132A(&v59, 1824);
    sub_4E4810((char *)&unk_752BB28 + 3160 * a3, &v62, 0x10u);
    dword_752BB38[790 * a3] = 0;
    dword_752BB3C[790 * a3] = 0;
    if ( dword_5A103C > 0 && sub_4013A7(v85 + 12) )
    {
      if ( dword_8C762BC )
        sub_401979(a3, v85 + 756, 1u, 1);
      else
        sub_401979(a3, v85 + 756, 8u, 1);
      dword_752C468[790 * a3] = dword_8C7632C;
    }
    byte_752C3C8[3160 * a3] = 0;
    v54 = &dword_752BAEC[790 * a3];
    sub_4E3F40(a1, v6, (int)&v53, "sta,%d.%d.%d.%d %X%X%X%X %d - %d");
    Log(&v53, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
    if ( dword_752C4BC[790 * a3] )
    {
      sub_4E3F40(a1, v6, (int)&v53, "pcr,Login %d.%d.%d.%d %X%X%X%X %d - %d");
      sub_401177(&v53, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
    }
    sub_401776(v85 + 2590, *(_DWORD *)(v85 + 2560), 16);
    sub_401776(v85 + 2572, *(_DWORD *)(v85 + 2560), 4);
    if ( !*(_WORD *)(v85 + 1920)
      || *(_WORD *)(v85 + 1920) == 22
      || *(_WORD *)(v85 + 1920) == 23
      || *(_WORD *)(v85 + 1920) == 24
      || *(_WORD *)(v85 + 1920) == 25 )
      *(_WORD *)(v85 + 1920) = 21;
    if ( *(_WORD *)(v85 + 1920) == 32 )
      *(_WORD *)(v85 + 1920) = 21;
    if ( (unsigned __int16)(*(_WORD *)(v85 + 1850) & 0xC000) == 49152 )
      *(_WORD *)(v85 + 1850) &= 0x3FFFu;
    memcpy(&byte_1FDECA0[1724 * a3], (const void *)(v85 + 1828), 0x2F4u);
    memcpy(&dword_1FDEF94[431 * a3], (const void *)(v85 + 2608), 0xA0u);
    memcpy(&byte_1FDF034[1724 * a3], (const void *)(v85 + 2768), 0x120u);
    sub_4E4810(&byte_1FDF154[1724 * a3], (const void *)(v85 + 2640), 0x80u);
    dword_1FDF2C8[431 * a3] = LOWORD(dword_1FDECFC[431 * a3]);
    sub_4E4810((char *)&unk_752C3EC + 3160 * a3, (const void *)(v85 + 2590), 0x10u);
    byte_1FDECCA[1724 * a3] = 0;
    sub_401375(&byte_1FDECA0[1724 * a3], dword_1FDF2C8[431 * a3]);
    sub_40193D(&byte_1FDECA0[1724 * a3]);
    sub_4016EF(a3);
    sub_40162C(a3);
    sub_4015FA(&byte_1FDECA0[1724 * a3], dword_1FDF2C8[431 * a3], &byte_1FDF034[1724 * a3]);
    sub_401375(&byte_1FDECA0[1724 * a3], dword_1FDF2C8[431 * a3]);
    sub_40175D(&byte_1FDECA0[1724 * a3], dword_1FDF2C8[431 * a3]);
    sub_40107D(&byte_1FDECA0[1724 * a3], dword_1FDF2C8[431 * a3]);
    sub_401ADC(&byte_1FDECA0[1724 * a3], dword_1FDF2C8[431 * a3]);
    if ( !word_1FDECEC[862 * a3] )
      word_1FDECEC[862 * a3] = 2;
    dword_1FDF1D4[431 * a3] = 2;
    memcpy(&v76, &byte_1FDECA0[1724 * a3], 0x2F4u);
    LOWORD(v78) = *(_WORD *)(v85 + 1860) + Rand()() % 5 - 2;
    HIWORD(v78) = *(_WORD *)(v85 + 1862) + Rand()() % 5 - 2;
    v72 = 276;
    v73 = 30000;
    v74 = *(_WORD *)(v85 + 1860);
    v75 = *(_WORD *)(v85 + 1862);
    v80 = a3;
    v81 = dword_8C762D0;
    v79 = *(_WORD *)(v85 + 2584);
    memcpy(&v83, (const void *)(v85 + 2608), 0xA0u);
    memcpy(&v84, (const void *)(v85 + 2768), 0x120u);
    sub_4E4810(&v82, (const void *)(v85 + 2590), 0x10u);
    dword_1FDF1EC[431 * a3] = dword_8C76270;
    dword_1FDF1F4[431 * a3] = (unsigned __int16)v78;
    dword_1FDF1E4[431 * a3] = dword_1FDF1F4[431 * a3];
    dword_1FDF1F8[431 * a3] = HIWORD(v78);
    dword_1FDF1E8[431 * a3] = dword_1FDF1F8[431 * a3];
    dword_1FDF22C[431 * a3] = 0;
    if ( !word_1FDEF74[862 * a3] )
    {
      sub_4E4640(&word_1FDEF74[862 * a3], 0, 8u);
      word_1FDEF74[862 * a3] = 547;
      byte_1FDEF76[1724 * a3] = 75;
      byte_1FDEF78[1724 * a3] = 76;
      byte_1FDEF7A[1724 * a3] = 77;
    }
    dword_752C450[790 * a3] = 0;
    byte_752C3B4[3160 * a3] = 0;
    dword_752BAE8[790 * a3] = *(_WORD *)(v85 + 2584);
    dword_752C0C4[790 * a3] = 0;
    dword_752C480[790 * a3] = 0;
    dword_752C0B4[790 * a3] = 0;
    dword_752C0B8[790 * a3] = 876;
    dword_752C0BC[790 * a3] = 235543242;
    dword_752C0AC[790 * a3] = 0;
    dword_752C0B0[790 * a3] = 235543242;
    dword_752C0C0[790 * a3] = 235543242;
    dword_752C454[790 * a3] = 0;
    dword_752C458[790 * a3] = 0;
    dword_752C470[790 * a3] = 0;
    dword_752C488[790 * a3] = -1;
    dword_752C4A0[790 * a3] = 0;
    dword_752C4A4[790 * a3] = 0;
    dword_752C4A8[790 * a3] = 0;
    sub_4E4640(&dword_752C590[790 * a3], 0xFFu, 0x1A0u);
    sub_4E4640((char *)&unk_752BF4C + 3160 * a3, 0, 0x9Cu);
    for ( j = 0; j < 15; ++j )
      *(&byte_752BFD0[3160 * a3] + j) = -1;
    for ( j = 0; j < 12; ++j )
      *(&byte_752C06C[3160 * a3] + j) = -1;
    dword_752BAF4[790 * a3] = 0;
    dword_752C430[790 * a3] = 0;
    v52 = *(_WORD *)(v85 + 1824);
    v51 = *(_WORD *)(v85 + 1826);
    v50 = (byte_1FDECB1[1724 * a3] & 0xC0) >> 6;
    v52 = Rand()() % 15 + dword_594DE0[21 * v50];
    v7 = 84 * v50;
    v51 = Rand()() % 15 + dword_594DE4[21 * v50];
    v49 = (unsigned __int8)byte_1FDECB4[1724 * a3];
    v48 = dword_1FDF2C8[431 * a3];
    if ( v48 < 40 && v48 >= 0 )
    {
      v47 = v48 % 10;
      v46 = v48 / 10;
      if ( v48 % 10 < 6 || v47 > 9 )
        v49 = v46;
      else
        v49 = v47 - 6;
    }
    else
    {
      Log("err,CRITICAL unknown face", &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
    }
    byte_1FDECB4[1724 * a3] = v49;
    v77 = v49;
    v45 = (unsigned __int16)word_1FDECB2[862 * a3];
    if ( v49 >= 0 && v49 <= 3 )
    {
      for ( i = 0; i < 5; ++i )
      {
        if ( v45 && v45 == dword_594DD0[21 * i] )
        {
          v52 = dword_594DD8[21 * i];
          v51 = dword_594DDC[21 * i];
          break;
        }
      }
      v44 = sub_4015D2(a3, &v52, &v51);
      if ( v44 )
      {
        v74 = v52;
        v75 = v51;
        dword_1FDF1F4[431 * a3] = v52;
        dword_1FDF1E4[431 * a3] = v52;
        dword_1FDF1F8[431 * a3] = v51;
        dword_1FDF1E8[431 * a3] = v51;
        dword_752BAF0[790 * a3] = 22;
        dword_752C3FC[790 * a3] = 0;
        dword_752C400[790 * a3] = 0;
        word_752BFE6[1580 * a3] = 0;
        sub_4016EF(a3);
        dword_1FDF2B0[431 * a3] = 0;
        byte_1FDF31C[1724 * a3] = 0;
        sub_401203(&v71, 1244);
        word_752BF48[1580 * a3] = 0;
        dword_752C434[790 * a3] = (unsigned __int16)word_1FDECEC[862 * a3];
        dword_752C438[790 * a3] = (unsigned __int16)word_1FDECEE[862 * a3];
        dword_752C43C[790 * a3] = 0;
        dword_752C4AC[790 * a3] = 0;
        dword_752C4B0[790 * a3] = 0;
        dword_752C474[790 * a3] = 0;
        dword_752C478[790 * a3] = 0;
        dword_752C47C[790 * a3] = 0;
        dword_752C46C[790 * a3] = 0;
        sub_4010FF(a3, &v42);
        LOWORD(v43) = v43 | 2;
        *(&word_34EA550[4096 * v75] + v74) = a3;
        sub_4014FB(v74, v75, &v42, 0);
        sub_401221(a3);
        if ( word_1FDECE0[862 * a3] >= 999 )
          dword_752C460[790 * a3] = 1;
        sub_401483(a3, 0);
        sub_401915(a3, dword_594F6C);
        sub_4016A9(a3);
        if ( dword_8C76348 )
          sub_4015FF(a3, 30000, 940, dword_8C76348);
        sub_40172B(a3, 0);
        if ( (unsigned __int8)byte_1FDEF8C[1724 * a3] == 2 )
        {
          v41 = -1;
          v40 = (unsigned __int16)word_1FDECB2[862 * a3];
          if ( v40 == dword_8C76158 || v40 == dword_8C76154 )
          {
            v39 = byte_1FDECB0[1724 * a3];
            if ( v39 == 7 )
            {
              v41 = 3994;
            }
            else
            {
              if ( v39 == 8 )
                v41 = 3993;
            }
          }
          if ( v41 != -1 )
          {
            sub_4E4640(&v37, 0, 8u);
            LOWORD(v37) = v41;
            for ( k = 0; ; ++k )
            {
              if ( k < 60 )
              {
                v35 = sub_4017E4(&dword_1FDED7C[431 * a3], k);
                if ( !v35 )
                  continue;
                if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * k) )
                  continue;
              }
              break;
            }
            if ( k >= 0 && k < 60 )
            {
              v8 = k;
              *(&dword_1FDED7C[431 * a3] + 2 * k) = v37;
              *(&dword_1FDED80[431 * a3] + 2 * v8) = v38;
              sub_401960(a3, 1, k, &dword_1FDED7C[431 * a3] + 2 * k);
            }
          }
        }
        sub_401578(a3);
        v34 = 0;
        v33 = 0;
        for ( l = 0; l < 10; ++l )
        {
          v33 = dword_5A3A00[5 * l];
          if ( v45 && v33 && v33 == v45 )
          {
            v34 = 1;
            break;
          }
        }
        if ( v34 == 1 && (unsigned __int8)byte_1FDEF8C[1724 * a3] == 2 )
        {
          sub_4E4640(&v30, 0, 8u);
          v30 = 153813739;
          v29 = v33;
          v28 = v33 >> 12;
          v27 = v33 & 0xFFF;
          v26 = *(&dword_88B5F20[61440 * (v33 >> 12)] + 15 * (v33 & 0xFFF));
          if ( v26 > 1000 )
          {
            if ( v26 > 1500 )
            {
              if ( v26 > 3000 )
              {
                if ( v26 > 5000 )
                {
                  if ( v26 > 8000 )
                  {
                    if ( v26 > 11000 )
                      BYTE3(v30) = -3;
                    else
                      BYTE3(v30) = -7;
                  }
                  else
                  {
                    BYTE3(v30) = -11;
                  }
                }
                else
                {
                  BYTE3(v30) = -15;
                }
              }
              else
              {
                BYTE3(v30) = -19;
              }
            }
            else
            {
              BYTE3(v30) = -23;
            }
          }
          for ( m = 0; ; ++m )
          {
            if ( m < 60 )
            {
              v24 = sub_4017E4(&dword_1FDED7C[431 * a3], m);
              if ( !v24 )
                continue;
              if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * m) )
                continue;
            }
            break;
          }
          if ( m >= 0 && m < 60 )
          {
            v9 = m;
            *(&dword_1FDED7C[431 * a3] + 2 * m) = v30;
            *(&dword_1FDED80[431 * a3] + 2 * v9) = v31;
            sub_401960(a3, 1, m, &dword_1FDED7C[431 * a3] + 2 * m);
          }
        }
        sub_4E3F40(a1, v7, (int)&v53, "sta,char:%s exp:%u level:%d");
        Log(&v53, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        v23 = word_1FDECC4[862 * a3];
        if ( v23 < dword_5A0A58 - 1 )
        {
          v22 = dword_1FDECBC[431 * a3];
          v21 = 0;
          v20 = 0;
          v19 = sub_401640(&byte_1FDECA0[1724 * a3]);
          if ( v19 == 2 )
          {
            v21 = dword_598574[v23];
            v20 = (int)*(&off_598578 + v23);
          }
          else
          {
            v21 = dword_597F28[v23];
            v20 = dword_597F2C[v23];
          }
          v18 = (unsigned int)(v20 - v21) >> 2;
          v17 = v18 + v21;
          v16 = v21 + 2 * ((unsigned int)(v20 - v21) >> 2);
          v15 = 3 * ((unsigned int)(v20 - v21) >> 2) + v21;
          if ( v22 <= v15 )
          {
            if ( v22 <= v16 )
              dword_1FDF228[431 * a3] = v22 <= v17 ? 0 : 1;
            else
              dword_1FDF228[431 * a3] = 2;
          }
          else
          {
            dword_1FDF228[431 * a3] = 3;
          }
          if ( word_1FDECC4[862 * a3] >= dword_5A0FB0 && !dword_8C762BC )
            sub_401979(a3, &byte_752BAD8[3160 * a3], 1u, 1);
        }
        v3 = sub_4011AE(a3);
      }
      else
      {
        Log("Can't start can't get mobgrid", &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
        v3 = sub_401302(a3);
      }
    }
    else
    {
      Log("err,login Undefined class", &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
      v3 = sub_401302(a3);
    }
  }
  return sub_4E46A0(1, v3, v13, v11, v12);
}
// 40107D: using guessed type _DWORD __cdecl sub_40107D(_DWORD, _DWORD);
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 401177: using guessed type _DWORD __cdecl sub_401177(_DWORD, _DWORD, _DWORD);
// 4011AE: using guessed type _DWORD __cdecl sub_4011AE(_DWORD);
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401221: using guessed type _DWORD __cdecl sub_401221(_DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 401375: using guessed type _DWORD __cdecl sub_401375(_DWORD, _DWORD);
// 4013A7: using guessed type _DWORD __cdecl sub_4013A7(_DWORD);
// 401483: using guessed type _DWORD __cdecl sub_401483(_DWORD, _DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401578: using guessed type _DWORD __cdecl sub_401578(_DWORD);
// 4015D2: using guessed type _DWORD __cdecl sub_4015D2(_DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4015FA: using guessed type _DWORD __cdecl sub_4015FA(_DWORD, _DWORD, _DWORD);
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 40162C: using guessed type _DWORD __cdecl sub_40162C(_DWORD);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 4016A9: using guessed type _DWORD __cdecl sub_4016A9(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 40172B: using guessed type _DWORD __cdecl sub_40172B(_DWORD, _DWORD);
// 40175D: using guessed type _DWORD __cdecl sub_40175D(_DWORD, _DWORD);
// 401776: using guessed type _DWORD __cdecl sub_401776(_DWORD, _DWORD, _DWORD);
// 4017E4: using guessed type _DWORD __cdecl sub_4017E4(_DWORD, _DWORD);
// 401906: using guessed type _DWORD __cdecl sub_401906(_DWORD, _DWORD);
// 401915: using guessed type _DWORD __cdecl sub_401915(_DWORD, _DWORD);
// 40193D: using guessed type int __thiscall sub_40193D(_DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401979: using guessed type _DWORD __cdecl sub_401979(_DWORD, _DWORD, u_long hostlong, _DWORD);
// 4019FB: using guessed type int __thiscall sub_4019FB(_DWORD);
// 401ADC: using guessed type _DWORD __cdecl sub_401ADC(_DWORD, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 594DD0: using guessed type int dword_594DD0[];
// 594DD8: using guessed type int dword_594DD8[];
// 594DDC: using guessed type int dword_594DDC[];
// 594DE0: using guessed type int dword_594DE0[];
// 594DE4: using guessed type int dword_594DE4[];
// 594F6C: using guessed type int dword_594F6C;
// 597F28: using guessed type int dword_597F28[];
// 597F2C: using guessed type int dword_597F2C[];
// 598574: using guessed type int dword_598574[];
// 598578: using guessed type void *off_598578;
// 5A0A58: using guessed type int dword_5A0A58;
// 5A0FB0: using guessed type int dword_5A0FB0;
// 5A103C: using guessed type int dword_5A103C;
// 5A3A00: using guessed type int dword_5A3A00[];
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECEE: using guessed type __int16 word_1FDECEE[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDED80: using guessed type int dword_1FDED80[];
// 1FDEF74: using guessed type __int16 word_1FDEF74[];
// 1FDEF94: using guessed type int dword_1FDEF94[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1E4: using guessed type int dword_1FDF1E4[];
// 1FDF1E8: using guessed type int dword_1FDF1E8[];
// 1FDF1EC: using guessed type int dword_1FDF1EC[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF228: using guessed type int dword_1FDF228[];
// 1FDF22C: using guessed type int dword_1FDF22C[];
// 1FDF2B0: using guessed type int dword_1FDF2B0[];
// 1FDF2C8: using guessed type int dword_1FDF2C8[];
// 34EA550: using guessed type __int16 word_34EA550[];
// 752BAE8: using guessed type int dword_752BAE8[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752BAF4: using guessed type int dword_752BAF4[];
// 752BAF8: using guessed type int dword_752BAF8[];
// 752BB38: using guessed type int dword_752BB38[];
// 752BB3C: using guessed type int dword_752BB3C[];
// 752BB44: using guessed type int dword_752BB44[];
// 752BF44: using guessed type int dword_752BF44[];
// 752BF48: using guessed type __int16 word_752BF48[];
// 752BFE6: using guessed type __int16 word_752BFE6[];
// 752C0AC: using guessed type int dword_752C0AC[];
// 752C0B0: using guessed type int dword_752C0B0[];
// 752C0B4: using guessed type int dword_752C0B4[];
// 752C0B8: using guessed type int dword_752C0B8[];
// 752C0BC: using guessed type int dword_752C0BC[];
// 752C0C0: using guessed type int dword_752C0C0[];
// 752C0C4: using guessed type int dword_752C0C4[];
// 752C0C8: using guessed type int dword_752C0C8[];
// 752C11C: using guessed type __int16 word_752C11C[];
// 752C3A4: using guessed type int dword_752C3A4[];
// 752C3C4: using guessed type int dword_752C3C4[];
// 752C3FC: using guessed type int dword_752C3FC[];
// 752C400: using guessed type int dword_752C400[];
// 752C404: using guessed type int dword_752C404[];
// 752C408: using guessed type int dword_752C408[];
// 752C40C: using guessed type int dword_752C40C[];
// 752C414: using guessed type int dword_752C414[];
// 752C430: using guessed type int dword_752C430[];
// 752C434: using guessed type int dword_752C434[];
// 752C438: using guessed type int dword_752C438[];
// 752C43C: using guessed type int dword_752C43C[];
// 752C450: using guessed type int dword_752C450[];
// 752C454: using guessed type int dword_752C454[];
// 752C458: using guessed type int dword_752C458[];
// 752C460: using guessed type int dword_752C460[];
// 752C464: using guessed type int dword_752C464[];
// 752C468: using guessed type int dword_752C468[];
// 752C46C: using guessed type int dword_752C46C[];
// 752C470: using guessed type int dword_752C470[];
// 752C474: using guessed type int dword_752C474[];
// 752C478: using guessed type int dword_752C478[];
// 752C47C: using guessed type int dword_752C47C[];
// 752C480: using guessed type int dword_752C480[];
// 752C488: using guessed type int dword_752C488[];
// 752C4A0: using guessed type int dword_752C4A0[];
// 752C4A4: using guessed type int dword_752C4A4[];
// 752C4A8: using guessed type int dword_752C4A8[];
// 752C4AC: using guessed type int dword_752C4AC[];
// 752C4B0: using guessed type int dword_752C4B0[];
// 752C4B4: using guessed type int dword_752C4B4[];
// 752C4B8: using guessed type int dword_752C4B8[];
// 752C4BC: using guessed type int dword_752C4BC[];
// 752C500: using guessed type int dword_752C500[];
// 752C504: using guessed type int dword_752C504[];
// 752C590: using guessed type int dword_752C590[];
// 88B5F20: using guessed type int dword_88B5F20[];
// 8C76154: using guessed type int dword_8C76154;
// 8C76158: using guessed type int dword_8C76158;
// 8C76270: using guessed type int dword_8C76270;
// 8C762BC: using guessed type int dword_8C762BC;
// 8C762D0: using guessed type int dword_8C762D0;
// 8C7632C: using guessed type int dword_8C7632C;
// 8C76348: using guessed type int dword_8C76348;

//----- (004CCCC0) --------------------------------------------------------
int __cdecl sub_4CCCC0(int a1, signed int a2, int a3, int a4, int a5)
{
  int v5; // eax@1
  char v7; // [sp+0h] [bp-12Ch]@0
  int v8; // [sp+4h] [bp-128h]@0
  int v9; // [sp+8h] [bp-124h]@0
  char v10; // [sp+Ch] [bp-120h]@1
  char v11; // [sp+4Ch] [bp-E0h]@29
  int v12; // [sp+FCh] [bp-30h]@22
  int v13; // [sp+100h] [bp-2Ch]@22
  int v14; // [sp+104h] [bp-28h]@3
  int v15; // [sp+108h] [bp-24h]@3
  int v16; // [sp+10Ch] [bp-20h]@3
  int v17; // [sp+110h] [bp-1Ch]@3
  int v18; // [sp+114h] [bp-18h]@3
  int v19; // [sp+118h] [bp-14h]@3
  int v20; // [sp+11Ch] [bp-10h]@3
  int v21; // [sp+120h] [bp-Ch]@3
  int v22; // [sp+124h] [bp-8h]@3
  int v23; // [sp+128h] [bp-4h]@3

  v5 = -858993460;
  memset(&v10, -858993460, 0x120u);
  if ( a2 < 1000 )
  {
    v5 = a1;
    if ( a1 != a2 )
    {
      v23 = sub_4013BB(a1);
      v22 = sub_4013BB(a2);
      v21 = sub_4014B0(dword_1FDF1F4[431 * a1], dword_1FDF1F8[431 * a1]);
      v20 = sub_401C08(dword_1FDF1F4[431 * a1], dword_1FDF1F8[431 * a1]);
      v19 = dword_1FDF1F4[431 * a1] / 128;
      v18 = dword_1FDF1F8[431 * a1] / 128;
      v17 = 0;
      v16 = 0;
      v15 = (unsigned __int16)word_1FDECB2[862 * a1];
      v5 = 1724 * a2;
      v14 = (unsigned __int16)word_1FDECB2[862 * a2];
      if ( v15 > 0 )
      {
        if ( v15 < dword_5A14A0 )
        {
          if ( v14 > 0 )
          {
            v5 = v14;
            if ( v14 < dword_5A14A0 )
            {
              if ( (unsigned __int16)word_750BAC4[v15] == v14 )
              {
                v5 = v14;
                if ( (unsigned __int16)word_750BAC4[v14] == v15 )
                  v16 = 1;
              }
            }
          }
        }
      }
      if ( dword_8C76348 && v19 == 8 && v18 == 13 )
        v16 = 1;
      if ( v19 == 1 && v18 == 31 )
        v17 = 1;
      if ( v21 == 5 )
      {
        if ( v20 == 5 )
        {
          if ( !v17 )
          {
            if ( !v16 )
            {
              v5 = sub_401807(a1);
              if ( !v5 )
              {
                v13 = sub_401352(a2);
                v5 = sub_401352(a1);
                v12 = v5;
                if ( v13 || v22 > 10 && (*(_DWORD *)a4 > 0 || a5 == 6 || a5 == 47 || a5 == 26) )
                {
                  v5 = sub_4016B8(a1, 8);
                  if ( !v12 )
                  {
                    sub_4010FF(a1, &v11);
                    v5 = sub_4014FB(dword_1FDF1F4[431 * a1], dword_1FDF1F8[431 * a1], &v11, 0);
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 401352: using guessed type _DWORD __cdecl sub_401352(_DWORD);
// 4013BB: using guessed type _DWORD __cdecl sub_4013BB(_DWORD);
// 4014B0: using guessed type _DWORD __cdecl sub_4014B0(_DWORD, _DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 4016B8: using guessed type _DWORD __cdecl sub_4016B8(_DWORD, _DWORD);
// 401807: using guessed type _DWORD __cdecl sub_401807(_DWORD);
// 401C08: using guessed type _DWORD __cdecl sub_401C08(_DWORD, _DWORD);
// 5A14A0: using guessed type int dword_5A14A0;
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 750BAC4: using guessed type __int16 word_750BAC4[];
// 8C76348: using guessed type int dword_8C76348;

//----- (004CCFF0) --------------------------------------------------------
int __usercall sub_4CCFF0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@15
  char v4; // [sp+0h] [bp-68h]@0
  int v5; // [sp+4h] [bp-64h]@0
  int v6; // [sp+8h] [bp-60h]@0
  char v7; // [sp+Ch] [bp-5Ch]@1
  __int16 v8; // [sp+4Ch] [bp-1Ch]@15
  __int16 v9; // [sp+50h] [bp-18h]@15
  __int16 v10; // [sp+52h] [bp-16h]@15
  int v11; // [sp+58h] [bp-10h]@15
  int i; // [sp+5Ch] [bp-Ch]@1
  int v13; // [sp+60h] [bp-8h]@1
  int v14; // [sp+64h] [bp-4h]@1

  memset(&v7, -858993460, 0x5Cu);
  v14 = 0;
  v13 = 0;
  for ( i = 0; i < 5; ++i )
  {
    if ( dword_594E1C[21 * i] == 7 )
    {
      if ( i > 3 )
      {
        if ( i == 4 )
          v13 += 240;
      }
      else
      {
        v13 += 100;
      }
    }
    else
    {
      if ( dword_594E1C[21 * i] == 8 )
      {
        if ( i > 3 )
        {
          if ( i == 4 )
            v14 += 240;
        }
        else
        {
          v14 += 100;
        }
      }
    }
  }
  v10 = 0;
  v9 = 2058;
  v8 = 16;
  v11 = v13 - v14;
  sub_4E3F40(a1, a2, (int)&String, "sys,UpdateMantleZone-Red:%d Blue:%d Tot:%d");
  Log(&String, "-system", 0);
  v2 = sub_40132A(&v8, 16);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 594E1C: using guessed type int dword_594E1C[];

//----- (004CD150) --------------------------------------------------------
int __usercall sub_4CD150<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  int v3; // eax@7
  char v5; // [sp+0h] [bp-DCh]@7
  int v6; // [sp+4h] [bp-D8h]@9
  int v7; // [sp+8h] [bp-D4h]@9
  char v8; // [sp+Ch] [bp-D0h]@1
  int v9; // [sp+4Ch] [bp-90h]@2
  int v10; // [sp+50h] [bp-8Ch]@1
  int v11; // [sp+54h] [bp-88h]@1
  int v12; // [sp+58h] [bp-84h]@1
  const CHAR Text; // [sp+5Ch] [bp-80h]@2
  int v14; // [sp+DCh] [bp+0h]@5

  memset(&v8, -858993460, 0xD0u);
  v12 = 0;
  v11 = 0;
  v2 = sub_4E4620(a1, a2, "quest256exp.txt", (int)"rt");
  v10 = v2;
  if ( v2 )
  {
    while ( 1 )
    {
      v9 = sub_4E4400(a1, a2, (int)&Text, 128, v10);
      if ( !v9 )
        break;
      if ( v12 > 4 )
        break;
      sub_4E4340(a1, (int)&v14, a2, (int)&Text, "%d", (unsigned int)&v11);
      if ( v11 >= 0 && v11 <= 500000 )
      {
        dword_5A1438[v12++] = v11;
      }
      else
      {
        ++v12;
        sub_4E3F40(a1, a2, (int)&Text, "%d Line Exp Over in Quest256Exp.txt");
        a2 = (int)&v5;
        v3 = MessageBoxA(hWnd, &Text, "ExpSettingError", 0x1000u);
        sub_4E46A0(&v5 == &v5, v3, a1, (unsigned int)&v14, (int)&v5);
      }
    }
    v2 = sub_4E4260(a1, a2, v10);
  }
  return sub_4E46A0(1, v2, v7, v5, v6);
}
// 5A1438: using guessed type int dword_5A1438[];

//----- (004CD310) --------------------------------------------------------
int __usercall sub_4CD310<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  int v3; // eax@7
  char v5; // [sp+0h] [bp-DCh]@7
  int v6; // [sp+4h] [bp-D8h]@9
  int v7; // [sp+8h] [bp-D4h]@9
  char v8; // [sp+Ch] [bp-D0h]@1
  int v9; // [sp+4Ch] [bp-90h]@2
  int v10; // [sp+50h] [bp-8Ch]@1
  int v11; // [sp+54h] [bp-88h]@1
  int v12; // [sp+58h] [bp-84h]@1
  const CHAR Text; // [sp+5Ch] [bp-80h]@2
  int v14; // [sp+DCh] [bp+0h]@5

  memset(&v8, -858993460, 0xD0u);
  v12 = 0;
  v11 = 0;
  v2 = sub_4E4620(a1, a2, "quest256coin.txt", (int)"rt");
  v10 = v2;
  if ( v2 )
  {
    while ( 1 )
    {
      v9 = sub_4E4400(a1, a2, (int)&Text, 128, v10);
      if ( !v9 )
        break;
      if ( v12 > 4 )
        break;
      sub_4E4340(a1, (int)&v14, a2, (int)&Text, "%d", (unsigned int)&v11);
      if ( v11 >= 0 && v11 <= 500000 )
      {
        dword_8C7646C[v12++] = v11;
      }
      else
      {
        ++v12;
        sub_4E3F40(a1, a2, (int)&Text, "%d Line Exp Over in Quest256Exp.txt");
        a2 = (int)&v5;
        v3 = MessageBoxA(hWnd, &Text, "ExpSettingError", 0x1000u);
        sub_4E46A0(&v5 == &v5, v3, a1, (unsigned int)&v14, (int)&v5);
      }
    }
    v2 = sub_4E4260(a1, a2, v10);
  }
  return sub_4E46A0(1, v2, v7, v5, v6);
}
// 8C7646C: using guessed type int dword_8C7646C[];

//----- (004CD4D0) --------------------------------------------------------
int __usercall sub_4CD4D0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-250h]@0
  int v5; // [sp+4h] [bp-24Ch]@0
  int v6; // [sp+8h] [bp-248h]@0
  char v7; // [sp+Ch] [bp-244h]@1
  char v8; // [sp+4Ch] [bp-204h]@2
  int v9; // [sp+24Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x244u);
  v2 = sub_4E4620(a1, a2, "GuildString.txt", (int)"rt");
  v9 = v2;
  if ( v2 )
  {
    if ( sub_4E4400(a1, a2, (int)&v8, 512, v9) )
    {
      sub_4E4640("0 1 2 ", 0, 7u);
      sub_4E4810("0 1 2 ", &v8, 6u);
      if ( sub_4E4400(a1, a2, (int)&v8, 512, v9) )
      {
        sub_4E4640("0 1 2 3 4 5 6 7 8 9 A B C D E F ", 0, 0x21u);
        sub_4E4810("0 1 2 3 4 5 6 7 8 9 A B C D E F ", &v8, 0x20u);
        if ( sub_4E4400(a1, a2, (int)&v8, 512, v9) )
        {
          sub_4E4640(
            "0 1 2 3 4 5 6 7 8 9 * + A B C D E F G H I J K L M N O P Q R S T U V W X Y Z a b c d e f g h i j k l m n o p q r s t u v w x y z ",
            0,
            0x81u);
          sub_4E4810(
            "0 1 2 3 4 5 6 7 8 9 * + A B C D E F G H I J K L M N O P Q R S T U V W X Y Z a b c d e f g h i j k l m n o p q r s t u v w x y z ",
            &v8,
            0x80u);
          v2 = sub_4E4260(a1, a2, v9);
        }
        else
        {
          v2 = sub_4E4260(a1, a2, v9);
        }
      }
      else
      {
        v2 = sub_4E4260(a1, a2, v9);
      }
    }
    else
    {
      v2 = sub_4E4260(a1, a2, v9);
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (004CD690) --------------------------------------------------------
int __cdecl sub_4CD690(signed int a1, signed int a2)
{
  int result; // eax@1
  int v3; // eax@4
  char v4; // [sp+Ch] [bp-40h]@1
  int v5; // [sp+58h] [bp+Ch]@2

  memset(&v4, -858993460, 0x40u);
  result = 84 * a1;
  if ( dword_594DD0[21 * a1] )
  {
    result = a2 / 2;
    v5 = a2 / 2;
    if ( a1 >= 0 )
    {
      if ( a1 < 5 )
      {
        v3 = (v5 + __PAIR__(dword_750BA6C[2 * a1], dword_750BA68[2 * a1])) >> 32;
        dword_750BA68[2 * a1] += v5;
        dword_750BA6C[2 * a1] = v3;
        result = (unsigned __int64)(v5 + qword_750BA88) >> 32;
        qword_750BA88 += v5;
      }
    }
  }
  return result;
}
// 594DD0: using guessed type int dword_594DD0[];
// 750BA68: using guessed type int dword_750BA68[];
// 750BA6C: using guessed type int dword_750BA6C[];
// 750BA88: using guessed type __int64 qword_750BA88;

//----- (004CD750) --------------------------------------------------------
int __usercall sub_4CD750<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  __int64 v4; // qax@1
  __int64 v5; // qax@1
  int v6; // eax@2
  int v7; // ecx@23
  char v9; // [sp+0h] [bp-90h]@0
  int v10; // [sp+4h] [bp-8Ch]@0
  int v11; // [sp+8h] [bp-88h]@0
  char v12; // [sp+Ch] [bp-84h]@1
  __int64 v13; // [sp+4Ch] [bp-44h]@13
  int v14; // [sp+54h] [bp-3Ch]@22
  int j; // [sp+58h] [bp-38h]@18
  int v16; // [sp+5Ch] [bp-34h]@9
  int i; // [sp+60h] [bp-30h]@6
  int v18; // [sp+64h] [bp-2Ch]@6
  int v19; // [sp+68h] [bp-28h]@3
  int v20; // [sp+6Ch] [bp-24h]@23
  __int64 v21; // [sp+70h] [bp-20h]@1
  __int64 v22; // [sp+78h] [bp-18h]@1
  __int64 v23; // [sp+80h] [bp-10h]@1
  unsigned __int64 v24; // [sp+88h] [bp-8h]@1

  memset(&v12, -858993460, 0x84u);
  LODWORD(v24) = dword_750BA68[2 * a3];
  HIDWORD(v24) = dword_750BA6C[2 * a3];
  v23 = 0i64;
  v22 = 0i64;
  LODWORD(v4) = sub_4EABF0(v24, 1000000000i64);
  v22 = v4;
  LODWORD(v5) = sub_4E5390(v24, 0x3B9ACA00u, 0);
  v23 = v5;
  v21 = v22 + dword_1FDECB8[431 * a4];
  if ( v21 < 2000000000 )
  {
    sub_4E4640(&v19, 0, 8u);
    LOWORD(v19) = 4011;
    if ( SHIDWORD(v23) < 0 || SHIDWORD(v23) <= 0 && !(_DWORD)v23 )
      goto LABEL_28;
    v18 = 0;
    for ( i = 0; i < 60; ++i )
    {
      v16 = sub_4017E4(&dword_1FDED7C[431 * a4], i);
      if ( v16 && !*((_WORD *)&dword_1FDED7C[431 * a4] + 4 * i) )
        ++v18;
    }
    v13 = v18;
    if ( v23 > v18 )
    {
      sub_401B63(a4, &unk_8A92C4);
      v6 = 0;
    }
    else
    {
LABEL_28:
      dword_750BA68[2 * a3] = 0;
      dword_750BA6C[2 * a3] = 0;
      if ( SHIDWORD(v23) >= 0 && (SHIDWORD(v23) > 0 || (_DWORD)v23) )
      {
        for ( j = 0; ; ++j )
        {
          if ( j < 60 )
          {
            if ( *((_WORD *)&dword_1FDED7C[431 * a4] + 4 * j) )
              continue;
            v14 = sub_4017E4(&dword_1FDED7C[431 * a4], j);
            if ( !v14 )
              continue;
            v7 = j;
            *(&dword_1FDED7C[431 * a4] + 2 * j) = v19;
            *(&dword_1FDED80[431 * a4] + 2 * v7) = v20;
            sub_401960(a4, 1, j, &v19);
            sub_4E3F40(a1, a2, (int)&String, "etc, Town tax silver 10 send (%d)");
            Log(&String, &byte_752BAD8[3160 * a4], dword_752BAEC[790 * a4]);
            --v23;
            if ( v23 )
              continue;
          }
          break;
        }
      }
      sub_4E3F40(a1, a2, (int)&String, "etc, Town tax coin %d(%d)");
      Log(&String, &byte_752BAD8[3160 * a4], dword_752BAEC[790 * a4]);
      dword_1FDECB8[431 * a4] = v21;
      SendEtc(a4);
      sub_401154(1);
      v6 = 1;
    }
  }
  else
  {
    sub_401B63(a4, &unk_8AF044);
    v6 = 0;
  }
  return sub_4E46A0(1, v6, v11, v9, v10);
}
// 401154: using guessed type _DWORD __cdecl sub_401154(_DWORD);
// 401500: using guessed type _DWORD __cdecl SendEtc(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4017E4: using guessed type _DWORD __cdecl sub_4017E4(_DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDED80: using guessed type int dword_1FDED80[];
// 750BA68: using guessed type int dword_750BA68[];
// 750BA6C: using guessed type int dword_750BA6C[];
// 752BAEC: using guessed type int dword_752BAEC[];

//----- (004CDB70) --------------------------------------------------------
int __usercall sub_4CDB70<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-54h]@0
  int v7; // [sp+4h] [bp-50h]@0
  int v8; // [sp+8h] [bp-4Ch]@0
  char v9; // [sp+Ch] [bp-48h]@1
  int v10; // [sp+4Ch] [bp-8h]@6
  int v11; // [sp+50h] [bp-4h]@6

  v4 = -858993460;
  memset(&v9, -858993460, 0x48u);
  if ( a3 >= 0 )
  {
    if ( a3 < 1000 )
    {
      v4 = 3160 * a3;
      if ( dword_752BAF0[790 * a3] == 22 )
      {
        dword_752C570[790 * a3] = 0;
        if ( a4 == 1 )
        {
          sub_401438((char *)&unk_1FDF03A + 1724 * a3, 2);
          v11 = dword_8C75F6C;
          v10 = dword_8C75F70;
          sub_4011D1(a3, &v11);
          if ( !sub_4017F3(&byte_1FDECA0[1724 * a3]) )
            v11 = 0;
          dword_1FDECBC[431 * a3] += v11;
          dword_1FDECB8[431 * a3] += v10;
          SendEtc(a3);
          sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B3744);
          sub_401B63(a3, &String);
          if ( sub_40164A(&byte_1FDECA0[1724 * a3]) )
          {
            sub_401B63(a3, &unk_8A8244);
            sub_4018B1(a3);
            sub_401861(a3);
          }
          sub_401348(a3);
          v4 = 3160 * a3;
          dword_752C56C[790 * a3] = -1;
        }
        else
        {
          if ( dword_8C75F64 == 2 )
          {
            v4 = sub_401302(a3);
          }
          else
          {
            sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B37C4);
            sub_401B63(a3, &String);
            v4 = 3160 * a3;
            dword_752C56C[790 * a3] = -1;
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 4011D1: using guessed type _DWORD __cdecl sub_4011D1(_DWORD, _DWORD);
// 401302: using guessed type _DWORD __cdecl sub_401302(_DWORD);
// 401348: using guessed type _DWORD __cdecl sub_401348(_DWORD);
// 401438: using guessed type _DWORD __cdecl sub_401438(_DWORD, _DWORD);
// 401500: using guessed type _DWORD __cdecl SendEtc(_DWORD);
// 40164A: using guessed type int __thiscall sub_40164A(_DWORD);
// 4017F3: using guessed type int __thiscall sub_4017F3(_DWORD);
// 401861: using guessed type _DWORD __cdecl sub_401861(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752C56C: using guessed type int dword_752C56C[];
// 752C570: using guessed type int dword_752C570[];
// 8C75F64: using guessed type int dword_8C75F64;
// 8C75F6C: using guessed type int dword_8C75F6C;
// 8C75F70: using guessed type int dword_8C75F70;

//----- (004CDDF0) --------------------------------------------------------
int __cdecl sub_4CDDF0(signed int a1, signed int a2)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-80h]@0
  int v5; // [sp+4h] [bp-7Ch]@0
  int v6; // [sp+8h] [bp-78h]@0
  char v7; // [sp+Ch] [bp-74h]@1
  int v8; // [sp+4Ch] [bp-34h]@61
  int v9; // [sp+50h] [bp-30h]@59
  int v10; // [sp+54h] [bp-2Ch]@35
  int v11; // [sp+58h] [bp-28h]@35
  int v12; // [sp+5Ch] [bp-24h]@35
  int v13; // [sp+60h] [bp-20h]@28
  int v14; // [sp+64h] [bp-1Ch]@17
  int v15; // [sp+68h] [bp-18h]@15
  int v16; // [sp+6Ch] [bp-14h]@13
  int v17; // [sp+70h] [bp-10h]@11
  int v18; // [sp+74h] [bp-Ch]@9
  int v19; // [sp+78h] [bp-8h]@9
  int v20; // [sp+7Ch] [bp-4h]@9

  memset(&v7, -858993460, 0x74u);
  if ( a2 == a1 )
  {
    v2 = 0;
  }
  else
  {
    if ( dword_1FDF1D4[431 * a2] )
    {
      if ( (signed int)(unsigned __int16)word_1FDECEC[862 * a2] > 0 )
      {
        if ( byte_1FDECB1[1724 * a2] & 1 )
        {
          v2 = 0;
        }
        else
        {
          v20 = byte_1FDECB0[1724 * a1];
          v19 = byte_1FDECB0[1724 * a2];
          v18 = dword_1FDF1D8[431 * a1];
          if ( !v18 )
            v18 = a1;
          v17 = dword_1FDF1D8[431 * a2];
          if ( !v17 )
            v17 = a2;
          v16 = (unsigned __int16)word_1FDECB2[862 * a1];
          if ( dword_1FDF2B0[431 * a1] )
            v16 = 0;
          v15 = (unsigned __int16)word_1FDECB2[862 * a2];
          if ( dword_1FDF2B0[431 * a2] )
            v15 = 0;
          v14 = (unsigned __int16)word_882F930[v16];
          if ( !v14 )
            v14 = -2;
          if ( !v16 && !v15 )
            v16 = -1;
          if ( v18 == v17 )
          {
            v2 = 0;
          }
          else
          {
            if ( v16 == v15 )
            {
              v2 = 0;
            }
            else
            {
              if ( v14 == v15 )
              {
                v2 = 0;
              }
              else
              {
                v13 = 0;
                if ( v16 > 0
                  && v16 < dword_5A14A0
                  && v15 > 0
                  && v15 < dword_5A14A0
                  && (unsigned __int16)word_750BAC4[v16] == v15
                  && (unsigned __int16)word_750BAC4[v15] == v16 )
                  v13 = 1;
                v12 = 0;
                v11 = LOWORD(dword_1FDECFC[431 * a2]);
                LOBYTE(v10) = sub_401712(dword_1FDF1F4[431 * a1], dword_1FDF1F8[431 * a1]);
                if ( v20 >= 7 && v19 >= 7 && v20 == v19 || !v20 && (v11 == 303 || v11 == 304) )
                  v12 = 1;
                if ( a1 >= 1000 )
                {
                  if ( a2 >= 1000 && v19 != 4 )
                  {
                    v2 = 0;
                    return sub_4E46A0(1, v2, v6, v4, v5);
                  }
                }
                else
                {
                  if ( !dword_752C430[790 * a1] && (a2 < 1000 || v19 == 4 || v12 == 1) && !v13 )
                  {
                    v2 = 0;
                    return sub_4E46A0(1, v2, v6, v4, v5);
                  }
                  if ( !(v10 & 0x40) && (a2 < 1000 || v19 == 4 || v12 == 1) )
                  {
                    v2 = 0;
                    return sub_4E46A0(1, v2, v6, v4, v5);
                  }
                }
                if ( dword_1FDF27C[431 * a2] == 1079 )
                {
                  v9 = sub_40109B(a1);
                  if ( v9 )
                  {
                    if ( a2 >= 1000 )
                    {
                      v8 = dword_1FDF318[431 * a2];
                      if ( v9 == v8 )
                      {
                        v2 = 0;
                        return sub_4E46A0(1, v2, v6, v4, v5);
                      }
                      if ( dword_5A1054 + 1 != v9 && *((_DWORD *)&qword_750BA88 + v9 + 1) != v8 )
                      {
                        v2 = 0;
                        return sub_4E46A0(1, v2, v6, v4, v5);
                      }
                    }
                  }
                }
                if ( dword_1FDF27C[431 * a2] == 4687 )
                {
                  v2 = 0;
                }
                else
                {
                  if ( LOWORD(dword_1FDECFC[431 * a2]) == 57 )
                    v2 = 0;
                  else
                    v2 = LOWORD(dword_1FDECFC[431 * a2]) != 68;
                }
              }
            }
          }
        }
      }
      else
      {
        v2 = 0;
      }
    }
    else
    {
      v2 = 0;
    }
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 40109B: using guessed type _DWORD __cdecl sub_40109B(_DWORD);
// 401712: using guessed type _DWORD __cdecl sub_401712(_DWORD, _DWORD);
// 5A1054: using guessed type int dword_5A1054;
// 5A14A0: using guessed type int dword_5A14A0;
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 1FDF2B0: using guessed type int dword_1FDF2B0[];
// 1FDF318: using guessed type int dword_1FDF318[];
// 750BA88: using guessed type __int64 qword_750BA88;
// 750BAC4: using guessed type __int16 word_750BAC4[];
// 752C430: using guessed type int dword_752C430[];
// 882F930: using guessed type __int16 word_882F930[];

//----- (004CE2A0) --------------------------------------------------------
int __cdecl sub_4CE2A0(signed int a1, int a2)
{
  int v2; // eax@2
  int v3; // edx@18
  char v5; // [sp+0h] [bp-7Ch]@0
  int v6; // [sp+4h] [bp-78h]@0
  int v7; // [sp+8h] [bp-74h]@0
  char v8; // [sp+Ch] [bp-70h]@1
  int v9; // [sp+4Ch] [bp-30h]@19
  int v10; // [sp+50h] [bp-2Ch]@19
  int v11; // [sp+54h] [bp-28h]@15
  int v12; // [sp+58h] [bp-24h]@15
  int v13; // [sp+5Ch] [bp-20h]@6
  int v14; // [sp+60h] [bp-1Ch]@6
  int v15; // [sp+64h] [bp-18h]@6
  int v16; // [sp+68h] [bp-14h]@3
  int v17; // [sp+6Ch] [bp-10h]@3
  int v18; // [sp+70h] [bp-Ch]@3
  int v19; // [sp+74h] [bp-8h]@3
  int v20; // [sp+78h] [bp-4h]@3

  memset(&v8, -858993460, 0x70u);
  if ( a1 < 1000 )
  {
    v20 = a2;
    v19 = 0;
    v18 = 0;
    v17 = 0;
    v16 = word_1FDED6C[862 * a1];
    if ( v16 < 2360 || v16 >= 2390 || word_1FDED6E[862 * a1] <= 0 )
    {
      if ( v16 >= 3980 && v16 < 4000 )
      {
        v12 = v16 - 3980;
        v11 = dword_597734[6 * (v16 - 3980)];
        v18 = a2 - v11 * a2 / 100;
      }
    }
    else
    {
      v15 = v16 - 2360;
      v14 = dword_597464[6 * (v16 - 2360)];
      LOBYTE(v13) = byte_1FDED70[1724 * a1];
      if ( (unsigned __int8)v13 == 120 )
        v14 -= 10;
      v18 = a2 - v14 * a2 / 100;
      v19 = a2 - v14 * a2 / 100;
      if ( a2 - v14 * a2 / 100 > 0 )
      {
        if ( v19 >= 5000 )
          v19 = 5000;
        sub_401974(a1, v19);
      }
    }
    if ( (unsigned __int8)byte_1FDECB4[1724 * a1] == 2 )
    {
      if ( (unsigned int)&unk_800000 & dword_1FDEF7C[431 * a1] )
      {
        v3 = dword_1FDEF7C[431 * a1];
        if ( v3 & 0x20000 )
        {
          v10 = 97;
          v9 = sub_40191F(&word_1FDED34[862 * a1], 17);
          if ( v9 == 128 )
            v10 -= 2;
          v17 = a2 - v10 * a2 / 100;
        }
      }
    }
    v20 = a2 - (v17 + v18);
    if ( a2 - (v17 + v18) <= 0 )
      v20 = 1;
    v2 = v20;
  }
  else
  {
    v2 = a2;
  }
  return sub_4E46A0(1, v2, v7, v5, v6);
}
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 401974: using guessed type _DWORD __cdecl sub_401974(_DWORD, _DWORD);
// 597464: using guessed type int dword_597464[];
// 597734: using guessed type int dword_597734[];
// 1FDED34: using guessed type __int16 word_1FDED34[];
// 1FDED6C: using guessed type __int16 word_1FDED6C[];
// 1FDED6E: using guessed type __int16 word_1FDED6E[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];

//----- (004CE550) --------------------------------------------------------
int __usercall sub_4CE550<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@4
  char v4; // [sp+0h] [bp-65Ch]@0
  int v5; // [sp+4h] [bp-658h]@0
  int v6; // [sp+8h] [bp-654h]@0
  char v7; // [sp+Ch] [bp-650h]@1
  int v8; // [sp+4Ch] [bp-610h]@9
  int v9; // [sp+50h] [bp-60Ch]@6
  char v10; // [sp+54h] [bp-608h]@6
  const CHAR MultiByteStr; // [sp+454h] [bp-208h]@7
  char v12; // [sp+455h] [bp-207h]@8
  int v13; // [sp+554h] [bp-108h]@5
  int v14; // [sp+558h] [bp-104h]@1
  char v15; // [sp+55Ch] [bp-100h]@1
  int v16; // [sp+65Ch] [bp+0h]@7

  memset(&v7, -858993460, 0x650u);
  sub_4E3F40(a1, a2, (int)&v15, "S:/Settings/IDprehibit.txt");
  v14 = sub_4E4620(a1, a2, &v15, (int)"rt");
  if ( !v14 )
    v14 = sub_4E4620(a1, a2, "IDprehibit.txt", (int)"rt");
  if ( v14 )
  {
    v13 = 0;
    while ( 1 )
    {
      v2 = sub_4E4400(a1, a2, (int)&v10, 1024, v14);
      v9 = v2;
      if ( !v2 )
        break;
      MultiByteStr = 0;
      sub_4E4340(a1, (int)&v16, a2, (int)&v10, "%s", (unsigned int)&MultiByteStr);
      if ( MultiByteStr != 47 || v12 != 47 )
      {
        v8 = sub_4E4B50((int)&MultiByteStr);
        if ( v8 <= 16 )
        {
          sub_4FCC50(a1, (int)&v16, a2, &MultiByteStr);
          sub_4E4720((int)&byte_8C75F74[16 * v13++]);
          if ( v13 == 30 )
            break;
        }
      }
    }
  }
  else
  {
    v2 = Log("err,Reading IDprehibit error - can't open IDprehibit.txt", "-system", 0);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);

//----- (004CE750) --------------------------------------------------------
int __usercall sub_4CE750<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@4
  char v5; // [sp+0h] [bp-7Ch]@0
  int v6; // [sp+4h] [bp-78h]@0
  int v7; // [sp+8h] [bp-74h]@0
  char v8; // [sp+Ch] [bp-70h]@1
  int v9; // [sp+4Ch] [bp-30h]@7
  int v10; // [sp+50h] [bp-2Ch]@7
  int v11; // [sp+54h] [bp-28h]@7
  int v12; // [sp+58h] [bp-24h]@7
  int v13; // [sp+5Ch] [bp-20h]@7
  int v14; // [sp+60h] [bp-1Ch]@7
  int v15; // [sp+64h] [bp-18h]@7
  int v16; // [sp+68h] [bp-14h]@7
  int v17; // [sp+78h] [bp-4h]@5
  int v18; // [sp+7Ch] [bp+0h]@7

  memset(&v8, -858993460, 0x70u);
  if ( *(_BYTE *)(a3 + 2) == 59 || *(_BYTE *)(a3 + 4) == 59 || *(_BYTE *)(a3 + 6) == 59 )
  {
    v17 = dword_8C76370 - *(_BYTE *)(a3 + 3);
    if ( v17 >= 0 )
    {
      v16 = dword_8C76368 + 100;
      v12 = 0;
      v11 = 0;
      v15 = *(_BYTE *)(a3 + 3) - 1;
      v14 = *(_BYTE *)(a3 + 5);
      v13 = *(_BYTE *)(a3 + 7);
      v10 = sub_4EA820(a1, (int)&v18, a2, (int)&v11) + 86400;
      v9 = sub_4EA820(a1, (int)&v18, a2, (int)&dword_AACD30);
      v3 = v10 < v9;
    }
    else
    {
      v3 = 1;
    }
  }
  else
  {
    v3 = 0;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// AACD30: using guessed type int dword_AACD30;
// 8C76368: using guessed type int dword_8C76368;
// 8C76370: using guessed type int dword_8C76370;

//----- (004CE880) --------------------------------------------------------
int __usercall sub_4CE880<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@21
  char v5; // [sp+0h] [bp-264h]@0
  int v6; // [sp+4h] [bp-260h]@0
  int v7; // [sp+8h] [bp-25Ch]@0
  char v8; // [sp+Ch] [bp-258h]@1
  int v9; // [sp+4Ch] [bp-218h]@23
  int v10; // [sp+50h] [bp-214h]@15
  __int16 v11; // [sp+54h] [bp-210h]@15
  __int16 v12; // [sp+56h] [bp-20Eh]@15
  char v13; // [sp+5Ch] [bp-208h]@15
  int v14; // [sp+25Ch] [bp-8h]@5
  int i; // [sp+260h] [bp-4h]@1

  memset(&v8, -858993460, 0x258u);
  for ( i = 0; i < 63; ++i )
  {
    if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i) == 788 )
    {
      v14 = i + 1;
      if ( i + 1 < 63 )
      {
        if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * v14) == 789 )
        {
          v14 = i + 9;
          if ( i + 9 < 63 )
          {
            if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * v14) == 790 )
            {
              v14 = i + 10;
              if ( i + 10 < 63 )
              {
                if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * v14) == 791 )
                {
                  v14 = i + 18;
                  if ( i + 18 < 63 )
                  {
                    if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * v14) == 792 )
                    {
                      v14 = i + 19;
                      if ( i + 19 < 63 )
                      {
                        if ( *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * v14) == 793 )
                        {
                          v11 = 2060;
                          v12 = 0;
                          LOWORD(v10) = 524;
                          sub_4E3F40(a1, a2, (int)&v13, "etc, treasure_map %d %s %s");
                          sub_40132A(&v10, (unsigned __int16)v10);
                          v14 = i;
                          if ( i < 63 )
                          {
                            *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * v14) = 0;
                            sub_401960(a3, 1, v14, &dword_1FDED7C[431 * a3] + 2 * v14);
                            v14 = i + 1;
                            if ( i + 1 < 63 )
                            {
                              *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * v14) = 0;
                              sub_401960(a3, 1, v14, &dword_1FDED7C[431 * a3] + 2 * v14);
                              v14 = i + 9;
                              if ( i + 9 < 63 )
                              {
                                *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * v14) = 0;
                                sub_401960(a3, 1, v14, &dword_1FDED7C[431 * a3] + 2 * v14);
                                v14 = i + 10;
                                if ( i + 10 < 63 )
                                {
                                  *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * v14) = 0;
                                  sub_401960(a3, 1, v14, &dword_1FDED7C[431 * a3] + 2 * v14);
                                  v14 = i + 18;
                                  if ( i + 18 < 63 )
                                  {
                                    *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * v14) = 0;
                                    sub_401960(a3, 1, v14, &dword_1FDED7C[431 * a3] + 2 * v14);
                                    v14 = i + 19;
                                    if ( i + 19 < 63 )
                                    {
                                      *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * v14) = 0;
                                      sub_401960(a3, 1, v14, &dword_1FDED7C[431 * a3] + 2 * v14);
                                      sub_401B63(a3, &unk_8AED44);
                                      v3 = 1;
                                      return sub_4E46A0(1, v3, v7, v5, v6);
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  v9 = 0;
  for ( i = 0; i < 63; ++i )
  {
    if ( (signed int)*((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i) >= 788
      && (signed int)*((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i) <= 793 )
    {
      *((_WORD *)&dword_1FDED7C[431 * a3] + 4 * i) = 485;
      sub_401960(a3, 1, i, &dword_1FDED7C[431 * a3] + 2 * i);
      ++v9;
    }
  }
  if ( v9 <= 0 )
  {
    v3 = 0;
  }
  else
  {
    sub_401B63(a3, &unk_8ACC44);
    v3 = 1;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 1FDED7C: using guessed type int dword_1FDED7C[];

//----- (004CEE60) --------------------------------------------------------
int __usercall sub_4CEE60<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4)
{
  int v4; // edx@91
  int v5; // eax@91
  __int16 v6; // ax@187
  __int16 v7; // dx@188
  char v9; // [sp+0h] [bp-138h]@0
  int v10; // [sp+4h] [bp-134h]@0
  int v11; // [sp+8h] [bp-130h]@0
  char v12; // [sp+Ch] [bp-12Ch]@1
  __int16 v13; // [sp+4Ch] [bp-ECh]@182
  int v14; // [sp+54h] [bp-E4h]@173
  int v15; // [sp+58h] [bp-E0h]@173
  __int16 v16; // [sp+5Ch] [bp-DCh]@170
  int v17; // [sp+64h] [bp-D4h]@165
  int v18; // [sp+68h] [bp-D0h]@165
  __int16 v19; // [sp+6Ch] [bp-CCh]@160
  int v20; // [sp+74h] [bp-C4h]@155
  int v21; // [sp+78h] [bp-C0h]@155
  __int16 v22; // [sp+7Ch] [bp-BCh]@150
  int v23; // [sp+84h] [bp-B4h]@145
  int v24; // [sp+88h] [bp-B0h]@145
  int v25; // [sp+8Ch] [bp-ACh]@135
  int v26; // [sp+90h] [bp-A8h]@123
  int v27; // [sp+94h] [bp-A4h]@123
  int v28; // [sp+98h] [bp-A0h]@123
  int v29; // [sp+9Ch] [bp-9Ch]@115
  int v30; // [sp+A0h] [bp-98h]@115
  int v31; // [sp+A4h] [bp-94h]@115
  int v32; // [sp+A8h] [bp-90h]@115
  int v33; // [sp+ACh] [bp-8Ch]@115
  __int16 v34; // [sp+B0h] [bp-88h]@115
  char v35; // [sp+B2h] [bp-86h]@119
  char v36; // [sp+B4h] [bp-84h]@119
  char v37; // [sp+B6h] [bp-82h]@119
  int v38; // [sp+B8h] [bp-80h]@115
  int v39; // [sp+BCh] [bp-7Ch]@115
  int v40; // [sp+C0h] [bp-78h]@101
  int v41; // [sp+C4h] [bp-74h]@100
  int v42; // [sp+C8h] [bp-70h]@100
  int v43; // [sp+CCh] [bp-6Ch]@86
  int i; // [sp+D0h] [bp-68h]@83
  int v45; // [sp+D4h] [bp-64h]@81
  int v46; // [sp+D8h] [bp-60h]@91
  int v47; // [sp+DCh] [bp-5Ch]@81
  int v48; // [sp+E0h] [bp-58h]@79
  int v49; // [sp+E4h] [bp-54h]@72
  int v50; // [sp+E8h] [bp-50h]@72
  int v51; // [sp+ECh] [bp-4Ch]@70
  int v52; // [sp+F0h] [bp-48h]@70
  int v53; // [sp+F4h] [bp-44h]@69
  int v54; // [sp+F8h] [bp-40h]@60
  int v55; // [sp+FCh] [bp-3Ch]@60
  int v56; // [sp+100h] [bp-38h]@54
  int v57; // [sp+104h] [bp-34h]@54
  int v58; // [sp+108h] [bp-30h]@48
  int v59; // [sp+10Ch] [bp-2Ch]@48
  int j; // [sp+110h] [bp-28h]@39
  int v61; // [sp+114h] [bp-24h]@39
  int v62; // [sp+118h] [bp-20h]@37
  int v63; // [sp+11Ch] [bp-1Ch]@37
  int l; // [sp+120h] [bp-18h]@21
  int k; // [sp+124h] [bp-14h]@18
  int v66; // [sp+128h] [bp-10h]@6
  int v67; // [sp+12Ch] [bp-Ch]@1
  int v68; // [sp+130h] [bp-8h]@1
  int v69; // [sp+134h] [bp-4h]@1

  memset(&v12, -858993460, 0x12Cu);
  v69 = dword_1FDF1F4[431 * a4];
  v68 = dword_1FDF1F8[431 * a4];
  v67 = dword_1FDF27C[431 * a4];
  if ( v67 < 378 || v67 >= 396 )
  {
    if ( v67 < 334 || v67 >= 378 )
    {
      if ( v67 < 275 || v67 > dword_5A12AC[0] + 275 )
      {
        if ( v67 < 292 || v67 > dword_5A12B0 + 292 )
        {
          if ( v67 < 310 || v67 > dword_5A12B4 + 310 )
          {
            if ( (v67 < 10 || v67 > 17) && (v67 < 171 || v67 > 178) && (v67 < 183 || v67 > 190) )
            {
              if ( (v67 < 18 || v67 > 21) && (v67 < 179 || v67 > 182) && (v67 < 191 || v67 > 194) )
              {
                if ( v67 != 4 || LOWORD(dword_1FDECFC[431 * a4]) != 258 )
                {
                  if ( v67 != 151 && v67 != 152 && v67 != 153 )
                  {
                    if ( v67 == 475 )
                    {
                      sub_401514(8);
                      dword_1FDEFA8[431 * a3] += 50;
                      sub_4E3F40(a1, a2, (int)&String, "etc,Die Kingdom %s");
                      Log(&String, "-system", 0);
                    }
                    else
                    {
                      if ( v67 == 450 )
                      {
                        sub_401514(7);
                        dword_1FDEFA8[431 * a3] += 50;
                        sub_4E3F40(a1, a2, (int)&String, "etc,Die Kingdom %s");
                        Log(&String, "-system", 0);
                      }
                      else
                      {
                        if ( v67 && v67 != 1 && v67 != 2 )
                        {
                          if ( v67 != 5 && v67 != 6 && v67 != 7 )
                          {
                            if ( v67 != 103 && v67 != 104 && v67 != 105 )
                            {
                              if ( v67 == 3 )
                              {
                                v15 = Rand()() % 7;
                                v14 = 0;
                                if ( !v15 )
                                  v14 = 1106;
                                if ( v15 == 1 )
                                  v14 = 1256;
                                if ( v15 == 2 )
                                  v14 = 1418;
                                if ( v15 == 3 )
                                  v14 = 1568;
                                if ( v14 )
                                {
                                  sub_4E4640(&v13, 0, 8u);
                                  v13 = v14;
                                  sub_4015CD(&v13, 75, 1, 0, 0);
                                  sub_401217(a4, a3, v69, v68, &v13);
                                }
                              }
                            }
                            else
                            {
                              v18 = Rand()() % 10;
                              v17 = 0;
                              if ( !v18 )
                                v17 = 420;
                              if ( v18 == 1 )
                                v17 = 419;
                              if ( v17 )
                              {
                                sub_4E4640(&v16, 0, 8u);
                                v16 = v17;
                                sub_4015CD(&v16, 0, 0, 0, 0);
                                sub_401217(a4, a3, v69, v68, &v16);
                              }
                            }
                          }
                          else
                          {
                            v21 = Rand()() % 28;
                            v20 = 0;
                            if ( !v21 )
                              v20 = Rand()() % 7 + 421;
                            if ( v21 == 1 )
                              v20 = 419;
                            if ( v20 )
                            {
                              sub_4E4640(&v19, 0, 8u);
                              v19 = v20;
                              sub_4015CD(&v19, 0, 0, 0, 0);
                              sub_401217(a4, a3, v69, v68, &v19);
                            }
                          }
                        }
                        else
                        {
                          v24 = Rand()() % 28;
                          v23 = 0;
                          if ( !v24 )
                            v23 = 420;
                          if ( v24 == 1 )
                            v23 = 419;
                          if ( v23 )
                          {
                            sub_4E4640(&v22, 0, 8u);
                            v22 = v23;
                            sub_4015CD(&v22, 0, 0, 0, 0);
                            sub_401217(a4, a3, v69, v68, &v22);
                          }
                        }
                      }
                    }
                  }
                  else
                  {
                    v28 = 151 - v67;
                    v27 = 0;
                    v26 = Rand()() % 100;
                    if ( v26 >= 5 )
                    {
                      if ( v26 >= 10 )
                      {
                        if ( v26 >= 15 )
                        {
                          if ( v26 >= 20 )
                          {
                            if ( v26 >= 25 )
                            {
                              if ( v26 < 70 )
                                v27 = 1000000;
                            }
                            else
                            {
                              v27 = 2000000;
                            }
                          }
                          else
                          {
                            v27 = 4000000;
                          }
                        }
                        else
                        {
                          v27 = (int)&unk_5B8D80;
                        }
                      }
                      else
                      {
                        v27 = (int)&unk_7A1200;
                      }
                    }
                    else
                    {
                      v27 = (int)&unk_989680;
                    }
                    v25 = v27 + dword_1FDECB8[431 * a3];
                    if ( v25 > 2000000000 )
                      v25 = 2000000000;
                    sub_4E3F40(a1, a2, (int)&String, "etc,money zone %s plus %d");
                    Log(&String, "-system", 0);
                    dword_8C7618C = 0;
                    dword_1FDECB8[431 * a3] = v25;
                    SendEtc(a3);
                    sub_4012C6(a3);
                  }
                }
                else
                {
                  sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8AB944);
                  sub_401131(&String, 2176, 1160, 2300, 1276);
                  dword_8C764BC = 1;
                  v39 = dword_1FDF1F4[431 * a4];
                  v38 = dword_1FDF1F8[431 * a4];
                  sub_4E4640(&v34, 0, 8u);
                  v34 = 753;
                  v33 = Rand()() % 5 - 1;
                  v32 = Rand()() % 5 - 1;
                  v31 = 0;
                  v30 = v32 + v33;
                  v29 = 0;
                  if ( v32 + v33 < 0 )
                    v30 = 0;
                  if ( v30 < 9 )
                    v29 = Rand()() % 10;
                  v35 = 43;
                  sub_401109(&v34, v30, v29);
                  v36 = 43;
                  v36 = Rand()() % 55;
                  v37 = 43;
                  v37 = Rand()() % 55;
                  sub_401217(a4, a3, v69, v68, &v34);
                }
              }
              else
              {
                v42 = dword_BDEAAC[748 * v67];
                v41 = 0;
                if ( v42 == 1 )
                {
                  v40 = 0;
                  if ( v67 >= 18 && v67 <= 29 )
                    v40 = 9;
                  if ( v67 >= 179 && v67 <= 182 )
                    v40 = 19;
                  if ( v67 >= 191 && v67 <= 194 )
                    v40 = 29;
                  if ( v40 )
                  {
                    dword_8C763A0[v40] = 16;
                    sub_401843(
                      dword_5A10F4[2 * v40] - 8,
                      dword_5A10F8[2 * v40] - 8,
                      dword_5A10F4[2 * v40] + 8,
                      dword_5A10F8[2 * v40] + 8,
                      351,
                      dword_8C763A0[v40] - 1);
                  }
                }
              }
            }
            else
            {
              v53 = dword_BDEAAC[748 * v67];
              if ( v53 <= 1 )
              {
                v52 = 0;
                v51 = 0;
                if ( v67 >= 10 && v67 <= 17 )
                {
                  v52 = v67 - 10;
                  v51 = 778;
                  v50 = 1214;
                  v49 = 3646;
                }
                if ( v67 >= 171 && v67 <= 178 )
                {
                  v52 = v67 - 161;
                  v51 = 3164;
                  v50 = 1086;
                  v49 = 3518;
                }
                if ( v67 >= 183 && v67 <= 190 )
                {
                  v52 = v67 - 163;
                  v51 = 3163;
                  v50 = 1342;
                  v49 = 3518;
                }
                v48 = dword_1FDF1D8[431 * a3];
                if ( v48 <= 0 )
                  v48 = a3;
                v47 = -1;
                sub_4E4640(&v45, 0, 8u);
                LOWORD(v45) = v52 + v51;
                if ( v48 > 0 && v48 < 1000 )
                {
                  for ( i = 0; ; ++i )
                  {
                    if ( i < 60 )
                    {
                      v43 = sub_4017E4(&dword_1FDED7C[431 * v48], i);
                      if ( !v43 )
                        continue;
                      if ( *((_WORD *)&dword_1FDED7C[431 * v48] + 4 * i) )
                        continue;
                    }
                    break;
                  }
                  v47 = i;
                }
                if ( v47 < 0 || v47 >= 60 )
                {
                  sub_4E3F40(a1, a2, (int)&String, "err,quest scrll send fail %d, geneidx %d cur %d");
                  Log(&String, &byte_752BAD8[3160 * a4], dword_752BAEC[790 * a4]);
                }
                else
                {
                  v4 = 1724 * v48;
                  v5 = v47;
                  *(&dword_1FDED7C[431 * v48] + 2 * v47) = v45;
                  *(int *)((char *)&dword_1FDED80[2 * v5] + v4) = v46;
                  sub_401960(v48, 1, v47, &dword_1FDED7C[431 * v48] + 2 * v47);
                }
              }
            }
          }
          else
          {
            if ( dword_BDE9CC )
            {
              v55 = dword_BDEAAC[748 * v67];
              v54 = dword_BDEAA8[748 * v67];
              if ( v55 <= 2 * v54 / 3 )
                sub_401C30(v67, 0, 0);
            }
          }
        }
        else
        {
          if ( dword_BDE9C8 )
          {
            v57 = dword_BDEAAC[748 * v67];
            v56 = dword_BDEAA8[748 * v67];
            if ( v57 <= 2 * v56 / 3 )
              sub_401C30(v67, 0, 0);
          }
        }
      }
      else
      {
        if ( dword_BDE9C4[0] )
        {
          v59 = dword_BDEAAC[748 * v67];
          v58 = dword_BDEAA8[748 * v67];
          if ( v59 <= 2 * v58 / 3 )
            sub_401C30(v67, 0, 0);
        }
      }
    }
    else
    {
      v66 = v67 - 334;
      if ( v67 - 334 >= 1 )
      {
        if ( v66 >= 4 )
        {
          if ( v66 >= 8 )
          {
            LOBYTE(v63) = (v66 - 8) % 9;
            LOBYTE(v62) = (v66 - 8) / 9;
            if ( dword_BDEAAC[748 * v67] <= 1 )
              *(&byte_74F9198[9 * (unsigned __int8)v62] + (unsigned __int8)v63) = 0;
            LOBYTE(v61) = 0;
            for ( j = 0; j < 9; ++j )
              LOBYTE(v61) = *(&byte_74F9198[9 * (unsigned __int8)v62] + j) + v61;
            if ( !(_BYTE)v61 )
              sub_401C30((unsigned __int8)v62 + 338, 0, 0);
          }
          else
          {
            if ( !dword_1FDF1D8[431 * a4] && byte_8C76454[v66] )
            {
              byte_8C76454[v66] = 0;
              for ( k = 0; k < 2; ++k )
              {
                if ( (unsigned __int8)byte_8C7645C[k] == v66 - 4 )
                {
                  ++byte_8C76450;
                  for ( l = 1; l < 1000; ++l )
                  {
                    if ( dword_752BAF0[790 * l] == 22
                      && dword_1FDF1D4[431 * l]
                      && dword_1FDF1F4[431 * l] >= dword_5A1348
                      && dword_1FDF1F4[431 * l] <= dword_5A1350
                      && dword_1FDF1F8[431 * l] >= dword_5A134C
                      && dword_1FDF1F8[431 * l] <= dword_5A1354 )
                    {
                      if ( (unsigned __int8)byte_8C76450 == 2 )
                      {
                        sub_401B63(l, &unk_8B1A44);
                        byte_8C7644C = 4;
                      }
                      else
                      {
                        sub_401B63(l, &unk_8B1C44);
                      }
                    }
                  }
                  break;
                }
              }
            }
          }
        }
        else
        {
          if ( byte_8C76454[v66] )
          {
            byte_8C76454[v66] = 0;
            if ( v66 == (unsigned __int8)byte_8C76451 )
            {
              ++byte_8C7644F;
              byte_8C7644C = 3;
            }
          }
        }
      }
      else
      {
        if ( byte_8C76454[v66] )
        {
          byte_8C76454[v66] = 0;
          ++byte_8C7644F;
          byte_8C7644C = 2;
        }
      }
    }
  }
  else
  {
    sub_401C30(v67, 0, 0);
  }
  if ( a3 < 1000 && (LOWORD(dword_1FDECFC[431 * a4]) == 239 || LOWORD(dword_1FDECFC[431 * a4]) == 241) )
  {
    if ( !(Rand()() % 20) )
    {
      v6 = word_1FDECB6[862 * a3];
      if ( v6 & 2 )
      {
        v7 = word_1FDECB6[862 * a3];
        if ( !(v7 & 4) )
        {
          sub_401B63(a3, &unk_8A69C4);
          word_1FDECB6[862 * a3] |= 4u;
        }
      }
    }
  }
  return sub_4E46A0(1, 1, v11, v9, v10);
}
// 401109: using guessed type _DWORD __cdecl sub_401109(_DWORD, _DWORD, _DWORD);
// 401131: using guessed type _DWORD __cdecl sub_401131(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401217: using guessed type _DWORD __cdecl sub_401217(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4012C6: using guessed type _DWORD __cdecl sub_4012C6(_DWORD);
// 401500: using guessed type _DWORD __cdecl SendEtc(_DWORD);
// 401514: using guessed type _DWORD __cdecl sub_401514(_DWORD);
// 4015CD: using guessed type _DWORD __cdecl sub_4015CD(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4017E4: using guessed type _DWORD __cdecl sub_4017E4(_DWORD, _DWORD);
// 401843: using guessed type _DWORD __cdecl sub_401843(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 5A10F4: using guessed type int dword_5A10F4[];
// 5A10F8: using guessed type int dword_5A10F8[];
// 5A12AC: using guessed type int dword_5A12AC[];
// 5A12B0: using guessed type int dword_5A12B0;
// 5A12B4: using guessed type int dword_5A12B4;
// 5A1348: using guessed type int dword_5A1348;
// 5A134C: using guessed type int dword_5A134C;
// 5A1350: using guessed type int dword_5A1350;
// 5A1354: using guessed type int dword_5A1354;
// BDE9C4: using guessed type int dword_BDE9C4[];
// BDE9C8: using guessed type int dword_BDE9C8;
// BDE9CC: using guessed type int dword_BDE9CC;
// BDEAA8: using guessed type int dword_BDEAA8[];
// BDEAAC: using guessed type int dword_BDEAAC[];
// 1FDECB6: using guessed type __int16 word_1FDECB6[];
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDED80: using guessed type int dword_1FDED80[];
// 1FDEFA8: using guessed type int dword_1FDEFA8[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 8C7618C: using guessed type int dword_8C7618C;
// 8C763A0: using guessed type int dword_8C763A0[];
// 8C7644C: using guessed type char byte_8C7644C;
// 8C7644F: using guessed type char byte_8C7644F;
// 8C76450: using guessed type char byte_8C76450;
// 8C76451: using guessed type char byte_8C76451;
// 8C764BC: using guessed type int dword_8C764BC;

//----- (004D0230) --------------------------------------------------------
int __usercall sub_4D0230<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-458h]@0
  int v6; // [sp+4h] [bp-454h]@0
  int v7; // [sp+8h] [bp-450h]@0
  char v8; // [sp+Ch] [bp-44Ch]@1
  int j; // [sp+4Ch] [bp-40Ch]@7
  char v10; // [sp+50h] [bp-408h]@9
  int i; // [sp+450h] [bp-8h]@4
  int v12; // [sp+454h] [bp-4h]@1

  memset(&v8, -858993460, 0x44Cu);
  v12 = 0;
  v3 = sub_4E4620(a1, a2, "TotoData.txt", (int)"wt");
  v12 = v3;
  if ( v3 )
  {
    if ( a3 )
    {
      for ( i = 1; i < dword_AACD58 + 1; ++i )
      {
        dword_5A3134[7 * i] = -1;
        dword_5A3138[7 * i] = -1;
        v3 = i + 1;
      }
    }
    for ( j = 1; j < dword_AACD58 + 1; ++j )
    {
      sub_4E3F40(a1, a2, (int)&v10, "Game: %d Buy %d %d %d Score %d %d %d");
      v3 = sub_4E5440(a1, a2, v12, (int)"%s\n", (unsigned int)&v10);
    }
    if ( v12 )
      v3 = sub_4E4260(a1, a2, v12);
  }
  else
  {
    v3 = Log("err,TotoData error - can't open TotoData.txt", "-system", 0);
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 5A3134: using guessed type int dword_5A3134[];
// 5A3138: using guessed type int dword_5A3138[];
// AACD58: using guessed type int dword_AACD58;

//----- (004D0430) --------------------------------------------------------
int __usercall sub_4D0430<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-5D4h]@0
  int v5; // [sp+4h] [bp-5D0h]@0
  int v6; // [sp+8h] [bp-5CCh]@0
  char v7; // [sp+Ch] [bp-5C8h]@1
  int i; // [sp+4Ch] [bp-588h]@3
  char v9; // [sp+50h] [bp-584h]@5
  char v10; // [sp+550h] [bp-84h]@5
  int v11; // [sp+5D0h] [bp-4h]@1
  int v12; // [sp+5D4h] [bp+0h]@5

  memset(&v7, -858993460, 0x5C8u);
  v11 = 0;
  v11 = sub_4E4620(a1, a2, "TotoData.txt", (int)"rt");
  if ( v11 )
  {
    for ( i = 1; i < dword_AACD58 + 1; ++i )
    {
      v9 = 0;
      sub_4E4400(a1, a2, (int)&v9, 1024, v11);
      sub_4E4340(a1, (int)&v12, a2, (int)&v9, "%s %d %s %d %d %d %s %d %d %d", (unsigned int)&v10);
    }
    v2 = sub_4E4260(a1, a2, v11);
  }
  else
  {
    Log("err,TotoData error - can't open TotoData.txt", "-system", 0);
    v2 = sub_401BFE(1);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401BFE: using guessed type _DWORD __cdecl sub_401BFE(_DWORD);
// AACD58: using guessed type int dword_AACD58;

//----- (004D0600) --------------------------------------------------------
int __cdecl sub_4D0600(signed int a1, signed int a2)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-60h]@0
  int v5; // [sp+4h] [bp-5Ch]@0
  int v6; // [sp+8h] [bp-58h]@0
  char v7; // [sp+Ch] [bp-54h]@1
  bool v8; // [sp+4Ch] [bp-14h]@37
  int v9; // [sp+50h] [bp-10h]@32
  int v10; // [sp+54h] [bp-Ch]@32
  int v11; // [sp+58h] [bp-8h]@5
  int v12; // [sp+5Ch] [bp-4h]@5

  memset(&v7, -858993460, 0x54u);
  if ( a1 < 1000 )
  {
    if ( a2 > 0 )
    {
      v12 = sub_401640(&byte_1FDECA0[1724 * a1]);
      v11 = word_1FDECC4[862 * a1];
      if ( v12 == 2 )
      {
        if ( byte_1FDF03D[1724 * a1] == 1 )
        {
          if ( v11 >= 150 )
          {
            if ( v11 >= 160 )
            {
              if ( v11 >= 170 )
              {
                if ( v11 >= 180 )
                {
                  if ( v11 >= 190 )
                  {
                    if ( v11 < 200 )
                      a2 /= 32;
                  }
                  else
                  {
                    a2 /= 16;
                  }
                }
                else
                {
                  a2 /= 12;
                }
              }
              else
              {
                a2 /= 8;
              }
            }
            else
            {
              a2 /= 4;
            }
          }
          else
          {
            a2 /= 2;
          }
        }
        else
        {
          if ( v11 >= 150 )
          {
            if ( v11 >= 160 )
            {
              if ( v11 >= 170 )
              {
                if ( v11 >= 180 )
                {
                  if ( v11 >= 190 )
                  {
                    if ( v11 < 200 )
                      a2 /= 256;
                  }
                  else
                  {
                    a2 /= 128;
                  }
                }
                else
                {
                  a2 /= 92;
                }
              }
              else
              {
                a2 /= 62;
              }
            }
            else
            {
              a2 /= 32;
            }
          }
          else
          {
            a2 /= 16;
          }
        }
        v10 = sub_401BC2(a1, 3328, 896, 3968, 1664, 0);
        v9 = sub_401BC2(a1, 2176, 3584, 2304, 3712, 0);
        if ( v10 == 1 || v9 == 1 )
          a2 *= 2;
        v8 = dword_1FDF1F4[431 * a1] >> 7 == 9 && dword_1FDF1F8[431 * a1] >> 7 == 1;
        if ( v8 )
          a2 *= 2;
      }
      else
      {
        if ( v12 == 1 )
        {
          if ( v11 < 355 )
          {
            if ( v11 < 349 )
            {
              if ( v11 < 319 )
              {
                if ( !dword_8C761B4 )
                  a2 /= 2;
              }
              else
              {
                if ( dword_8C761B4 )
                  a2 /= 2;
                else
                  a2 /= 4;
              }
            }
            else
            {
              if ( dword_8C761B4 )
                a2 /= 4;
              else
                a2 /= 8;
            }
          }
          else
          {
            if ( dword_8C761B4 )
              a2 /= 2;
            else
              a2 /= 4;
          }
        }
      }
      if ( dword_8C761AC == 1 )
      {
        if ( !sub_401640(&byte_1FDECA0[1724 * a1]) )
          a2 *= 2;
      }
      else
      {
        if ( dword_8C761AC == 2 && sub_401640(&byte_1FDECA0[1724 * a1]) != 2 )
          a2 *= 2;
      }
      v2 = a2;
    }
    else
    {
      v2 = 0;
    }
  }
  else
  {
    v2 = 0;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 401BC2: using guessed type _DWORD __cdecl sub_401BC2(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 8C761AC: using guessed type int dword_8C761AC;
// 8C761B4: using guessed type int dword_8C761B4;

//----- (004D0A70) --------------------------------------------------------
int __cdecl sub_4D0A70()
{
  int v0; // eax@25
  char v2; // [sp+0h] [bp-64h]@0
  int v3; // [sp+4h] [bp-60h]@0
  int v4; // [sp+8h] [bp-5Ch]@0
  char v5; // [sp+Ch] [bp-58h]@1
  int v6; // [sp+4Ch] [bp-18h]@22
  unsigned int i; // [sp+50h] [bp-14h]@1
  int v8; // [sp+54h] [bp-10h]@1
  int v9; // [sp+58h] [bp-Ch]@1
  unsigned int v10; // [sp+5Ch] [bp-8h]@1
  unsigned int v11; // [sp+60h] [bp-4h]@1

  memset(&v5, -858993460, 0x58u);
  v11 = dword_8C7632C % 6u;
  v10 = dword_8C7632C / 6u % 0x40;
  v9 = (signed int)(dword_8C7632C / 6u % 0x40) % 16;
  v8 = (signed int)v10 / 16;
  for ( i = dword_8C7632C % 6u + 1000; (signed int)i < 12800; i += 6 )
  {
    if ( dword_8C75F58 )
    {
      if ( dword_1FDF304[431 * i] > 0 )
      {
        if ( dword_1FDF308[431 * i] > 0 )
        {
          --dword_1FDF308[431 * i];
          if ( dword_1FDF308[431 * i] <= 0 )
          {
            dword_1FDF304[431 * i] = 0;
            dword_1FDF308[431 * i] = 0;
          }
        }
      }
    }
    if ( dword_1FDF1D4[431 * i] == 4 )
    {
      if ( !dword_1FDF33C[431 * i] )
        sub_401C85(i, v9, v8);
    }
  }
  v11 = dword_8C7632C % 4u;
  for ( i = dword_8C7632C % 4u + 1000; (signed int)i < 12800; i += 4 )
  {
    if ( (!dword_1FDF2D8[431 * i] || i == dword_74F866C) && dword_1FDF1D4[431 * i] == 5 )
      sub_4013C0(i, v11);
  }
  v11 = dword_8C7632C % 2u;
  for ( i = dword_8C7632C % 2u + 1; (signed int)i < 100; i += 2 )
  {
    v6 = dword_74F8668[i];
    if ( dword_1FDF1D4[431 * v6] == 5 )
    {
      if ( !dword_74F8668[i] )
        break;
      sub_4013C0(v6, v11);
    }
  }
  v0 = dword_8C7632C;
  v11 = 0;
  for ( i = 1000; (signed int)i < 12800 && (signed int)i < 12800; ++i )
  {
    if ( dword_1FDF33C[431 * i] && (unsigned int)dword_1FDF33C[431 * i] <= 0x64 && dword_1FDF1D4[431 * i] )
    {
      sub_4018AC(i, dword_1FDF340[431 * i], dword_1FDF344[431 * i], 1);
      --dword_1FDF33C[431 * i];
    }
    v0 = i + 1;
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4013C0: using guessed type _DWORD __cdecl sub_4013C0(_DWORD, _DWORD);
// 4018AC: using guessed type _DWORD __cdecl sub_4018AC(_DWORD, _DWORD, _DWORD, _DWORD);
// 401C85: using guessed type _DWORD __cdecl sub_401C85(_DWORD, _DWORD, _DWORD);
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF2D8: using guessed type int dword_1FDF2D8[];
// 1FDF304: using guessed type int dword_1FDF304[];
// 1FDF308: using guessed type int dword_1FDF308[];
// 1FDF33C: using guessed type int dword_1FDF33C[];
// 1FDF340: using guessed type int dword_1FDF340[];
// 1FDF344: using guessed type int dword_1FDF344[];
// 74F8668: using guessed type int dword_74F8668[];
// 74F866C: using guessed type int dword_74F866C;
// 8C75F58: using guessed type int dword_8C75F58;
// 8C7632C: using guessed type int dword_8C7632C;

//----- (004D0E50) --------------------------------------------------------
int __usercall sub_4D0E50<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5)
{
  int v5; // eax@1
  char v7; // [sp+0h] [bp-F4h]@0
  int v8; // [sp+4h] [bp-F0h]@0
  int v9; // [sp+8h] [bp-ECh]@0
  char v10; // [sp+Ch] [bp-E8h]@1
  char v11; // [sp+4Ch] [bp-A8h]@53
  int v12; // [sp+5Ch] [bp-98h]@53
  int v13; // [sp+60h] [bp-94h]@53
  char v14; // [sp+64h] [bp-90h]@53
  int v15; // [sp+80h] [bp-74h]@39
  int v16; // [sp+84h] [bp-70h]@39
  int v17; // [sp+88h] [bp-6Ch]@37
  int v18; // [sp+8Ch] [bp-68h]@37
  char v19; // [sp+90h] [bp-64h]@37
  int v20; // [sp+A0h] [bp-54h]@37
  int v21; // [sp+A4h] [bp-50h]@37
  int v22; // [sp+C4h] [bp-30h]@28
  int j; // [sp+C8h] [bp-2Ch]@26
  int v24; // [sp+CCh] [bp-28h]@24
  int v25; // [sp+D0h] [bp-24h]@16
  int i; // [sp+D4h] [bp-20h]@14
  int v27; // [sp+D8h] [bp-1Ch]@12
  int v28; // [sp+DCh] [bp-18h]@12
  int v29; // [sp+E0h] [bp-14h]@11
  int v30; // [sp+E4h] [bp-10h]@8
  int v31; // [sp+E8h] [bp-Ch]@4
  int v32; // [sp+ECh] [bp-8h]@1
  int v33; // [sp+F0h] [bp-4h]@1

  memset(&v10, -858993460, 0xE8u);
  v33 = dword_1FDF1D4[431 * a3];
  v5 = byte_1FDECB0[1724 * a3];
  v32 = byte_1FDECB0[1724 * a3];
  if ( v33 == 4 )
  {
    if ( (signed int)(unsigned __int16)word_1FDECEC[862 * a3] > 0 )
    {
      v31 = dword_1FDF2CC[431 * a3];
      if ( v31 > 0 && v31 < 45 && !a4 )
        sub_401BB3(a3, (char *)&unk_BAF9AC + 3548 * v31 + 96 * a5);
      sub_4011C7(a3);
      v30 = dword_1FDF278[431 * a3];
      if ( v30 < 0 || v30 > 5 )
      {
        dword_1FDF278[431 * a3] = 0;
        v30 = 0;
      }
      v29 = sub_401AEB(&byte_1FDECA0[1724 * a3]);
      if ( v29 & 0x10000000 )
      {
        v28 = v29 & 0xFFFFFFF;
        sub_401023(a3, v29 & 0xFFFFFFF);
        v5 = dword_1FDF1D8[431 * a3];
        v27 = dword_1FDF1D8[431 * a3];
        if ( v27 <= 0 )
          v27 = a3;
        for ( i = 0; i < 12; ++i )
        {
          v5 = 1724 * v27;
          v25 = *(&word_1FDF28A[862 * v27] + i);
          if ( v25 <= 1000 )
            return sub_4E46A0(1, v5, v9, v7, v8);
          if ( !dword_1FDF1D4[431 * v25] || (signed int)(unsigned __int16)word_1FDECEC[862 * v25] <= 0 )
          {
            if ( dword_1FDF1D4[431 * v25] )
              sub_401B90(v25, 1);
            v5 = i;
            *(&word_1FDF28A[862 * v27] + i) = 0;
            return sub_4E46A0(1, v5, v9, v7, v8);
          }
          v5 = sub_401023(v25, v28);
        }
        if ( v28 < 1000 )
        {
          v5 = 1724 * v28;
          v24 = dword_1FDF1D8[431 * v28];
          if ( v24 <= 0 )
            v24 = v28;
          for ( j = 0; j < 12; ++j )
          {
            v5 = *(&word_1FDF28A[862 * v24] + j);
            v22 = *(&word_1FDF28A[862 * v24] + j);
            if ( v22 <= 1000 )
              break;
            if ( !dword_1FDF1D4[431 * v22] || (signed int)(unsigned __int16)word_1FDECEC[862 * v22] <= 0 )
            {
              if ( dword_1FDF1D4[431 * v22] )
                sub_401B90(v22, 1);
              v5 = 1724 * v24;
              *(&word_1FDF28A[862 * v24] + j) = 0;
              return sub_4E46A0(1, v5, v9, v7, v8);
            }
            sub_401023(v22, a3);
            v5 = j + 1;
          }
        }
      }
      else
      {
        if ( v29 & 1 )
        {
          sub_401339(a3, dword_1FDF1FC[431 * a3], dword_1FDF200[431 * a3], &v19);
          v21 = sub_401429(&word_1FDECE0[862 * a3]);
          v20 = 0;
          sub_4011D6(a3, dword_1FDF1FC[431 * a3], dword_1FDF200[431 * a3], &v19);
          v18 = dword_1FDF278[431 * a3];
          v5 = dword_1FDF27C[431 * a3];
          v17 = dword_1FDF27C[431 * a3];
        }
        else
        {
          if ( v29 & 0x10 )
          {
            v5 = dword_1FDF278[431 * a3];
            v16 = dword_1FDF278[431 * a3];
            v15 = dword_1FDF27C[431 * a3];
            if ( v16 >= 0 )
            {
              if ( v16 < 5 )
              {
                if ( v16 >= 0 )
                {
                  if ( v16 < 5 )
                  {
                    if ( v15 >= 0 )
                    {
                      v5 = 2992 * v15;
                      if ( *(&byte_BDEB08[2992 * v15] + 80 * v16) )
                        v5 = sub_401BB3(a3, &byte_BDEB08[2992 * v15] + 80 * v16);
                    }
                  }
                }
              }
            }
          }
          else
          {
            if ( v29 & 0x100 )
            {
              v5 = sub_401B90(a3, 3);
            }
            else
            {
              v5 = v29 & 0x1000;
              if ( v29 & 0x1000 )
              {
                sub_401BC7(&byte_1FDECA0[1724 * a3]);
                if ( dword_1FDF1FC[431 * a3] != dword_1FDF1F4[431 * a3]
                  || (v5 = dword_1FDF200[431 * a3], v5 != dword_1FDF1F8[431 * a3]) )
                {
                  sub_401339(a3, dword_1FDF1FC[431 * a3], dword_1FDF200[431 * a3], &v11);
                  v14 = 0;
                  v13 = sub_401429(&word_1FDECE0[862 * a3]);
                  v12 = 0;
                  v5 = sub_4011D6(a3, dword_1FDF1FC[431 * a3], dword_1FDF200[431 * a3], &v11);
                }
              }
              else
              {
                if ( v29 & 2 )
                  v5 = sub_401A19(a3, dword_1FDF1FC[431 * a3], dword_1FDF200[431 * a3], 0);
              }
            }
          }
        }
      }
    }
    else
    {
      sub_4E3F40(a1, a2, (int)&String, "err,standingby processer delete hp zero mob %d %s");
      Log(&String, "-system", 0);
      v5 = sub_401B90(a3, 1);
    }
  }
  return sub_4E46A0(1, v5, v9, v7, v8);
}
// 401023: using guessed type _DWORD __cdecl sub_401023(_DWORD, _DWORD);
// 4011C7: using guessed type _DWORD __cdecl sub_4011C7(_DWORD);
// 4011D6: using guessed type _DWORD __cdecl sub_4011D6(_DWORD, _DWORD, _DWORD, _DWORD);
// 401339: using guessed type _DWORD __cdecl sub_401339(_DWORD, __int16, __int16, _DWORD);
// 401429: using guessed type _DWORD __cdecl sub_401429(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 401AEB: using guessed type int __thiscall sub_401AEB(_DWORD);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 401BB3: using guessed type _DWORD __cdecl sub_401BB3(_DWORD, _DWORD);
// 401BC7: using guessed type int __thiscall sub_401BC7(_DWORD);
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF1FC: using guessed type int dword_1FDF1FC[];
// 1FDF200: using guessed type int dword_1FDF200[];
// 1FDF278: using guessed type int dword_1FDF278[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 1FDF2CC: using guessed type int dword_1FDF2CC[];

//----- (004D15D0) --------------------------------------------------------
int __usercall sub_4D15D0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v4; // eax@5
  int v5; // ecx@27
  char v7; // [sp+0h] [bp-118h]@0
  int v8; // [sp+4h] [bp-114h]@0
  int v9; // [sp+8h] [bp-110h]@0
  char v10; // [sp+Ch] [bp-10Ch]@1
  char v11; // [sp+4Ch] [bp-CCh]@61
  int v12; // [sp+5Ch] [bp-BCh]@61
  int v13; // [sp+60h] [bp-B8h]@61
  char v14; // [sp+80h] [bp-98h]@57
  int v15; // [sp+90h] [bp-88h]@57
  int v16; // [sp+94h] [bp-84h]@57
  char v17; // [sp+98h] [bp-80h]@57
  int v18; // [sp+B4h] [bp-64h]@55
  char v19; // [sp+B8h] [bp-60h]@53
  int v20; // [sp+C8h] [bp-50h]@53
  int v21; // [sp+CCh] [bp-4Ch]@53
  char v22; // [sp+D0h] [bp-48h]@53
  int v23; // [sp+ECh] [bp-2Ch]@51
  int v24; // [sp+F0h] [bp-28h]@45
  int v25; // [sp+F4h] [bp-24h]@35
  int v26; // [sp+F8h] [bp-20h]@25
  int v27; // [sp+FCh] [bp-1Ch]@25
  int v28; // [sp+100h] [bp-18h]@16
  int v29; // [sp+104h] [bp-14h]@14
  int v30; // [sp+108h] [bp-10h]@12
  int v31; // [sp+10Ch] [bp-Ch]@10
  int v32; // [sp+110h] [bp-8h]@8
  unsigned int v33; // [sp+114h] [bp-4h]@1

  memset(&v10, -858993460, 0x10Cu);
  v33 = dword_8C7632C % 8u;
  v33 = a4 == dword_8C7632C % 8u;
  if ( (signed int)(unsigned __int16)word_1FDECEC[862 * a3] > 0 )
  {
    if ( v33 )
      sub_4011C7(a3);
    v4 = word_1FDF280[862 * a3];
    v32 = word_1FDF280[862 * a3];
    if ( v32 > 0 && v32 < 12800 )
    {
      v31 = dword_1FDF1D8[431 * a3];
      if ( !v31 )
        v31 = a3;
      v30 = dword_1FDF1D8[431 * v32];
      if ( !v30 )
        v30 = v32;
      v29 = (unsigned __int16)word_1FDECB2[862 * a3];
      if ( dword_1FDF2B0[431 * a3] )
        v29 = 0;
      v28 = (unsigned __int16)word_1FDECB2[862 * v32];
      v4 = 1724 * v32;
      if ( dword_1FDF2B0[431 * v32] )
        v28 = 0;
      if ( !v29 && !v28 )
        v29 = -1;
      if ( v31 == v30 || v29 == v28 )
        v4 = sub_40117C(v32);
    }
    if ( !dword_1FDF33C[431 * a3] )
    {
      v27 = sub_40159B(&byte_1FDECA0[1724 * a3]);
      v26 = Rand()() % 100;
      if ( v27 & 0x20 )
      {
        v4 = sub_401B90(a3, 3);
      }
      else
      {
        v5 = v27;
        if ( v5 & 0x10000 )
        {
          v4 = Rand()() % 2;
          if ( !v4 )
            v4 = sub_401B45(a3, 14, 1);
        }
        else
        {
          v4 = v27 & 0x1000;
          if ( v27 & 0x1000 )
          {
            if ( a3 == dword_74F866C )
            {
              if ( dword_1FDF2E0[431 * a3] )
              {
                v4 = sub_40113B(a3, 1);
                dword_1FDF2E0[431 * a3] = 0;
              }
              else
              {
                v25 = Rand()() % 100;
                if ( v25 >= 5 )
                {
                  if ( v25 >= 50 )
                  {
                    if ( v25 >= 60 )
                    {
                      if ( v25 >= 80 )
                      {
                        dword_1FDF2E0[431 * a3] = 7;
                        v4 = sub_401B45(a3, dword_1FDF2E0[431 * a3], 1);
                      }
                      else
                      {
                        v4 = sub_401A91(a3);
                      }
                    }
                    else
                    {
                      v4 = sub_40113B(a3, 2);
                    }
                  }
                  else
                  {
                    v4 = sub_40113B(a3, 0);
                  }
                }
                else
                {
                  v4 = sub_40113B(a3, 3);
                }
              }
            }
            else
            {
              v24 = word_1FDF280[862 * a3];
              if ( v24 > 0 && v24 < 12800 )
                v4 = sub_401C53(a3, v24);
            }
          }
          else
          {
            if ( v27 & 0x100 )
            {
              v23 = word_1FDF280[862 * a3];
              sub_401168(v23);
              if ( dword_1FDF1FC[431 * a3] != dword_1FDF1F4[431 * a3]
                || (v4 = 1724 * a3, dword_1FDF200[431 * a3] != dword_1FDF1F8[431 * a3]) )
              {
                sub_401339(a3, dword_1FDF1FC[431 * a3], dword_1FDF200[431 * a3], &v19);
                v22 = 0;
                v21 = sub_401429(&word_1FDECE0[862 * a3]);
                v20 = 0;
                v4 = sub_4011D6(a3, dword_1FDF1FC[431 * a3], dword_1FDF200[431 * a3], &v19);
              }
            }
            else
            {
              if ( v27 & 1 )
              {
                v18 = word_1FDF280[862 * a3];
                sub_401050(v18);
                if ( dword_1FDF1FC[431 * a3] != dword_1FDF1F4[431 * a3]
                  || (v4 = 1724 * a3, dword_1FDF200[431 * a3] != dword_1FDF1F8[431 * a3]) )
                {
                  sub_401339(a3, dword_1FDF1FC[431 * a3], dword_1FDF200[431 * a3], &v14);
                  v17 = 0;
                  v16 = sub_401429(&word_1FDECE0[862 * a3]);
                  v15 = 0;
                  v4 = sub_4011D6(a3, dword_1FDF1FC[431 * a3], dword_1FDF200[431 * a3], &v14);
                }
              }
              else
              {
                if ( v27 & 2 )
                {
                  v4 = sub_401A19(a3, dword_1FDF1FC[431 * a3], dword_1FDF200[431 * a3], 0);
                }
                else
                {
                  v4 = v27 & 0x10;
                  if ( v27 & 0x10 )
                  {
                    sub_401339(a3, dword_1FDF1FC[431 * a3], dword_1FDF200[431 * a3], &v11);
                    v13 = sub_401429(&word_1FDECE0[862 * a3]);
                    v12 = 0;
                    v4 = sub_4011D6(a3, dword_1FDF1FC[431 * a3], dword_1FDF200[431 * a3], &v11);
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  else
  {
    sub_4E3F40(a1, a2, (int)&String, "err,battleprocessor delete hp 0 idx:%d, leader:%d fol0:%d fol1:%d");
    Log(&String, "-system", 0);
    v4 = sub_401B90(a3, 1);
  }
  return sub_4E46A0(1, v4, v9, v7, v8);
}
// 401050: using guessed type _DWORD __stdcall sub_401050(_DWORD);
// 40113B: using guessed type _DWORD __cdecl sub_40113B(_DWORD, _DWORD);
// 401168: using guessed type _DWORD __stdcall sub_401168(_DWORD);
// 40117C: using guessed type _DWORD __stdcall sub_40117C(__int16);
// 4011C7: using guessed type _DWORD __cdecl sub_4011C7(_DWORD);
// 4011D6: using guessed type _DWORD __cdecl sub_4011D6(_DWORD, _DWORD, _DWORD, _DWORD);
// 401339: using guessed type _DWORD __cdecl sub_401339(_DWORD, __int16, __int16, _DWORD);
// 401429: using guessed type _DWORD __cdecl sub_401429(_DWORD);
// 40159B: using guessed type int __thiscall sub_40159B(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 401A91: using guessed type _DWORD __cdecl sub_401A91(_DWORD);
// 401B45: using guessed type _DWORD __cdecl sub_401B45(_DWORD, __int16, __int16);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 401C53: using guessed type _DWORD __cdecl sub_401C53(_DWORD, _DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF1FC: using guessed type int dword_1FDF1FC[];
// 1FDF200: using guessed type int dword_1FDF200[];
// 1FDF280: using guessed type __int16 word_1FDF280[];
// 1FDF2B0: using guessed type int dword_1FDF2B0[];
// 1FDF2E0: using guessed type int dword_1FDF2E0[];
// 1FDF33C: using guessed type int dword_1FDF33C[];
// 74F866C: using guessed type int dword_74F866C;
// 8C7632C: using guessed type int dword_8C7632C;

//----- (004D1E20) --------------------------------------------------------
int __cdecl sub_4D1E20(int a1, int a2)
{
  __int16 v2; // dx@1
  int v3; // eax@4
  char v5; // [sp+0h] [bp-58h]@0
  int v6; // [sp+4h] [bp-54h]@0
  int v7; // [sp+8h] [bp-50h]@0
  char v8; // [sp+Ch] [bp-4Ch]@1
  int v9; // [sp+4Ch] [bp-Ch]@1
  int v10; // [sp+50h] [bp-8h]@1
  int v11; // [sp+54h] [bp-4h]@1

  memset(&v8, -858993460, 0x4Cu);
  v11 = Rand()() % 100;
  v10 = byte_1FDEF8B[1724 * a1];
  v2 = word_1FDEF84[862 * a1];
  v9 = (unsigned __int8)v2;
  if ( v10 < 0 || v10 == 27 || v11 >= v9 )
    v3 = sub_40108C(a1, a2);
  else
    v3 = sub_4018AC(a1, dword_1FDF1F4[431 * a2], dword_1FDF1F8[431 * a2], 0);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 40108C: using guessed type _DWORD __cdecl sub_40108C(_DWORD, _DWORD);
// 4018AC: using guessed type _DWORD __cdecl sub_4018AC(_DWORD, _DWORD, _DWORD, _DWORD);
// 1FDEF84: using guessed type __int16 word_1FDEF84[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];

//----- (004D1F10) --------------------------------------------------------
int __cdecl sub_4D1F10(int a1, int a2, int a3, int a4)
{
  int v4; // eax@7
  char v6; // [sp+0h] [bp-DCh]@0
  int v7; // [sp+4h] [bp-D8h]@0
  int v8; // [sp+8h] [bp-D4h]@0
  char v9; // [sp+Ch] [bp-D0h]@1
  int v10; // [sp+4Ch] [bp-90h]@14
  int i; // [sp+50h] [bp-8Ch]@12
  int v12; // [sp+54h] [bp-88h]@7
  int v13; // [sp+58h] [bp-84h]@5
  int v14; // [sp+5Ch] [bp-80h]@5
  __int16 v15; // [sp+60h] [bp-7Ch]@5
  __int16 v16; // [sp+64h] [bp-78h]@5
  __int16 v17; // [sp+66h] [bp-76h]@5
  int v18; // [sp+68h] [bp-74h]@5
  char v19; // [sp+6Ch] [bp-70h]@5
  __int16 v20; // [sp+70h] [bp-6Ch]@5
  __int16 v21; // [sp+72h] [bp-6Ah]@5
  __int16 v22; // [sp+74h] [bp-68h]@5
  __int16 v23; // [sp+76h] [bp-66h]@5
  __int16 v24; // [sp+78h] [bp-64h]@5
  __int16 v25; // [sp+7Ch] [bp-60h]@5
  __int16 v26; // [sp+7Eh] [bp-5Eh]@5
  __int16 v27; // [sp+84h] [bp-58h]@5
  __int16 v28[27]; // [sp+8Eh] [bp-4Eh]@14
  int v29; // [sp+C4h] [bp-18h]@5
  int v30; // [sp+C8h] [bp-14h]@5
  int v31; // [sp+CCh] [bp-10h]@1
  int v32; // [sp+D0h] [bp-Ch]@1
  int v33; // [sp+D4h] [bp-8h]@1
  int v34; // [sp+D8h] [bp-4h]@1

  memset(&v9, -858993460, 0xD0u);
  v34 = 0;
  v33 = byte_1FDEF8B[1724 * a1];
  v32 = dword_8B61D8[24 * v33];
  v31 = word_1FDEF84[862 * a1] >> 8;
  if ( !a4 && v31 && v31 <= 100 )
  {
    dword_1FDF33C[431 * a1] = v31;
    dword_1FDF340[431 * a1] = a2;
    dword_1FDF344[431 * a1] = a3;
  }
  v30 = dword_1FDF1F4[431 * a1];
  v29 = dword_1FDF1F8[431 * a1];
  sub_4E4640(&v15, 0, 0x64u);
  v22 = a2;
  v23 = a3;
  sub_4011F4(a2, a3, 13, v32, &v15, a1, 2);
  v19 = Rand()() % 3 + 4;
  v26 = v33;
  v14 = sub_4016D1(a1, v34, &v15);
  v17 = 30000;
  v24 = a1;
  v18 = dword_8C76270;
  v20 = v30;
  v21 = v29;
  v15 = 100;
  v16 = 871;
  v25 = -1;
  v27 = -1;
  sub_401406(v30, v29, &v15, 0);
  v13 = v30 - a2;
  if ( v30 - a2 < 0 )
    v13 = -v13;
  v4 = v29 - a3;
  v12 = v29 - a3;
  if ( v29 - a3 < 0 )
    v12 = -v12;
  if ( v13 > 33 || v12 > 33 )
    v4 = sub_401406(a2, a3, &v15, 0);
  for ( i = 0; i < 13; ++i )
  {
    v10 = (unsigned __int16)v28[2 * i];
    v4 = (unsigned __int16)word_1FDECEC[862 * v10];
    if ( v4 <= 0 )
    {
      word_1FDECEC[862 * v10] = 0;
      v4 = sub_401C12(v10, a1, 0, 0);
    }
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 4011F4: using guessed type _DWORD __cdecl sub_4011F4(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401406: using guessed type _DWORD __cdecl sub_401406(_DWORD, _DWORD, _DWORD, _DWORD);
// 4016D1: using guessed type _DWORD __cdecl sub_4016D1(_DWORD, _DWORD, _DWORD);
// 401C12: using guessed type _DWORD __cdecl sub_401C12(_DWORD, _DWORD, _DWORD, _DWORD);
// 8B61D8: using guessed type int dword_8B61D8[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDEF84: using guessed type __int16 word_1FDEF84[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF33C: using guessed type int dword_1FDF33C[];
// 1FDF340: using guessed type int dword_1FDF340[];
// 1FDF344: using guessed type int dword_1FDF344[];
// 8C76270: using guessed type int dword_8C76270;
// 4D1F10: using guessed type __int16 var_4E[27];

//----- (004D2250) --------------------------------------------------------
int __cdecl sub_4D2250(int a1, int a2)
{
  int v2; // eax@65
  char v4; // [sp+0h] [bp-19Ch]@0
  int v5; // [sp+4h] [bp-198h]@0
  int v6; // [sp+8h] [bp-194h]@0
  char v7; // [sp+Ch] [bp-190h]@1
  int v8; // [sp+4Ch] [bp-150h]@49
  char v9; // [sp+50h] [bp-14Ch]@86
  int v10; // [sp+100h] [bp-9Ch]@82
  int v11; // [sp+104h] [bp-98h]@82
  int v12; // [sp+108h] [bp-94h]@81
  int v13; // [sp+10Ch] [bp-90h]@73
  int v14; // [sp+110h] [bp-8Ch]@73
  int v15; // [sp+114h] [bp-88h]@73
  char v16; // [sp+118h] [bp-84h]@73
  int v17; // [sp+11Ch] [bp-80h]@71
  int v18; // [sp+120h] [bp-7Ch]@69
  int v19; // [sp+124h] [bp-78h]@64
  int v20; // [sp+128h] [bp-74h]@52
  unsigned int v21; // [sp+12Ch] [bp-70h]@51
  int v22; // [sp+130h] [bp-6Ch]@51
  int v23; // [sp+134h] [bp-68h]@40
  int v24; // [sp+138h] [bp-64h]@40
  int v25; // [sp+13Ch] [bp-60h]@40
  int v26; // [sp+140h] [bp-5Ch]@35
  int v27; // [sp+144h] [bp-58h]@28
  int i; // [sp+148h] [bp-54h]@25
  int v29; // [sp+14Ch] [bp-50h]@20
  int v30; // [sp+150h] [bp-4Ch]@14
  int v31; // [sp+154h] [bp-48h]@14
  int v32; // [sp+158h] [bp-44h]@8
  int v33; // [sp+15Ch] [bp-40h]@8
  int v34; // [sp+160h] [bp-3Ch]@6
  int v35; // [sp+164h] [bp-38h]@1
  char v36; // [sp+168h] [bp-34h]@1
  char v37; // [sp+174h] [bp-28h]@5
  char v38; // [sp+175h] [bp-27h]@1
  int v39; // [sp+177h] [bp-25h]@3
  __int16 v40; // [sp+186h] [bp-16h]@1
  int v41; // [sp+196h] [bp-6h]@1
  signed int v42; // [sp+1A8h] [bp+Ch]@1

  memset(&v7, -858993460, 0x190u);
  sub_4014BF(a1, a2, &v36);
  v38 = 0;
  v42 = (unsigned __int16)v41;
  v35 = v40;
  if ( v40 >= 0 && v35 < 96 && !(_BYTE)v39 )
  {
    if ( v35 == 33 )
      v37 = -3;
    v34 = v35 % 24 / 8 + 1;
    if ( v34 >= 1 && v34 <= 3 )
    {
      v33 = (unsigned __int8)*(&byte_1FDECF8[1724 * a1] + v34);
      v32 = 0;
      if ( SetAffect((unsigned __int16)v41, v35, 100, v33) )
        v32 = 1;
      if ( v32 )
        sub_4018B1(v42);
    }
  }
  if ( v42 < 1000 && SHIWORD(v41) > 0 )
  {
    v31 = sub_401424(&byte_1FDECA0[1724 * v42], dword_1FDF358[431 * v42], 500, &dword_1FDF34C[431 * v42]);
    v30 = Rand()() % 1000;
    if ( v30 < v31 )
    {
      HIWORD(v41) = -3;
      if ( dword_1FDF34C[431 * v42] & 0x200 )
      {
        if ( v30 < 100 )
          HIWORD(v41) = -4;
      }
    }
    if ( byte_1FDECB0[1724 * a1] == 4 )
      HIWORD(v41) = 2 * SHIWORD(v41) / 5;
  }
  v29 = dword_1FDF1D8[431 * v42];
  if ( SHIWORD(v41) > 0 )
  {
    if ( v29 <= 0 )
      v29 = v42;
    sub_401023(v29, a1);
    if ( byte_1FDECB0[1724 * a1] != 4 )
      sub_401023(a1, v29);
    for ( i = 0; i < 12; ++i )
    {
      v27 = *(&word_1FDF28A[862 * v29] + i);
      if ( v27 > 1000 )
      {
        if ( dword_1FDF1D4[431 * v27] && (signed int)(unsigned __int16)word_1FDECEC[862 * v27] > 0 )
        {
          sub_401023(v27, a1);
          sub_401023(a1, v27);
        }
        else
        {
          if ( dword_1FDF1D4[431 * v27] )
            sub_401B90(v27, 1);
          *(&word_1FDF28A[862 * v29] + i) = 0;
        }
      }
    }
    v26 = dword_1FDF2A8[431 * a1];
    if ( byte_1FDECB0[1724 * a1] == 4 && v42 >= 1000 && v26 > 0 && v26 < 1000 && dword_752BAF0[790 * v26] == 22 )
    {
      v25 = dword_1FDF1F4[431 * v26];
      v24 = dword_1FDF1F8[431 * v26];
      v23 = 66;
      if ( dword_8C75F58 && (!dword_1FDF304[431 * v42] || dword_1FDF304[431 * v42] == v26) )
      {
        dword_1FDF304[431 * v42] = v26;
        dword_1FDF308[431 * v42] = 3;
      }
      if ( dword_1FDF1F4[431 * a1] > v25 - v23
        && dword_1FDF1F4[431 * a1] < v23 + v25
        && dword_1FDF1F8[431 * a1] > v24 - v23
        && dword_1FDF1F8[431 * a1] < v23 + v24 )
      {
        LOWORD(v8) = (unsigned __int16)word_1FDECEC[862 * v42] >= (signed int)SHIWORD(v41) ? HIWORD(v41) : word_1FDECEC[862 * v42];
        v22 = (unsigned __int16)v8;
        v21 = (unsigned int)(unsigned __int16)v8 * dword_1FDECBC[431 * v42] / (unsigned __int16)word_1FDECE8[862 * v42];
        if ( byte_1FDECB0[1724 * v42] != 4 )
        {
          v20 = word_1FDECE0[862 * v26];
          if ( sub_401640(&byte_1FDECA0[1724 * v26]) == 2 )
            v20 += 400;
          v21 = sub_401B81(v21, v20, word_1FDECE0[862 * v42]);
          v21 = sub_401A37(v26, v21);
          if ( (unsigned __int16)word_1FDECEC[862 * v42] > (signed int)SHIWORD(v41) && (signed int)v21 > 200 )
            v21 = 50;
          if ( !sub_4017F3(&byte_1FDECA0[1724 * v26]) )
            v21 = 0;
          if ( dword_8C7648C )
            v21 = 0;
          v21 = sub_401C8A(v26, v21);
          sub_4011D1(v26, &v21);
          dword_1FDECBC[431 * v26] += v21;
        }
      }
    }
  }
  if ( SHIWORD(v41) > 0 || SHIWORD(v41) <= -5 )
  {
    v19 = SHIWORD(v41);
    HIWORD(v41) = sub_401A82(v42, SHIWORD(v41));
    sub_401488(v42, SHIWORD(v41));
    sub_40146A(v42);
  }
  v2 = sub_4014FB(dword_1FDF1F4[431 * v42], dword_1FDF1F8[431 * v42], &v36, 0);
  if ( v42 > 0 && v42 < 1000 )
  {
    if ( (unsigned __int16)word_1FDECEE[862 * v42] > (signed int)SHIWORD(v41) && dword_1FDF34C[431 * v42] & 1 )
    {
      v18 = 70 * SHIWORD(v41) / 100;
      HIWORD(v41) -= v18;
      dword_752C438[790 * v42] -= v18;
      word_1FDECEE[862 * v42] = LOWORD(dword_752C438[790 * v42]);
      dword_752C434[790 * v42] -= SHIWORD(v41);
    }
    else
    {
      dword_752C434[790 * v42] -= SHIWORD(v41);
    }
    v2 = sub_4016CC(v42);
    v17 = dword_1FDF2A8[431 * a1];
    if ( v17 > 0 )
    {
      if ( v17 < 1000 )
      {
        v16 = sub_401712(dword_1FDF1F4[431 * v17], dword_1FDF1F8[431 * v17]);
        v15 = sub_40116D(&byte_1FDECA0[1724 * v17]);
        v14 = (unsigned __int16)word_1FDECB2[862 * v17];
        v2 = 1724 * v42;
        v13 = (unsigned __int16)word_1FDECB2[862 * v42];
        if ( v14 > 0 )
        {
          if ( v14 < 65536 )
          {
            if ( v13 > 0 )
            {
              if ( v13 < 65536 )
              {
                v2 = (unsigned __int16)word_750BAC4[v14];
                if ( v2 == v13 )
                {
                  if ( (unsigned __int16)word_750BAC4[v13] == v14 )
                    v15 = 1;
                }
              }
            }
          }
        }
        if ( !v15 )
        {
          v12 = sub_4013BB(v42);
          v2 = sub_401807(v17);
          if ( !v2 )
          {
            v11 = sub_401352(v42);
            v2 = sub_401352(v17);
            v10 = v2;
            if ( !v11 )
            {
              if ( v12 > 10 )
              {
                if ( SHIWORD(v41) > 0 )
                {
                  v2 = sub_4016B8(v17, 8);
                  if ( !v10 )
                  {
                    sub_4010FF(v17, &v9);
                    v2 = sub_4014FB(dword_1FDF1F4[431 * v17], dword_1FDF1F8[431 * v17], &v9, 0);
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  if ( (signed int)(unsigned __int16)word_1FDECEC[862 * v42] <= 0 )
  {
    if ( dword_1FDF27C[431 * v42] == 450 )
    {
      sub_401514(7);
    }
    else
    {
      if ( dword_1FDF27C[431 * v42] == 475 )
        sub_401514(8);
    }
    word_1FDECEC[862 * v42] = 0;
    v2 = sub_401C12(v42, a1, 0, 0);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401023: using guessed type _DWORD __cdecl sub_401023(_DWORD, _DWORD);
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 40116D: using guessed type int __thiscall sub_40116D(_DWORD);
// 4011D1: using guessed type _DWORD __cdecl sub_4011D1(_DWORD, _DWORD);
// 401352: using guessed type _DWORD __cdecl sub_401352(_DWORD);
// 4013BB: using guessed type _DWORD __cdecl sub_4013BB(_DWORD);
// 401424: using guessed type _DWORD __cdecl sub_401424(_DWORD, _DWORD, _DWORD, _DWORD);
// 40146A: using guessed type _DWORD __cdecl sub_40146A(_DWORD);
// 401488: using guessed type _DWORD __cdecl sub_401488(_DWORD, _DWORD);
// 4014BF: using guessed type _DWORD __cdecl sub_4014BF(_DWORD, _DWORD, _DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401514: using guessed type _DWORD __cdecl sub_401514(_DWORD);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 4016B8: using guessed type _DWORD __cdecl sub_4016B8(_DWORD, _DWORD);
// 4016CC: using guessed type _DWORD __cdecl sub_4016CC(_DWORD);
// 401712: using guessed type _DWORD __cdecl sub_401712(_DWORD, _DWORD);
// 4017F3: using guessed type int __thiscall sub_4017F3(_DWORD);
// 401807: using guessed type _DWORD __cdecl sub_401807(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 40195B: using guessed type _DWORD __cdecl SetAffect(_DWORD, _DWORD, _DWORD, _DWORD);
// 401A37: using guessed type _DWORD __cdecl sub_401A37(_DWORD, _DWORD);
// 401A82: using guessed type _DWORD __cdecl sub_401A82(_DWORD, _DWORD);
// 401B81: using guessed type _DWORD __cdecl sub_401B81(_DWORD, _DWORD, _DWORD);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 401C12: using guessed type _DWORD __cdecl sub_401C12(_DWORD, _DWORD, _DWORD, _DWORD);
// 401C8A: using guessed type _DWORD __cdecl sub_401C8A(_DWORD, _DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECE8: using guessed type __int16 word_1FDECE8[];
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDECEE: using guessed type __int16 word_1FDECEE[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 1FDF2A8: using guessed type int dword_1FDF2A8[];
// 1FDF304: using guessed type int dword_1FDF304[];
// 1FDF308: using guessed type int dword_1FDF308[];
// 1FDF34C: using guessed type int dword_1FDF34C[];
// 1FDF358: using guessed type int dword_1FDF358[];
// 750BAC4: using guessed type __int16 word_750BAC4[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 752C434: using guessed type int dword_752C434[];
// 752C438: using guessed type int dword_752C438[];
// 8C75F58: using guessed type int dword_8C75F58;
// 8C7648C: using guessed type int dword_8C7648C;

//----- (004D2E70) --------------------------------------------------------
int __usercall sub_4D2E70<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  signed int v3; // eax@1
  int v4; // eax@6
  signed __int64 v5; // qtt@6
  int v6; // eax@20
  int v7; // eax@31
  signed __int64 v8; // qtt@31
  int v9; // eax@33
  signed __int64 v10; // qtt@33
  int v11; // eax@47
  char v13; // [sp+0h] [bp-110h]@0
  int v14; // [sp+4h] [bp-10Ch]@0
  int v15; // [sp+8h] [bp-108h]@0
  char v16; // [sp+Ch] [bp-104h]@1
  int v17; // [sp+4Ch] [bp-C4h]@52
  __int16 v18; // [sp+50h] [bp-C0h]@52
  int v19; // [sp+58h] [bp-B8h]@52
  int v20; // [sp+5Ch] [bp-B4h]@52
  int v21; // [sp+60h] [bp-B0h]@52
  __int16 v22; // [sp+64h] [bp-ACh]@52
  __int16 v23; // [sp+66h] [bp-AAh]@52
  char v24; // [sp+68h] [bp-A8h]@51
  int v25; // [sp+88h] [bp-88h]@47
  int v26; // [sp+8Ch] [bp-84h]@47
  int v27; // [sp+90h] [bp-80h]@34
  int v28; // [sp+94h] [bp-7Ch]@34
  int v29; // [sp+98h] [bp-78h]@34
  int v30; // [sp+9Ch] [bp-74h]@34
  int v31; // [sp+A0h] [bp-70h]@33
  int v32; // [sp+A4h] [bp-6Ch]@31
  int v33; // [sp+A8h] [bp-68h]@29
  int v34; // [sp+ACh] [bp-64h]@25
  __int16 v35; // [sp+B0h] [bp-60h]@25
  int v36; // [sp+B8h] [bp-58h]@25
  int v37; // [sp+BCh] [bp-54h]@25
  int v38; // [sp+C0h] [bp-50h]@25
  __int16 v39; // [sp+C4h] [bp-4Ch]@25
  __int16 v40; // [sp+C6h] [bp-4Ah]@25
  char v41; // [sp+C8h] [bp-48h]@24
  int v42; // [sp+E8h] [bp-28h]@20
  int v43; // [sp+ECh] [bp-24h]@20
  int v44; // [sp+F0h] [bp-20h]@7
  int v45; // [sp+F4h] [bp-1Ch]@7
  int v46; // [sp+F8h] [bp-18h]@7
  int v47; // [sp+FCh] [bp-14h]@7
  int i; // [sp+100h] [bp-10h]@3
  int v49; // [sp+104h] [bp-Ch]@3
  int v50; // [sp+108h] [bp-8h]@3
  int v51; // [sp+10Ch] [bp-4h]@1

  memset(&v16, -858993460, 0x104u);
  v3 = sub_4013BB(a3);
  v51 = v3;
  if ( v3 <= 60 && dword_8C76254 != 1 )
  {
    v3 = (75 - v51) / 10;
    v50 = (75 - v51) / 10;
    v49 = 0;
    for ( i = 0; ; ++i )
    {
      if ( i < 63 )
      {
        v4 = Rand()();
        v5 = v4;
        v3 = v4 / 5;
        if ( v5 % 5 )
          continue;
        v47 = dword_1FDF1F4[431 * a3];
        v46 = dword_1FDF1F8[431 * a3];
        v3 = *(&dword_1FDED80[431 * a3] + 2 * i);
        v44 = *(&dword_1FDED7C[431 * a3] + 2 * i);
        v45 = v3;
        if ( (signed __int16)v44 > 0 )
        {
          if ( (signed __int16)v44 <= 6500 )
          {
            v3 = (signed __int16)v44;
            if ( (signed __int16)v44 == 446 )
              continue;
            if ( (signed __int16)v44 == 747 || (signed __int16)v44 == 4140 )
              continue;
            v3 = (signed __int16)v44;
            if ( (signed __int16)v44 < 3310 || (signed __int16)v44 > 3437 )
            {
              if ( (signed __int16)v44 < 3900 || (v3 = (signed __int16)v44, (signed __int16)v44 > 3988) )
              {
                v3 = sub_40191F(&v44, 111);
                if ( !v3 )
                {
                  v6 = Rand()() % 4;
                  v43 = v6;
                  v3 = sub_4016EA(v47, v46, &v44, v6, 1, 0);
                  v42 = v3;
                  if ( v3 >= 6500 )
                    continue;
                  if ( v42 <= 0 )
                    continue;
                  if ( sub_401A8C(&v44, 0) )
                  {
                    sub_401B1D(&v44, &v41);
                    sub_4E3F40(a1, a2, (int)&String, "cho %s");
                    Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
                  }
                  sub_4E4640(&dword_1FDED7C[431 * a3] + 2 * i, 0, 8u);
                  sub_401960(a3, 0, i, &dword_1FDED7C[431 * a3] + 2 * i);
                  v35 = 373;
                  LOWORD(v34) = 28;
                  v36 = 1;
                  v37 = i;
                  v38 = v43;
                  v39 = v47;
                  v40 = v46;
                  sub_40132A(&v34, 28);
                  ++v49;
                  v3 = Rand()() % 2;
                  if ( v3 )
                  {
                    if ( v49 < v50 )
                      continue;
                  }
                }
              }
            }
          }
        }
      }
      break;
    }
  }
  if ( v51 <= 35 && dword_8C76254 != 1 )
  {
    v33 = (v51 + 10) / 10;
    if ( v33 <= 0 )
      v33 = 1;
    v7 = Rand()();
    v8 = v7;
    v3 = v7 / v33;
    v32 = v8 % v33;
    while ( !v32 )
    {
      v9 = Rand()();
      v10 = v9;
      v3 = v9 / 14;
      v31 = (unsigned __int64)(v10 % 14) + 1;
      if ( v31 != 12 )
      {
        v30 = dword_1FDF1F4[431 * a3];
        v29 = dword_1FDF1F8[431 * a3];
        v3 = *((_DWORD *)&byte_1FDED00[1724 * a3] + 2 * v31);
        v27 = *(&dword_1FDECFC[431 * a3] + 2 * v31);
        v28 = v3;
        if ( (signed __int16)v27 <= 0 || (signed __int16)v27 > 6500 )
          return sub_4E46A0(1, v3, v15, v13, v14);
        v3 = (signed __int16)v27;
        if ( (signed __int16)v27 != 446 )
        {
          if ( (signed __int16)v27 != 747 && (signed __int16)v27 != 4140 )
          {
            v3 = (signed __int16)v27;
            if ( (signed __int16)v27 < 3310 || (signed __int16)v27 > 3437 )
            {
              if ( (signed __int16)v27 < 3900 || (v3 = (signed __int16)v27, (signed __int16)v27 > 3988) )
              {
                v3 = sub_40191F(&v27, 111);
                if ( !v3 )
                {
                  v11 = Rand()() % 4;
                  v26 = v11;
                  v3 = sub_4016EA(v30, v29, &v27, v11, 1, 0);
                  v25 = v3;
                  if ( v3 < 6500 )
                  {
                    if ( v25 > 0 )
                    {
                      if ( sub_401A8C(&v27, 0) )
                      {
                        sub_401B1D(&v27, &v24);
                        sub_4E3F40(a1, a2, (int)&String, "cho %s");
                        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
                      }
                      sub_4E4640(&dword_1FDECFC[431 * a3] + 2 * v31, 0, 8u);
                      sub_401960(a3, 0, v31, &dword_1FDECFC[431 * a3] + 2 * v31);
                      v18 = 373;
                      LOWORD(v17) = 28;
                      v19 = 0;
                      v20 = v31;
                      v21 = v26;
                      v22 = v30;
                      v23 = v29;
                      v3 = sub_40132A(&v17, 28);
                    }
                  }
                }
              }
            }
            return sub_4E46A0(1, v3, v15, v13, v14);
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v3, v15, v13, v14);
}
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 4013BB: using guessed type _DWORD __cdecl sub_4013BB(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4016EA: using guessed type _DWORD __cdecl sub_4016EA(_DWORD, _DWORD, _DWORD, _DWORD, char, _DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401A8C: using guessed type _DWORD __cdecl sub_401A8C(_DWORD, _DWORD);
// 401B1D: using guessed type _DWORD __cdecl sub_401B1D(_DWORD, _DWORD);
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDED80: using guessed type int dword_1FDED80[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 8C76254: using guessed type int dword_8C76254;

//----- (004D39F0) --------------------------------------------------------
int __cdecl sub_4D39F0(int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  int i; // [sp+4Ch] [bp-4h]@1

  v2 = -858993460;
  memset(&v7, -858993460, 0x44u);
  for ( i = 1000; i < 12800; ++i )
  {
    if ( dword_1FDF1D4[431 * i] )
    {
      if ( a1 == dword_1FDF27C[431 * i] )
        sub_401B90(i, a2);
    }
    v2 = i + 1;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF27C: using guessed type int dword_1FDF27C[];

//----- (004D3A90) --------------------------------------------------------
int __cdecl sub_4D3A90(int a1, int a2)
{
  char v3; // [sp+Ch] [bp-48h]@1
  bool v4; // [sp+4Ch] [bp-8h]@13
  bool v5; // [sp+50h] [bp-4h]@8

  memset(&v3, -858993460, 0x48u);
  if ( dword_8C764A0 )
  {
    v5 = dword_1FDF1F4[431 * a1] >> 7 != 9 || dword_1FDF1F8[431 * a1] >> 7 != 1;
    if ( v5 )
    {
      v4 = dword_1FDF1F4[431 * a1] >> 7 != 17 || dword_1FDF1F8[431 * a1] >> 7 != 28;
      if ( v4 && dword_8C762C0 > 0 && dword_8C762C0 <= 200 )
        a2 = (dword_8C762C0 + 100) * a2 / 100;
    }
  }
  else
  {
    if ( dword_8C762C0 > 0 && dword_8C762C0 <= 200 )
      a2 = a2 * (dword_8C762C0 + 100) / 100;
  }
  return a2;
}
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 8C762C0: using guessed type int dword_8C762C0;
// 8C764A0: using guessed type int dword_8C764A0;

//----- (004D3BF0) --------------------------------------------------------
int __cdecl sub_4D3BF0(int a1, int a2, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-54h]@0
  int v6; // [sp+4h] [bp-50h]@0
  int v7; // [sp+8h] [bp-4Ch]@0
  char v8; // [sp+Ch] [bp-48h]@1
  int v9; // [sp+4Ch] [bp-8h]@5
  int i; // [sp+50h] [bp-4h]@1

  v3 = -858993460;
  memset(&v8, -858993460, 0x48u);
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22 )
    {
      v9 = dword_1FDF1D8[431 * i];
      if ( !v9 )
        v9 = i;
      if ( v9 == a1 )
        sub_401A19(i, a2, a3, 0);
    }
    v3 = i + 1;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004D3DF0) --------------------------------------------------------
signed int __cdecl sub_4D3DF0(int a1, int a2, int a3, int a4, int a5, int a6)
{
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  if ( a6 )
  {
    if ( dword_1FDF1E4[431 * a1] >= a2
      && dword_1FDF1E4[431 * a1] <= a4
      && dword_1FDF1E8[431 * a1] >= a3
      && dword_1FDF1E8[431 * a1] <= a5 )
      return 1;
  }
  else
  {
    if ( dword_1FDF1F4[431 * a1] >= a2
      && dword_1FDF1F4[431 * a1] <= a4
      && dword_1FDF1F8[431 * a1] >= a3
      && dword_1FDF1F8[431 * a1] <= a5 )
      return 1;
  }
  return 0;
}
// 1FDF1E4: using guessed type int dword_1FDF1E4[];
// 1FDF1E8: using guessed type int dword_1FDF1E8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];

//----- (004D3F00) --------------------------------------------------------
int __cdecl sub_4D3F00(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-58h]@0
  int v4; // [sp+4h] [bp-54h]@0
  int v5; // [sp+8h] [bp-50h]@0
  char v6; // [sp+Ch] [bp-4Ch]@1
  int v7; // [sp+4Ch] [bp-Ch]@11
  int v8; // [sp+50h] [bp-8h]@5
  int v9; // [sp+54h] [bp-4h]@1

  memset(&v6, -858993460, 0x4Cu);
  v1 = 1724 * a1;
  v9 = word_1FDED64[862 * a1];
  if ( v9 && (v9 == 786 || v9 == 1936 || v9 == 1937) )
  {
    v8 = sub_4014E2(&word_1FDED64[862 * a1]);
    if ( v8 < 2 )
      v8 = 2;
    if ( v9 == 1936 )
      v8 *= 10;
    if ( v9 == 1937 )
      v8 *= 1000;
    v7 = (unsigned __int16)word_1FDECD0[862 * a1] * v8;
    if ( (unsigned int)v7 > 0x77359400 )
      v7 = 2000000000;
    v1 = v7;
    dword_1FDF2E8[431 * a1] = v7;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 1FDECD0: using guessed type __int16 word_1FDECD0[];
// 1FDED64: using guessed type __int16 word_1FDED64[];
// 1FDF2E8: using guessed type int dword_1FDF2E8[];

//----- (004D4030) --------------------------------------------------------
int __cdecl sub_4D4030(int a1, int a2)
{
  char v3; // [sp+0h] [bp-5Ch]@0
  int v4; // [sp+4h] [bp-58h]@0
  int v5; // [sp+8h] [bp-54h]@0
  char v6; // [sp+Ch] [bp-50h]@1
  int v7; // [sp+4Ch] [bp-10h]@12
  int v8; // [sp+50h] [bp-Ch]@4
  int v9; // [sp+54h] [bp-8h]@1
  int v10; // [sp+58h] [bp-4h]@1

  memset(&v6, -858993460, 0x50u);
  v10 = word_1FDED64[862 * a1];
  v9 = (unsigned __int16)word_1FDECEC[862 * a1];
  if ( v10 != 786 && v10 != 1936 && v10 != 1937 )
  {
    v9 -= a2;
    if ( v9 >= 64000 )
      v9 = 64000;
  }
  else
  {
    v8 = sub_4014E2(&word_1FDED64[862 * a1]);
    if ( v8 < 2 )
      v8 = 2;
    if ( v10 == 1936 )
      v8 *= 10;
    if ( v10 == 1937 )
      v8 *= 1000;
    dword_1FDF2E8[431 * a1] -= a2;
    if ( dword_1FDF2E8[431 * a1] < 0 )
      dword_1FDF2E8[431 * a1] = 0;
    v7 = dword_1FDF2E8[431 * a1] / v8;
    v9 = v7;
  }
  if ( v9 < 0 )
    v9 = 0;
  word_1FDECEC[862 * a1] = v9;
  return sub_4E46A0(1, 1724 * a1, v5, v3, v4);
}
// 4014E2: using guessed type _DWORD __cdecl sub_4014E2(_DWORD);
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDED64: using guessed type __int16 word_1FDED64[];
// 1FDF2E8: using guessed type int dword_1FDF2E8[];

//----- (004D41F0) --------------------------------------------------------
int __cdecl sub_4D41F0()
{
  int v0; // eax@20
  char v2; // [sp+0h] [bp-64h]@0
  int v3; // [sp+4h] [bp-60h]@0
  int v4; // [sp+8h] [bp-5Ch]@0
  char v5; // [sp+Ch] [bp-58h]@1
  int v6; // [sp+4Ch] [bp-18h]@12
  int v7; // [sp+50h] [bp-14h]@11
  int v8; // [sp+54h] [bp-10h]@8
  int v9; // [sp+58h] [bp-Ch]@8
  int v10; // [sp+5Ch] [bp-8h]@4
  int i; // [sp+60h] [bp-4h]@1

  memset(&v5, -858993460, 0x58u);
  for ( i = 0; i < 3; ++i )
  {
    v10 = dword_5A0B18[4 * (i + 2)];
    if ( v10 )
    {
      if ( !dword_5A0B1C[4 * (i + 2)] )
        sub_401A1E(v10);
    }
  }
  v9 = 0;
  v8 = 0;
  for ( i = 0; i < 3; ++i )
  {
    v7 = dword_5A0B18[4 * (i + 11)];
    if ( v7 )
    {
      v6 = dword_5A0B1C[4 * (i + 11)];
      if ( v9 < v6 )
      {
        v9 = v6;
        v8 = v7;
      }
    }
  }
  if ( v8 )
    sub_401A1E(v8);
  for ( i = 0; i < 21; ++i )
  {
    dword_5A0B18[4 * i] = 0;
    dword_5A0B1C[4 * i] = 0;
  }
  v0 = sub_401C6C(3328, 896, 3968, 1664);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 401A1E: using guessed type _DWORD __cdecl sub_401A1E(_DWORD);
// 401C6C: using guessed type _DWORD __cdecl sub_401C6C(_DWORD, _DWORD, _DWORD, _DWORD);
// 5A0B18: using guessed type int dword_5A0B18[];
// 5A0B1C: using guessed type int dword_5A0B1C[];

//----- (004D4390) --------------------------------------------------------
int __cdecl sub_4D4390()
{
  int v0; // eax@12
  char v2; // [sp+0h] [bp-64h]@0
  int v3; // [sp+4h] [bp-60h]@0
  int v4; // [sp+8h] [bp-5Ch]@0
  char v5; // [sp+Ch] [bp-58h]@1
  int v6; // [sp+4Ch] [bp-18h]@20
  int v7; // [sp+50h] [bp-14h]@17
  int v8; // [sp+54h] [bp-10h]@5
  int v9; // [sp+58h] [bp-Ch]@4
  int i; // [sp+5Ch] [bp-8h]@1
  int j; // [sp+60h] [bp-4h]@6

  memset(&v5, -858993460, 0x58u);
  sub_401C30(5662, 0, 0);
  sub_401C30(5663, 0, 0);
  for ( i = 0; i < 3; ++i )
  {
    v9 = dword_5A0B18[4 * (i + 2)];
    if ( v9 )
    {
      sub_401C30(i + 5715, 0, 0);
      v8 = dword_74F8678[i];
      dword_1FDF1D8[431 * v8] = v9;
      dword_1FDF300[431 * v8] = dword_1FDF1D8[431 * v9];
      byte_1FDECB0[1724 * v8] = 3;
    }
  }
  sub_401C30(5985, 0, 0);
  sub_401C30(5986, 0, 0);
  sub_401C30(5987, 0, 0);
  sub_401C30(5988, 0, 0);
  sub_401C30(5908, 0, 0);
  for ( j = 0; j < 34; ++j )
    dword_74F9268[j] = 0;
  for ( j = 5863; j <= 5907; ++j )
    sub_401C30(j, 0, 0);
  dword_8C76178 = Rand()() % 40 + 5863;
  v0 = sub_401C30(5775, 0, 0);
  for ( j = 0; j < 1000; ++j )
  {
    v0 = 3160 * j;
    if ( dword_752BAF0[790 * j] == 22 )
    {
      if ( dword_1FDF1D4[431 * j] )
      {
        v0 = dword_1FDF314[431 * j];
        v7 = dword_1FDF314[431 * j];
        if ( v7 == 19 || v7 == 20 || v7 == 21 )
        {
          v6 = v7 - 19;
          v0 = sub_4015FF(j, 30000, 975, dword_1FDEC88[2 * (v7 - 19)]);
        }
      }
    }
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 5A0B18: using guessed type int dword_5A0B18[];
// 1FDEC88: using guessed type int dword_1FDEC88[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF300: using guessed type int dword_1FDF300[];
// 1FDF314: using guessed type int dword_1FDF314[];
// 74F8678: using guessed type int dword_74F8678[];
// 74F9268: using guessed type int dword_74F9268[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 8C76178: using guessed type int dword_8C76178;

//----- (004D4680) --------------------------------------------------------
int __cdecl sub_4D4680()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_401C30(5798, 0, 0);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);

//----- (004D46D0) --------------------------------------------------------
int __cdecl sub_4D46D0()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-60h]@0
  int v3; // [sp+4h] [bp-5Ch]@0
  int v4; // [sp+8h] [bp-58h]@0
  char v5; // [sp+Ch] [bp-54h]@1
  int v6; // [sp+4Ch] [bp-14h]@13
  int v7; // [sp+50h] [bp-10h]@10
  int j; // [sp+54h] [bp-Ch]@5
  int v9; // [sp+58h] [bp-8h]@4
  int i; // [sp+5Ch] [bp-4h]@1

  v0 = -858993460;
  memset(&v5, -858993460, 0x54u);
  for ( i = 0; i < 21; ++i )
  {
    v9 = dword_5A0B18[4 * i];
    if ( v9 )
    {
      for ( j = 0; j < 1000; ++j )
      {
        if ( dword_752BAF0[790 * j] == 22 && dword_1FDF1D4[431 * j] )
        {
          v7 = dword_1FDF1D8[431 * j];
          if ( !v7 )
            v7 = j;
          if ( v9 == v7 )
          {
            v6 = sub_401BC2(j, 3275, 1673, 3318, 1712, 0);
            if ( v6 )
            {
              sub_401A19(j, dword_5A0B10[4 * i], dword_5A0B14[4 * i], 0);
              dword_1FDF314[431 * j] = dword_1FDF314[431 * v9];
            }
            else
            {
              sub_4013CF(j, 0);
            }
          }
        }
      }
    }
    v0 = i + 1;
  }
  dword_1FDEC84[0] = 0;
  dword_1FDEC8C = 0;
  dword_1FDEC94 = 0;
  dword_1FDEC88[0] = 100;
  dword_1FDEC90 = 100;
  dword_1FDEC98 = 100;
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4013CF: using guessed type _DWORD __cdecl sub_4013CF(_DWORD, _DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 401BC2: using guessed type _DWORD __cdecl sub_401BC2(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 5A0B10: using guessed type int dword_5A0B10[];
// 5A0B14: using guessed type int dword_5A0B14[];
// 5A0B18: using guessed type int dword_5A0B18[];
// 1FDEC84: using guessed type int dword_1FDEC84[];
// 1FDEC88: using guessed type int dword_1FDEC88[];
// 1FDEC8C: using guessed type int dword_1FDEC8C;
// 1FDEC90: using guessed type int dword_1FDEC90;
// 1FDEC94: using guessed type int dword_1FDEC94;
// 1FDEC98: using guessed type int dword_1FDEC98;
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF314: using guessed type int dword_1FDF314[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004D48D0) --------------------------------------------------------
int __cdecl sub_4D48D0(int a1, int a2)
{
  int v2; // eax@17
  char v4; // [sp+0h] [bp-8Ch]@0
  int v5; // [sp+4h] [bp-88h]@0
  int v6; // [sp+8h] [bp-84h]@0
  char v7; // [sp+Ch] [bp-80h]@1
  int v8; // [sp+4Ch] [bp-40h]@63
  int v9; // [sp+50h] [bp-3Ch]@63
  int v10; // [sp+54h] [bp-38h]@63
  int v11; // [sp+58h] [bp-34h]@57
  int v12; // [sp+5Ch] [bp-30h]@47
  int v13; // [sp+60h] [bp-2Ch]@35
  int v14; // [sp+64h] [bp-28h]@33
  int v15; // [sp+68h] [bp-24h]@30
  int v16; // [sp+6Ch] [bp-20h]@27
  int v17; // [sp+70h] [bp-1Ch]@18
  int v18; // [sp+74h] [bp-18h]@16
  int v19; // [sp+78h] [bp-14h]@3
  int v20; // [sp+7Ch] [bp-10h]@3
  int v21; // [sp+80h] [bp-Ch]@1
  int v22; // [sp+84h] [bp-8h]@1
  int v23; // [sp+88h] [bp-4h]@1

  memset(&v7, -858993460, 0x80u);
  v23 = dword_1FDF1F4[431 * a2];
  v22 = dword_1FDF1F8[431 * a2];
  v21 = dword_1FDF27C[431 * a2];
  if ( v21 == 5662 || v21 == 5663 )
  {
    v20 = Rand()() % 8;
    v19 = dword_1FDF314[431 * a1];
    if ( v19 != 1 || v21 == 5662 )
    {
      if ( v19 == 2 && v21 != 5663 )
        v20 = 7;
    }
    else
    {
      v20 = 7;
    }
    if ( v20 )
    {
      sub_401857(v21, 3);
      sub_401C30(v21, 0, 0);
    }
    else
    {
      sub_401A1E(a1);
      sub_401857(5662, 1);
      sub_401857(5663, 1);
    }
    goto LABEL_68;
  }
  if ( v21 == 5715 || v21 == 5716 || v21 == 5717 )
  {
    v18 = dword_BDEAAC[748 * v21];
    if ( v18 > 1 )
    {
      v2 = 1;
      return sub_4E46A0(1, v2, v6, v4, v5);
    }
    v17 = v21 - 5715;
    dword_5A0B1C[4 * (v21 - 5715 + 2)] = 1;
LABEL_68:
    v2 = 1;
    return sub_4E46A0(1, v2, v6, v4, v5);
  }
  if ( v21 == 5798 )
  {
    sub_401A1E(a1);
    goto LABEL_68;
  }
  if ( v21 == 5908 )
  {
    sub_401A1E(a1);
    goto LABEL_68;
  }
  if ( v21 >= 5981 && v21 <= 5984 )
  {
    if ( dword_74F8674 )
    {
      v2 = 1;
      return sub_4E46A0(1, v2, v6, v4, v5);
    }
    v16 = Rand()() % 8;
    sub_401C30(v16 + 5957, 0, 0);
    goto LABEL_68;
  }
  if ( v21 >= 5957 && v21 <= 5964 )
  {
    v15 = dword_1FDF314[431 * a1] - 1;
    ++dword_5A0B1C[4 * v15];
    goto LABEL_68;
  }
  if ( v21 < 5863 || v21 > 5903 )
  {
    if ( v21 == 5858 )
    {
      sub_401A1E(a1);
      goto LABEL_68;
    }
    if ( v21 >= 5784 && v21 <= 5797 )
    {
      v12 = dword_1FDF314[431 * a1] - 19;
      ++dword_1FDEC84[2 * v12];
      if ( dword_1FDEC84[2 * v12] > dword_1FDEC88[2 * v12] )
        dword_1FDEC84[2 * v12] = dword_1FDEC88[2 * v12];
      if ( dword_1FDEC84[2 * v12] != dword_1FDEC88[2 * v12] )
        goto LABEL_68;
      if ( !dword_1FDEC88[0] || !dword_1FDEC90 || !dword_1FDEC98 )
      {
        v2 = 1;
        return sub_4E46A0(1, v2, v6, v4, v5);
      }
      sub_401C30(5776, 0, 0);
      goto LABEL_68;
    }
    if ( v21 != 5776 )
      goto LABEL_68;
    v11 = dword_BDEAAC[4320448];
    if ( v11 <= 1 )
    {
      if ( dword_1FDEC88[0] && dword_1FDEC90 && dword_1FDEC98 )
      {
        sub_401A1E(a1);
        v10 = dword_1FDF314[431 * a1] - 19;
        v9 = dword_1FDEC88[2 * v10];
        v9 += dword_1FDEC94 + dword_1FDEC8C + dword_1FDEC84[0];
        v9 = 2 * v9 / 3;
        v9 *= 1000000;
        v8 = dword_1FDF1D8[431 * a1];
        if ( !v8 )
          v8 = a1;
        dword_1FDECB8[431 * v8] += v9;
        if ( dword_1FDECB8[431 * v8] > 2000000000 )
          dword_1FDECB8[431 * v8] = 2000000000;
        SendEtc(v8);
        dword_1FDEC88[0] = 0;
        dword_1FDEC90 = 0;
        dword_1FDEC98 = 0;
        goto LABEL_68;
      }
      v2 = 1;
    }
    else
    {
      v2 = 1;
    }
  }
  else
  {
    v14 = dword_BDEAAC[748 * v21];
    if ( v14 <= 1 )
    {
      v13 = dword_1FDF1D8[431 * a1];
      if ( dword_8C76178 == v21 )
      {
        sub_401A5A(v13, 3351, 1335);
        sub_401C30(5858, 0, 0);
      }
      else
      {
        if ( !(Rand()() % 20) )
        {
          sub_401A5A(v13, 3351, 1335);
          sub_401C30(5858, 0, 0);
        }
      }
      dword_8C76174 = dword_8C76174 != 1;
      goto LABEL_68;
    }
    v2 = 1;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401500: using guessed type _DWORD __cdecl SendEtc(_DWORD);
// 401857: using guessed type _DWORD __cdecl sub_401857(_DWORD, _DWORD);
// 401A1E: using guessed type _DWORD __cdecl sub_401A1E(_DWORD);
// 401A5A: using guessed type _DWORD __cdecl sub_401A5A(_DWORD, _DWORD, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 5A0B1C: using guessed type int dword_5A0B1C[];
// BDEAAC: using guessed type int dword_BDEAAC[];
// 1FDEC84: using guessed type int dword_1FDEC84[];
// 1FDEC88: using guessed type int dword_1FDEC88[];
// 1FDEC8C: using guessed type int dword_1FDEC8C;
// 1FDEC90: using guessed type int dword_1FDEC90;
// 1FDEC94: using guessed type int dword_1FDEC94;
// 1FDEC98: using guessed type int dword_1FDEC98;
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 1FDF314: using guessed type int dword_1FDF314[];
// 74F8674: using guessed type int dword_74F8674;
// 8C76174: using guessed type int dword_8C76174;
// 8C76178: using guessed type int dword_8C76178;

//----- (004D4F80) --------------------------------------------------------
int __cdecl sub_4D4F80()
{
  int v0; // eax@33
  char v2; // [sp+0h] [bp-ACh]@0
  int v3; // [sp+4h] [bp-A8h]@0
  int v4; // [sp+8h] [bp-A4h]@0
  char v5; // [sp+Ch] [bp-A0h]@1
  int v6; // [sp+4Ch] [bp-60h]@122
  int v7; // [sp+50h] [bp-5Ch]@107
  int v8; // [sp+54h] [bp-58h]@88
  int l; // [sp+58h] [bp-54h]@84
  int v10; // [sp+5Ch] [bp-50h]@83
  int v11; // [sp+60h] [bp-4Ch]@71
  int v12; // [sp+64h] [bp-48h]@61
  int v13; // [sp+68h] [bp-44h]@54
  int v14; // [sp+6Ch] [bp-40h]@48
  int v15; // [sp+70h] [bp-3Ch]@43
  int v16; // [sp+74h] [bp-38h]@41
  int v17; // [sp+78h] [bp-34h]@40
  int k; // [sp+7Ch] [bp-30h]@38
  int v19; // [sp+80h] [bp-2Ch]@37
  int v20; // [sp+84h] [bp-28h]@37
  int v21; // [sp+88h] [bp-24h]@31
  int v22; // [sp+8Ch] [bp-20h]@30
  int v23; // [sp+90h] [bp-1Ch]@23
  int v24; // [sp+94h] [bp-18h]@15
  int v25; // [sp+98h] [bp-14h]@15
  int v26; // [sp+9Ch] [bp-10h]@11
  int v27; // [sp+A0h] [bp-Ch]@9
  int j; // [sp+A4h] [bp-8h]@34
  int i; // [sp+A8h] [bp-4h]@1

  memset(&v5, -858993460, 0xA0u);
  for ( i = 5718; i <= 5774; ++i )
    sub_401C30(i, 0, 0);
  for ( i = 1000; i < 12800; ++i )
  {
    if ( dword_1FDF1D4[431 * i] )
    {
      if ( (signed int)(unsigned __int16)word_1FDECEC[862 * i] > 0 )
      {
        v27 = dword_1FDF27C[431 * i];
        if ( v27 >= 5799 )
        {
          if ( v27 <= 5857 )
          {
            v26 = sub_401BC2(i, 3382, 1426, 3394, 1466, 0);
            if ( v26 == 1 )
            {
              if ( dword_74F8670 && dword_74F8670 != i )
              {
                sub_401B90(i, 3);
                v25 = dword_74F8670;
                v24 = dword_1FDF2E8[431 * dword_74F8670] + 2000;
                if ( (unsigned int)v24 > 0x138800 )
                  v24 = 1280000;
                dword_1FDF2E8[431 * v25] = v24;
              }
            }
          }
        }
      }
    }
  }
  for ( i = 5799; i <= 5857; ++i )
    sub_401C30(i, 0, 0);
  if ( dword_74F8670 )
  {
    v23 = sub_401BC2(dword_74F8670, 3384, 1428, 3392, 1464, 1);
    if ( !v23 )
      sub_401A19(dword_74F8670, 3389, 1437, 0);
    for ( i = 1; i < 1000; ++i )
    {
      if ( dword_752BAF0[790 * i] == 22 )
      {
        if ( dword_1FDF1D8[431 * i] )
        {
          v22 = sub_401BC2(i, 3382, 1426, 3394, 1466, 0);
          if ( v22 == 1 )
          {
            v21 = dword_1FDF314[431 * i] - 1;
            sub_401A19(i, dword_5A0B10[4 * v21], dword_5A0B14[4 * v21], 0);
          }
        }
      }
    }
  }
  v0 = dword_8C7632C / 0xFu;
  if ( !(dword_8C7632C % 0xFu) )
  {
    for ( j = 0; j < 3; ++j )
    {
      v0 = j + 8;
      v20 = j + 8;
      v19 = dword_5A0B18[4 * (j + 8)];
      if ( v19 )
      {
        for ( k = 0; k < 10; ++k )
        {
          v0 = sub_401BC2(v19, dword_5A0A70[4 * k], dword_5A0A74[4 * k], dword_5A0A78[4 * k], dword_5A0A7C[4 * k], 1);
          v17 = v0;
          if ( v0 == 1 )
          {
            v16 = -1;
            for ( i = 0; i < 64; ++i )
            {
              v0 = i;
              v15 = *((_WORD *)&dword_1FDED7C[431 * v19] + 4 * i);
              if ( v15 == 4032 )
                v16 = i;
            }
            if ( v16 == -1 )
              return sub_4E46A0(1, v0, v4, v2, v3);
            sub_4E4640(&dword_1FDED7C[431 * v19] + 2 * v16, 0, 8u);
            sub_401960(v19, 1, v16, &dword_1FDED7C[431 * v19] + 2 * v16);
            if ( k )
            {
              if ( k != 1 && k != 2 )
              {
                if ( k != 3 && k != 4 && k != 5 )
                {
                  if ( k == 6 || k == 7 || k == 8 || !k )
                  {
                    v11 = Rand()() % 10;
                    if ( v11 )
                    {
                      if ( v11 == 3 )
                      {
                        sub_401A5A(v19, 3428, 1208);
                      }
                      else
                      {
                        if ( v11 == 8 )
                          sub_401A5A(v19, 3388, 1175);
                        else
                          sub_401A5A(v19, 3390, 1250);
                      }
                    }
                    else
                    {
                      sub_401A5A(v19, 3396, 1216);
                    }
                  }
                }
                else
                {
                  v12 = Rand()() % 7;
                  if ( v12 )
                  {
                    if ( v12 == 6 )
                      sub_401A5A(v19, 3428, 1208);
                    else
                      sub_401A5A(v19, 3356, 1209);
                  }
                  else
                  {
                    sub_401A5A(v19, 3390, 1250);
                  }
                }
              }
              else
              {
                v13 = Rand()() % 4;
                if ( v13 )
                  sub_401A5A(v19, 3388, 1175);
                else
                  sub_401A5A(v19, 3356, 1209);
              }
            }
            else
            {
              v14 = Rand()() % 2;
              if ( v14 )
                sub_401A5A(v19, 3388, 1175);
              else
                sub_401A5A(v19, 3428, 1208);
            }
          }
          v0 = k + 1;
        }
      }
    }
  }
  for ( j = 0; j < 4; ++j )
  {
    v10 = dword_5A0B18[4 * (j + 14)];
    if ( v10 )
    {
      for ( l = 0; l < 34; ++l )
      {
        if ( dword_74F9268[l] == v10 )
          dword_74F9268[l] = 0;
        v8 = sub_401BC2(v10, dword_5A0C60[4 * l], dword_5A0C64[4 * l], dword_5A0C68[4 * l], dword_5A0C6C[4 * l], 1);
        if ( v8 == 1 )
          dword_74F9268[l] = v10;
      }
    }
    v0 = j + 1;
  }
  if ( !dword_8C76174 )
  {
    for ( i = 0; i < 34; ++i )
    {
      if ( !dword_74F9268[i] && !(dword_8C7632C % 3u) )
      {
        SendDamage(dword_5A0C60[4 * i], dword_5A0C64[4 * i], dword_5A0C68[4 * i], dword_5A0C6C[4 * i]);
        SendEnvEffect(dword_5A0C60[4 * i], dword_5A0C64[4 * i], dword_5A0C68[4 * i], dword_5A0C6C[4 * i], 32, 0);
      }
      v0 = i + 1;
    }
  }
  for ( i = 5777; i <= 5783; ++i )
  {
    sub_401C30(i, 0, 0);
    v0 = i + 1;
  }
  for ( i = 1000; i < 12800; ++i )
  {
    v0 = 1724 * i;
    if ( dword_1FDF1D4[431 * i] )
    {
      v7 = dword_1FDF27C[431 * i];
      if ( v7 >= 5777 )
      {
        if ( v7 <= 5783 )
        {
          v0 = 1724 * i;
          if ( dword_1FDF1F4[431 * i] >= 3422 )
          {
            sub_401B90(i, 3);
            --dword_1FDEC84[0];
            if ( dword_1FDEC84[0] < 0 )
              dword_1FDEC84[0] = 0;
            v0 = dword_1FDEC8C-- - 1;
            if ( dword_1FDEC8C < 0 )
              dword_1FDEC8C = 0;
            --dword_1FDEC94;
            if ( dword_1FDEC94 < 0 )
              dword_1FDEC94 = 0;
          }
        }
      }
    }
  }
  for ( i = 0; i < 1000; ++i )
  {
    v0 = 3160 * i;
    if ( dword_752BAF0[790 * i] == 22 )
    {
      if ( dword_1FDF1D4[431 * i] )
      {
        v0 = dword_1FDF314[431 * i];
        v6 = dword_1FDF314[431 * i];
        if ( v6 == 19 || v6 == 20 || v6 == 21 )
        {
          v6 -= 19;
          v0 = sub_4015FF(i, 30000, 976, dword_1FDEC84[2 * v6]);
        }
      }
    }
  }
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// SendDamage: using guessed type _DWORD __cdecl SendDamage(_DWORD, _DWORD, _DWORD, _DWORD);
// 4015FF: using guessed type _DWORD __cdecl sub_4015FF(_DWORD, __int16, __int16, _DWORD);
// 4018E8: using guessed type _DWORD __cdecl SendEnvEffect(_DWORD, _DWORD, _DWORD, _DWORD, __int16, __int16);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 401A5A: using guessed type _DWORD __cdecl sub_401A5A(_DWORD, _DWORD, _DWORD);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 401BC2: using guessed type _DWORD __cdecl sub_401BC2(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 5A0A70: using guessed type int dword_5A0A70[];
// 5A0A74: using guessed type int dword_5A0A74[];
// 5A0A78: using guessed type int dword_5A0A78[];
// 5A0A7C: using guessed type int dword_5A0A7C[];
// 5A0B10: using guessed type int dword_5A0B10[];
// 5A0B14: using guessed type int dword_5A0B14[];
// 5A0B18: using guessed type int dword_5A0B18[];
// 5A0C60: using guessed type int dword_5A0C60[];
// 5A0C64: using guessed type int dword_5A0C64[];
// 5A0C68: using guessed type int dword_5A0C68[];
// 5A0C6C: using guessed type int dword_5A0C6C[];
// 1FDEC84: using guessed type int dword_1FDEC84[];
// 1FDEC8C: using guessed type int dword_1FDEC8C;
// 1FDEC94: using guessed type int dword_1FDEC94;
// 1FDECEC: using guessed type __int16 word_1FDECEC[];
// 1FDED7C: using guessed type int dword_1FDED7C[];
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 1FDF2E8: using guessed type int dword_1FDF2E8[];
// 1FDF314: using guessed type int dword_1FDF314[];
// 74F8670: using guessed type int dword_74F8670;
// 74F9268: using guessed type int dword_74F9268[];
// 752BAF0: using guessed type int dword_752BAF0[];
// 8C76174: using guessed type int dword_8C76174;
// 8C7632C: using guessed type int dword_8C7632C;

//----- (004D5AD0) --------------------------------------------------------
int __cdecl sub_4D5AD0(int a1, int a2, int a3, int a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-64h]@0
  int v7; // [sp+4h] [bp-60h]@0
  int v8; // [sp+8h] [bp-5Ch]@0
  char v9; // [sp+Ch] [bp-58h]@1
  int v10; // [sp+4Ch] [bp-18h]@18
  int v11; // [sp+50h] [bp-14h]@18
  int v12; // [sp+54h] [bp-10h]@18
  int v13; // [sp+58h] [bp-Ch]@18
  int v14; // [sp+5Ch] [bp-8h]@5
  int i; // [sp+60h] [bp-4h]@1

  v4 = -858993460;
  memset(&v9, -858993460, 0x58u);
  for ( i = 1000; i < 12800; ++i )
  {
    if ( dword_1FDF1D4[431 * i] )
    {
      v14 = dword_1FDF27C[431 * i];
      if ( v14 >= 5662 )
      {
        if ( v14 <= 5988 )
          sub_401B90(i, 3);
      }
    }
    v4 = i + 1;
  }
  for ( i = 0; i < 1000; ++i )
  {
    v4 = 3160 * i;
    if ( dword_752BAF0[790 * i] == 22 )
    {
      if ( dword_1FDF1D4[431 * i] )
      {
        dword_1FDF314[431 * i] = 0;
        v4 = 1724 * i;
        if ( dword_1FDF1F4[431 * i] > a1 )
        {
          v4 = dword_1FDF1F8[431 * i];
          if ( v4 > a2 )
          {
            if ( dword_1FDF1F4[431 * i] < a3 )
            {
              v4 = 1724 * i;
              if ( dword_1FDF1F8[431 * i] < a4 )
              {
                v13 = i % 5;
                v12 = i % 5;
                v11 = 0;
                v10 = 0;
                if ( i % 2 )
                {
                  v11 = 3297;
                  v10 = 1685;
                }
                else
                {
                  v11 = 3297;
                  v10 = 1700;
                }
                v11 += v13;
                v10 += v12;
                v4 = sub_401A19(i, v11, v10, 0);
              }
            }
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 1FDF314: using guessed type int dword_1FDF314[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004D5D20) --------------------------------------------------------
int __cdecl sub_4D5D20(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-6Ch]@0
  int v4; // [sp+4h] [bp-68h]@0
  int v5; // [sp+8h] [bp-64h]@0
  char v6; // [sp+Ch] [bp-60h]@1
  int v7; // [sp+4Ch] [bp-20h]@41
  __int16 v8; // [sp+50h] [bp-1Ch]@39
  char v9; // [sp+52h] [bp-1Ah]@39
  char v10; // [sp+53h] [bp-19h]@39
  int v11; // [sp+58h] [bp-14h]@14
  int v12; // [sp+5Ch] [bp-10h]@10
  int v13; // [sp+60h] [bp-Ch]@8
  int i; // [sp+64h] [bp-8h]@3
  int v15; // [sp+68h] [bp-4h]@1

  memset(&v6, -858993460, 0x60u);
  v1 = 1724 * a1;
  v15 = dword_1FDF1D8[431 * a1];
  if ( !v15 )
    v15 = a1;
  for ( i = 0; i < 1000; ++i )
  {
    if ( dword_752BAF0[790 * i] == 22 && dword_1FDF1D4[431 * i] )
    {
      v13 = dword_1FDF1D8[431 * i];
      if ( !v13 )
        v13 = i;
      v12 = dword_1FDF314[431 * v15] - 1;
      if ( v12 >= 0 && v12 <= 21 )
      {
        if ( v15 == i )
        {
          v11 = 0;
          if ( v12 && v12 != 1 )
          {
            if ( v12 != 2 && v12 != 3 && v12 != 4 )
            {
              if ( v12 != 5 && v12 != 6 && v12 != 7 )
              {
                if ( v12 != 11 && v12 != 12 && v12 != 13 )
                {
                  if ( v12 != 14 && v12 != 15 && v12 != 16 && v12 != 17 )
                  {
                    if ( v12 == 8 || v12 == 9 || v12 == 10 )
                      v11 = 6;
                  }
                  else
                  {
                    v11 = 5;
                  }
                }
                else
                {
                  v11 = 4;
                }
              }
              else
              {
                v11 = 3;
              }
            }
            else
            {
              v11 = 2;
            }
          }
          else
          {
            v11 = 1;
          }
          if ( v11 )
          {
            sub_4E4640(&v8, 0, 8u);
            v8 = 5134;
            v9 = 43;
            v10 = v11;
            sub_40115E(i, 0, &v8);
          }
        }
        if ( v15 == v13 )
        {
          v7 = v12 + Rand()() % 4;
          if ( v7 >= 24 )
            v7 = Rand()() % 4;
          sub_40115E(i, v7 + 5110, 0);
        }
      }
    }
    v1 = i + 1;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 40115E: using guessed type _DWORD __cdecl sub_40115E(_DWORD, _DWORD, _DWORD);
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF314: using guessed type int dword_1FDF314[];
// 752BAF0: using guessed type int dword_752BAF0[];

//----- (004D5FC0) --------------------------------------------------------
int __cdecl sub_4D5FC0(signed int a1)
{
  int v1; // eax@2
  char v3; // [sp+0h] [bp-58h]@0
  int v4; // [sp+4h] [bp-54h]@0
  int v5; // [sp+8h] [bp-50h]@0
  char v6; // [sp+Ch] [bp-4Ch]@1
  int v7; // [sp+4Ch] [bp-Ch]@23
  int v8; // [sp+50h] [bp-8h]@4
  int v9; // [sp+54h] [bp-4h]@1

  memset(&v6, -858993460, 0x4Cu);
  v9 = 0;
  if ( a1 <= 1000 )
  {
    if ( dword_752C4BC[790 * a1] )
    {
      v8 = (unsigned __int8)byte_1FDECB4[1724 * a1];
      if ( v8 )
      {
        switch ( v8 )
        {
          case 1:
            if ( (unsigned int)&unk_800000 & dword_1FDEF7C[431 * a1] )
              v9 = 100;
            else
              v9 = 200;
            break;
          case 2:
            v9 = 200;
            break;
          case 3:
            v9 = 100;
            break;
        }
      }
      else
      {
        if ( dword_1FDEF7C[431 * a1] & 0x8000 )
          v9 = 100;
        else
          v9 = 200;
      }
    }
    if ( sub_401640(&byte_1FDECA0[1724 * a1]) == 2 )
    {
      if ( byte_1FDF1CC[1724 * a1] || dword_1FDF1D0[431 * a1] )
      {
        v7 = (unsigned __int8)byte_1FDECB4[1724 * a1];
        if ( v7 )
        {
          switch ( v7 )
          {
            case 1:
              v9 += 300;
              break;
            case 2:
              v9 += 300;
              break;
            case 3:
              v9 += 200;
              break;
          }
        }
        else
        {
          v9 += 200;
        }
        v1 = v9;
      }
      else
      {
        v1 = v9;
      }
    }
    else
    {
      v1 = v9;
    }
  }
  else
  {
    v1 = 0;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDF1D0: using guessed type int dword_1FDF1D0[];
// 752C4BC: using guessed type int dword_752C4BC[];

//----- (004D61F0) --------------------------------------------------------
int __cdecl sub_4D61F0(signed int a1)
{
  int v1; // eax@2
  char v3; // [sp+0h] [bp-54h]@0
  int v4; // [sp+4h] [bp-50h]@0
  int v5; // [sp+8h] [bp-4Ch]@0
  char v6; // [sp+Ch] [bp-48h]@1
  int v7; // [sp+4Ch] [bp-8h]@10
  int v8; // [sp+50h] [bp-4h]@1

  memset(&v6, -858993460, 0x48u);
  v8 = 0;
  if ( a1 <= 1000 )
  {
    if ( dword_752C4BC[790 * a1] )
      v8 = 100;
    if ( sub_401640(&byte_1FDECA0[1724 * a1]) == 2 )
    {
      if ( byte_1FDF1CC[1724 * a1] || dword_1FDF1D0[431 * a1] )
      {
        v7 = (unsigned __int8)byte_1FDECB4[1724 * a1];
        if ( v7 )
        {
          switch ( v7 )
          {
            case 1:
              v8 += 60;
              break;
            case 2:
              v8 += 50;
              break;
            case 3:
              v8 += 50;
              break;
          }
        }
        else
        {
          v8 += 100;
        }
        v1 = v8;
      }
      else
      {
        v1 = v8;
      }
    }
    else
    {
      v1 = v8;
    }
  }
  else
  {
    v1 = 0;
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 1FDF1D0: using guessed type int dword_1FDF1D0[];
// 752C4BC: using guessed type int dword_752C4BC[];

//----- (004D6330) --------------------------------------------------------
int __usercall sub_4D6330<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@6
  char v5; // [sp+0h] [bp-5Ch]@0
  int v6; // [sp+4h] [bp-58h]@0
  int v7; // [sp+8h] [bp-54h]@0
  char v8; // [sp+Ch] [bp-50h]@1
  int v9; // [sp+4Ch] [bp-10h]@1
  int v10; // [sp+50h] [bp-Ch]@1
  int v11; // [sp+54h] [bp-8h]@1
  __int16 *v12; // [sp+58h] [bp-4h]@1

  memset(&v8, -858993460, 0x50u);
  v12 = &word_1FDED6C[862 * a3];
  v11 = sub_40191F(&word_1FDED6C[862 * a3], 79);
  v10 = v11;
  v9 = Rand()() % 100;
  if ( v9 >= 50 )
  {
    if ( v9 < 90 )
      v11 -= 2;
  }
  else
  {
    --v11;
  }
  sub_4E3F40(a1, a2, (int)&String, "etc,mount resurrect from:%d to:%d - %d");
  Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
  if ( v11 > 0 )
  {
    sub_401B63(a3, &unk_8AE944);
    *((_BYTE *)v12 + 5) = v11;
    v12[1] = 4000;
    *((_BYTE *)v12 + 6) = 8;
    sub_4016EF(a3);
    sub_401960(a3, 0, 14, &word_1FDED6C[862 * a3]);
    sub_401483(a3, 0);
    v3 = 1;
  }
  else
  {
    sub_401B63(a3, &unk_8AE9C4);
    sub_4E4640(v12, 0, 8u);
    sub_4016EF(a3);
    sub_401960(a3, 0, 14, &word_1FDED6C[862 * a3]);
    v3 = 0;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401483: using guessed type _DWORD __cdecl sub_401483(_DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 40191F: using guessed type _DWORD __cdecl sub_40191F(_DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 1FDED6C: using guessed type __int16 word_1FDED6C[];
// 752BAEC: using guessed type int dword_752BAEC[];

//----- (004D6540) --------------------------------------------------------
int __cdecl sub_4D6540(unsigned __int16 a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-54h]@0
  int v5; // [sp+4h] [bp-50h]@0
  int v6; // [sp+8h] [bp-4Ch]@0
  char v7; // [sp+Ch] [bp-48h]@1
  int v8; // [sp+4Ch] [bp-8h]@1
  int v9; // [sp+50h] [bp-4h]@1

  memset(&v7, -858993460, 0x48u);
  v9 = ((signed int)a1 >> 12) & 0xF;
  v8 = a1 & 0xFFF;
  v2 = (int)sub_4E4810((void *)a2, &byte_88B5EEC[245760 * (((signed int)a1 >> 12) & 0xF)] + 60 * (a1 & 0xFFF), 0xCu);
  *(_BYTE *)(a2 + 11) = 0;
  *(_BYTE *)(a2 + 10) = 0;
  return sub_4E46A0(1, v2, v6, v4, v5);
}

//----- (004D6700) --------------------------------------------------------
int __usercall sub_4D6700<eax>(int a1<ebx>, int a2<esi>, int a3, LPCSTR lpMultiByteStr)
{
  int v4; // eax@2
  __int16 *v5; // eax@23
  char v7; // [sp+0h] [bp-140h]@0
  int v8; // [sp+4h] [bp-13Ch]@0
  int v9; // [sp+8h] [bp-138h]@0
  char v10; // [sp+Ch] [bp-134h]@1
  int v11; // [sp+4Ch] [bp-F4h]@23
  __int16 v12; // [sp+50h] [bp-F0h]@23
  __int16 v13; // [sp+52h] [bp-EEh]@23
  int v14; // [sp+58h] [bp-E8h]@23
  char v15; // [sp+5Ch] [bp-E4h]@23
  char v16; // [sp+68h] [bp-D8h]@23
  char v17; // [sp+6Ch] [bp-D4h]@23
  int v18; // [sp+11Ch] [bp-24h]@23
  int v19; // [sp+120h] [bp-20h]@23
  int v20; // [sp+124h] [bp-1Ch]@21
  int v21; // [sp+128h] [bp-18h]@21
  int v22; // [sp+12Ch] [bp-14h]@21
  int v23; // [sp+130h] [bp-10h]@19
  int v24; // [sp+134h] [bp-Ch]@19
  int v25; // [sp+138h] [bp-8h]@15
  int v26; // [sp+13Ch] [bp-4h]@11
  int v27; // [sp+140h] [bp+0h]@14

  memset(&v10, -858993460, 0x134u);
  if ( dword_AACD48 == dword_8C76340 )
  {
    v4 = sub_401B63(a3, &unk_8B2AC4);
  }
  else
  {
    if ( dword_8C76254 == 1 )
    {
      v4 = sub_401B63(a3, &unk_8B00C4);
    }
    else
    {
      if ( dword_5A1054 == -1 )
      {
        v4 = Log(
               "err,Buy Guild item, but, Server index undefined",
               &byte_752BAD8[3160 * a3],
               dword_752BAEC[790 * a3]);
      }
      else
      {
        if ( dword_5A1064 )
        {
          if ( dword_5A1064 < 4096 )
          {
            v26 = sub_4E4B50((int)lpMultiByteStr);
            if ( v26 < 12 && v26 > 0 )
            {
              v4 = (int)sub_4E8E60(a1, (int)&v27, a2, lpMultiByteStr);
              if ( byte_1FDF03D[1724 * a3] != 1 )
              {
                v25 = sub_4010C8(lpMultiByteStr);
                if ( v25 == 1 )
                {
                  v4 = sub_401B63(a3, &unk_8B3EC4);
                }
                else
                {
                  v4 = word_1FDED5C[862 * a3];
                  if ( !word_1FDED5C[862 * a3] || !word_1FDECB2[862 * a3] )
                  {
                    v24 = dword_9DE31C;
                    v23 = dword_1FDECB8[431 * a3] - dword_9DE31C;
                    if ( v23 >= 0 )
                    {
                      LOWORD(v22) = dword_5A1064 + ((_WORD)dword_5A1054 << 12);
                      v21 = (signed int)(unsigned __int16)((_WORD)dword_5A1064 + ((_WORD)dword_5A1054 << 12)) >> 12;
                      v20 = ((_WORD)dword_5A1064 + ((_WORD)dword_5A1054 << 12)) & 0xFFF;
                      if ( *(&dword_88B5EE8[61440
                                          * ((signed int)(unsigned __int16)((_WORD)dword_5A1064
                                                                          + ((_WORD)dword_5A1054 << 12)) >> 12)]
                           + 15 * (((_WORD)dword_5A1064 + ((_WORD)dword_5A1054 << 12)) & 0xFFF)) )
                      {
                        sub_4E3F40(a1, a2, (int)&String, "err,create guild samed index %d-%d-%d");
                        v4 = Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
                        ++dword_5A1064;
                      }
                      else
                      {
                        LOWORD(v18) = 509;
                        BYTE2(v18) = 56;
                        BYTE3(v18) = BYTE1(v22);
                        LOBYTE(v19) = 57;
                        BYTE1(v19) = v22;
                        BYTE2(v19) = 59;
                        BYTE3(v19) = Rand()();
                        v5 = &word_1FDED5C[862 * a3];
                        *(_DWORD *)v5 = v18;
                        *((_DWORD *)v5 + 1) = v19;
                        sub_401960(a3, 0, 12, &word_1FDED5C[862 * a3]);
                        sub_4016EF(a3);
                        sub_40162C(a3);
                        ++dword_5A1064;
                        dword_1FDECB8[431 * a3] = v23;
                        SendEtc(a3);
                        sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B3A44);
                        sub_401B63(a3, &String);
                        sub_4010FF(a3, &v17);
                        sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v17, 0);
                        sub_401906(a3, 0);
                        sub_4E3F40(a1, a2, (int)&String, "sys,create guild medal %s(%s) ,idx:%d  count:%d");
                        Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
                        sub_4E4640(&v11, 0, 0x20u);
                        v12 = 15382;
                        v13 = a3;
                        LOWORD(v11) = 32;
                        v14 = (unsigned __int16)v22;
                        sub_4E4720((int)&v15);
                        v16 = sub_40109B(a3);
                        v4 = sub_40132A(&v11, (unsigned __int16)v11);
                      }
                    }
                    else
                    {
                      v4 = sub_401B63(a3, &unk_8AA044);
                    }
                  }
                }
              }
            }
            else
            {
              v4 = sub_401B63(a3, &unk_8B3E44);
            }
          }
          else
          {
            sub_401B63(a3, &unk_8B1E44);
            v4 = Log("err,GuildCounter Max.", &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
            dword_5A1064 = 4096;
          }
        }
        else
        {
          v4 = Log(
                 "err,Buy Guild item, but, Guild counter zero",
                 &byte_752BAD8[3160 * a3],
                 dword_752BAEC[790 * a3]);
        }
      }
    }
  }
  return sub_4E46A0(1, v4, v9, v7, v8);
}
// 40109B: using guessed type _DWORD __cdecl sub_40109B(_DWORD);
// 4010C8: using guessed type _DWORD __cdecl sub_4010C8(_DWORD);
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 401500: using guessed type _DWORD __cdecl SendEtc(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40162C: using guessed type _DWORD __cdecl sub_40162C(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 401906: using guessed type _DWORD __cdecl sub_401906(_DWORD, _DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 5A1054: using guessed type int dword_5A1054;
// 5A1064: using guessed type int dword_5A1064;
// 9DE31C: using guessed type int dword_9DE31C;
// AACD48: using guessed type int dword_AACD48;
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 1FDED5C: using guessed type __int16 word_1FDED5C[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 88B5EE8: using guessed type int dword_88B5EE8[];
// 8C76254: using guessed type int dword_8C76254;
// 8C76340: using guessed type int dword_8C76340;

//----- (004D6D80) --------------------------------------------------------
int __usercall sub_4D6D80<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v4; // eax@2
  __int16 *v5; // edx@25
  char v7; // [sp+0h] [bp-118h]@0
  int v8; // [sp+4h] [bp-114h]@0
  int v9; // [sp+8h] [bp-110h]@0
  char v10; // [sp+Ch] [bp-10Ch]@1
  int v11; // [sp+4Ch] [bp-CCh]@25
  __int16 v12; // [sp+50h] [bp-C8h]@25
  __int16 v13; // [sp+52h] [bp-C6h]@25
  int v14; // [sp+58h] [bp-C0h]@25
  int v15; // [sp+5Ch] [bp-BCh]@25
  char v16; // [sp+60h] [bp-B8h]@25
  char v17; // [sp+61h] [bp-B7h]@25
  int v18; // [sp+70h] [bp-A8h]@25
  int v19; // [sp+74h] [bp-A4h]@25
  int i; // [sp+78h] [bp-A0h]@16
  int v21; // [sp+7Ch] [bp-9Ch]@16
  int v22; // [sp+80h] [bp-98h]@16
  int v23; // [sp+84h] [bp-94h]@16
  int v24; // [sp+88h] [bp-90h]@11
  int v25; // [sp+8Ch] [bp-8Ch]@8
  char v26; // [sp+90h] [bp-88h]@8
  char v27; // [sp+D0h] [bp-48h]@8
  int v28; // [sp+110h] [bp-8h]@6
  int v29; // [sp+114h] [bp-4h]@3
  int v30; // [sp+118h] [bp+0h]@8

  memset(&v10, -858993460, 0x10Cu);
  if ( dword_AACD48 == dword_8C76340 )
  {
    v4 = sub_401B63(a3, &unk_8B2AC4);
  }
  else
  {
    v29 = (unsigned __int16)word_1FDECB2[862 * a3];
    if ( v29 && (signed int)(unsigned __int8)byte_1FDEF8C[1724 * a3] >= 2 )
    {
      v28 = dword_9DEC68;
      v28 = dword_1FDECB8[431 * a3] - dword_9DEC68;
      if ( v28 >= 0 )
      {
        sub_4E4640(&v27, 0, 0x40u);
        sub_4E4640(&v26, 0, 0x40u);
        sub_4E4340(a1, (int)&v30, a2, a4, "%s %s", (unsigned int)&v26);
        v25 = sub_4E4B50((int)&v27);
        if ( v25 < 12 && v25 > 0 )
        {
          v4 = sub_4010D7(&v26);
          v24 = v4;
          if ( v4 )
          {
            if ( a3 != v24 )
            {
              v4 = 1724 * v24;
              if ( v29 == (unsigned __int16)word_1FDECB2[862 * v24] )
              {
                v4 = (unsigned __int8)byte_1FDEF8C[1724 * v24];
                if ( !byte_1FDEF8C[1724 * v24] )
                {
                  v23 = v29 >> 12;
                  v22 = v29 & 0xFFF;
                  v21 = 0;
                  for ( i = 1; i < 4; ++i )
                  {
                    if ( !*((_BYTE *)&dword_88B5EE8[61440 * v23 + 1] + 60 * v22 + 12 * i) )
                    {
                      v4 = 12 * i;
                      if ( !*((_BYTE *)&dword_88B5EE8[61440 * v23 + 1] + 60 * v22 + 12 * i + 1) )
                      {
                        v21 = i;
                        break;
                      }
                    }
                    v4 = i + 1;
                  }
                  if ( v21 && v21 != 4 )
                  {
                    sub_4E4810(&dword_88B5EE8[61440 * v23 + 1] + 15 * v22 + 3 * v21, &v27, 0xCu);
                    sub_4E3F40(a1, a2, (int)&String, "sys,Create sub guild %s - %s");
                    Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
                    sub_4E3F40(a1, a2, (int)&String, "%s-%s");
                    sub_4E3F40(a1, a2, (int)&String, (const char *)&unk_8B3A44);
                    sub_401B63(a3, &String);
                    sub_4E4640(&v18, 0, 8u);
                    LOWORD(v18) = v21 + 525;
                    BYTE2(v18) = 56;
                    BYTE3(v18) = v29 / 256;
                    LOBYTE(v19) = 57;
                    BYTE1(v19) = v29;
                    v5 = &word_1FDED5C[862 * v24];
                    *(_DWORD *)v5 = v18;
                    *((_DWORD *)v5 + 1) = v19;
                    sub_401960(v24, 0, 12, &word_1FDED5C[862 * v24]);
                    sub_4016EF(v24);
                    sub_40162C(v24);
                    dword_1FDECB8[431 * a3] = v28;
                    SendEtc(a3);
                    *((_BYTE *)&dword_88B5EE8[61440 * v23 + 3] + 60 * v22 + 12 * v21 + 3) = 0;
                    *((_BYTE *)&dword_88B5EE8[61440 * v23 + 3] + 60 * v22 + 12 * v21 + 2) = 0;
                    sub_4E4640(&v11, 0, 0x24u);
                    v12 = 15388;
                    v13 = a3;
                    LOWORD(v11) = 36;
                    v14 = v24;
                    v15 = v29;
                    v16 = v21;
                    sub_4E4720((int)&v17);
                    v4 = sub_40132A(&v11, (unsigned __int16)v11);
                  }
                }
              }
            }
          }
          else
          {
            v4 = sub_401B63(a3, &unk_8A9544);
          }
        }
        else
        {
          v4 = sub_401B63(a3, &unk_8B3E44);
        }
      }
      else
      {
        v4 = sub_401B63(a3, &unk_8AA044);
      }
    }
    else
    {
      v4 = sub_401B63(a3, &unk_8AAFC4);
    }
  }
  return sub_4E46A0(1, v4, v9, v7, v8);
}
// 4010D7: using guessed type _DWORD __cdecl sub_4010D7(_DWORD);
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 401500: using guessed type _DWORD __cdecl SendEtc(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40162C: using guessed type _DWORD __cdecl sub_40162C(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 9DEC68: using guessed type int dword_9DEC68;
// AACD48: using guessed type int dword_AACD48;
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECB8: using guessed type int dword_1FDECB8[];
// 1FDED5C: using guessed type __int16 word_1FDED5C[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 88B5EE8: using guessed type int dword_88B5EE8[];
// 8C76340: using guessed type int dword_8C76340;

//----- (004D7490) --------------------------------------------------------
int __cdecl sub_4D7490(int a1)
{
  int v1; // eax@8
  char v3; // [sp+0h] [bp-54h]@0
  int v4; // [sp+4h] [bp-50h]@0
  int v5; // [sp+8h] [bp-4Ch]@0
  char v6; // [sp+Ch] [bp-48h]@1
  int j; // [sp+4Ch] [bp-8h]@3
  int i; // [sp+50h] [bp-4h]@1

  memset(&v6, -858993460, 0x48u);
  for ( i = 0; i < 16; ++i )
  {
    for ( j = 0; j < 4096; ++j )
    {
      if ( *(&dword_88B5EE8[61440 * i] + 15 * j) && !sub_4E4D80((int)(&byte_88B5EEC[245760 * i] + 60 * j), a1) )
      {
        v1 = 1;
        return sub_4E46A0(1, v1, v5, v3, v4);
      }
    }
  }
  v1 = 0;
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 88B5EE8: using guessed type int dword_88B5EE8[];

//----- (004D7570) --------------------------------------------------------
int __cdecl sub_4D7570(int a1)
{
  int v1; // eax@5
  int *v2; // ecx@8
  int v3; // eax@8
  int v4; // esi@8
  int *v5; // edx@8
  int v6; // ecx@8
  int v7; // ecx@8
  int *v8; // edx@8
  char v10; // [sp+0h] [bp-60h]@0
  int v11; // [sp+4h] [bp-5Ch]@0
  int v12; // [sp+8h] [bp-58h]@0
  char v13; // [sp+Ch] [bp-54h]@1
  int v14; // [sp+4Ch] [bp-14h]@8
  int v15; // [sp+50h] [bp-10h]@8
  int v16; // [sp+54h] [bp-Ch]@8
  int v17; // [sp+58h] [bp-8h]@1
  int v18; // [sp+5Ch] [bp-4h]@1

  memset(&v13, -858993460, 0x54u);
  v18 = byte_1FDF03F[1724 * a1];
  v17 = 0;
  if ( v18 )
    v17 = 0;
  else
    v17 = 1;
  if ( *((_WORD *)&dword_1FDF048[431 * a1] + 34 * v18) )
  {
    if ( v18 == v17 )
    {
      v1 = 0;
    }
    else
    {
      byte_1FDF03F[1724 * a1] = v17;
      LOWORD(dword_1FDECFC[431 * a1]) = LOWORD(dword_1FDF2C8[431 * a1]);
      memcpy(&word_1FDF050[862 * a1] + 34 * v18, &word_1FDECC4[862 * a1], 0x1Cu);
      v2 = &dword_1FDECFC[431 * a1];
      v3 = v2[1];
      v4 = 68 * v18;
      *(&dword_1FDF048[431 * a1] + 17 * v18) = *v2;
      *(int *)((char *)&dword_1FDF04C[431 * a1] + v4) = v3;
      *(&dword_1FDF044[431 * a1] + 17 * v18) = dword_1FDEF7C[431 * a1];
      *(&dword_1FDF06C[431 * a1] + 17 * v18) = dword_1FDECBC[431 * a1];
      sub_4E4810((char *)&unk_1FDF070 + 1724 * a1 + 68 * v18, &byte_1FDEF88[1724 * a1], 4u);
      sub_4E4810((char *)&unk_1FDF074 + 1724 * a1 + 68 * v18, (char *)&unk_752C3EC + 3160 * a1, 0x10u);
      *(&word_1FDF084[862 * a1] + 34 * v18) = word_1FDEF80[862 * a1];
      *(&word_1FDF086[862 * a1] + 34 * v18) = word_1FDEF84[862 * a1];
      v5 = &dword_1FDECFC[431 * a1];
      v6 = v5[1];
      v15 = *v5;
      v16 = v6;
      memcpy(&word_1FDECC4[862 * a1], &word_1FDF050[862 * a1] + 34 * v17, 0x1Cu);
      v7 = *(&dword_1FDF04C[431 * a1] + 17 * v17);
      v8 = &dword_1FDECFC[431 * a1];
      *v8 = *(&dword_1FDF048[431 * a1] + 17 * v17);
      v8[1] = v7;
      byte_1FDED02[1724 * a1] = BYTE2(v16);
      byte_1FDED03[1724 * a1] = BYTE3(v16);
      dword_1FDEF7C[431 * a1] = *(&dword_1FDF044[431 * a1] + 17 * v17);
      dword_1FDECBC[431 * a1] = *(&dword_1FDF06C[431 * a1] + 17 * v17);
      sub_4E4810(&byte_1FDEF88[1724 * a1], (char *)&unk_1FDF070 + 1724 * a1 + 68 * v17, 4u);
      sub_4E4810((char *)&unk_752C3EC + 3160 * a1, (char *)&unk_1FDF074 + 1724 * a1 + 68 * v17, 0x10u);
      word_1FDEF80[862 * a1] = *(&word_1FDF084[862 * a1] + 34 * v17);
      word_1FDEF84[862 * a1] = *(&word_1FDF086[862 * a1] + 34 * v17);
      sub_401ADC(&byte_1FDECA0[1724 * a1], dword_1FDF2C8[431 * a1]);
      v14 = SLOWORD(dword_1FDECFC[431 * a1]) % 10;
      byte_1FDECB4[1724 * a1] = v14 - 6;
      sub_401375(&byte_1FDECA0[1724 * a1], dword_1FDF2C8[431 * a1]);
      sub_4016EF(a1);
      v1 = 1;
    }
  }
  else
  {
    v1 = 0;
  }
  return sub_4E46A0(1, v1, v12, v10, v11);
}
// 401375: using guessed type _DWORD __cdecl sub_401375(_DWORD, _DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 401ADC: using guessed type _DWORD __cdecl sub_401ADC(_DWORD, _DWORD);
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDEF80: using guessed type __int16 word_1FDEF80[];
// 1FDEF84: using guessed type __int16 word_1FDEF84[];
// 1FDF044: using guessed type int dword_1FDF044[];
// 1FDF048: using guessed type int dword_1FDF048[];
// 1FDF04C: using guessed type int dword_1FDF04C[];
// 1FDF050: using guessed type __int16 word_1FDF050[];
// 1FDF06C: using guessed type int dword_1FDF06C[];
// 1FDF084: using guessed type __int16 word_1FDF084[];
// 1FDF086: using guessed type __int16 word_1FDF086[];
// 1FDF2C8: using guessed type int dword_1FDF2C8[];

//----- (004D7AD0) --------------------------------------------------------
int __cdecl sub_4D7AD0(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-6Ch]@0
  int v4; // [sp+4h] [bp-68h]@0
  int v5; // [sp+8h] [bp-64h]@0
  char v6; // [sp+Ch] [bp-60h]@1
  int v7; // [sp+4Ch] [bp-20h]@1
  __int16 v8; // [sp+50h] [bp-1Ch]@1
  __int16 v9; // [sp+52h] [bp-1Ah]@1
  char v10; // [sp+58h] [bp-14h]@1
  char v11; // [sp+5Ch] [bp-10h]@1

  memset(&v6, -858993460, 0x60u);
  sub_401960(a1, 0, 0, &dword_1FDECFC[431 * a1]);
  v8 = 888;
  v9 = 30000;
  LOWORD(v7) = 32;
  sub_4E4810(&v10, &byte_1FDEF88[1724 * a1], 4u);
  sub_4E4810(&v11, (char *)&unk_752C3EC + 3160 * a1, 0x10u);
  sub_401203(&v7, (unsigned __int16)v7);
  sub_401AC3(a1, a1);
  sub_4016EF(a1);
  sub_4018B1(a1);
  v1 = sub_401348(a1);
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401203: using guessed type _DWORD __stdcall sub_401203(_DWORD, _DWORD);
// 401348: using guessed type _DWORD __cdecl sub_401348(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401AC3: using guessed type _DWORD __cdecl sub_401AC3(_DWORD, _DWORD);
// 1FDECFC: using guessed type int dword_1FDECFC[];

//----- (004D7C10) --------------------------------------------------------
int __usercall sub_4D7C10<eax>(int a1<ebx>, int a2, __int16 a3)
{
  int v3; // eax@2
  const void *v4; // esi@9
  int v5; // esi@9
  int *v6; // eax@9
  int v7; // ecx@9
  int v8; // edx@9
  int *v9; // eax@9
  int *v10; // ecx@26
  int v11; // edx@26
  int v12; // eax@26
  __int16 *v13; // ecx@26
  char v15; // [sp+0h] [bp-78h]@0
  int v16; // [sp+4h] [bp-74h]@0
  int v17; // [sp+8h] [bp-70h]@0
  char v18; // [sp+Ch] [bp-6Ch]@1
  int v19; // [sp+4Ch] [bp-2Ch]@26
  int v20; // [sp+50h] [bp-28h]@26
  int v21; // [sp+54h] [bp-24h]@26
  int v22; // [sp+58h] [bp-20h]@26
  int v23; // [sp+5Ch] [bp-1Ch]@26
  int v24; // [sp+60h] [bp-18h]@26
  int v25; // [sp+64h] [bp-14h]@16
  int i; // [sp+68h] [bp-10h]@11
  int v27; // [sp+6Ch] [bp-Ch]@11
  int v28; // [sp+70h] [bp-8h]@11
  int v29; // [sp+74h] [bp-4h]@3

  memset(&v18, -858993460, 0x6Cu);
  if ( byte_1FDF03F[1724 * a2] )
  {
    v3 = 0;
  }
  else
  {
    v29 = LOWORD(dword_1FDECFC[431 * a2]);
    if ( v29 >= 21 && v29 < 26 || v29 >= 40 || v29 == 32 )
      LOWORD(dword_1FDECFC[431 * a2]) = LOWORD(dword_1FDF2C8[431 * a2]);
    else
      dword_1FDF2C8[431 * a2] = v29;
    v4 = &word_1FDECC4[862 * a2];
    memcpy(&word_1FDF050[862 * a2], v4, 0x1Cu);
    v5 = (int)((char *)v4 + 28);
    v6 = &dword_1FDECFC[431 * a2];
    v7 = *v6;
    v8 = v6[1];
    v9 = &dword_1FDF048[431 * a2];
    *v9 = v7;
    v9[1] = v8;
    dword_1FDF044[431 * a2] = dword_1FDEF7C[431 * a2];
    dword_1FDF06C[431 * a2] = dword_1FDECBC[431 * a2];
    sub_4E4810((char *)&unk_1FDF070 + 1724 * a2, &byte_1FDEF88[1724 * a2], 4u);
    sub_4E4810((char *)&unk_1FDF074 + 1724 * a2, (char *)&unk_752C3EC + 3160 * a2, 0x10u);
    word_1FDF084[862 * a2] = word_1FDEF80[862 * a2];
    word_1FDF086[862 * a2] = word_1FDEF84[862 * a2];
    if ( word_1FDF08C[862 * a2] )
    {
      v3 = 0;
    }
    else
    {
      v28 = dword_1FDF2C8[431 * a2] / 10;
      sub_4E4640(&dword_1FDF088[431 * a2], 0, 0x44u);
      v27 = 0;
      for ( i = 0; i < 4; ++i )
      {
        if ( sub_401A55(byte_1FDF035[1724 * a2], i) )
          v27 += 100;
      }
      v25 = byte_1FDF037[1724 * a2];
      switch ( v25 )
      {
        case 5:
          v27 += 1200;
          break;
        case 4:
          v27 += 900;
          break;
        case 3:
          v27 += 600;
          break;
        case 2:
          v27 += 200;
          break;
        case 1:
          v27 += 100;
          break;
      }
      word_1FDF0C8[862 * a2] = v27 + 1000;
      word_1FDF0CA[862 * a2] = 1500;
      byte_1FDF09B[1724 * a2] = byte_1FDECCB[1724 * a2];
      word_1FDF0A4[862 * a2] = LOWORD(dword_594D70[6 * v28]);
      word_1FDF0A6[862 * a2] = LOWORD(dword_594D74[6 * v28]);
      word_1FDF0A8[862 * a2] = LOWORD(dword_594D78[6 * v28]);
      word_1FDF0AA[862 * a2] = LOWORD(dword_594D7C[6 * v28]);
      byte_1FDF09A[1724 * a2] = 82;
      word_1FDF098[862 * a2] = 5;
      word_1FDF096[862 * a2] = 4;
      word_1FDF094[862 * a2] = 0;
      v24 = dword_594D80[6 * v28];
      v23 = 2 * (word_1FDF0AA[862 * a2] - dword_594D7C[6 * v28]);
      v22 = dword_594F84[v28] * word_1FDF094[862 * a2];
      word_1FDF09C[862 * a2] = v22 + v23 + (_WORD)v24;
      v21 = dword_594D84[6 * v28];
      v20 = 2 * (word_1FDF0A6[862 * a2] - dword_594D74[6 * v28]);
      v19 = dword_594FA4[v28] * word_1FDF094[862 * a2];
      word_1FDF09E[862 * a2] = v19 + v20 + (_WORD)v21;
      dword_1FDF088[431 * a2] = 0;
      dword_1FDF088[431 * a2] = dword_1FDEF7C[431 * a2] & 0xFF000000;
      dword_1FDF0B0[431 * a2] = 0;
      byte_1FDF03F[1724 * a2] = 0;
      sub_4E4640(&word_1FDF08C[862 * a2], 0, 8u);
      v10 = &dword_1FDECFC[431 * a2];
      v11 = *v10;
      v12 = v10[1];
      v13 = &word_1FDF08C[862 * a2];
      *(_DWORD *)v13 = v11;
      *((_DWORD *)v13 + 1) = v12;
      word_1FDF08C[862 * a2] = a3;
      sub_4E4640((char *)&unk_1FDF0B4 + 1724 * a2, 0xFFu, 0x10u);
      sub_4E3F40(a1, v5, (int)&String, "sys,tras god 2 sub character %s[%d]");
      Log(&String, &byte_752BAD8[3160 * a2], dword_752BAEC[790 * a2]);
      v3 = 1;
    }
  }
  return sub_4E46A0(1, v3, v17, v15, v16);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401A55: using guessed type _DWORD __cdecl sub_401A55(char, _DWORD);
// 594D70: using guessed type int dword_594D70[];
// 594D74: using guessed type int dword_594D74[];
// 594D78: using guessed type int dword_594D78[];
// 594D7C: using guessed type int dword_594D7C[];
// 594D80: using guessed type int dword_594D80[];
// 594D84: using guessed type int dword_594D84[];
// 594F84: using guessed type int dword_594F84[];
// 594FA4: using guessed type int dword_594FA4[];
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDEF80: using guessed type __int16 word_1FDEF80[];
// 1FDEF84: using guessed type __int16 word_1FDEF84[];
// 1FDF044: using guessed type int dword_1FDF044[];
// 1FDF048: using guessed type int dword_1FDF048[];
// 1FDF050: using guessed type __int16 word_1FDF050[];
// 1FDF06C: using guessed type int dword_1FDF06C[];
// 1FDF084: using guessed type __int16 word_1FDF084[];
// 1FDF086: using guessed type __int16 word_1FDF086[];
// 1FDF088: using guessed type int dword_1FDF088[];
// 1FDF08C: using guessed type __int16 word_1FDF08C[];
// 1FDF094: using guessed type __int16 word_1FDF094[];
// 1FDF096: using guessed type __int16 word_1FDF096[];
// 1FDF098: using guessed type __int16 word_1FDF098[];
// 1FDF09C: using guessed type __int16 word_1FDF09C[];
// 1FDF09E: using guessed type __int16 word_1FDF09E[];
// 1FDF0A4: using guessed type __int16 word_1FDF0A4[];
// 1FDF0A6: using guessed type __int16 word_1FDF0A6[];
// 1FDF0A8: using guessed type __int16 word_1FDF0A8[];
// 1FDF0AA: using guessed type __int16 word_1FDF0AA[];
// 1FDF0B0: using guessed type int dword_1FDF0B0[];
// 1FDF0C8: using guessed type __int16 word_1FDF0C8[];
// 1FDF0CA: using guessed type __int16 word_1FDF0CA[];
// 1FDF2C8: using guessed type int dword_1FDF2C8[];
// 752BAEC: using guessed type int dword_752BAEC[];

//----- (004D8340) --------------------------------------------------------
int __cdecl sub_4D8340(signed int a1, int a2)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  int v8; // [sp+4Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x44u);
  v8 = sub_4018C5(a1);
  if ( a2 == 6 )
  {
    v2 = v8;
  }
  else
  {
    switch ( v8 )
    {
      case 3199:
        if ( a2 == 7 )
          a1 = 3197;
        if ( a2 == 8 )
          a1 = 3198;
        break;
      case 3196:
        if ( a2 == 7 )
          a1 = 3194;
        if ( a2 == 8 )
          a1 = 3195;
        break;
      case 3193:
        if ( a2 == 7 )
          a1 = 3191;
        if ( a2 == 8 )
          a1 = 3192;
        break;
      case 572:
        if ( a2 == 7 )
          a1 = 1766;
        if ( a2 == 8 )
          a1 = 1769;
        break;
      case 574:
        if ( a2 == 7 )
          a1 = 1768;
        if ( a2 == 8 )
          a1 = 1771;
        break;
      case 549:
        if ( a2 == 7 )
          a1 = 543;
        if ( a2 == 8 )
          a1 = 544;
        break;
      case 548:
        if ( a2 == 7 )
          a1 = 545;
        if ( a2 == 8 )
          a1 = 546;
        break;
      case 573:
        if ( a2 == 7 )
          a1 = 1767;
        if ( a2 == 8 )
          a1 = 1770;
        break;
    }
    v2 = a1;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4018C5: using guessed type _DWORD __cdecl sub_4018C5(_DWORD);

//----- (004D8520) --------------------------------------------------------
int __cdecl sub_4D8520()
{
  int result; // eax@1
  int v1; // ecx@5
  char v2; // [sp+Ch] [bp-50h]@1
  int i; // [sp+4Ch] [bp-10h]@2
  int v4; // [sp+50h] [bp-Ch]@2
  __int64 v5; // [sp+54h] [bp-8h]@1

  memset(&v2, -858993460, 0x50u);
  dword_8C761C8 = 1000000000;
  dword_8C761CC = 0;
  result = qword_750BA88;
  v5 = qword_750BA88;
  if ( qword_750BA88 )
  {
    result = dword_594F20;
    v4 = dword_594F20;
    for ( i = 0; i < 4; ++i )
    {
      result = dword_594DD0[21 * i];
      if ( result == v4 )
      {
        result = (v5 + __PAIR__(dword_750BA6C[2 * i], dword_750BA68[2 * i])) >> 32;
        v1 = i;
        dword_750BA68[2 * i] += v5;
        dword_750BA6C[2 * v1] = result;
        qword_750BA88 = 0i64;
        return result;
      }
    }
  }
  return result;
}
// 594DD0: using guessed type int dword_594DD0[];
// 594F20: using guessed type int dword_594F20;
// 750BA68: using guessed type int dword_750BA68[];
// 750BA6C: using guessed type int dword_750BA6C[];
// 750BA88: using guessed type __int64 qword_750BA88;
// 8C761C8: using guessed type int dword_8C761C8;
// 8C761CC: using guessed type int dword_8C761CC;

//----- (004D8620) --------------------------------------------------------
int __usercall sub_4D8620<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@1
  int v4; // eax@7
  int v5; // ecx@8
  char v7; // [sp+0h] [bp-188h]@0
  int v8; // [sp+4h] [bp-184h]@0
  int v9; // [sp+8h] [bp-180h]@0
  char v10; // [sp+Ch] [bp-17Ch]@1
  int v11; // [sp+4Ch] [bp-13Ch]@38
  int v12; // [sp+50h] [bp-138h]@31
  int v13; // [sp+54h] [bp-134h]@24
  int v14; // [sp+58h] [bp-130h]@17
  int v15; // [sp+5Ch] [bp-12Ch]@15
  int v16; // [sp+60h] [bp-128h]@14
  char v17; // [sp+64h] [bp-124h]@10
  int v18; // [sp+164h] [bp-24h]@9
  int v19; // [sp+168h] [bp-20h]@2
  int v20; // [sp+16Ch] [bp-1Ch]@2
  int v21; // [sp+170h] [bp-18h]@2
  int v22; // [sp+174h] [bp-14h]@1
  int v23; // [sp+178h] [bp-10h]@7
  int i; // [sp+17Ch] [bp-Ch]@2
  int v25; // [sp+180h] [bp-8h]@1
  int v26; // [sp+184h] [bp-4h]@1

  memset(&v10, -858993460, 0x17Cu);
  v26 = 0;
  v25 = sub_401640(&byte_1FDECA0[1724 * a3]);
  v3 = (int)sub_4E4640(&v22, 0, 8u);
  if ( v25 )
  {
    if ( v25 == 2 )
    {
      v3 = 1724 * a3;
      v16 = byte_1FDF03F[1724 * a3];
      if ( v16 )
      {
        v3 = word_1FDECE0[862 * a3];
        v15 = word_1FDECE0[862 * a3];
        if ( v15 > 119 && !(dword_1FDF0E0[431 * a3] & 1) )
        {
          v3 = 1724 * a3;
          v14 = word_1FDED04[862 * a3];
          if ( v14 != 3500 && v14 != 3501 && v14 != 3502 && v14 != 3507 )
            return sub_4E46A0(1, v3, v9, v7, v8);
          byte_1FDED08[1724 * a3] = 3;
          byte_1FDED09[1724 * a3] = 30;
          byte_1FDED0A[1724 * a3] = 4;
          byte_1FDED0B[1724 * a3] = 40;
          sub_401960(a3, 0, 1, &word_1FDED04[862 * a3]);
          sub_4016EF(a3);
          sub_4018B1(a3);
          v3 = 1724 * a3;
          dword_1FDF0E0[431 * a3] |= 1u;
        }
        if ( v15 > 149 && !(dword_1FDF0E0[431 * a3] & 2) )
        {
          v3 = 1724 * a3;
          v13 = word_1FDED04[862 * a3];
          if ( v13 != 3500 && v13 != 3501 && v13 != 3502 && v13 != 3507 )
            return sub_4E46A0(1, v3, v9, v7, v8);
          byte_1FDED08[1724 * a3] = 3;
          byte_1FDED09[1724 * a3] = 35;
          byte_1FDED0A[1724 * a3] = 4;
          byte_1FDED0B[1724 * a3] = 50;
          sub_401960(a3, 0, 1, &word_1FDED04[862 * a3]);
          sub_4016EF(a3);
          sub_4018B1(a3);
          v3 = 1724 * a3;
          dword_1FDF0E0[431 * a3] |= 2u;
        }
        if ( v15 > 179 && !(dword_1FDF0E0[431 * a3] & 4) )
        {
          v3 = 1724 * a3;
          v12 = word_1FDED04[862 * a3];
          if ( v12 != 3500 && v12 != 3501 && v12 != 3502 && v12 != 3507 )
            return sub_4E46A0(1, v3, v9, v7, v8);
          byte_1FDED08[1724 * a3] = 3;
          byte_1FDED09[1724 * a3] = 45;
          byte_1FDED0A[1724 * a3] = 4;
          byte_1FDED0B[1724 * a3] = 60;
          sub_401960(a3, 0, 1, &word_1FDED04[862 * a3]);
          sub_4016EF(a3);
          sub_4018B1(a3);
          v3 = 1724 * a3;
          dword_1FDF0E0[431 * a3] |= 4u;
        }
        if ( v15 == 199 )
        {
          if ( !(dword_1FDF0E0[431 * a3] & 8) )
          {
            v3 = 1724 * a3;
            v11 = word_1FDED04[862 * a3];
            if ( v11 == 3500 || v11 == 3501 || v11 == 3502 || v11 == 3507 )
            {
              byte_1FDED08[1724 * a3] = 3;
              byte_1FDED09[1724 * a3] = 50;
              byte_1FDED0A[1724 * a3] = 4;
              byte_1FDED0B[1724 * a3] = 70;
              sub_401960(a3, 0, 1, &word_1FDED04[862 * a3]);
              sub_4016EF(a3);
              sub_4018B1(a3);
              v3 = 1724 * a3;
              dword_1FDF0E0[431 * a3] |= 8u;
            }
          }
        }
      }
    }
  }
  else
  {
    v21 = word_1FDECE0[862 * a3];
    v20 = 0;
    v3 = 1724 * a3;
    v19 = (unsigned __int8)byte_1FDECB4[1724 * a3];
    for ( i = 0; i < 23; ++i )
    {
      v3 = 68 * i;
      if ( dword_54F2100[17 * i] <= v21 )
      {
        v3 = i;
        if ( !(dword_5A0E80[i] & dword_1FDF0E0[431 * a3]) )
        {
          if ( word_1FDECF2[862 * a3] >= word_1FDECF0[862 * a3] )
          {
            v5 = *(&dword_54F2110[17 * i] + 4 * v19);
            v22 = *(&dword_54F210C[17 * i] + 4 * v19);
            v23 = v5;
          }
          else
          {
            v4 = *((_DWORD *)&byte_54F2108[68 * i] + 4 * v19);
            v22 = *((_DWORD *)&word_54F2104[34 * i] + 4 * v19);
            v23 = v4;
          }
          v3 = sub_40144C(a3, 0, &v22);
          v18 = v3;
          if ( v3 == 1 )
          {
            dword_1FDF0E0[431 * a3] |= dword_5A0E80[i];
            sub_4E3F40(a1, a2, (int)&v17, "!%s [ %s ]");
            v3 = sub_401B63(a3, &v17);
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v3, v9, v7, v8);
}
// 40144C: using guessed type _DWORD __cdecl sub_40144C(_DWORD, _DWORD, _DWORD);
// 401640: using guessed type int __thiscall sub_401640(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 401960: using guessed type _DWORD __cdecl sub_401960(_DWORD, __int16, __int16, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 5A0E80: using guessed type int dword_5A0E80[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECF0: using guessed type __int16 word_1FDECF0[];
// 1FDECF2: using guessed type __int16 word_1FDECF2[];
// 1FDED04: using guessed type __int16 word_1FDED04[];
// 1FDF0E0: using guessed type int dword_1FDF0E0[];
// 54F2100: using guessed type int dword_54F2100[];
// 54F2104: using guessed type __int16 word_54F2104[];
// 54F210C: using guessed type int dword_54F210C[];
// 54F2110: using guessed type int dword_54F2110[];

//----- (004D8E40) --------------------------------------------------------
int __usercall sub_4D8E40<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-104h]@0
  int v6; // [sp+4h] [bp-100h]@0
  int v7; // [sp+8h] [bp-FCh]@0
  char v8; // [sp+Ch] [bp-F8h]@1
  char v9; // [sp+4Ch] [bp-B8h]@17
  int v10; // [sp+FCh] [bp-8h]@12
  int v11; // [sp+100h] [bp-4h]@1

  memset(&v8, -858993460, 0xF8u);
  v3 = sub_40164A(&byte_1FDECA0[1724 * a3]);
  v11 = v3;
  if ( v3 >= 1 && v11 <= 4 )
  {
    if ( v11 == 4 )
      sub_401B63(a3, &unk_8A8244);
    if ( v11 == 3 )
      sub_401B63(a3, &unk_8A82C4);
    if ( v11 == 2 )
      sub_401B63(a3, &unk_8A8344);
    if ( v11 == 1 )
      sub_401B63(a3, &unk_8A83C4);
    if ( v11 == 4 )
    {
      v10 = sub_4013BB(a3);
      if ( word_1FDECC4[862 * a3] < 355 )
      {
        if ( word_1FDECC4[862 * a3] < 351 )
          v10 += 3;
        else
          ++v10;
      }
      else
      {
        v10 += 5;
      }
      sub_4014C4(a3, v10);
      sub_4010FF(a3, &v9);
      sub_4014FB(dword_1FDF1F4[431 * a3], dword_1FDF1F8[431 * a3], &v9, 0);
      sub_4E3F40(a1, a2, (int)&String, "lvl %s level up to %d");
      Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
      sub_4016EF(a3);
      sub_401861(a3);
    }
    sub_4018B1(a3);
    v3 = sub_401348(a3);
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4010FF: using guessed type _DWORD __cdecl sub_4010FF(_DWORD, _DWORD);
// 401348: using guessed type _DWORD __cdecl sub_401348(_DWORD);
// 4013BB: using guessed type _DWORD __cdecl sub_4013BB(_DWORD);
// 4014C4: using guessed type _DWORD __cdecl sub_4014C4(_DWORD, _DWORD);
// 4014FB: using guessed type _DWORD __cdecl sub_4014FB(_DWORD, _DWORD, _DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 40164A: using guessed type int __thiscall sub_40164A(_DWORD);
// 4016EF: using guessed type _DWORD __stdcall sub_4016EF(_DWORD);
// 401861: using guessed type _DWORD __cdecl sub_401861(_DWORD);
// 4018B1: using guessed type _DWORD __cdecl sub_4018B1(_DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 752BAEC: using guessed type int dword_752BAEC[];

//----- (004D90E0) --------------------------------------------------------
int __usercall sub_4D90E0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-60h]@0
  int v5; // [sp+4h] [bp-5Ch]@0
  int v6; // [sp+8h] [bp-58h]@0
  char v7; // [sp+Ch] [bp-54h]@1
  __int16 v8; // [sp+4Ch] [bp-14h]@6
  __int16 v9; // [sp+50h] [bp-10h]@6
  __int16 v10; // [sp+52h] [bp-Eh]@6
  int v11; // [sp+58h] [bp-8h]@6
  int i; // [sp+5Ch] [bp-4h]@3

  memset(&v7, -858993460, 0x54u);
  if ( dword_8C764C8 == 1 )
  {
    v2 = 0;
  }
  else
  {
    for ( i = 0; i < 15; ++i )
    {
      sub_401C30(i + 450, 0, 0);
      sub_401C30(i + 475, 0, 0);
    }
    dword_8C764C8 = 1;
    v10 = 0;
    v9 = 3126;
    v8 = 16;
    v11 = 1;
    sub_40132A(&v8, 16);
    sub_4E3F40(a1, a2, (int)&String, "KingdomWar start %d %d ");
    Log(&String, "-system", 0);
    v2 = 1;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 8C764C8: using guessed type int dword_8C764C8;

//----- (004D9210) --------------------------------------------------------
int __usercall sub_4D9210<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@2
  char v5; // [sp+0h] [bp-64h]@0
  int v6; // [sp+4h] [bp-60h]@0
  int v7; // [sp+8h] [bp-5Ch]@0
  char v8; // [sp+Ch] [bp-58h]@1
  __int16 v9; // [sp+4Ch] [bp-18h]@11
  __int16 v10; // [sp+50h] [bp-14h]@11
  __int16 v11; // [sp+52h] [bp-12h]@11
  int v12; // [sp+58h] [bp-Ch]@11
  int v13; // [sp+5Ch] [bp-8h]@7
  int i; // [sp+60h] [bp-4h]@3

  memset(&v8, -858993460, 0x58u);
  if ( dword_8C764C8 )
  {
    for ( i = 1000; i < 12800; ++i )
    {
      if ( dword_1FDF1D4[431 * i] )
      {
        v13 = dword_1FDF27C[431 * i];
        if ( v13 >= 450 )
        {
          if ( v13 < 550 )
            sub_401B90(i, 1);
        }
      }
    }
    dword_8C764C8 = 0;
    v11 = 0;
    v10 = 3126;
    v9 = 16;
    v12 = a3;
    sub_40132A(&v9, 16);
    sub_4E3F40(a1, a2, (int)&String, "KingdomWar End %d %d ");
    Log(&String, "-system", 0);
    v3 = 1;
  }
  else
  {
    v3 = 0;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401B90: using guessed type _DWORD __cdecl sub_401B90(_DWORD, _DWORD);
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 8C764C8: using guessed type int dword_8C764C8;

//----- (004D9960) --------------------------------------------------------
int __usercall sub_4D9960<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-94h]@0
  int v7; // [sp+4h] [bp-90h]@0
  int v8; // [sp+8h] [bp-8Ch]@0
  char v9; // [sp+Ch] [bp-88h]@1
  int v10; // [sp+4Ch] [bp-48h]@10
  __int16 v11; // [sp+50h] [bp-44h]@10
  __int16 v12; // [sp+52h] [bp-42h]@10
  int v13; // [sp+58h] [bp-3Ch]@11
  int v14; // [sp+5Ch] [bp-38h]@13
  int v15; // [sp+60h] [bp-34h]@11
  int v16; // [sp+64h] [bp-30h]@13
  int v17; // [sp+68h] [bp-2Ch]@10
  int i; // [sp+6Ch] [bp-28h]@6
  int v19; // [sp+70h] [bp-24h]@6
  __int16 v20; // [sp+74h] [bp-20h]@6
  __int16 v21; // [sp+76h] [bp-1Eh]@6
  int v22; // [sp+7Ch] [bp-18h]@6
  int v23; // [sp+80h] [bp-14h]@6
  int v24; // [sp+84h] [bp-10h]@6
  int v25; // [sp+88h] [bp-Ch]@4
  int v26; // [sp+8Ch] [bp-8h]@4
  int v27; // [sp+90h] [bp-4h]@4

  v4 = -858993460;
  memset(&v9, -858993460, 0x88u);
  if ( a3 > 0 && a3 <= 65535 )
  {
    v27 = a3 >> 12;
    v26 = a3 & 0xFFF;
    v25 = *(&dword_88B5F20[61440 * (a3 >> 12)] + 15 * (a3 & 0xFFF));
    v25 += a4;
    if ( v25 <= 0 )
      v25 = 0;
    *(&dword_88B5F20[61440 * v27] + 15 * v26) = v25;
    sub_4E3F40(a1, a2, (int)&String, "etc,set guild fame %d-%d-%d");
    Log(&String, "sys", 0);
    sub_4E4640(&v19, 0, 0x18u);
    v21 = 0;
    LOWORD(v19) = 24;
    v20 = 3095;
    v22 = a3;
    v23 = 1;
    v24 = v25;
    v4 = sub_40132A(&v19, 24);
    for ( i = 0; i < 10; ++i )
    {
      v4 = 20 * i;
      if ( dword_5A3A00[5 * i] == a3 )
      {
        v17 = *(&byte_88B5F1E[245760 * v27] + 60 * v26);
        sub_4E4640(&v10, 0, 0x1Cu);
        v12 = 0;
        LOWORD(v10) = 28;
        v11 = 3107;
        if ( v17 == 8 )
        {
          v13 = a3;
          v15 = v25;
        }
        else
        {
          if ( v17 == 7 )
          {
            v14 = a3;
            v16 = v25;
          }
        }
        v4 = sub_40132A(&v10, (unsigned __int16)v10);
        return sub_4E46A0(1, v4, v8, v6, v7);
      }
    }
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 5A3A00: using guessed type int dword_5A3A00[];
// 88B5F20: using guessed type int dword_88B5F20[];

//----- (004D9BA0) --------------------------------------------------------
int __usercall sub_4D9BA0<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@2
  char v5; // [sp+0h] [bp-5Ch]@0
  int v6; // [sp+4h] [bp-58h]@0
  int v7; // [sp+8h] [bp-54h]@0
  char v8; // [sp+Ch] [bp-50h]@1
  int v9; // [sp+4Ch] [bp-10h]@5
  int v10; // [sp+50h] [bp-Ch]@5
  int v11; // [sp+54h] [bp-8h]@5
  int v12; // [sp+58h] [bp-4h]@5

  memset(&v8, -858993460, 0x50u);
  if ( word_1FDED04[862 * a3] )
  {
    v3 = 0;
  }
  else
  {
    if ( dword_8C75F5C )
    {
      v3 = 0;
    }
    else
    {
      word_1FDEF80[862 * a3] = 1400;
      word_1FDEF84[862 * a3] = 1500;
      byte_1FDF035[1724 * a3] = 0;
      byte_1FDF037[1724 * a3] = 5;
      byte_1FDF03D[1724 * a3] = 1;
      sub_401A6E(&byte_1FDF039[1724 * a3], 0);
      sub_401A6E(&byte_1FDF039[1724 * a3], 1);
      v12 = (unsigned __int8)byte_1FDECB4[1724 * a3];
      word_1FDECD4[862 * a3] = LOWORD(dword_594D70[6 * v12]);
      word_1FDECD6[862 * a3] = LOWORD(dword_594D74[6 * v12]);
      word_1FDECD8[862 * a3] = LOWORD(dword_594D78[6 * v12]);
      word_1FDECDA[862 * a3] = LOWORD(dword_594D7C[6 * v12]);
      byte_1FDECDC[1724 * a3] = 0;
      byte_1FDECDD[1724 * a3] = 0;
      byte_1FDECDE[1724 * a3] = 0;
      byte_1FDECDF[1724 * a3] = 0;
      word_1FDECE0[862 * a3] = 0;
      word_1FDECC4[862 * a3] = 0;
      dword_1FDEF7C[431 * a3] = 0;
      dword_1FDEF7C[431 * a3] |= 0x40000000u;
      dword_1FDECBC[431 * a3] = 0;
      dword_1FDEF94[431 * a3] = 0;
      dword_1FDF0E0[431 * a3] = 0;
      v11 = sub_401834(3199, byte_1FDECB0[1724 * a3]);
      sub_4E4640(&word_1FDED74[862 * a3], 0, 8u);
      word_1FDED74[862 * a3] = v11;
      v10 = dword_1FDF2C8[431 * a3];
      v10 = 10 * v10 / 10 + v12 + 6;
      LOWORD(dword_1FDECFC[431 * a3]) = v10;
      dword_1FDF2C8[431 * a3] = v10;
      v9 = 0;
      if ( v12 )
      {
        if ( v12 == 1 )
        {
          v9 = 3504;
        }
        else
        {
          if ( v12 == 2 )
            v9 = 3505;
          else
            v9 = 3506;
        }
      }
      else
      {
        v9 = 3503;
      }
      sub_4E4640(&word_1FDED04[862 * a3], 0, 8u);
      word_1FDED04[862 * a3] = v9;
      byte_1FDED00[1724 * a3] = 86;
      byte_1FDED01[1724 * a3] = 1;
      byte_1FDED02[1724 * a3] = 28;
      sub_4E3F40(a1, a2, (int)&String, "sys,tras hardcore character %s[%d]");
      Log(&String, &byte_752BAD8[3160 * a3], dword_752BAEC[790 * a3]);
      v3 = 1;
    }
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401834: using guessed type _DWORD __cdecl sub_401834(_DWORD, _DWORD);
// 401A6E: using guessed type _DWORD __cdecl sub_401A6E(_DWORD, _DWORD);
// 594D70: using guessed type int dword_594D70[];
// 594D74: using guessed type int dword_594D74[];
// 594D78: using guessed type int dword_594D78[];
// 594D7C: using guessed type int dword_594D7C[];
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDECD4: using guessed type __int16 word_1FDECD4[];
// 1FDECD6: using guessed type __int16 word_1FDECD6[];
// 1FDECD8: using guessed type __int16 word_1FDECD8[];
// 1FDECDA: using guessed type __int16 word_1FDECDA[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED04: using guessed type __int16 word_1FDED04[];
// 1FDED74: using guessed type __int16 word_1FDED74[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDEF80: using guessed type __int16 word_1FDEF80[];
// 1FDEF84: using guessed type __int16 word_1FDEF84[];
// 1FDEF94: using guessed type int dword_1FDEF94[];
// 1FDF0E0: using guessed type int dword_1FDF0E0[];
// 1FDF2C8: using guessed type int dword_1FDF2C8[];
// 752BAEC: using guessed type int dword_752BAEC[];
// 8C75F5C: using guessed type int dword_8C75F5C;

//----- (004DA070) --------------------------------------------------------
int __usercall sub_4DA070<eax>(int a1<ebx>, int a2<esi>, signed int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-26Ch]@0
  int v6; // [sp+4h] [bp-268h]@0
  int v7; // [sp+8h] [bp-264h]@0
  char v8; // [sp+Ch] [bp-260h]@1
  int v9; // [sp+4Ch] [bp-220h]@2
  int v10; // [sp+50h] [bp-21Ch]@2
  int v11; // [sp+54h] [bp-218h]@2
  int v12; // [sp+58h] [bp-214h]@2
  int v13; // [sp+5Ch] [bp-210h]@2
  int v14; // [sp+60h] [bp-20Ch]@2
  __int16 v15; // [sp+64h] [bp-208h]@2
  __int16 v16; // [sp+66h] [bp-206h]@2
  char v17; // [sp+6Ch] [bp-200h]@8

  v3 = -858993460;
  memset(&v8, -858993460, 0x260u);
  if ( a3 < 1000 )
  {
    LOWORD(dword_1FDECFC[431 * a3]) = 1;
    word_1FDED04[862 * a3] = 0;
    word_1FDED74[862 * a3] = 0;
    dword_1FDECBC[431 * a3] = 1;
    sub_4E4640(&word_1FDECE0[862 * a3], 0, 0x1Cu);
    sub_4E4640(&word_1FDECC4[862 * a3], 0, 0x1Cu);
    LOWORD(dword_1FDF048[431 * a3]) = 0;
    word_1FDF08C[862 * a3] = 0;
    dword_1FDEFA8[431 * a3] = 0;
    dword_1FDF0E0[431 * a3] = 0;
    dword_1FDF2C8[431 * a3] = 1;
    v15 = 2060;
    v16 = 0;
    LOWORD(v14) = 524;
    v13 = dword_1FDEFA8[431 * a3];
    v12 = sub_40109B(a3);
    v11 = (unsigned __int16)word_1FDECB2[862 * a3];
    v10 = (unsigned __int8)byte_1FDECB4[1724 * a3];
    v9 = 0;
    if ( dword_1FDEF7C[431 * a3] & 0x80 )
    {
      v9 = 1;
    }
    else
    {
      if ( dword_1FDEF7C[431 * a3] & 0x8000 )
      {
        v9 = 2;
      }
      else
      {
        if ( (unsigned int)&unk_800000 & dword_1FDEF7C[431 * a3] )
          v9 = 3;
      }
    }
    dword_1FDEF7C[431 * a3] = 0;
    sub_4E3F40(a1, a2, (int)&String, "NEWRNK %s %d %d %d %d %d");
    byte_882F717 = 0;
    byte_882F716 = 0;
    sub_4E4720((int)&v17);
    v3 = sub_40132A(&v14, (unsigned __int16)v14);
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 40109B: using guessed type _DWORD __cdecl sub_40109B(_DWORD);
// 40132A: using guessed type _DWORD __stdcall sub_40132A(_DWORD, _DWORD);
// 1FDECB2: using guessed type __int16 word_1FDECB2[];
// 1FDECBC: using guessed type int dword_1FDECBC[];
// 1FDECC4: using guessed type __int16 word_1FDECC4[];
// 1FDECE0: using guessed type __int16 word_1FDECE0[];
// 1FDECFC: using guessed type int dword_1FDECFC[];
// 1FDED04: using guessed type __int16 word_1FDED04[];
// 1FDED74: using guessed type __int16 word_1FDED74[];
// 1FDEF7C: using guessed type int dword_1FDEF7C[];
// 1FDEFA8: using guessed type int dword_1FDEFA8[];
// 1FDF048: using guessed type int dword_1FDF048[];
// 1FDF08C: using guessed type __int16 word_1FDF08C[];
// 1FDF0E0: using guessed type int dword_1FDF0E0[];
// 1FDF2C8: using guessed type int dword_1FDF2C8[];
// 882F716: using guessed type char byte_882F716;
// 882F717: using guessed type char byte_882F717;

//----- (004DA3C0) --------------------------------------------------------
int __usercall sub_4DA3C0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-118h]@0
  int v5; // [sp+4h] [bp-114h]@0
  int v6; // [sp+8h] [bp-110h]@0
  char v7; // [sp+Ch] [bp-10Ch]@1
  int v8; // [sp+4Ch] [bp-CCh]@3
  char v9; // [sp+50h] [bp-C8h]@2
  int v10; // [sp+90h] [bp-88h]@2
  char v11; // [sp+94h] [bp-84h]@3
  char v12; // [sp+9Ch] [bp-7Ch]@4
  char v13; // [sp+A4h] [bp-74h]@4
  char v14; // [sp+ACh] [bp-6Ch]@4
  int v15; // [sp+114h] [bp-4h]@1
  int v16; // [sp+118h] [bp+0h]@4

  memset(&v7, -858993460, 0x10Cu);
  v2 = sub_4E4620(a1, a2, "MacAddress.txt", (int)"rt");
  v15 = v2;
  if ( v2 )
  {
    v10 = 0;
    sub_4E4640(&v9, 0, 0x40u);
    do
    {
      v8 = sub_4E4400(a1, a2, (int)&v11, 125, v15);
      if ( !v8 )
        break;
      sub_4E7850((int)&v9, (int)&v11, 8u);
      sub_4E4340(a1, (int)&v16, a2, (int)&v9, "%X", (unsigned int)dword_74F87F8 + 16 * v10);
      sub_4E7850((int)&v9, (int)&v12, 8u);
      sub_4E4340(a1, (int)&v16, a2, (int)&v9, "%X", (unsigned int)dword_74F87FC + 16 * v10);
      sub_4E7850((int)&v9, (int)&v13, 8u);
      sub_4E4340(a1, (int)&v16, a2, (int)&v9, "%X", (unsigned int)dword_74F8800 + 16 * v10);
      sub_4E7850((int)&v9, (int)&v14, 8u);
      sub_4E4340(a1, (int)&v16, a2, (int)&v9, "%X", (unsigned int)dword_74F8804 + 16 * v10++);
      dword_8C7619C = v10;
    }
    while ( v10 < 10 );
    v2 = sub_4E4260(a1, a2, v15);
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 74F87F8: using guessed type int dword_74F87F8[];
// 74F87FC: using guessed type int dword_74F87FC[];
// 74F8800: using guessed type int dword_74F8800[];
// 74F8804: using guessed type int dword_74F8804[];
// 8C7619C: using guessed type int dword_8C7619C;

//----- (004DA5F0) --------------------------------------------------------
int __usercall sub_4DA5F0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-174h]@0
  int v7; // [sp+4h] [bp-170h]@0
  int v8; // [sp+8h] [bp-16Ch]@0
  char v9; // [sp+Ch] [bp-168h]@1
  char v10; // [sp+4Ch] [bp-128h]@30
  int v11; // [sp+14Ch] [bp-28h]@27
  int v12; // [sp+150h] [bp-24h]@22
  int v13; // [sp+154h] [bp-20h]@15
  int i; // [sp+158h] [bp-1Ch]@12
  int v15; // [sp+15Ch] [bp-18h]@11
  int j; // [sp+160h] [bp-14h]@4
  int v17; // [sp+164h] [bp-10h]@3
  int v18; // [sp+168h] [bp-Ch]@1
  int v19; // [sp+16Ch] [bp-8h]@1
  int v20; // [sp+170h] [bp-4h]@1

  memset(&v9, -858993460, 0x168u);
  v20 = dword_1FDF1F4[431 * a4];
  v4 = dword_1FDF1F8[431 * a4];
  v19 = dword_1FDF1F8[431 * a4];
  v18 = dword_1FDF27C[431 * a4];
  if ( dword_5A0F0C != 1 || v18 != 155 )
  {
    if ( dword_5A0F0C != 2 || v18 < 5454 || v18 > 5482 )
    {
      if ( dword_5A0F0C != 3 || v18 != 149 )
      {
        if ( dword_5A0F0C == 4 && v18 == 154 )
        {
          v11 = Rand()() % 2;
          if ( v11 )
            dword_8C76184 = 173400;
          else
            dword_8C76184 = 172200;
          dword_5A0F0C = 5;
          sub_4E3F40(a1, a2, (int)&v10, "etc,IceQueen killer %s");
          Log(&v10, "system", 0);
          v4 = sub_401BDB();
        }
      }
      else
      {
        v12 = sub_401357(a3);
        if ( v12 == dword_8C76188 )
        {
          sub_401A5A(dword_8C76188, 3859, 2882);
          v4 = sub_401C30(154, 0, 0);
          dword_5A0F0C = 4;
        }
        else
        {
          dword_5A0F0C = 1;
          v4 = sub_401BDB();
        }
      }
    }
    else
    {
      v4 = sub_401195();
      v15 = v4;
      if ( v4 )
      {
        sub_401C30(149, 0, 0);
        v4 = sub_401B63(dword_8C76188, &unk_8B45C4);
        for ( i = 0; i < 12; ++i )
        {
          v4 = 1724 * dword_8C76188;
          v13 = *(&word_1FDF28A[862 * dword_8C76188] + i);
          if ( v13 > 0 || v13 <= 1000 )
            v4 = sub_401B63(v13, &unk_8B45C4);
        }
        dword_5A0F0C = 3;
      }
    }
  }
  else
  {
    v4 = sub_401357(a3);
    v17 = v4;
    dword_8C76188 = v4;
    if ( v4 > 0 )
    {
      for ( j = 0; j < 29; ++j )
        v4 = sub_401C30(j + 5454, 0, 0);
      dword_8C76180 = 1800;
      dword_5A0F0C = 2;
    }
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 401195: using guessed type int sub_401195(void);
// 401357: using guessed type _DWORD __cdecl sub_401357(_DWORD);
// 4015D7: using guessed type _DWORD __cdecl Log(_DWORD, _DWORD, _DWORD);
// 401A5A: using guessed type _DWORD __cdecl sub_401A5A(_DWORD, _DWORD, _DWORD);
// 401B63: using guessed type _DWORD __cdecl sub_401B63(_DWORD, _DWORD);
// 401BDB: using guessed type int sub_401BDB(void);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 5A0F0C: using guessed type int dword_5A0F0C;
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF27C: using guessed type int dword_1FDF27C[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];
// 8C76180: using guessed type int dword_8C76180;
// 8C76184: using guessed type int dword_8C76184;
// 8C76188: using guessed type int dword_8C76188;

//----- (004DA950) --------------------------------------------------------
signed int __cdecl sub_4DA950()
{
  char v1; // [sp+Ch] [bp-48h]@1
  int v2; // [sp+4Ch] [bp-8h]@3
  int i; // [sp+50h] [bp-4h]@1

  memset(&v1, -858993460, 0x48u);
  for ( i = 0; i < 29; ++i )
  {
    v2 = dword_BDEAAC[748 * (i + 5454)];
    if ( v2 > 0 )
      return 0;
  }
  return 1;
}
// BDEAAC: using guessed type int dword_BDEAAC[];

//----- (004DA9D0) --------------------------------------------------------
int __cdecl sub_4DA9D0()
{
  int v0; // eax@1
  int v1; // eax@1
  signed __int64 v2; // qtt@1
  char v4; // [sp+0h] [bp-5Ch]@0
  int v5; // [sp+4h] [bp-58h]@0
  int v6; // [sp+8h] [bp-54h]@0
  char v7; // [sp+Ch] [bp-50h]@1
  int i; // [sp+4Ch] [bp-10h]@6
  int v9; // [sp+50h] [bp-Ch]@3
  int v10; // [sp+54h] [bp-8h]@1
  int v11; // [sp+58h] [bp-4h]@1

  memset(&v7, -858993460, 0x50u);
  dword_8C7617C = 1200;
  v0 = Rand()();
  v2 = v0;
  v1 = v0 / 6;
  v11 = v2 % 6;
  v10 = dword_C4FE3C;
  if ( dword_C4FE3C )
  {
    v9 = dword_74F868C;
    if ( dword_74F868C > 0 )
    {
      if ( dword_1FDF1D4[431 * v9] )
      {
        v1 = 1724 * v9;
        if ( dword_1FDF1D4[431 * v9] != 5 )
        {
          sub_401A19(v9, dword_5A0EDC[2 * v11], dword_5A0EE0[2 * v11], 0);
          dword_1FDF1E4[431 * v9] = dword_5A0EDC[2 * v11];
          dword_1FDF1F4[431 * v9] = dword_1FDF1E4[431 * v9];
          dword_1FDF230[431 * v9] = dword_1FDF1F4[431 * v9];
          dword_1FDF24C[431 * v9] = dword_1FDF230[431 * v9];
          dword_1FDF1E8[431 * v9] = dword_5A0EE0[2 * v11];
          dword_1FDF1F8[431 * v9] = dword_1FDF1E8[431 * v9];
          dword_1FDF234[431 * v9] = dword_1FDF1F8[431 * v9];
          v1 = 1724 * v9;
          dword_1FDF238[431 * v9] = dword_1FDF234[431 * v9];
          for ( i = 1; i < 5; ++i )
          {
            *(&dword_1FDF238[431 * v9] + i) = dword_5A0EDC[2 * v11] + Rand()() % 5 - 2;
            *(&dword_1FDF24C[431 * v9] + i) = dword_5A0EE0[2 * v11] + Rand()() % 5 - 2;
            v1 = i + 1;
          }
        }
      }
    }
  }
  else
  {
    v1 = sub_401C30(155, dword_5A0EDC[2 * v11], dword_5A0EE0[2 * v11]);
  }
  return sub_4E46A0(1, v1, v6, v4, v5);
}
// 401A19: using guessed type _DWORD __cdecl sub_401A19(_DWORD, _DWORD, _DWORD, _DWORD);
// 401C30: using guessed type _DWORD __cdecl sub_401C30(_DWORD, _DWORD, _DWORD);
// 5A0EDC: using guessed type int dword_5A0EDC[];
// 5A0EE0: using guessed type int dword_5A0EE0[];
// C4FE3C: using guessed type int dword_C4FE3C;
// 1FDF1D4: using guessed type int dword_1FDF1D4[];
// 1FDF1E4: using guessed type int dword_1FDF1E4[];
// 1FDF1E8: using guessed type int dword_1FDF1E8[];
// 1FDF1F4: using guessed type int dword_1FDF1F4[];
// 1FDF1F8: using guessed type int dword_1FDF1F8[];
// 1FDF230: using guessed type int dword_1FDF230[];
// 1FDF234: using guessed type int dword_1FDF234[];
// 1FDF238: using guessed type int dword_1FDF238[];
// 1FDF24C: using guessed type int dword_1FDF24C[];
// 74F868C: using guessed type int dword_74F868C;
// 8C7617C: using guessed type int dword_8C7617C;

//----- (004DACA0) --------------------------------------------------------
int __cdecl sub_4DACA0()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-58h]@0
  int v3; // [sp+4h] [bp-54h]@0
  int v4; // [sp+8h] [bp-50h]@0
  char v5; // [sp+Ch] [bp-4Ch]@1
  int i; // [sp+4Ch] [bp-Ch]@9
  int v7; // [sp+50h] [bp-8h]@2
  int v8; // [sp+54h] [bp-4h]@2

  v0 = -858993460;
  memset(&v5, -858993460, 0x4Cu);
  if ( dword_8C76188 )
  {
    v8 = Rand()() % 5 + 3657;
    v7 = Rand()() % 5 + 3128;
    v0 = sub_401A5A(dword_8C76188, v8, v7);
  }
  if ( dword_C4F28C )
    v0 = sub_401857(154, 3);
  if ( dword_C4FE3C )
    v0 = sub_401857(155, 3);
  if ( dword_C4B81C )
    v0 = sub_401857(149, 3);
  for ( i = 0; i < 29; ++i )
  {
    v0 = 2992 * (i + 5454);
    if ( *(int *)((char *)dword_BDEAAC + v0) )
      v0 = sub_401857(i + 5454, 3);
  }
  dword_8C7617C = 0;
  dword_8C76180 = 0;
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 401857: using guessed type _DWORD __cdecl sub_401857(_DWORD, _DWORD);
// 401A5A: using guessed type _DWORD __cdecl sub_401A5A(_DWORD, _DWORD, _DWORD);
// BDEAAC: using guessed type int dword_BDEAAC[];
// C4B81C: using guessed type int dword_C4B81C;
// C4F28C: using guessed type int dword_C4F28C;
// C4FE3C: using guessed type int dword_C4FE3C;
// 8C7617C: using guessed type int dword_8C7617C;
// 8C76180: using guessed type int dword_8C76180;
// 8C76188: using guessed type int dword_8C76188;

//----- (004DAE00) --------------------------------------------------------
int __cdecl sub_4DAE00(int a1)
{
  char v2; // [sp+Ch] [bp-4Ch]@1
  int v3; // [sp+4Ch] [bp-Ch]@5
  int i; // [sp+50h] [bp-8h]@3
  int v5; // [sp+54h] [bp-4h]@1

  memset(&v2, -858993460, 0x4Cu);
  v5 = dword_1FDF1D8[431 * a1];
  if ( v5 <= 0 )
    v5 = a1;
  for ( i = 0; i < 12; ++i )
  {
    v3 = *(&word_1FDF28A[862 * v5] + i);
    if ( v3 > 0 && v3 < 1000 )
      return v5;
  }
  return 0;
}
// 1FDF1D8: using guessed type int dword_1FDF1D8[];
// 1FDF28A: using guessed type __int16 word_1FDF28A[];

//----- (004DAEB0) --------------------------------------------------------
int __cdecl sub_4DAEB0(signed int a1, signed int a2)
{
  int result; // eax@3
  char v3; // [sp+Ch] [bp-40h]@1

  memset(&v3, -858993460, 0x40u);
  switch ( a1 )
  {
    case 1901:
      switch ( a2 )
      {
        case 2491:
          result = 3605;
          break;
        case 2492:
          result = 3606;
          break;
        case 2493:
          result = 3607;
          break;
        case 2494:
          result = 3608;
          break;
        default:
          result = 0;
          break;
      }
      break;
    case 1902:
      switch ( a2 )
      {
        case 2551:
          result = 3625;
          break;
        case 2552:
          result = 3626;
          break;
        case 2553:
          result = 3627;
          break;
        case 2554:
          result = 3628;
          break;
        default:
          result = 0;
          break;
      }
      break;
    case 1903:
      switch ( a2 )
      {
        case 2611:
          result = 3645;
          break;
        case 2612:
          result = 3646;
          break;
        case 2613:
          result = 3647;
          break;
        case 2614:
          result = 3648;
          break;
        default:
          result = 0;
          break;
      }
      break;
    case 1904:
      switch ( a2 )
      {
        case 2671:
          result = 3665;
          break;
        case 2672:
          result = 3666;
          break;
        case 2673:
          result = 3667;
          break;
        case 2674:
          result = 3668;
          break;
        default:
          result = 0;
          break;
      }
      break;
    case 1905:
      switch ( a2 )
      {
        case 2731:
          result = 3685;
          break;
        case 2732:
          result = 3686;
          break;
        case 2733:
          result = 3687;
          break;
        case 2734:
          result = 3688;
          break;
        default:
          result = 0;
          break;
      }
      break;
    case 1906:
      switch ( a2 )
      {
        case 2791:
          result = 3705;
          break;
        case 2792:
          result = 3706;
          break;
        case 2793:
          result = 3707;
          break;
        case 2794:
          result = 3708;
          break;
        default:
          result = 0;
          break;
      }
      break;
    case 1907:
      switch ( a2 )
      {
        case 2859:
          result = 3729;
          break;
        case 2860:
          result = 3730;
          break;
        case 2861:
          result = 3731;
          break;
        case 2862:
          result = 3732;
          break;
        default:
          result = 0;
          break;
      }
      break;
    case 1908:
      switch ( a2 )
      {
        case 2863:
          result = 3733;
          break;
        case 2864:
          result = 3734;
          break;
        case 2865:
          result = 3735;
          break;
        case 2866:
          result = 3736;
          break;
        default:
          result = 0;
          break;
      }
      break;
    case 1909:
      switch ( a2 )
      {
        case 2895:
          result = 3765;
          break;
        case 2896:
          result = 3766;
          break;
        case 2897:
          result = 3767;
          break;
        case 2898:
          result = 3768;
          break;
        default:
          result = 0;
          break;
      }
      break;
    case 1910:
      switch ( a2 )
      {
        case 2935:
          result = 3785;
          break;
        case 2936:
          result = 3786;
          break;
        case 2937:
          result = 3787;
          break;
        case 2938:
          result = 3788;
          break;
        default:
          result = 0;
          break;
      }
      break;
    case 1714:
      if ( a2 == 1711 )
        result = 1713;
      else
        result = 0;
      break;
    default:
      if ( a1 - 13 == a2 )
      {
        if ( a1 < 1234 || a2 > 1237 )
        {
          if ( a1 < 1369 || a2 > 1372 )
          {
            if ( a1 < 1519 || a2 > 1522 )
            {
              if ( a1 < 1669 || a2 > 1672 )
                result = 0;
              else
                result = a1 - 4;
            }
            else
            {
              result = a1 - 4;
            }
          }
          else
          {
            result = a1 - 4;
          }
        }
        else
        {
          result = a1 - 4;
        }
      }
      else
      {
        result = 0;
      }
      break;
  }
  return result;
}

//----- (004DB410) --------------------------------------------------------
signed int __cdecl sub_4DB410(int a1, int a2)
{
  signed int result; // eax@1
  char v3; // [sp+Ch] [bp-40h]@1

  result = -858993460;
  memset(&v3, -858993460, 0x40u);
  if ( a1 >= 0 )
  {
    if ( a1 < 100 )
    {
      dword_74F8668[a1] = a2;
      result = a1;
      dword_1FDF2D8[431 * a2] = a1;
    }
  }
  return result;
}
// 1FDF2D8: using guessed type int dword_1FDF2D8[];
// 74F8668: using guessed type int dword_74F8668[];

//----- (004DB470) --------------------------------------------------------
int __cdecl sub_4DB470(signed int a1)
{
  int result; // eax@1
  char v2; // [sp+Ch] [bp-44h]@1
  int v3; // [sp+4Ch] [bp-4h]@3

  result = -858993460;
  memset(&v2, -858993460, 0x44u);
  if ( a1 >= 1000 )
  {
    if ( a1 < 12800 )
    {
      result = 1724 * a1;
      v3 = dword_1FDF2D8[431 * a1];
      if ( v3 > 0 )
      {
        if ( v3 < 100 )
        {
          dword_74F8668[v3] = 0;
          result = 1724 * a1;
          dword_1FDF2D8[431 * a1] = 0;
        }
      }
    }
  }
  return result;
}
// 1FDF2D8: using guessed type int dword_1FDF2D8[];
// 74F8668: using guessed type int dword_74F8668[];

//----- (004DB9A0) --------------------------------------------------------
int __usercall sub_4DB9A0<eax>(int a1<ebx>, int a2<esi>, unsigned int a3, int a4, int a5)
{
  int v5; // eax@12
  int v6; // eax@12
  int v7; // eax@12
  int v8; // eax@14
  int v9; // eax@14
  int v10; // eax@14
  int v11; // eax@14
  int v12; // eax@15
  int v13; // eax@16
  int v14; // eax@19
  int v15; // eax@19
  int v16; // eax@19
  const void *v18; // [sp-10h] [bp-88h]@12
  int v19; // [sp-Ch] [bp-84h]@12
  signed int v20; // [sp-8h] [bp-80h]@12
  int v21; // [sp-4h] [bp-7Ch]@12
  char v22; // [sp+0h] [bp-78h]@4
  int v23; // [sp+4h] [bp-74h]@22
  int v24; // [sp+8h] [bp-70h]@22
  char v25; // [sp+Ch] [bp-6Ch]@1
  SIZE_T nSize; // [sp+4Ch] [bp-2Ch]@17
  int v27; // [sp+50h] [bp-28h]@16
  struct _MEMORY_BASIC_INFORMATION Buffer; // [sp+54h] [bp-24h]@16
  int v29; // [sp+70h] [bp-8h]@6
  int v30; // [sp+74h] [bp-4h]@3

  memset(&v25, -858993460, 0x6Cu);
  ++dword_A8DFB78;
  ++dword_A8DFB88;
  if ( dword_A8DFB88 > (unsigned int)dword_A8DFB84 )
    dword_A8DFB84 = dword_A8DFB88;
  v30 = sub_4DBD90(a1, a2, a3);
  if ( (unsigned int)v30 >= 0x3FF
    && sub_4EB280(
         a1,
         a2,
         2,
         (int)"d:\\wyd_server\\stackwalker.cpp",
         word_5A1CA4 + 14,
         0,
         "HashIdx < ALLOC_HASH_ENTRIES",
         v22) == 1 )
    __debugbreak();
  v29 = (int)&dword_A64E580[329 * v30];
  if ( dword_A64E580[329 * v30] )
  {
    ++dword_A8DFB7C;
    ++dword_A8DFB90;
    if ( dword_A8DFB90 > (unsigned int)dword_A8DFB8C )
      dword_A8DFB8C = dword_A8DFB90;
    while ( *(_DWORD *)(v29 + 12) )
      v29 = *(_DWORD *)(v29 + 12);
    *(_DWORD *)(v29 + 12) = sub_4E5910(a1, a2, 1316, 1, 2, (int)"d:\\wyd_server\\stackwalker.cpp", word_5A1CA4 + 34);
    v29 = *(_DWORD *)(v29 + 12);
  }
  *(_DWORD *)v29 = a3;
  *(_DWORD *)(v29 + 4) = a5;
  *(_DWORD *)(v29 + 12) = 0;
  *(_DWORD *)(v29 + 16) = *(_DWORD *)(a4 + 184);
  v21 = v29 + 20;
  v20 = 4;
  v19 = v29 + 24;
  v18 = *(const void **)(a4 + 184);
  v5 = (int)GetCurrentProcess();
  v6 = sub_4E46A0(&v18 == &v18, v5, a1, (unsigned int)&v18, (int)&v22);
  v7 = ReadProcessMemory((HANDLE)v6, v18, (LPVOID)v19, v20, (SIZE_T *)v21);
  if ( !sub_4E46A0(&v22 == &v22, v7, a1, (unsigned int)&v18, (int)&v22) )
  {
    sub_4E4640((void *)(v29 + 24), 0, 4u);
    *(_DWORD *)(v29 + 20) = 0;
    *(_DWORD *)(v29 + 16) = 0;
  }
  *(_DWORD *)(v29 + 28) = *(_DWORD *)(a4 + 180);
  v21 = v29 + 32;
  v20 = 1280;
  v19 = v29 + 36;
  v18 = *(const void **)(a4 + 180);
  v8 = (int)GetCurrentProcess();
  v9 = sub_4E46A0(&v18 == &v18, v8, a1, (unsigned int)&v18, (int)&v22);
  v10 = ReadProcessMemory((HANDLE)v9, v18, (LPVOID)v19, v20, (SIZE_T *)v21);
  v11 = sub_4E46A0(&v22 == &v22, v10, a1, (unsigned int)&v18, (int)&v22);
  if ( !v11 )
  {
    sub_4E4640((void *)(v29 + 36), 0, 0x500u);
    *(_DWORD *)(v29 + 32) = 0;
    *(_DWORD *)(v29 + 28) = 0;
    v12 = GetLastError();
    v11 = sub_4E46A0(&v22 == &v22, v12, a1, (unsigned int)&v18, (int)&v22);
    if ( v11 == 299 )
    {
      v21 = 28;
      v20 = (signed int)&Buffer;
      v19 = *(_DWORD *)(a4 + 180);
      v13 = VirtualQuery((LPCVOID)v19, &Buffer, 0x1Cu);
      v11 = sub_4E46A0(&v22 == &v22, v13, a1, (unsigned int)&v18, (int)&v22);
      v27 = v11;
      if ( v11 )
      {
        v11 = (int)((char *)Buffer.BaseAddress + Buffer.RegionSize - *(_DWORD *)(a4 + 180));
        nSize = (SIZE_T)((char *)Buffer.BaseAddress + Buffer.RegionSize - *(_DWORD *)(a4 + 180));
        if ( nSize )
        {
          if ( nSize < 0x500 )
          {
            v21 = v29 + 32;
            v20 = nSize;
            v19 = v29 + 36;
            v18 = *(const void **)(a4 + 180);
            v14 = (int)GetCurrentProcess();
            v15 = sub_4E46A0(&v18 == &v18, v14, a1, (unsigned int)&v18, (int)&v22);
            v16 = ReadProcessMemory((HANDLE)v15, v18, (LPVOID)v19, v20, (SIZE_T *)v21);
            if ( sub_4E46A0(&v22 == &v22, v16, a1, (unsigned int)&v18, (int)&v22) )
            {
              v11 = *(_DWORD *)(a4 + 180);
              *(_DWORD *)(v29 + 28) = v11;
            }
            else
            {
              sub_4E4640((void *)(v29 + 36), 0, 0x500u);
              *(_DWORD *)(v29 + 32) = 0;
              v11 = v29;
              *(_DWORD *)(v29 + 28) = 0;
            }
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v11, v24, v22, v23);
}
// 5A1CA4: using guessed type __int16 word_5A1CA4;
// A8DFB78: using guessed type int dword_A8DFB78;
// A8DFB7C: using guessed type int dword_A8DFB7C;
// A8DFB84: using guessed type int dword_A8DFB84;
// A8DFB88: using guessed type int dword_A8DFB88;
// A8DFB8C: using guessed type int dword_A8DFB8C;
// A8DFB90: using guessed type int dword_A8DFB90;

//----- (004DBD90) --------------------------------------------------------
int __usercall sub_4DBD90<eax>(int a1<ebx>, int a2<esi>, unsigned int a3)
{
  char v4; // [sp+0h] [bp-54h]@0
  int v5; // [sp+4h] [bp-50h]@0
  int v6; // [sp+8h] [bp-4Ch]@0
  char v7; // [sp+Ch] [bp-48h]@1
  unsigned int v8; // [sp+4Ch] [bp-8h]@1
  int v9; // [sp+50h] [bp-4h]@1

  memset(&v7, -858993460, 0x48u);
  v8 = a3;
  v9 = a3 % 0x3FF;
  if ( a3 % 0x3FF >= 0x3FF
    && sub_4EB280(
         a1,
         a2,
         2,
         (int)"d:\\wyd_server\\stackwalker.cpp",
         word_5A1CA8 + 8,
         0,
         "(ulTemp >= 0) && (ulTemp < ALLOC_HASH_ENTRIES)",
         v4) == 1 )
    __debugbreak();
  return sub_4E46A0(1, v9, v6, v4, v5);
}
// 5A1CA8: using guessed type __int16 word_5A1CA8;

//----- (004DBE30) --------------------------------------------------------
int __usercall sub_4DBE30<eax>(int a1<ebx>, int a2<esi>, unsigned int a3)
{
  const void *v3; // esi@10
  int v4; // eax@11
  char v6; // [sp+0h] [bp-5Ch]@0
  int v7; // [sp+4h] [bp-58h]@0
  int v8; // [sp+8h] [bp-54h]@0
  char v9; // [sp+Ch] [bp-50h]@1
  int v10; // [sp+4Ch] [bp-10h]@10
  int v11; // [sp+50h] [bp-Ch]@4
  int i; // [sp+54h] [bp-8h]@4
  int v13; // [sp+58h] [bp-4h]@1

  memset(&v9, -858993460, 0x50u);
  v13 = sub_4DBD90(a1, a2, a3);
  if ( (unsigned int)v13 >= 0x3FF
    && sub_4EB280(
         a1,
         a2,
         2,
         (int)"d:\\wyd_server\\stackwalker.cpp",
         word_5A1CAC + 8,
         0,
         "HashIdx < ALLOC_HASH_ENTRIES",
         v6) == 1 )
    __debugbreak();
  v11 = 0;
  for ( i = (int)&dword_A64E580[329 * v13]; ; i = *(_DWORD *)(i + 12) )
  {
    if ( !i )
    {
      v4 = 0;
      return sub_4E46A0(1, v4, v8, v6, v7);
    }
    if ( *(_DWORD *)i == a3 )
      break;
    v11 = i;
  }
  ++dword_A8DFB80;
  --dword_A8DFB88;
  if ( v11 )
  {
    --dword_A8DFB90;
    *(_DWORD *)(v11 + 12) = *(_DWORD *)(i + 12);
    sub_4E5F50(a1, a2, i, 2);
    v4 = 1;
  }
  else
  {
    if ( *(_DWORD *)(i + 12) )
    {
      v10 = *(_DWORD *)(i + 12);
      v3 = *(const void **)(i + 12);
      memcpy((void *)i, v3, 0x524u);
      sub_4E5F50(a1, (int)((char *)v3 + 1316), v10, 2);
    }
    else
    {
      sub_4E4640(&dword_A64E580[329 * v13], 0, 0x524u);
    }
    v4 = 1;
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 5A1CAC: using guessed type __int16 word_5A1CAC;
// A8DFB80: using guessed type int dword_A8DFB80;
// A8DFB88: using guessed type int dword_A8DFB88;
// A8DFB90: using guessed type int dword_A8DFB90;

//----- (004DBFF0) --------------------------------------------------------
int __usercall sub_4DBFF0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, unsigned int a5)
{
  signed int v5; // eax@2
  int v6; // eax@7
  int v7; // eax@13
  char v9; // [sp+0h] [bp-60h]@13
  int v10; // [sp+4h] [bp-5Ch]@16
  int v11; // [sp+8h] [bp-58h]@16
  char v12; // [sp+Ch] [bp-54h]@1
  int v13; // [sp+4Ch] [bp-14h]@10
  int v14; // [sp+50h] [bp-10h]@9
  int v15; // [sp+54h] [bp-Ch]@12
  LPMALLOCSPY pMallocSpy; // [sp+58h] [bp-8h]@12
  int v17; // [sp+5Ch] [bp-4h]@13
  int v18; // [sp+60h] [bp+0h]@13

  memset(&v12, -858993460, 0x54u);
  if ( dword_A8DFB94 )
  {
    v5 = 2;
  }
  else
  {
    if ( a5 > 3 )
      dword_A8DFB4C = 0;
    else
      dword_A8DFB4C = a5;
    if ( a4 )
    {
      sub_4EB940(a1, a2, a4);
      dword_A8DFB54 = v6;
    }
    else
    {
      dword_A8DFB54 = 0;
    }
    dword_A8DFB50 = a3;
    sub_4DC980();
    v14 = sub_4EB920(a1, a2, 0xCu);
    if ( v14 )
      v13 = sub_401127(v14);
    else
      v13 = 0;
    v15 = v13;
    pMallocSpy = (LPMALLOCSPY)v13;
    if ( v13 )
    {
      v7 = CoRegisterMallocSpy(pMallocSpy);
      v17 = sub_4E46A0(&v9 == &v9, v7, a1, (unsigned int)&v18, (int)&v9);
      if ( v17 < 0 )
        sub_4E8AC0(a1, (int)&v9, (int)"\nCoRegisterMallocSpay failed with %.8x", v17);
    }
    dword_A8DFBBC = sub_4E6560((int (*)())sub_4DCAA0);
    v5 = sub_4DD8D0(a1);
  }
  return sub_4E46A0(1, v5, v11, v9, v10);
}
// 401127: using guessed type int __thiscall sub_401127(_DWORD);
// A8DFB4C: using guessed type int dword_A8DFB4C;
// A8DFB50: using guessed type int dword_A8DFB50;
// A8DFB54: using guessed type int dword_A8DFB54;
// A8DFB94: using guessed type int dword_A8DFB94;
// A8DFBBC: using guessed type int (__cdecl *dword_A8DFBBC)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (004DC140) --------------------------------------------------------
int __thiscall sub_4DC140(void *this)
{
  char v2; // [sp+0h] [bp-50h]@0
  int v3; // [sp+4h] [bp-4Ch]@0
  int v4; // [sp+8h] [bp-48h]@0
  char v5; // [sp+Ch] [bp-44h]@1
  int v6; // [sp+4Ch] [bp-4h]@1

  memset(&v5, -858993460, 0x44u);
  v6 = (int)this;
  sub_4012FD(this);
  *(_DWORD *)v6 = off_58F508;
  *(_DWORD *)(v6 + 8) = 0;
  return sub_4E46A0(1, v6, v4, v2, v3);
}
// 4012FD: using guessed type int __thiscall sub_4012FD(_DWORD);
// 58F508: using guessed type int (__stdcall *off_58F508[15])();

//----- (004DC1A0) --------------------------------------------------------
int __userpurge sub_4DC1A0<eax>(int a1<ebx>, int a2, int a3, int a4)
{
  int v4; // eax@6
  char v6; // [sp+0h] [bp-50h]@6
  int v7; // [sp+4h] [bp-4Ch]@6
  int v8; // [sp+8h] [bp-48h]@6
  char v9; // [sp+Ch] [bp-44h]@1
  int v10; // [sp+4Ch] [bp-4h]@1
  int v11; // [sp+50h] [bp+0h]@6

  memset(&v9, -858993460, 0x44u);
  v10 = 0;
  if ( sub_40182F(a3, &unk_590800) )
  {
    *(_DWORD *)a4 = a2;
  }
  else
  {
    if ( sub_40182F(a3, &unk_5907A0) )
    {
      *(_DWORD *)a4 = a2;
    }
    else
    {
      *(_DWORD *)a4 = 0;
      v10 = -2147467262;
    }
  }
  v4 = (*(int (__stdcall **)(int))(*(_DWORD *)a2 + 4))(a2);
  sub_4E46A0(&v6 == &v6, v4, a1, (unsigned int)&v11, (int)&v6);
  return sub_4E46A0(1, v10, v8, v6, v7);
}
// 40182F: using guessed type _DWORD __cdecl sub_40182F(_DWORD, _DWORD);

//----- (004DC260) --------------------------------------------------------
int __userpurge sub_4DC260<eax>(int a1<ebx>, int a2)
{
  int v2; // eax@1
  int v3; // eax@1
  char v5; // [sp+0h] [bp-4Ch]@1
  int v6; // [sp+4h] [bp-48h]@1
  int v7; // [sp+8h] [bp-44h]@1
  char v8; // [sp+Ch] [bp-40h]@1
  int v9; // [sp+4Ch] [bp+0h]@1

  memset(&v8, -858993460, 0x40u);
  v2 = InterlockedIncrement((volatile LONG *)(a2 + 4));
  v3 = sub_4E46A0(&v5 == &v5, v2, a1, (unsigned int)&v9, (int)&v5);
  return sub_4E46A0(1, v3, v7, v5, v6);
}

//----- (004DC2C0) --------------------------------------------------------
int __userpurge sub_4DC2C0<eax>(int a1<ebx>, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-5Ch]@1
  int v5; // [sp+4h] [bp-58h]@5
  int v6; // [sp+8h] [bp-54h]@5
  char v7; // [sp+Ch] [bp-50h]@1
  int v8; // [sp+4Ch] [bp-10h]@3
  int v9; // [sp+50h] [bp-Ch]@2
  int v10; // [sp+54h] [bp-8h]@2
  int v11; // [sp+58h] [bp-4h]@1
  int v12; // [sp+5Ch] [bp+0h]@1

  memset(&v7, -858993460, 0x50u);
  v2 = InterlockedDecrement((volatile LONG *)(a2 + 4));
  v11 = sub_4E46A0(&v4 == &v4, v2, a1, (unsigned int)&v12, (int)&v4);
  if ( !v11 )
  {
    v9 = a2;
    v10 = a2;
    if ( a2 )
      v8 = sub_401AAF(1);
    else
      v8 = 0;
  }
  return sub_4E46A0(1, v11, v6, v4, v5);
}
// 401AAF: using guessed type _DWORD __stdcall sub_401AAF(_DWORD);

//----- (004DC360) --------------------------------------------------------
int __stdcall sub_4DC360(int a1, int a2)
{
  *(_DWORD *)(a1 + 8) = a2;
  return a2;
}

//----- (004DC3A0) --------------------------------------------------------
int __userpurge sub_4DC3A0<eax>(int a1<ebx>, int a2, int a3)
{
  int v3; // eax@1
  int v4; // eax@1
  int v5; // eax@1
  int v6; // eax@1
  int v7; // eax@1
  int v8; // eax@2
  int v9; // eax@4
  int v11; // [sp-18h] [bp-334h]@1
  int v12; // [sp-14h] [bp-330h]@1
  HANDLE *v13; // [sp-10h] [bp-32Ch]@1
  DWORD v14; // [sp-Ch] [bp-328h]@1
  BOOL v15; // [sp-8h] [bp-324h]@1
  DWORD v16; // [sp-4h] [bp-320h]@1
  char v17; // [sp+0h] [bp-31Ch]@1
  int v18; // [sp+4h] [bp-318h]@5
  int v19; // [sp+8h] [bp-314h]@5
  char v20; // [sp+Ch] [bp-310h]@1
  CONTEXT Context; // [sp+4Ch] [bp-2D0h]@2
  HANDLE hObject; // [sp+318h] [bp-4h]@1

  memset(&v20, -858993460, 0x310u);
  v16 = 2;
  v15 = 0;
  v14 = 0;
  v13 = &hObject;
  v3 = (int)GetCurrentProcess();
  v12 = sub_4E46A0(&v13 == &v13, v3, a1, (unsigned int)&v13, (int)&v17);
  v4 = (int)GetCurrentThread();
  v11 = sub_4E46A0(&v12 == &v12, v4, a1, (unsigned int)&v12, (int)&v17);
  v5 = (int)GetCurrentProcess();
  v6 = sub_4E46A0(&v11 == &v11, v5, a1, (unsigned int)&v11, (int)&v17);
  v7 = DuplicateHandle((HANDLE)v6, (HANDLE)v11, (HANDLE)v12, v13, v14, v15, v16);
  if ( sub_4E46A0(&v17 == &v17, v7, a1, (unsigned int)&v11, (int)&v17) )
  {
    sub_4E4640(&Context, 0, 0x2CCu);
    Context.ContextFlags = 65543;
    v8 = GetThreadContext(hObject, &Context);
    if ( sub_4E46A0(&v17 == &v17, v8, a1, (unsigned int)&v11, (int)&v17) )
    {
      v16 = *(_DWORD *)(a2 + 8);
      sub_401BB8(a3, &Context, v16);
    }
    v9 = CloseHandle(hObject);
    sub_4E46A0(&v17 == &v17, v9, a1, (unsigned int)&v11, (int)&v17);
  }
  return sub_4E46A0(1, a3, v19, v17, v18);
}
// 401BB8: using guessed type _DWORD __cdecl sub_401BB8(_DWORD, _DWORD, _DWORD);

//----- (004DC4D0) --------------------------------------------------------
int __stdcall sub_4DC4D0(int a1, int a2, int a3)
{
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  sub_40140B(a2);
  return sub_4E46A0(1, a2, v6, v4, v5);
}
// 40140B: using guessed type _DWORD __cdecl sub_40140B(_DWORD);

//----- (004DC520) --------------------------------------------------------
signed int __stdcall sub_4DC520(int a1, int a2)
{
  return -858993460;
}

//----- (004DC550) --------------------------------------------------------
int __stdcall sub_4DC550(int a1, int a2, int a3, int a4, int a5)
{
  char v6; // [sp+0h] [bp-4Ch]@0
  int v7; // [sp+4h] [bp-48h]@0
  int v8; // [sp+8h] [bp-44h]@0
  char v9; // [sp+Ch] [bp-40h]@1

  memset(&v9, -858993460, 0x40u);
  sub_40140B(a2);
  *(_DWORD *)(a1 + 8) = a3;
  *(_DWORD *)a4 = a2;
  return sub_4E46A0(1, a3, v8, v6, v7);
}
// 40140B: using guessed type _DWORD __cdecl sub_40140B(_DWORD);

//----- (004DC5B0) --------------------------------------------------------
int __cdecl sub_4DC5B0(int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  v2 = sub_4E9350(a1, a2, 0x10u);
  return sub_4E46A0(1, v2 == 0, v6, v4, v5);
}

//----- (004DC600) --------------------------------------------------------
int __userpurge sub_4DC600<eax>(int a1<ebx>, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // eax@1
  int v6; // eax@1
  int v7; // eax@1
  int v8; // eax@1
  int v9; // eax@2
  int v10; // eax@4
  int v12; // [sp-18h] [bp-334h]@1
  int v13; // [sp-14h] [bp-330h]@1
  HANDLE *v14; // [sp-10h] [bp-32Ch]@1
  DWORD v15; // [sp-Ch] [bp-328h]@1
  BOOL v16; // [sp-8h] [bp-324h]@1
  DWORD v17; // [sp-4h] [bp-320h]@1
  char v18; // [sp+0h] [bp-31Ch]@1
  int v19; // [sp+4h] [bp-318h]@5
  int v20; // [sp+8h] [bp-314h]@5
  char v21; // [sp+Ch] [bp-310h]@1
  CONTEXT Context; // [sp+4Ch] [bp-2D0h]@2
  HANDLE hObject; // [sp+318h] [bp-4h]@1

  memset(&v21, -858993460, 0x310u);
  v17 = 2;
  v16 = 0;
  v15 = 0;
  v14 = &hObject;
  v4 = (int)GetCurrentProcess();
  v13 = sub_4E46A0(&v14 == &v14, v4, a1, (unsigned int)&v14, (int)&v18);
  v5 = (int)GetCurrentThread();
  v12 = sub_4E46A0(&v13 == &v13, v5, a1, (unsigned int)&v13, (int)&v18);
  v6 = (int)GetCurrentProcess();
  v7 = sub_4E46A0(&v12 == &v12, v6, a1, (unsigned int)&v12, (int)&v18);
  v8 = DuplicateHandle((HANDLE)v7, (HANDLE)v12, (HANDLE)v13, v14, v15, v16, v17);
  if ( sub_4E46A0(&v18 == &v18, v8, a1, (unsigned int)&v12, (int)&v18) )
  {
    sub_4E4640(&Context, 0, 0x2CCu);
    Context.ContextFlags = 65543;
    v9 = GetThreadContext(hObject, &Context);
    if ( sub_4E46A0(&v18 == &v18, v9, a1, (unsigned int)&v12, (int)&v18) )
    {
      v17 = *(_DWORD *)(a2 + 8);
      sub_401BB8(a3, &Context, v17);
    }
    v10 = CloseHandle(hObject);
    sub_4E46A0(&v18 == &v18, v10, a1, (unsigned int)&v12, (int)&v18);
  }
  return sub_4E46A0(1, a3, v20, v18, v19);
}
// 401BB8: using guessed type _DWORD __cdecl sub_401BB8(_DWORD, _DWORD, _DWORD);

//----- (004DC730) --------------------------------------------------------
int __stdcall sub_4DC730(int a1, int a2, int a3)
{
  return a2;
}

//----- (004DC760) --------------------------------------------------------
int __stdcall sub_4DC760(int a1, int a2, int a3)
{
  return a2;
}

//----- (004DC790) --------------------------------------------------------
int __stdcall sub_4DC790(int a1, int a2, int a3)
{
  return a2;
}

//----- (004DC7C0) --------------------------------------------------------
int __stdcall sub_4DC7C0(int a1, int a2, int a3, int a4)
{
  return a4;
}

//----- (004DC7F0) --------------------------------------------------------
signed int __stdcall sub_4DC7F0(int a1)
{
  return -858993460;
}

//----- (004DC820) --------------------------------------------------------
signed int __stdcall sub_4DC820(int a1)
{
  return -858993460;
}

//----- (004DC850) --------------------------------------------------------
int __thiscall sub_4DC850(void *this)
{
  char v2; // [sp+0h] [bp-50h]@0
  int v3; // [sp+4h] [bp-4Ch]@0
  int v4; // [sp+8h] [bp-48h]@0
  char v5; // [sp+Ch] [bp-44h]@1
  int v6; // [sp+4Ch] [bp-4h]@1

  memset(&v5, -858993460, 0x44u);
  v6 = (int)this;
  sub_4018ED(this);
  return sub_4E46A0(1, v6, v4, v2, v3);
}
// 4018ED: using guessed type int __thiscall sub_4018ED(_DWORD);

//----- (004DC8A0) --------------------------------------------------------
int __userpurge sub_4DC8A0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, char a4)
{
  char v5; // [sp+0h] [bp-50h]@0
  int v6; // [sp+4h] [bp-4Ch]@0
  int v7; // [sp+8h] [bp-48h]@0
  char v8; // [sp+Ch] [bp-44h]@1
  int v9; // [sp+4Ch] [bp-4h]@1

  memset(&v8, -858993460, 0x44u);
  v9 = a1;
  sub_401582(a1);
  if ( a4 & 1 )
    sub_4EB990(a2, a3, v9);
  return sub_4E46A0(1, v9, v7, v5, v6);
}
// 401582: using guessed type int __thiscall sub_401582(_DWORD);

//----- (004DC910) --------------------------------------------------------
void *__thiscall sub_4DC910(void *this)
{
  void *result; // eax@1

  result = this;
  *(_DWORD *)this = off_58F508;
  return result;
}
// 58F508: using guessed type int (__stdcall *off_58F508[15])();

//----- (004DC950) --------------------------------------------------------
void *__thiscall sub_4DC950(void *this)
{
  return this;
}

//----- (004DC980) --------------------------------------------------------
int __cdecl sub_4DC980()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  sub_4E4640(&unk_A797070, 0, 0x148ADCu);
  dword_A8DFB5C = 0;
  dword_A8DFB60 = 0;
  dword_A8DFB64 = 0;
  dword_A8DFB6C = 0;
  dword_A8DFB68 = 0;
  dword_A8DFB70 = 0;
  dword_A8DFB74 = 0;
  v0 = (int)sub_4E4640(dword_A64E580, 0, 0x148ADCu);
  dword_A8DFB78 = 0;
  dword_A8DFB7C = 0;
  dword_A8DFB80 = 0;
  dword_A8DFB88 = 0;
  dword_A8DFB84 = 0;
  dword_A8DFB8C = 0;
  dword_A8DFB90 = 0;
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// A8DFB5C: using guessed type int dword_A8DFB5C;
// A8DFB60: using guessed type int dword_A8DFB60;
// A8DFB64: using guessed type int dword_A8DFB64;
// A8DFB68: using guessed type int dword_A8DFB68;
// A8DFB6C: using guessed type int dword_A8DFB6C;
// A8DFB70: using guessed type int dword_A8DFB70;
// A8DFB74: using guessed type int dword_A8DFB74;
// A8DFB78: using guessed type int dword_A8DFB78;
// A8DFB7C: using guessed type int dword_A8DFB7C;
// A8DFB80: using guessed type int dword_A8DFB80;
// A8DFB84: using guessed type int dword_A8DFB84;
// A8DFB88: using guessed type int dword_A8DFB88;
// A8DFB8C: using guessed type int dword_A8DFB8C;
// A8DFB90: using guessed type int dword_A8DFB90;

//----- (004DCAA0) --------------------------------------------------------
int __usercall sub_4DCAA0<eax>(int a1<ebx>, int a2, int a3, int a4, int a5, signed int a6, int a7, int a8)
{
  int v8; // eax@2
  int v9; // eax@7
  int v10; // eax@9
  int v11; // eax@10
  int v12; // eax@11
  int v13; // eax@26
  int v14; // eax@27
  int v15; // eax@49
  int v16; // eax@50
  int v17; // eax@52
  int v18; // eax@52
  int v19; // eax@52
  int v20; // eax@52
  int v21; // eax@52
  int v22; // eax@53
  int v23; // eax@54
  int v24; // eax@56
  int v25; // eax@59
  int v26; // eax@60
  int v27; // eax@61
  int v28; // eax@67
  int v29; // eax@70
  int v30; // eax@71
  int v32; // [sp-18h] [bp-348h]@52
  int v33; // [sp-14h] [bp-344h]@52
  HANDLE *v34; // [sp-10h] [bp-340h]@52
  DWORD v35; // [sp-Ch] [bp-33Ch]@30
  BOOL v36; // [sp-8h] [bp-338h]@30
  DWORD v37; // [sp-4h] [bp-334h]@30
  char v38; // [sp+0h] [bp-330h]@7
  int v39; // [sp+4h] [bp-32Ch]@73
  int v40; // [sp+8h] [bp-328h]@73
  char v41; // [sp+Ch] [bp-324h]@1
  CONTEXT Context; // [sp+4Ch] [bp-2E4h]@56
  HANDLE hObject; // [sp+318h] [bp-18h]@52
  int v44; // [sp+31Ch] [bp-14h]@43
  int v45; // [sp+320h] [bp-10h]@43
  int v46; // [sp+324h] [bp-Ch]@43
  int v47; // [sp+328h] [bp-8h]@35
  int v48; // [sp+32Ch] [bp-4h]@25
  int v49; // [sp+330h] [bp+0h]@7

  memset(&v41, -858993460, 0x324u);
  if ( (unsigned __int16)a5 == 2 )
  {
    v8 = 1;
  }
  else
  {
    if ( dword_5A1CF0 & 1 || a2 != 1 && a2 != 2 )
    {
      v10 = InterlockedIncrement(&Addend);
      if ( sub_4E46A0(&v38 == &v38, v10, a1, (unsigned int)&v49, (int)&v38) <= 1 )
      {
        if ( dword_A8DFB4C )
          sub_4DD270(a1, (int)&v38, 1);
        if ( a2 != 1
          && a2 != 2
          && a2 != 3
          && sub_4EB280(a1, (int)&v38, 2, (int)"d:\\wyd_server\\stackwalker.cpp", word_5A1CB0 + 32, 0, 0, v38) == 1 )
          __debugbreak();
        if ( (signed int)(unsigned __int16)a5 >= 5
          && sub_4EB280(a1, (int)&v38, 2, (int)"d:\\wyd_server\\stackwalker.cpp", word_5A1CB0 + 33, 0, 0, v38) == 1 )
          __debugbreak();
        if ( a2 == 3
          && sub_4E6A50(a3)
          && (v48 = a3 - 32,
              a4 = *(_DWORD *)(a3 - 32 + 16),
              a6 = *(_DWORD *)(a3 - 32 + 24),
              *(_DWORD *)(a3 - 32 + 20) == 3) )
        {
          v13 = InterlockedDecrement(&Addend);
          sub_4E46A0(&v38 == &v38, v13, a1, (unsigned int)&v49, (int)&v38);
          if ( dword_A8DFBBC )
          {
            v14 = dword_A8DFBBC(3, a3, a4, a5, a6, a7, a8);
            sub_4E46A0(&v38 == &v38, v14, a1, (unsigned int)&v49, (int)&v38);
          }
          v8 = 1;
        }
        else
        {
          if ( dword_A8DFB4C )
          {
            v37 = a6;
            v36 = (BOOL)off_5A1B4C[(unsigned __int16)a5];
            v35 = a4;
            sub_4E5440(
              a1,
              (int)&v38,
              dword_A8DFB58,
              (int)"##### Memory operation: %s a %d-byte '%s' block (# %ld)",
              *(_DWORD *)&off_5A1B3C[4 * a2]);
            if ( a3 )
              sub_4E5440(a1, (int)&v38, dword_A8DFB58, (int)" at 0x%X", a3);
            sub_4E5440(a1, (int)&v38, dword_A8DFB58, (int)"\n", v38);
          }
          if ( a2 == 3 )
          {
            if ( a6 )
            {
              v47 = sub_4DD720(a1, (int)&v38, a6);
              if ( dword_A8DFB4C && !v47 )
                sub_4E5440(
                  a1,
                  (int)&v38,
                  dword_A8DFB58,
                  (int)"###### RequestID not found in hash table for FREEING (%i)!\n",
                  a6);
            }
            else
            {
              if ( dword_A8DFB4C )
                sub_4E5440(a1, (int)&v38, dword_A8DFB58, (int)"###### No valid RequestID for FREEING! (0x%X)\n", a3);
            }
          }
          if ( a2 == 2 )
          {
            if ( sub_4E6A50(a3) )
            {
              v44 = a3 - 32;
              v45 = *(_DWORD *)(a3 - 32 + 24);
              v46 = sub_4DD720(a1, (int)&v38, v45);
              if ( dword_A8DFB4C )
              {
                if ( v46 )
                {
                  v37 = a6;
                  sub_4E5440(
                    a1,
                    (int)&v38,
                    dword_A8DFB58,
                    (int)"##### Implicit freeing because of re-allocation (# old: %ld, new: %ld)\n",
                    v45);
                }
                else
                {
                  sub_4E5440(
                    a1,
                    (int)&v38,
                    dword_A8DFB58,
                    (int)"###### RequestID not found in hash table for RE-ALLOCATING (%i)!\n",
                    v45);
                }
              }
            }
          }
          if ( (unsigned int)dword_A8DFB4C >= 3 || a2 != 3 )
          {
            v37 = 2;
            v36 = 0;
            v35 = 0;
            v34 = &hObject;
            v17 = (int)GetCurrentProcess();
            v33 = sub_4E46A0(&v34 == &v34, v17, a1, (unsigned int)&v34, (int)&v38);
            v18 = (int)GetCurrentThread();
            v32 = sub_4E46A0(&v33 == &v33, v18, a1, (unsigned int)&v33, (int)&v38);
            v19 = (int)GetCurrentProcess();
            v20 = sub_4E46A0(&v32 == &v32, v19, a1, (unsigned int)&v32, (int)&v38);
            v21 = DuplicateHandle((HANDLE)v20, (HANDLE)v32, (HANDLE)v33, v34, v35, v36, v37);
            if ( sub_4E46A0(&v38 == &v38, v21, a1, (unsigned int)&v32, (int)&v38) )
            {
              sub_4E4640(&Context, 0, 0x2CCu);
              Context.ContextFlags = 65543;
              v24 = GetThreadContext(hObject, &Context);
              if ( sub_4E46A0(&v38 == &v38, v24, a1, (unsigned int)&v32, (int)&v38) )
              {
                if ( (unsigned int)dword_A8DFB4C > 1 )
                {
                  if ( (unsigned int)dword_A8DFB4C <= 2 )
                  {
                    if ( a2 != 3 )
                      sub_4DF670(a1, (int)hObject, (int)&Context, dword_A8DFB58);
                  }
                  else
                  {
                    sub_4DF670(a1, (int)hObject, (int)&Context, dword_A8DFB58);
                  }
                }
                v28 = CloseHandle(hObject);
                sub_4E46A0(&v38 == &v38, v28, a1, (unsigned int)&v32, (int)&v38);
                if ( a2 != 3 && a6 )
                  sub_4DD330(a1, (int)&v38, a6, (int)&Context, a4);
                v29 = InterlockedDecrement(&Addend);
                sub_4E46A0(&v38 == &v38, v29, a1, (unsigned int)&v32, (int)&v38);
                if ( dword_A8DFBBC )
                {
                  v30 = dword_A8DFBBC(a2, a3, a4, a5, a6, a7, a8);
                  sub_4E46A0(&v38 == &v38, v30, a1, (unsigned int)&v32, (int)&v38);
                }
                v8 = 1;
              }
              else
              {
                if ( (unsigned int)dword_A8DFB4C > 1 )
                  sub_4E5440(
                    a1,
                    (int)&v38,
                    dword_A8DFB58,
                    (int)"###### Could not call 'GetThreadContext' successfully\n",
                    v38);
                v25 = InterlockedDecrement(&Addend);
                sub_4E46A0(&v38 == &v38, v25, a1, (unsigned int)&v32, (int)&v38);
                if ( dword_A8DFBBC )
                {
                  v26 = dword_A8DFBBC(a2, a3, a4, a5, a6, a7, a8);
                  sub_4E46A0(&v38 == &v38, v26, a1, (unsigned int)&v32, (int)&v38);
                }
                v27 = CloseHandle(hObject);
                sub_4E46A0(&v38 == &v38, v27, a1, (unsigned int)&v32, (int)&v38);
                v8 = 1;
              }
            }
            else
            {
              sub_4E5440(
                a1,
                (int)&v38,
                dword_A8DFB58,
                (int)"###### Could not call 'DuplicateHandle' successfully\n",
                v38);
              v22 = InterlockedDecrement(&Addend);
              sub_4E46A0(&v38 == &v38, v22, a1, (unsigned int)&v32, (int)&v38);
              if ( dword_A8DFBBC )
              {
                v23 = dword_A8DFBBC(a2, a3, a4, a5, a6, a7, a8);
                sub_4E46A0(&v38 == &v38, v23, a1, (unsigned int)&v32, (int)&v38);
              }
              v8 = 1;
            }
          }
          else
          {
            v15 = InterlockedDecrement(&Addend);
            sub_4E46A0(&v38 == &v38, v15, a1, (unsigned int)&v49, (int)&v38);
            if ( dword_A8DFBBC )
            {
              v16 = dword_A8DFBBC(3, a3, a4, a5, a6, a7, a8);
              sub_4E46A0(&v38 == &v38, v16, a1, (unsigned int)&v49, (int)&v38);
            }
            v8 = 1;
          }
        }
      }
      else
      {
        v11 = InterlockedDecrement(&Addend);
        sub_4E46A0(&v38 == &v38, v11, a1, (unsigned int)&v49, (int)&v38);
        if ( dword_A8DFBBC )
        {
          v12 = dword_A8DFBBC(a2, a3, a4, a5, a6, a7, a8);
          sub_4E46A0(&v38 == &v38, v12, a1, (unsigned int)&v49, (int)&v38);
        }
        v8 = 1;
      }
    }
    else
    {
      if ( dword_A8DFBBC )
      {
        v9 = dword_A8DFBBC(a2, a3, a4, a5, a6, a7, a8);
        sub_4E46A0(&v38 == &v38, v9, a1, (unsigned int)&v49, (int)&v38);
      }
      v8 = 1;
    }
  }
  return sub_4E46A0(1, v8, v40, v38, v39);
}
// 5A1B4C: using guessed type char *off_5A1B4C[5];
// 5A1CB0: using guessed type __int16 word_5A1CB0;
// 5A1CF0: using guessed type int dword_5A1CF0;
// A8DFB4C: using guessed type int dword_A8DFB4C;
// A8DFB58: using guessed type int dword_A8DFB58;
// A8DFBBC: using guessed type int (__cdecl *dword_A8DFBBC)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (004DD270) --------------------------------------------------------
int __usercall sub_4DD270<eax>(int a1<ebx>, int a2<esi>, char a3)
{
  signed int v3; // eax@1
  char v5; // [sp+0h] [bp-4Ch]@0
  int v6; // [sp+4h] [bp-48h]@0
  int v7; // [sp+8h] [bp-44h]@0
  char v8; // [sp+Ch] [bp-40h]@1

  v3 = -858993460;
  memset(&v8, -858993460, 0x40u);
  if ( !dword_A8DFB58 && dword_A8DFB54 )
  {
    if ( a3 )
    {
      v3 = sub_4E4620(a1, a2, (const CHAR *)dword_A8DFB54, (int)"a");
      dword_A8DFB58 = v3;
    }
    else
    {
      v3 = sub_4E4620(a1, a2, (const CHAR *)dword_A8DFB54, (int)"w");
      dword_A8DFB58 = v3;
    }
  }
  if ( !dword_A8DFB58 )
    dword_A8DFB58 = (int)&unk_5A1E40;
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// A8DFB54: using guessed type int dword_A8DFB54;
// A8DFB58: using guessed type int dword_A8DFB58;

//----- (004DD330) --------------------------------------------------------
int __usercall sub_4DD330<eax>(int a1<ebx>, int a2<esi>, signed int a3, int a4, int a5)
{
  int v5; // eax@3
  int v6; // eax@3
  int v7; // eax@10
  int v8; // eax@10
  int v9; // eax@10
  int v10; // eax@12
  int v11; // eax@12
  int v12; // eax@12
  int v13; // eax@13
  int v14; // eax@14
  int v15; // eax@17
  int v16; // eax@17
  int v17; // eax@17
  const void *v19; // [sp-10h] [bp-88h]@10
  int v20; // [sp-Ch] [bp-84h]@10
  signed int v21; // [sp-8h] [bp-80h]@10
  int v22; // [sp-4h] [bp-7Ch]@10
  char v23; // [sp+0h] [bp-78h]@10
  int v24; // [sp+4h] [bp-74h]@20
  int v25; // [sp+8h] [bp-70h]@20
  char v26; // [sp+Ch] [bp-6Ch]@1
  SIZE_T nSize; // [sp+4Ch] [bp-2Ch]@15
  int v28; // [sp+50h] [bp-28h]@14
  struct _MEMORY_BASIC_INFORMATION Buffer; // [sp+54h] [bp-24h]@14
  int v30; // [sp+70h] [bp-8h]@3
  int v31; // [sp+74h] [bp-4h]@3

  memset(&v26, -858993460, 0x6Cu);
  ++dword_A8DFB5C;
  ++dword_A8DFB6C;
  if ( dword_A8DFB6C > (unsigned int)dword_A8DFB68 )
    dword_A8DFB68 = dword_A8DFB6C;
  v5 = sub_4DD6E0(a3);
  v31 = v5;
  v30 = (int)((char *)&unk_A797070 + 1316 * v5);
  v6 = (int)((char *)&unk_A797070 + 1316 * v5);
  if ( *(_DWORD *)v6 )
  {
    ++dword_A8DFB60;
    ++dword_A8DFB74;
    if ( dword_A8DFB74 > (unsigned int)dword_A8DFB70 )
      dword_A8DFB70 = dword_A8DFB74;
    while ( *(_DWORD *)(v30 + 12) )
      v30 = *(_DWORD *)(v30 + 12);
    *(_DWORD *)(v30 + 12) = sub_4E58F0(a1, a2, 1316, 1);
    v6 = v30;
    v30 = *(_DWORD *)(v30 + 12);
  }
  if ( v30 )
  {
    *(_DWORD *)v30 = a3;
    *(_DWORD *)(v30 + 4) = a5;
    *(_DWORD *)(v30 + 12) = 0;
    *(_DWORD *)(v30 + 16) = *(_DWORD *)(a4 + 184);
    v22 = v30 + 20;
    v21 = 4;
    v20 = v30 + 24;
    v19 = *(const void **)(a4 + 184);
    v7 = (int)GetCurrentProcess();
    v8 = sub_4E46A0(&v19 == &v19, v7, a1, (unsigned int)&v19, (int)&v23);
    v9 = ReadProcessMemory((HANDLE)v8, v19, (LPVOID)v20, v21, (SIZE_T *)v22);
    if ( !sub_4E46A0(&v23 == &v23, v9, a1, (unsigned int)&v19, (int)&v23) )
    {
      sub_4E4640((void *)(v30 + 24), 0, 4u);
      *(_DWORD *)(v30 + 20) = 0;
      *(_DWORD *)(v30 + 16) = 0;
    }
    *(_DWORD *)(v30 + 28) = *(_DWORD *)(a4 + 180);
    v22 = v30 + 32;
    v21 = 1280;
    v20 = v30 + 36;
    v19 = *(const void **)(a4 + 180);
    v10 = (int)GetCurrentProcess();
    v11 = sub_4E46A0(&v19 == &v19, v10, a1, (unsigned int)&v19, (int)&v23);
    v12 = ReadProcessMemory((HANDLE)v11, v19, (LPVOID)v20, v21, (SIZE_T *)v22);
    v6 = sub_4E46A0(&v23 == &v23, v12, a1, (unsigned int)&v19, (int)&v23);
    if ( !v6 )
    {
      sub_4E4640((void *)(v30 + 36), 0, 0x500u);
      *(_DWORD *)(v30 + 32) = 0;
      *(_DWORD *)(v30 + 28) = 0;
      v13 = GetLastError();
      v6 = sub_4E46A0(&v23 == &v23, v13, a1, (unsigned int)&v19, (int)&v23);
      if ( v6 == 299 )
      {
        v22 = 28;
        v21 = (signed int)&Buffer;
        v20 = *(_DWORD *)(a4 + 180);
        v14 = VirtualQuery((LPCVOID)v20, &Buffer, 0x1Cu);
        v6 = sub_4E46A0(&v23 == &v23, v14, a1, (unsigned int)&v19, (int)&v23);
        v28 = v6;
        if ( v6 )
        {
          v6 = (int)((char *)Buffer.BaseAddress + Buffer.RegionSize - *(_DWORD *)(a4 + 180));
          nSize = (SIZE_T)((char *)Buffer.BaseAddress + Buffer.RegionSize - *(_DWORD *)(a4 + 180));
          if ( nSize )
          {
            if ( nSize < 0x500 )
            {
              v22 = v30 + 32;
              v21 = nSize;
              v20 = v30 + 36;
              v19 = *(const void **)(a4 + 180);
              v15 = (int)GetCurrentProcess();
              v16 = sub_4E46A0(&v19 == &v19, v15, a1, (unsigned int)&v19, (int)&v23);
              v17 = ReadProcessMemory((HANDLE)v16, v19, (LPVOID)v20, v21, (SIZE_T *)v22);
              if ( sub_4E46A0(&v23 == &v23, v17, a1, (unsigned int)&v19, (int)&v23) )
              {
                v6 = *(_DWORD *)(a4 + 180);
                *(_DWORD *)(v30 + 28) = v6;
              }
              else
              {
                sub_4E4640((void *)(v30 + 36), 0, 0x500u);
                *(_DWORD *)(v30 + 32) = 0;
                v6 = v30;
                *(_DWORD *)(v30 + 28) = 0;
              }
            }
          }
        }
      }
    }
  }
  return sub_4E46A0(1, v6, v25, v23, v24);
}
// A8DFB5C: using guessed type int dword_A8DFB5C;
// A8DFB60: using guessed type int dword_A8DFB60;
// A8DFB68: using guessed type int dword_A8DFB68;
// A8DFB6C: using guessed type int dword_A8DFB6C;
// A8DFB70: using guessed type int dword_A8DFB70;
// A8DFB74: using guessed type int dword_A8DFB74;

//----- (004DD6E0) --------------------------------------------------------
int __cdecl sub_4DD6E0(signed int a1)
{
  return a1 % 1023;
}

//----- (004DD720) --------------------------------------------------------
int __usercall sub_4DD720<eax>(int a1<ebx>, int a2<esi>, signed int a3)
{
  const void *v3; // esi@10
  int v4; // eax@11
  char v6; // [sp+0h] [bp-5Ch]@0
  int v7; // [sp+4h] [bp-58h]@0
  int v8; // [sp+8h] [bp-54h]@0
  char v9; // [sp+Ch] [bp-50h]@1
  int v10; // [sp+4Ch] [bp-10h]@10
  int v11; // [sp+50h] [bp-Ch]@4
  int i; // [sp+54h] [bp-8h]@4
  int v13; // [sp+58h] [bp-4h]@1

  memset(&v9, -858993460, 0x50u);
  v13 = sub_4DD6E0(a3);
  if ( (unsigned int)v13 >= 0x3FF
    && sub_4EB280(
         a1,
         a2,
         2,
         (int)"d:\\wyd_server\\stackwalker.cpp",
         word_5A1CB4 + 8,
         0,
         "HashIdx < ALLOC_HASH_ENTRIES",
         v6) == 1 )
    __debugbreak();
  v11 = 0;
  for ( i = (int)((char *)&unk_A797070 + 1316 * v13); ; i = *(_DWORD *)(i + 12) )
  {
    if ( !i )
    {
      v4 = 0;
      return sub_4E46A0(1, v4, v8, v6, v7);
    }
    if ( *(_DWORD *)i == a3 )
      break;
    v11 = i;
  }
  ++dword_A8DFB64;
  --dword_A8DFB6C;
  if ( v11 )
  {
    --dword_A8DFB74;
    *(_DWORD *)(v11 + 12) = *(_DWORD *)(i + 12);
    sub_4E5F30(a1, a2, i);
    v4 = 1;
  }
  else
  {
    if ( *(_DWORD *)(i + 12) )
    {
      v10 = *(_DWORD *)(i + 12);
      v3 = *(const void **)(i + 12);
      memcpy((void *)i, v3, 0x524u);
      sub_4E5F30(a1, (int)((char *)v3 + 1316), v10);
    }
    else
    {
      sub_4E4640((char *)&unk_A797070 + 1316 * v13, 0, 0x524u);
    }
    v4 = 1;
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 5A1CB4: using guessed type __int16 word_5A1CB4;
// A8DFB64: using guessed type int dword_A8DFB64;
// A8DFB6C: using guessed type int dword_A8DFB6C;
// A8DFB74: using guessed type int dword_A8DFB74;

//----- (004DD8D0) --------------------------------------------------------
int __usercall sub_4DD8D0<eax>(int a1<ebx>)
{
  int v1; // eax@2
  int v2; // eax@3
  int v3; // eax@4
  char v4; // al@4
  int v5; // eax@5
  int v6; // eax@5
  int v7; // eax@5
  int v8; // eax@5
  int v9; // eax@5
  int v10; // eax@5
  int v11; // eax@5
  int v12; // eax@5
  int v13; // eax@5
  int v14; // eax@5
  int v15; // eax@5
  int v16; // eax@5
  int v17; // eax@16
  int v18; // eax@17
  char v20; // [sp+0h] [bp-4Ch]@3
  int v21; // [sp+4h] [bp-48h]@18
  int v22; // [sp+8h] [bp-44h]@18
  char v23; // [sp+Ch] [bp-40h]@1
  int v24; // [sp+4Ch] [bp+0h]@3

  memset(&v23, -858993460, 0x40u);
  if ( dword_A8DFB94 )
  {
    v1 = 0;
  }
  else
  {
    v2 = (int)LoadLibraryA("dbghelp.dll");
    hModule = (HMODULE)sub_4E46A0(&v20 == &v20, v2, a1, (unsigned int)&v24, (int)&v20);
    if ( hModule )
    {
      v5 = (int)GetProcAddress(hModule, "SymCleanup");
      dword_A8DFBC0 = (int (__stdcall *)(_DWORD))sub_4E46A0(&v20 == &v20, v5, a1, (unsigned int)&v24, (int)&v20);
      v6 = (int)GetProcAddress(hModule, "SymFunctionTableAccess64");
      dword_A8DFBC4 = sub_4E46A0(&v20 == &v20, v6, a1, (unsigned int)&v24, (int)&v20);
      v7 = (int)GetProcAddress(hModule, "SymGetLineFromAddr64");
      dword_A8DFBC8 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_4E46A0(
                                                                                   &v20 == &v20,
                                                                                   v7,
                                                                                   a1,
                                                                                   (unsigned int)&v24,
                                                                                   (int)&v20);
      v8 = (int)GetProcAddress(hModule, "SymGetModuleBase64");
      dword_A8DFBCC = sub_4E46A0(&v20 == &v20, v8, a1, (unsigned int)&v24, (int)&v20);
      v9 = (int)GetProcAddress(hModule, "SymGetModuleInfo64");
      dword_A8DFBD0 = (int (__fastcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_4E46A0(
                                                                                            &v20 == &v20,
                                                                                            v9,
                                                                                            a1,
                                                                                            (unsigned int)&v24,
                                                                                            (int)&v20);
      v10 = (int)GetProcAddress(hModule, "SymGetOptions");
      dword_A8DFBD4 = (int (*)(void))sub_4E46A0(&v20 == &v20, v10, a1, (unsigned int)&v24, (int)&v20);
      v11 = (int)GetProcAddress(hModule, "SymGetSymFromAddr64");
      dword_A8DFBD8 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_4E46A0(
                                                                                   &v20 == &v20,
                                                                                   v11,
                                                                                   a1,
                                                                                   (unsigned int)&v24,
                                                                                   (int)&v20);
      v12 = (int)GetProcAddress(hModule, "SymInitialize");
      dword_A8DFBDC = (int (__stdcall *)(_DWORD, _DWORD, _DWORD))sub_4E46A0(
                                                                   &v20 == &v20,
                                                                   v12,
                                                                   a1,
                                                                   (unsigned int)&v24,
                                                                   (int)&v20);
      v13 = (int)GetProcAddress(hModule, "SymSetOptions");
      dword_A8DFBE4 = (int (__stdcall *)(_DWORD))sub_4E46A0(&v20 == &v20, v13, a1, (unsigned int)&v24, (int)&v20);
      v14 = (int)GetProcAddress(hModule, "StackWalk64");
      dword_A8DFBE8 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_4E46A0(&v20 == &v20, v14, a1, (unsigned int)&v24, (int)&v20);
      v15 = (int)GetProcAddress(hModule, "UnDecorateSymbolName");
      dword_A8DFBEC = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD))sub_4E46A0(
                                                                           &v20 == &v20,
                                                                           v15,
                                                                           a1,
                                                                           (unsigned int)&v24,
                                                                           (int)&v20);
      v16 = (int)GetProcAddress(hModule, "SymLoadModule64");
      dword_A8DFBE0 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_4E46A0(
                                                                                                   &v20 == &v20,
                                                                                                   v16,
                                                                                                   a1,
                                                                                                   (unsigned int)&v24,
                                                                                                   (int)&v20);
      if ( dword_A8DFBC0
        && dword_A8DFBC4
        && dword_A8DFBCC
        && dword_A8DFBD0
        && dword_A8DFBD4
        && dword_A8DFBD8
        && dword_A8DFBDC
        && dword_A8DFBE4
        && dword_A8DFBE8
        && dword_A8DFBEC
        && dword_A8DFBE0 )
      {
        dword_A8DFB94 = 1;
        InitializeCriticalSection(&CriticalSection);
        sub_4E46A0(&v20 == &v20, v18, a1, (unsigned int)&v24, (int)&v20);
        v1 = 0;
      }
      else
      {
        sub_4E8AC0(a1, (int)&v20, (int)"GetProcAddress(): some required function not found.\n", v20);
        v17 = FreeLibrary(hModule);
        sub_4E46A0(&v20 == &v20, v17, a1, (unsigned int)&v24, (int)&v20);
        dword_A8DFB94 = 0;
        v1 = 1;
      }
    }
    else
    {
      v3 = GetLastError();
      v4 = sub_4E46A0(&v20 == &v20, v3, a1, (unsigned int)&v24, (int)&v20);
      sub_4E8AC0(a1, (int)&v20, (int)"LoadLibrary( \"dbghelp.dll\" ): GetLastError = %lu\n", v4);
      dword_A8DFB94 = 0;
      v1 = 1;
    }
  }
  return sub_4E46A0(1, v1, v22, v20, v21);
}
// A8DFB94: using guessed type int dword_A8DFB94;
// A8DFBC0: using guessed type int (__stdcall *dword_A8DFBC0)(_DWORD);
// A8DFBC8: using guessed type int (__stdcall *dword_A8DFBC8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// A8DFBD0: using guessed type int (__fastcall *dword_A8DFBD0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// A8DFBD4: using guessed type int (*dword_A8DFBD4)(void);
// A8DFBD8: using guessed type int (__stdcall *dword_A8DFBD8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// A8DFBDC: using guessed type int (__stdcall *dword_A8DFBDC)(_DWORD, _DWORD, _DWORD);
// A8DFBE0: using guessed type int (__stdcall *dword_A8DFBE0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// A8DFBE4: using guessed type int (__stdcall *dword_A8DFBE4)(_DWORD);
// A8DFBE8: using guessed type int (__stdcall *dword_A8DFBE8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// A8DFBEC: using guessed type int (__stdcall *dword_A8DFBEC)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (004DDC40) --------------------------------------------------------
int __usercall sub_4DDC40<eax>(int a1<ebx>, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // eax@12
  int v6; // eax@13
  char v8; // [sp+0h] [bp-150h]@1
  int v9; // [sp+4h] [bp-14Ch]@13
  int v10; // [sp+8h] [bp-148h]@13
  char v11; // [sp+Ch] [bp-144h]@1
  CHAR Filename; // [sp+4Ch] [bp-104h]@1
  int v13; // [sp+150h] [bp+0h]@1

  memset(&v11, -858993460, 0x144u);
  v4 = GetModuleFileNameA(0, &Filename, 0x104u);
  if ( sub_4E46A0(&v8 == &v8, v4, a1, (unsigned int)&v13, (int)&v8) )
  {
    sub_4E4720((int)"\\exceptions.log");
    if ( a2 == 2 )
      sub_4E4730((int)"\\exceptions.log", (int)".exp.xml");
    else
      sub_4E4730((int)"\\exceptions.log", (int)".exp.log");
    if ( a2 == 2 )
      sub_4E4730((int)&Filename, (int)".mem.xml-leaks");
    else
      sub_4E4730((int)&Filename, (int)".mem.log");
  }
  else
  {
    sub_4E4720((int)&Filename);
  }
  if ( a3 && !dword_A8DFBF0 )
  {
    v5 = (int)SetUnhandledExceptionFilter((LPTOP_LEVEL_EXCEPTION_FILTER)TopLevelExceptionFilter);
    sub_4E46A0(&v8 == &v8, v5, a1, (unsigned int)&v13, (int)&v8);
    dword_A8DFBF0 = 1;
  }
  v6 = sub_401564(a2, &Filename, a4);
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 401564: using guessed type _DWORD __cdecl sub_401564(_DWORD, _DWORD, _DWORD);
// A8DFBF0: using guessed type int dword_A8DFBF0;

//----- (004DDDD0) --------------------------------------------------------
int __userpurge TopLevelExceptionFilter<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  char v4; // [sp+0h] [bp-244h]@0
  int v5; // [sp+4h] [bp-240h]@0
  int v6; // [sp+8h] [bp-23Ch]@0
  char v7; // [sp+Ch] [bp-238h]@1
  char v8; // [sp+4Ch] [bp-1F8h]@1
  int v9; // [sp+240h] [bp-4h]@1

  memset(&v7, -858993460, 0x238u);
  v9 = sub_401442(a3, 1);
  sub_4E3F40(
    a1,
    a2,
    (int)&v8,
    "*** Unhandled Exception!\n   ExpCode: 0x%8.8X\n   ExpFlags: %d\n   ExpAddress: 0x%8.8X\n   Please report!");
  return sub_4E46A0(1, v9, v6, v4, v5);
}
// 401442: using guessed type _DWORD __cdecl sub_401442(_DWORD, _DWORD);

//----- (004DDE90) --------------------------------------------------------
int __usercall sub_4DDE90<eax>(int a1<ebx>)
{
  int v1; // eax@2
  int v2; // eax@2
  int v3; // eax@2
  int v4; // eax@3
  int v5; // eax@3
  int v6; // eax@3
  int v7; // eax@4
  int v8; // eax@4
  int v9; // eax@8
  int v10; // eax@8
  int v11; // eax@10
  char v13; // [sp+0h] [bp-50h]@2
  int v14; // [sp+4h] [bp-4Ch]@11
  int v15; // [sp+8h] [bp-48h]@11
  char v16; // [sp+Ch] [bp-44h]@1
  int v17; // [sp+4Ch] [bp-4h]@1
  int v18; // [sp+50h] [bp+0h]@2

  memset(&v16, -858993460, 0x44u);
  v17 = 0;
  if ( dword_A8DFB94 )
  {
    v1 = InterlockedIncrement(&Addend);
    sub_4E46A0(&v13 == &v13, v1, a1, (unsigned int)&v18, (int)&v13);
    v17 = sub_4DE070(a1, (int)&v13);
    sub_4E6560((int (*)())dword_A8DFBBC);
    v2 = CoRevokeMallocSpy();
    sub_4E46A0(&v13 == &v13, v2, a1, (unsigned int)&v18, (int)&v13);
    EnterCriticalSection(&CriticalSection);
    sub_4E46A0(&v13 == &v13, v3, a1, (unsigned int)&v18, (int)&v13);
    dword_A8DFB94 = 0;
    if ( dword_A8DFBC0 )
    {
      v4 = (int)GetCurrentProcess();
      v5 = sub_4E46A0(&v13 == &v13, v4, a1, (unsigned int)&v18, (int)&v13);
      v6 = dword_A8DFBC0(v5);
      sub_4E46A0(&v13 == &v13, v6, a1, (unsigned int)&v18, (int)&v13);
    }
    v7 = FreeLibrary(hModule);
    sub_4E46A0(&v13 == &v13, v7, a1, (unsigned int)&v18, (int)&v13);
    LeaveCriticalSection(&CriticalSection);
    sub_4E46A0(&v13 == &v13, v8, a1, (unsigned int)&v18, (int)&v13);
    if ( dword_A8DFB54 )
    {
      sub_4E5F30(a1, (int)&v13, dword_A8DFB54);
      dword_A8DFB54 = 0;
    }
    if ( dword_A8DFB58 )
    {
      sub_4E4260(a1, (int)&v13, dword_A8DFB58);
      dword_A8DFB58 = 0;
    }
    DeleteCriticalSection(&CriticalSection);
    sub_4E46A0(&v13 == &v13, v9, a1, (unsigned int)&v18, (int)&v13);
    v10 = InterlockedDecrement(&Addend);
    sub_4E46A0(&v13 == &v13, v10, a1, (unsigned int)&v18, (int)&v13);
  }
  if ( dword_A8DFBF0 != 1 )
  {
    v11 = (int)SetUnhandledExceptionFilter(0);
    sub_4E46A0(&v13 == &v13, v11, a1, (unsigned int)&v18, (int)&v13);
    dword_A8DFBF0 = 0;
  }
  return sub_4E46A0(1, v17, v15, v13, v14);
}
// A8DFBC0: invalid function type has been ignored
// A8DFB54: using guessed type int dword_A8DFB54;
// A8DFB58: using guessed type int dword_A8DFB58;
// A8DFB94: using guessed type int dword_A8DFB94;
// A8DFBBC: using guessed type int (__cdecl *dword_A8DFBBC)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// A8DFBC0: using guessed type int (__stdcall *dword_A8DFBC0)(_DWORD);
// A8DFBF0: using guessed type int dword_A8DFBF0;

//----- (004DE070) --------------------------------------------------------
int __usercall sub_4DE070<eax>(int a1<ebx>, int a2<esi>)
{
  char v3; // [sp+0h] [bp-68h]@0
  char v4; // [sp+0h] [bp-68h]@2
  int v5; // [sp+4h] [bp-64h]@0
  int v6; // [sp+8h] [bp-60h]@0
  char v7; // [sp+Ch] [bp-5Ch]@1
  int v8; // [sp+4Ch] [bp-1Ch]@24
  int v9; // [sp+50h] [bp-18h]@22
  int v10; // [sp+54h] [bp-14h]@12
  int v11; // [sp+58h] [bp-10h]@10
  unsigned int i; // [sp+5Ch] [bp-Ch]@8
  char v13; // [sp+60h] [bp-8h]@1
  int v14; // [sp+64h] [bp-4h]@1

  memset(&v7, -858993460, 0x5Cu);
  v14 = 0;
  v13 = dword_A8DFB50 != 2;
  sub_4DD270(a1, a2, dword_A8DFB50 != 2);
  if ( dword_A8DFB50 == 2 )
  {
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"<MEMREPORT ", v3);
    sub_4DE540(a1, a2, dword_A8DFB58, 1);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)">\n", v4);
  }
  else
  {
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"\n##### Memory Report ########################################\n", v3);
    sub_4DE540(a1, a2, dword_A8DFB58, 0);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"\n", v4);
  }
  if ( dword_A8DFB50 != 2 )
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"\n##### Leaks: ###############################################\n", v4);
  v14 = sub_4DEAC0(a1, a2, dword_A8DFB58);
  if ( dword_A8DFB50 == 1 )
  {
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"***** Hash-Table statistics:\n", v4);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"      Table-Size:     %i\n", -1);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"      Inserts:        %i\n", dword_A8DFB5C);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"      Freed:          %i\n", dword_A8DFB64);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"      Sum Collisions: %i\n", dword_A8DFB60);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"\n", v4);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"      Max used:       %i\n", dword_A8DFB68);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"      Max Collisions: %i\n", dword_A8DFB70);
  }
  for ( i = 0; i < 0x3FF; ++i )
  {
    v11 = (int)&dword_A797070[329 * i];
    while ( v11 )
    {
      v10 = v11;
      v11 = *(_DWORD *)(v11 + 12);
      if ( (_DWORD *)v10 != &dword_A797070[329 * i] )
        sub_4E5F30(a1, a2, v10);
    }
  }
  sub_4E4640(dword_A797070, 0, 0x148ADCu);
  if ( dword_A8DFB50 != 2 )
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"\n##### COM-Leaks: ###############################################\n", v4);
  v14 = sub_4DE5F0(a1, a2, dword_A8DFB58);
  if ( dword_A8DFB50 == 1 )
  {
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"***** Hash-Table statistics:\n", v4);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"      Table-Size:     %i\n", -1);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"      Inserts:        %i\n", dword_A8DFB78);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"      Freed:          %i\n", dword_A8DFB80);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"      Sum Collisions: %i\n", dword_A8DFB7C);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"\n", v4);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"      Max used:       %i\n", dword_A8DFB84);
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"      Max Collisions: %i\n", dword_A8DFB8C);
  }
  for ( i = 0; i < 0x3FF; ++i )
  {
    v9 = (int)&dword_A64E580[329 * i];
    while ( v11 )
    {
      v8 = v9;
      v9 = *(_DWORD *)(v9 + 12);
      if ( (_DWORD *)v8 != &dword_A64E580[329 * i] )
        sub_4E5F50(a1, a2, v8, 2);
    }
  }
  sub_4E4640(dword_A64E580, 0, 0x148ADCu);
  if ( dword_A8DFB50 == 2 )
    sub_4E5440(a1, a2, dword_A8DFB58, (int)"</MEMREPORT>\n", v4);
  return sub_4E46A0(1, v14, v6, v4, v5);
}
// A8DFB50: using guessed type int dword_A8DFB50;
// A8DFB58: using guessed type int dword_A8DFB58;
// A8DFB5C: using guessed type int dword_A8DFB5C;
// A8DFB60: using guessed type int dword_A8DFB60;
// A8DFB64: using guessed type int dword_A8DFB64;
// A8DFB68: using guessed type int dword_A8DFB68;
// A8DFB70: using guessed type int dword_A8DFB70;
// A8DFB78: using guessed type int dword_A8DFB78;
// A8DFB7C: using guessed type int dword_A8DFB7C;
// A8DFB80: using guessed type int dword_A8DFB80;
// A8DFB84: using guessed type int dword_A8DFB84;
// A8DFB8C: using guessed type int dword_A8DFB8C;

//----- (004DE540) --------------------------------------------------------
int __usercall sub_4DE540<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  signed int v4; // eax@1
  char v6; // [sp+0h] [bp-64h]@0
  int v7; // [sp+4h] [bp-60h]@0
  int v8; // [sp+8h] [bp-5Ch]@0
  char v9; // [sp+Ch] [bp-58h]@1
  char v10; // [sp+4Ch] [bp-18h]@2
  char v11; // [sp+58h] [bp-Ch]@2

  v4 = -858993460;
  memset(&v9, -858993460, 0x58u);
  if ( a3 )
  {
    sub_4EBC40((int)&v11);
    sub_4EBB70((int)&v10);
    if ( a4 )
      v4 = sub_4E5440(a1, a2, a3, (int)"date=\"%s\" time=\"%s\" ", (unsigned int)&v11);
    else
      v4 = sub_4E5440(a1, a2, a3, (int)"%s %s", (unsigned int)&v11);
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}

//----- (004DE5F0) --------------------------------------------------------
int __usercall sub_4DE5F0<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  char v4; // [sp+0h] [bp-328h]@0
  int v5; // [sp+4h] [bp-324h]@0
  int v6; // [sp+8h] [bp-320h]@0
  char v7; // [sp+Ch] [bp-31Ch]@1
  char v8; // [sp+4Ch] [bp-2DCh]@10
  int v9; // [sp+100h] [bp-228h]@10
  int v10; // [sp+104h] [bp-224h]@10
  int v11; // [sp+318h] [bp-10h]@1
  int v12; // [sp+31Ch] [bp-Ch]@1
  int v13; // [sp+320h] [bp-8h]@3
  unsigned int i; // [sp+324h] [bp-4h]@1

  memset(&v7, -858993460, 0x31Cu);
  v12 = 0;
  v11 = 0;
  for ( i = 0; i < 0x3FF; ++i )
  {
    v13 = (int)&dword_A64E580[329 * i];
    if ( dword_A64E580[329 * i] )
    {
      while ( v13 )
      {
        if ( (signed int)*(_BYTE *)(v13 + 8) <= 0 || (signed int)*(_BYTE *)(v13 + 8) > 1 )
        {
          ++v12;
          if ( dword_A8DFB50 == 2 )
            sub_4E5440(a1, a2, a3, (int)"<LEAK requestID=\"%u\" size=\"%u\">\n", *(_DWORD *)v13);
          else
            sub_4E5440(a1, a2, a3, (int)"Pointer (RequestID): %12i, Removed: %i, Size: %12i\n", *(_DWORD *)v13);
          sub_4E4640(&v8, 0, 0x2CCu);
          v10 = *(_DWORD *)(v13 + 16);
          v9 = *(_DWORD *)(v13 + 28);
          sub_4DF6E0(a1, 0, (int)&v8, a3, (int)sub_4DE820, *(_DWORD *)v13);
          if ( *(_DWORD *)(v13 + 4) )
            v11 += *(_DWORD *)(v13 + 4);
          else
            ++v11;
          if ( dword_A8DFB50 == 2 )
            sub_4E5440(a1, a2, a3, (int)"</LEAK>\n", v4);
        }
        v13 = *(_DWORD *)(v13 + 12);
      }
    }
  }
  if ( dword_A8DFB50 != 2 )
    sub_4E5440(a1, a2, a3, (int)"\n**** Number of leaks: %i\n", v12);
  return sub_4E46A0(1, v11, v6, v4, v5);
}
// A8DFB50: using guessed type int dword_A8DFB50;

//----- (004DE820) --------------------------------------------------------
int __userpurge sub_4DE820<eax>(int a1<ebx>, int a2<esi>, unsigned int a3, unsigned int a4, int a5, void *a6, unsigned int a7, int a8)
{
  int v8; // eax@2
  char v10; // [sp+0h] [bp-68h]@0
  int v11; // [sp+4h] [bp-64h]@0
  int v12; // [sp+8h] [bp-60h]@0
  char v13; // [sp+Ch] [bp-5Ch]@1
  unsigned int v14; // [sp+4Ch] [bp-1Ch]@13
  unsigned int v15; // [sp+50h] [bp-18h]@6
  unsigned int v16; // [sp+54h] [bp-14h]@15
  unsigned int v17; // [sp+58h] [bp-10h]@12
  unsigned int v18; // [sp+5Ch] [bp-Ch]@8
  unsigned int v19; // [sp+60h] [bp-8h]@5
  int v20; // [sp+64h] [bp-4h]@1

  memset(&v13, -858993460, 0x5Cu);
  *(_DWORD *)a8 = 0;
  v20 = sub_4DE9F0(a1, a2, a3);
  if ( v20 == -1 )
  {
    *(_DWORD *)a8 = 0;
    v8 = 0;
  }
  else
  {
    if ( a4 < *(_DWORD *)(v20 + 28)
      || a4 > *(_DWORD *)(v20 + 32) + *(_DWORD *)(v20 + 28)
      || ((v19 = a4 - *(_DWORD *)(v20 + 28), a7 >= 1280 - v19) ? (v15 = 1280 - v19) : (v15 = a7),
          v18 = v15,
          sub_4E4810(a6, (const void *)(v20 + v19 + 36), v15),
          *(_DWORD *)a8 = v18,
          v18 == a7) )
    {
      if ( a4 < *(_DWORD *)(v20 + 16)
        || a4 > *(_DWORD *)(v20 + 20) + *(_DWORD *)(v20 + 16)
        || ((v17 = a4 - *(_DWORD *)(v20 + 16), a7 >= 1280 - v17) ? (v14 = 1280 - v17) : (v14 = a7),
            v16 = v14,
            sub_4E4810(a6, (const void *)(v20 + v17 + 24), v14),
            *(_DWORD *)a8 = v16,
            v16 == a7) )
      {
        if ( *(_DWORD *)a8 )
          v8 = 1;
        else
          v8 = 0;
      }
      else
      {
        v8 = 0;
      }
    }
    else
    {
      v8 = 0;
    }
  }
  return sub_4E46A0(1, v8, v12, v10, v11);
}

//----- (004DE9F0) --------------------------------------------------------
int __usercall sub_4DE9F0<eax>(int a1<ebx>, int a2<esi>, unsigned int a3)
{
  int v3; // eax@7
  char v5; // [sp+0h] [bp-54h]@0
  int v6; // [sp+4h] [bp-50h]@0
  int v7; // [sp+8h] [bp-4Ch]@0
  char v8; // [sp+Ch] [bp-48h]@1
  int i; // [sp+4Ch] [bp-8h]@4
  int v10; // [sp+50h] [bp-4h]@1

  memset(&v8, -858993460, 0x48u);
  v10 = sub_4DBD90(a1, a2, a3);
  if ( (unsigned int)v10 >= 0x3FF
    && sub_4EB280(
         a1,
         a2,
         2,
         (int)"d:\\wyd_server\\stackwalker.cpp",
         word_5A1CB8 + 8,
         0,
         "HashIdx < ALLOC_HASH_ENTRIES",
         v5) == 1 )
    __debugbreak();
  for ( i = (int)&dword_A64E580[329 * v10]; i; i = *(_DWORD *)(i + 12) )
  {
    if ( *(_DWORD *)i == a3 )
    {
      v3 = i;
      return sub_4E46A0(1, v3, v7, v5, v6);
    }
  }
  v3 = -1;
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 5A1CB8: using guessed type __int16 word_5A1CB8;

//----- (004DEAC0) --------------------------------------------------------
int __usercall sub_4DEAC0<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  char v4; // [sp+0h] [bp-328h]@0
  int v5; // [sp+4h] [bp-324h]@0
  int v6; // [sp+8h] [bp-320h]@0
  char v7; // [sp+Ch] [bp-31Ch]@1
  char v8; // [sp+4Ch] [bp-2DCh]@10
  int v9; // [sp+100h] [bp-228h]@10
  int v10; // [sp+104h] [bp-224h]@10
  int v11; // [sp+318h] [bp-10h]@1
  int v12; // [sp+31Ch] [bp-Ch]@1
  int v13; // [sp+320h] [bp-8h]@3
  unsigned int i; // [sp+324h] [bp-4h]@1

  memset(&v7, -858993460, 0x31Cu);
  v12 = 0;
  v11 = 0;
  for ( i = 0; i < 0x3FF; ++i )
  {
    v13 = (int)&dword_A797070[329 * i];
    if ( dword_A797070[329 * i] )
    {
      while ( v13 )
      {
        if ( (signed int)*(_BYTE *)(v13 + 8) <= 0 || (signed int)*(_BYTE *)(v13 + 8) > 1 )
        {
          ++v12;
          if ( dword_A8DFB50 == 2 )
            sub_4E5440(a1, a2, a3, (int)"<LEAK requestID=\"%u\" size=\"%u\">\n", *(_DWORD *)v13);
          else
            sub_4E5440(a1, a2, a3, (int)"RequestID: %12i, Removed: %i, Size: %12i\n", *(_DWORD *)v13);
          sub_4E4640(&v8, 0, 0x2CCu);
          v10 = *(_DWORD *)(v13 + 16);
          v9 = *(_DWORD *)(v13 + 28);
          sub_4DF6E0(a1, 0, (int)&v8, a3, (int)sub_4DECF0, *(_DWORD *)v13);
          if ( *(_DWORD *)(v13 + 4) )
            v11 += *(_DWORD *)(v13 + 4);
          else
            ++v11;
          if ( dword_A8DFB50 == 2 )
            sub_4E5440(a1, a2, a3, (int)"</LEAK>\n", v4);
        }
        v13 = *(_DWORD *)(v13 + 12);
      }
    }
  }
  if ( dword_A8DFB50 != 2 )
    sub_4E5440(a1, a2, a3, (int)"\n**** Number of leaks: %i\n", v12);
  return sub_4E46A0(1, v11, v6, v4, v5);
}
// A8DFB50: using guessed type int dword_A8DFB50;

//----- (004DECF0) --------------------------------------------------------
int __userpurge sub_4DECF0<eax>(int a1<ebx>, int a2<esi>, signed int a3, unsigned int a4, int a5, void *a6, unsigned int a7, int a8)
{
  int v8; // eax@2
  char v10; // [sp+0h] [bp-68h]@0
  int v11; // [sp+4h] [bp-64h]@0
  int v12; // [sp+8h] [bp-60h]@0
  char v13; // [sp+Ch] [bp-5Ch]@1
  unsigned int v14; // [sp+4Ch] [bp-1Ch]@13
  unsigned int v15; // [sp+50h] [bp-18h]@6
  unsigned int v16; // [sp+54h] [bp-14h]@15
  unsigned int v17; // [sp+58h] [bp-10h]@12
  unsigned int v18; // [sp+5Ch] [bp-Ch]@8
  unsigned int v19; // [sp+60h] [bp-8h]@5
  int v20; // [sp+64h] [bp-4h]@1

  memset(&v13, -858993460, 0x5Cu);
  *(_DWORD *)a8 = 0;
  v20 = sub_4DEEC0(a1, a2, a3);
  if ( v20 == -1 )
  {
    *(_DWORD *)a8 = 0;
    v8 = 0;
  }
  else
  {
    if ( a4 < *(_DWORD *)(v20 + 28)
      || a4 > *(_DWORD *)(v20 + 32) + *(_DWORD *)(v20 + 28)
      || ((v19 = a4 - *(_DWORD *)(v20 + 28), a7 >= 1280 - v19) ? (v15 = 1280 - v19) : (v15 = a7),
          v18 = v15,
          sub_4E4810(a6, (const void *)(v20 + v19 + 36), v15),
          *(_DWORD *)a8 = v18,
          v18 == a7) )
    {
      if ( a4 < *(_DWORD *)(v20 + 16)
        || a4 > *(_DWORD *)(v20 + 20) + *(_DWORD *)(v20 + 16)
        || ((v17 = a4 - *(_DWORD *)(v20 + 16), a7 >= 1280 - v17) ? (v14 = 1280 - v17) : (v14 = a7),
            v16 = v14,
            sub_4E4810(a6, (const void *)(v20 + v17 + 24), v14),
            *(_DWORD *)a8 = v16,
            v16 == a7) )
      {
        if ( *(_DWORD *)a8 )
          v8 = 1;
        else
          v8 = 0;
      }
      else
      {
        v8 = 0;
      }
    }
    else
    {
      v8 = 0;
    }
  }
  return sub_4E46A0(1, v8, v12, v10, v11);
}

//----- (004DEEC0) --------------------------------------------------------
int __usercall sub_4DEEC0<eax>(int a1<ebx>, int a2<esi>, signed int a3)
{
  int v3; // eax@7
  char v5; // [sp+0h] [bp-54h]@0
  int v6; // [sp+4h] [bp-50h]@0
  int v7; // [sp+8h] [bp-4Ch]@0
  char v8; // [sp+Ch] [bp-48h]@1
  int i; // [sp+4Ch] [bp-8h]@4
  int v10; // [sp+50h] [bp-4h]@1

  memset(&v8, -858993460, 0x48u);
  v10 = sub_4DD6E0(a3);
  if ( (unsigned int)v10 >= 0x3FF
    && sub_4EB280(
         a1,
         a2,
         2,
         (int)"d:\\wyd_server\\stackwalker.cpp",
         word_5A1CBC + 8,
         0,
         "HashIdx < ALLOC_HASH_ENTRIES",
         v5) == 1 )
    __debugbreak();
  for ( i = (int)((char *)&unk_A797070 + 1316 * v10); i; i = *(_DWORD *)(i + 12) )
  {
    if ( *(_DWORD *)i == a3 )
    {
      v3 = i;
      return sub_4E46A0(1, v3, v7, v5, v6);
    }
  }
  v3 = -1;
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 5A1CBC: using guessed type __int16 word_5A1CBC;

//----- (004DF110) --------------------------------------------------------
int __cdecl sub_4DF110(int a1, int a2)
{
  int v2; // eax@2
  char v4; // [sp+0h] [bp-78h]@0
  int v5; // [sp+4h] [bp-74h]@0
  int v6; // [sp+8h] [bp-70h]@0
  char v7; // [sp+Ch] [bp-6Ch]@1
  int v8; // [sp+4Ch] [bp-2Ch]@3
  int v9; // [sp+50h] [bp-28h]@1
  char v10; // [sp+54h] [bp-24h]@1
  unsigned int i; // [sp+58h] [bp-20h]@1
  char v12; // [sp+5Ch] [bp-1Ch]@11
  int v13; // [sp+74h] [bp-4h]@1

  memset(&v7, -858993460, 0x60u);
  v9 = 0;
  sub_401A05(&v10);
  v13 = 1;
  for ( i = 0; ; ++i )
  {
    v2 = sub_4E4B50(a2);
    if ( i >= v2 )
      break;
    v8 = *(_BYTE *)(i + a2);
    v8 -= 34;
    switch ( v8 )
    {
      case 4:
        sub_40178A("&amp;");
        break;
      case 26:
        sub_40178A("&lt;");
        break;
      case 28:
        sub_40178A("&gt;");
        break;
      case 0:
        sub_40178A("&quot;");
        break;
      case 5:
        sub_40178A("&apos;");
        break;
      default:
        sub_40146F(*(_BYTE *)(i + a2));
        break;
    }
  }
  sub_401848(&v12);
  v9 |= 1u;
  LOBYTE(v13) = 0;
  sub_401654(&v12);
  return sub_4E46A0(1, a1, v6, v4, v5);
}
// 40146F: using guessed type _DWORD __stdcall sub_40146F(char);
// 401654: using guessed type int __thiscall sub_401654(_DWORD);
// 40178A: using guessed type _DWORD __stdcall sub_40178A(_DWORD);
// 401848: using guessed type _DWORD __stdcall sub_401848(_DWORD);
// 401A05: using guessed type _DWORD __stdcall sub_401A05(_DWORD);

//----- (004DF2E0) --------------------------------------------------------
int __usercall sub_4DF2E0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v4; // eax@6
  int v5; // eax@6
  int v6; // eax@6
  int v7; // eax@6
  int v8; // eax@6
  int v10; // [sp-18h] [bp-7Ch]@6
  int v11; // [sp-14h] [bp-78h]@6
  HANDLE *v12; // [sp-10h] [bp-74h]@6
  DWORD v13; // [sp-Ch] [bp-70h]@6
  BOOL v14; // [sp-8h] [bp-6Ch]@6
  DWORD v15; // [sp-4h] [bp-68h]@1
  char v16; // [sp+0h] [bp-64h]@1
  int v17; // [sp+4h] [bp-60h]@6
  int v18; // [sp+8h] [bp-5Ch]@6
  char v19; // [sp+Ch] [bp-58h]@1
  char *v20; // [sp+4Ch] [bp-18h]@3
  int i; // [sp+50h] [bp-14h]@1
  char *v22; // [sp+54h] [bp-10h]@1
  int v23; // [sp+58h] [bp-Ch]@1
  DWORD v24; // [sp+5Ch] [bp-8h]@1
  HANDLE TargetHandle; // [sp+60h] [bp-4h]@6

  memset(&v19, -858993460, 0x58u);
  v24 = *(_DWORD *)(*(_DWORD *)(a3 + 4) + 180);
  v23 = sub_4E4620(a1, a2, "Error.log", (int)"wt");
  sub_4E5440(a1, a2, v23, (int)"Time: %s\r\n", (unsigned int)"Tue Jun  2 15:21:39 2009");
  sub_4E5440(a1, a2, v23, (int)"Code: %8.8x\r\n", **(_DWORD **)a3);
  v15 = v24;
  sub_4E5440(a1, a2, v23, (int)"Addr: %8.8x (%8.8x)\r\n", *(_DWORD *)(*(_DWORD *)a3 + 12));
  sub_4EACB0(v23);
  v22 = (char *)(*(_DWORD *)v24 + 4);
  sub_4E5440(a1, a2, v23, (int)"Call: %8.8x\r\n", *(_DWORD *)v22);
  sub_4EACB0(v23);
  sub_4E5440(a1, a2, v23, (int)"\r\nStack dump: \r\n", v16);
  for ( i = 0; i < 128; ++i )
  {
    v20 = (char *)(*(_DWORD *)v24 + 4 * i);
    sub_4E5440(a1, a2, v23, (int)"%8.8x ", *(_DWORD *)v20);
    if ( i % 8 == 7 )
      sub_4E5440(a1, a2, v23, (int)"\r\n", v16);
    sub_4EACB0(v23);
  }
  sub_4E4260(a1, a2, v23);
  v15 = 2;
  v14 = 0;
  v13 = 0;
  v12 = &TargetHandle;
  v4 = (int)GetCurrentProcess();
  v11 = sub_4E46A0(&v12 == &v12, v4, a1, (unsigned int)&v12, (int)&v16);
  v5 = (int)GetCurrentThread();
  v10 = sub_4E46A0(&v11 == &v11, v5, a1, (unsigned int)&v11, (int)&v16);
  v6 = (int)GetCurrentProcess();
  v7 = sub_4E46A0(&v10 == &v10, v6, a1, (unsigned int)&v10, (int)&v16);
  v8 = DuplicateHandle((HANDLE)v7, (HANDLE)v10, (HANDLE)v11, v12, v13, v14, v15);
  sub_4E46A0(&v16 == &v16, v8, a1, (unsigned int)&v10, (int)&v16);
  return sub_4E46A0(1, a4, v18, v16, v17);
}
// 4EACB0: using guessed type _DWORD __cdecl sub_4EACB0(_DWORD);

//----- (004DF670) --------------------------------------------------------
int __usercall sub_4DF670<eax>(int a1<ebx>, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // eax@1
  int v6; // eax@1
  char v8; // [sp+0h] [bp-4Ch]@1
  int v9; // [sp+4h] [bp-48h]@1
  int v10; // [sp+8h] [bp-44h]@1
  char v11; // [sp+Ch] [bp-40h]@1
  int v12; // [sp+4Ch] [bp+0h]@1

  memset(&v11, -858993460, 0x40u);
  v4 = (int)GetCurrentProcess();
  v5 = sub_4E46A0(&v8 == &v8, v4, a1, (unsigned int)&v12, (int)&v8);
  v6 = sub_4DF6E0(a1, a2, a3, a4, 0, v5);
  return sub_4E46A0(1, v6, v10, v8, v9);
}

//----- (004DF6E0) --------------------------------------------------------
int __usercall sub_4DF6E0<eax>(int a1<ebx>, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // eax@7
  int v8; // eax@8
  int v9; // esi@8
  int v10; // eax@8
  int v11; // eax@14
  int v12; // eax@16
  int v13; // eax@17
  int v14; // eax@28
  int v15; // eax@30
  int v16; // eax@32
  int v17; // eax@35
  int v18; // eax@36
  int v19; // eax@36
  int v20; // eax@38
  int v21; // eax@42
  int v22; // eax@42
  int v23; // eax@42
  int v24; // eax@42
  int v25; // eax@42
  int v26; // eax@45
  int v27; // esi@57
  int v28; // eax@57
  int v29; // eax@59
  int v30; // eax@60
  char v31; // al@60
  int v32; // eax@63
  int v33; // eax@63
  int v34; // eax@69
  int v35; // eax@70
  char v36; // al@73
  int v37; // eax@73
  char v38; // al@73
  int v39; // eax@74
  char v40; // al@82
  char v41; // al@82
  int v42; // eax@85
  int v43; // eax@87
  char v44; // al@101
  int v45; // eax@112
  int v46; // eax@115
  int v47; // eax@116
  int v48; // eax@120
  int v50; // [sp-4h] [bp-DD8h]@38
  char v51; // [sp+0h] [bp-DD4h]@1
  int v52; // [sp+4h] [bp-DD0h]@121
  int v53; // [sp+8h] [bp-DCCh]@121
  char v54; // [sp+Ch] [bp-DC8h]@1
  int v55; // [sp+4Ch] [bp-D88h]@101
  int v56; // [sp+50h] [bp-D84h]@101
  int v57; // [sp+54h] [bp-D80h]@89
  int v58; // [sp+58h] [bp-D7Ch]@82
  int v59; // [sp+5Ch] [bp-D78h]@82
  int v60; // [sp+60h] [bp-D74h]@82
  int v61; // [sp+64h] [bp-D70h]@82
  int v62; // [sp+68h] [bp-D6Ch]@76
  int v63; // [sp+6Ch] [bp-D68h]@73
  int v64; // [sp+70h] [bp-D64h]@73
  int v65; // [sp+74h] [bp-D60h]@49
  int v66; // [sp+78h] [bp-D5Ch]@35
  int v67; // [sp+7Ch] [bp-D58h]@35
  int v68; // [sp+80h] [bp-D54h]@33
  int v69; // [sp+84h] [bp-D50h]@33
  int v70; // [sp+88h] [bp-D4Ch]@33
  int v71; // [sp+8Ch] [bp-D48h]@33
  int v72; // [sp+90h] [bp-D44h]@31
  int v73; // [sp+94h] [bp-D40h]@31
  int v74; // [sp+98h] [bp-D3Ch]@31
  int v75; // [sp+9Ch] [bp-D38h]@31
  int v76; // [sp+A0h] [bp-D34h]@29
  int v77; // [sp+A4h] [bp-D30h]@29
  int v78; // [sp+A8h] [bp-D2Ch]@29
  int v79; // [sp+ACh] [bp-D28h]@29
  int v80; // [sp+B0h] [bp-D24h]@27
  int v81; // [sp+B4h] [bp-D20h]@27
  int v82; // [sp+B8h] [bp-D1Ch]@27
  int v83; // [sp+BCh] [bp-D18h]@27
  int v84; // [sp+C0h] [bp-D14h]@15
  int v85; // [sp+C4h] [bp-D10h]@15
  int v86; // [sp+C8h] [bp-D0Ch]@15
  int v87; // [sp+CCh] [bp-D08h]@15
  char v88; // [sp+D0h] [bp-D04h]@101
  char v89; // [sp+E0h] [bp-CF4h]@82
  char v90; // [sp+F0h] [bp-CE4h]@82
  char v91; // [sp+100h] [bp-CD4h]@73
  char v92; // [sp+110h] [bp-CC4h]@35
  char v93; // [sp+120h] [bp-CB4h]@33
  char v94; // [sp+130h] [bp-CA4h]@33
  char v95; // [sp+134h] [bp-CA0h]@33
  char v96; // [sp+144h] [bp-C90h]@31
  char v97; // [sp+154h] [bp-C80h]@31
  char v98; // [sp+158h] [bp-C7Ch]@31
  char v99; // [sp+168h] [bp-C6Ch]@29
  char v100; // [sp+178h] [bp-C5Ch]@29
  char v101; // [sp+17Ch] [bp-C58h]@29
  char v102; // [sp+18Ch] [bp-C48h]@27
  char v103; // [sp+19Ch] [bp-C38h]@27
  char v104; // [sp+1A0h] [bp-C34h]@27
  char v105; // [sp+1B0h] [bp-C24h]@15
  char v106; // [sp+1C0h] [bp-C14h]@15
  char v107; // [sp+1C4h] [bp-C10h]@15
  char v108; // [sp+1D4h] [bp-C00h]@1
  char v109; // [sp+1D8h] [bp-BFCh]@90
  CHAR *i; // [sp+228h] [bp-BACh]@17
  LPSTR lpBuffer; // [sp+22Ch] [bp-BA8h]@13
  __int64 v112; // [sp+230h] [bp-BA4h]@3
  int v113; // [sp+23Ch] [bp-B98h]@44
  __int64 v114; // [sp+240h] [bp-B94h]@111
  int v115; // [sp+250h] [bp-B84h]@44
  int v116; // [sp+254h] [bp-B80h]@44
  int v117; // [sp+25Ch] [bp-B78h]@44
  char v118; // [sp+338h] [bp-A9Ch]@7
  int v119; // [sp+348h] [bp-A8Ch]@46
  int v120; // [sp+34Ch] [bp-A88h]@44
  int v121; // [sp+358h] [bp-A7Ch]@82
  int v122; // [sp+364h] [bp-A70h]@44
  int v123; // [sp+370h] [bp-A64h]@103
  int v124; // [sp+384h] [bp-A50h]@89
  char v125; // [sp+388h] [bp-A4Ch]@107
  char v126; // [sp+4A8h] [bp-92Ch]@104
  char v127; // [sp+5ACh] [bp-828h]@57
  char v128; // [sp+9ACh] [bp-428h]@57
  int v129; // [sp+DACh] [bp-28h]@42
  int v130; // [sp+DB0h] [bp-24h]@68
  int v131; // [sp+DB4h] [bp-20h]@57
  int v132; // [sp+DB8h] [bp-1Ch]@57
  int j; // [sp+DBCh] [bp-18h]@44
  int v134; // [sp+DC0h] [bp-14h]@1
  int v135; // [sp+DC4h] [bp-10h]@1
  int v136; // [sp+DC8h] [bp-Ch]@1
  int v137; // [sp+DD0h] [bp-4h]@1

  memset(&v54, -858993460, 0xDBCu);
  v135 = 332;
  v6 = (int)GetCurrentProcess();
  v134 = sub_4E46A0(&v51 == &v51, v6, a1, (unsigned int)&v136, (int)&v51);
  sub_401A05(&v108);
  v137 = 0;
  if ( !a4 )
    a4 = (int)&unk_5A1E40;
  sub_4E4640(&v112, 0, 0x108u);
  if ( !dword_A8DFB94 && dword_5A1C64 == 1 )
    sub_4DD8D0(a1);
  if ( !dword_A8DFB94 )
  {
    dword_5A1C64 = 0;
    sub_4E5440(
      a1,
      (int)&v51,
      a4,
      (int)"%lu: ErrorLog not initialized (or was not able to initialize)!\n",
      dword_A8DFB9C);
    v137 = -1;
    v7 = sub_401654(&v118);
    return sub_4E46A0(1, v7, v53, v51, v52);
  }
  EnterCriticalSection(&CriticalSection);
  sub_4E46A0(&v51 == &v51, v8, a1, (unsigned int)&v136, (int)&v51);
  v9 = (int)&v51;
  v10 = InterlockedIncrement(&dword_A8DFB9C);
  sub_4E46A0(&v51 == &v51, v10, a1, (unsigned int)&v136, (int)&v51);
  if ( dword_A8DFBF4 || (dword_A8DFBF4 = sub_4E54F0(a1, (int)&v51, 0x420u)) != 0 )
  {
    if ( dword_A8DFB50 != 2 )
    {
      sub_4E5440(a1, (int)&v51, a4, (int)"%lu: ", dword_A8DFB9C);
      sub_4DE540(a1, (int)&v51, a4, 0);
      sub_4E5440(a1, (int)&v51, a4, (int)"\n", v51);
    }
    if ( !dword_5A1C64 )
      goto LABEL_44;
    lpBuffer = (LPSTR)sub_4E54F0(a1, (int)&v51, 0x1FA0u);
    if ( lpBuffer )
    {
      sub_40127B(&byte_5840D0);
      v11 = GetCurrentDirectoryA(0x1FA0u, lpBuffer);
      if ( sub_4E46A0(&v51 == &v51, v11, a1, (unsigned int)&v136, (int)&v51) )
      {
        v87 = sub_4019DD(";", &v106);
        v86 = v87;
        LOBYTE(v137) = 1;
        v85 = sub_40100F(&v105, lpBuffer, v87);
        v84 = v85;
        LOBYTE(v137) = 2;
        sub_4011A4(v85);
        LOBYTE(v137) = 1;
        sub_401654(&v105);
        LOBYTE(v137) = 0;
        sub_401654(&v107);
      }
      v12 = GetModuleFileNameA(0, lpBuffer, 0x1FA0u);
      if ( sub_4E46A0(&v51 == &v51, v12, a1, (unsigned int)&v136, (int)&v51) )
      {
        v13 = sub_4E4B50((int)lpBuffer);
        for ( i = &lpBuffer[v13 - 1]; i >= lpBuffer && *i != 92 && *i != 47 && *i != 58; --i )
          ;
        if ( i != lpBuffer )
        {
          if ( *i == 58 )
            ++i;
          *i = 0;
          v83 = sub_4019DD(";", &v103);
          v82 = v83;
          LOBYTE(v137) = 3;
          v81 = sub_40100F(&v102, lpBuffer, v83);
          v80 = v81;
          LOBYTE(v137) = 4;
          sub_4011A4(v81);
          LOBYTE(v137) = 3;
          sub_401654(&v102);
          LOBYTE(v137) = 0;
          sub_401654(&v104);
        }
      }
      v14 = GetEnvironmentVariableA("_NT_SYMBOL_PATH", lpBuffer, 0x1FA0u);
      if ( sub_4E46A0(&v51 == &v51, v14, a1, (unsigned int)&v136, (int)&v51) )
      {
        v79 = sub_4019DD(";", &v100);
        v78 = v79;
        LOBYTE(v137) = 5;
        v77 = sub_40100F(&v99, lpBuffer, v79);
        v76 = v77;
        LOBYTE(v137) = 6;
        sub_4011A4(v77);
        LOBYTE(v137) = 5;
        sub_401654(&v99);
        LOBYTE(v137) = 0;
        sub_401654(&v101);
      }
      v15 = GetEnvironmentVariableA("_NT_ALTERNATE_SYMBOL_PATH", lpBuffer, 0x1FA0u);
      if ( sub_4E46A0(&v51 == &v51, v15, a1, (unsigned int)&v136, (int)&v51) )
      {
        v75 = sub_4019DD(";", &v97);
        v74 = v75;
        LOBYTE(v137) = 7;
        v73 = sub_40100F(&v96, lpBuffer, v75);
        v72 = v73;
        LOBYTE(v137) = 8;
        sub_4011A4(v73);
        LOBYTE(v137) = 7;
        sub_401654(&v96);
        LOBYTE(v137) = 0;
        sub_401654(&v98);
      }
      v16 = GetEnvironmentVariableA("SYSTEMROOT", lpBuffer, 0x1FA0u);
      if ( sub_4E46A0(&v51 == &v51, v16, a1, (unsigned int)&v136, (int)&v51) )
      {
        v71 = sub_4019DD(";", &v94);
        v70 = v71;
        LOBYTE(v137) = 9;
        v69 = sub_40100F(&v93, lpBuffer, v71);
        v68 = v69;
        LOBYTE(v137) = 10;
        sub_4011A4(v69);
        LOBYTE(v137) = 9;
        sub_401654(&v93);
        LOBYTE(v137) = 0;
        sub_401654(&v95);
      }
      if ( sub_401799(&v118) )
      {
        v17 = sub_401799(&v118);
        v67 = sub_4015AA(&v92, 0, v17 - 1);
        v66 = v67;
        LOBYTE(v137) = 11;
        sub_40121C(v67);
        LOBYTE(v137) = 0;
        sub_401654(&v92);
      }
      v18 = sub_401465(&v118);
      sub_4E7850((int)lpBuffer, v18, 0x1FA0u);
      lpBuffer[8095] = 0;
      v9 = (int)&v51;
      v19 = dword_A8DFBDC(v134, lpBuffer, 0);
      if ( !sub_4E46A0(&v51 == &v51, v19, a1, (unsigned int)&v136, (int)&v51) )
      {
        if ( dword_A8DFB50 != 2 )
        {
          v9 = (int)&v51;
          v20 = GetLastError();
          v50 = sub_4E46A0(&v51 == &v51, v20, a1, (unsigned int)&v136, (int)&v51);
          sub_4E5440(a1, (int)&v51, a4, (int)"%lu: SymInitialize(): GetLastError = %lu\n", dword_A8DFB9C);
        }
        if ( lpBuffer )
          sub_4E5F30(a1, v9, (int)lpBuffer);
        goto LABEL_117;
      }
      v21 = dword_A8DFBD4();
      v22 = sub_4E46A0(&v51 == &v51, v21, a1, (unsigned int)&v136, (int)&v51);
      LOBYTE(v22) = v22 | 0x10;
      v129 = v22 & 0xFFFFFFF9;
      v23 = dword_A8DFBE4(v22 & 0xFFFFFFF9);
      sub_4E46A0(&v51 == &v51, v23, a1, (unsigned int)&v136, (int)&v51);
      v50 = a4;
      v24 = GetCurrentProcessId();
      v25 = sub_4E46A0(&v50 == &v50, v24, a1, (unsigned int)&v136, (int)&v50);
      sub_4E0C90(a1, (int)&v50, v134, v25, v50);
      if ( lpBuffer )
        sub_4E5F30(a1, (int)&v50, (int)lpBuffer);
LABEL_44:
      dword_5A1C64 = 0;
      v112 = *(_DWORD *)(a3 + 184);
      v113 = 3;
      v115 = *(_DWORD *)(a3 + 180);
      v116 = 0;
      v117 = 3;
      sub_4E4640((void *)dword_A8DFBF4, 0, 0x420u);
      *(_DWORD *)dword_A8DFBF4 = 32;
      *(_DWORD *)(dword_A8DFBF4 + 24) = 1024;
      sub_4E4640(&v120, 0, 0x18u);
      v120 = 24;
      sub_4E4640(&v122, 0, 0x248u);
      v122 = 584;
      for ( j = 0; ; ++j )
      {
        v9 = (int)&v51;
        v26 = dword_A8DFBE8(v135, a6, a2, &v112, 0, a5, dword_A8DFBC4, dword_A8DFBCC, 0);
        if ( !sub_4E46A0(&v51 == &v51, v26, a1, (unsigned int)&v136, (int)&v51) )
          break;
        v119 = 0;
        if ( dword_A8DFB50 == 1 )
        {
          v50 = j;
          sub_4E5440(a1, (int)&v51, a4, (int)"\n%lu: %3d", dword_A8DFB9C);
        }
        if ( v112 )
        {
          v128 = 0;
          v127 = 0;
          v131 = 0;
          v132 = 0;
          v27 = (int)&v51;
          v28 = dword_A8DFBD8(v134, v112, HIDWORD(v112), &v131, dword_A8DFBF4);
          if ( sub_4E46A0(&v51 == &v51, v28, a1, (unsigned int)&v136, (int)&v51) )
          {
            v32 = dword_A8DFBEC(dword_A8DFBF4 + 28, &v128, 1024, 4096);
            sub_4E46A0(&v51 == &v51, v32, a1, (unsigned int)&v136, (int)&v51);
            v27 = (int)&v51;
            v33 = dword_A8DFBEC(dword_A8DFBF4 + 28, &v127, 1024, 0);
            sub_4E46A0(&v51 == &v51, v33, a1, (unsigned int)&v136, (int)&v51);
            if ( dword_A8DFB50 == 1 )
            {
              if ( sub_4E4B50((int)&v128) )
              {
                v50 = v131;
                sub_4E5440(a1, (int)&v51, a4, (int)"     %s %+ld bytes\n", (unsigned int)&v128);
              }
              else
              {
                v50 = v131;
                sub_4E5440(a1, (int)&v51, a4, (int)"     Sig:  %s %+ld bytes\n", dword_A8DFBF4 + 28);
                v50 = dword_A8DFBF4 + 28;
                sub_4E4720((int)&v128);
              }
              v50 = (int)&v127;
              sub_4E5440(a1, (int)&v51, a4, (int)"%lu:     Decl: %s\n", dword_A8DFB9C);
            }
          }
          else
          {
            if ( dword_A8DFB50 == 1 )
            {
              v27 = (int)&v51;
              v29 = GetLastError();
              if ( sub_4E46A0(&v51 == &v51, v29, a1, (unsigned int)&v136, (int)&v51) == 487 )
              {
                sub_4E5440(a1, (int)&v51, a4, (int)"\n", v51);
              }
              else
              {
                v27 = (int)&v51;
                v30 = GetLastError();
                v31 = sub_4E46A0(&v51 == &v51, v30, a1, (unsigned int)&v136, (int)&v51);
                sub_4E5440(a1, (int)&v51, a4, (int)"   SymGetSymFromAddr(): GetLastError = %lu\n", v31);
              }
            }
          }
          v130 = 0;
          if ( dword_A8DFBC8 )
          {
            v27 = (int)&v51;
            v34 = dword_A8DFBC8(v134, v112, HIDWORD(v112), &v130, &v120);
            if ( sub_4E46A0(&v51 == &v51, v34, a1, (unsigned int)&v136, (int)&v51) )
            {
              v62 = dword_A8DFB50;
              if ( dword_A8DFB50 )
              {
                if ( v62 == 1 )
                {
                  v50 = v130;
                  sub_4E5440(a1, (int)&v51, a4, (int)"%lu:     Line: %s(%lu) %+ld bytes\n", dword_A8DFB9C);
                }
                else
                {
                  if ( v62 == 2 )
                  {
                    sub_4E5440(a1, (int)&v51, a4, (int)"<STACKENTRY ", v51);
                    v119 = 1;
                    v50 = v131;
                    v61 = sub_401C76(&v90, &v128);
                    v60 = v61;
                    LOBYTE(v137) = 13;
                    v40 = sub_401465(v61);
                    sub_4E5440(a1, (int)&v51, a4, (int)"decl=\"%s\" decl_offset=\"%+ld\" ", v40);
                    LOBYTE(v137) = 0;
                    sub_401654(&v90);
                    v50 = (int)&v128;
                    v59 = sub_401C76(&v89, v121);
                    v58 = v59;
                    LOBYTE(v137) = 14;
                    v41 = sub_401465(v59);
                    sub_4E5440(a1, (int)&v51, a4, (int)"srcfile=\"%s\" line=\"%lu\" line_offset=\"%+ld\" ", v41);
                    LOBYTE(v137) = 0;
                    sub_401654(&v89);
                  }
                }
              }
              else
              {
                v50 = (int)&v128;
                sub_4E5440(a1, (int)&v51, a4, (int)"%lu: %s(%lu) %+ld bytes (%s)\n", dword_A8DFB9C);
              }
            }
            else
            {
              v27 = (int)&v51;
              v35 = GetLastError();
              if ( sub_4E46A0(&v51 == &v51, v35, a1, (unsigned int)&v136, (int)&v51) != 487 && j > 0 )
              {
                if ( dword_A8DFB50 == 2 )
                {
                  sub_4E5440(a1, (int)&v51, a4, (int)"<STACKENTRY ", v51);
                  v119 = 1;
                  v50 = v131;
                  v64 = sub_401C76(&v91, &v128);
                  v63 = v64;
                  LOBYTE(v137) = 12;
                  v36 = sub_401465(v64);
                  sub_4E5440(a1, (int)&v51, a4, (int)"decl=\"%s\" decl_offset=\"%+ld\" ", v36);
                  LOBYTE(v137) = 0;
                  sub_401654(&v91);
                  v27 = (int)&v51;
                  v37 = GetLastError();
                  v38 = sub_4E46A0(&v51 == &v51, v37, a1, (unsigned int)&v136, (int)&v51);
                  sub_4E5440(a1, (int)&v51, a4, (int)"srcfile=\"SymGetLineFromAddr(): GetLastError = %lu\" ", v38);
                }
                else
                {
                  v27 = (int)&v51;
                  v39 = GetLastError();
                  v50 = sub_4E46A0(&v51 == &v51, v39, a1, (unsigned int)&v136, (int)&v51);
                  sub_4E5440(a1, (int)&v51, a4, (int)"%lu: SymGetLineFromAddr(): GetLastError = %lu\n", dword_A8DFB9C);
                }
              }
            }
          }
          if ( dword_A8DFB50 == 1 || dword_A8DFB50 == 2 )
          {
            v27 = (int)&v51;
            v42 = dword_A8DFBD0(v134, HIDWORD(v112), v134, v112, HIDWORD(v112), &v122);
            if ( sub_4E46A0(&v51 == &v51, v42, a1, (unsigned int)&v136, (int)&v51) )
            {
              v57 = v124;
              switch ( v124 )
              {
                case 0:
                  v50 = (int)"-nosymbols-";
                  sub_4E4720((int)&v109);
                  break;
                case 1:
                  v50 = (int)"COFF";
                  sub_4E4720((int)&v109);
                  break;
                case 2:
                  v50 = (int)"CV";
                  sub_4E4720((int)&v109);
                  break;
                case 3:
                  v50 = (int)"PDB";
                  sub_4E4720((int)&v109);
                  break;
                case 4:
                  v50 = (int)"-exported-";
                  sub_4E4720((int)&v109);
                  break;
                case 5:
                  v50 = (int)"-deferred-";
                  sub_4E4720((int)&v109);
                  break;
                case 6:
                  v50 = (int)"SYM";
                  sub_4E4720((int)&v109);
                  break;
                case 7:
                  v50 = (int)"DIA";
                  sub_4E4720((int)&v109);
                  break;
                default:
                  sub_4EC060(a1, (int)&v51, (int)&v109, 80, (int)"symtype=%ld", v124);
                  break;
              }
              if ( dword_A8DFB50 == 2 && !v119 )
              {
                sub_4E5440(a1, (int)&v51, a4, (int)"<STACKENTRY ", v51);
                v119 = 1;
                v50 = v131;
                v56 = sub_401C76(&v88, &v128);
                v55 = v56;
                LOBYTE(v137) = 15;
                v44 = sub_401465(v56);
                sub_4E5440(a1, (int)&v51, a4, (int)"decl=\"%s\" decl_offset=\"%+ld\" ", v44);
                LOBYTE(v137) = 0;
                sub_401654(&v88);
                sub_4E5440(a1, (int)&v51, a4, (int)"srcfile=\"\" ", v51);
                v119 = 1;
              }
              if ( dword_A8DFB50 == 1 )
              {
                v50 = v123;
                sub_4E5440(a1, (int)&v51, a4, (int)"%lu:     Mod:  %s, base: %08lxh\n", dword_A8DFB9C);
                if ( !v124 )
                {
                  sub_4E5440(a1, (int)&v51, a4, (int)"%lu:     Offset: 0x%8.8x\n", dword_A8DFB9C);
                  v50 = (int)&v126;
                  sub_4E5440(a1, (int)&v51, a4, (int)"%lu:     Sym:  type: %s, file: %s\n", dword_A8DFB9C);
                }
              }
              else
              {
                if ( v119 == 1 )
                {
                  v50 = v123;
                  sub_4E5440(a1, (int)&v51, a4, (int)"module=\"%s\" base=\"%08lx\" ", (unsigned int)&v125);
                }
              }
            }
            else
            {
              if ( dword_A8DFB50 == 1 )
              {
                v27 = (int)&v51;
                v43 = GetLastError();
                v50 = sub_4E46A0(&v51 == &v51, v43, a1, (unsigned int)&v136, (int)&v51);
                sub_4E5440(a1, (int)&v51, a4, (int)"%lu: SymGetModuleInfo): GetLastError = %lu\n", dword_A8DFB9C);
              }
            }
          }
          if ( dword_A8DFB50 == 2 && v119 == 1 )
            sub_4E5440(a1, v27, a4, (int)"/>\n", v51);
        }
        else
        {
          v65 = dword_A8DFB50;
          if ( dword_A8DFB50 )
          {
            if ( v65 == 1 )
            {
              sub_4E5440(a1, (int)&v51, a4, (int)"   (-nosymbols- PC == 0)\n", v51);
            }
            else
            {
              if ( v65 == 2 )
                sub_4E5440(a1, (int)&v51, a4, (int)"<STACKENTRY decl=\"(-nosymbols- PC == 0)\"/>\n", v51);
            }
          }
          else
          {
            sub_4E5440(a1, (int)&v51, a4, (int)"%lu: (-nosymbols- PC == 0)\n", dword_A8DFB9C);
          }
        }
        if ( !v114 )
        {
          v9 = (int)&v51;
          SetLastError(0);
          sub_4E46A0(&v51 == &v51, v45, a1, (unsigned int)&v136, (int)&v51);
          break;
        }
      }
      if ( dword_A8DFB50 != 2 )
      {
        v9 = (int)&v51;
        v46 = GetLastError();
        if ( sub_4E46A0(&v51 == &v51, v46, a1, (unsigned int)&v136, (int)&v51) )
        {
          v9 = (int)&v51;
          v47 = GetLastError();
          v50 = sub_4E46A0(&v51 == &v51, v47, a1, (unsigned int)&v136, (int)&v51);
          sub_4E5440(a1, (int)&v51, a4, (int)"\n%lu: GetLastError = %lu\n", dword_A8DFB9C);
        }
      }
      goto LABEL_117;
    }
  }
LABEL_117:
  if ( a4 )
  {
    sub_4E5440(a1, v9, a4, (int)"\n\n", v51);
    if ( dword_A8DFB9C % 0x3E8u )
      sub_4EACB0(a4);
  }
  LeaveCriticalSection(&CriticalSection);
  sub_4E46A0(&v51 == &v51, v48, a1, (unsigned int)&v136, (int)&v51);
  v137 = -1;
  v7 = sub_401654(&v118);
  return sub_4E46A0(1, v7, v53, v51, v52);
}
// A8DFBDC: invalid function type has been ignored
// A8DFBD4: invalid function type has been ignored
// A8DFBE4: invalid function type has been ignored
// A8DFBE8: invalid function type has been ignored
// A8DFBD8: invalid function type has been ignored
// A8DFBEC: invalid function type has been ignored
// A8DFBC8: invalid function type has been ignored
// A8DFBD0: invalid function type has been ignored
// 40100F: using guessed type _DWORD __cdecl sub_40100F(_DWORD, _DWORD, _DWORD);
// 4011A4: using guessed type _DWORD __stdcall sub_4011A4(_DWORD);
// 40121C: using guessed type _DWORD __stdcall sub_40121C(_DWORD);
// 40127B: using guessed type _DWORD __stdcall sub_40127B(_DWORD);
// 401465: using guessed type int __thiscall sub_401465(_DWORD);
// 4015AA: using guessed type _DWORD __stdcall sub_4015AA(_DWORD, _DWORD, _DWORD);
// 401654: using guessed type int __thiscall sub_401654(_DWORD);
// 401799: using guessed type int __thiscall sub_401799(_DWORD);
// 4019DD: using guessed type _DWORD __stdcall sub_4019DD(_DWORD, _DWORD);
// 401A05: using guessed type _DWORD __stdcall sub_401A05(_DWORD);
// 401C76: using guessed type _DWORD __cdecl sub_401C76(_DWORD, _DWORD);
// 4EACB0: using guessed type _DWORD __cdecl sub_4EACB0(_DWORD);
// 5840D0: using guessed type char byte_5840D0;
// 5A1C64: using guessed type int dword_5A1C64;
// A8DFB50: using guessed type int dword_A8DFB50;
// A8DFB94: using guessed type int dword_A8DFB94;
// A8DFBC4: using guessed type int dword_A8DFBC4;
// A8DFBC8: using guessed type int (__stdcall *dword_A8DFBC8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// A8DFBCC: using guessed type int dword_A8DFBCC;
// A8DFBD0: using guessed type int (__fastcall *dword_A8DFBD0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// A8DFBD4: using guessed type int (*dword_A8DFBD4)(void);
// A8DFBD8: using guessed type int (__stdcall *dword_A8DFBD8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// A8DFBDC: using guessed type int (__stdcall *dword_A8DFBDC)(_DWORD, _DWORD, _DWORD);
// A8DFBE4: using guessed type int (__stdcall *dword_A8DFBE4)(_DWORD);
// A8DFBE8: using guessed type int (__stdcall *dword_A8DFBE8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// A8DFBEC: using guessed type int (__stdcall *dword_A8DFBEC)(_DWORD, _DWORD, _DWORD, _DWORD);
// A8DFBF4: using guessed type int dword_A8DFBF4;

//----- (004E0C90) --------------------------------------------------------
int __usercall sub_4E0C90<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5)
{
  int v5; // eax@4
  int v6; // eax@5
  int v7; // eax@5
  int v8; // eax@5
  int v9; // eax@5
  int v10; // eax@5
  char v12; // [sp+0h] [bp-6Ch]@5
  int v13; // [sp+4h] [bp-68h]@6
  int v14; // [sp+8h] [bp-64h]@6
  char v15; // [sp+Ch] [bp-60h]@1
  char v16; // [sp+4Ch] [bp-20h]@5
  char v17; // [sp+50h] [bp-1Ch]@2
  char v18; // [sp+54h] [bp-18h]@5
  int v19; // [sp+64h] [bp-8h]@5
  int v20; // [sp+68h] [bp-4h]@5
  int v21; // [sp+6Ch] [bp+0h]@5

  memset(&v15, -858993460, 0x60u);
  if ( !(byte_A64E574 & 1) )
  {
    byte_A64E574 |= 1u;
    sub_4016DB(&v17);
    sub_4E8BF0(a1, a2, (int)sub_4E1720);
  }
  sub_4E0E30(a1, (int)&unk_A797060, a4, a3, a5);
  for ( dword_A64E578 = sub_4018D4(&unk_A797060); ; dword_A64E578 += 40 )
  {
    v5 = sub_40137A(&unk_A797060);
    if ( dword_A64E578 == v5 )
      break;
    v6 = sub_401465(dword_A64E578);
    sub_4EB940(a1, a2, v6);
    v20 = v7;
    v8 = sub_401465(dword_A64E578 + 16);
    sub_4EB940(a1, a2, v8);
    v19 = v9;
    a2 = (int)&v12;
    v10 = dword_A8DFBE0(a3, 0, v20, v9, *(_DWORD *)(dword_A64E578 + 32), 0, *(_DWORD *)(dword_A64E578 + 36));
    sub_4E46A0(&v12 == &v12, v10, a1, (unsigned int)&v21, (int)&v12);
    sub_4E5F30(a1, (int)&v12, v20);
    sub_4E5F30(a1, (int)&v12, v19);
    sub_401A05(&v16);
    sub_401654(&v18);
  }
  return sub_4E46A0(1, v5, v14, v12, v13);
}
// A8DFBE0: invalid function type has been ignored
// 40137A: using guessed type int __thiscall sub_40137A(_DWORD);
// 401465: using guessed type int __thiscall sub_401465(_DWORD);
// 401654: using guessed type int __thiscall sub_401654(_DWORD);
// 4016DB: using guessed type _DWORD __stdcall sub_4016DB(_DWORD);
// 4018D4: using guessed type int __thiscall sub_4018D4(_DWORD);
// 401A05: using guessed type _DWORD __stdcall sub_401A05(_DWORD);
// A64E574: using guessed type char byte_A64E574;
// A64E578: using guessed type int dword_A64E578;
// A8DFBE0: using guessed type int (__stdcall *dword_A8DFBE0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (004E0E30) --------------------------------------------------------
int __usercall sub_4E0E30<eax>(int a1<ebx>, int a2, int a3, int a4, int a5)
{
  int v5; // eax@1
  char v7; // [sp+0h] [bp-4Ch]@0
  int v8; // [sp+4h] [bp-48h]@0
  int v9; // [sp+8h] [bp-44h]@0
  char v10; // [sp+Ch] [bp-40h]@1

  memset(&v10, -858993460, 0x40u);
  v5 = (unsigned __int8)sub_4E0EB0(a1, a2, a3);
  if ( v5 )
    LOBYTE(v5) = 1;
  else
    v5 = sub_4E1340(a1, a2, a3, a4, a5);
  return sub_4E46A0(1, v5, v9, v7, v8);
}

//----- (004E0EB0) --------------------------------------------------------
int __usercall sub_4E0EB0<eax>(int a1<ebx>, int a2, int a3)
{
  int v3; // eax@4
  int v4; // eax@5
  int v5; // eax@5
  int v6; // eax@5
  int v7; // eax@8
  int v8; // eax@10
  int v9; // eax@11
  int v10; // eax@13
  int v11; // eax@15
  int v12; // eax@16
  int v13; // eax@16
  char v15; // [sp+0h] [bp-2D4h]@4
  int v16; // [sp+4h] [bp-2D0h]@17
  int v17; // [sp+8h] [bp-2CCh]@17
  char v18; // [sp+Ch] [bp-2C8h]@1
  char v19; // [sp+4Ch] [bp-288h]@16
  char v20; // [sp+50h] [bp-284h]@12
  char v21; // [sp+54h] [bp-280h]@10
  unsigned int i; // [sp+58h] [bp-27Ch]@1
  char v23; // [sp+5Ch] [bp-278h]@1
  int v24; // [sp+7Ch] [bp-258h]@15
  int v25; // [sp+80h] [bp-254h]@15
  int v26; // [sp+84h] [bp-250h]@13
  int v27; // [sp+88h] [bp-24Ch]@1
  int v28; // [sp+9Ch] [bp-238h]@15
  int v29; // [sp+A0h] [bp-234h]@15
  char v30; // [sp+A8h] [bp-22Ch]@15
  char v31; // [sp+1A8h] [bp-12Ch]@15
  HANDLE hObject; // [sp+2ACh] [bp-28h]@11
  int v33; // [sp+2B0h] [bp-24h]@5
  int v34; // [sp+2B4h] [bp-20h]@5
  int v35; // [sp+2B8h] [bp-1Ch]@5
  HMODULE hLibModule; // [sp+2BCh] [bp-18h]@4
  LPCSTR lpLibFileName; // [sp+2C0h] [bp-14h]@1
  int v38; // [sp+2C4h] [bp-10h]@1
  int v39; // [sp+2C8h] [bp-Ch]@4
  int v40; // [sp+2D0h] [bp-4h]@1

  memset(&v18, -858993460, 0x2BCu);
  lpLibFileName = "kernel32.dll";
  v38 = (int)"tlhelp32.dll";
  v27 = 548;
  sub_4014CE(&v23);
  v40 = 0;
  for ( i = 0; i < 2; ++i )
  {
    v3 = (int)LoadLibraryA((&lpLibFileName)[4 * i]);
    hLibModule = (HMODULE)sub_4E46A0(&v15 == &v15, v3, a1, (unsigned int)&v39, (int)&v15);
    if ( hLibModule )
    {
      v4 = (int)GetProcAddress(hLibModule, "CreateToolhelp32Snapshot");
      v35 = sub_4E46A0(&v15 == &v15, v4, a1, (unsigned int)&v39, (int)&v15);
      v5 = (int)GetProcAddress(hLibModule, "Module32First");
      v34 = sub_4E46A0(&v15 == &v15, v5, a1, (unsigned int)&v39, (int)&v15);
      v6 = (int)GetProcAddress(hLibModule, "Module32Next");
      v33 = sub_4E46A0(&v15 == &v15, v6, a1, (unsigned int)&v39, (int)&v15);
      if ( v35 && v34 && v33 )
        break;
      v7 = FreeLibrary(hLibModule);
      sub_4E46A0(&v15 == &v15, v7, a1, (unsigned int)&v39, (int)&v15);
      hLibModule = 0;
    }
  }
  if ( hLibModule )
  {
    v9 = ((int (__stdcall *)(signed int, int))v35)(8, a3);
    hObject = (HANDLE)sub_4E46A0(&v15 == &v15, v9, a1, (unsigned int)&v39, (int)&v15);
    if ( hObject == (HANDLE)-1 )
    {
      v20 = 0;
      v40 = -1;
      v8 = sub_401A0A(&v23);
      LOBYTE(v8) = v20;
    }
    else
    {
      v10 = ((int (__stdcall *)(HANDLE, int *))v34)(hObject, &v27);
      LOBYTE(v26) = sub_4E46A0(&v15 == &v15, v10, a1, (unsigned int)&v39, (int)&v15) != 0;
      while ( (_BYTE)v26 )
      {
        sub_40127B(&v31);
        sub_40127B(&v30);
        v24 = v28;
        v25 = v29;
        sub_401AE1(&v23);
        v11 = ((int (__stdcall *)(HANDLE, int *))v33)(hObject, &v27);
        LOBYTE(v26) = sub_4E46A0(&v15 == &v15, v11, a1, (unsigned int)&v39, (int)&v15) != 0;
      }
      v12 = CloseHandle(hObject);
      sub_4E46A0(&v15 == &v15, v12, a1, (unsigned int)&v39, (int)&v15);
      v13 = FreeLibrary(hLibModule);
      sub_4E46A0(&v15 == &v15, v13, a1, (unsigned int)&v39, (int)&v15);
      v19 = sub_4016A4(a2) != 0;
      v40 = -1;
      v8 = sub_401A0A(&v23);
      LOBYTE(v8) = v19;
    }
  }
  else
  {
    v21 = 0;
    v40 = -1;
    v8 = sub_401A0A(&v23);
    LOBYTE(v8) = v21;
  }
  return sub_4E46A0(1, v8, v17, v15, v16);
}
// 40127B: using guessed type _DWORD __stdcall sub_40127B(_DWORD);
// 4014CE: using guessed type int __thiscall sub_4014CE(_DWORD);
// 4016A4: using guessed type int __thiscall sub_4016A4(_DWORD);
// 401A0A: using guessed type int __thiscall sub_401A0A(_DWORD);
// 401AE1: using guessed type _DWORD __stdcall sub_401AE1(_DWORD);

//----- (004E1210) --------------------------------------------------------
int __thiscall sub_4E1210(void *this)
{
  char v2; // [sp+0h] [bp-64h]@0
  int v3; // [sp+4h] [bp-60h]@0
  int v4; // [sp+8h] [bp-5Ch]@0
  char v5; // [sp+Ch] [bp-58h]@1
  char v6; // [sp+4Ch] [bp-18h]@1
  char v7; // [sp+50h] [bp-14h]@1
  int v8; // [sp+54h] [bp-10h]@1
  int v9; // [sp+60h] [bp-4h]@1

  memset(&v5, -858993460, 0x4Cu);
  v8 = (int)this;
  sub_401A05(&v7);
  v9 = 0;
  sub_401A05(&v6);
  return sub_4E46A0(1, v8, v4, v2, v3);
}
// 401A05: using guessed type _DWORD __stdcall sub_401A05(_DWORD);

//----- (004E12B0) --------------------------------------------------------
int __thiscall sub_4E12B0(void *this)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-5Ch]@0
  int v4; // [sp+4h] [bp-58h]@0
  int v5; // [sp+8h] [bp-54h]@0
  char v6; // [sp+Ch] [bp-50h]@1
  void *v7; // [sp+4Ch] [bp-10h]@1
  int v8; // [sp+58h] [bp-4h]@1

  memset(&v6, -858993460, 0x44u);
  v7 = this;
  v8 = 0;
  sub_401654((char *)this + 16);
  v8 = -1;
  v1 = sub_401654(v7);
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (004E1340) --------------------------------------------------------
int __usercall sub_4E1340<eax>(int a1<ebx>, int a2, int a3, int a4, int a5)
{
  int v5; // eax@1
  int v6; // eax@2
  int v7; // eax@3
  int v8; // eax@3
  int v9; // eax@3
  int v10; // eax@3
  int v11; // eax@7
  int v12; // esi@8
  int v13; // eax@8
  int v14; // eax@9
  int v15; // eax@14
  int v16; // eax@14
  int v17; // eax@14
  int v18; // eax@16
  char v20; // [sp+0h] [bp-BCh]@1
  int v21; // [sp+4h] [bp-B8h]@18
  int v22; // [sp+8h] [bp-B4h]@18
  char v23; // [sp+Ch] [bp-B0h]@1
  char v24; // [sp+4Ch] [bp-70h]@17
  char v25; // [sp+50h] [bp-6Ch]@7
  char v26; // [sp+54h] [bp-68h]@2
  int v27; // [sp+58h] [bp-64h]@1
  int v28; // [sp+5Ch] [bp-60h]@1
  int v29; // [sp+60h] [bp-5Ch]@14
  int v30; // [sp+64h] [bp-58h]@14
  unsigned int v31; // [sp+6Ch] [bp-50h]@8
  char v32; // [sp+70h] [bp-4Ch]@1
  int v33; // [sp+90h] [bp-2Ch]@14
  int v34; // [sp+94h] [bp-28h]@14
  unsigned int i; // [sp+98h] [bp-24h]@12
  int v36; // [sp+9Ch] [bp-20h]@3
  int v37; // [sp+A0h] [bp-1Ch]@3
  int v38; // [sp+A4h] [bp-18h]@3
  int v39; // [sp+A8h] [bp-14h]@3
  HMODULE hLibModule; // [sp+ACh] [bp-10h]@1
  int v41; // [sp+B0h] [bp-Ch]@1
  int v42; // [sp+B8h] [bp-4h]@1

  memset(&v23, -858993460, 0xA4u);
  sub_4014CE(&v32);
  v42 = 0;
  v28 = 0;
  v27 = 0;
  v5 = (int)LoadLibraryA("psapi.dll");
  hLibModule = (HMODULE)sub_4E46A0(&v20 == &v20, v5, a1, (unsigned int)&v41, (int)&v20);
  if ( hLibModule )
  {
    sub_401A23(a2);
    v7 = (int)GetProcAddress(hLibModule, "EnumProcessModules");
    v39 = sub_4E46A0(&v20 == &v20, v7, a1, (unsigned int)&v41, (int)&v20);
    v8 = (int)GetProcAddress(hLibModule, "GetModuleFileNameExA");
    v38 = sub_4E46A0(&v20 == &v20, v8, a1, (unsigned int)&v41, (int)&v20);
    v9 = (int)GetProcAddress(hLibModule, "GetModuleBaseNameA");
    v37 = sub_4E46A0(&v20 == &v20, v9, a1, (unsigned int)&v41, (int)&v20);
    v10 = (int)GetProcAddress(hLibModule, "GetModuleInformation");
    v36 = sub_4E46A0(&v20 == &v20, v10, a1, (unsigned int)&v41, (int)&v20);
    if ( v39 && v38 && v37 && v36 )
    {
      v28 = sub_4E54F0(a1, (int)&v20, 0x1FA0u);
      v27 = sub_4E54F0(a1, (int)&v20, 0x1FA0u);
      v12 = (int)&v20;
      v13 = ((int (__stdcall *)(int, int, signed int, unsigned int *))v39)(a4, v28, 8096, &v31);
      if ( sub_4E46A0(&v20 == &v20, v13, a1, (unsigned int)&v41, (int)&v20) )
      {
        if ( v31 <= 0x1FA0 )
        {
          for ( i = 0; i < v31 >> 2; ++i )
          {
            v15 = ((int (__stdcall *)(int, _DWORD, int *, signed int))v36)(a4, *(_DWORD *)(v28 + 4 * i), &v29, 12);
            sub_4E46A0(&v20 == &v20, v15, a1, (unsigned int)&v41, (int)&v20);
            v33 = v29;
            v34 = v30;
            *(_BYTE *)v27 = 0;
            v16 = ((int (__stdcall *)(int, _DWORD, int, signed int))v38)(a4, *(_DWORD *)(v28 + 4 * i), v27, 8096);
            sub_4E46A0(&v20 == &v20, v16, a1, (unsigned int)&v41, (int)&v20);
            sub_40127B(v27);
            *(_BYTE *)v27 = 0;
            v12 = (int)&v20;
            v17 = ((int (__stdcall *)(int, _DWORD, int, signed int))v37)(a4, *(_DWORD *)(v28 + 4 * i), v27, 8096);
            sub_4E46A0(&v20 == &v20, v17, a1, (unsigned int)&v41, (int)&v20);
            sub_40127B(v27);
            sub_401AE1(&v32);
          }
        }
        else
        {
          sub_4E5440(a1, (int)&v20, a5, (int)"%lu: More than %lu module handles. Huh?\n", dword_A8DFB9C);
        }
      }
      else
      {
        v12 = (int)&v20;
        v14 = GetLastError();
        sub_4E46A0(&v20 == &v20, v14, a1, (unsigned int)&v41, (int)&v20);
        sub_4E5440(a1, (int)&v20, a5, (int)"%lu: EPM failed, GetLastError = %lu\n", dword_A8DFB9C);
      }
      if ( hLibModule )
      {
        v12 = (int)&v20;
        v18 = FreeLibrary(hLibModule);
        sub_4E46A0(&v20 == &v20, v18, a1, (unsigned int)&v41, (int)&v20);
      }
      sub_4E5F30(a1, v12, v27);
      sub_4E5F30(a1, v12, v28);
      v24 = sub_4016A4(a2) != 0;
      v42 = -1;
      v6 = sub_401A0A(&v32);
      LOBYTE(v6) = v24;
    }
    else
    {
      v11 = FreeLibrary(hLibModule);
      sub_4E46A0(&v20 == &v20, v11, a1, (unsigned int)&v41, (int)&v20);
      v25 = 0;
      v42 = -1;
      v6 = sub_401A0A(&v32);
      LOBYTE(v6) = v25;
    }
  }
  else
  {
    v26 = 0;
    v42 = -1;
    v6 = sub_401A0A(&v32);
    LOBYTE(v6) = v26;
  }
  return sub_4E46A0(1, v6, v22, v20, v21);
}
// 40127B: using guessed type _DWORD __stdcall sub_40127B(_DWORD);
// 4014CE: using guessed type int __thiscall sub_4014CE(_DWORD);
// 4016A4: using guessed type int __thiscall sub_4016A4(_DWORD);
// 401A0A: using guessed type int __thiscall sub_401A0A(_DWORD);
// 401A23: using guessed type int __thiscall sub_401A23(_DWORD);
// 401AE1: using guessed type _DWORD __stdcall sub_401AE1(_DWORD);

//----- (004E1720) --------------------------------------------------------
int __cdecl sub_4E1720()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_401064(&unk_A797060);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 401064: using guessed type int __thiscall sub_401064(_DWORD);

//----- (004E1760) --------------------------------------------------------
int __thiscall sub_4E1760(void *this, int a2)
{
  char v3; // [sp+0h] [bp-50h]@0
  int v4; // [sp+4h] [bp-4Ch]@0
  int v5; // [sp+8h] [bp-48h]@0
  char v6; // [sp+Ch] [bp-44h]@1
  int v7; // [sp+4Ch] [bp-4h]@1

  memset(&v6, -858993460, 0x44u);
  v7 = (int)this;
  *(_BYTE *)this = *(_BYTE *)a2;
  sub_401B36(0);
  return sub_4E46A0(1, v7, v5, v3, v4);
}
// 401B36: using guessed type _DWORD __stdcall sub_401B36(_DWORD);

//----- (004E17C0) --------------------------------------------------------
int __thiscall sub_4E17C0(void *this, int a2)
{
  char v3; // [sp+0h] [bp-50h]@0
  int v4; // [sp+4h] [bp-4Ch]@0
  int v5; // [sp+8h] [bp-48h]@0
  char v6; // [sp+Ch] [bp-44h]@1
  int v7; // [sp+4Ch] [bp-4h]@1

  memset(&v6, -858993460, 0x44u);
  v7 = (int)this;
  *(_BYTE *)this = *(_BYTE *)a2;
  sub_401B36(0);
  sub_401677(a2, 0, dword_5902F8);
  return sub_4E46A0(1, v7, v5, v3, v4);
}
// 401677: using guessed type _DWORD __stdcall sub_401677(_DWORD, _DWORD, _DWORD);
// 401B36: using guessed type _DWORD __stdcall sub_401B36(_DWORD);
// 5902F8: using guessed type int dword_5902F8;

//----- (004E1840) --------------------------------------------------------
int __thiscall sub_4E1840(void *this, int a2, int a3)
{
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  int v8; // [sp+4Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x44u);
  v8 = (int)this;
  *(_BYTE *)this = *(_BYTE *)a3;
  sub_401B36(0);
  sub_40102D(a2);
  return sub_4E46A0(1, v8, v6, v4, v5);
}
// 40102D: using guessed type _DWORD __stdcall sub_40102D(_DWORD);
// 401B36: using guessed type _DWORD __stdcall sub_401B36(_DWORD);

//----- (004E18B0) --------------------------------------------------------
int __thiscall sub_4E18B0(void *this)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-50h]@0
  int v4; // [sp+4h] [bp-4Ch]@0
  int v5; // [sp+8h] [bp-48h]@0
  char v6; // [sp+Ch] [bp-44h]@1
  void *v7; // [sp+4Ch] [bp-4h]@1

  memset(&v6, -858993460, 0x44u);
  v7 = this;
  v1 = sub_401B36(1);
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401B36: using guessed type _DWORD __stdcall sub_401B36(_DWORD);

//----- (004E1900) --------------------------------------------------------
int __thiscall sub_4E1900(void *this, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  void *v8; // [sp+4Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x44u);
  v8 = this;
  v2 = sub_40132F(a2);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 40132F: using guessed type _DWORD __stdcall sub_40132F(_DWORD);

//----- (004E1950) --------------------------------------------------------
int __thiscall sub_4E1950(void *this, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  void *v8; // [sp+4Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x44u);
  v8 = this;
  v2 = sub_40102D(a2);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 40102D: using guessed type _DWORD __stdcall sub_40102D(_DWORD);

//----- (004E19A0) --------------------------------------------------------
int __thiscall sub_4E19A0(void *this, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  void *v8; // [sp+4Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x44u);
  v8 = this;
  v2 = sub_401B77(a2);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401B77: using guessed type _DWORD __stdcall sub_401B77(_DWORD);

//----- (004E19F0) --------------------------------------------------------
int __thiscall sub_4E19F0(void *this, char a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  void *v8; // [sp+4Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x44u);
  v8 = this;
  v2 = sub_4018A2(1, a2);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4018A2: using guessed type _DWORD __stdcall sub_4018A2(_DWORD, char);

//----- (004E1A40) --------------------------------------------------------
int __thiscall sub_4E1A40(void *this, int a2)
{
  int v2; // eax@1
  int v3; // eax@1
  char v5; // [sp+0h] [bp-50h]@0
  int v6; // [sp+4h] [bp-4Ch]@0
  int v7; // [sp+8h] [bp-48h]@0
  char v8; // [sp+Ch] [bp-44h]@1
  void *v9; // [sp+4Ch] [bp-4h]@1

  memset(&v8, -858993460, 0x44u);
  v9 = this;
  v2 = sub_401CB2(a2);
  v3 = sub_401898(a2, v2);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401898: using guessed type _DWORD __stdcall sub_401898(_DWORD, _DWORD);
// 401CB2: using guessed type _DWORD __cdecl sub_401CB2(_DWORD);

//----- (004E1AA0) --------------------------------------------------------
int __cdecl sub_4E1AA0(int a1)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-4Ch]@0
  int v4; // [sp+4h] [bp-48h]@0
  int v5; // [sp+8h] [bp-44h]@0
  char v6; // [sp+Ch] [bp-40h]@1

  memset(&v6, -858993460, 0x40u);
  v1 = sub_4E4B50(a1);
  return sub_4E46A0(1, v1, v5, v3, v4);
}

//----- (004E1AF0) --------------------------------------------------------
int __thiscall sub_4E1AF0(int this)
{
  char v2; // [sp+0h] [bp-54h]@0
  int v3; // [sp+4h] [bp-50h]@0
  int v4; // [sp+8h] [bp-4Ch]@0
  char v5; // [sp+Ch] [bp-48h]@1
  int v6; // [sp+4Ch] [bp-8h]@2
  int v7; // [sp+50h] [bp-4h]@1

  memset(&v5, -858993460, 0x48u);
  v7 = this;
  if ( *(_DWORD *)(this + 4) )
    v6 = *(_DWORD *)(v7 + 4);
  else
    v6 = sub_401B72();
  return sub_4E46A0(1, v6, v4, v2, v3);
}
// 401B72: using guessed type int sub_401B72(void);

//----- (004E1B50) --------------------------------------------------------
int __thiscall sub_4E1B50(int this)
{
  char v2; // [sp+Ch] [bp-44h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  memset(&v2, -858993460, 0x44u);
  v3 = this;
  return *(_DWORD *)(this + 8);
}

//----- (004E1B90) --------------------------------------------------------
int __thiscall sub_4E1B90(void *this, int a2, int a3, int a4)
{
  char v5; // [sp+0h] [bp-58h]@0
  int v6; // [sp+4h] [bp-54h]@0
  int v7; // [sp+8h] [bp-50h]@0
  char v8; // [sp+Ch] [bp-4Ch]@1
  int v9; // [sp+4Ch] [bp-Ch]@1
  char v10; // [sp+50h] [bp-8h]@1

  memset(&v8, -858993460, 0x4Cu);
  v9 = 0;
  sub_401311(this, a3, a4, &v10);
  return sub_4E46A0(1, a2, v7, v5, v6);
}
// 401311: using guessed type _DWORD __stdcall sub_401311(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (004E1C10) --------------------------------------------------------
int __thiscall sub_4E1C10(void *this, int a2)
{
  char v3; // [sp+Ch] [bp-44h]@1
  void *v4; // [sp+4Ch] [bp-4h]@1

  memset(&v3, -858993460, 0x44u);
  v4 = this;
  *(_BYTE *)this = *(_BYTE *)a2;
  *((_DWORD *)v4 + 1) = 0;
  *((_DWORD *)v4 + 2) = 0;
  *((_DWORD *)v4 + 3) = 0;
  return (int)v4;
}

//----- (004E1C80) --------------------------------------------------------
int __thiscall sub_4E1C80(void *this)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-50h]@0
  int v4; // [sp+4h] [bp-4Ch]@0
  int v5; // [sp+8h] [bp-48h]@0
  char v6; // [sp+Ch] [bp-44h]@1
  int v7; // [sp+4Ch] [bp-4h]@1

  memset(&v6, -858993460, 0x44u);
  v7 = (int)this;
  sub_401005(*(_DWORD *)(v7 + 4), *(_DWORD *)(v7 + 8));
  sub_4015DC(*(_DWORD *)(v7 + 4), (*(_DWORD *)(v7 + 12) - *(_DWORD *)(v7 + 4)) / 40);
  *(_DWORD *)(v7 + 4) = 0;
  *(_DWORD *)(v7 + 8) = 0;
  v1 = v7;
  *(_DWORD *)(v7 + 12) = 0;
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 401005: using guessed type _DWORD __stdcall sub_401005(_DWORD, _DWORD);
// 4015DC: using guessed type _DWORD __stdcall sub_4015DC(_DWORD, _DWORD);

//----- (004E1D30) --------------------------------------------------------
int __thiscall sub_4E1D30(int this)
{
  char v2; // [sp+Ch] [bp-44h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  memset(&v2, -858993460, 0x44u);
  v3 = this;
  return *(_DWORD *)(this + 4);
}

//----- (004E1D70) --------------------------------------------------------
int __thiscall sub_4E1D70(int this)
{
  char v2; // [sp+Ch] [bp-44h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  memset(&v2, -858993460, 0x44u);
  v3 = this;
  return *(_DWORD *)(this + 8);
}

//----- (004E1DB0) --------------------------------------------------------
int __thiscall sub_4E1DB0(int this)
{
  char v2; // [sp+Ch] [bp-48h]@1
  int v3; // [sp+4Ch] [bp-8h]@2
  int v4; // [sp+50h] [bp-4h]@1

  memset(&v2, -858993460, 0x48u);
  v4 = this;
  if ( *(_DWORD *)(this + 4) )
    v3 = (*(_DWORD *)(v4 + 8) - *(_DWORD *)(v4 + 4)) / 40;
  else
    v3 = 0;
  return v3;
}

//----- (004E1E20) --------------------------------------------------------
int __thiscall sub_4E1E20(void *this, int a2)
{
  int v2; // eax@1
  int v3; // eax@1
  char v5; // [sp+0h] [bp-50h]@0
  int v6; // [sp+4h] [bp-4Ch]@0
  int v7; // [sp+8h] [bp-48h]@0
  char v8; // [sp+Ch] [bp-44h]@1
  void *v9; // [sp+4Ch] [bp-4h]@1

  memset(&v8, -858993460, 0x44u);
  v9 = this;
  v2 = sub_40137A(this);
  v3 = sub_401244(v2, a2);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401244: using guessed type _DWORD __stdcall sub_401244(_DWORD, _DWORD);
// 40137A: using guessed type int __thiscall sub_40137A(_DWORD);

//----- (004E1E80) --------------------------------------------------------
int __thiscall sub_4E1E80(void *this)
{
  int v1; // ST04_4@1
  int v2; // eax@1
  int v3; // eax@1
  char v5; // [sp+0h] [bp-50h]@0
  int v6; // [sp+4h] [bp-4Ch]@0
  int v7; // [sp+8h] [bp-48h]@0
  char v8; // [sp+Ch] [bp-44h]@1
  void *v9; // [sp+4Ch] [bp-4h]@1

  memset(&v8, -858993460, 0x44u);
  v9 = this;
  v1 = sub_40137A(this);
  v2 = sub_4018D4(v9);
  v3 = sub_401555(v2, v1);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 40137A: using guessed type int __thiscall sub_40137A(_DWORD);
// 401555: using guessed type _DWORD __stdcall sub_401555(_DWORD, _DWORD);
// 4018D4: using guessed type int __thiscall sub_4018D4(_DWORD);

//----- (004E1EE0) --------------------------------------------------------
int __thiscall sub_4E1EE0(void *this, int a2, int a3, int a4, int a5)
{
  char v6; // [sp+0h] [bp-50h]@0
  int v7; // [sp+4h] [bp-4Ch]@0
  int v8; // [sp+8h] [bp-48h]@0
  char v9; // [sp+Ch] [bp-44h]@1
  int v10; // [sp+4Ch] [bp-4h]@1

  memset(&v9, -858993460, 0x44u);
  v10 = (int)this;
  *(_BYTE *)this = *(_BYTE *)a5;
  sub_401B36(0);
  sub_401677(a2, a3, a4);
  return sub_4E46A0(1, v10, v8, v6, v7);
}
// 401677: using guessed type _DWORD __stdcall sub_401677(_DWORD, _DWORD, _DWORD);
// 401B36: using guessed type _DWORD __stdcall sub_401B36(_DWORD);

//----- (004E1F60) --------------------------------------------------------
int __thiscall sub_4E1F60(void *this, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  void *v8; // [sp+4Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x44u);
  v8 = this;
  v2 = sub_401622(a2, 0, dword_5902F8);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401622: using guessed type _DWORD __stdcall sub_401622(_DWORD, _DWORD, _DWORD);
// 5902F8: using guessed type int dword_5902F8;

//----- (004E1FC0) --------------------------------------------------------
int __userpurge sub_4E1FC0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4, unsigned int a5)
{
  char v6; // [sp+0h] [bp-54h]@0
  int v7; // [sp+4h] [bp-50h]@0
  int v8; // [sp+8h] [bp-4Ch]@0
  char v9; // [sp+Ch] [bp-48h]@1
  unsigned int v10; // [sp+4Ch] [bp-8h]@4
  int v11; // [sp+50h] [bp-4h]@1

  memset(&v9, -858993460, 0x48u);
  v11 = a1;
  if ( dword_5902F8 - *(_DWORD *)(a1 + 8) <= a5 )
    sub_4FC610(a2, a3);
  if ( a5 )
  {
    v10 = a5 + *(_DWORD *)(v11 + 8);
    if ( (unsigned __int8)sub_4019A6(v10, 0) )
    {
      sub_4013F2(*(_DWORD *)(v11 + 8) + *(_DWORD *)(v11 + 4), a4, a5);
      sub_40122B(v10);
    }
  }
  return sub_4E46A0(1, v11, v8, v6, v7);
}
// 40122B: using guessed type _DWORD __stdcall sub_40122B(_DWORD);
// 4013F2: using guessed type _DWORD __cdecl sub_4013F2(_DWORD, _DWORD, _DWORD);
// 4019A6: using guessed type _DWORD __stdcall sub_4019A6(_DWORD, _DWORD);
// 5902F8: using guessed type int dword_5902F8;

//----- (004E2090) --------------------------------------------------------
int __cdecl sub_4E2090(void *a1, const void *a2, unsigned int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-4Ch]@0
  int v6; // [sp+4h] [bp-48h]@0
  int v7; // [sp+8h] [bp-44h]@0
  char v8; // [sp+Ch] [bp-40h]@1

  memset(&v8, -858993460, 0x40u);
  v3 = (int)sub_4E4810(a1, a2, a3);
  return sub_4E46A0(1, v3, v7, v5, v6);
}

//----- (004E20E0) --------------------------------------------------------
int __userpurge sub_4E20E0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, unsigned int a4, char a5)
{
  char v6; // [sp+0h] [bp-54h]@0
  int v7; // [sp+4h] [bp-50h]@0
  int v8; // [sp+8h] [bp-4Ch]@0
  char v9; // [sp+Ch] [bp-48h]@1
  unsigned int v10; // [sp+4Ch] [bp-8h]@4
  int v11; // [sp+50h] [bp-4h]@1

  memset(&v9, -858993460, 0x48u);
  v11 = a1;
  if ( dword_5902F8 - *(_DWORD *)(a1 + 8) <= a4 )
    sub_4FC610(a2, a3);
  if ( a4 )
  {
    v10 = a4 + *(_DWORD *)(v11 + 8);
    if ( (unsigned __int8)sub_4019A6(v10, 0) )
    {
      sub_401AAA(*(_DWORD *)(v11 + 8) + *(_DWORD *)(v11 + 4), a4, &a5);
      sub_40122B(v10);
    }
  }
  return sub_4E46A0(1, v11, v8, v6, v7);
}
// 40122B: using guessed type _DWORD __stdcall sub_40122B(_DWORD);
// 4019A6: using guessed type _DWORD __stdcall sub_4019A6(_DWORD, _DWORD);
// 401AAA: using guessed type _DWORD __cdecl sub_401AAA(_DWORD, _DWORD, _DWORD);
// 5902F8: using guessed type int dword_5902F8;

//----- (004E21B0) --------------------------------------------------------
int __cdecl sub_4E21B0(void *a1, unsigned int a2, unsigned __int8 *a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-4Ch]@0
  int v6; // [sp+4h] [bp-48h]@0
  int v7; // [sp+8h] [bp-44h]@0
  char v8; // [sp+Ch] [bp-40h]@1

  memset(&v8, -858993460, 0x40u);
  v3 = (int)sub_4E4640(a1, *a3, a2);
  return sub_4E46A0(1, v3, v7, v5, v6);
}

//----- (004E2200) --------------------------------------------------------
int __thiscall sub_4E2200(void *this, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  void *v8; // [sp+4Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x44u);
  v8 = this;
  v2 = sub_401677(a2, 0, dword_5902F8);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401677: using guessed type _DWORD __stdcall sub_401677(_DWORD, _DWORD, _DWORD);
// 5902F8: using guessed type int dword_5902F8;

//----- (004E2260) --------------------------------------------------------
int __userpurge sub_4E2260<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4, unsigned int a5, unsigned int a6)
{
  int v6; // eax@8
  int v7; // eax@9
  int v8; // ST08_4@13
  int v9; // eax@13
  char v11; // [sp+0h] [bp-58h]@0
  int v12; // [sp+4h] [bp-54h]@0
  int v13; // [sp+8h] [bp-50h]@0
  char v14; // [sp+Ch] [bp-4Ch]@1
  int v15; // [sp+4Ch] [bp-Ch]@11
  int v16; // [sp+50h] [bp-8h]@3
  int v17; // [sp+54h] [bp-4h]@1

  memset(&v14, -858993460, 0x4Cu);
  v17 = a1;
  if ( sub_401799(a4) < a5 )
    sub_4FC910(a2, a3);
  v16 = sub_401799(a4) - a5;
  if ( a6 < v16 )
    v16 = a6;
  if ( v17 == a4 )
  {
    sub_4012D5(v16 + a5, dword_5902F8);
    sub_4012D5(0, a5);
  }
  else
  {
    if ( v16
      && (v6 = sub_401799(a4), v16 == v6)
      && (v7 = sub_401465(a4), (signed int)*(_BYTE *)sub_4012D0(v7) < 254)
      && sub_4012A8(v17, a4) & 0xFF )
    {
      sub_401B36(1);
      *(_DWORD *)(v17 + 4) = sub_401465(a4);
      *(_DWORD *)(v17 + 8) = sub_401799(a4);
      *(_DWORD *)(v17 + 12) = sub_4013CA(a4);
      v15 = sub_4012D0(*(_DWORD *)(v17 + 4));
      ++*(_BYTE *)v15;
    }
    else
    {
      if ( (unsigned __int8)sub_4019A6(v16, 1) )
      {
        v8 = v16;
        v9 = sub_401465(a4);
        sub_4013F2(*(_DWORD *)(v17 + 4), a5 + v9, v8);
        sub_40122B(v16);
      }
    }
  }
  return sub_4E46A0(1, v17, v13, v11, v12);
}
// 40122B: using guessed type _DWORD __stdcall sub_40122B(_DWORD);
// 4012A8: using guessed type int __cdecl sub_4012A8(_DWORD, _DWORD);
// 4012D0: using guessed type _DWORD __stdcall sub_4012D0(_DWORD);
// 4012D5: using guessed type _DWORD __stdcall sub_4012D5(_DWORD, _DWORD);
// 4013CA: using guessed type int __thiscall sub_4013CA(_DWORD);
// 4013F2: using guessed type _DWORD __cdecl sub_4013F2(_DWORD, _DWORD, _DWORD);
// 401465: using guessed type int __thiscall sub_401465(_DWORD);
// 401799: using guessed type int __thiscall sub_401799(_DWORD);
// 4019A6: using guessed type _DWORD __stdcall sub_4019A6(_DWORD, _DWORD);
// 401B36: using guessed type _DWORD __stdcall sub_401B36(_DWORD);
// 5902F8: using guessed type int dword_5902F8;

//----- (004E2440) --------------------------------------------------------
int __thiscall sub_4E2440(void *this, int a2)
{
  int v2; // eax@1
  int v3; // eax@1
  char v5; // [sp+0h] [bp-50h]@0
  int v6; // [sp+4h] [bp-4Ch]@0
  int v7; // [sp+8h] [bp-48h]@0
  char v8; // [sp+Ch] [bp-44h]@1
  void *v9; // [sp+4Ch] [bp-4h]@1

  memset(&v8, -858993460, 0x44u);
  v9 = this;
  v2 = sub_401CB2(a2);
  v3 = sub_401C58(a2, v2);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401C58: using guessed type _DWORD __stdcall sub_401C58(_DWORD, _DWORD);
// 401CB2: using guessed type _DWORD __cdecl sub_401CB2(_DWORD);

//----- (004E24A0) --------------------------------------------------------
_UNKNOWN *__cdecl sub_4E24A0()
{
  return &unk_5902FC;
}

//----- (004E24D0) --------------------------------------------------------
int __thiscall sub_4E24D0(void *this, char a2)
{
  int v2; // eax@8
  char v4; // [sp+0h] [bp-54h]@0
  int v5; // [sp+4h] [bp-50h]@0
  int v6; // [sp+8h] [bp-4Ch]@0
  char v7; // [sp+Ch] [bp-48h]@1
  int v8; // [sp+4Ch] [bp-8h]@7
  int v9; // [sp+50h] [bp-4h]@1

  memset(&v7, -858993460, 0x48u);
  v9 = (int)this;
  if ( a2 && *(_DWORD *)(v9 + 4) )
  {
    if ( *(_BYTE *)sub_4012D0(*(_DWORD *)(v9 + 4)) && *(_BYTE *)sub_4012D0(*(_DWORD *)(v9 + 4)) != 255 )
    {
      v8 = sub_4012D0(*(_DWORD *)(v9 + 4));
      --*(_BYTE *)v8;
    }
    else
    {
      sub_401A96(*(_DWORD *)(v9 + 4) - 1, *(_DWORD *)(v9 + 12) + 2);
    }
  }
  *(_DWORD *)(v9 + 4) = 0;
  v2 = v9;
  *(_DWORD *)(v9 + 8) = 0;
  *(_DWORD *)(v9 + 12) = 0;
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4012D0: using guessed type _DWORD __stdcall sub_4012D0(_DWORD);
// 401A96: using guessed type _DWORD __stdcall sub_401A96(_DWORD, _DWORD);

//----- (004E25E0) --------------------------------------------------------
int __thiscall sub_4E25E0(void *this, int a2, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-54h]@0
  int v6; // [sp+4h] [bp-50h]@0
  int v7; // [sp+8h] [bp-4Ch]@0
  char v8; // [sp+Ch] [bp-48h]@1
  int v9; // [sp+4Ch] [bp-8h]@1
  void *v10; // [sp+50h] [bp-4h]@1

  memset(&v8, -858993460, 0x48u);
  v10 = this;
  v9 = (a2 - sub_4018D4(this)) / 40;
  sub_40119F(a2, 1, a3);
  v3 = sub_4018D4(v10);
  return sub_4E46A0(1, 40 * v9 + v3, v7, v5, v6);
}
// 40119F: using guessed type _DWORD __stdcall sub_40119F(_DWORD, _DWORD, _DWORD);
// 4018D4: using guessed type int __thiscall sub_4018D4(_DWORD);

//----- (004E2670) --------------------------------------------------------
int __thiscall sub_4E2670(void *this, int a2, int a3)
{
  int v3; // eax@1
  int v4; // eax@1
  char v6; // [sp+0h] [bp-54h]@0
  int v7; // [sp+4h] [bp-50h]@0
  int v8; // [sp+8h] [bp-4Ch]@0
  char v9; // [sp+Ch] [bp-48h]@1
  int v10; // [sp+4Ch] [bp-8h]@1
  void *v11; // [sp+50h] [bp-4h]@1

  memset(&v9, -858993460, 0x48u);
  v11 = this;
  v3 = sub_40137A(this);
  v10 = sub_40151E(a3, v3, a2);
  v4 = sub_40137A(v11);
  sub_401005(v10, v4);
  *((_DWORD *)v11 + 2) = v10;
  return sub_4E46A0(1, a2, v8, v6, v7);
}
// 401005: using guessed type _DWORD __stdcall sub_401005(_DWORD, _DWORD);
// 40137A: using guessed type int __thiscall sub_40137A(_DWORD);
// 40151E: using guessed type _DWORD __cdecl sub_40151E(_DWORD, _DWORD, _DWORD);

//----- (004E2700) --------------------------------------------------------
int __thiscall sub_4E2700(void *this, int a2, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-50h]@0
  int v6; // [sp+4h] [bp-4Ch]@0
  int v7; // [sp+8h] [bp-48h]@0
  char v8; // [sp+Ch] [bp-44h]@1
  void *v9; // [sp+4Ch] [bp-4h]@1

  v3 = -858993460;
  memset(&v8, -858993460, 0x44u);
  v9 = this;
  while ( a2 != a3 )
  {
    sub_401BA9(a2);
    v3 = a2 + 40;
    a2 += 40;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401BA9: using guessed type _DWORD __stdcall sub_401BA9(_DWORD);

//----- (004E2770) --------------------------------------------------------
int __userpurge sub_4E2770<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4, int a5)
{
  int v5; // eax@1
  char v7; // [sp+0h] [bp-50h]@0
  int v8; // [sp+4h] [bp-4Ch]@0
  int v9; // [sp+8h] [bp-48h]@0
  char v10; // [sp+Ch] [bp-44h]@1
  int v11; // [sp+4Ch] [bp-4h]@1

  memset(&v10, -858993460, 0x44u);
  v11 = a1;
  sub_4EB990(a2, a3, a4);
  return sub_4E46A0(1, v5, v9, v7, v8);
}

//----- (004E27C0) --------------------------------------------------------
int __userpurge sub_4E27C0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4, unsigned int a5, unsigned int a6)
{
  int v6; // eax@9
  char v8; // [sp+0h] [bp-54h]@0
  int v9; // [sp+4h] [bp-50h]@0
  int v10; // [sp+8h] [bp-4Ch]@0
  char v11; // [sp+Ch] [bp-48h]@1
  unsigned int v12; // [sp+4Ch] [bp-8h]@3
  int v13; // [sp+50h] [bp-4h]@1

  memset(&v11, -858993460, 0x48u);
  v13 = a1;
  if ( sub_401799(a4) < a5 )
    sub_4FC910(a2, a3);
  v12 = sub_401799(a4) - a5;
  if ( v12 < a6 )
    a6 = v12;
  if ( dword_5902F8 - *(_DWORD *)(v13 + 8) <= a6 )
    sub_4FC610(a2, a3);
  if ( a6 )
  {
    v12 = a6 + *(_DWORD *)(v13 + 8);
    if ( (unsigned __int8)sub_4019A6(v12, 0) )
    {
      v6 = sub_401465(a4);
      sub_4013F2(*(_DWORD *)(v13 + 8) + *(_DWORD *)(v13 + 4), a5 + v6, a6);
      sub_40122B(v12);
    }
  }
  return sub_4E46A0(1, v13, v10, v8, v9);
}
// 40122B: using guessed type _DWORD __stdcall sub_40122B(_DWORD);
// 4013F2: using guessed type _DWORD __cdecl sub_4013F2(_DWORD, _DWORD, _DWORD);
// 401465: using guessed type int __thiscall sub_401465(_DWORD);
// 401799: using guessed type int __thiscall sub_401799(_DWORD);
// 4019A6: using guessed type _DWORD __stdcall sub_4019A6(_DWORD, _DWORD);
// 5902F8: using guessed type int dword_5902F8;

//----- (004E28D0) --------------------------------------------------------
int __thiscall sub_4E28D0(void *this, int a2, int a3)
{
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  int v8; // [sp+4Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x44u);
  v8 = (int)this;
  if ( (unsigned __int8)sub_4019A6(a3, 1) )
  {
    sub_4013F2(*(_DWORD *)(v8 + 4), a2, a3);
    sub_40122B(a3);
  }
  return sub_4E46A0(1, v8, v6, v4, v5);
}
// 40122B: using guessed type _DWORD __stdcall sub_40122B(_DWORD);
// 4013F2: using guessed type _DWORD __cdecl sub_4013F2(_DWORD, _DWORD, _DWORD);
// 4019A6: using guessed type _DWORD __stdcall sub_4019A6(_DWORD, _DWORD);

//----- (004E2960) --------------------------------------------------------
int __userpurge sub_4E2960<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, unsigned int a4, int a5)
{
  char v6; // [sp+0h] [bp-54h]@0
  int v7; // [sp+4h] [bp-50h]@0
  int v8; // [sp+8h] [bp-4Ch]@0
  char v9; // [sp+Ch] [bp-48h]@1
  int v10; // [sp+4Ch] [bp-8h]@6
  int v11; // [sp+50h] [bp-4h]@1

  memset(&v9, -858993460, 0x48u);
  v11 = a1;
  if ( *(_DWORD *)(a1 + 8) < a4 )
    sub_4FC910(a2, a3);
  sub_4017FD(v11);
  if ( *(_DWORD *)(v11 + 8) - a4 < a5 )
    a5 = *(_DWORD *)(v11 + 8) - a4;
  if ( a5 )
  {
    sub_401532(a4 + *(_DWORD *)(v11 + 4), a5 + a4 + *(_DWORD *)(v11 + 4), *(_DWORD *)(v11 + 8) - a4 - a5);
    v10 = *(_DWORD *)(v11 + 8) - a5;
    if ( (unsigned __int8)sub_4019A6(v10, 0) )
      sub_40122B(v10);
  }
  return sub_4E46A0(1, v11, v8, v6, v7);
}
// 40122B: using guessed type _DWORD __stdcall sub_40122B(_DWORD);
// 401532: using guessed type _DWORD __cdecl sub_401532(_DWORD, _DWORD, _DWORD);
// 4017FD: using guessed type int __thiscall sub_4017FD(_DWORD);
// 4019A6: using guessed type _DWORD __stdcall sub_4019A6(_DWORD, _DWORD);

//----- (004E2A60) --------------------------------------------------------
int __cdecl sub_4E2A60(void *a1, const void *a2, unsigned int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-4Ch]@0
  int v6; // [sp+4h] [bp-48h]@0
  int v7; // [sp+8h] [bp-44h]@0
  char v8; // [sp+Ch] [bp-40h]@1

  memset(&v8, -858993460, 0x40u);
  v3 = (int)sub_4EC160(a1, a2, a3);
  return sub_4E46A0(1, v3, v7, v5, v6);
}

//----- (004E2AB0) --------------------------------------------------------
int __thiscall sub_4E2AB0(int this)
{
  char v2; // [sp+Ch] [bp-44h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  memset(&v2, -858993460, 0x44u);
  v3 = this;
  return *(_DWORD *)(this + 12);
}

//----- (004E2AF0) --------------------------------------------------------
int __thiscall sub_4E2AF0(int this, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-54h]@0
  int v5; // [sp+4h] [bp-50h]@0
  int v6; // [sp+8h] [bp-4Ch]@0
  char v7; // [sp+Ch] [bp-48h]@1
  char v8; // [sp+4Ch] [bp-8h]@1
  int v9; // [sp+50h] [bp-4h]@1

  memset(&v7, -858993460, 0x48u);
  v9 = this;
  v8 = 0;
  *(_DWORD *)(this + 8) = a2;
  v2 = sub_401CAD(a2 + *(_DWORD *)(v9 + 4), &v8);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401CAD: using guessed type _DWORD __cdecl sub_401CAD(_DWORD, _DWORD);

//----- (004E2B60) --------------------------------------------------------
int __cdecl sub_4E2B60(int a1, int a2)
{
  int result; // eax@1
  char v3; // [sp+Ch] [bp-40h]@1

  memset(&v3, -858993460, 0x40u);
  result = a1;
  *(_BYTE *)a1 = *(_BYTE *)a2;
  return result;
}

//----- (004E2BA0) --------------------------------------------------------
int __userpurge sub_4E2BA0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, unsigned int a4, unsigned __int8 a5)
{
  int v5; // eax@7
  int v6; // eax@7
  char v8; // [sp+0h] [bp-54h]@0
  int v9; // [sp+4h] [bp-50h]@0
  int v10; // [sp+8h] [bp-4Ch]@0
  char v11; // [sp+Ch] [bp-48h]@1
  int v12; // [sp+4Ch] [bp-8h]@7
  int v13; // [sp+50h] [bp-4h]@1

  memset(&v11, -858993460, 0x48u);
  v13 = a1;
  if ( sub_401794(a1) < a4 )
    sub_4FC610(a2, a3);
  if ( *(_DWORD *)(v13 + 4)
    && *(_BYTE *)sub_4012D0(*(_DWORD *)(v13 + 4))
    && *(_BYTE *)sub_4012D0(*(_DWORD *)(v13 + 4)) != 255 )
  {
    if ( a4 )
    {
      v6 = sub_401474(a4);
      LOBYTE(v6) = 1;
    }
    else
    {
      v5 = sub_4012D0(*(_DWORD *)(v13 + 4));
      v12 = v5;
      --*(_BYTE *)v5;
      v6 = sub_401B36(0);
      LOBYTE(v6) = 0;
    }
  }
  else
  {
    if ( a4 )
    {
      if ( a5 && (*(_DWORD *)(v13 + 12) > 0x1Fu || *(_DWORD *)(v13 + 12) < a4) )
      {
        sub_401B36(1);
        v6 = sub_401474(a4);
      }
      else
      {
        v6 = a5;
        if ( !a5 && *(_DWORD *)(v13 + 12) < a4 )
          v6 = sub_401474(a4);
      }
      LOBYTE(v6) = 1;
    }
    else
    {
      if ( a5 )
      {
        v6 = sub_401B36(1);
      }
      else
      {
        v6 = v13;
        if ( *(_DWORD *)(v13 + 4) )
          v6 = sub_40122B(0);
      }
      LOBYTE(v6) = 0;
    }
  }
  return sub_4E46A0(1, v6, v10, v8, v9);
}
// 40122B: using guessed type _DWORD __stdcall sub_40122B(_DWORD);
// 4012D0: using guessed type _DWORD __stdcall sub_4012D0(_DWORD);
// 401474: using guessed type _DWORD __stdcall sub_401474(_DWORD);
// 401794: using guessed type int __thiscall sub_401794(_DWORD);
// 401B36: using guessed type _DWORD __stdcall sub_401B36(_DWORD);

//----- (004E2D50) --------------------------------------------------------
int __stdcall sub_4E2D50(int a1)
{
  return a1 - 1;
}

//----- (004E2D90) --------------------------------------------------------
int __userpurge sub_4E2D90<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4, int a5)
{
  int v5; // eax@1
  char v7; // [sp+0h] [bp-50h]@0
  int v8; // [sp+4h] [bp-4Ch]@0
  int v9; // [sp+8h] [bp-48h]@0
  char v10; // [sp+Ch] [bp-44h]@1
  int v11; // [sp+4Ch] [bp-4h]@1

  memset(&v10, -858993460, 0x44u);
  v11 = a1;
  sub_4EB990(a2, a3, a4);
  return sub_4E46A0(1, v5, v9, v7, v8);
}

//----- (004E2DE0) --------------------------------------------------------
int __thiscall sub_4E2DE0(void *this, int a2, unsigned int a3, int a4)
{
  int v4; // eax@5
  int v5; // eax@5
  int v6; // ecx@5
  int v7; // eax@5
  char v9; // [sp+0h] [bp-60h]@0
  int v10; // [sp+4h] [bp-5Ch]@0
  int v11; // [sp+8h] [bp-58h]@0
  char v12; // [sp+Ch] [bp-54h]@1
  unsigned int v13; // [sp+4Ch] [bp-14h]@3
  int v14; // [sp+50h] [bp-10h]@5
  int v15; // [sp+54h] [bp-Ch]@5
  unsigned int v16; // [sp+58h] [bp-8h]@5
  int v17; // [sp+5Ch] [bp-4h]@1

  memset(&v12, -858993460, 0x54u);
  v17 = (int)this;
  if ( (*(_DWORD *)(v17 + 12) - *(_DWORD *)(v17 + 8)) / 40 >= a3 )
  {
    v7 = (*(_DWORD *)(v17 + 8) - a2) / 40;
    if ( v7 >= a3 )
    {
      if ( a3 )
      {
        sub_401631(*(_DWORD *)(v17 + 8) - 40 * a3, *(_DWORD *)(v17 + 8), *(_DWORD *)(v17 + 8));
        sub_401104(a2, *(_DWORD *)(v17 + 8) - 40 * a3, *(_DWORD *)(v17 + 8));
        sub_4018DE(a2, 40 * a3 + a2, a4);
        v7 = v17;
        *(_DWORD *)(v17 + 8) += 40 * a3;
      }
    }
    else
    {
      sub_401631(a2, *(_DWORD *)(v17 + 8), 40 * a3 + a2);
      sub_4013ED(*(_DWORD *)(v17 + 8), a3 - (*(_DWORD *)(v17 + 8) - a2) / 40, a4);
      sub_4018DE(a2, *(_DWORD *)(v17 + 8), a4);
      v7 = v17;
      *(_DWORD *)(v17 + 8) += 40 * a3;
    }
  }
  else
  {
    if ( a3 >= sub_4016A4(v17) )
      v13 = a3;
    else
      v13 = sub_4016A4(v17);
    v4 = sub_4016A4(v17);
    v16 = v13 + v4;
    v15 = sub_4019BA(v13 + v4, 0);
    v14 = sub_401631(*(_DWORD *)(v17 + 4), a2, v15);
    sub_4013ED(v14, a3, a4);
    sub_401631(a2, *(_DWORD *)(v17 + 8), 40 * a3 + v14);
    sub_401005(*(_DWORD *)(v17 + 4), *(_DWORD *)(v17 + 8));
    sub_4015DC(*(_DWORD *)(v17 + 4), (*(_DWORD *)(v17 + 12) - *(_DWORD *)(v17 + 4)) / 40);
    *(_DWORD *)(v17 + 12) = 40 * v16 + v15;
    v5 = sub_4016A4(v17);
    v6 = 40 * v5 + v15;
    v7 = v17;
    *(_DWORD *)(v17 + 8) = 40 * a3 + v6;
    *(_DWORD *)(v17 + 4) = v15;
  }
  return sub_4E46A0(1, v7, v11, v9, v10);
}
// 401005: using guessed type _DWORD __stdcall sub_401005(_DWORD, _DWORD);
// 401104: using guessed type _DWORD __cdecl sub_401104(_DWORD, _DWORD, _DWORD);
// 4013ED: using guessed type _DWORD __stdcall sub_4013ED(_DWORD, _DWORD, _DWORD);
// 4015DC: using guessed type _DWORD __stdcall sub_4015DC(_DWORD, _DWORD);
// 401631: using guessed type _DWORD __stdcall sub_401631(_DWORD, _DWORD, _DWORD);
// 4016A4: using guessed type int __thiscall sub_4016A4(_DWORD);
// 4018DE: using guessed type _DWORD __cdecl sub_4018DE(_DWORD, _DWORD, _DWORD);
// 4019BA: using guessed type _DWORD __stdcall sub_4019BA(_DWORD, _DWORD);

//----- (004E30E0) --------------------------------------------------------
int __thiscall sub_4E30E0(void *this, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-50h]@0
  int v5; // [sp+4h] [bp-4Ch]@0
  int v6; // [sp+8h] [bp-48h]@0
  char v7; // [sp+Ch] [bp-44h]@1
  void *v8; // [sp+4Ch] [bp-4h]@1

  memset(&v7, -858993460, 0x44u);
  v8 = this;
  v2 = sub_40191A(a2);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 40191A: using guessed type _DWORD __cdecl sub_40191A(_DWORD);

//----- (004E3130) --------------------------------------------------------
int __thiscall sub_4E3130(void *this)
{
  char v2; // [sp+0h] [bp-58h]@0
  int v3; // [sp+4h] [bp-54h]@0
  int v4; // [sp+8h] [bp-50h]@0
  char v5; // [sp+Ch] [bp-4Ch]@1
  int v6; // [sp+4Ch] [bp-Ch]@2
  unsigned int v7; // [sp+50h] [bp-8h]@1

  memset(&v5, -858993460, 0x4Cu);
  v7 = sub_40183E(this);
  if ( v7 > 2 )
    v6 = v7 - 2;
  else
    v6 = 1;
  return sub_4E46A0(1, v6, v4, v2, v3);
}
// 40183E: using guessed type int __thiscall sub_40183E(_DWORD);

//----- (004E31A0) --------------------------------------------------------
int __thiscall sub_4E31A0(void *this, unsigned int a2)
{
  unsigned int v2; // eax@1
  unsigned int v3; // eax@1
  int v4; // eax@11
  char v6; // [sp+0h] [bp-78h]@1
  int v7; // [sp+4h] [bp-74h]@11
  int v8; // [sp+8h] [bp-70h]@11
  char v9; // [sp+Ch] [bp-6Ch]@1
  unsigned int v10; // [sp+4Ch] [bp-2Ch]@9
  unsigned int v11; // [sp+50h] [bp-28h]@5
  int v12; // [sp+54h] [bp-24h]@3
  unsigned int v13; // [sp+58h] [bp-20h]@8
  int v14; // [sp+5Ch] [bp-1Ch]@3
  unsigned int v15; // [sp+60h] [bp-18h]@1
  void *v16; // [sp+64h] [bp-14h]@1
  char *v17; // [sp+68h] [bp-10h]@1
  int v18; // [sp+74h] [bp-4h]@3

  v17 = &v6;
  memset(&v9, -858993460, 0x5Cu);
  v16 = this;
  v2 = a2;
  LOBYTE(v2) = a2 | 0x1F;
  v15 = v2;
  v3 = sub_401794(this);
  if ( v3 < v15 )
    v15 = a2;
  v18 = 0;
  v12 = sub_4017D5(v15 + 2, 0);
  v14 = v12;
  v18 = -1;
  if ( *((_DWORD *)v16 + 2) )
  {
    if ( *((_DWORD *)v16 + 2) <= v15 )
      v11 = *((_DWORD *)v16 + 2);
    else
      v11 = v15;
    sub_4013F2(v14 + 1, *((_DWORD *)v16 + 1), v11);
  }
  v13 = *((_DWORD *)v16 + 2);
  sub_401B36(1);
  *((_DWORD *)v16 + 1) = v14 + 1;
  *(_BYTE *)sub_4012D0(*((_DWORD *)v16 + 1)) = 0;
  *((_DWORD *)v16 + 3) = v15;
  if ( v13 <= v15 )
    v10 = v13;
  else
    v10 = v15;
  v4 = sub_40122B(v10);
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 40122B: using guessed type _DWORD __stdcall sub_40122B(_DWORD);
// 4012D0: using guessed type _DWORD __stdcall sub_4012D0(_DWORD);
// 4013F2: using guessed type _DWORD __cdecl sub_4013F2(_DWORD, _DWORD, _DWORD);
// 401794: using guessed type int __thiscall sub_401794(_DWORD);
// 4017D5: using guessed type _DWORD __stdcall sub_4017D5(_DWORD, _DWORD);
// 401B36: using guessed type _DWORD __stdcall sub_401B36(_DWORD);

//----- (004E3350) --------------------------------------------------------
int __thiscall sub_4E3350(int this)
{
  int v1; // eax@1
  char v3; // [sp+0h] [bp-54h]@0
  int v4; // [sp+4h] [bp-50h]@0
  int v5; // [sp+8h] [bp-4Ch]@0
  char v6; // [sp+Ch] [bp-48h]@1
  int v7; // [sp+4Ch] [bp-8h]@4
  int v8; // [sp+50h] [bp-4h]@1

  memset(&v6, -858993460, 0x48u);
  v8 = this;
  v1 = this;
  if ( *(_DWORD *)(this + 4) )
  {
    v1 = sub_4012D0(*(_DWORD *)(v8 + 4));
    if ( *(_BYTE *)v1 )
    {
      v1 = sub_4012D0(*(_DWORD *)(v8 + 4));
      if ( *(_BYTE *)v1 != 255 )
      {
        v7 = *(_DWORD *)(v8 + 4);
        sub_401B36(1);
        v1 = sub_40102D(v7);
      }
    }
  }
  return sub_4E46A0(1, v1, v5, v3, v4);
}
// 40102D: using guessed type _DWORD __stdcall sub_40102D(_DWORD);
// 4012D0: using guessed type _DWORD __stdcall sub_4012D0(_DWORD);
// 401B36: using guessed type _DWORD __stdcall sub_401B36(_DWORD);

//----- (004E3400) --------------------------------------------------------
int __thiscall sub_4E3400(void *this, int a2, int a3, int a4)
{
  char v5; // [sp+0h] [bp-50h]@0
  int v6; // [sp+4h] [bp-4Ch]@0
  int v7; // [sp+8h] [bp-48h]@0
  char v8; // [sp+Ch] [bp-44h]@1
  void *v9; // [sp+4Ch] [bp-4h]@1

  memset(&v8, -858993460, 0x44u);
  v9 = this;
  while ( a2 != a3 )
  {
    sub_40184D(a4, a2);
    a4 += 40;
    a2 += 40;
  }
  return sub_4E46A0(1, a4, v7, v5, v6);
}
// 40184D: using guessed type _DWORD __stdcall sub_40184D(_DWORD, _DWORD);

//----- (004E3480) --------------------------------------------------------
int __thiscall sub_4E3480(void *this, int a2, int a3, int a4)
{
  int v4; // eax@1
  char v6; // [sp+0h] [bp-50h]@0
  int v7; // [sp+4h] [bp-4Ch]@0
  int v8; // [sp+8h] [bp-48h]@0
  char v9; // [sp+Ch] [bp-44h]@1
  void *v10; // [sp+4Ch] [bp-4h]@1

  v4 = -858993460;
  memset(&v9, -858993460, 0x44u);
  v10 = this;
  while ( a3 )
  {
    sub_40184D(a2, a4);
    v4 = a3-- - 1;
    a2 += 40;
  }
  return sub_4E46A0(1, v4, v8, v6, v7);
}
// 40184D: using guessed type _DWORD __stdcall sub_40184D(_DWORD, _DWORD);

//----- (004E3500) --------------------------------------------------------
int __thiscall sub_4E3500(void *this, int a2, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-50h]@0
  int v6; // [sp+4h] [bp-4Ch]@0
  int v7; // [sp+8h] [bp-48h]@0
  char v8; // [sp+Ch] [bp-44h]@1
  void *v9; // [sp+4Ch] [bp-4h]@1

  memset(&v8, -858993460, 0x44u);
  v9 = this;
  v3 = sub_401965(a2);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401965: using guessed type _DWORD __cdecl sub_401965(_DWORD);

//----- (004E3550) --------------------------------------------------------
int __thiscall sub_4E3550(void *this, int a2, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-50h]@0
  int v6; // [sp+4h] [bp-4Ch]@0
  int v7; // [sp+8h] [bp-48h]@0
  char v8; // [sp+Ch] [bp-44h]@1
  void *v9; // [sp+4Ch] [bp-4h]@1

  memset(&v8, -858993460, 0x44u);
  v9 = this;
  v3 = sub_4016E5(a2);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4016E5: using guessed type _DWORD __cdecl sub_4016E5(_DWORD);

//----- (004E35A0) --------------------------------------------------------
signed int __cdecl sub_4E35A0()
{
  return -1;
}

//----- (004E3600) --------------------------------------------------------
int __thiscall sub_4E3600(void *this, int a2, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-50h]@0
  int v6; // [sp+4h] [bp-4Ch]@0
  int v7; // [sp+8h] [bp-48h]@0
  char v8; // [sp+Ch] [bp-44h]@1
  void *v9; // [sp+4Ch] [bp-4h]@1

  memset(&v8, -858993460, 0x44u);
  v9 = this;
  v3 = sub_401C26(a2, a3);
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 401C26: using guessed type _DWORD __cdecl sub_401C26(_DWORD, _DWORD);

//----- (004E3650) --------------------------------------------------------
int __cdecl sub_4E3650(int a1, int a2, int a3)
{
  int v3; // eax@1
  int v4; // eax@1
  char v6; // [sp+0h] [bp-78h]@0
  int v7; // [sp+4h] [bp-74h]@0
  int v8; // [sp+8h] [bp-70h]@0
  char v9; // [sp+Ch] [bp-6Ch]@1
  int v10; // [sp+4Ch] [bp-2Ch]@1
  int v11; // [sp+50h] [bp-28h]@1
  int v12; // [sp+54h] [bp-24h]@1
  char v13; // [sp+58h] [bp-20h]@1
  char v14; // [sp+5Ch] [bp-1Ch]@1
  int v15; // [sp+74h] [bp-4h]@1

  memset(&v9, -858993460, 0x60u);
  v12 = 0;
  v3 = sub_4019DD(a2, &v13);
  v11 = v3;
  v10 = v3;
  v15 = 1;
  v4 = sub_4011A4(a3);
  sub_401848(v4);
  v12 |= 1u;
  LOBYTE(v15) = 0;
  sub_401654(&v14);
  return sub_4E46A0(1, a1, v8, v6, v7);
}
// 4011A4: using guessed type _DWORD __stdcall sub_4011A4(_DWORD);
// 401654: using guessed type int __thiscall sub_401654(_DWORD);
// 401848: using guessed type _DWORD __stdcall sub_401848(_DWORD);
// 4019DD: using guessed type _DWORD __stdcall sub_4019DD(_DWORD, _DWORD);

//----- (004E3720) --------------------------------------------------------
char __cdecl sub_4E3720()
{
  return 1;
}

//----- (004E3750) --------------------------------------------------------
int __cdecl sub_4E3750(int a1, int a2, int a3)
{
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  while ( a1 != a2 )
  {
    sub_4017A3(a1);
    a3 += 40;
    a1 += 40;
  }
  return sub_4E46A0(1, a3, v6, v4, v5);
}
// 4017A3: using guessed type _DWORD __stdcall sub_4017A3(_DWORD);

//----- (004E37C0) --------------------------------------------------------
int __cdecl sub_4E37C0(int a1, int a2, int a3)
{
  int v3; // eax@1
  char v5; // [sp+0h] [bp-4Ch]@0
  int v6; // [sp+4h] [bp-48h]@0
  int v7; // [sp+8h] [bp-44h]@0
  char v8; // [sp+Ch] [bp-40h]@1

  v3 = -858993460;
  memset(&v8, -858993460, 0x40u);
  while ( a1 != a2 )
  {
    sub_4017A3(a3);
    v3 = a1 + 40;
    a1 += 40;
  }
  return sub_4E46A0(1, v3, v7, v5, v6);
}
// 4017A3: using guessed type _DWORD __stdcall sub_4017A3(_DWORD);

//----- (004E3820) --------------------------------------------------------
int __cdecl sub_4E3820(int a1, int a2, int a3)
{
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  while ( a1 != a2 )
  {
    a2 -= 40;
    a3 -= 40;
    sub_4017A3(a2);
  }
  return sub_4E46A0(1, a3, v6, v4, v5);
}
// 4017A3: using guessed type _DWORD __stdcall sub_4017A3(_DWORD);

//----- (004E3890) --------------------------------------------------------
int __cdecl sub_4E3890()
{
  int v0; // eax@1
  char v2; // [sp+0h] [bp-4Ch]@0
  int v3; // [sp+4h] [bp-48h]@0
  int v4; // [sp+8h] [bp-44h]@0
  char v5; // [sp+Ch] [bp-40h]@1

  memset(&v5, -858993460, 0x40u);
  v0 = sub_4010E1(0);
  return sub_4E46A0(1, v0, v4, v2, v3);
}
// 4010E1: using guessed type _DWORD __stdcall sub_4010E1(_DWORD);

//----- (004E38D0) --------------------------------------------------------
int __usercall sub_4E38D0<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@3
  char v5; // [sp+0h] [bp-4Ch]@0
  int v6; // [sp+4h] [bp-48h]@0
  int v7; // [sp+8h] [bp-44h]@0
  char v8; // [sp+Ch] [bp-40h]@1

  memset(&v8, -858993460, 0x40u);
  if ( a3 < 0 )
    a3 = 0;
  v3 = sub_4EB920(a1, a2, 40 * a3);
  return sub_4E46A0(1, v3, v7, v5, v6);
}

//----- (004E3930) --------------------------------------------------------
int __usercall sub_4E3930<eax>(int a1<ebx>, int a2<esi>, unsigned int a3)
{
  int v3; // eax@3
  char v5; // [sp+0h] [bp-4Ch]@0
  int v6; // [sp+4h] [bp-48h]@0
  int v7; // [sp+8h] [bp-44h]@0
  char v8; // [sp+Ch] [bp-40h]@1

  memset(&v8, -858993460, 0x40u);
  if ( (a3 & 0x80000000u) != 0 )
    a3 = 0;
  v3 = sub_4EB920(a1, a2, a3);
  return sub_4E46A0(1, v3, v7, v5, v6);
}

//----- (004E3990) --------------------------------------------------------
int __cdecl sub_4E3990(int a1, int a2)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-64h]@0
  int v5; // [sp+4h] [bp-60h]@0
  int v6; // [sp+8h] [bp-5Ch]@0
  char v7; // [sp+Ch] [bp-58h]@1
  int v8; // [sp+4Ch] [bp-18h]@2
  int v9; // [sp+50h] [bp-14h]@1
  int v10; // [sp+60h] [bp-4h]@1

  memset(&v7, -858993460, 0x4Cu);
  v2 = sub_401B27(40, a1);
  v9 = v2;
  v10 = 0;
  if ( v2 )
  {
    v2 = sub_401046(a2);
    v8 = v2;
  }
  else
  {
    v8 = 0;
  }
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 401046: using guessed type _DWORD __stdcall sub_401046(_DWORD);
// 401B27: using guessed type _DWORD __cdecl sub_401B27(_DWORD, _DWORD);

//----- (004E3A40) --------------------------------------------------------
int __cdecl sub_4E3A40(int a1, int a2)
{
  return a2;
}

//----- (004E3A70) --------------------------------------------------------
signed int __cdecl sub_4E3A70()
{
  return -858993460;
}

//----- (004E3AA0) --------------------------------------------------------
int __thiscall sub_4E3AA0(void *this, int a2)
{
  char v3; // [sp+0h] [bp-50h]@0
  int v4; // [sp+4h] [bp-4Ch]@0
  int v5; // [sp+8h] [bp-48h]@0
  char v6; // [sp+Ch] [bp-44h]@1
  int v7; // [sp+4Ch] [bp-4h]@1

  memset(&v6, -858993460, 0x44u);
  v7 = (int)this;
  sub_40121C(a2);
  sub_40121C(a2 + 16);
  *(_DWORD *)(v7 + 32) = *(_DWORD *)(a2 + 32);
  *(_DWORD *)(v7 + 36) = *(_DWORD *)(a2 + 36);
  return sub_4E46A0(1, v7, v5, v3, v4);
}
// 40121C: using guessed type _DWORD __stdcall sub_40121C(_DWORD);

//----- (004E3B30) --------------------------------------------------------
int __userpurge sub_4E3B30<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, char a4)
{
  char v5; // [sp+0h] [bp-50h]@0
  int v6; // [sp+4h] [bp-4Ch]@0
  int v7; // [sp+8h] [bp-48h]@0
  char v8; // [sp+Ch] [bp-44h]@1
  int v9; // [sp+4Ch] [bp-4h]@1

  memset(&v8, -858993460, 0x44u);
  v9 = a1;
  sub_401A0A(a1);
  if ( a4 & 1 )
    sub_4EB990(a2, a3, v9);
  return sub_4E46A0(1, v9, v7, v5, v6);
}
// 401A0A: using guessed type int __thiscall sub_401A0A(_DWORD);

//----- (004E3BA0) --------------------------------------------------------
int __thiscall sub_4E3BA0(void *this, int a2)
{
  char v3; // [sp+0h] [bp-5Ch]@0
  int v4; // [sp+4h] [bp-58h]@0
  int v5; // [sp+8h] [bp-54h]@0
  char v6; // [sp+Ch] [bp-50h]@1
  int v7; // [sp+4Ch] [bp-10h]@1
  int v8; // [sp+58h] [bp-4h]@1

  memset(&v6, -858993460, 0x44u);
  v7 = (int)this;
  sub_401848(a2);
  v8 = 0;
  sub_401848(a2 + 16);
  *(_DWORD *)(v7 + 32) = *(_DWORD *)(a2 + 32);
  *(_DWORD *)(v7 + 36) = *(_DWORD *)(a2 + 36);
  return sub_4E46A0(1, v7, v5, v3, v4);
}
// 401848: using guessed type _DWORD __stdcall sub_401848(_DWORD);

//----- (004E3C60) --------------------------------------------------------
int __usercall sub_4E3C60<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  sub_4014A1();
  v2 = sub_4E3CF0(a1, a2);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4014A1: using guessed type int sub_4014A1(void);

//----- (004E3CA0) --------------------------------------------------------
int __cdecl sub_4E3CA0()
{
  int result; // eax@1
  char v1; // [sp+Ch] [bp-40h]@1

  memset(&v1, -858993460, 0x40u);
  result = byte_A969D90 & 1;
  if ( !(byte_A969D90 & 1) )
    byte_A969D90 |= 1u;
  return result;
}
// A969D90: using guessed type char byte_A969D90;

//----- (004E3CF0) --------------------------------------------------------
int __usercall sub_4E3CF0<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // eax@1
  char v4; // [sp+0h] [bp-4Ch]@0
  int v5; // [sp+4h] [bp-48h]@0
  int v6; // [sp+8h] [bp-44h]@0
  char v7; // [sp+Ch] [bp-40h]@1

  memset(&v7, -858993460, 0x40u);
  v2 = sub_4E8BF0(a1, a2, (int)sub_4014AB);
  return sub_4E46A0(1, v2, v6, v4, v5);
}
// 4014AB: using guessed type int sub_4014AB();

//----- (004E3D40) --------------------------------------------------------
signed int __cdecl sub_4E3D40()
{
  return -858993460;
}

//----- (004E3F40) --------------------------------------------------------
int __usercall sub_4E3F40<eax>(int a1<ebx>, int a2<esi>, int a3, const char *a4)
{
  char v5; // [sp+0h] [bp-3Ch]@0
  int v6; // [sp+14h] [bp-28h]@7
  int v7; // [sp+1Ch] [bp-20h]@7
  signed int v8; // [sp+20h] [bp-1Ch]@7
  int v9; // [sp+24h] [bp-18h]@7
  signed int v10; // [sp+28h] [bp-14h]@7
  char v11; // [sp+4Ch] [bp+10h]@0

  if ( !a3 && sub_4EB280(a1, a2, 2, (int)"sprintf.c", 93, 0, "string != NULL", v5) == 1 )
    __debugbreak();
  if ( !a4 && sub_4EB280(a1, a2, 2, (int)"sprintf.c", 94, 0, "format != NULL", v5) == 1 )
    __debugbreak();
  v10 = 66;
  v9 = a3;
  v7 = a3;
  v8 = 2147483647;
  v6 = sub_4EC8E0(a1, a2, (int)&v7, (int)a4, (int)&v11);
  --v8;
  if ( v8 < 0 )
    sub_4EC660(a1, a2, 0, (int)&v7);
  else
    *(_BYTE *)v7++ = 0;
  return v6;
}
// 4E3F40: erroneously detected ellipsis type has been ignored

//----- (004E4040) --------------------------------------------------------
unsigned int __usercall sub_4E4040<eax>(int a1<ebx>, int a2<esi>, const void *a3, unsigned int a4, unsigned int a5, int a6)
{
  unsigned int result; // eax@2
  signed int v7; // [sp+0h] [bp-28h]@28
  DWORD v8; // [sp+4h] [bp-24h]@18
  unsigned int v9; // [sp+8h] [bp-20h]@10
  unsigned int v10; // [sp+Ch] [bp-1Ch]@4
  int v11; // [sp+14h] [bp-14h]@20
  int v12; // [sp+18h] [bp-10h]@1
  unsigned int v13; // [sp+1Ch] [bp-Ch]@1
  const void *lpBuffer; // [sp+20h] [bp-8h]@1

  lpBuffer = a3;
  v12 = a5 * a4;
  v13 = a5 * a4;
  if ( a5 * a4 )
  {
    if ( *(_DWORD *)(a6 + 12) & 0x10C )
      v10 = *(_DWORD *)(a6 + 24);
    else
      v10 = 4096;
    while ( v13 )
    {
      if ( *(_DWORD *)(a6 + 12) & 0x108 && *(_DWORD *)(a6 + 4) )
      {
        if ( v13 >= *(_DWORD *)(a6 + 4) )
          v9 = *(_DWORD *)(a6 + 4);
        else
          v9 = v13;
        sub_4E4810(*(void **)a6, lpBuffer, v9);
        v13 -= v9;
        *(_DWORD *)(a6 + 4) -= v9;
        *(_DWORD *)a6 += v9;
        lpBuffer = (char *)lpBuffer + v9;
      }
      else
      {
        if ( v13 < v10 )
        {
          if ( sub_4EC660(a1, a2, *(_BYTE *)lpBuffer, a6) == -1 )
            return (v12 - v13) / a4;
          lpBuffer = (char *)lpBuffer + 1;
          --v13;
          if ( *(_DWORD *)(a6 + 24) <= 0 )
            v7 = 1;
          else
            v7 = *(_DWORD *)(a6 + 24);
          v10 = v7;
        }
        else
        {
          if ( *(_DWORD *)(a6 + 12) & 0x108 && sub_4EAD10(a6) )
            return (v12 - v13) / a4;
          if ( v10 )
            v8 = v13 - v13 % v10;
          else
            v8 = v13;
          v11 = sub_4E7F70(*(_DWORD *)(a6 + 16), (signed int)lpBuffer, v8);
          if ( v11 == -1 )
          {
            *(_DWORD *)(a6 + 12) |= 0x20u;
            return (v12 - v13) / a4;
          }
          v13 -= v11;
          lpBuffer = (char *)lpBuffer + v11;
          if ( v11 < v8 )
          {
            *(_DWORD *)(a6 + 12) |= 0x20u;
            return (v12 - v13) / a4;
          }
        }
      }
    }
    result = a5;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004E4260) --------------------------------------------------------
signed int __usercall sub_4E4260<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  signed int result; // eax@2
  char v4; // [sp+0h] [bp-14h]@0
  signed int v5; // [sp+10h] [bp-4h]@1

  v5 = -1;
  if ( *(_DWORD *)(a3 + 12) & 0x40 )
  {
    *(_DWORD *)(a3 + 12) = 0;
    result = -1;
  }
  else
  {
    if ( !a3 && sub_4EB280(a1, a2, 2, (int)"fclose.c", 119, 0, "str != NULL", v4) == 1 )
      __debugbreak();
    if ( *(_DWORD *)(a3 + 12) & 0x83 )
    {
      v5 = sub_4EAD10(a3);
      sub_4ED780(a1, a2, a3);
      if ( sub_4E7E80(*(_DWORD *)(a3 + 16)) >= 0 )
      {
        if ( *(_DWORD *)(a3 + 28) )
        {
          sub_4E5F50(a1, a2, *(_DWORD *)(a3 + 28), 2);
          *(_DWORD *)(a3 + 28) = 0;
        }
      }
      else
      {
        v5 = -1;
      }
    }
    *(_DWORD *)(a3 + 12) = 0;
    result = v5;
  }
  return result;
}

//----- (004E4340) --------------------------------------------------------
int __usercall sub_4E4340<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, char *a5, char a6)
{
  char v7; // [sp+0h] [bp-38h]@0
  int v8; // [sp+18h] [bp-20h]@7
  int v9; // [sp+1Ch] [bp-1Ch]@7
  int v10; // [sp+20h] [bp-18h]@7
  signed int v11; // [sp+24h] [bp-14h]@7

  if ( !a4 && sub_4EB280(a1, a3, 2, (int)"sscanf.c", 66, 0, "string != NULL", v7) == 1 )
    __debugbreak();
  if ( !a5 && sub_4EB280(a1, a3, 2, (int)"sscanf.c", 67, 0, "format != NULL", v7) == 1 )
    __debugbreak();
  v11 = 73;
  v10 = a4;
  v8 = a4;
  v9 = sub_4E4B50(a4);
  return sub_4ED820(a1, a2, a3, (int)&v8, a5, (int)&a6);
}

//----- (004E4400) --------------------------------------------------------
int __usercall sub_4E4400<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5)
{
  int result; // eax@8
  char v6; // [sp+0h] [bp-20h]@0
  signed int v7; // [sp+Ch] [bp-14h]@11
  int v8; // [sp+10h] [bp-10h]@1
  int v9; // [sp+18h] [bp-8h]@1

  v9 = a3;
  v8 = a3;
  if ( !a3 && sub_4EB280(a1, a2, 2, (int)"fgets.c", 59, 0, "string != NULL", v6) == 1 )
    __debugbreak();
  if ( !a5 && sub_4EB280(a1, a2, 2, (int)"fgets.c", 60, 0, "str != NULL", v6) == 1 )
    __debugbreak();
  if ( a4 > 0 )
  {
    do
    {
      --a4;
      if ( !a4 )
        break;
      --*(_DWORD *)(a5 + 4);
      if ( *(_DWORD *)(a5 + 4) < 0 )
        v7 = sub_4EED20(a1, a2, a5);
      else
        v7 = *(_BYTE *)(*(_DWORD *)a5)++;
      if ( v7 == -1 )
      {
        if ( v9 == a3 )
        {
          v8 = 0;
          goto LABEL_19;
        }
        break;
      }
      *(_BYTE *)v9++ = v7;
    }
    while ( (char)v7 != 10 );
    *(_BYTE *)v9 = 0;
LABEL_19:
    result = v8;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004E4530) --------------------------------------------------------
int __usercall sub_4E4530<eax>(int a1<ebx>, int a2<esi>, LPCSTR lpFileName, int a4, int a5)
{
  int result; // eax@14
  char v6; // [sp+0h] [bp-14h]@0
  int v7; // [sp+10h] [bp-4h]@13

  if ( !lpFileName && sub_4EB280(a1, a2, 2, (int)"fopen.c", 53, 0, "file != NULL", v6) == 1 )
    __debugbreak();
  if ( !*lpFileName && sub_4EB280(a1, a2, 2, (int)"fopen.c", 54, 0, "*file != _T('\\0')", v6) == 1 )
    __debugbreak();
  if ( !a4 && sub_4EB280(a1, a2, 2, (int)"fopen.c", 55, 0, "mode != NULL", v6) == 1 )
    __debugbreak();
  if ( !*(_BYTE *)a4 && sub_4EB280(a1, a2, 2, (int)"fopen.c", 56, 0, "*mode != _T('\\0')", v6) == 1 )
    __debugbreak();
  v7 = sub_4EF290(a1, a2);
  if ( v7 )
    result = sub_4EEF00(a1, a2, lpFileName, a4, a5, v7);
  else
    result = 0;
  return result;
}

//----- (004E4620) --------------------------------------------------------
int __usercall sub_4E4620<eax>(int a1<ebx>, int a2<esi>, const CHAR *a3, int a4)
{
  return sub_4E4530(a1, a2, a3, a4, 64);
}

//----- (004E4640) --------------------------------------------------------
void *__cdecl sub_4E4640(void *a1, unsigned __int8 a2, unsigned int a3)
{
  int v3; // edx@1
  int v4; // eax@2
  void *v5; // edi@2
  int v6; // ecx@3
  unsigned int v7; // ecx@6
  unsigned int v8; // ecx@6
  void *result; // eax@9

  v3 = a3;
  if ( a3 )
  {
    LOBYTE(v4) = a2;
    v5 = a1;
    if ( a3 < 4 )
      goto LABEL_13;
    v6 = -(signed int)a1 & 3;
    if ( v6 )
    {
      v3 = a3 - v6;
      do
      {
        *(_BYTE *)v5 = a2;
        v5 = (char *)v5 + 1;
        --v6;
      }
      while ( v6 );
    }
    v4 = 16843009 * a2;
    v7 = v3;
    v3 &= 3u;
    v8 = v7 >> 2;
    if ( !v8 || (memset32(v5, v4, v8), v5 = (char *)v5 + 4 * v8, v3) )
    {
LABEL_13:
      do
      {
        *(_BYTE *)v5 = v4;
        v5 = (char *)v5 + 1;
        --v3;
      }
      while ( v3 );
    }
    result = a1;
  }
  else
  {
    result = a1;
  }
  return result;
}

//----- (004E46A0) --------------------------------------------------------
int __usercall sub_4E46A0<eax>(char a1<zf>, int result<eax>, int a3<ebx>, char a4<dil>, int a5<esi>)
{
  int v5; // [sp-8h] [bp-8h]@2

  if ( !a1 )
  {
    v5 = result;
    if ( sub_4EB280(
           a3,
           a5,
           1,
           (int)"i386\\chkesp.c",
           42,
           (int)&byte_5840D0,
           "The value of ESP was not properly saved across a function call.  This is usually a result of calling a function declared with one calling convention with a function pointer declared with a different calling convention. ",
           a4) == 1 )
      __debugbreak();
    result = v5;
  }
  return result;
}
// 5840D0: using guessed type char byte_5840D0;

//----- (004E46E0) --------------------------------------------------------
int __cdecl sub_4E46E0(int a1)
{
  int result; // eax@1

  result = a1;
  dword_5A1CC0 = a1;
  return result;
}
// 5A1CC0: using guessed type int dword_5A1CC0;

//----- (004E46F0) --------------------------------------------------------
int __cdecl Rand()()
{
  dword_5A1CC0 = 214013 * dword_5A1CC0 + 2531011;
  return (dword_5A1CC0 >> 16) & 0x7FFF;
}
// 5A1CC0: using guessed type int dword_5A1CC0;

//----- (004E4720) --------------------------------------------------------
void __cdecl sub_4E4720(int a1)
{
  JUMPOUT(loc_4E4791);
}
// 4E4791: using guessed type int __cdecl loc_4E4791(int, int);

//----- (004E4730) --------------------------------------------------------
int __cdecl sub_4E4730(int a1, int a2)
{
  int v2; // ecx@1
  char v3; // al@2
  int v4; // eax@4
  int v5; // eax@5
  int v6; // edi@9
  int v7; // ecx@13
  int v8; // edx@14
  int v9; // eax@18
  int result; // eax@23

  v2 = a1;
  if ( !(a1 & 3) )
    goto LABEL_4;
  do
  {
    v3 = *(_BYTE *)v2++;
    if ( !v3 )
    {
LABEL_9:
      v6 = v2 - 1;
      goto LABEL_13;
    }
  }
  while ( v2 & 3 );
  while ( 1 )
  {
    do
    {
LABEL_4:
      v4 = (*(_DWORD *)v2 + 2130640639) ^ ~*(_DWORD *)v2;
      v2 += 4;
    }
    while ( !(v4 & 0x81010100) );
    v5 = *(_DWORD *)(v2 - 4);
    if ( !(_BYTE)v5 )
      break;
    if ( !BYTE1(v5) )
    {
      v6 = v2 - 3;
      goto LABEL_13;
    }
    if ( !((unsigned int)&unk_FF0000 & v5) )
    {
      v6 = v2 - 2;
      goto LABEL_13;
    }
    if ( !(v5 & 0xFF000000) )
      goto LABEL_9;
  }
  v6 = v2 - 4;
LABEL_13:
  v7 = a2;
  if ( !(a2 & 3) )
    goto LABEL_18;
  while ( 1 )
  {
    LOBYTE(v8) = *(_BYTE *)v7++;
    if ( !(_BYTE)v8 )
      break;
    *(_BYTE *)v6++ = v8;
    if ( !(v7 & 3) )
    {
      while ( 1 )
      {
LABEL_18:
        v9 = (*(_DWORD *)v7 + 2130640639) ^ ~*(_DWORD *)v7;
        v8 = *(_DWORD *)v7;
        v7 += 4;
        if ( v9 & 0x81010100 )
        {
          if ( !(_BYTE)v8 )
            goto LABEL_26;
          if ( !BYTE1(v8) )
          {
            *(_WORD *)v6 = v8;
            return a1;
          }
          if ( !((unsigned int)&unk_FF0000 & v8) )
          {
            *(_WORD *)v6 = v8;
            result = a1;
            *(_BYTE *)(v6 + 2) = 0;
            return result;
          }
          if ( !(v8 & 0xFF000000) )
          {
            *(_DWORD *)v6 = v8;
            return a1;
          }
        }
        *(_DWORD *)v6 = v8;
        v6 += 4;
      }
    }
  }
LABEL_26:
  *(_BYTE *)v6 = v8;
  return a1;
}

//----- (004E4810) --------------------------------------------------------
void *__cdecl sub_4E4810(void *a1, const void *a2, unsigned int a3)
{
  int v3; // esi@1
  int v4; // edi@1
  unsigned int v5; // ecx@4
  void *result; // eax@18
  int v7; // esi@22
  int v8; // edi@22
  unsigned int v9; // ecx@23

  v3 = (int)a2;
  v4 = (int)a1;
  if ( a1 > a2 && a1 < (char *)a2 + a3 )
  {
    v7 = (int)((char *)a2 + a3 - 4);
    v8 = (int)((char *)a1 + a3 - 4);
    if ( v8 & 3 )
    {
      if ( a3 >= 4 )
        JUMPOUT(__CS__, *((_DWORD *)loc_4E49F4 + (v8 & 3) + 1));
      switch ( a3 )
      {
        case 0u:
LABEL_30:
          result = a1;
          break;
        case 1u:
LABEL_31:
          *(_BYTE *)(v8 + 3) = *(_BYTE *)(v7 + 3);
          result = a1;
          break;
        case 2u:
LABEL_32:
          *(_BYTE *)(v8 + 3) = *(_BYTE *)(v7 + 3);
          *(_BYTE *)(v8 + 2) = *(_BYTE *)(v7 + 2);
          result = a1;
          break;
        case 3u:
          goto LABEL_33;
      }
    }
    else
    {
      v9 = a3 >> 2;
      if ( a3 >> 2 < 8 )
      {
        switch ( -v9 )
        {
          case 0:
            break;
        }
      }
      else
      {
        memcpy((void *)v8, (const void *)v7, 4 * v9);
        v7 += 4 * v9;
        v8 += 4 * v9;
      }
      switch ( a3 & 3 )
      {
        case 0u:
          goto LABEL_30;
        case 1u:
          goto LABEL_31;
        case 2u:
          goto LABEL_32;
        case 3u:
          break;
      }
LABEL_33:
      *(_BYTE *)(v8 + 3) = *(_BYTE *)(v7 + 3);
      *(_BYTE *)(v8 + 2) = *(_BYTE *)(v7 + 2);
      *(_BYTE *)(v8 + 1) = *(_BYTE *)(v7 + 1);
      result = a1;
    }
  }
  else
  {
    if ( (unsigned __int8)a1 & 3 )
    {
      if ( a3 >= 4 )
        JUMPOUT(__CS__, *((_DWORD *)loc_4E486C + ((unsigned __int8)a1 & 3) + 1));
      JUMPOUT(__CS__, *((_DWORD *)loc_4E4968 + a3 - 4));
    }
    v5 = a3 >> 2;
    if ( a3 >> 2 < 8 )
    {
      switch ( v5 )
      {
        case 0u:
          goto LABEL_6;
        case 1u:
          goto LABEL_17;
        case 2u:
          goto LABEL_16;
        case 3u:
          goto LABEL_15;
        case 4u:
          goto LABEL_14;
        case 5u:
          goto LABEL_13;
        case 6u:
          break;
        case 7u:
          *((_DWORD *)a1 + v5 - 7) = *((_DWORD *)a2 + v5 - 7);
          break;
      }
      *((_DWORD *)a1 + v5 - 6) = *((_DWORD *)a2 + v5 - 6);
LABEL_13:
      *((_DWORD *)a1 + v5 - 5) = *((_DWORD *)a2 + v5 - 5);
LABEL_14:
      *((_DWORD *)a1 + v5 - 4) = *((_DWORD *)a2 + v5 - 4);
LABEL_15:
      *((_DWORD *)a1 + v5 - 3) = *((_DWORD *)a2 + v5 - 3);
LABEL_16:
      *((_DWORD *)a1 + v5 - 2) = *((_DWORD *)a2 + v5 - 2);
LABEL_17:
      *((_DWORD *)a1 + v5 - 1) = *((_DWORD *)a2 + v5 - 1);
      v3 = (int)((char *)a2 + 4 * v5);
      v4 = (int)((char *)a1 + 4 * v5);
    }
    else
    {
      memcpy(a1, a2, 4 * v5);
      v3 = (int)((char *)a2 + 4 * v5);
      v4 = (int)((char *)a1 + 4 * v5);
    }
LABEL_6:
    switch ( a3 & 3 )
    {
      case 0u:
        result = a1;
        break;
      case 1u:
        *(_BYTE *)v4 = *(_BYTE *)v3;
        result = a1;
        break;
      case 2u:
        *(_BYTE *)v4 = *(_BYTE *)v3;
        *(_BYTE *)(v4 + 1) = *(_BYTE *)(v3 + 1);
        result = a1;
        break;
      case 3u:
        *(_BYTE *)v4 = *(_BYTE *)v3;
        *(_BYTE *)(v4 + 1) = *(_BYTE *)(v3 + 1);
        *(_BYTE *)(v4 + 2) = *(_BYTE *)(v3 + 2);
        result = a1;
        break;
    }
  }
  return result;
}
// 4E486C: using guessed type int __cdecl loc_4E486C(int, int, int);
// 4E4968: using guessed type int __cdecl loc_4E4968(int, int, int);
// 4E49F4: using guessed type int __cdecl loc_4E49F4(int, int, int);

//----- (004E4B50) --------------------------------------------------------
int __cdecl sub_4E4B50(int a1)
{
  int v1; // ecx@1
  char v2; // al@2
  int v3; // eax@4
  int v4; // eax@5

  v1 = a1;
  if ( !(a1 & 3) )
    goto LABEL_4;
  do
  {
    v2 = *(_BYTE *)v1++;
    if ( !v2 )
      return v1 - 1 - a1;
  }
  while ( v1 & 3 );
  while ( 1 )
  {
    do
    {
LABEL_4:
      v3 = (*(_DWORD *)v1 + 2130640639) ^ ~*(_DWORD *)v1;
      v1 += 4;
    }
    while ( !(v3 & 0x81010100) );
    v4 = *(_DWORD *)(v1 - 4);
    if ( !(_BYTE)v4 )
      break;
    if ( !BYTE1(v4) )
      return v1 - 3 - a1;
    if ( !((unsigned int)&unk_FF0000 & v4) )
      return v1 - 2 - a1;
    if ( !(v4 & 0xFF000000) )
      return v1 - 1 - a1;
  }
  return v1 - 4 - a1;
}

//----- (004E4BD0) --------------------------------------------------------
int __cdecl sub_4E4BD0(int a1, int a2)
{
  int result; // eax@2
  unsigned __int16 v3; // [sp+0h] [bp-4h]@3

  if ( dword_A969F9C )
  {
    while ( 1 )
    {
      v3 = *(_BYTE *)a1;
      if ( !*(_BYTE *)a1 )
        break;
      if ( byte_A96A0A1[(unsigned __int8)v3] & 4 )
      {
        ++a1;
        if ( !*(_BYTE *)a1 )
          return 0;
        if ( a2 == (*(_BYTE *)a1 | (v3 << 8)) )
          return a1 - 1;
      }
      else
      {
        if ( a2 == *(_BYTE *)a1 )
          break;
      }
      ++a1;
    }
    if ( a2 == *(_BYTE *)a1 )
      result = a1;
    else
      result = 0;
  }
  else
  {
    result = sub_4EFB50(a1, a2);
  }
  return result;
}
// A969F9C: using guessed type int dword_A969F9C;

//----- (004E4CA0) --------------------------------------------------------
int __cdecl sub_4E4CA0()
{
  int result; // eax@1

  sub_4E4CE0();
  dword_A969A2C = sub_4EFC90();
  result = sub_4EFC10();
  __asm { fnclex }
  return result;
}
// A969A2C: using guessed type int dword_A969A2C;

//----- (004E4CD0) --------------------------------------------------------
void __cdecl sub_4E4CD0()
{
  ;
}

//----- (004E4CE0) --------------------------------------------------------
void __cdecl sub_4E4CE0()
{
  off_5A21C0 = (int (__cdecl *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_4F03B0;
  off_5A21C4 = sub_4EFD90;
  off_5A21C8 = (int (__cdecl *)(_DWORD, _DWORD, _DWORD))sub_4EFEA0;
  off_5A21CC = (int (__cdecl *)(_DWORD))sub_4EFCE0;
  off_5A21D0[0] = (int (*)())sub_4EFE70;
  off_5A21D4 = (int (*)())sub_4F03B0;
}
// 5A21C0: using guessed type int (__cdecl *off_5A21C0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 5A21C4: using guessed type int (__cdecl *off_5A21C4)(_DWORD);
// 5A21C8: using guessed type int (__cdecl *off_5A21C8)(_DWORD, _DWORD, _DWORD);
// 5A21CC: using guessed type int (__cdecl *off_5A21CC)(_DWORD);
// 5A21D0: using guessed type int (*off_5A21D0[2])();
// 5A21D4: using guessed type int (*off_5A21D4)();

//----- (004E4D4C) --------------------------------------------------------
signed __int64 __usercall sub_4E4D4C<edx:eax>(double a1<st0>)
{
  return (signed __int64)a1;
}

//----- (004E4D80) --------------------------------------------------------
int __cdecl sub_4E4D80(int a1, int a2)
{
  int v2; // edx@1
  int v3; // ecx@1
  unsigned int v4; // eax@2
  unsigned __int8 v5; // cf@2
  unsigned int v6; // eax@6
  __int16 v8; // ax@16

  v2 = a1;
  v3 = a2;
  if ( !(a1 & 3) )
  {
LABEL_2:
    while ( 1 )
    {
      v4 = *(_DWORD *)v2;
      v5 = (unsigned __int8)*(_DWORD *)v2 < *(_BYTE *)v3;
      if ( (unsigned __int8)*(_DWORD *)v2 != *(_BYTE *)v3 )
        break;
      if ( !(_BYTE)v4 )
        return 0;
      v5 = BYTE1(v4) < *(_BYTE *)(v3 + 1);
      if ( BYTE1(v4) != *(_BYTE *)(v3 + 1) )
        break;
      if ( !BYTE1(v4) )
        return 0;
      v6 = v4 >> 16;
      v5 = (unsigned __int8)v6 < *(_BYTE *)(v3 + 2);
      if ( (_BYTE)v6 != *(_BYTE *)(v3 + 2) )
        break;
      if ( !(_BYTE)v6 )
        return 0;
      v5 = BYTE1(v6) < *(_BYTE *)(v3 + 3);
      if ( BYTE1(v6) != *(_BYTE *)(v3 + 3) )
        break;
      v3 += 4;
      v2 += 4;
      if ( !BYTE1(v6) )
        return 0;
    }
    return -2 * v5 + 1;
  }
  if ( a1 & 1 )
  {
    v2 = a1 + 1;
    v5 = *(_BYTE *)a1 < *(_BYTE *)a2;
    if ( *(_BYTE *)a1 != *(_BYTE *)a2 )
      return -2 * v5 + 1;
    v3 = a2 + 1;
    if ( !*(_BYTE *)a1 )
      return 0;
    if ( !(v2 & 2) )
      goto LABEL_2;
  }
  v8 = *(_WORD *)v2;
  v2 += 2;
  v5 = (unsigned __int8)v8 < *(_BYTE *)v3;
  if ( (_BYTE)v8 != *(_BYTE *)v3 )
    return -2 * v5 + 1;
  if ( !(_BYTE)v8 )
    return 0;
  v5 = HIBYTE(v8) < *(_BYTE *)(v3 + 1);
  if ( HIBYTE(v8) == *(_BYTE *)(v3 + 1) )
  {
    if ( HIBYTE(v8) )
    {
      v3 += 2;
      goto LABEL_2;
    }
    return 0;
  }
  return -2 * v5 + 1;
}

//----- (004E4E40) --------------------------------------------------------
int __usercall sub_4E4E40<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int *a4)
{
  __int16 v4; // dx@3
  __int16 v5; // dx@12
  int result; // eax@16
  int v7; // [sp+0h] [bp-14h]@11
  int v8; // [sp+4h] [bp-10h]@2
  signed int v9; // [sp+8h] [bp-Ch]@6
  int v10; // [sp+Ch] [bp-8h]@9
  signed int v11; // [sp+10h] [bp-4h]@6
  int v12; // [sp+1Ch] [bp+8h]@6

  while ( 1 )
  {
    if ( cbMultiByte <= 1 )
    {
      v4 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * *(_BYTE *)a4);
      v8 = v4 & 8;
    }
    else
    {
      v8 = sub_4F0440(a1, a2, a3, *(_BYTE *)a4, 8);
    }
    if ( !v8 )
      break;
    a4 = (signed int *)((char *)a4 + 1);
  }
  v11 = *(_BYTE *)a4;
  v12 = (int)((char *)a4 + 1);
  v9 = v11;
  if ( v11 == 45 || v11 == 43 )
    v11 = *(_BYTE *)v12++;
  v10 = 0;
  while ( 1 )
  {
    if ( cbMultiByte <= 1 )
    {
      v5 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * v11);
      v7 = v5 & 4;
    }
    else
    {
      v7 = sub_4F0440(a1, a2, a3, v11, 4);
    }
    if ( !v7 )
      break;
    v10 = 10 * v10 + v11 - 48;
    v11 = *(_BYTE *)v12++;
  }
  if ( v9 == 45 )
    result = -v10;
  else
    result = v10;
  return result;
}
// 5A21D8: using guessed type __int16 off_5A21D8[2];

//----- (004E4F40) --------------------------------------------------------
int __usercall sub_4E4F40<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int *a4)
{
  return sub_4E4E40(a1, a2, a3, a4);
}

//----- (004E5090) --------------------------------------------------------
unsigned int __usercall sub_4E5090<eax>(int a1<ebx>, int a2<esi>, int a3, unsigned int a4, unsigned int a5, int a6)
{
  unsigned int result; // eax@2
  DWORD v7; // [sp+0h] [bp-24h]@15
  unsigned int v8; // [sp+4h] [bp-20h]@10
  unsigned int v9; // [sp+8h] [bp-1Ch]@4
  int v10; // [sp+10h] [bp-14h]@17
  int v11; // [sp+14h] [bp-10h]@1
  unsigned int v12; // [sp+18h] [bp-Ch]@1
  int v13; // [sp+1Ch] [bp-8h]@1
  signed int v14; // [sp+20h] [bp-4h]@22

  v13 = a3;
  v11 = a5 * a4;
  v12 = a5 * a4;
  if ( a5 * a4 )
  {
    if ( *(_DWORD *)(a6 + 12) & 0x10C )
      v9 = *(_DWORD *)(a6 + 24);
    else
      v9 = 4096;
    while ( v12 )
    {
      if ( *(_DWORD *)(a6 + 12) & 0x10C && *(_DWORD *)(a6 + 4) )
      {
        if ( v12 >= *(_DWORD *)(a6 + 4) )
          v8 = *(_DWORD *)(a6 + 4);
        else
          v8 = v12;
        sub_4E4810((void *)v13, *(const void **)a6, v8);
        v12 -= v8;
        *(_DWORD *)(a6 + 4) -= v8;
        *(_DWORD *)a6 += v8;
        v13 += v8;
      }
      else
      {
        if ( v12 < v9 )
        {
          v14 = sub_4EED20(a1, a2, a6);
          if ( v14 == -1 )
            return (v11 - v12) / a4;
          *(_BYTE *)v13++ = v14;
          --v12;
          v9 = *(_DWORD *)(a6 + 24);
        }
        else
        {
          if ( v9 )
            v7 = v12 - v12 % v9;
          else
            v7 = v12;
          v10 = sub_4E7A20(*(_DWORD *)(a6 + 16), v13, v7);
          if ( !v10 )
          {
            *(_DWORD *)(a6 + 12) |= 0x10u;
            return (v11 - v12) / a4;
          }
          if ( v10 == -1 )
          {
            *(_DWORD *)(a6 + 12) |= 0x20u;
            return (v11 - v12) / a4;
          }
          v12 -= v10;
          v13 += v10;
        }
      }
    }
    result = a5;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004E5260) --------------------------------------------------------
int __usercall sub_4E5260<eax>(int a1<ebx>, int a2<esi>, int a3, LONG lDistanceToMove, DWORD dwMoveMethod)
{
  int result; // eax@8
  char v6; // [sp+0h] [bp-10h]@0

  if ( !a3 && sub_4EB280(a1, a2, 2, (int)"fseek.c", 146, 0, "str != NULL", v6) == 1 )
    __debugbreak();
  if ( *(_DWORD *)(a3 + 12) & 0x83 && (!dwMoveMethod || dwMoveMethod == 1 || dwMoveMethod == 2) )
  {
    *(_DWORD *)(a3 + 12) &= 0xFFFFFFEFu;
    if ( dwMoveMethod == 1 )
    {
      lDistanceToMove += sub_4EBDD0(a1, a2, a3);
      dwMoveMethod = 0;
    }
    sub_4EAD10(a3);
    if ( *(_DWORD *)(a3 + 12) & 0x80 )
    {
      *(_DWORD *)(a3 + 12) &= 0xFFFFFFFCu;
    }
    else
    {
      if ( *(_DWORD *)(a3 + 12) & 1 && *(_DWORD *)(a3 + 12) & 8 )
      {
        if ( !(*(_DWORD *)(a3 + 12) & 0x400) )
          *(_DWORD *)(a3 + 24) = 512;
      }
    }
    result = (sub_4F0500(*(_DWORD *)(a3 + 16), lDistanceToMove, dwMoveMethod) != -1) - 1;
  }
  else
  {
    dword_A969A60 = 22;
    result = -1;
  }
  return result;
}
// A969A60: using guessed type int dword_A969A60;

//----- (004E5390) --------------------------------------------------------
int __stdcall sub_4E5390(unsigned __int64 a1, unsigned int a2, int a3)
{
  signed int v3; // edi@1
  int v4; // eax@3
  int result; // eax@6
  unsigned __int64 v6; // qtt@6
  unsigned int v7; // ebx@7
  unsigned int v8; // ecx@7
  unsigned __int64 v9; // qax@7
  unsigned __int8 v10; // cf@8
  int v11; // eax@9
  int v12; // esi@9
  int v13; // ecx@9
  unsigned __int64 v14; // qax@9

  v3 = 0;
  if ( SHIDWORD(a1) < 0 )
  {
    v3 = 1;
    HIDWORD(a1) = -HIDWORD(a1) - ((_DWORD)a1 != 0);
    LODWORD(a1) = -(signed int)a1;
  }
  v4 = a3;
  if ( a3 < 0 )
  {
    ++v3;
    v4 = -a3 - (a2 != 0);
    a3 = -a3 - (a2 != 0);
    a2 = -a2;
  }
  if ( v4 )
  {
    v7 = v4;
    v8 = a2;
    v9 = a1;
    do
    {
      v10 = v7 & 1;
      v7 >>= 1;
      v8 = __RCR__(v8, v10);
      v10 = BYTE4(v9) & 1;
      HIDWORD(v9) >>= 1;
      LODWORD(v9) = __RCR__(v9, v10);
    }
    while ( v7 );
    v11 = v9 / v8;
    v12 = v11;
    v13 = a3 * v11;
    v14 = (unsigned int)v11 * (unsigned __int64)a2;
    v10 = __CFADD__(v13, HIDWORD(v14));
    HIDWORD(v14) += v13;
    if ( v10 || HIDWORD(v14) > HIDWORD(a1) || HIDWORD(v14) >= HIDWORD(a1) && (unsigned int)v14 > (unsigned int)a1 )
      --v12;
    result = v12;
  }
  else
  {
    LODWORD(v6) = a1;
    HIDWORD(v6) = HIDWORD(a1) % a2;
    result = v6 / a2;
  }
  if ( v3 == 1 )
    result = -result;
  return result;
}

//----- (004E5440) --------------------------------------------------------
int __usercall sub_4E5440<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, char a5)
{
  int v5; // ST28_4@7
  int v6; // ST24_4@7
  char v8; // [sp+0h] [bp-1Ch]@0

  if ( !a3 && sub_4EB280(a1, a2, 2, (int)"fprintf.c", 56, 0, "str != NULL", v8) == 1 )
    __debugbreak();
  if ( !a4 && sub_4EB280(a1, a2, 2, (int)"fprintf.c", 57, 0, "format != NULL", v8) == 1 )
    __debugbreak();
  v5 = sub_4F05F0(a1, a2, a3);
  v6 = sub_4EC8E0(a1, a2, a3, a4, (int)&a5);
  sub_4F0750(a1, a2, v5, a3);
  return v6;
}

//----- (004E54F0) --------------------------------------------------------
int __usercall sub_4E54F0<eax>(int a1<ebx>, int a2<esi>, unsigned int a3)
{
  return sub_4E5560(a1, a2, a3, dword_A969AE0, 1, 0, 0);
}

//----- (004E5510) --------------------------------------------------------
int __usercall sub_4E5510<eax>(int ebx0<ebx>, int esi0<esi>, unsigned int a1, int a2, int a3, int a4)
{
  return sub_4E5560(ebx0, esi0, a1, dword_A969AE0, a2, a3, a4);
}

//----- (004E5540) --------------------------------------------------------
int __usercall sub_4E5540<eax>(int a1<ebx>, int a2<esi>, unsigned int a3, int a4)
{
  return sub_4E5560(a1, a2, a3, a4, 1, 0, 0);
}

//----- (004E5560) --------------------------------------------------------
int __usercall sub_4E5560<eax>(int ebx0<ebx>, int esi0<esi>, unsigned int a1, int a2, int a3, int a4, int a5)
{
  int v8; // [sp+0h] [bp-4h]@1

  do
  {
    v8 = sub_4E55D0(ebx0, esi0, a1, a3, a4, a5);
    if ( v8 || !a2 )
      return v8;
  }
  while ( sub_4F0840(a1) );
  return 0;
}

//----- (004E55D0) --------------------------------------------------------
int __usercall sub_4E55D0<eax>(int ebx0<ebx>, int esi0<esi>, unsigned int a1, int a2, int a3, int a4)
{
  int result; // eax@14
  char v7; // [sp+0h] [bp-1Ch]@0
  signed int v8; // [sp+10h] [bp-Ch]@1
  int v9; // [sp+14h] [bp-8h]@5
  int v10; // [sp+18h] [bp-4h]@29

  v8 = 0;
  if ( dword_5A1CF0 & 4
    && !sub_4E6610(ebx0, esi0)
    && sub_4EB280(ebx0, esi0, 2, (int)"dbgheap.c", 321, 0, "_CrtCheckMemory()", v7) == 1 )
    __debugbreak();
  v9 = dword_5A1CF4;
  if ( dword_5A1CF4 == dword_5A1CF8 )
    __debugbreak();
  if ( off_5A23F0(1, 0, a1, a2, dword_5A1CF4, a3, a4) )
  {
    if ( (unsigned __int16)a2 != 2 && !(dword_5A1CF0 & 1) )
      v8 = 1;
    if ( a1 <= 0xFFFFFFE0 && a1 + 36 <= 0xFFFFFFE0 )
    {
      if ( (unsigned __int16)a2 != 4
        && a2 != 1
        && (unsigned __int16)a2 != 2
        && a2 != 3
        && sub_4EB280(ebx0, esi0, 1, 0, 0, 0, "%s", (unsigned int)"Error: memory allocation: bad memory block type.\n") == 1 )
        __debugbreak();
      v10 = (int)sub_4F08F0(a1 + 36);
      if ( v10 )
      {
        ++dword_5A1CF4;
        if ( v8 )
        {
          *(_DWORD *)v10 = 0;
          *(_DWORD *)(v10 + 4) = 0;
          *(_DWORD *)(v10 + 8) = 0;
          *(_DWORD *)(v10 + 12) = -19088708;
          *(_DWORD *)(v10 + 16) = a1;
          *(_DWORD *)(v10 + 20) = 3;
          *(_DWORD *)(v10 + 24) = 0;
        }
        else
        {
          dword_A969A34 += a1;
          dword_A969A3C += a1;
          if ( dword_A969A3C > (unsigned int)dword_A969A40 )
            dword_A969A40 = dword_A969A3C;
          if ( dword_A969A38 )
            *(_DWORD *)(dword_A969A38 + 4) = v10;
          else
            dword_A969A30 = v10;
          *(_DWORD *)v10 = dword_A969A38;
          *(_DWORD *)(v10 + 4) = 0;
          *(_DWORD *)(v10 + 8) = a3;
          *(_DWORD *)(v10 + 12) = a4;
          *(_DWORD *)(v10 + 16) = a1;
          *(_DWORD *)(v10 + 20) = a2;
          *(_DWORD *)(v10 + 24) = v9;
          dword_A969A38 = v10;
        }
        sub_4E4640((void *)(v10 + 28), byte_5A1CFC, 4u);
        sub_4E4640((void *)(v10 + a1 + 32), byte_5A1CFC, 4u);
        sub_4E4640((void *)(v10 + 32), byte_5A1CFE, a1);
        result = v10 + 32;
      }
      else
      {
        result = 0;
      }
    }
    else
    {
      if ( sub_4EB280(ebx0, esi0, 1, 0, 0, 0, "Invalid allocation size: %u bytes.\n", a1) == 1 )
        __debugbreak();
      result = 0;
    }
  }
  else
  {
    if ( a3 )
    {
      if ( sub_4EB280(ebx0, esi0, 0, 0, 0, 0, "Client hook allocation failure at file %hs line %d.\n", a3) == 1 )
        __debugbreak();
    }
    else
    {
      if ( sub_4EB280(ebx0, esi0, 0, 0, 0, 0, "%s", (unsigned int)"Client hook allocation failure.\n") == 1 )
        __debugbreak();
    }
    result = 0;
  }
  return result;
}
// 5A1CF0: using guessed type int dword_5A1CF0;
// 5A1CF4: using guessed type int dword_5A1CF4;
// 5A1CF8: using guessed type int dword_5A1CF8;
// 5A1CFC: using guessed type char byte_5A1CFC;
// 5A1CFE: using guessed type char byte_5A1CFE;
// 5A23F0: using guessed type int (__cdecl *off_5A23F0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// A969A30: using guessed type int dword_A969A30;
// A969A34: using guessed type int dword_A969A34;
// A969A38: using guessed type int dword_A969A38;
// A969A3C: using guessed type int dword_A969A3C;
// A969A40: using guessed type int dword_A969A40;

//----- (004E58F0) --------------------------------------------------------
int __usercall sub_4E58F0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  return sub_4E5910(a1, a2, a3, a4, 1, 0, 0);
}

//----- (004E5910) --------------------------------------------------------
int __usercall sub_4E5910<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6, int a7)
{
  unsigned int i; // [sp+0h] [bp-Ch]@2
  int v9; // [sp+4h] [bp-8h]@1
  unsigned int v10; // [sp+18h] [bp+Ch]@1

  v10 = a3 * a4;
  v9 = sub_4E5510(a1, a2, v10, a5, a6, a7);
  if ( v9 )
  {
    for ( i = v9; i < v10 + v9; ++i )
      *(_BYTE *)i = 0;
  }
  return v9;
}

//----- (004E5990) --------------------------------------------------------
int __usercall sub_4E5990<eax>(int a1<ebx>, int a2<esi>, int a3, unsigned int a4, int a5, int a6, int a7)
{
  return sub_4E59C0(a1, a2, a3, a4, a5, a6, a7, 1);
}

//----- (004E59C0) --------------------------------------------------------
int __usercall sub_4E59C0<eax>(int a1<ebx>, int a2<esi>, int a3, unsigned int a4, int a5, int a6, int a7, int a8)
{
  int result; // eax@2
  char v9; // [sp+0h] [bp-20h]@0
  signed int v10; // [sp+Ch] [bp-14h]@1
  int v11; // [sp+10h] [bp-10h]@10
  int v12; // [sp+14h] [bp-Ch]@47
  int lpMem; // [sp+18h] [bp-8h]@32
  int v14; // [sp+1Ch] [bp-4h]@55

  v10 = 0;
  if ( !a3 )
    return sub_4E5510(a1, a2, a4, a5, a6, a7);
  if ( a8 && !a4 )
  {
    sub_4E5F50(a1, a2, a3, a5);
    return 0;
  }
  if ( dword_5A1CF0 & 4
    && !sub_4E6610(a1, a2)
    && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 569, 0, "_CrtCheckMemory()", v9) == 1 )
    __debugbreak();
  v11 = dword_5A1CF4;
  if ( dword_5A1CF4 == dword_5A1CF8 )
    __debugbreak();
  if ( off_5A23F0(2, a3, a4, a5, dword_5A1CF4, a6, a7) )
  {
    if ( a4 <= 0xFFFFFFDB )
    {
      if ( a5 != 1
        && (unsigned __int16)a5 != 4
        && (unsigned __int16)a5 != 2
        && sub_4EB280(a1, a2, 1, 0, 0, 0, "%s", (unsigned int)"Error: memory allocation: bad memory block type.\n") == 1 )
        __debugbreak();
      if ( !sub_4E6A50(a3)
        && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 609, 0, "_CrtIsValidHeapPointer(pUserData)", v9) == 1 )
        __debugbreak();
      lpMem = a3 - 32;
      if ( *(_DWORD *)(a3 - 32 + 20) == 3 )
        v10 = 1;
      if ( v10 )
      {
        if ( (*(_DWORD *)(lpMem + 12) != -19088708 || *(_DWORD *)(lpMem + 24))
          && sub_4EB280(
               a1,
               a2,
               2,
               (int)"dbgheap.c",
               619,
               0,
               "pOldBlock->nLine == IGNORE_LINE && pOldBlock->lRequest == IGNORE_REQ",
               v9) == 1 )
          __debugbreak();
      }
      else
      {
        if ( (*(_DWORD *)(lpMem + 20) & 0xFFFF) == 2 && (unsigned __int16)a5 == 1 )
          a5 = 2;
        if ( (*(_DWORD *)(lpMem + 20) & 0xFFFF) != (unsigned __int16)a5
          && sub_4EB280(
               a1,
               a2,
               2,
               (int)"dbgheap.c",
               626,
               0,
               "_BLOCK_TYPE(pOldBlock->nBlockUse)==_BLOCK_TYPE(nBlockUse)",
               v9) == 1 )
          __debugbreak();
      }
      if ( a8 )
      {
        v12 = (int)sub_4F09F0(lpMem, a4 + 36);
        if ( !v12 )
          return 0;
      }
      else
      {
        v12 = (int)sub_4F0960((LPVOID)lpMem, a4 + 36);
        if ( !v12 )
          return 0;
      }
      ++dword_5A1CF4;
      if ( !v10 )
      {
        dword_A969A34 -= *(_DWORD *)(v12 + 16);
        dword_A969A34 += a4;
        dword_A969A3C -= *(_DWORD *)(v12 + 16);
        dword_A969A3C += a4;
        if ( dword_A969A3C > (unsigned int)dword_A969A40 )
          dword_A969A40 = dword_A969A3C;
      }
      v14 = v12 + 32;
      if ( a4 > *(_DWORD *)(v12 + 16) )
        sub_4E4640((void *)(*(_DWORD *)(v12 + 16) + v14), byte_5A1CFE, a4 - *(_DWORD *)(v12 + 16));
      sub_4E4640((void *)(a4 + v14), byte_5A1CFC, 4u);
      if ( !v10 )
      {
        *(_DWORD *)(v12 + 8) = a6;
        *(_DWORD *)(v12 + 12) = a7;
        *(_DWORD *)(v12 + 24) = v11;
      }
      *(_DWORD *)(v12 + 16) = a4;
      if ( !a8
        && v12 != lpMem
        && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 680, 0, "fRealloc || (!fRealloc && pNewBlock == pOldBlock)", v9) == 1 )
        __debugbreak();
      if ( v12 == lpMem || v10 )
      {
        result = v12 + 32;
      }
      else
      {
        if ( *(_DWORD *)v12 )
        {
          *(_DWORD *)(*(_DWORD *)v12 + 4) = *(_DWORD *)(v12 + 4);
        }
        else
        {
          if ( dword_A969A30 != lpMem
            && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 695, 0, "_pLastBlock == pOldBlock", v9) == 1 )
            __debugbreak();
          dword_A969A30 = *(_DWORD *)(v12 + 4);
        }
        if ( *(_DWORD *)(v12 + 4) )
        {
          **(_DWORD **)(v12 + 4) = *(_DWORD *)v12;
        }
        else
        {
          if ( dword_A969A38 != lpMem
            && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 706, 0, "_pFirstBlock == pOldBlock", v9) == 1 )
            __debugbreak();
          dword_A969A38 = *(_DWORD *)v12;
        }
        if ( dword_A969A38 )
          *(_DWORD *)(dword_A969A38 + 4) = v12;
        else
          dword_A969A30 = v12;
        *(_DWORD *)v12 = dword_A969A38;
        *(_DWORD *)(v12 + 4) = 0;
        dword_A969A38 = v12;
        result = v12 + 32;
      }
    }
    else
    {
      if ( sub_4EB280(a1, a2, 1, 0, 0, 0, "Allocation too large or negative: %u bytes.\n", a4) == 1 )
        __debugbreak();
      result = 0;
    }
  }
  else
  {
    if ( a6 )
    {
      if ( sub_4EB280(a1, a2, 0, 0, 0, 0, "Client hook re-allocation failure at file %hs line %d.\n", a6) == 1 )
        __debugbreak();
    }
    else
    {
      if ( sub_4EB280(a1, a2, 0, 0, 0, 0, "%s", (unsigned int)"Client hook re-allocation failure.\n") == 1 )
        __debugbreak();
    }
    result = 0;
  }
  return result;
}
// 5A1CF0: using guessed type int dword_5A1CF0;
// 5A1CF4: using guessed type int dword_5A1CF4;
// 5A1CF8: using guessed type int dword_5A1CF8;
// 5A1CFC: using guessed type char byte_5A1CFC;
// 5A1CFE: using guessed type char byte_5A1CFE;
// 5A23F0: using guessed type int (__cdecl *off_5A23F0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// A969A30: using guessed type int dword_A969A30;
// A969A34: using guessed type int dword_A969A34;
// A969A38: using guessed type int dword_A969A38;
// A969A3C: using guessed type int dword_A969A3C;
// A969A40: using guessed type int dword_A969A40;

//----- (004E5F00) --------------------------------------------------------
int __usercall sub_4E5F00<eax>(int a1<ebx>, int a2<esi>, int a3, unsigned int a4, int a5, int a6, int a7)
{
  return sub_4E59C0(a1, a2, a3, a4, a5, a6, a7, 0);
}

//----- (004E5F30) --------------------------------------------------------
void __usercall sub_4E5F30(int a1<ebx>, int a2<esi>, int a3)
{
  sub_4E5F50(a1, a2, a3, 1);
}

//----- (004E5F50) --------------------------------------------------------
void __usercall sub_4E5F50(int a1<ebx>, int a2<esi>, int a3, signed int a4)
{
  char v4; // [sp+0h] [bp-10h]@0
  int lpMem; // [sp+Ch] [bp-4h]@13

  if ( dword_5A1CF0 & 4
    && !sub_4E6610(a1, a2)
    && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 993, 0, "_CrtCheckMemory()", v4) == 1 )
    __debugbreak();
  if ( a3 )
  {
    if ( off_5A23F0(3, a3, 0, a4, 0, 0, 0) )
    {
      if ( !sub_4E6A50(a3)
        && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 1011, 0, "_CrtIsValidHeapPointer(pUserData)", v4) == 1 )
        __debugbreak();
      lpMem = a3 - 32;
      if ( (*(_DWORD *)(a3 - 32 + 20) & 0xFFFF) != 4
        && *(_DWORD *)(lpMem + 20) != 1
        && (*(_DWORD *)(lpMem + 20) & 0xFFFF) != 2
        && *(_DWORD *)(lpMem + 20) != 3
        && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 1017, 0, "_BLOCK_TYPE_IS_VALID(pHead->nBlockUse)", v4) == 1 )
        __debugbreak();
      if ( !(dword_5A1CF0 & 4) )
      {
        if ( !sub_4E6580(a1, a2, lpMem + 28, byte_5A1CFC, 4)
          && sub_4EB280(
               a1,
               a2,
               1,
               0,
               0,
               0,
               "DAMAGE: before %hs block (#%d) at 0x%08X.\n",
               (unsigned int)off_5A1D00[*(_DWORD *)(lpMem + 20) & 0xFFFF]) == 1 )
          __debugbreak();
        if ( !sub_4E6580(a1, a2, lpMem + *(_DWORD *)(lpMem + 16) + 32, byte_5A1CFC, 4)
          && sub_4EB280(
               a1,
               a2,
               1,
               0,
               0,
               0,
               "DAMAGE: after %hs block (#%d) at 0x%08X.\n",
               (unsigned int)off_5A1D00[*(_DWORD *)(lpMem + 20) & 0xFFFF]) == 1 )
          __debugbreak();
      }
      if ( *(_DWORD *)(lpMem + 20) == 3 )
      {
        if ( *(_DWORD *)(lpMem + 12) != -19088708 || *(_DWORD *)(lpMem + 24) )
        {
          if ( sub_4EB280(
                 a1,
                 a2,
                 2,
                 (int)"dbgheap.c",
                 1038,
                 0,
                 "pHead->nLine == IGNORE_LINE && pHead->lRequest == IGNORE_REQ",
                 v4) == 1 )
            __debugbreak();
        }
        sub_4E4640((void *)lpMem, byte_5A1CFD, *(_DWORD *)(lpMem + 16) + 36);
        sub_4F0BC0((LPVOID)lpMem);
      }
      else
      {
        if ( *(_DWORD *)(lpMem + 20) == 2 && a4 == 1 )
          a4 = 2;
        if ( *(_DWORD *)(lpMem + 20) != a4
          && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 1051, 0, "pHead->nBlockUse == nBlockUse", v4) == 1 )
          __debugbreak();
        dword_A969A3C -= *(_DWORD *)(lpMem + 16);
        if ( dword_5A1CF0 & 2 )
        {
          *(_DWORD *)(lpMem + 20) = 0;
          sub_4E4640((void *)a3, byte_5A1CFD, *(_DWORD *)(a3 - 32 + 16));
        }
        else
        {
          if ( *(_DWORD *)lpMem )
          {
            *(_DWORD *)(*(_DWORD *)lpMem + 4) = *(_DWORD *)(lpMem + 4);
          }
          else
          {
            if ( dword_A969A30 != lpMem
              && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 1066, 0, "_pLastBlock == pHead", v4) == 1 )
              __debugbreak();
            dword_A969A30 = *(_DWORD *)(lpMem + 4);
          }
          if ( *(_DWORD *)(lpMem + 4) )
          {
            **(_DWORD **)(lpMem + 4) = *(_DWORD *)lpMem;
          }
          else
          {
            if ( dword_A969A38 != lpMem
              && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 1076, 0, "_pFirstBlock == pHead", v4) == 1 )
              __debugbreak();
            dword_A969A38 = *(_DWORD *)lpMem;
          }
          sub_4E4640((void *)lpMem, byte_5A1CFD, *(_DWORD *)(lpMem + 16) + 36);
          sub_4F0BC0((LPVOID)lpMem);
        }
      }
    }
    else
    {
      if ( sub_4EB280(a1, a2, 0, 0, 0, 0, "%s", (unsigned int)"Client hook free failure.\n") == 1 )
        __debugbreak();
    }
  }
}
// 5A1CF0: using guessed type int dword_5A1CF0;
// 5A1CFC: using guessed type char byte_5A1CFC;
// 5A1CFD: using guessed type char byte_5A1CFD;
// 5A1D00: using guessed type char *off_5A1D00[5];
// 5A23F0: using guessed type int (__cdecl *off_5A23F0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// A969A30: using guessed type int dword_A969A30;
// A969A38: using guessed type int dword_A969A38;
// A969A3C: using guessed type int dword_A969A3C;

//----- (004E6360) --------------------------------------------------------
int __usercall sub_4E6360<eax>(int a1<ebx>, int a2<esi>, int a3, signed int a4)
{
  char v5; // [sp+0h] [bp-14h]@0
  int v6; // [sp+Ch] [bp-8h]@8

  if ( dword_5A1CF0 & 4
    && !sub_4E6610(a1, a2)
    && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 1148, 0, "_CrtCheckMemory()", v5) == 1 )
    __debugbreak();
  if ( !sub_4E6A50(a3) && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 1157, 0, "_CrtIsValidHeapPointer(pUserData)", v5) == 1 )
    __debugbreak();
  v6 = a3 - 32;
  if ( (*(_DWORD *)(a3 - 32 + 20) & 0xFFFF) != 4
    && *(_DWORD *)(v6 + 20) != 1
    && (*(_DWORD *)(v6 + 20) & 0xFFFF) != 2
    && *(_DWORD *)(v6 + 20) != 3
    && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 1163, 0, "_BLOCK_TYPE_IS_VALID(pHead->nBlockUse)", v5) == 1 )
    __debugbreak();
  if ( *(_DWORD *)(v6 + 20) == 2 && a4 == 1 )
    a4 = 2;
  if ( *(_DWORD *)(v6 + 20) != 3
    && *(_DWORD *)(v6 + 20) != a4
    && sub_4EB280(a1, a2, 2, (int)"dbgheap.c", 1170, 0, "pHead->nBlockUse == nBlockUse", v5) == 1 )
    __debugbreak();
  return *(_DWORD *)(v6 + 16);
}
// 5A1CF0: using guessed type int dword_5A1CF0;

//----- (004E6560) --------------------------------------------------------
int (__cdecl *__cdecl sub_4E6560(int (*a1)()))(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD)
{
  int (__cdecl *v1)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // ST00_4@1

  v1 = off_5A23F0;
  off_5A23F0 = (int (__cdecl *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))a1;
  return v1;
}
// 5A23F0: using guessed type int (__cdecl *off_5A23F0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (004E6580) --------------------------------------------------------
signed int __usercall sub_4E6580<eax>(int ebx0<ebx>, int esi0<esi>, int a1, unsigned __int8 a2, int a3)
{
  int v5; // eax@2
  int v6; // eax@3
  signed int v8; // [sp+Ch] [bp-4h]@1

  v8 = 1;
  while ( 1 )
  {
    v5 = a3--;
    if ( !v5 )
      break;
    v6 = *(_BYTE *)a1++;
    if ( v6 != a2 )
    {
      if ( sub_4EB280(ebx0, esi0, 0, 0, 0, 0, "memory check error at 0x%08X = 0x%02X, should be 0x%02X.\n", a1 - 1) == 1 )
        __debugbreak();
      v8 = 0;
    }
  }
  return v8;
}

//----- (004E6610) --------------------------------------------------------
signed int __usercall sub_4E6610<eax>(int a1<ebx>, int a2<esi>)
{
  signed int result; // eax@2
  char *v3; // [sp+10h] [bp-14h]@27
  signed int v4; // [sp+14h] [bp-10h]@23
  signed int v5; // [sp+18h] [bp-Ch]@3
  int i; // [sp+1Ch] [bp-8h]@21
  signed int v7; // [sp+20h] [bp-4h]@1

  v7 = 1;
  if ( dword_5A1CF0 & 1 )
  {
    v5 = sub_4F0C10();
    if ( v5 == -1 || v5 == -2 )
    {
      for ( i = dword_A969A38; i; i = *(_DWORD *)i )
      {
        v4 = 1;
        if ( (*(_DWORD *)(i + 20) & 0xFFFF) != 4
          && *(_DWORD *)(i + 20) != 1
          && (*(_DWORD *)(i + 20) & 0xFFFF) != 2
          && *(_DWORD *)(i + 20) != 3 )
          v3 = "DAMAGED";
        else
          v3 = off_5A1D00[*(_DWORD *)(i + 20) & 0xFFFF];
        if ( !sub_4E6580(a1, a2, i + 28, byte_5A1CFC, 4) )
        {
          if ( sub_4EB280(a1, a2, 0, 0, 0, 0, "DAMAGE: before %hs block (#%d) at 0x%08X.\n", (char)v3) == 1 )
            __debugbreak();
          v4 = 0;
        }
        if ( !sub_4E6580(a1, a2, i + *(_DWORD *)(i + 16) + 32, byte_5A1CFC, 4) )
        {
          if ( sub_4EB280(a1, a2, 0, 0, 0, 0, "DAMAGE: after %hs block (#%d) at 0x%08X.\n", (char)v3) == 1 )
            __debugbreak();
          v4 = 0;
        }
        if ( !*(_DWORD *)(i + 20) && !sub_4E6580(a1, a2, i + 32, byte_5A1CFD, *(_DWORD *)(i + 16)) )
        {
          if ( sub_4EB280(a1, a2, 0, 0, 0, 0, "DAMAGE: on top of Free block at 0x%08X.\n", i + 32) == 1 )
            __debugbreak();
          v4 = 0;
        }
        if ( !v4 )
        {
          if ( *(_DWORD *)(i + 8) && sub_4EB280(a1, a2, 0, 0, 0, 0, "%hs allocated at file %hs(%d).\n", (char)v3) == 1 )
            __debugbreak();
          if ( sub_4EB280(a1, a2, 0, 0, 0, 0, "%hs located at 0x%08X is %u bytes long.\n", (char)v3) == 1 )
            __debugbreak();
          v7 = 0;
        }
      }
      result = v7;
    }
    else
    {
      switch ( v5 + 6 )
      {
        case 3:
          if ( sub_4EB280(a1, a2, 0, 0, 0, 0, "%s", (unsigned int)"_heapchk fails with _HEAPBADBEGIN.\n") == 1 )
            __debugbreak();
          break;
        case 2:
          if ( sub_4EB280(a1, a2, 0, 0, 0, 0, "%s", (unsigned int)"_heapchk fails with _HEAPBADNODE.\n") == 1 )
            __debugbreak();
          break;
        case 1:
          if ( sub_4EB280(a1, a2, 0, 0, 0, 0, "%s", (unsigned int)"_heapchk fails with _HEAPBADEND.\n") == 1 )
            __debugbreak();
          break;
        case 0:
          if ( sub_4EB280(a1, a2, 0, 0, 0, 0, "%s", (unsigned int)"_heapchk fails with _HEAPBADPTR.\n") == 1 )
            __debugbreak();
          break;
        default:
          if ( sub_4EB280(a1, a2, 0, 0, 0, 0, "%s", (unsigned int)"_heapchk fails with unknown return value!\n") == 1 )
            __debugbreak();
          break;
      }
      result = 0;
    }
  }
  else
  {
    result = 1;
  }
  return result;
}
// 5A1CF0: using guessed type int dword_5A1CF0;
// 5A1CFC: using guessed type char byte_5A1CFC;
// 5A1CFD: using guessed type char byte_5A1CFD;
// 5A1D00: using guessed type char *off_5A1D00[5];
// A969A38: using guessed type int dword_A969A38;

//----- (004E6970) --------------------------------------------------------
int __cdecl sub_4E6970(int a1)
{
  int v2; // [sp+0h] [bp-4h]@1

  v2 = dword_5A1CF0;
  if ( a1 != -1 )
    dword_5A1CF0 = a1;
  return v2;
}
// 5A1CF0: using guessed type int dword_5A1CF0;

//----- (004E6A00) --------------------------------------------------------
bool __cdecl sub_4E6A00(const void *lp, UINT_PTR ucb, int a3)
{
  return lp && !IsBadReadPtr(lp, ucb) && (!a3 || !IsBadWritePtr((LPVOID)lp, ucb));
}

//----- (004E6A50) --------------------------------------------------------
signed int __cdecl sub_4E6A50(int a1)
{
  signed int result; // eax@2
  int v2; // [sp+0h] [bp-4h]@5

  if ( a1 )
  {
    if ( sub_4E6A00((const void *)(a1 - 32), 0x20u, 1) )
    {
      v2 = sub_4F0E00(a1 - 32);
      if ( v2 )
      {
        result = sub_4F0E60(v2, a1 - 32);
      }
      else
      {
        if ( dword_A969A6C & 0x8000 )
          result = 1;
        else
          result = HeapValidate(hHeap, 0, (LPCVOID)(a1 - 32));
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// A969A6C: using guessed type int dword_A969A6C;

//----- (004E6BD0) --------------------------------------------------------
int __usercall sub_4E6BD0<eax>(int ebx0<ebx>, int a2<esi>, int a1)
{
  int result; // eax@4
  int j; // [sp+Ch] [bp-8h]@8
  signed int i; // [sp+10h] [bp-4h]@5

  if ( a1 )
  {
    *(_DWORD *)a1 = dword_A969A38;
    for ( i = 0; i < 5; ++i )
    {
      *(_DWORD *)(a1 + 4 * i + 24) = 0;
      *(_DWORD *)(a1 + 4 * i + 4) = 0;
    }
    for ( j = dword_A969A38; j; j = *(_DWORD *)j )
    {
      if ( (*(_DWORD *)(j + 20) & 0xFFFF) < 0 || (*(_DWORD *)(j + 20) & 0xFFFF) >= 5 )
      {
        if ( sub_4EB280(ebx0, a2, 0, 0, 0, 0, "Bad memory block found at 0x%08X.\n", j) == 1 )
          __debugbreak();
      }
      else
      {
        ++*(_DWORD *)(a1 + 4 * (*(_DWORD *)(j + 20) & 0xFFFF) + 4);
        *(_DWORD *)(a1 + 4 * (*(_DWORD *)(j + 20) & 0xFFFF) + 24) += *(_DWORD *)(j + 16);
      }
    }
    *(_DWORD *)(a1 + 44) = dword_A969A40;
    result = a1;
    *(_DWORD *)(a1 + 48) = dword_A969A34;
  }
  else
  {
    if ( sub_4EB280(ebx0, a2, 0, 0, 0, 0, "%s", (unsigned int)"_CrtMemCheckPoint: NULL state pointer.\n") == 1 )
      __debugbreak();
    result = 0;
  }
  return result;
}
// A969A34: using guessed type int dword_A969A34;
// A969A38: using guessed type int dword_A969A38;
// A969A40: using guessed type int dword_A969A40;

//----- (004E6E60) --------------------------------------------------------
signed int __usercall sub_4E6E60<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4)
{
  signed int result; // eax@38
  int v5; // [sp+Ch] [bp-8h]@1
  int i; // [sp+10h] [bp-4h]@5

  v5 = 0;
  if ( sub_4EB280(a1, a3, 0, 0, 0, 0, "%s", (unsigned int)"Dumping objects ->\n") == 1 )
    __debugbreak();
  if ( a4 )
    v5 = *(_DWORD *)a4;
  for ( i = dword_A969A38; i && i != v5; i = *(_DWORD *)i )
  {
    if ( (*(_DWORD *)(i + 20) & 0xFFFF) != 3
      && *(_DWORD *)(i + 20) & 0xFFFF
      && ((*(_DWORD *)(i + 20) & 0xFFFF) != 2 || dword_5A1CF0 & 0x10) )
    {
      if ( *(_DWORD *)(i + 8) )
      {
        if ( sub_4E6A00(*(const void **)(i + 8), 1u, 0) )
        {
          if ( sub_4EB280(a1, a3, 0, 0, 0, 0, "%hs(%d) : ", *(_DWORD *)(i + 8)) == 1 )
            __debugbreak();
        }
        else
        {
          if ( sub_4EB280(a1, a3, 0, 0, 0, 0, "#File Error#(%d) : ", *(_DWORD *)(i + 12)) == 1 )
            __debugbreak();
        }
      }
      if ( sub_4EB280(a1, a3, 0, 0, 0, 0, "{%ld} ", *(_DWORD *)(i + 24)) == 1 )
        __debugbreak();
      if ( (*(_DWORD *)(i + 20) & 0xFFFF) == 4 )
      {
        if ( sub_4EB280(a1, a3, 0, 0, 0, 0, "client block at 0x%08X, subtype %x, %u bytes long.\n", i + 32) == 1 )
          __debugbreak();
        if ( dword_A96B540 )
          dword_A96B540(i + 32, *(_DWORD *)(i + 16));
        else
          sub_4E7110(a1, a2, a3, i);
      }
      else
      {
        if ( *(_DWORD *)(i + 20) == 1 )
        {
          if ( sub_4EB280(a1, a3, 0, 0, 0, 0, "normal block at 0x%08X, %u bytes long.\n", i + 32) == 1 )
            __debugbreak();
          sub_4E7110(a1, a2, a3, i);
        }
        else
        {
          if ( (*(_DWORD *)(i + 20) & 0xFFFF) == 2 )
          {
            if ( sub_4EB280(a1, a3, 0, 0, 0, 0, "crt block at 0x%08X, subtype %x, %u bytes long.\n", i + 32) == 1 )
              __debugbreak();
            sub_4E7110(a1, a2, a3, i);
          }
        }
      }
    }
  }
  result = sub_4EB280(a1, a3, 0, 0, 0, 0, "%s", (unsigned int)"Object dump complete.\n");
  if ( result == 1 )
    __debugbreak();
  return result;
}
// 5A1CF0: using guessed type int dword_5A1CF0;
// A969A38: using guessed type int dword_A969A38;
// A96B540: using guessed type int (__cdecl *dword_A96B540)(_DWORD, _DWORD);

//----- (004E7110) --------------------------------------------------------
signed int __usercall sub_4E7110<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4)
{
  signed int result; // eax@13
  char v5; // [sp+Ch] [bp-5Ch]@10
  int v6; // [sp+10h] [bp-58h]@7
  signed int v7; // [sp+14h] [bp-54h]@3
  char v8; // [sp+18h] [bp-50h]@6
  signed int i; // [sp+1Ch] [bp-4Ch]@1
  char v10[20]; // [sp+20h] [bp-48h]@12
  char v11[52]; // [sp+34h] [bp-34h]@12

  for ( i = 0; ; ++i )
  {
    v7 = *(_DWORD *)(a4 + 16) >= 16 ? 16 : *(_DWORD *)(a4 + 16);
    if ( i >= v7 )
      break;
    v8 = *(_BYTE *)(i + a4 + 32);
    if ( cbMultiByte <= 1 )
      v6 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * (unsigned __int8)v8) & 0x157;
    else
      v6 = sub_4F0440(a1, a2, a3, (unsigned __int8)v8, 343);
    if ( v6 )
      v5 = v8;
    else
      v5 = 32;
    v10[i] = v5;
    sub_4E3F40(a1, a3, (int)&v11[3 * i], "%.2X ");
  }
  v10[i] = 0;
  result = sub_4EB280(a1, a3, 0, 0, 0, 0, " Data: <%s> %s\n", (unsigned int)v10);
  if ( result == 1 )
    __debugbreak();
  return result;
}
// 5A21D8: using guessed type __int16 off_5A21D8[2];
// 4E7110: using guessed type char var_48[20];
// 4E7110: using guessed type char var_34[52];

//----- (004E7230) --------------------------------------------------------
signed int __usercall sub_4E7230<eax>(int a1<ebx>, int a2<edi>, int a3<esi>)
{
  signed int result; // eax@7
  char v4; // [sp+Ch] [bp-34h]@1
  int v5; // [sp+14h] [bp-2Ch]@2
  int v6; // [sp+18h] [bp-28h]@4
  int v7; // [sp+20h] [bp-20h]@1

  sub_4E6BD0(a1, a3, (int)&v4);
  if ( v7 || v5 || dword_5A1CF0 & 0x10 && v6 )
  {
    if ( sub_4EB280(a1, a3, 0, 0, 0, 0, "%s", (unsigned int)"Detected memory leaks!\n") == 1 )
      __debugbreak();
    sub_4E6E60(a1, a2, a3, 0);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 5A1CF0: using guessed type int dword_5A1CF0;

//----- (004E7380) --------------------------------------------------------
int __cdecl sub_4E7380(int (*a1)(void), int a2)
{
  return a1();
}

//----- (004E73C0) --------------------------------------------------------
#error "FFFFFFFF: positive sp value has been found (funcsize=0)"

//----- (004E73D0) --------------------------------------------------------
#error "FFFFFFFF: positive sp value has been found (funcsize=0)"

//----- (004E73E0) --------------------------------------------------------
#error "FFFFFFFF: positive sp value has been found (funcsize=0)"

//----- (004E73F0) --------------------------------------------------------
PEXCEPTION_RECORD __userpurge sub_4E73F0<eax>(int a1<eax>, PVOID TargetFrame, PEXCEPTION_RECORD ExceptionRecord)
{
  int v3; // ST1C_4@1
  PEXCEPTION_RECORD result; // eax@1

  v3 = a1;
  RtlUnwind(TargetFrame, loc_4E741C, ExceptionRecord, 0);
  result = ExceptionRecord;
  ExceptionRecord->ExceptionFlags &= 0xFFFFFFFDu;
  *(_DWORD *)v3 = ExceptionRecord;
  return result;
}
// 4E741C: using guessed type int __stdcall loc_4E741C(PVOID TargetFrame, PEXCEPTION_RECORD ExceptionRecord);

//----- (004E7450) --------------------------------------------------------
int __usercall sub_4E7450<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>, int a5, int a6, int a7, int a8)
{
  return sub_4F2A10(a2, a3, a4, a5, a6, a7, a8, a1, 0, 0, 0);
}

//----- (004E74C0) --------------------------------------------------------
void __usercall sub_4E74C0(int a1<edi>, int a2<esi>, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // ebp@0

  sub_4F3670(v7, a1, a2, a5, a3, a7);
}

//----- (004E7530) --------------------------------------------------------
int __usercall sub_4E7530<eax>(int ebx0<ebx>, int edi0<edi>, int esi0<esi>, void *a1, int a2, int a3)
{
  return sub_4F2A10(
           ebx0,
           edi0,
           esi0,
           (int)a1,
           *(_DWORD *)(a2 + 12),
           a3,
           0,
           *(_DWORD *)(a2 + 8),
           *(_DWORD *)(a2 + 16),
           a2,
           0);
}

//----- (004E7570) --------------------------------------------------------
int __usercall sub_4E7570<eax>(int a1<ebx>, int a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  int v9; // [sp+0h] [bp-40h]@1
  int v10; // [sp+Ch] [bp-34h]@1
  int v11; // [sp+10h] [bp-30h]@1
  int v12; // [sp+14h] [bp-2Ch]@1
  int v13; // [sp+18h] [bp-28h]@1
  int (__usercall *v14)<eax>(int<ebp>, int<ebx>, int<edi>, int<esi>); // [sp+1Ch] [bp-24h]@1
  int v15; // [sp+20h] [bp-20h]@1
  int v16; // [sp+24h] [bp-1Ch]@1
  int v17; // [sp+28h] [bp-18h]@1
  int v18; // [sp+2Ch] [bp-14h]@1
  int (__cdecl *v19)(int, int, int, int, int, int, int); // [sp+30h] [bp-10h]@1
  int *v20; // [sp+34h] [bp-Ch]@1
  int *v21; // [sp+38h] [bp-8h]@1
  int v22; // [sp+3Ch] [bp-4h]@1
  int v23; // [sp+40h] [bp+0h]@1

  v14 = sub_4E7640;
  v15 = a6;
  v16 = a3;
  v17 = a7;
  v18 = a8;
  v22 = 0;
  v19 = loc_4E760A;
  v20 = &v9;
  v21 = &v23;
  v13 = a8;
  v10 = 1;
  v11 = a2;
  v12 = a4;
  dword_A969AF0(*(_DWORD *)a2, &v11);
  v10 = 0;
  if ( v22 )
    *(_DWORD *)v13 = *(_DWORD *)a1;
  return v10;
}
// 4E760A: using guessed type int __cdecl loc_4E760A(int, int, int, int, int, int, int);
// A969AF0: using guessed type int (__cdecl *dword_A969AF0)(_DWORD, _DWORD);

//----- (004E7640) --------------------------------------------------------
int __usercall sub_4E7640<eax>(int a1<ebp>, int a2<ebx>, int a3<edi>, int a4<esi>)
{
  int result; // eax@2

  if ( *(_DWORD *)(*(_DWORD *)(a1 + 8) + 4) & 0x66 )
  {
    *(_DWORD *)(*(_DWORD *)(a1 + 12) + 36) = 1;
    result = 1;
  }
  else
  {
    sub_4F2A10(
      a2,
      a3,
      a4,
      *(_DWORD *)(a1 + 8),
      *(_DWORD *)(*(_DWORD *)(a1 + 12) + 12),
      *(_DWORD *)(a1 + 16),
      0,
      *(_DWORD *)(*(_DWORD *)(a1 + 12) + 8),
      *(_DWORD *)(*(_DWORD *)(a1 + 12) + 16),
      *(_DWORD *)(*(_DWORD *)(a1 + 12) + 20),
      1);
    if ( !*(_DWORD *)(*(_DWORD *)(a1 + 12) + 36) )
      sub_4E73F0(*(_DWORD *)(a1 + 12), *(PVOID *)(a1 + 12), *(PEXCEPTION_RECORD *)(a1 + 8));
    result = (*(int (**)(void))(*(_DWORD *)(a1 + 12) + 24))();
  }
  return result;
}

//----- (004E76D0) --------------------------------------------------------
int __cdecl sub_4E76D0(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // eax@1
  int v6; // esi@1
  int v7; // edi@1
  int v8; // ebx@1
  int v9; // eax@4
  int v10; // esi@10
  int v12; // [sp+Ch] [bp-4h]@1

  v5 = a1;
  v6 = *(_DWORD *)(a1 + 12);
  v12 = *(_DWORD *)(a1 + 16);
  v7 = *(_DWORD *)(a1 + 12);
  v8 = *(_DWORD *)(a1 + 12);
  if ( a2 >= 0 )
  {
    do
    {
      if ( v6 == -1 )
        sub_4F3770(v5, v8, v7, -1);
      --v6;
      v9 = v12 + 20 * v6;
      if ( *(_DWORD *)(v9 + 4) < a3 && a3 <= *(_DWORD *)(v9 + 8) || v6 == -1 )
      {
        v7 = v8;
        v8 = v6;
        --a2;
      }
      v5 = a2;
    }
    while ( a2 >= 0 );
    v5 = a1;
  }
  v10 = v6 + 1;
  *(_DWORD *)a4 = v10;
  *(_DWORD *)a5 = v7;
  if ( (unsigned int)v7 > *(_DWORD *)(v5 + 12) || v10 > (unsigned int)v7 )
    sub_4F3770(v5, v8, v7, v10);
  return v12 + 20 * v10;
}

//----- (004E7760) --------------------------------------------------------
void __cdecl sub_4E7760(PVOID TargetFrame)
{
  RtlUnwind(TargetFrame, loc_4E7778, 0, 0);
}
// 4E7778: using guessed type int __cdecl loc_4E7778(PVOID TargetFrame);

//----- (004E7780) --------------------------------------------------------
signed int __cdecl sub_4E7780(int a1, int a2, int a3, int a4)
{
  signed int result; // eax@1

  result = 1;
  if ( *(_DWORD *)(a1 + 4) & 6 )
  {
    *(_DWORD *)a4 = a2;
    result = 3;
  }
  return result;
}

//----- (004E77A2) --------------------------------------------------------
int __usercall sub_4E77A2<eax>(int a1<ebp>, int a2, int a3)
{
  int result; // eax@1
  int v4; // ebx@1
  int v5; // esi@1
  int v6; // esi@3

  while ( 1 )
  {
    result = a2;
    v4 = *(_DWORD *)(a2 + 8);
    v5 = *(_DWORD *)(a2 + 12);
    if ( v5 == -1 )
      break;
    if ( v5 == a3 )
      break;
    v6 = 3 * v5;
    *(_DWORD *)(a2 + 12) = *(_DWORD *)(v4 + 4 * v6);
    if ( !*(_DWORD *)(v4 + 4 * v6 + 4) )
    {
      sub_4E7836(*(_DWORD *)(v4 + 4 * v6 + 8), a1, 257);
      (*(void (**)(void))(v4 + 4 * v6 + 8))();
    }
  }
  return result;
}

//----- (004E780A) --------------------------------------------------------
signed int __thiscall sub_4E780A(int this)
{
  signed int result; // eax@1

  result = 0;
  if ( *(signed int (__cdecl **)(int, int, int, int))(this + 4) == sub_4E7780 )
  {
    if ( *(_DWORD *)(this + 8) == *(_DWORD *)(*(_DWORD *)(this + 12) + 12) )
      result = 1;
  }
  return result;
}

//----- (004E782D) --------------------------------------------------------
void __cdecl sub_4E782D()
{
  JUMPOUT(loc_4E7840);
}
// 4E7840: using guessed type int __stdcall loc_4E7840(int);

//----- (004E7836) --------------------------------------------------------
int __userpurge sub_4E7836<eax>(int result<eax>, int a2<ebp>, int a3)
{
  dword_5A1D14[2] = *(_DWORD *)(a2 + 8);
  dword_5A1D14[1] = result;
  dword_5A1D14[3] = a2;
  return result;
}

//----- (004E7850) --------------------------------------------------------
int __cdecl sub_4E7850(int a1, int a2, unsigned int a3)
{
  unsigned int v3; // ecx@1
  unsigned int v4; // ebx@2
  int v5; // esi@2
  int v6; // edi@2
  unsigned int v7; // ecx@3
  char v8; // al@5
  int v10; // ecx@16
  int v11; // eax@21
  int v12; // edx@21

  v3 = a3;
  if ( !a3 )
    return a1;
  v4 = a3;
  v5 = a2;
  v6 = a1;
  if ( !(a2 & 3) )
  {
    v7 = a3 >> 2;
    if ( a3 >> 2 )
      goto LABEL_21;
LABEL_10:
    while ( 1 )
    {
      v8 = *(_BYTE *)v5++;
      *(_BYTE *)v6++ = v8;
      if ( !v8 )
        break;
      --v4;
      if ( !v4 )
        return a1;
    }
    while ( 1 )
    {
      --v4;
      if ( !v4 )
        break;
LABEL_17:
      *(_BYTE *)v6++ = v8;
    }
    return a1;
  }
  do
  {
    v8 = *(_BYTE *)v5++;
    *(_BYTE *)v6++ = v8;
    --v3;
    if ( !v3 )
      return a1;
    if ( !v8 )
    {
      while ( v6 & 3 )
      {
        *(_BYTE *)v6++ = 0;
        --v3;
        if ( !v3 )
          return a1;
      }
      v4 = v3;
      v10 = v3 >> 2;
      if ( !v10 )
        goto LABEL_17;
      goto LABEL_31;
    }
  }
  while ( v5 & 3 );
  LOBYTE(v4) = v3;
  v7 = v3 >> 2;
  if ( !v7 )
  {
LABEL_9:
    v4 &= 3u;
    if ( v4 )
      goto LABEL_10;
    return a1;
  }
  while ( 1 )
  {
LABEL_21:
    v11 = (*(_DWORD *)v5 + 2130640639) ^ ~*(_DWORD *)v5;
    v12 = *(_DWORD *)v5;
    v5 += 4;
    if ( !(v11 & 0x81010100) )
      goto LABEL_20;
    if ( !(_BYTE)v12 )
      break;
    if ( !BYTE1(v12) )
    {
      *(_DWORD *)v6 = (unsigned __int8)v12;
      goto LABEL_30;
    }
    if ( !((unsigned int)&unk_FF0000 & v12) )
    {
      *(_DWORD *)v6 = (unsigned __int16)v12;
      goto LABEL_30;
    }
    if ( !(v12 & 0xFF000000) )
    {
      *(_DWORD *)v6 = v12;
      goto LABEL_30;
    }
LABEL_20:
    *(_DWORD *)v6 = v12;
    v6 += 4;
    --v7;
    if ( !v7 )
      goto LABEL_9;
  }
  *(_DWORD *)v6 = 0;
LABEL_30:
  v6 += 4;
  v8 = 0;
  v10 = v7 - 1;
  if ( v10 )
  {
LABEL_31:
    v8 = 0;
    do
    {
      *(_DWORD *)v6 = 0;
      v6 += 4;
      --v10;
    }
    while ( v10 );
  }
  v4 &= 3u;
  if ( v4 )
    goto LABEL_17;
  return a1;
}

//----- (004E7950) --------------------------------------------------------
signed int __cdecl sub_4E7950(int a1, int a2, signed int a3)
{
  signed int v3; // ecx@1
  int v4; // edi@2
  char v5; // zf@4
  int v6; // ecx@5
  int v7; // edi@5
  int v8; // esi@5
  unsigned __int8 v9; // al@8

  v3 = a3;
  if ( a3 )
  {
    v4 = a1;
    do
    {
      if ( !v3 )
        break;
      v5 = *(_BYTE *)v4++ == 0;
      --v3;
    }
    while ( !v5 );
    v6 = a3 - v3;
    v7 = a1;
    v8 = a2;
    do
    {
      if ( !v6 )
        break;
      v5 = *(_BYTE *)v8++ == *(_BYTE *)v7++;
      --v6;
    }
    while ( v5 );
    v9 = *(_BYTE *)(v8 - 1);
    v3 = 0;
    if ( v9 > *(_BYTE *)(v7 - 1) )
      return ~v3;
    if ( v9 != *(_BYTE *)(v7 - 1) )
    {
      v3 = -2;
      return ~v3;
    }
  }
  return v3;
}

//----- (004E7990) --------------------------------------------------------
int __usercall sub_4E7990<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, char *a5, char a6)
{
  char v7; // [sp+0h] [bp-14h]@0

  if ( !a4 && sub_4EB280(a1, a3, 2, (int)"fscanf.c", 54, 0, "stream != NULL", v7) == 1 )
    __debugbreak();
  if ( !a5 && sub_4EB280(a1, a3, 2, (int)"fscanf.c", 55, 0, "format != NULL", v7) == 1 )
    __debugbreak();
  return sub_4ED820(a1, a2, a3, a4, a5, (int)&a6);
}

//----- (004E7A20) --------------------------------------------------------
signed int __cdecl sub_4E7A20(signed int a1, int a2, DWORD nNumberOfBytesToRead)
{
  signed int result; // eax@3
  char Buffer; // [sp+4h] [bp-1Ch]@34
  int v5; // [sp+8h] [bp-18h]@4
  LPVOID lpBuffer; // [sp+Ch] [bp-14h]@4
  DWORD NumberOfBytesRead; // [sp+10h] [bp-10h]@10
  int v8; // [sp+14h] [bp-Ch]@21
  unsigned int v9; // [sp+18h] [bp-8h]@11
  unsigned int v10; // [sp+1Ch] [bp-4h]@21

  if ( a1 < uNumber && *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 1 )
  {
    v5 = 0;
    lpBuffer = (LPVOID)a2;
    if ( nNumberOfBytesToRead && !(*(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 2) )
    {
      if ( *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 0x48
        && *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 5) != 10 )
      {
        *(_BYTE *)lpBuffer++ = *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 5);
        ++v5;
        --nNumberOfBytesToRead;
        *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 5) = 10;
      }
      if ( ReadFile(
             *(HANDLE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F)),
             lpBuffer,
             nNumberOfBytesToRead,
             &NumberOfBytesRead,
             0) )
      {
        v5 += NumberOfBytesRead;
        if ( *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 0x80 )
        {
          if ( NumberOfBytesRead && *(_BYTE *)a2 == 10 )
            *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) |= 4u;
          else
            *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) &= 0xFBu;
          v8 = a2;
          v10 = a2;
          while ( v10 < v5 + a2 )
          {
            if ( *(_BYTE *)v10 == 26 )
            {
              if ( !(*(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 0x40) )
                *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) |= 2u;
              break;
            }
            if ( *(_BYTE *)v10 == 13 )
            {
              if ( v10 >= a2 + v5 - 1 )
              {
                ++v10;
                v9 = 0;
                if ( !ReadFile(
                        *(HANDLE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F)),
                        &Buffer,
                        1u,
                        &NumberOfBytesRead,
                        0) )
                  v9 = GetLastError();
                if ( !v9 && NumberOfBytesRead )
                {
                  if ( *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 0x48 )
                  {
                    if ( Buffer == 10 )
                    {
                      *(_BYTE *)v8++ = 10;
                    }
                    else
                    {
                      *(_BYTE *)v8++ = 13;
                      *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 5) = Buffer;
                    }
                  }
                  else
                  {
                    if ( v8 != a2 || Buffer != 10 )
                    {
                      sub_4F0500(a1, -1, 1u);
                      if ( Buffer != 10 )
                        *(_BYTE *)v8++ = 13;
                    }
                    else
                    {
                      *(_BYTE *)v8++ = 10;
                    }
                  }
                }
                else
                {
                  *(_BYTE *)v8++ = 13;
                }
              }
              else
              {
                if ( *(_BYTE *)(v10 + 1) == 10 )
                {
                  v10 += 2;
                  *(_BYTE *)v8++ = 10;
                }
                else
                {
                  *(_BYTE *)v8++ = *(_BYTE *)v10++;
                }
              }
            }
            else
            {
              *(_BYTE *)v8++ = *(_BYTE *)v10++;
            }
          }
          v5 = v8 - a2;
        }
        result = v5;
      }
      else
      {
        v9 = GetLastError();
        if ( v9 == 5 )
        {
          dword_A969A60 = 9;
          dword_A969A64 = 5;
          result = -1;
        }
        else
        {
          if ( v9 == 109 )
          {
            result = 0;
          }
          else
          {
            sub_4F3800(v9);
            result = -1;
          }
        }
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    dword_A969A60 = 9;
    dword_A969A64 = 0;
    result = -1;
  }
  return result;
}
// A969A60: using guessed type int dword_A969A60;
// A969A64: using guessed type int dword_A969A64;
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004E7E80) --------------------------------------------------------
signed int __cdecl sub_4E7E80(UINT a1)
{
  signed int result; // eax@3
  signed int v2; // esi@7
  void *v3; // eax@8
  unsigned int v4; // [sp+4h] [bp-4h]@9

  if ( a1 < uNumber && *(_BYTE *)(dword_A969DA0[(signed int)a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 1 )
  {
    if ( sub_4F3EB0(a1) == -1
      || (a1 == 1 || a1 == 2) && (v2 = sub_4F3EB0(1), v2 == sub_4F3EB0(2))
      || (v3 = (void *)sub_4F3EB0(a1), CloseHandle(v3)) )
      v4 = 0;
    else
      v4 = GetLastError();
    sub_4F3DE0(a1);
    *(_BYTE *)(dword_A969DA0[(signed int)a1 >> 5] + 8 * (a1 & 0x1F) + 4) = 0;
    if ( v4 )
    {
      sub_4F3800(v4);
      result = -1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    dword_A969A60 = 9;
    dword_A969A64 = 0;
    result = -1;
  }
  return result;
}
// A969A60: using guessed type int dword_A969A60;
// A969A64: using guessed type int dword_A969A64;
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004E7F70) --------------------------------------------------------
int __cdecl sub_4E7F70(signed int a1, signed int lpBuffer, DWORD nNumberOfBytesToWrite)
{
  int result; // eax@3
  int v4; // [sp+0h] [bp-420h]@4
  char v5; // [sp+4h] [bp-41Ch]@14
  DWORD NumberOfBytesWritten; // [sp+8h] [bp-418h]@17
  char Buffer; // [sp+Ch] [bp-414h]@11
  int v8; // [sp+410h] [bp-10h]@4
  unsigned int v9; // [sp+414h] [bp-Ch]@9
  char *i; // [sp+418h] [bp-8h]@11
  int v11; // [sp+41Ch] [bp-4h]@9

  if ( a1 < uNumber && *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 1 )
  {
    v8 = 0;
    v4 = 0;
    if ( nNumberOfBytesToWrite )
    {
      if ( *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 0x20 )
        sub_4F0500(a1, 0, 2u);
      if ( *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 0x80 )
      {
        v11 = lpBuffer;
        v9 = 0;
        while ( v11 - lpBuffer < nNumberOfBytesToWrite )
        {
          for ( i = &Buffer; (signed int)(i - &Buffer) < 1024 && v11 - lpBuffer < nNumberOfBytesToWrite; ++i )
          {
            v5 = *(_BYTE *)v11++;
            if ( v5 == 10 )
            {
              ++v4;
              *i++ = 13;
            }
            *i = v5;
          }
          if ( !WriteFile(
                  *(HANDLE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F)),
                  &Buffer,
                  i - &Buffer,
                  &NumberOfBytesWritten,
                  0) )
          {
            v9 = GetLastError();
            break;
          }
          v8 += NumberOfBytesWritten;
          if ( (signed int)NumberOfBytesWritten < (signed int)(i - &Buffer) )
            break;
        }
      }
      else
      {
        if ( WriteFile(
               *(HANDLE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F)),
               (LPCVOID)lpBuffer,
               nNumberOfBytesToWrite,
               &NumberOfBytesWritten,
               0) )
        {
          v9 = 0;
          v8 = NumberOfBytesWritten;
        }
        else
        {
          v9 = GetLastError();
        }
      }
      if ( v8 )
      {
        result = v8 - v4;
      }
      else
      {
        if ( v9 )
        {
          if ( v9 == 5 )
          {
            dword_A969A60 = 9;
            dword_A969A64 = 5;
          }
          else
          {
            sub_4F3800(v9);
          }
          result = -1;
        }
        else
        {
          if ( *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 0x40 && *(_BYTE *)lpBuffer == 26 )
          {
            result = 0;
          }
          else
          {
            dword_A969A60 = 28;
            dword_A969A64 = 0;
            result = -1;
          }
        }
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    dword_A969A60 = 9;
    dword_A969A64 = 0;
    result = -1;
  }
  return result;
}
// A969A60: using guessed type int dword_A969A60;
// A969A64: using guessed type int dword_A969A64;
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004E8220) --------------------------------------------------------
int __usercall sub_4E8220<eax>(int a1<ebx>, int a2<esi>, LPCSTR lpFileName, __int16 a4, int a5)
{
  return sub_4E8260(a1, a2, lpFileName, a4, 64, a5);
}

//----- (004E8260) --------------------------------------------------------
int __usercall sub_4E8260<eax>(int a1<ebx>, int a2<esi>, LPCSTR lpFileName, __int16 a4, int a5, int a6)
{
  DWORD v7; // ecx@47
  unsigned int v8; // eax@55
  unsigned int v9; // eax@57
  int v10; // [sp+0h] [bp-48h]@22
  int v11; // [sp+8h] [bp-40h]@9
  signed int lDistanceToMove; // [sp+Ch] [bp-3Ch]@65
  char v13; // [sp+10h] [bp-38h]@2
  char v14; // [sp+10h] [bp-38h]@62
  DWORD dwDesiredAccess; // [sp+14h] [bp-34h]@13
  int v16; // [sp+18h] [bp-30h]@69
  int v17; // [sp+1Ch] [bp-2Ch]@42
  DWORD dwFlagsAndAttributes; // [sp+20h] [bp-28h]@41
  struct _SECURITY_ATTRIBUTES SecurityAttributes; // [sp+24h] [bp-24h]@1
  DWORD dwCreationDisposition; // [sp+30h] [bp-18h]@35
  int v21; // [sp+34h] [bp-14h]@52
  int v22; // [sp+38h] [bp-10h]@42
  DWORD v23; // [sp+3Ch] [bp-Ch]@56
  DWORD dwShareMode; // [sp+40h] [bp-8h]@17
  HANDLE hHandle; // [sp+44h] [bp-4h]@54

  SecurityAttributes.nLength = 12;
  SecurityAttributes.lpSecurityDescriptor = 0;
  if ( a4 & 0x80 )
  {
    SecurityAttributes.bInheritHandle = 0;
    v13 = 16;
  }
  else
  {
    SecurityAttributes.bInheritHandle = 1;
    v13 = 0;
  }
  if ( !(a4 & 0x8000) )
  {
    if ( a4 & 0x4000 )
    {
      v13 |= 0x80u;
    }
    else
    {
      if ( dword_A969AF8 != 32768 )
        v13 |= 0x80u;
    }
  }
  v11 = a4 & 3;
  if ( a4 & 3 )
  {
    if ( v11 == 1 )
    {
      dwDesiredAccess = 1073741824;
    }
    else
    {
      if ( v11 != 2 )
      {
        dword_A969A60 = 22;
        dword_A969A64 = 0;
        return -1;
      }
      dwDesiredAccess = -1073741824;
    }
  }
  else
  {
    dwDesiredAccess = -2147483648;
  }
  switch ( a5 )
  {
    case 16:
      dwShareMode = 0;
      goto LABEL_22;
    case 32:
      dwShareMode = 1;
      goto LABEL_22;
    case 48:
      dwShareMode = 2;
      goto LABEL_22;
    case 64:
      dwShareMode = 3;
LABEL_22:
      v10 = a4 & 0x700;
      if ( v10 > 1024 )
      {
        if ( v10 != 1280 )
        {
          if ( v10 == 1536 )
            goto LABEL_38;
          if ( v10 != 1792 )
            goto LABEL_40;
        }
        dwCreationDisposition = 1;
        goto LABEL_41;
      }
      if ( v10 == 1024 )
      {
LABEL_35:
        dwCreationDisposition = 3;
        goto LABEL_41;
      }
      if ( v10 > 512 )
      {
        if ( v10 != 768 )
          goto LABEL_40;
        dwCreationDisposition = 2;
        goto LABEL_41;
      }
      if ( v10 == 512 )
      {
LABEL_38:
        dwCreationDisposition = 5;
        goto LABEL_41;
      }
      if ( !(a4 & 0x700) )
        goto LABEL_35;
      if ( v10 != 256 )
      {
LABEL_40:
        dword_A969A60 = 22;
        dword_A969A64 = 0;
        return -1;
      }
      dwCreationDisposition = 4;
LABEL_41:
      dwFlagsAndAttributes = 128;
      if ( a4 & 0x100 )
      {
        v22 = a6;
        v17 = 0;
        if ( !((unsigned __int8)~(_BYTE)dword_A969A68 & (unsigned __int8)a6 & 0x80) )
          dwFlagsAndAttributes = 1;
      }
      if ( a4 & 0x40 )
      {
        dwFlagsAndAttributes |= (unsigned int)&unk_4000000;
        dwDesiredAccess |= 0x10000u;
      }
      if ( a4 & 0x1000 )
      {
        v7 = dwFlagsAndAttributes;
        BYTE1(v7) |= 1u;
        dwFlagsAndAttributes = v7;
      }
      if ( a4 & 0x20 )
      {
        dwFlagsAndAttributes |= (unsigned int)&unk_8000000;
      }
      else
      {
        if ( a4 & 0x10 )
          dwFlagsAndAttributes |= 0x10000000u;
      }
      v21 = sub_4F3C00(a1, a2);
      if ( v21 == -1 )
      {
        dword_A969A60 = 24;
        dword_A969A64 = 0;
        return -1;
      }
      hHandle = CreateFileA(
                  lpFileName,
                  dwDesiredAccess,
                  dwShareMode,
                  &SecurityAttributes,
                  dwCreationDisposition,
                  dwFlagsAndAttributes,
                  0);
      if ( hHandle == (HANDLE)-1 )
      {
        v8 = GetLastError();
        sub_4F3800(v8);
        return -1;
      }
      v23 = GetFileType(hHandle);
      if ( !v23 )
      {
        CloseHandle(hHandle);
        v9 = GetLastError();
        sub_4F3800(v9);
        return -1;
      }
      if ( v23 == 2 )
      {
        v13 |= 0x40u;
      }
      else
      {
        if ( v23 == 3 )
          v13 |= 8u;
      }
      sub_4F3D30(v21, hHandle);
      v14 = v13 | 1;
      *(_BYTE *)(dword_A969DA0[v21 >> 5] + 8 * (v21 & 0x1F) + 4) = v14;
      if ( !(v14 & 0x48) && v14 & 0x80 && a4 & 2 )
      {
        lDistanceToMove = sub_4F0500(v21, -1, 2u);
        if ( lDistanceToMove == -1 )
        {
          if ( dword_A969A64 != 131 )
          {
            sub_4E7E80(v21);
            return -1;
          }
        }
        else
        {
          LOBYTE(v16) = 0;
          if ( !sub_4E7A20(v21, (int)&v16, 1u) && (char)v16 == 26 && sub_4F4000(a1, a2, v21, lDistanceToMove) == -1 )
          {
            sub_4E7E80(v21);
            return -1;
          }
          if ( sub_4F0500(v21, 0, 0) == -1 )
          {
            sub_4E7E80(v21);
            return -1;
          }
        }
      }
      if ( !(v14 & 0x48) )
      {
        if ( a4 & 8 )
          *(_BYTE *)(dword_A969DA0[v21 >> 5] + 8 * (v21 & 0x1F) + 4) |= 0x20u;
      }
      return v21;
    default:
      dword_A969A60 = 22;
      dword_A969A64 = 0;
      return -1;
  }
}
// A969A60: using guessed type int dword_A969A60;
// A969A64: using guessed type int dword_A969A64;
// A969A68: using guessed type int dword_A969A68;
// A969AF8: using guessed type int dword_A969AF8;
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004E8750) --------------------------------------------------------
unsigned __int64 __stdcall sub_4E8750(__int64 a1, __int64 a2)
{
  unsigned __int64 result; // qax@2

  if ( HIDWORD(a1) | HIDWORD(a2) )
    result = a2 * a1;
  else
    result = (unsigned int)a2 * (unsigned __int64)(unsigned int)a1;
  return result;
}

//----- (004E8790) --------------------------------------------------------
signed int __usercall sub_4E8790<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, LPCSTR lpFileName, int a5)
{
  signed int result; // eax@6
  HANDLE v6; // [sp+4h] [bp-148h]@1
  struct _WIN32_FIND_DATAA FindFileData; // [sp+8h] [bp-144h]@1
  DWORD v8; // [sp+148h] [bp-4h]@2

  v6 = FindFirstFileA(lpFileName, &FindFileData);
  if ( v6 == (HANDLE)-1 )
  {
    v8 = GetLastError();
    switch ( v8 )
    {
      case 2u:
      case 3u:
      case 0x12u:
        dword_A969A60 = 2;
        break;
      case 8u:
        dword_A969A60 = 12;
        break;
      default:
        dword_A969A60 = 22;
        break;
    }
    result = -1;
  }
  else
  {
    *(_DWORD *)a5 = FindFileData.dwFileAttributes != 128 ? FindFileData.dwFileAttributes : 0;
    *(_DWORD *)(a5 + 4) = sub_4E8A30(a1, a2, a3, &FindFileData.ftCreationTime);
    *(_DWORD *)(a5 + 8) = sub_4E8A30(a1, a2, a3, &FindFileData.ftLastAccessTime);
    *(_DWORD *)(a5 + 12) = sub_4E8A30(a1, a2, a3, &FindFileData.ftLastWriteTime);
    *(_DWORD *)(a5 + 16) = FindFileData.nFileSizeLow;
    sub_4E4720(a5 + 20);
    result = (signed int)v6;
  }
  return result;
}
// A969A60: using guessed type int dword_A969A60;

//----- (004E88D0) --------------------------------------------------------
signed int __usercall sub_4E88D0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, HANDLE hFindFile, int a5)
{
  signed int result; // eax@6
  struct _WIN32_FIND_DATAA FindFileData; // [sp+4h] [bp-144h]@1
  DWORD v7; // [sp+144h] [bp-4h]@2

  if ( FindNextFileA(hFindFile, &FindFileData) )
  {
    *(_DWORD *)a5 = FindFileData.dwFileAttributes != 128 ? FindFileData.dwFileAttributes : 0;
    *(_DWORD *)(a5 + 4) = sub_4E8A30(a1, a2, a3, &FindFileData.ftCreationTime);
    *(_DWORD *)(a5 + 8) = sub_4E8A30(a1, a2, a3, &FindFileData.ftLastAccessTime);
    *(_DWORD *)(a5 + 12) = sub_4E8A30(a1, a2, a3, &FindFileData.ftLastWriteTime);
    *(_DWORD *)(a5 + 16) = FindFileData.nFileSizeLow;
    sub_4E4720(a5 + 20);
    result = 0;
  }
  else
  {
    v7 = GetLastError();
    switch ( v7 )
    {
      case 2u:
      case 3u:
      case 0x12u:
        dword_A969A60 = 2;
        break;
      case 8u:
        dword_A969A60 = 12;
        break;
      default:
        dword_A969A60 = 22;
        break;
    }
    result = -1;
  }
  return result;
}
// A969A60: using guessed type int dword_A969A60;

//----- (004E8A00) --------------------------------------------------------
signed int __cdecl sub_4E8A00(HANDLE hFindFile)
{
  signed int result; // eax@2

  if ( FindClose(hFindFile) )
  {
    result = 0;
  }
  else
  {
    dword_A969A60 = 22;
    result = -1;
  }
  return result;
}
// A969A60: using guessed type int dword_A969A60;

//----- (004E8A30) --------------------------------------------------------
signed int __usercall sub_4E8A30<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, const FILETIME *lpFileTime)
{
  signed int result; // eax@3
  struct _SYSTEMTIME SystemTime; // [sp+0h] [bp-18h]@5
  struct _FILETIME LocalFileTime; // [sp+10h] [bp-8h]@4

  if ( lpFileTime->dwLowDateTime || lpFileTime->dwHighDateTime )
  {
    if ( FileTimeToLocalFileTime(lpFileTime, &LocalFileTime) && FileTimeToSystemTime(&LocalFileTime, &SystemTime) )
      result = sub_4F4270(
                 a1,
                 a2,
                 a3,
                 SystemTime.wYear,
                 SystemTime.wMonth,
                 SystemTime.wDay,
                 SystemTime.wHour,
                 SystemTime.wMinute,
                 SystemTime.wSecond,
                 -1);
    else
      result = -1;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (004E8AC0) --------------------------------------------------------
int __usercall sub_4E8AC0<eax>(int a1<ebx>, int a2<esi>, int a3, char a4)
{
  int v4; // ST28_4@4
  int v5; // ST24_4@4
  char v7; // [sp+0h] [bp-18h]@0

  if ( !a3 && sub_4EB280(a1, a2, 2, (int)"printf.c", 54, 0, "format != NULL", v7) == 1 )
    __debugbreak();
  v4 = sub_4F05F0(a1, a2, (int)&unk_5A1E40);
  v5 = sub_4EC8E0(a1, a2, (int)&unk_5A1E40, a3, (int)&a4);
  sub_4F0750(a1, a2, v4, (int)&unk_5A1E40);
  return v5;
}

//----- (004E8B40) --------------------------------------------------------
int __usercall sub_4E8B40<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@2
  int v5; // [sp+0h] [bp-4h]@2

  if ( sub_4E6360(a1, a2, dword_A96B528, 2) < (unsigned int)(dword_A96B524 - dword_A96B528 + 4) )
  {
    v3 = sub_4E6360(a1, a2, dword_A96B528, 2);
    v5 = sub_4E5990(a1, a2, dword_A96B528, v3 + 16, 2, (int)"onexit.c", 104);
    if ( !v5 )
      return 0;
    dword_A96B524 = v5 + 4 * ((dword_A96B524 - dword_A96B528) >> 2);
    dword_A96B528 = v5;
  }
  *(_DWORD *)dword_A96B524 = a3;
  dword_A96B524 += 4;
  return a3;
}
// A96B524: using guessed type int dword_A96B524;
// A96B528: using guessed type int dword_A96B528;

//----- (004E8BF0) --------------------------------------------------------
int __usercall sub_4E8BF0<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  return (sub_4E8B40(a1, a2, a3) != 0) - 1;
}

//----- (004E8C10) --------------------------------------------------------
int __usercall sub_4E8C10<eax>(int a1<ebx>, int a2<esi>)
{
  int result; // eax@3

  dword_A96B528 = sub_4E5510(a1, a2, 0x80u, 2, (int)"onexit.c", 182);
  if ( !dword_A96B528 )
    sub_4EC600(a1, a2, 24);
  result = dword_A96B528;
  *(_DWORD *)dword_A96B528 = 0;
  dword_A96B524 = dword_A96B528;
  return result;
}
// A96B524: using guessed type int dword_A96B524;
// A96B528: using guessed type int dword_A96B528;

//----- (004E8C60) --------------------------------------------------------
int __cdecl sub_4E8C60(int a1, int a2, int a3, void (__thiscall *a4)(_DWORD))
{
  int v4; // ebp@0
  int i; // [sp+4h] [bp-1Ch]@1

  for ( i = 0; i < a3; ++i )
  {
    a4(a1);
    a1 += a2;
  }
  return sub_4E8CD1(v4);
}

//----- (004E8CD1) --------------------------------------------------------
int __usercall sub_4E8CD1<eax>(int a1<ebp>)
{
  int result; // eax@2

  if ( !*(_DWORD *)(a1 - 32) )
    result = sub_4E8DB0(
               *(_DWORD *)(a1 + 8),
               *(_DWORD *)(a1 + 8),
               *(_DWORD *)(a1 + 12),
               *(_DWORD *)(a1 - 28),
               *(void (__thiscall **)(_DWORD))(a1 + 24));
  return result;
}

//----- (004E8D00) --------------------------------------------------------
int __cdecl sub_4E8D00(int a1, int a2, int a3, void (__thiscall *a4)(_DWORD))
{
  int v4; // ebp@0
  int i; // [sp+24h] [bp+8h]@1

  for ( i = a3 * a2 + a1; ; a4(i) )
  {
    --a3;
    if ( a3 < 0 )
      break;
    i -= a2;
  }
  return sub_4E8D75(v4);
}

//----- (004E8D75) --------------------------------------------------------
int __usercall sub_4E8D75<eax>(int a1<ebp>)
{
  int result; // eax@2

  if ( !*(_DWORD *)(a1 - 28) )
    result = sub_4E8DB0(
               *(_DWORD *)(a1 + 12),
               *(_DWORD *)(a1 + 8),
               *(_DWORD *)(a1 + 12),
               *(_DWORD *)(a1 + 16),
               *(void (__thiscall **)(_DWORD))(a1 + 20));
  return result;
}

//----- (004E8DB0) --------------------------------------------------------
int __userpurge sub_4E8DB0<eax>(int a1<eax>, int a2, int a3, int a4, void (__thiscall *a5)(_DWORD))
{
  int result; // eax@2
  int v6; // [sp-Ch] [bp-24h]@1
  int *v7; // [sp+0h] [bp-18h]@1
  int v8; // [sp+8h] [bp-10h]@1
  signed int (__usercall *v9)<eax>(int<ebp>); // [sp+Ch] [bp-Ch]@1
  _UNKNOWN *v10; // [sp+10h] [bp-8h]@1
  int v11; // [sp+14h] [bp-4h]@1

  v10 = &unk_591110;
  v9 = sub_4F4368;
  v8 = a1;
  v7 = &v6;
  v11 = 0;
  while ( 1 )
  {
    result = a4-- - 1;
    if ( a4 < 0 )
      break;
    a2 -= a3;
    a5(a2);
  }
  return result;
}

//----- (004E8E30) --------------------------------------------------------
int __usercall sub_4E8E30<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4)
{
  if ( **(_DWORD **)a4 == -529697949 )
    sub_4F36C0(-529697949, a1, a2, a3);
  return 0;
}

//----- (004E8E60) --------------------------------------------------------
LPCSTR __usercall sub_4E8E60<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, LPCSTR lpMultiByteStr)
{
  LPCSTR result; // eax@8
  LPCSTR i; // [sp+0h] [bp-Ch]@2
  int lpDestStr; // [sp+4h] [bp-8h]@1
  int cchDest; // [sp+8h] [bp-4h]@9

  lpDestStr = 0;
  if ( dword_A969B08 )
  {
    cchDest = sub_4F4440(dword_A969B08, a1, a2, a3, dword_A969B08, 0x200u, lpMultiByteStr, -1, 0, 0, 0, 1);
    if ( cchDest )
    {
      lpDestStr = sub_4E5510(a1, a3, cchDest, 2, (int)"strupr.c", 98);
      if ( lpDestStr )
      {
        if ( sub_4F4440(
               lpDestStr,
               a1,
               a2,
               a3,
               dword_A969B08,
               0x200u,
               lpMultiByteStr,
               -1,
               (LPSTR)lpDestStr,
               cchDest,
               0,
               1) )
          sub_4E4720((int)lpMultiByteStr);
      }
    }
    sub_4E5F50(a1, a3, lpDestStr, 2);
    result = lpMultiByteStr;
  }
  else
  {
    for ( i = lpMultiByteStr; *i; ++i )
    {
      if ( *i >= 97 )
      {
        if ( *i <= 122 )
          *i -= 32;
      }
    }
    result = lpMultiByteStr;
  }
  return result;
}

//----- (004E8F60) --------------------------------------------------------
int __usercall sub_4E8F60<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int *a4)
{
  int result; // eax@2
  int v5; // [sp+0h] [bp-8h]@5
  int v6; // [sp+4h] [bp-4h]@5

  if ( *a4 >= 0 )
  {
    sub_4F47A0(a1, a2, a3);
    if ( *a4 <= 259200 || *a4 >= 2147224447 )
    {
      v5 = (int)sub_4F5050(a4);
      if ( sub_4F4B50(v5) )
        v6 = *(_DWORD *)v5 - (dword_5A2580 + dword_5A2578);
      else
        v6 = *(_DWORD *)v5 - dword_5A2578;
      *(_DWORD *)v5 = v6 % 60;
      if ( *(_DWORD *)v5 < 0 )
      {
        *(_DWORD *)v5 += 60;
        v6 -= 60;
      }
      v6 = v6 / 60 + *(_DWORD *)(v5 + 4);
      *(_DWORD *)(v5 + 4) = v6 % 60;
      if ( *(_DWORD *)(v5 + 4) < 0 )
      {
        *(_DWORD *)(v5 + 4) += 60;
        v6 -= 60;
      }
      v6 = v6 / 60 + *(_DWORD *)(v5 + 8);
      *(_DWORD *)(v5 + 8) = v6 % 24;
      if ( *(_DWORD *)(v5 + 8) < 0 )
      {
        *(_DWORD *)(v5 + 8) += 24;
        v6 -= 24;
      }
      v6 /= 24;
      if ( v6 <= 0 )
      {
        if ( v6 < 0 )
        {
          *(_DWORD *)(v5 + 24) = (*(_DWORD *)(v5 + 24) + v6 + 7) % 7;
          *(_DWORD *)(v5 + 12) += v6;
          if ( *(_DWORD *)(v5 + 12) > 0 )
          {
            *(_DWORD *)(v5 + 28) += v6;
          }
          else
          {
            *(_DWORD *)(v5 + 12) += 31;
            *(_DWORD *)(v5 + 28) = 364;
            *(_DWORD *)(v5 + 16) = 11;
            --*(_DWORD *)(v5 + 20);
          }
        }
      }
      else
      {
        *(_DWORD *)(v5 + 24) = (v6 + *(_DWORD *)(v5 + 24)) % 7;
        *(_DWORD *)(v5 + 12) += v6;
        *(_DWORD *)(v5 + 28) += v6;
      }
    }
    else
    {
      v6 = *a4 - dword_5A2578;
      v5 = (int)sub_4F5050(&v6);
      if ( dword_5A257C )
      {
        if ( sub_4F4B50(v5) )
        {
          v6 -= dword_5A2580;
          v5 = (int)sub_4F5050(&v6);
          *(_DWORD *)(v5 + 32) = 1;
        }
      }
    }
    result = v5;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 5A2578: using guessed type int dword_5A2578;
// 5A257C: using guessed type int dword_5A257C;
// 5A2580: using guessed type int dword_5A2580;

//----- (004E91C0) --------------------------------------------------------
int __usercall sub_4E91C0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4)
{
  int v5; // [sp+0h] [bp-D8h]@6
  DWORD v6; // [sp+4h] [bp-D4h]@7
  struct _TIME_ZONE_INFORMATION TimeZoneInformation; // [sp+8h] [bp-D0h]@7
  struct _SYSTEMTIME SystemTime; // [sp+B4h] [bp-24h]@1
  int v9; // [sp+C4h] [bp-14h]@16
  int v10; // [sp+C8h] [bp-10h]@1
  __int64 v11; // [sp+CCh] [bp-Ch]@1
  int v12; // [sp+D4h] [bp-4h]@15

  GetLocalTime(&SystemTime);
  GetSystemTime((LPSYSTEMTIME)&v10);
  if ( WORD3(v11) != WORD3(qword_A969A54)
    || WORD2(v11) != WORD2(qword_A969A54)
    || WORD1(v11) != WORD1(qword_A969A54)
    || HIWORD(v10) != HIWORD(dword_A969A50)
    || (unsigned __int16)v10 != (unsigned __int16)dword_A969A50 )
  {
    v6 = GetTimeZoneInformation(&TimeZoneInformation);
    if ( v6 == -1 )
      v5 = -1;
    else
      v5 = v6 == 2 && TimeZoneInformation.DaylightDate.wMonth && TimeZoneInformation.DaylightBias;
    dword_A969A48 = v5;
    dword_A969A50 = v10;
    qword_A969A54 = v11;
    dword_A969A5C = v12;
  }
  else
  {
    v5 = dword_A969A48;
  }
  v9 = sub_4F4270(
         a1,
         a2,
         a3,
         SystemTime.wYear,
         SystemTime.wMonth,
         SystemTime.wDay,
         SystemTime.wHour,
         SystemTime.wMinute,
         SystemTime.wSecond,
         v5);
  if ( a4 )
    *(_DWORD *)a4 = v9;
  return v9;
}
// A969A48: using guessed type int dword_A969A48;
// A969A50: using guessed type int dword_A969A50;
// A969A54: using guessed type __int64 qword_A969A54;
// A969A5C: using guessed type int dword_A969A5C;

//----- (004E9350) --------------------------------------------------------
int __cdecl sub_4E9350(int a1, int a2, unsigned int a3)
{
  int result; // eax@1
  int v4; // esi@2
  int v5; // edi@2
  unsigned __int8 v6; // cf@4
  unsigned __int8 v7; // cl@7
  unsigned __int8 v8; // dl@7
  char v9; // zf@10
  unsigned int v10; // ecx@10
  unsigned int v11; // ecx@14
  unsigned int v12; // edx@14
  unsigned int v13; // ecx@16
  unsigned int v14; // edx@16
  int v15; // edx@20
  int v16; // ecx@20
  unsigned int v17; // ecx@24
  unsigned int v18; // edx@24

  result = a3;
  if ( !a3 )
    return result;
  v4 = a1;
  v5 = a2;
  if ( !(((unsigned __int8)a2 | (unsigned __int8)a1) & 3) )
  {
    result = a3 & 3;
    v10 = a3 >> 2;
    v9 = a3 >> 2 == 0;
    if ( !(a3 >> 2) )
      goto LABEL_28;
    do
    {
      if ( !v10 )
        break;
      v9 = *(_DWORD *)v4 == *(_DWORD *)v5;
      v4 += 4;
      v5 += 4;
      --v10;
    }
    while ( v9 );
    if ( v9 )
    {
LABEL_28:
      if ( !result )
        return result;
      v15 = *(_DWORD *)v4;
      v16 = *(_DWORD *)v5;
      v6 = (unsigned __int8)*(_DWORD *)v4 < (unsigned __int8)*(_DWORD *)v5;
      if ( (unsigned __int8)*(_DWORD *)v4 == (unsigned __int8)*(_DWORD *)v5 )
      {
        --result;
        if ( !result )
          return result;
        v6 = BYTE1(v15) < BYTE1(v16);
        if ( BYTE1(v15) == BYTE1(v16) )
        {
          --result;
          if ( !result )
            return result;
          v17 = (unsigned int)&unk_FF0000 & v16;
          v18 = (unsigned int)&unk_FF0000 & v15;
          v6 = v18 < v17;
          if ( v18 == v17 )
          {
            --result;
            return result;
          }
        }
      }
    }
    else
    {
      v11 = *(_DWORD *)(v4 - 4);
      v12 = *(_DWORD *)(v5 - 4);
      v6 = (unsigned __int8)v11 < (unsigned __int8)v12;
      if ( (_BYTE)v11 == (_BYTE)v12 )
      {
        v6 = BYTE1(v11) < BYTE1(v12);
        if ( BYTE1(v11) == BYTE1(v12) )
        {
          v13 = v11 >> 16;
          v14 = v12 >> 16;
          v6 = (unsigned __int8)v13 < (unsigned __int8)v14;
          if ( (_BYTE)v13 == (_BYTE)v14 )
            v6 = BYTE1(v13) < BYTE1(v14);
        }
      }
    }
    return -v6 - (v6 - 1);
  }
  if ( !(a3 & 1) )
  {
LABEL_6:
    while ( 1 )
    {
      v6 = *(_BYTE *)v4 < *(_BYTE *)v5;
      if ( *(_BYTE *)v4 != *(_BYTE *)v5 )
        break;
      v7 = *(_BYTE *)(v4 + 1);
      v8 = *(_BYTE *)(v5 + 1);
      v6 = v7 < v8;
      if ( v7 != v8 )
        break;
      v5 += 2;
      v4 += 2;
      result -= 2;
      if ( !result )
        return result;
    }
    return -v6 - (v6 - 1);
  }
  v6 = *(_BYTE *)a1 < *(_BYTE *)a2;
  if ( *(_BYTE *)a1 != *(_BYTE *)a2 )
    return -v6 - (v6 - 1);
  v4 = a1 + 1;
  v5 = a2 + 1;
  result = a3 - 1;
  if ( a3 != 1 )
    goto LABEL_6;
  return result;
}

//----- (004E99D0) --------------------------------------------------------
int __usercall sub_4E99D0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, unsigned int a5, int a6, int a7)
{
  return sub_4E99F0(a1, a2, a3, a4, a5, a6, a7, 0);
}

//----- (004E99F0) --------------------------------------------------------
int __usercall sub_4E99F0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, unsigned int a5, int a6, int a7, char *(*a8)[43])
{
  int result; // eax@19
  char *(*v9)[43]; // [sp+4h] [bp-Ch]@2
  unsigned int v10; // [sp+8h] [bp-8h]@4
  int v11; // [sp+Ch] [bp-4h]@4

  if ( a8 )
    v9 = a8;
  else
    v9 = off_5A1D30;
  v11 = (int)v9;
  v10 = a5;
  while ( v10 && *(_BYTE *)a6 )
  {
    if ( *(_BYTE *)a6 == 37 )
    {
      ++a6;
      dword_A96B52C = 0;
      if ( *(_BYTE *)a6 == 35 )
      {
        dword_A96B52C = 1;
        ++a6;
      }
      sub_4E9B30(a1, a2, a3, *(_BYTE *)a6++, a7, (unsigned int *)&a4, (int)&v10, v11);
    }
    else
    {
      if ( *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * *(_BYTE *)a6) & 0x8000 )
      {
        if ( v10 > 1 )
        {
          *(_BYTE *)a4++ = *(_BYTE *)a6++;
          --v10;
        }
      }
      *(_BYTE *)a4++ = *(_BYTE *)a6++;
      --v10;
    }
  }
  if ( v10 )
  {
    *(_BYTE *)a4 = 0;
    result = a5 - v10;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 5A1D30: using guessed type char *(*off_5A1D30)[43];
// 5A21D8: using guessed type __int16 off_5A21D8[2];
// A96B52C: using guessed type int dword_A96B52C;

//----- (004E9B30) --------------------------------------------------------
int __usercall sub_4E9B30<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, char a4, int a5, unsigned int *a6, int a7, int a8)
{
  int result; // eax@1
  int v9; // [sp+8h] [bp-8h]@25
  int v10; // [sp+Ch] [bp-4h]@14
  int v11; // [sp+Ch] [bp-4h]@31

  result = a4 - 37;
  switch ( a4 )
  {
    case 97:
      result = sub_4EA150(*(_DWORD *)(a8 + 4 * *(_DWORD *)(a5 + 24)), (int)a6, a7);
      break;
    case 65:
      result = sub_4EA150(*(_DWORD *)(a8 + 4 * *(_DWORD *)(a5 + 24) + 28), (int)a6, a7);
      break;
    case 98:
      result = sub_4EA150(*(_DWORD *)(a8 + 4 * *(_DWORD *)(a5 + 16) + 56), (int)a6, a7);
      break;
    case 66:
      result = sub_4EA150(*(_DWORD *)(a8 + 4 * *(_DWORD *)(a5 + 16) + 104), (int)a6, a7);
      break;
    case 99:
      if ( dword_A96B52C )
      {
        dword_A96B52C = 0;
        result = sub_4EA300(a1, a2, a3, *(_DWORD *)(a8 + 164), a5, (int)a6, a7, a8);
        if ( *(_DWORD *)a7 )
        {
          *(_BYTE *)(*a6)++ = 32;
          --*(_DWORD *)a7;
          result = sub_4EA300(a1, a2, a3, *(_DWORD *)(a8 + 168), a5, (int)a6, a7, a8);
        }
      }
      else
      {
        result = sub_4EA300(a1, a2, a3, *(_DWORD *)(a8 + 160), a5, (int)a6, a7, a8);
        if ( *(_DWORD *)a7 )
        {
          *(_BYTE *)(*a6)++ = 32;
          --*(_DWORD *)a7;
          result = sub_4EA300(a1, a2, a3, *(_DWORD *)(a8 + 168), a5, (int)a6, a7, a8);
        }
      }
      break;
    case 100:
      dword_A96B53C = dword_A96B52C;
      result = sub_4EA1A0(*(_DWORD *)(a5 + 12), 2u, a6, a7);
      break;
    case 72:
      dword_A96B53C = dword_A96B52C;
      result = sub_4EA1A0(*(_DWORD *)(a5 + 8), 2u, a6, a7);
      break;
    case 73:
      dword_A96B53C = dword_A96B52C;
      v10 = *(_DWORD *)(a5 + 8) % 12;
      if ( !v10 )
        v10 = 12;
      result = sub_4EA1A0(v10, 2u, a6, a7);
      break;
    case 106:
      dword_A96B53C = dword_A96B52C;
      result = sub_4EA1A0(*(_DWORD *)(a5 + 28) + 1, 3u, a6, a7);
      break;
    case 109:
      dword_A96B53C = dword_A96B52C;
      result = sub_4EA1A0(*(_DWORD *)(a5 + 16) + 1, 2u, a6, a7);
      break;
    case 77:
      dword_A96B53C = dword_A96B52C;
      result = sub_4EA1A0(*(_DWORD *)(a5 + 4), 2u, a6, a7);
      break;
    case 112:
      if ( *(_DWORD *)(a5 + 8) > 11 )
        result = sub_4EA150(*(_DWORD *)(a8 + 156), (int)a6, a7);
      else
        result = sub_4EA150(*(_DWORD *)(a8 + 152), (int)a6, a7);
      break;
    case 83:
      dword_A96B53C = dword_A96B52C;
      result = sub_4EA1A0(*(_DWORD *)a5, 2u, a6, a7);
      break;
    case 85:
      dword_A96B53C = dword_A96B52C;
      v9 = *(_DWORD *)(a5 + 24);
      goto LABEL_30;
    case 119:
      dword_A96B53C = dword_A96B52C;
      result = sub_4EA1A0(*(_DWORD *)(a5 + 24), 1u, a6, a7);
      break;
    case 87:
      dword_A96B53C = dword_A96B52C;
      if ( *(_DWORD *)(a5 + 24) )
        v9 = *(_DWORD *)(a5 + 24) - 1;
      else
        v9 = 6;
LABEL_30:
      if ( *(_DWORD *)(a5 + 28) >= v9 )
      {
        v11 = *(_DWORD *)(a5 + 28) / 7;
        if ( *(_DWORD *)(a5 + 28) % 7 >= v9 )
          ++v11;
      }
      else
      {
        v11 = 0;
      }
      result = sub_4EA1A0(v11, 2u, a6, a7);
      break;
    case 120:
      if ( dword_A96B52C )
      {
        dword_A96B52C = 0;
        result = sub_4EA300(a1, a2, a3, *(_DWORD *)(a8 + 164), a5, (int)a6, a7, a8);
      }
      else
      {
        result = sub_4EA300(a1, a2, a3, *(_DWORD *)(a8 + 160), a5, (int)a6, a7, a8);
      }
      break;
    case 88:
      dword_A96B52C = 0;
      result = sub_4EA300(a1, a2, a3, *(_DWORD *)(a8 + 168), a5, (int)a6, a7, a8);
      break;
    case 121:
      dword_A96B53C = dword_A96B52C;
      result = sub_4EA1A0(*(_DWORD *)(a5 + 20) % 100, 2u, a6, a7);
      break;
    case 89:
      dword_A96B53C = dword_A96B52C;
      result = sub_4EA1A0(*(_DWORD *)(a5 + 20) % 100 + 100 * (*(_DWORD *)(a5 + 20) / 100 + 19), 4u, a6, a7);
      break;
    case 90:
    case 122:
      sub_4F47A0(a1, a2, a3);
      result = sub_4EA150((int)(&lpMultiByteStr)[4 * (*(_DWORD *)(a5 + 32) != 0)], (int)a6, a7);
      break;
    case 37:
      *(_BYTE *)(*a6)++ = 37;
      result = a7;
      --*(_DWORD *)a7;
      break;
    default:
      return result;
  }
  return result;
}
// A96B52C: using guessed type int dword_A96B52C;
// A96B53C: using guessed type int dword_A96B53C;

//----- (004EA150) --------------------------------------------------------
int __cdecl sub_4EA150(int a1, int a2, int a3)
{
  int result; // eax@1

  while ( 1 )
  {
    result = a3;
    if ( !*(_DWORD *)a3 )
      break;
    if ( !*(_BYTE *)a1 )
      break;
    *(_BYTE *)(*(_DWORD *)a2)++ = *(_BYTE *)a1++;
    --*(_DWORD *)a3;
  }
  return result;
}

//----- (004EA1A0) --------------------------------------------------------
unsigned int __cdecl sub_4EA1A0(signed int a1, unsigned int a2, unsigned int *a3, int a4)
{
  unsigned int result; // eax@2
  int v5; // [sp+0h] [bp-4h]@1
  int i; // [sp+10h] [bp+Ch]@4

  v5 = 0;
  if ( dword_A96B53C )
  {
    result = sub_4EA250(a1, a3, a4);
  }
  else
  {
    if ( a2 >= *(_DWORD *)a4 )
    {
      result = a4;
      *(_DWORD *)a4 = 0;
    }
    else
    {
      for ( i = a2 - 1; i != -1; --i )
      {
        *(_BYTE *)(*a3 + i) = a1 % 10 + 48;
        a1 /= 10;
        ++v5;
      }
      *a3 += v5;
      result = a4;
      *(_DWORD *)a4 -= v5;
    }
  }
  return result;
}
// A96B53C: using guessed type int dword_A96B53C;

//----- (004EA250) --------------------------------------------------------
unsigned int __cdecl sub_4EA250(signed int a1, unsigned int *a2, int a3)
{
  unsigned int result; // eax@4
  char v4; // ST00_1@5
  unsigned int v5; // [sp+4h] [bp-8h]@4
  unsigned int v6; // [sp+8h] [bp-4h]@1
  int v7; // [sp+8h] [bp-4h]@4

  v6 = *a2;
  if ( *(_DWORD *)a3 > 1u )
  {
    do
    {
      *(_BYTE *)v6++ = a1 % 10 + 48;
      --*(_DWORD *)a3;
      a1 /= 10;
    }
    while ( a1 > 0 && *(_DWORD *)a3 > 1u );
  }
  v5 = *a2;
  result = v6;
  *a2 = v6;
  v7 = v6 - 1;
  do
  {
    v4 = *(_BYTE *)v7;
    *(_BYTE *)v7-- = *(_BYTE *)v5;
    LOBYTE(result) = v4;
    *(_BYTE *)v5++ = v4;
  }
  while ( v5 < v7 );
  return result;
}

//----- (004EA300) --------------------------------------------------------
int __usercall sub_4EA300<eax>(int ebx0<ebx>, int edi0<edi>, int esi0<esi>, int a1, int a2, int a3, int a4, int a5)
{
  int result; // eax@1
  int v9; // eax@5
  int v10; // eax@49
  int v11; // eax@51
  int v12; // [sp+20h] [bp-10h]@55
  int v13; // [sp+24h] [bp-Ch]@3
  char v14; // [sp+28h] [bp-8h]@3
  int v15; // [sp+2Ch] [bp-4h]@3
  int v16; // [sp+2Ch] [bp-4h]@6

LABEL_1:
  while ( 1 )
  {
    result = a1;
    if ( !*(_BYTE *)a1 )
      return result;
    if ( !*(_DWORD *)a4 )
      return result;
    v14 = 0;
    dword_A96B53C = 0;
    v13 = 0;
    v15 = a1;
    while ( 1 )
    {
      v9 = *(_BYTE *)v15++;
      if ( v9 != *(_BYTE *)a1 )
        break;
      ++v13;
    }
    v16 = v15 - 1;
    switch ( *(_BYTE *)a1 )
    {
      case 77:
        switch ( v13 )
        {
          case 1:
            dword_A96B53C = 1;
            goto LABEL_9;
          case 2:
LABEL_9:
            v14 = 109;
            break;
          case 3:
            v14 = 98;
            break;
          case 4:
            v14 = 66;
            break;
          default:
            goto LABEL_77;
        }
        goto LABEL_77;
      case 100:
        switch ( v13 )
        {
          case 1:
            dword_A96B53C = 1;
            goto LABEL_15;
          case 2:
LABEL_15:
            v14 = 100;
            break;
          case 3:
            v14 = 97;
            break;
          case 4:
            v14 = 65;
            break;
          default:
            goto LABEL_77;
        }
        goto LABEL_77;
      case 121:
        if ( v13 == 2 )
        {
          v14 = 121;
        }
        else
        {
          if ( v13 == 4 )
            v14 = 89;
        }
        goto LABEL_77;
      case 104:
        if ( v13 == 1 )
        {
          dword_A96B53C = 1;
        }
        else
        {
          if ( v13 != 2 )
            goto LABEL_77;
        }
        v14 = 73;
        goto LABEL_77;
      case 72:
        if ( v13 == 1 )
        {
          dword_A96B53C = 1;
        }
        else
        {
          if ( v13 != 2 )
            goto LABEL_77;
        }
        v14 = 72;
        goto LABEL_77;
      case 109:
        if ( v13 == 1 )
        {
          dword_A96B53C = 1;
        }
        else
        {
          if ( v13 != 2 )
            goto LABEL_77;
        }
        v14 = 77;
        goto LABEL_77;
      case 115:
        if ( v13 == 1 )
        {
          dword_A96B53C = 1;
        }
        else
        {
          if ( v13 != 2 )
            goto LABEL_77;
        }
        v14 = 83;
LABEL_77:
        if ( v14 )
        {
          sub_4E9B30(ebx0, edi0, esi0, v14, a2, (unsigned int *)a3, a4, a5);
          a1 = v16;
        }
        else
        {
          if ( *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * *(_BYTE *)a1) & 0x8000 )
          {
            *(_BYTE *)(*(_DWORD *)a3)++ = *(_BYTE *)a1++;
            --*(_DWORD *)a4;
          }
          *(_BYTE *)(*(_DWORD *)a3)++ = *(_BYTE *)a1++;
          --*(_DWORD *)a4;
        }
        continue;
      case 65:
      case 97:
        LOBYTE(v10) = sub_4F5220(a1, (int)"am/pm");
        if ( v10 )
        {
          LOBYTE(v11) = sub_4F5220(a1, (int)"a/p");
          if ( !v11 )
            v16 = a1 + 3;
        }
        else
        {
          v16 = a1 + 5;
        }
        v14 = 112;
        goto LABEL_77;
      case 116:
        if ( *(_DWORD *)(a2 + 8) > 11 )
          v12 = *(_DWORD *)(a5 + 156);
        else
          v12 = *(_DWORD *)(a5 + 152);
        while ( v13 > 0 && *(_DWORD *)a4 )
        {
          if ( *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * *(_BYTE *)v12) & 0x8000 && *(_DWORD *)a4 > 1u )
          {
            *(_BYTE *)(*(_DWORD *)a3)++ = *(_BYTE *)v12++;
            --*(_DWORD *)a4;
          }
          *(_BYTE *)(*(_DWORD *)a3)++ = *(_BYTE *)v12++;
          --*(_DWORD *)a4;
          --v13;
        }
        a1 = v16;
        continue;
      case 39:
        if ( v13 & 1 )
        {
          a1 += v13;
          while ( *(_BYTE *)a1 && *(_DWORD *)a4 )
          {
            if ( *(_BYTE *)a1 == 39 )
            {
              ++a1;
              goto LABEL_1;
            }
            if ( *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * *(_BYTE *)a1) & 0x8000 && *(_DWORD *)a4 > 1u )
            {
              *(_BYTE *)(*(_DWORD *)a3)++ = *(_BYTE *)a1++;
              --*(_DWORD *)a4;
            }
            *(_BYTE *)(*(_DWORD *)a3)++ = *(_BYTE *)a1++;
            --*(_DWORD *)a4;
          }
        }
        else
        {
          a1 += v13;
        }
        break;
      default:
        goto LABEL_77;
    }
  }
}
// 5A21D8: using guessed type __int16 off_5A21D8[2];
// A96B53C: using guessed type int dword_A96B53C;

//----- (004EA820) --------------------------------------------------------
int __usercall sub_4EA820<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4)
{
  return sub_4EA860(a1, a2, a3, a4, 1);
}

//----- (004EA860) --------------------------------------------------------
int __usercall sub_4EA860<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5)
{
  bool v6; // [sp+8h] [bp-1Ch]@44
  bool v7; // [sp+Ch] [bp-18h]@33
  bool v8; // [sp+10h] [bp-14h]@22
  int v9; // [sp+14h] [bp-10h]@11
  int v10; // [sp+14h] [bp-10h]@14
  signed int v11; // [sp+14h] [bp-10h]@21
  signed int v12; // [sp+14h] [bp-10h]@32
  signed int v13; // [sp+14h] [bp-10h]@43
  int v14; // [sp+18h] [bp-Ch]@1
  int v15; // [sp+1Ch] [bp-8h]@14
  int v16; // [sp+20h] [bp-4h]@55

  v14 = *(_DWORD *)(a4 + 20);
  if ( v14 < 69 || v14 > 139 )
    return -1;
  if ( *(_DWORD *)(a4 + 16) < 0 || *(_DWORD *)(a4 + 16) > 11 )
  {
    v14 += *(_DWORD *)(a4 + 16) / 12;
    *(_DWORD *)(a4 + 16) %= 12;
    if ( *(_DWORD *)(a4 + 16) < 0 )
    {
      *(_DWORD *)(a4 + 16) += 12;
      --v14;
    }
    if ( v14 < 69 || v14 > 139 )
      return -1;
  }
  v9 = dword_5A2664[*(_DWORD *)(a4 + 16)];
  if ( !(v14 & 3) && *(_DWORD *)(a4 + 16) > 1 )
    ++v9;
  if ( (v15 = v9 + 365 * (v14 - 70) + ((v14 - 1) >> 2) - 17, v10 = *(_DWORD *)(a4 + 12), v14 = v10 + v15, v15 >= 0)
    && v10 >= 0
    && v14 < 0
    || v15 < 0 && v10 < 0 && v14 >= 0
    || ((v11 = 24 * v14, !v14) ? (v8 = 0) : (v8 = v11 / v14 != 24),
        v8
     || (v15 = *(_DWORD *)(a4 + 8), v14 = v15 + v11, v11 >= 0) && v15 >= 0 && v14 < 0
     || v11 < 0 && v15 < 0 && v14 >= 0
     || ((v12 = 60 * v14, !v14) ? (v7 = 0) : (v7 = v12 / v14 != 60),
         v7
      || (v15 = *(_DWORD *)(a4 + 4), v14 = v15 + v12, v12 >= 0) && v15 >= 0 && v14 < 0
      || v12 < 0 && v15 < 0 && v14 >= 0
      || ((v13 = 60 * v14, !v14) ? (v6 = 0) : (v6 = v13 / v14 != 60),
          v6
       || (v15 = *(_DWORD *)a4, v14 = v15 + v13, v13 >= 0) && v15 >= 0 && v14 < 0
       || v13 < 0 && v15 < 0 && v14 >= 0))) )
    return -1;
  if ( a5 )
  {
    sub_4F47A0(a1, a2, a3);
    v14 += dword_5A2578;
    v16 = sub_4E8F60(a1, a2, a3, &v14);
    if ( v16 )
    {
      if ( *(_DWORD *)(a4 + 32) > 0 || *(_DWORD *)(a4 + 32) < 0 && *(_DWORD *)(v16 + 32) > 0 )
      {
        v14 += dword_5A2580;
        v16 = sub_4E8F60(a1, a2, a3, &v14);
      }
      goto LABEL_62;
    }
  }
  else
  {
    v16 = (int)sub_4F5050(&v14);
    if ( v16 )
    {
LABEL_62:
      memcpy((void *)a4, (const void *)v16, 0x24u);
      return v14;
    }
  }
  return -1;
}
// 5A2578: using guessed type int dword_5A2578;
// 5A2580: using guessed type int dword_5A2580;
// 5A2664: using guessed type int dword_5A2664[];

//----- (004EAB70) --------------------------------------------------------
int __cdecl sub_4EAB70(int a1, int a2)
{
  char v2; // dl@1
  int v3; // edi@1
  char v4; // dh@2
  int v5; // ecx@3
  int v6; // esi@3
  char v7; // al@5
  int result; // eax@8
  char v9; // ah@11
  char v10; // al@12
  char v11; // al@13

  v2 = *(_BYTE *)a2;
  v3 = a1;
  if ( *(_BYTE *)a2 )
  {
    v4 = *(_BYTE *)(a2 + 1);
    if ( !v4 )
      JUMPOUT(loc_4EFB56);
LABEL_3:
    v5 = a2;
    v6 = v3 + 1;
    if ( *(_BYTE *)v3 == v2 )
      goto LABEL_9;
    if ( *(_BYTE *)v3 )
    {
      while ( 2 )
      {
        v7 = *(_BYTE *)v6++;
        while ( v7 == v2 )
        {
LABEL_9:
          v7 = *(_BYTE *)v6++;
          if ( v7 == v4 )
          {
            v3 = v6 - 1;
            while ( 1 )
            {
              v9 = *(_BYTE *)(v5 + 2);
              if ( !v9 )
                break;
              v10 = *(_BYTE *)v6;
              v6 += 2;
              if ( v10 != v9 )
                goto LABEL_3;
              v11 = *(_BYTE *)(v5 + 3);
              if ( !v11 )
                break;
              v5 += 2;
              if ( v11 != *(_BYTE *)(v6 - 1) )
                goto LABEL_3;
            }
            return v3 - 1;
          }
        }
        if ( v7 )
          continue;
        break;
      }
    }
    result = 0;
  }
  else
  {
    result = a1;
  }
  return result;
}
// 4EFB56: using guessed type int __cdecl loc_4EFB56(int, char);

//----- (004EABF0) --------------------------------------------------------
int __stdcall sub_4EABF0(unsigned __int64 a1, __int64 a2)
{
  signed int v2; // edi@1
  int v3; // eax@3
  unsigned __int64 v4; // qtt@6
  int result; // eax@6
  unsigned int v6; // ebx@8
  unsigned int v7; // ecx@8
  unsigned __int64 v8; // qax@8
  unsigned __int8 v9; // cf@9
  unsigned int v10; // eax@10
  int v11; // ecx@10
  unsigned __int64 v12; // qax@10

  v2 = 0;
  if ( SHIDWORD(a1) < 0 )
  {
    v2 = 1;
    HIDWORD(a1) = -HIDWORD(a1) - ((_DWORD)a1 != 0);
    LODWORD(a1) = -(signed int)a1;
  }
  v3 = HIDWORD(a2);
  if ( SHIDWORD(a2) < 0 )
  {
    v3 = -HIDWORD(a2) - ((_DWORD)a2 != 0);
    HIDWORD(a2) = -HIDWORD(a2) - ((_DWORD)a2 != 0);
    LODWORD(a2) = -(signed int)a2;
  }
  if ( !v3 )
  {
    LODWORD(v4) = a1;
    HIDWORD(v4) = HIDWORD(a1) % (unsigned int)a2;
    result = v4 % (unsigned int)a2;
    if ( v2 - 1 < 0 )
      return result;
    return -result;
  }
  v6 = v3;
  v7 = a2;
  v8 = a1;
  do
  {
    v9 = v6 & 1;
    v6 >>= 1;
    v7 = __RCR__(v7, v9);
    v9 = BYTE4(v8) & 1;
    HIDWORD(v8) >>= 1;
    LODWORD(v8) = __RCR__(v8, v9);
  }
  while ( v6 );
  v10 = v8 / v7;
  v11 = HIDWORD(a2) * v10;
  v12 = (unsigned int)a2 * (unsigned __int64)v10;
  v9 = __CFADD__(v11, HIDWORD(v12));
  HIDWORD(v12) += v11;
  if ( v9 || HIDWORD(v12) > HIDWORD(a1) || HIDWORD(v12) >= HIDWORD(a1) && (unsigned int)v12 > (unsigned int)a1 )
    LODWORD(v12) = v12 - a2;
  result = v12 - a1;
  if ( v2 - 1 < 0 )
    return -result;
  return result;
}

//----- (004EACB0) --------------------------------------------------------
signed int __cdecl sub_4EACB0(int a1)
{
  signed int result; // eax@2

  if ( a1 )
  {
    if ( sub_4EAD10(a1) )
    {
      result = -1;
    }
    else
    {
      if ( *(_DWORD *)(a1 + 12) & 0x4000 )
        result = -(sub_4F52B0(*(_DWORD *)(a1 + 16)) != 0);
      else
        result = 0;
    }
  }
  else
  {
    result = sub_4EADE0(0);
  }
  return result;
}
// 4EACB0: using guessed type _DWORD __cdecl sub_4EACB0(_DWORD);

//----- (004EAD10) --------------------------------------------------------
signed int __cdecl sub_4EAD10(int a1)
{
  DWORD nNumberOfBytesToWrite; // [sp+0h] [bp-Ch]@3
  signed int v3; // [sp+8h] [bp-4h]@1

  v3 = 0;
  if ( (*(_DWORD *)(a1 + 12) & 3) == 2 )
  {
    if ( *(_DWORD *)(a1 + 12) & 0x108 )
    {
      nNumberOfBytesToWrite = *(_DWORD *)a1 - *(_DWORD *)(a1 + 8);
      if ( (signed int)nNumberOfBytesToWrite > 0 )
      {
        if ( sub_4E7F70(*(_DWORD *)(a1 + 16), *(_DWORD *)(a1 + 8), nNumberOfBytesToWrite) == nNumberOfBytesToWrite )
        {
          if ( *(_DWORD *)(a1 + 12) & 0x80 )
            *(_DWORD *)(a1 + 12) &= 0xFFFFFFFDu;
        }
        else
        {
          *(_DWORD *)(a1 + 12) |= 0x20u;
          v3 = -1;
        }
      }
    }
  }
  *(_DWORD *)a1 = *(_DWORD *)(a1 + 8);
  *(_DWORD *)(a1 + 4) = 0;
  return v3;
}

//----- (004EADD0) --------------------------------------------------------
signed int __cdecl sub_4EADD0()
{
  return sub_4EADE0(1);
}

//----- (004EADE0) --------------------------------------------------------
signed int __cdecl sub_4EADE0(int a1)
{
  signed int result; // eax@15
  int i; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+4h] [bp-8h]@1
  signed int v4; // [sp+8h] [bp-4h]@1

  v4 = 0;
  v3 = 0;
  for ( i = 0; i < dword_A96B500; ++i )
  {
    if ( *(_DWORD *)(dword_A96A1B4 + 4 * i) && *(_DWORD *)(*(_DWORD *)(dword_A96A1B4 + 4 * i) + 12) & 0x83 )
    {
      if ( a1 == 1 )
      {
        if ( sub_4EACB0(*(_DWORD *)(dword_A96A1B4 + 4 * i)) != -1 )
          ++v4;
      }
      else
      {
        if ( !a1
          && *(_DWORD *)(*(_DWORD *)(dword_A96A1B4 + 4 * i) + 12) & 2
          && sub_4EACB0(*(_DWORD *)(dword_A96A1B4 + 4 * i)) == -1 )
          v3 = -1;
      }
    }
  }
  if ( a1 == 1 )
    result = v4;
  else
    result = v3;
  return result;
}
// 4EACB0: using guessed type _DWORD __cdecl sub_4EACB0(_DWORD);
// A96A1B4: using guessed type int dword_A96A1B4;
// A96B500: using guessed type int dword_A96B500;

//----- (004EAEC0) --------------------------------------------------------
int __usercall sub_4EAEC0<eax>(__int16 a1<fpstat>, double a2<st1>, char a3, char a4, char a5, double a6, double a7)
{
  return sub_4F5484(a1, a2, a3, a4, a5, a6, a7);
}

//----- (004EAEF4) --------------------------------------------------------
#error "4EAF93: call analysis failed (funcsize=62)"

//----- (004EAFA0) --------------------------------------------------------
unsigned int __cdecl sub_4EAFA0()
{
  if ( off_5A1CD8 )
    off_5A1CD8();
  sub_4EB140((unsigned int)&unk_59433C, (unsigned int)&unk_594654);
  return sub_4EB140((unsigned int)&unk_594000, (unsigned int)&unk_594238);
}
// 5A1CD8: using guessed type int (*off_5A1CD8)(void);

//----- (004EAFE0) --------------------------------------------------------
unsigned int __usercall sub_4EAFE0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, UINT uExitCode)
{
  return sub_4EB060(a1, a2, a3, uExitCode, 0, 0);
}

//----- (004EB000) --------------------------------------------------------
unsigned int __usercall sub_4EB000<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, UINT uExitCode)
{
  return sub_4EB060(a1, a2, a3, uExitCode, 1, 0);
}

//----- (004EB060) --------------------------------------------------------
unsigned int __usercall sub_4EB060<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, UINT uExitCode, int a5, int a6)
{
  HANDLE v6; // eax@2
  unsigned int result; // eax@11
  unsigned int v8; // [sp+0h] [bp-4h]@5

  if ( dword_A969AA8 == 1 )
  {
    v6 = GetCurrentProcess();
    TerminateProcess(v6, uExitCode);
  }
  dword_A969AA4 = 1;
  byte_A969AA0 = a6;
  if ( !a5 )
  {
    if ( dword_A96B528 )
    {
      v8 = dword_A96B524;
      while ( 1 )
      {
        v8 -= 4;
        if ( v8 < dword_A96B528 )
          break;
        if ( *(_DWORD *)v8 )
          (*(void (**)(void))v8)();
      }
    }
    sub_4EB140((unsigned int)&unk_594758, (unsigned int)&unk_594960);
  }
  result = sub_4EB140((unsigned int)&unk_594A64, (unsigned int)&unk_594C6C);
  if ( !dword_A969AAC )
  {
    result = sub_4E6970(-1) & 0x20;
    if ( result )
    {
      dword_A969AAC = 1;
      result = sub_4E7230(a1, a2, a3);
    }
  }
  if ( !a6 )
  {
    dword_A969AA8 = 1;
    ExitProcess(uExitCode);
  }
  return result;
}
// A969AA0: using guessed type char byte_A969AA0;
// A969AA4: using guessed type int dword_A969AA4;
// A969AA8: using guessed type int dword_A969AA8;
// A969AAC: using guessed type int dword_A969AAC;
// A96B524: using guessed type int dword_A96B524;
// A96B528: using guessed type int dword_A96B528;

//----- (004EB140) --------------------------------------------------------
unsigned int __cdecl sub_4EB140(unsigned int a1, unsigned int a2)
{
  unsigned int result; // eax@1

  while ( 1 )
  {
    result = a1;
    if ( a1 >= a2 )
      break;
    if ( *(_DWORD *)a1 )
      (*(void (**)(void))a1)();
    a1 += 4;
  }
  return result;
}

//----- (004EB170) --------------------------------------------------------
void __cdecl sub_4EB170()
{
  DebugBreak();
}

//----- (004EB280) --------------------------------------------------------
signed int __usercall sub_4EB280<eax>(int a1<ebx>, int a2<esi>, int a3, int a4, int a5, int a6, const char *a7, char a8)
{
  signed int result; // eax@3
  int v9; // eax@32
  int v10; // [sp+4h] [bp-302Ch]@37
  char v11; // [sp+Ch] [bp-3024h]@37
  DWORD NumberOfBytesWritten; // [sp+20h] [bp-3010h]@32
  HMODULE hModule; // [sp+24h] [bp-300Ch]@7
  char v14; // [sp+28h] [bp-3008h]@1
  char v15; // [sp+29h] [bp-3007h]@1
  __int16 v16; // [sp+1025h] [bp-200Bh]@1
  char v17; // [sp+1027h] [bp-2009h]@1
  const CHAR Buffer; // [sp+1028h] [bp-2008h]@1
  char v19; // [sp+1029h] [bp-2007h]@1
  __int16 v20; // [sp+2025h] [bp-100Bh]@1
  char v21; // [sp+2027h] [bp-1009h]@1
  int v22; // [sp+2028h] [bp-1008h]@26
  int v23; // [sp+202Ch] [bp-1004h]@1
  char v24; // [sp+2030h] [bp-1000h]@1
  char v25; // [sp+2031h] [bp-FFFh]@1
  __int16 v26; // [sp+302Dh] [bp-3h]@1
  char v27; // [sp+302Fh] [bp-1h]@1
  int v28; // [sp+3030h] [bp+0h]@39

  v14 = 0;
  memset(&v15, 0, 0xFFCu);
  v16 = 0;
  v17 = 0;
  Buffer = 0;
  memset(&v19, 0, 0xFFCu);
  v20 = 0;
  v21 = 0;
  v24 = 0;
  memset(&v25, 0, 0xFFCu);
  v26 = 0;
  v27 = 0;
  v23 = (int)&a8;
  if ( a3 >= 0 && a3 < 3 )
  {
    if ( a3 != 2 || InterlockedIncrement(&dword_5A1DF8) <= 0 )
    {
      if ( a7 && sub_4F5D10(a1, a2, (int)&v24, 4077, (int)a7, v23) < 0 )
        sub_4E4720((int)&v24);
      if ( a3 == 2 )
        sub_4E4720((int)&v14);
      sub_4E4730((int)&v14, (int)&v24);
      if ( a3 == 2 )
      {
        if ( dword_5A1DFC[2] & 1 )
          sub_4E4730((int)&v14, (int)"\r");
        sub_4E4730((int)&v14, (int)"\n");
      }
      if ( a4 )
      {
        if ( sub_4EC060(a1, a2, (int)&Buffer, 4096, (int)"%s(%d) : %s", a4) < 0 )
          sub_4E4720((int)&Buffer);
      }
      else
      {
        sub_4E4720((int)&Buffer);
      }
      if ( dword_A96B504 && dword_A96B504(a3, &Buffer, &v22) )
      {
        if ( a3 == 2 )
          InterlockedDecrement(&dword_5A1DF8);
        result = v22;
      }
      else
      {
        if ( dword_5A1DFC[a3] & 1 && *(&hFile + a3) != (HANDLE)-1 )
        {
          v9 = sub_4E4B50((int)&Buffer);
          WriteFile(*(&hFile + a3), &Buffer, v9, &NumberOfBytesWritten, 0);
        }
        if ( dword_5A1DFC[a3] & 2 )
          OutputDebugStringA(&Buffer);
        if ( dword_5A1DFC[a3] & 4 )
        {
          if ( a5 )
            v10 = sub_4F5A20(a5, (int)&v11, 0xAu);
          else
            v10 = 0;
          v22 = sub_4EB610(a1, (int)&v28, a2, a3, a4, v10, a6, (int)&v24);
          if ( a3 == 2 )
            InterlockedDecrement(&dword_5A1DF8);
          result = v22;
        }
        else
        {
          if ( a3 == 2 )
            InterlockedDecrement(&dword_5A1DF8);
          result = 0;
        }
      }
    }
    else
    {
      if ( dword_A969AB0
        || (hModule = LoadLibraryA("user32.dll")) != 0
        && (dword_A969AB0 = (int (*)(_DWORD, const char *, ...))GetProcAddress(hModule, "wsprintfA")) != 0 )
      {
        dword_A969AB0(&Buffer, "Second Chance Assertion Failed: File %s, Line %d\n", a4, a5);
        OutputDebugStringA(&Buffer);
        InterlockedDecrement(&dword_5A1DF8);
        sub_4EB170();
        result = -1;
      }
      else
      {
        result = -1;
      }
    }
  }
  else
  {
    result = -1;
  }
  return result;
}
// 5A1DFC: using guessed type int dword_5A1DFC[];
// A969AB0: using guessed type int (*dword_A969AB0)(_DWORD, const char *, ...);
// A96B504: using guessed type int (__cdecl *dword_A96B504)(_DWORD, _DWORD, _DWORD);

//----- (004EB610) --------------------------------------------------------
bool __usercall sub_4EB610<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7, int a8)
{
  int v8; // eax@7
  int v9; // ST64_4@10
  char v11; // [sp+0h] [bp-1138h]@0
  char v12; // [sp+2Ch] [bp-110Ch]@11
  int v13; // [sp+102Ch] [bp-10Ch]@13
  CHAR Filename; // [sp+1030h] [bp-108h]@4
  int v15; // [sp+1134h] [bp-4h]@6

  if ( !a8 && sub_4EB280(a1, a3, 2, (int)"dbgrpt.c", 474, 0, "szUserMessage != NULL", v11) == 1 )
    sub_4EB170();
  if ( !GetModuleFileNameA(0, &Filename, 0x104u) )
    sub_4E4720((int)&Filename);
  v15 = (int)&Filename;
  if ( (unsigned int)sub_4E4B50((int)&Filename) > 0x40 )
  {
    v8 = sub_4E4B50(v15);
    v15 = v15 + v8 - 64;
    sub_4E7850(v15, (int)"...", 3u);
  }
  if ( a7 && (unsigned int)sub_4E4B50(a7) > 0x40 )
  {
    v9 = a7 + sub_4E4B50(a7) - 64;
    sub_4E7850(v9, (int)"...", 3u);
  }
  if ( sub_4EC060(
         a1,
         a3,
         (int)&v12,
         4096,
         (int)"Debug %s!\n\nProgram: %s%s%s%s%s%s%s%s%s%s%s\n\n(Press Retry to debug the application)",
         (unsigned int)off_5A1E14[a4]) < 0 )
    sub_4E4720((int)&v12);
  v13 = sub_4F6240((int)&v12, (int)"Microsoft Visual C++ Debug Library", 73746);
  if ( v13 == 3 )
  {
    sub_4F6020(a1, a2, a3, 22);
    sub_4EB000(a1, a2, a3, 3u);
  }
  return v13 == 4;
}
// 5A1E14: using guessed type char *off_5A1E14[3];

//----- (004EB920) --------------------------------------------------------
int __usercall sub_4EB920<eax>(int a1<ebx>, int a2<esi>, unsigned int a3)
{
  return sub_4E5540(a1, a2, a3, 1);
}

//----- (004EB940) --------------------------------------------------------
void __usercall sub_4EB940(int a1<ebx>, int a2<esi>, int a3)
{
  int v3; // eax@2
  int v4; // [sp+0h] [bp-4h]@2

  if ( a3 )
  {
    v3 = sub_4E4B50(a3);
    v4 = sub_4E54F0(a1, a2, v3 + 1);
    if ( v4 )
      sub_4E4720(v4);
  }
}

//----- (004EB990) --------------------------------------------------------
void __usercall sub_4EB990(int a1<ebx>, int a2<esi>, int a3)
{
  char v3; // [sp+0h] [bp-10h]@0
  int v4; // [sp+Ch] [bp-4h]@2

  if ( a3 )
  {
    v4 = a3 - 32;
    if ( (*(_DWORD *)(a3 - 32 + 20) & 0xFFFF) != 4
      && *(_DWORD *)(v4 + 20) != 1
      && (*(_DWORD *)(v4 + 20) & 0xFFFF) != 2
      && *(_DWORD *)(v4 + 20) != 3 )
    {
      if ( sub_4EB280(a1, a2, 2, (int)"dbgdel.cpp", 47, 0, "_BLOCK_TYPE_IS_VALID(pHead->nBlockUse)", v3) == 1 )
        __debugbreak();
    }
    sub_4E5F50(a1, a2, a3, *(_DWORD *)(v4 + 20));
  }
}

//----- (004EBA20) --------------------------------------------------------
int __usercall sub_4EBA20<eax>(int a1<ebx>, int a2<esi>)
{
  int result; // eax@5
  signed int i; // [sp+0h] [bp-4h]@8
  signed int j; // [sp+0h] [bp-4h]@11

  if ( dword_A96B500 )
  {
    if ( dword_A96B500 < 20 )
      dword_A96B500 = 20;
  }
  else
  {
    dword_A96B500 = 512;
  }
  result = sub_4E5910(a1, a2, dword_A96B500, 4, 2, (int)"_file.c", 131);
  dword_A96A1B4 = result;
  if ( !result )
  {
    dword_A96B500 = 20;
    result = sub_4E5910(a1, a2, 20, 4, 2, (int)"_file.c", 134);
    dword_A96A1B4 = result;
    if ( !result )
      result = sub_4EC600(a1, a2, 26);
  }
  for ( i = 0; i < 20; ++i )
  {
    result = (int)(&off_5A1E20 + 8 * i);
    *(_DWORD *)(dword_A96A1B4 + 4 * i) = result;
  }
  for ( j = 0; j < 3; ++j )
  {
    if ( *(_DWORD *)(dword_A969DA0[j >> 5] + 8 * (j & 0x1F)) == -1
      || !*(_DWORD *)(dword_A969DA0[j >> 5] + 8 * (j & 0x1F)) )
      dword_5A1E30[8 * j] = -1;
    result = j + 1;
  }
  return result;
}
// 5A1E20: using guessed type void *off_5A1E20;
// 5A1E30: using guessed type int dword_5A1E30[];
// A969DA0: using guessed type int dword_A969DA0[];
// A96A1B4: using guessed type int dword_A96A1B4;
// A96B500: using guessed type int dword_A96B500;

//----- (004EBB50) --------------------------------------------------------
int __usercall sub_4EBB50<eax>(int a1<ebx>, int a2<esi>)
{
  int result; // eax@1

  sub_4EADD0();
  result = byte_A969AA0;
  if ( byte_A969AA0 )
    result = sub_4F6300(a1, a2);
  return result;
}
// A969AA0: using guessed type char byte_A969AA0;

//----- (004EBB70) --------------------------------------------------------
int __cdecl sub_4EBB70(int a1)
{
  signed int v1; // ST08_4@1
  signed int v2; // ST04_4@1
  struct _SYSTEMTIME SystemTime; // [sp+8h] [bp-14h]@1
  int v5; // [sp+18h] [bp-4h]@1

  GetLocalTime(&SystemTime);
  v1 = SystemTime.wHour;
  v2 = SystemTime.wMinute;
  v5 = SystemTime.wSecond;
  *(_BYTE *)(a1 + 5) = 58;
  *(_BYTE *)(a1 + 2) = 58;
  *(_BYTE *)(a1 + 8) = 0;
  *(_BYTE *)a1 = v1 / 10 + 48;
  *(_BYTE *)(a1 + 1) = v1 % 10 + 48;
  *(_BYTE *)(a1 + 3) = v2 / 10 + 48;
  *(_BYTE *)(a1 + 4) = v2 % 10 + 48;
  *(_BYTE *)(a1 + 6) = v5 / 10 + 48;
  *(_BYTE *)(a1 + 7) = v5 % 10 + 48;
  return a1;
}

//----- (004EBC40) --------------------------------------------------------
int __cdecl sub_4EBC40(int a1)
{
  struct _SYSTEMTIME SystemTime; // [sp+0h] [bp-1Ch]@1
  int v3; // [sp+10h] [bp-Ch]@1
  int v4; // [sp+14h] [bp-8h]@1
  int v5; // [sp+18h] [bp-4h]@1

  GetLocalTime(&SystemTime);
  v5 = SystemTime.wMonth;
  v4 = SystemTime.wDay;
  v3 = SystemTime.wYear % 100;
  *(_BYTE *)(a1 + 5) = 47;
  *(_BYTE *)(a1 + 2) = 47;
  *(_BYTE *)(a1 + 8) = 0;
  *(_BYTE *)a1 = v5 / 10 + 48;
  *(_BYTE *)(a1 + 1) = v5 % 10 + 48;
  *(_BYTE *)(a1 + 3) = v4 / 10 + 48;
  *(_BYTE *)(a1 + 4) = v4 % 10 + 48;
  *(_BYTE *)(a1 + 6) = v3 / 10 + 48;
  *(_BYTE *)(a1 + 7) = v3 % 10 + 48;
  return a1;
}

//----- (004EBD10) --------------------------------------------------------
signed int __cdecl sub_4EBD10(LPCSTR lpExistingFileName, LPCSTR lpNewFileName)
{
  signed int result; // eax@5
  unsigned int v3; // [sp+0h] [bp-4h]@2

  if ( MoveFileA(lpExistingFileName, lpNewFileName) )
    v3 = 0;
  else
    v3 = GetLastError();
  if ( v3 )
  {
    sub_4F3800(v3);
    result = -1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004EBD60) --------------------------------------------------------
signed int __cdecl sub_4EBD60(LPCSTR lpFileName)
{
  signed int result; // eax@5
  unsigned int v2; // [sp+0h] [bp-4h]@2

  if ( DeleteFileA(lpFileName) )
    v2 = 0;
  else
    v2 = GetLastError();
  if ( v2 )
  {
    sub_4F3800(v2);
    result = -1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004EBDD0) --------------------------------------------------------
int __usercall sub_4EBDD0<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int result; // eax@7
  char v4; // [sp+0h] [bp-28h]@0
  signed int lDistanceToMove; // [sp+Ch] [bp-1Ch]@6
  int v6; // [sp+10h] [bp-18h]@10
  int v7; // [sp+14h] [bp-14h]@27
  int v8; // [sp+18h] [bp-10h]@25
  signed int v9; // [sp+20h] [bp-8h]@4
  unsigned int i; // [sp+24h] [bp-4h]@12
  unsigned int j; // [sp+24h] [bp-4h]@27

  if ( !a3 && sub_4EB280(a1, a2, 2, (int)"ftell.c", 99, 0, "str != NULL", v4) == 1 )
    __debugbreak();
  v9 = *(_DWORD *)(a3 + 16);
  if ( *(_DWORD *)(a3 + 4) < 0 )
    *(_DWORD *)(a3 + 4) = 0;
  lDistanceToMove = sub_4F0500(v9, 0, 1u);
  if ( lDistanceToMove < 0 )
    return -1;
  if ( !(*(_DWORD *)(a3 + 12) & 0x108) )
    return lDistanceToMove - *(_DWORD *)(a3 + 4);
  v6 = *(_DWORD *)a3 - *(_DWORD *)(a3 + 8);
  if ( *(_DWORD *)(a3 + 12) & 3 )
  {
    if ( *(_BYTE *)(dword_A969DA0[v9 >> 5] + 8 * (v9 & 0x1F) + 4) & 0x80 )
    {
      for ( i = *(_DWORD *)(a3 + 8); i < *(_DWORD *)a3; ++i )
      {
        if ( *(_BYTE *)i == 10 )
          ++v6;
      }
    }
  }
  else
  {
    if ( !(*(_DWORD *)(a3 + 12) & 0x80) )
    {
      dword_A969A60 = 22;
      return -1;
    }
  }
  if ( lDistanceToMove )
  {
    if ( *(_DWORD *)(a3 + 12) & 1 )
    {
      if ( *(_DWORD *)(a3 + 4) )
      {
        v8 = *(_DWORD *)a3 - *(_DWORD *)(a3 + 8) + *(_DWORD *)(a3 + 4);
        if ( *(_BYTE *)(dword_A969DA0[v9 >> 5] + 8 * (v9 & 0x1F) + 4) & 0x80 )
        {
          if ( sub_4F0500(v9, 0, 2u) == lDistanceToMove )
          {
            v7 = v8 + *(_DWORD *)(a3 + 8);
            for ( j = *(_DWORD *)(a3 + 8); j < v7; ++j )
            {
              if ( *(_BYTE *)j == 10 )
                ++v8;
            }
            if ( *(_DWORD *)(a3 + 12) & 0x2000 )
              ++v8;
          }
          else
          {
            sub_4F0500(v9, lDistanceToMove, 0);
            if ( (unsigned int)v8 > 0x200 || !(*(_DWORD *)(a3 + 12) & 8) || *(_DWORD *)(a3 + 12) & 0x400 )
              v8 = *(_DWORD *)(a3 + 24);
            else
              v8 = 512;
            if ( *(_BYTE *)(dword_A969DA0[v9 >> 5] + 8 * (v9 & 0x1F) + 4) & 4 )
              ++v8;
          }
        }
        lDistanceToMove -= v8;
      }
      else
      {
        v6 = 0;
      }
    }
    result = v6 + lDistanceToMove;
  }
  else
  {
    result = v6;
  }
  return result;
}
// A969A60: using guessed type int dword_A969A60;
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004EC060) --------------------------------------------------------
int __usercall sub_4EC060<eax>(int ebx0<ebx>, int esi0<esi>, int a1, int a2, int a3, char a4)
{
  char v7; // [sp+0h] [bp-3Ch]@0
  int v8; // [sp+14h] [bp-28h]@7
  int v9; // [sp+1Ch] [bp-20h]@7
  int v10; // [sp+20h] [bp-1Ch]@7
  int v11; // [sp+24h] [bp-18h]@7
  signed int v12; // [sp+28h] [bp-14h]@7

  if ( !a1 && sub_4EB280(ebx0, esi0, 2, (int)"sprintf.c", 93, 0, "string != NULL", v7) == 1 )
    __debugbreak();
  if ( !a3 && sub_4EB280(ebx0, esi0, 2, (int)"sprintf.c", 94, 0, "format != NULL", v7) == 1 )
    __debugbreak();
  v12 = 66;
  v11 = a1;
  v9 = a1;
  v10 = a2;
  v8 = sub_4EC8E0(ebx0, esi0, (int)&v9, a3, (int)&a4);
  --v10;
  if ( v10 < 0 )
    sub_4EC660(ebx0, esi0, 0, (int)&v9);
  else
    *(_BYTE *)v9++ = 0;
  return v8;
}

//----- (004EC160) --------------------------------------------------------
void *__cdecl sub_4EC160(void *a1, const void *a2, unsigned int a3)
{
  int v3; // esi@1
  int v4; // edi@1
  unsigned int v5; // ecx@4
  void *result; // eax@18
  int v7; // esi@22
  int v8; // edi@22
  unsigned int v9; // ecx@23

  v3 = (int)a2;
  v4 = (int)a1;
  if ( a1 > a2 && a1 < (char *)a2 + a3 )
  {
    v7 = (int)((char *)a2 + a3 - 4);
    v8 = (int)((char *)a1 + a3 - 4);
    if ( v8 & 3 )
    {
      if ( a3 >= 4 )
        JUMPOUT(__CS__, *((_DWORD *)loc_4EC344 + (v8 & 3) + 1));
      switch ( a3 )
      {
        case 0u:
LABEL_30:
          result = a1;
          break;
        case 1u:
LABEL_31:
          *(_BYTE *)(v8 + 3) = *(_BYTE *)(v7 + 3);
          result = a1;
          break;
        case 2u:
LABEL_32:
          *(_BYTE *)(v8 + 3) = *(_BYTE *)(v7 + 3);
          *(_BYTE *)(v8 + 2) = *(_BYTE *)(v7 + 2);
          result = a1;
          break;
        case 3u:
          goto LABEL_33;
      }
    }
    else
    {
      v9 = a3 >> 2;
      if ( a3 >> 2 < 8 )
      {
        switch ( -v9 )
        {
          case 0:
            break;
        }
      }
      else
      {
        memcpy((void *)v8, (const void *)v7, 4 * v9);
        v7 += 4 * v9;
        v8 += 4 * v9;
      }
      switch ( a3 & 3 )
      {
        case 0u:
          goto LABEL_30;
        case 1u:
          goto LABEL_31;
        case 2u:
          goto LABEL_32;
        case 3u:
          break;
      }
LABEL_33:
      *(_BYTE *)(v8 + 3) = *(_BYTE *)(v7 + 3);
      *(_BYTE *)(v8 + 2) = *(_BYTE *)(v7 + 2);
      *(_BYTE *)(v8 + 1) = *(_BYTE *)(v7 + 1);
      result = a1;
    }
  }
  else
  {
    if ( (unsigned __int8)a1 & 3 )
    {
      if ( a3 >= 4 )
        JUMPOUT(__CS__, *((_DWORD *)loc_4EC1BC + ((unsigned __int8)a1 & 3) + 1));
      JUMPOUT(__CS__, *((_DWORD *)loc_4EC2B8 + a3 - 4));
    }
    v5 = a3 >> 2;
    if ( a3 >> 2 < 8 )
    {
      switch ( v5 )
      {
        case 0u:
          goto LABEL_6;
        case 1u:
          goto LABEL_17;
        case 2u:
          goto LABEL_16;
        case 3u:
          goto LABEL_15;
        case 4u:
          goto LABEL_14;
        case 5u:
          goto LABEL_13;
        case 6u:
          break;
        case 7u:
          *((_DWORD *)a1 + v5 - 7) = *((_DWORD *)a2 + v5 - 7);
          break;
      }
      *((_DWORD *)a1 + v5 - 6) = *((_DWORD *)a2 + v5 - 6);
LABEL_13:
      *((_DWORD *)a1 + v5 - 5) = *((_DWORD *)a2 + v5 - 5);
LABEL_14:
      *((_DWORD *)a1 + v5 - 4) = *((_DWORD *)a2 + v5 - 4);
LABEL_15:
      *((_DWORD *)a1 + v5 - 3) = *((_DWORD *)a2 + v5 - 3);
LABEL_16:
      *((_DWORD *)a1 + v5 - 2) = *((_DWORD *)a2 + v5 - 2);
LABEL_17:
      *((_DWORD *)a1 + v5 - 1) = *((_DWORD *)a2 + v5 - 1);
      v3 = (int)((char *)a2 + 4 * v5);
      v4 = (int)((char *)a1 + 4 * v5);
    }
    else
    {
      memcpy(a1, a2, 4 * v5);
      v3 = (int)((char *)a2 + 4 * v5);
      v4 = (int)((char *)a1 + 4 * v5);
    }
LABEL_6:
    switch ( a3 & 3 )
    {
      case 0u:
        result = a1;
        break;
      case 1u:
        *(_BYTE *)v4 = *(_BYTE *)v3;
        result = a1;
        break;
      case 2u:
        *(_BYTE *)v4 = *(_BYTE *)v3;
        *(_BYTE *)(v4 + 1) = *(_BYTE *)(v3 + 1);
        result = a1;
        break;
      case 3u:
        *(_BYTE *)v4 = *(_BYTE *)v3;
        *(_BYTE *)(v4 + 1) = *(_BYTE *)(v3 + 1);
        *(_BYTE *)(v4 + 2) = *(_BYTE *)(v3 + 2);
        result = a1;
        break;
    }
  }
  return result;
}
// 4EC1BC: using guessed type int __cdecl loc_4EC1BC(int, int, int);
// 4EC2B8: using guessed type int __cdecl loc_4EC2B8(int, int, int);
// 4EC344: using guessed type int __cdecl loc_4EC344(int, int, int);

//----- (004EC4A0) --------------------------------------------------------
LONG __usercall sub_4EC4A0<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>)
{
  unsigned int v4; // eax@1
  int v5; // ST0C_4@6
  unsigned __int8 *v6; // ST08_4@6
  HMODULE v7; // eax@6
  int v9; // [sp-Ch] [bp-78h]@1
  int v10; // [sp-8h] [bp-74h]@1
  int v11; // [sp-4h] [bp-70h]@1
  int v12; // [sp+0h] [bp-6Ch]@4
  int v13; // [sp+4h] [bp-68h]@6
  unsigned __int8 *v14; // [sp+8h] [bp-64h]@3
  UINT v15; // [sp+Ch] [bp-60h]@6
  struct _STARTUPINFOA StartupInfo; // [sp+10h] [bp-5Ch]@3
  int *v17; // [sp+54h] [bp-18h]@1
  struct _EXCEPTION_POINTERS *ExceptionInfo; // [sp+58h] [bp-14h]@6
  int v19; // [sp+5Ch] [bp-10h]@1
  signed int (__usercall *v20)<eax>(int<ebp>); // [sp+60h] [bp-Ch]@1
  _UNKNOWN *v21; // [sp+64h] [bp-8h]@1
  int v22; // [sp+68h] [bp-4h]@1

  v22 = -1;
  v21 = &unk_591490;
  v20 = sub_4F4368;
  v19 = a1;
  v11 = a2;
  v10 = a4;
  v9 = a3;
  v17 = &v9;
  v4 = GetVersion();
  dword_A969A78 = (unsigned __int16)v4 >> 8;
  dword_A969A74 = (unsigned __int8)v4;
  dword_A969A70 = dword_A969A78 + ((unsigned __int8)v4 << 8);
  dword_A969A6C = v4 >> 16;
  if ( !sub_4F0C80(0) )
    sub_4EC630(a2, a4, 28);
  v22 = 0;
  sub_4F3890(a2, a4);
  dword_A96A1A8 = (int)GetCommandLineA();
  dword_A969AB8 = sub_4F6CE0(a2, a4);
  sub_4F67D0(a2, a3, a4);
  sub_4F6680(a2, a3, a4);
  sub_4EAFA0();
  StartupInfo.dwFlags = 0;
  GetStartupInfoA(&StartupInfo);
  v14 = sub_4F65C0(a2, a3, a4);
  if ( StartupInfo.dwFlags & 1 )
    v12 = StartupInfo.wShowWindow;
  else
    v12 = 10;
  v5 = v12;
  v6 = v14;
  v7 = GetModuleHandleA(0);
  v15 = sub_4017CB(v7, 0, v6, v5);
  sub_4EAFE0(a2, a3, a4, v15);
  v13 = ExceptionInfo->ExceptionRecord->ExceptionCode;
  return sub_4F63B0(v13, ExceptionInfo);
}
// 4017CB: using guessed type _DWORD __stdcall sub_4017CB(_DWORD, _DWORD, _DWORD, _DWORD);
// A969A6C: using guessed type int dword_A969A6C;
// A969A70: using guessed type int dword_A969A70;
// A969A74: using guessed type int dword_A969A74;
// A969A78: using guessed type int dword_A969A78;
// A969AB8: using guessed type int dword_A969AB8;
// A96A1A8: using guessed type int dword_A96A1A8;

//----- (004EC5DA) --------------------------------------------------------
unsigned int __usercall sub_4EC5DA<eax>(int a1<ebx>, int a2<ebp>, int a3<edi>, int a4<esi>)
{
  return sub_4EB000(a1, a3, a4, *(_DWORD *)(a2 - 104));
}

//----- (004EC600) --------------------------------------------------------
int __usercall sub_4EC600<eax>(int ebx0<ebx>, int a2<esi>, int a1)
{
  if ( dword_A969AC0 == 1 )
    sub_4F6F00(ebx0, a2);
  sub_4F6F50(ebx0, a2, a1);
  return off_5A20A0(255);
}
// 5A20A0: using guessed type int (__cdecl *off_5A20A0)(_DWORD);
// A969AC0: using guessed type int dword_A969AC0;

//----- (004EC630) --------------------------------------------------------
void __usercall sub_4EC630(int a1<ebx>, int a2<esi>, int a3)
{
  if ( dword_A969AC0 == 1 )
    sub_4F6F00(a1, a2);
  sub_4F6F50(a1, a2, a3);
  ExitProcess(0xFFu);
}
// A969AC0: using guessed type int dword_A969AC0;

//----- (004EC660) --------------------------------------------------------
signed int __usercall sub_4EC660<eax>(int a1<ebx>, int esi0<esi>, unsigned __int8 Buffer, int a2)
{
  int v4; // eax@6
  signed int result; // eax@6
  char v6; // [sp+0h] [bp-20h]@0
  int v7; // [sp+Ch] [bp-14h]@23
  signed int v8; // [sp+10h] [bp-10h]@4
  int v9; // [sp+14h] [bp-Ch]@11
  int v10; // [sp+18h] [bp-8h]@4
  DWORD nNumberOfBytesToWrite; // [sp+1Ch] [bp-4h]@20

  if ( !a2 && sub_4EB280(a1, esi0, 2, (int)"_flsbuf.c", 105, 0, "str != NULL", v6) == 1 )
    __debugbreak();
  v10 = a2;
  v8 = *(_DWORD *)(a2 + 16);
  if ( !(*(_DWORD *)(a2 + 12) & 0x82) || *(_DWORD *)(a2 + 12) & 0x40 )
  {
    v4 = *(_DWORD *)(a2 + 12);
    LOBYTE(v4) = v4 | 0x20;
    *(_DWORD *)(a2 + 12) = v4;
    return -1;
  }
  if ( *(_DWORD *)(a2 + 12) & 1 )
  {
    *(_DWORD *)(a2 + 4) = 0;
    if ( !(*(_DWORD *)(v10 + 12) & 0x10) )
    {
      *(_DWORD *)(v10 + 12) |= 0x20u;
      return -1;
    }
    *(_DWORD *)v10 = *(_DWORD *)(v10 + 8);
    *(_DWORD *)(v10 + 12) &= 0xFFFFFFFEu;
  }
  *(_DWORD *)(v10 + 12) |= 2u;
  *(_DWORD *)(v10 + 12) &= 0xFFFFFFEFu;
  *(_DWORD *)(v10 + 4) = 0;
  v9 = 0;
  if ( !(*(_DWORD *)(v10 + 12) & 0x10C)
    && ((_UNKNOWN *)v10 != &unk_5A1E40 && (_UNKNOWN *)v10 != &unk_5A1E60 || !sub_4F7230(v8)) )
    sub_4F7160(a1, esi0, v10);
  if ( *(_DWORD *)(v10 + 12) & 0x108 )
  {
    if ( *(_DWORD *)v10 - *(_DWORD *)(v10 + 8) < 0
      && sub_4EB280(
           a1,
           esi0,
           2,
           (int)"_flsbuf.c",
           160,
           0,
           "(\"inconsistent IOB fields\", stream->_ptr - stream->_base >= 0)",
           v6) == 1 )
      __debugbreak();
    nNumberOfBytesToWrite = *(_DWORD *)v10 - *(_DWORD *)(v10 + 8);
    *(_DWORD *)v10 = *(_DWORD *)(v10 + 8) + 1;
    *(_DWORD *)(v10 + 4) = *(_DWORD *)(v10 + 24) - 1;
    if ( (signed int)nNumberOfBytesToWrite <= 0 )
    {
      if ( v8 == -1 )
        v7 = (int)&unk_5A2570;
      else
        v7 = dword_A969DA0[v8 >> 5] + 8 * (v8 & 0x1F);
      if ( *(_BYTE *)(v7 + 4) & 0x20 )
        sub_4F0500(v8, 0, 2u);
    }
    else
    {
      v9 = sub_4E7F70(v8, *(_DWORD *)(v10 + 8), nNumberOfBytesToWrite);
    }
    **(_BYTE **)(v10 + 8) = Buffer;
  }
  else
  {
    nNumberOfBytesToWrite = 1;
    v9 = sub_4E7F70(v8, (signed int)&Buffer, 1u);
  }
  if ( v9 == nNumberOfBytesToWrite )
  {
    result = Buffer;
  }
  else
  {
    *(_DWORD *)(v10 + 12) |= 0x20u;
    result = -1;
  }
  return result;
}
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004EC8E0) --------------------------------------------------------
int __usercall sub_4EC8E0<eax>(int ebx0<ebx>, int esi0<esi>, int a1, int a2, int a3)
{
  int v5; // eax@17
  int v6; // edx@19
  int v7; // eax@20
  int v8; // eax@24
  int v9; // edx@39
  int v10; // eax@41
  int v11; // ecx@42
  int v12; // ecx@46
  int v13; // edx@61
  int v14; // eax@69
  int v15; // edx@76
  int v16; // eax@86
  int v17; // eax@91
  int v18; // ecx@98
  int v19; // edx@109
  int v20; // edx@123
  int v21; // edx@133
  int v22; // edx@158
  const WCHAR v23; // ST22_2@159
  char v25; // [sp+0h] [bp-2B4h]@0
  signed int v26; // [sp+10h] [bp-2A4h]@63
  int v27; // [sp+24h] [bp-290h]@6
  int v28; // [sp+28h] [bp-28Ch]@159
  char v29; // [sp+2Ch] [bp-288h]@159
  int v30; // [sp+30h] [bp-284h]@157
  const WCHAR *v31; // [sp+34h] [bp-280h]@157
  int v32; // [sp+38h] [bp-27Ch]@150
  __int64 v33; // [sp+3Ch] [bp-278h]@111
  int v34; // [sp+44h] [bp-270h]@135
  __int64 v35; // [sp+48h] [bp-26Ch]@123
  int v36; // [sp+50h] [bp-264h]@91
  int v37; // [sp+54h] [bp-260h]@91
  int v38; // [sp+58h] [bp-25Ch]@81
  int v39; // [sp+5Ch] [bp-258h]@65
  char *i; // [sp+60h] [bp-254h]@68
  char *j; // [sp+64h] [bp-250h]@75
  int v42; // [sp+68h] [bp-24Ch]@53
  __int16 v43; // [sp+6Ch] [bp-248h]@51
  int v44; // [sp+70h] [bp-244h]@14
  char v45; // [sp+74h] [bp-240h]@106
  char v46; // [sp+75h] [bp-23Fh]@106
  int v47; // [sp+78h] [bp-23Ch]@14
  int v48; // [sp+7Ch] [bp-238h]@100
  int v49; // [sp+80h] [bp-234h]@14
  int v50; // [sp+84h] [bp-230h]@103
  int v51; // [sp+88h] [bp-22Ch]@1
  CHAR MultiByteStr; // [sp+8Ch] [bp-228h]@48
  char v53; // [sp+28Bh] [bp-29h]@132
  int v54; // [sp+28Ch] [bp-28h]@2
  int v55; // [sp+290h] [bp-24h]@1
  char *k; // [sp+294h] [bp-20h]@52
  int v57; // [sp+298h] [bp-1Ch]@9
  int v58; // [sp+29Ch] [bp-18h]@1
  WCHAR WideCharStr; // [sp+2A0h] [bp-14h]@48
  int v60; // [sp+2A4h] [bp-10h]@14
  int v61; // [sp+2A8h] [bp-Ch]@8
  int v62; // [sp+2ACh] [bp-8h]@14
  int v63; // [sp+2B0h] [bp-4h]@14

  v55 = 0;
  v51 = 0;
  v58 = 0;
  while ( 1 )
  {
    LOBYTE(v54) = *(_BYTE *)a2++;
    if ( !(_BYTE)v54 )
      return v51;
    if ( v51 < 0 )
      return v51;
    if ( (char)v54 < 32 || (char)v54 > 120 )
      v27 = 0;
    else
      v27 = aInconsistentIo[(char)v54 + 44] & 0xF;
    v61 = v27;
    v58 = *(&byte_5914E8[8 * v27] + v58) >> 4;
    switch ( v58 )
    {
      case 0:
LABEL_9:
        v57 = 0;
        if ( *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * (unsigned __int8)v54) & 0x8000 )
        {
          sub_4ED610(ebx0, esi0, v54, a1, (int)&v51);
          LOBYTE(v54) = *(_BYTE *)a2++;
          if ( !(_BYTE)v54 )
          {
            if ( sub_4EB280(ebx0, esi0, 2, (int)"output.c", 390, 0, "ch != _T('\\0')", v25) == 1 )
              __debugbreak();
          }
        }
        sub_4ED610(ebx0, esi0, v54, a1, (int)&v51);
        break;
      case 1:
        v62 = 0;
        v47 = 0;
        v44 = 0;
        v60 = 0;
        v63 = 0;
        v49 = -1;
        v57 = 0;
        break;
      case 2:
        switch ( (char)v54 )
        {
          case 45:
            v63 |= 4u;
            break;
          case 43:
            v5 = v63;
            LOBYTE(v5) = v63 | 1;
            v63 = v5;
            break;
          case 32:
            v63 |= 2u;
            break;
          case 35:
            v6 = v63;
            LOBYTE(v6) = v63 | 0x80;
            v63 = v6;
            break;
          case 48:
            v7 = v63;
            LOBYTE(v7) = v63 | 8;
            v63 = v7;
            break;
          default:
            continue;
        }
        continue;
      case 3:
        if ( (char)v54 == 42 )
        {
          v44 = sub_4ED720((int)&a3);
          if ( v44 < 0 )
          {
            v8 = v63;
            LOBYTE(v8) = v63 | 4;
            v63 = v8;
            v44 = -v44;
          }
        }
        else
        {
          v44 = 10 * v44 + (char)v54 - 48;
        }
        break;
      case 4:
        v49 = 0;
        break;
      case 5:
        if ( (char)v54 == 42 )
        {
          v49 = sub_4ED720((int)&a3);
          if ( v49 < 0 )
            v49 = -1;
        }
        else
        {
          v49 = 10 * v49 + (char)v54 - 48;
        }
        break;
      case 6:
        switch ( (char)v54 )
        {
          case 108:
            v63 |= 0x10u;
            break;
          case 73:
            if ( *(_BYTE *)a2 != 54 || *(_BYTE *)(a2 + 1) != 52 )
            {
              v58 = 0;
              goto LABEL_9;
            }
            a2 += 2;
            v9 = v63;
            BYTE1(v9) |= 0x80u;
            v63 = v9;
            break;
          case 104:
            v10 = v63;
            LOBYTE(v10) = v63 | 0x20;
            v63 = v10;
            break;
          case 119:
            v11 = v63;
            BYTE1(v11) |= 8u;
            v63 = v11;
            break;
          default:
            continue;
        }
        continue;
      case 7:
        switch ( (char)v54 )
        {
          case 67:
            if ( !(v63 & 0x830) )
            {
              v12 = v63;
              BYTE1(v12) |= 8u;
              v63 = v12;
            }
            goto LABEL_47;
          case 99:
LABEL_47:
            if ( v63 & 0x810 )
            {
              WideCharStr = sub_4ED760((int)&a3);
              v55 = sub_4F7260(&MultiByteStr, WideCharStr);
              if ( v55 < 0 )
                v47 = 1;
            }
            else
            {
              v43 = sub_4ED720((int)&a3);
              MultiByteStr = v43;
              v55 = 1;
            }
            k = &MultiByteStr;
            break;
          case 90:
            v42 = sub_4ED720((int)&a3);
            if ( v42 && *(_DWORD *)(v42 + 4) )
            {
              if ( v63 & 0x800 )
              {
                k = *(char **)(v42 + 4);
                v55 = (unsigned int)*(_WORD *)v42 >> 1;
                v57 = 1;
              }
              else
              {
                v57 = 0;
                k = *(char **)(v42 + 4);
                v55 = *(_WORD *)v42;
              }
            }
            else
            {
              k = off_5A20A8;
              v55 = sub_4E4B50((int)off_5A20A8);
            }
            break;
          case 83:
            if ( !(v63 & 0x830) )
            {
              v13 = v63;
              BYTE1(v13) |= 8u;
              v63 = v13;
            }
            goto LABEL_62;
          case 115:
LABEL_62:
            if ( v49 == -1 )
              v26 = 2147483647;
            else
              v26 = v49;
            v39 = v26;
            k = (char *)sub_4ED720((int)&a3);
            if ( v63 & 0x810 )
            {
              if ( !k )
                k = (char *)off_5A20AC;
              v57 = 1;
              for ( i = k; ; i += 2 )
              {
                v14 = v39--;
                if ( !v14 )
                  break;
                if ( !*(_WORD *)i )
                  break;
              }
              v55 = (signed int)(i - k) >> 1;
            }
            else
            {
              if ( !k )
                k = off_5A20A8;
              for ( j = k; ; ++j )
              {
                v15 = v39--;
                if ( !v15 )
                  break;
                if ( !*j )
                  break;
              }
              v55 = j - k;
            }
            break;
          case 110:
            v38 = sub_4ED720((int)&a3);
            if ( v63 & 0x20 )
              *(_WORD *)v38 = v51;
            else
              *(_DWORD *)v38 = v51;
            v47 = 1;
            break;
          case 69:
          case 71:
            v62 = 1;
            LOBYTE(v54) = v54 + 32;
            goto LABEL_86;
          case 101:
          case 102:
          case 103:
LABEL_86:
            v16 = v63;
            LOBYTE(v16) = v63 | 0x40;
            v63 = v16;
            k = &MultiByteStr;
            if ( v49 >= 0 )
            {
              if ( !v49 && (char)v54 == 103 )
                v49 = 1;
            }
            else
            {
              v49 = 6;
            }
            a3 += 8;
            v17 = *(_DWORD *)(a3 - 8 + 4);
            v36 = *(_DWORD *)(a3 - 8);
            v37 = v17;
            off_5A21C0(&v36, k, (char)v54, v49, v62);
            if ( v63 & 0x80 && !v49 )
              off_5A21CC(k);
            if ( (char)v54 == 103 && !(v63 & 0x80) )
              off_5A21C4(k);
            if ( *k == 45 )
            {
              v18 = v63;
              BYTE1(v18) |= 1u;
              v63 = v18;
              ++k;
            }
            v55 = sub_4E4B50((int)k);
            break;
          case 100:
          case 105:
            v63 |= 0x40u;
            v48 = 10;
            goto LABEL_110;
          case 117:
            v48 = 10;
            goto LABEL_110;
          case 112:
            v49 = 8;
            goto LABEL_103;
          case 88:
LABEL_103:
            v50 = 7;
            goto LABEL_105;
          case 120:
            v50 = 39;
LABEL_105:
            v48 = 16;
            if ( v63 & 0x80 )
            {
              v45 = 48;
              v46 = v50 + 81;
              v60 = 2;
            }
            goto LABEL_110;
          case 111:
            v48 = 8;
            if ( v63 & 0x80 )
            {
              v19 = v63;
              BYTE1(v19) |= 2u;
              v63 = v19;
            }
LABEL_110:
            if ( v63 & 0x8000 )
            {
              v33 = sub_4ED740((int)&a3);
            }
            else
            {
              if ( v63 & 0x20 )
              {
                if ( v63 & 0x40 )
                  v33 = (signed __int16)sub_4ED720((int)&a3);
                else
                  v33 = (unsigned __int16)sub_4ED720((int)&a3);
              }
              else
              {
                if ( v63 & 0x40 )
                  v33 = sub_4ED720((int)&a3);
                else
                  v33 = (unsigned int)sub_4ED720((int)&a3);
              }
            }
            if ( v63 & 0x40 && SHIDWORD(v33) <= 0 && SHIDWORD(v33) < 0 )
            {
              v35 = -v33;
              v20 = v63;
              BYTE1(v20) |= 1u;
              v63 = v20;
            }
            else
            {
              v35 = v33;
            }
            if ( !(v63 & 0x8000) )
              HIDWORD(v35) = 0;
            if ( v49 >= 0 )
              v63 &= 0xFFFFFFF7u;
            else
              v49 = 1;
            if ( !v35 )
              v60 = 0;
            for ( k = &v53; ; --k )
            {
              v21 = v49--;
              if ( v21 <= 0 )
              {
                if ( !v35 )
                  break;
              }
              v34 = sub_4F7370(v35, v48) + 48;
              v35 = sub_4F7300(v35, v48, (unsigned __int64)v48 >> 32);
              if ( v34 > 57 )
                v34 += v50;
              *k = v34;
            }
            v55 = &v53 - k++;
            if ( v63 & 0x200 && (*k != 48 || !v55) )
            {
              --k;
              *k = 48;
              ++v55;
            }
            break;
          default:
            break;
        }
        if ( !v47 )
        {
          if ( v63 & 0x40 )
          {
            if ( v63 & 0x100 )
            {
              v45 = 45;
              v60 = 1;
            }
            else
            {
              if ( v63 & 1 )
              {
                v45 = 43;
                v60 = 1;
              }
              else
              {
                if ( v63 & 2 )
                {
                  v45 = 32;
                  v60 = 1;
                }
              }
            }
          }
          v32 = v44 - v55 - v60;
          if ( !(v63 & 0xC) )
            sub_4ED690(ebx0, esi0, 0x20u, v32, a1, (int)&v51);
          sub_4ED6D0(ebx0, esi0, (int)&v45, v60, a1, (int)&v51);
          if ( v63 & 8 && !(v63 & 4) )
            sub_4ED690(ebx0, esi0, 0x30u, v32, a1, (int)&v51);
          if ( v57 && v55 > 0 )
          {
            v31 = (const WCHAR *)k;
            v30 = v55;
            while ( 1 )
            {
              v22 = v30--;
              if ( !v22 )
                break;
              v23 = *v31;
              ++v31;
              v28 = sub_4F7260(&v29, v23);
              if ( v28 <= 0 )
                break;
              sub_4ED6D0(ebx0, esi0, (int)&v29, v28, a1, (int)&v51);
            }
          }
          else
          {
            sub_4ED6D0(ebx0, esi0, (int)k, v55, a1, (int)&v51);
          }
          if ( v63 & 4 )
            sub_4ED690(ebx0, esi0, 0x20u, v32, a1, (int)&v51);
        }
        break;
      default:
        continue;
    }
  }
}
// 5A20A8: using guessed type char *off_5A20A8;
// 5A20AC: using guessed type wchar_t *off_5A20AC;
// 5A21C0: using guessed type int (__cdecl *off_5A21C0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 5A21C4: using guessed type int (__cdecl *off_5A21C4)(_DWORD);
// 5A21CC: using guessed type int (__cdecl *off_5A21CC)(_DWORD);
// 5A21D8: using guessed type __int16 off_5A21D8[2];

//----- (004ED610) --------------------------------------------------------
signed int __usercall sub_4ED610<eax>(int a1<ebx>, int esi0<esi>, unsigned __int8 Buffer, int a2, int a3)
{
  signed int result; // eax@2
  signed int v6; // [sp+0h] [bp-4h]@2

  --*(_DWORD *)(a2 + 4);
  if ( *(_DWORD *)(a2 + 4) < 0 )
  {
    result = sub_4EC660(a1, esi0, Buffer, a2);
    v6 = result;
  }
  else
  {
    **(_BYTE **)a2 = Buffer;
    v6 = Buffer;
    result = *(_DWORD *)a2 + 1;
    *(_DWORD *)a2 = result;
  }
  if ( v6 == -1 )
  {
    *(_DWORD *)a3 = -1;
  }
  else
  {
    result = *(_DWORD *)a3 + 1;
    *(_DWORD *)a3 = result;
  }
  return result;
}

//----- (004ED690) --------------------------------------------------------
signed int __usercall sub_4ED690<eax>(int a1<ebx>, int esi0<esi>, unsigned __int8 Buffer, int a2, int a3, int a4)
{
  signed int result; // eax@1

  do
  {
    result = a2--;
    if ( result <= 0 )
      break;
    result = sub_4ED610(a1, esi0, Buffer, a3, a4);
  }
  while ( *(_DWORD *)a4 != -1 );
  return result;
}

//----- (004ED6D0) --------------------------------------------------------
signed int __usercall sub_4ED6D0<eax>(int ebx0<ebx>, int esi0<esi>, int a1, int a2, int a3, int a4)
{
  signed int result; // eax@1
  unsigned __int8 v7; // ST00_1@2

  do
  {
    result = a2--;
    if ( result <= 0 )
      break;
    v7 = *(_BYTE *)a1++;
    result = sub_4ED610(ebx0, esi0, v7, a3, a4);
  }
  while ( *(_DWORD *)a4 != -1 );
  return result;
}

//----- (004ED720) --------------------------------------------------------
int __cdecl sub_4ED720(int a1)
{
  *(_DWORD *)a1 += 4;
  return *(_DWORD *)(*(_DWORD *)a1 - 4);
}

//----- (004ED740) --------------------------------------------------------
__int64 __cdecl sub_4ED740(int a1)
{
  *(_DWORD *)a1 += 8;
  return *(_QWORD *)(*(_DWORD *)a1 - 8);
}

//----- (004ED760) --------------------------------------------------------
__int16 __cdecl sub_4ED760(int a1)
{
  *(_DWORD *)a1 += 4;
  return *(_WORD *)(*(_DWORD *)a1 - 4);
}

//----- (004ED780) --------------------------------------------------------
int __usercall sub_4ED780<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  int result; // eax@4
  char v4; // [sp+0h] [bp-Ch]@0

  if ( !a3 && sub_4EB280(a1, a2, 2, (int)"_freebuf.c", 48, 0, "stream != NULL", v4) == 1 )
    __debugbreak();
  result = 0;
  if ( *(_DWORD *)(a3 + 12) & 0x83 )
  {
    result = a3;
    if ( *(_DWORD *)(a3 + 12) & 8 )
    {
      sub_4E5F50(a1, a2, *(_DWORD *)(a3 + 8), 2);
      *(_DWORD *)(a3 + 12) &= 0xFFFFFBF7u;
      *(_DWORD *)a3 = 0;
      *(_DWORD *)(a3 + 8) = 0;
      result = a3;
      *(_DWORD *)(a3 + 4) = 0;
    }
  }
  return result;
}

//----- (004ED820) --------------------------------------------------------
int __usercall sub_4ED820<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, char *a5, int a6)
{
  __int16 v6; // dx@11
  int v7; // eax@13
  __int16 v8; // cx@20
  int v9; // eax@83
  __int16 v10; // cx@133
  __int64 v11; // qax@135
  __int16 v12; // cx@140
  __int64 v13; // qax@144
  __int64 v14; // qax@147
  __int64 v15; // qax@147
  __int16 v16; // ax@166
  __int16 v17; // cx@173
  int v18; // eax@199
  __int16 v19; // cx@216
  int v20; // edx@218
  int v21; // eax@221
  __int16 v22; // cx@225
  int v23; // edx@227
  int v24; // ecx@232
  int v25; // eax@236
  __int16 v26; // dx@241
  int v27; // eax@243
  int result; // eax@272
  char v29; // [sp+0h] [bp-230h]@0
  signed int v30; // [sp+Ch] [bp-224h]@270
  int v31; // [sp+10h] [bp-220h]@240
  int v32; // [sp+14h] [bp-21Ch]@224
  int v33; // [sp+18h] [bp-218h]@215
  int v34; // [sp+1Ch] [bp-214h]@172
  int v35; // [sp+20h] [bp-210h]@165
  int v36; // [sp+24h] [bp-20Ch]@139
  int v37; // [sp+28h] [bp-208h]@132
  int v38; // [sp+34h] [bp-1FCh]@19
  int v39; // [sp+38h] [bp-1F8h]@10
  int v40; // [sp+3Ch] [bp-1F4h]@259
  const CHAR MultiByteStr; // [sp+40h] [bp-1F0h]@88
  char v42; // [sp+41h] [bp-1EFh]@89
  int v43; // [sp+44h] [bp-1ECh]@66
  int v44; // [sp+48h] [bp-1E8h]@16
  int v45; // [sp+4Ch] [bp-1E4h]@81
  char *v46; // [sp+50h] [bp-1E0h]@54
  int v47; // [sp+54h] [bp-1DCh]@16
  int v48; // [sp+58h] [bp-1D8h]@45
  int v49; // [sp+5Ch] [bp-1D4h]@36
  char v50; // [sp+60h] [bp-1D0h]@207
  char v51; // [sp+1C0h] [bp-70h]@16
  int v52; // [sp+1C4h] [bp-6Ch]@16
  char v53; // [sp+1C8h] [bp-68h]@16
  char v54; // [sp+1CCh] [bp-64h]@16
  char v55[11]; // [sp+1D0h] [bp-60h]@62
  char v56; // [sp+1DBh] [bp-55h]@64
  int v57; // [sp+1F0h] [bp-40h]@16
  int v58; // [sp+1F4h] [bp-3Ch]@36
  char v59; // [sp+1F8h] [bp-38h]@16
  int v60; // [sp+1FCh] [bp-34h]@7
  __int64 v61; // [sp+200h] [bp-30h]@27
  char v62; // [sp+208h] [bp-28h]@7
  int v63; // [sp+20Ch] [bp-24h]@71
  int v64; // [sp+210h] [bp-20h]@7
  int v65; // [sp+214h] [bp-1Ch]@16
  char v66; // [sp+218h] [bp-18h]@16
  char v67; // [sp+21Ch] [bp-14h]@16
  char v68; // [sp+220h] [bp-10h]@16
  int v69; // [sp+224h] [bp-Ch]@18
  int v70; // [sp+228h] [bp-8h]@16
  WCHAR WideCharStr; // [sp+22Ch] [bp-4h]@90

  if ( !a5 && sub_4EB280(a1, a3, 2, (int)"input.c", 265, 0, "format != NULL", v29) == 1 )
    __debugbreak();
  if ( !a4 && sub_4EB280(a1, a3, 2, (int)"input.c", 268, 0, "stream != NULL", v29) == 1 )
    __debugbreak();
  v62 = 0;
  v64 = 0;
  v60 = 0;
  while ( 1 )
  {
    if ( !*a5 )
      goto LABEL_267;
    if ( cbMultiByte <= 1 )
    {
      v6 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * (unsigned __int8)*a5);
      v39 = v6 & 8;
    }
    else
    {
      v39 = sub_4F0440(a1, a2, a3, (unsigned __int8)*a5, 8);
    }
    if ( v39 )
    {
      --v64;
      v7 = sub_4EECE0(a1, a2, a3, (int)&v64, a4);
      sub_4EECC0(a1, a3, v7, a4);
      do
        ++a5;
      while ( sub_4F76B0(a1, a2, a3, (unsigned __int8)*a5) );
    }
    if ( (unsigned __int8)*a5 == 37 )
    {
      v57 = 0;
      LOBYTE(v70) = 0;
      v52 = 0;
      v44 = 0;
      v65 = 0;
      v68 = 0;
      v53 = 0;
      v51 = 0;
      v66 = 0;
      v54 = 0;
      v67 = 0;
      v59 = 1;
      v47 = 0;
LABEL_17:
      while ( !v66 )
      {
        ++a5;
        v69 = (unsigned __int8)*a5;
        if ( cbMultiByte <= 1 )
        {
          v8 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * (unsigned __int8)v69);
          v38 = v8 & 4;
        }
        else
        {
          v38 = sub_4F0440(a1, a2, a3, (unsigned __int8)v69, 4);
        }
        if ( v38 )
        {
          ++v44;
          v65 = v69 + 10 * v65 - 48;
        }
        else
        {
          switch ( v69 )
          {
            case 70:
            case 78:
              goto LABEL_17;
            case 104:
              --v59;
              --v67;
              break;
            case 73:
              if ( (unsigned __int8)a5[1] != 54 || (unsigned __int8)a5[2] != 52 )
                goto LABEL_33;
              a5 += 2;
              ++v47;
              v61 = 0i64;
              break;
            case 76:
              ++v59;
              break;
            case 108:
              ++v59;
              goto LABEL_31;
            case 119:
LABEL_31:
              ++v67;
              break;
            case 42:
              ++v51;
              break;
            default:
LABEL_33:
              ++v66;
              break;
          }
        }
      }
      if ( !v51 )
      {
        v49 = a6;
        a6 += 4;
        v58 = *(_DWORD *)(a6 - 4);
      }
      v66 = 0;
      if ( !v67 )
      {
        if ( (unsigned __int8)*a5 != 83 && (unsigned __int8)*a5 != 67 )
          --v67;
        else
          ++v67;
      }
      v69 = (unsigned __int8)*a5 | 0x20;
      if ( v69 != 110 )
      {
        if ( v69 == 99 || v69 == 123 )
        {
          ++v64;
          v48 = sub_4EEC60(a1, a3, a4);
        }
        else
        {
          v48 = sub_4EECE0(a1, a2, a3, (int)&v64, a4);
        }
      }
      if ( v44 && !v65 )
      {
        --v64;
        sub_4EECC0(a1, a3, v48, a4);
        goto LABEL_267;
      }
      switch ( v69 )
      {
        case 99:
          if ( !v44 )
          {
            v44 = 1;
            ++v65;
          }
          if ( v67 > 0 )
            ++v54;
          v46 = "]";
          --v68;
          goto LABEL_62;
        case 115:
          if ( v67 > 0 )
            ++v54;
          v46 = " \t-\r]";
          --v68;
          goto LABEL_62;
        case 123:
          if ( v67 > 0 )
            ++v54;
          ++a5;
          v46 = a5;
          if ( (unsigned __int8)*a5 == 94 )
          {
            ++v46;
            --v68;
          }
LABEL_62:
          sub_4E4640(v55, 0, 0x20u);
          if ( v69 == 123 && (unsigned __int8)*v46 == 93 )
          {
            LOBYTE(v70) = 93;
            ++v46;
            v56 = 32;
          }
          while ( (unsigned __int8)*v46 != 93 )
          {
            LOBYTE(v43) = *v46++;
            if ( (unsigned __int8)v43 == 45 && (_BYTE)v70 && (unsigned __int8)*v46 != 93 )
            {
              LOBYTE(v43) = *v46++;
              if ( (unsigned __int8)v70 >= (signed int)(unsigned __int8)v43 )
              {
                LOBYTE(v63) = v70;
                LOBYTE(v70) = v43;
              }
              else
              {
                LOBYTE(v63) = v43;
              }
              LOBYTE(v43) = v70;
              while ( (unsigned __int8)v43 <= (signed int)(unsigned __int8)v63 )
              {
                v55[(signed int)(unsigned __int8)v43 >> 3] |= 1 << (v43 & 7);
                LOBYTE(v43) = v43 + 1;
              }
              LOBYTE(v70) = 0;
            }
            else
            {
              LOBYTE(v70) = v43;
              v55[(signed int)(unsigned __int8)v43 >> 3] |= 1 << (v43 & 7);
            }
          }
          if ( !*v46 )
            goto LABEL_267;
          if ( v69 == 123 )
            a5 = v46;
          v45 = v58;
          --v64;
          sub_4EECC0(a1, a3, v48, a4);
          while ( 2 )
          {
            if ( !v44 || (v9 = v65, --v65, v9) )
            {
              ++v64;
              v48 = sub_4EEC60(a1, a3, a4);
              if ( v48 != -1 && (1 << (v48 & 7)) & (v68 ^ v55[v48 >> 3]) )
              {
                if ( v51 )
                {
                  ++v45;
                }
                else
                {
                  if ( v54 )
                  {
                    MultiByteStr = v48;
                    if ( *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * (unsigned __int8)v48) & 0x8000 )
                    {
                      ++v64;
                      v42 = sub_4EEC60(a1, a3, a4);
                    }
                    sub_4F73F0(a1, a3, &WideCharStr, &MultiByteStr, cbMultiByte);
                    *(_WORD *)v58 = WideCharStr;
                    v58 += 2;
                  }
                  else
                  {
                    *(_BYTE *)v58++ = v48;
                  }
                }
                continue;
              }
              --v64;
              sub_4EECC0(a1, a3, v48, a4);
            }
            break;
          }
          if ( v45 == v58 )
            goto LABEL_267;
          if ( !v51 )
          {
            ++v60;
            if ( v69 != 99 )
            {
              if ( v54 )
                *(_WORD *)v58 = 0;
              else
                *(_BYTE *)v58 = 0;
            }
          }
          goto LABEL_254;
        case 105:
          v69 = 100;
          goto LABEL_105;
        case 120:
LABEL_105:
          if ( v48 == 45 )
          {
            ++v53;
          }
          else
          {
            if ( v48 != 43 )
              goto LABEL_112;
          }
          --v65;
          if ( v65 || !v44 )
          {
            ++v64;
            v48 = sub_4EEC60(a1, a3, a4);
          }
          else
          {
            ++v66;
          }
LABEL_112:
          if ( v48 == 48 )
          {
            ++v64;
            v48 = sub_4EEC60(a1, a3, a4);
            if ( (char)v48 != 120 && (char)v48 != 88 )
            {
              ++v52;
              if ( v69 == 120 )
              {
                --v64;
                sub_4EECC0(a1, a3, v48, a4);
                v48 = 48;
              }
              else
              {
                v69 = 111;
              }
            }
            else
            {
              ++v64;
              v48 = sub_4EEC60(a1, a3, a4);
              v69 = 120;
            }
          }
          goto LABEL_128;
        case 112:
          v59 = 1;
          goto LABEL_121;
        case 100:
        case 111:
        case 117:
LABEL_121:
          if ( v48 == 45 )
          {
            ++v53;
          }
          else
          {
            if ( v48 != 43 )
              goto LABEL_128;
          }
          --v65;
          if ( v65 || !v44 )
          {
            ++v64;
            v48 = sub_4EEC60(a1, a3, a4);
          }
          else
          {
            ++v66;
          }
LABEL_128:
          if ( v47 )
          {
            while ( !v66 )
            {
              if ( v69 == 120 )
              {
                if ( cbMultiByte <= 1 )
                {
                  v10 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * v48);
                  v37 = v10 & 0x80;
                }
                else
                {
                  v37 = sub_4F0440(a1, a2, a3, v48, 128);
                }
                if ( v37 )
                {
                  LODWORD(v11) = sub_4F7940(v61, 4u);
                  v61 = v11;
                  v48 = sub_4EEC00(a1, a2, a3, v48);
                }
                else
                {
                  ++v66;
                }
              }
              else
              {
                if ( cbMultiByte <= 1 )
                {
                  v12 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * v48);
                  v36 = v12 & 4;
                }
                else
                {
                  v36 = sub_4F0440(a1, a2, a3, v48, 4);
                }
                if ( v36 )
                {
                  if ( v69 == 111 )
                  {
                    if ( v48 >= 56 )
                    {
                      ++v66;
                    }
                    else
                    {
                      LODWORD(v13) = sub_4F7940(v61, 3u);
                      v61 = v13;
                    }
                  }
                  else
                  {
                    LODWORD(v14) = sub_4F7940(v61, 2u);
                    LODWORD(v15) = sub_4F7940(v61 + v14, 1u);
                    v61 = v15;
                  }
                }
                else
                {
                  ++v66;
                }
              }
              if ( v66 )
              {
                --v64;
                sub_4EECC0(a1, a3, v48, a4);
              }
              else
              {
                ++v52;
                v61 += v48 - 48;
                if ( !v44 || (--v65, v65) )
                {
                  ++v64;
                  v48 = sub_4EEC60(a1, a3, a4);
                }
                else
                {
                  ++v66;
                }
              }
            }
            if ( v53 )
              v61 = -v61;
          }
          else
          {
            while ( !v66 )
            {
              if ( v69 != 120 && v69 != 112 )
              {
                if ( cbMultiByte <= 1 )
                {
                  v17 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * v48);
                  v34 = v17 & 4;
                }
                else
                {
                  v34 = sub_4F0440(a1, a2, a3, v48, 4);
                }
                if ( v34 )
                {
                  if ( v69 == 111 )
                  {
                    if ( v48 >= 56 )
                      ++v66;
                    else
                      v57 *= 8;
                  }
                  else
                  {
                    v57 *= 10;
                  }
                }
                else
                {
                  ++v66;
                }
              }
              else
              {
                if ( cbMultiByte <= 1 )
                {
                  v16 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * v48);
                  v35 = v16 & 0x80;
                }
                else
                {
                  v35 = sub_4F0440(a1, a2, a3, v48, 128);
                }
                if ( v35 )
                {
                  v57 *= 16;
                  v48 = sub_4EEC00(a1, a2, a3, v48);
                }
                else
                {
                  ++v66;
                }
              }
              if ( v66 )
              {
                --v64;
                sub_4EECC0(a1, a3, v48, a4);
              }
              else
              {
                ++v52;
                v57 = v57 + v48 - 48;
                if ( !v44 || (--v65, v65) )
                {
                  ++v64;
                  v48 = sub_4EEC60(a1, a3, a4);
                }
                else
                {
                  ++v66;
                }
              }
            }
            if ( v53 )
              v57 = -v57;
          }
          if ( v69 == 70 )
            v52 = 0;
          if ( !v52 )
            goto LABEL_267;
          if ( !v51 )
          {
            ++v60;
LABEL_198:
            if ( v47 )
            {
              v18 = v58;
              *(_DWORD *)v58 = v61;
              *(_DWORD *)(v18 + 4) = HIDWORD(v61);
            }
            else
            {
              if ( v59 )
                *(_DWORD *)v58 = v57;
              else
                *(_WORD *)v58 = v57;
            }
          }
          goto LABEL_254;
        case 110:
          v57 = v64;
          if ( v51 )
            goto LABEL_254;
          goto LABEL_198;
        case 101:
        case 102:
        case 103:
          v46 = &v50;
          if ( v48 == 45 )
          {
            *v46++ = 45;
          }
          else
          {
            if ( v48 != 43 )
              goto LABEL_211;
          }
          --v65;
          ++v64;
          v48 = sub_4EEC60(a1, a3, a4);
LABEL_211:
          if ( !v44 || v65 > 349 )
            v65 = 349;
          while ( 1 )
          {
            if ( cbMultiByte <= 1 )
            {
              v19 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * v48);
              v33 = v19 & 4;
            }
            else
            {
              v33 = sub_4F0440(a1, a2, a3, v48, 4);
            }
            if ( !v33 )
              break;
            v20 = v65--;
            if ( !v20 )
              break;
            ++v52;
            *v46++ = v48;
            ++v64;
            v48 = sub_4EEC60(a1, a3, a4);
          }
          if ( byte_5A23E8 == (char)v48 )
          {
            v21 = v65--;
            if ( v21 )
            {
              ++v64;
              v48 = sub_4EEC60(a1, a3, a4);
              *v46++ = byte_5A23E8;
              while ( 1 )
              {
                if ( cbMultiByte <= 1 )
                {
                  v22 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * v48);
                  v32 = v22 & 4;
                }
                else
                {
                  v32 = sub_4F0440(a1, a2, a3, v48, 4);
                }
                if ( !v32 )
                  break;
                v23 = v65--;
                if ( !v23 )
                  break;
                ++v52;
                *v46++ = v48;
                ++v64;
                v48 = sub_4EEC60(a1, a3, a4);
              }
            }
          }
          if ( !v52 || v48 != 101 && v48 != 69 || (v24 = v65, --v65, !v24) )
            goto LABEL_245;
          *v46++ = 101;
          ++v64;
          v48 = sub_4EEC60(a1, a3, a4);
          if ( v48 == 45 )
          {
            *v46++ = 45;
          }
          else
          {
            if ( v48 != 43 )
              goto LABEL_239;
          }
          v25 = v65--;
          if ( v25 )
          {
            ++v64;
            v48 = sub_4EEC60(a1, a3, a4);
          }
          else
          {
            ++v65;
          }
LABEL_239:
          while ( 1 )
          {
            if ( cbMultiByte <= 1 )
            {
              v26 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * v48);
              v31 = v26 & 4;
            }
            else
            {
              v31 = sub_4F0440(a1, a2, a3, v48, 4);
            }
            if ( !v31 )
              break;
            v27 = v65--;
            if ( !v27 )
              break;
            ++v52;
            *v46++ = v48;
            ++v64;
            v48 = sub_4EEC60(a1, a3, a4);
          }
LABEL_245:
          --v64;
          sub_4EECC0(a1, a3, v48, a4);
          if ( !v52 )
            goto LABEL_267;
          if ( !v51 )
          {
            ++v60;
            *v46 = 0;
            off_5A21C8(v59 - 1, v58, &v50);
          }
          goto LABEL_254;
        default:
          if ( (unsigned __int8)*a5 != v48 )
          {
            --v64;
            sub_4EECC0(a1, a3, v48, a4);
            goto LABEL_267;
          }
          --v62;
          if ( !v51 )
            a6 = v49;
LABEL_254:
          ++v62;
          ++a5;
          break;
      }
      goto LABEL_262;
    }
    ++v64;
    a3 = (unsigned __int8)*a5;
    v48 = sub_4EEC60(a1, a3, a4);
    ++a5;
    if ( a3 != v48 )
    {
      --v64;
      sub_4EECC0(a1, a3, v48, a4);
      goto LABEL_267;
    }
    if ( *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * (unsigned __int8)v48) & 0x8000 )
      break;
LABEL_262:
    if ( v48 == -1 && ((unsigned __int8)*a5 != 37 || (unsigned __int8)a5[1] != 110) )
      goto LABEL_267;
  }
  ++v64;
  a3 = (unsigned __int8)*a5;
  v40 = sub_4EEC60(a1, a3, a4);
  ++a5;
  if ( a3 == v40 )
  {
    --v64;
    goto LABEL_262;
  }
  --v64;
  sub_4EECC0(a1, a3, v40, a4);
  --v64;
  sub_4EECC0(a1, a3, v48, a4);
LABEL_267:
  if ( v48 == -1 )
  {
    if ( v60 || v62 )
      v30 = v60;
    else
      v30 = -1;
    result = v30;
  }
  else
  {
    result = v60;
  }
  return result;
}
// 5A21C8: using guessed type int (__cdecl *off_5A21C8)(_DWORD, _DWORD, _DWORD);
// 5A21D8: using guessed type __int16 off_5A21D8[2];
// 5A23E8: using guessed type char byte_5A23E8;
// 4ED820: using guessed type char var_60[11];

//----- (004EEC00) --------------------------------------------------------
int __usercall sub_4EEC00<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int a4)
{
  __int16 v4; // ax@3
  int v6; // [sp+0h] [bp-8h]@5
  int v7; // [sp+4h] [bp-4h]@2

  if ( cbMultiByte <= 1 )
  {
    v4 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * a4);
    v7 = v4 & 4;
  }
  else
  {
    v7 = sub_4F0440(a1, a2, a3, a4, 4);
  }
  if ( v7 )
    v6 = a4;
  else
    v6 = (a4 & 0xFFFFFFDF) - 7;
  return v6;
}
// 5A21D8: using guessed type __int16 off_5A21D8[2];

//----- (004EEC60) --------------------------------------------------------
signed int __usercall sub_4EEC60<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  signed int v4; // [sp+0h] [bp-4h]@2

  --*(_DWORD *)(a3 + 4);
  if ( *(_DWORD *)(a3 + 4) < 0 )
    v4 = sub_4EED20(a1, a2, a3);
  else
    v4 = *(_BYTE *)(*(_DWORD *)a3)++;
  return v4;
}

//----- (004EECC0) --------------------------------------------------------
signed int __usercall sub_4EECC0<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  signed int result; // eax@2

  if ( a3 != -1 )
    result = sub_4F7960(a1, a2, a3, a4);
  return result;
}

//----- (004EECE0) --------------------------------------------------------
signed int __usercall sub_4EECE0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5)
{
  signed int v6; // [sp+0h] [bp-4h]@1

  do
  {
    ++*(_DWORD *)a4;
    v6 = sub_4EEC60(a1, a3, a5);
  }
  while ( sub_4F76B0(a1, a2, a3, v6) );
  return v6;
}

//----- (004EED20) --------------------------------------------------------
signed int __usercall sub_4EED20<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  signed int result; // eax@6
  int v4; // eax@8
  int v5; // eax@9
  int v6; // edx@20
  char v7; // [sp+0h] [bp-14h]@0
  _UNKNOWN *v8; // [sp+Ch] [bp-8h]@17

  if ( !a3 && sub_4EB280(a1, a2, 2, (int)"_filbuf.c", 105, 0, "str != NULL", v7) == 1 )
    __debugbreak();
  if ( *(_DWORD *)(a3 + 12) & 0x83 && !(*(_DWORD *)(a3 + 12) & 0x40) )
  {
    if ( *(_DWORD *)(a3 + 12) & 2 )
    {
      v4 = *(_DWORD *)(a3 + 12);
      LOBYTE(v4) = v4 | 0x20;
      *(_DWORD *)(a3 + 12) = v4;
      result = -1;
    }
    else
    {
      v5 = *(_DWORD *)(a3 + 12);
      LOBYTE(v5) = v5 | 1;
      *(_DWORD *)(a3 + 12) = v5;
      if ( *(_DWORD *)(a3 + 12) & 0x10C )
        *(_DWORD *)a3 = *(_DWORD *)(a3 + 8);
      else
        sub_4F7160(a1, a2, a3);
      *(_DWORD *)(a3 + 4) = sub_4E7A20(*(_DWORD *)(a3 + 16), *(_DWORD *)(a3 + 8), *(_DWORD *)(a3 + 24));
      if ( *(_DWORD *)(a3 + 4) && *(_DWORD *)(a3 + 4) != -1 )
      {
        if ( !(*(_DWORD *)(a3 + 12) & 0x82) )
        {
          v8 = *(_DWORD *)(a3 + 16) == -1 ? &unk_5A2570 : dword_A969DA0[*(_DWORD *)(a3 + 16) >> 5]
                                                        + 8 * (*(_DWORD *)(a3 + 16) & 0x1F);
          if ( (unsigned __int8)(*((_BYTE *)v8 + 4) & 0x82) == 130 )
          {
            v6 = *(_DWORD *)(a3 + 12);
            BYTE1(v6) |= 0x20u;
            *(_DWORD *)(a3 + 12) = v6;
          }
        }
        if ( *(_DWORD *)(a3 + 24) == 512 && *(_DWORD *)(a3 + 12) & 8 )
        {
          if ( !(*(_DWORD *)(a3 + 12) & 0x400) )
            *(_DWORD *)(a3 + 24) = 4096;
        }
        --*(_DWORD *)(a3 + 4);
        result = *(_BYTE *)(*(_DWORD *)a3)++;
      }
      else
      {
        *(_DWORD *)(a3 + 12) |= *(_DWORD *)(a3 + 4) != 0 ? 32 : 16;
        *(_DWORD *)(a3 + 4) = 0;
        result = -1;
      }
    }
  }
  else
  {
    result = -1;
  }
  return result;
}
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004EEF00) --------------------------------------------------------
int __usercall sub_4EEF00<eax>(int a1<ebx>, int a2<esi>, LPCSTR lpFileName, int a4, int a5, int a6)
{
  int v6; // eax@14
  int result; // eax@13
  int v8; // eax@23
  int v9; // edx@23
  int v10; // eax@23
  int v11; // edx@27
  int v12; // ecx@31
  int v13; // edx@35
  int v14; // eax@39
  int v15; // ecx@51
  int v16; // eax@55
  char v17; // [sp+0h] [bp-30h]@0
  char v18; // [sp+10h] [bp-20h]@10
  int v19; // [sp+14h] [bp-1Ch]@1
  int v20; // [sp+14h] [bp-1Ch]@14
  signed int v21; // [sp+18h] [bp-18h]@1
  int v22; // [sp+1Ch] [bp-14h]@14
  signed int v23; // [sp+20h] [bp-10h]@1
  int v24; // [sp+28h] [bp-8h]@59
  signed int v25; // [sp+2Ch] [bp-4h]@17

  v19 = dword_A969D4C;
  v21 = 0;
  v23 = 0;
  if ( !lpFileName && sub_4EB280(a1, a2, 2, (int)"_open.c", 71, 0, "filename != NULL", v17) == 1 )
    __debugbreak();
  if ( !a4 && sub_4EB280(a1, a2, 2, (int)"_open.c", 72, 0, "mode != NULL", v17) == 1 )
    __debugbreak();
  if ( !a6 && sub_4EB280(a1, a2, 2, (int)"_open.c", 73, 0, "str != NULL", v17) == 1 )
    __debugbreak();
  v18 = *(_BYTE *)a4;
  if ( *(_BYTE *)a4 == 97 )
  {
    v22 = 265;
    v20 = v19 | 2;
  }
  else
  {
    if ( v18 == 114 )
    {
      v22 = 0;
      v6 = v19;
      LOBYTE(v6) = v19 | 1;
      v20 = v6;
    }
    else
    {
      if ( v18 != 119 )
        return 0;
      v22 = 769;
      v20 = v19 | 2;
    }
  }
  v25 = 1;
  while ( 1 )
  {
    ++a4;
    if ( !*(_BYTE *)a4 )
      break;
    if ( !v25 )
      break;
    switch ( *(_BYTE *)a4 )
    {
      case 43:
        if ( v22 & 2 )
        {
          v25 = 0;
        }
        else
        {
          v8 = v22;
          LOBYTE(v8) = v22 | 2;
          v22 = v8 & 0xFFFFFFFE;
          v9 = v20;
          LOBYTE(v9) = v20 | 0x80;
          v10 = v9;
          LOBYTE(v10) = ((unsigned __int8)v20 | 0x80) & 0xFC;
          v20 = v10;
        }
        break;
      case 98:
        if ( v22 & 0xC000 )
        {
          v25 = 0;
        }
        else
        {
          v11 = v22;
          BYTE1(v11) |= 0x80u;
          v22 = v11;
        }
        break;
      case 116:
        if ( v22 & 0xC000 )
        {
          v25 = 0;
        }
        else
        {
          v12 = v22;
          BYTE1(v12) |= 0x40u;
          v22 = v12;
        }
        break;
      case 99:
        if ( v21 )
        {
          v25 = 0;
        }
        else
        {
          v21 = 1;
          v13 = v20;
          BYTE1(v13) |= 0x40u;
          v20 = v13;
        }
        break;
      case 110:
        if ( v21 )
        {
          v25 = 0;
        }
        else
        {
          v21 = 1;
          v14 = v20;
          BYTE1(v14) &= 0xBFu;
          v20 = v14;
        }
        break;
      case 83:
        if ( v23 )
        {
          v25 = 0;
        }
        else
        {
          v23 = 1;
          v22 |= 0x20u;
        }
        break;
      case 82:
        if ( v23 )
        {
          v25 = 0;
        }
        else
        {
          v23 = 1;
          v22 |= 0x10u;
        }
        break;
      case 84:
        if ( v22 & 0x1000 )
        {
          v25 = 0;
        }
        else
        {
          v15 = v22;
          BYTE1(v15) |= 0x10u;
          v22 = v15;
        }
        break;
      case 68:
        if ( v22 & 0x40 )
        {
          v25 = 0;
        }
        else
        {
          v16 = v22;
          LOBYTE(v16) = v22 | 0x40;
          v22 = v16;
        }
        break;
      default:
        v25 = 0;
        break;
    }
  }
  v24 = sub_4E8260(a1, a2, lpFileName, v22, a5, 420);
  if ( v24 >= 0 )
  {
    ++dword_A969AB4;
    *(_DWORD *)(a6 + 12) = v20;
    *(_DWORD *)(a6 + 4) = 0;
    *(_DWORD *)a6 = 0;
    *(_DWORD *)(a6 + 8) = 0;
    *(_DWORD *)(a6 + 28) = 0;
    *(_DWORD *)(a6 + 16) = v24;
    result = a6;
  }
  else
  {
    result = 0;
  }
  return result;
}
// A969AB4: using guessed type int dword_A969AB4;
// A969D4C: using guessed type int dword_A969D4C;

//----- (004EF290) --------------------------------------------------------
int __usercall sub_4EF290<eax>(int a1<ebx>, int a2<esi>)
{
  int v3; // [sp+0h] [bp-8h]@1
  int i; // [sp+4h] [bp-4h]@1

  v3 = 0;
  for ( i = 0; i < dword_A96B500; ++i )
  {
    if ( !*(_DWORD *)(dword_A96A1B4 + 4 * i) )
    {
      *(_DWORD *)(dword_A96A1B4 + 4 * i) = sub_4E5510(a1, a2, 0x20u, 2, (int)"stream.c", 85);
      if ( *(_DWORD *)(dword_A96A1B4 + 4 * i) )
        v3 = *(_DWORD *)(dword_A96A1B4 + 4 * i);
      break;
    }
    if ( !(*(_DWORD *)(*(_DWORD *)(dword_A96A1B4 + 4 * i) + 12) & 0x83) )
    {
      v3 = *(_DWORD *)(dword_A96A1B4 + 4 * i);
      break;
    }
  }
  if ( v3 )
  {
    *(_DWORD *)(v3 + 4) = 0;
    *(_DWORD *)(v3 + 12) = 0;
    *(_DWORD *)(v3 + 8) = 0;
    *(_DWORD *)v3 = 0;
    *(_DWORD *)(v3 + 28) = 0;
    *(_DWORD *)(v3 + 16) = -1;
  }
  return v3;
}
// A96A1B4: using guessed type int dword_A96A1B4;
// A96B500: using guessed type int dword_A96B500;

//----- (004EF380) --------------------------------------------------------
signed int __usercall sub_4EF380<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, UINT CodePage)
{
  signed int result; // eax@2
  char *ii; // [sp+0h] [bp-28h]@31
  unsigned int j; // [sp+4h] [bp-24h]@8
  unsigned int m; // [sp+4h] [bp-24h]@16
  unsigned int n; // [sp+4h] [bp-24h]@27
  unsigned int jj; // [sp+4h] [bp-24h]@34
  signed int kk; // [sp+4h] [bp-24h]@38
  struct _cpinfo CPInfo; // [sp+8h] [bp-20h]@26
  unsigned int k; // [sp+1Ch] [bp-Ch]@11
  int l; // [sp+20h] [bp-8h]@13
  unsigned int i; // [sp+24h] [bp-4h]@5
  UINT CodePagea; // [sp+30h] [bp+8h]@1

  CodePagea = sub_4EF680(CodePage);
  if ( CodePagea == ::CodePage )
  {
    result = 0;
  }
  else
  {
    if ( CodePagea )
    {
      for ( i = 0; i < 5; ++i )
      {
        if ( dword_5A20C8[12 * i] == CodePagea )
        {
          for ( j = 0; j < 0x101; ++j )
            byte_A96A0A0[j] = 0;
          for ( k = 0; k < 4; ++k )
          {
            for ( l = (int)((char *)&unk_5A20D8 + 48 * i + 8 * k); *(_BYTE *)l && *(_BYTE *)(l + 1); l += 2 )
            {
              for ( m = *(_BYTE *)l; m <= *(_BYTE *)(l + 1); ++m )
                byte_A96A0A1[m] |= byte_5A20C0[k];
            }
          }
          ::CodePage = CodePagea;
          dword_A969F9C = 1;
          Locale = sub_4EF6E0(CodePagea);
          for ( k = 0; k < 6; ++k )
            word_A969F90[k] = *(&word_5A20CC[24 * i] + k);
          sub_4EF7E0(a1, a2, a3);
          return 0;
        }
      }
      if ( GetCPInfo(CodePagea, &CPInfo) == 1 )
      {
        for ( n = 0; n < 0x101; ++n )
          byte_A96A0A0[n] = 0;
        ::CodePage = CodePagea;
        Locale = 0;
        if ( CPInfo.MaxCharSize <= 1 )
        {
          dword_A969F9C = 0;
        }
        else
        {
          for ( ii = (char *)CPInfo.LeadByte; *ii && ii[1]; ii += 2 )
          {
            for ( jj = (unsigned __int8)*ii; jj <= (unsigned __int8)ii[1]; ++jj )
              byte_A96A0A1[jj] |= 4u;
          }
          for ( kk = 1; (unsigned int)kk < 0xFF; ++kk )
            byte_A96A0A1[kk] |= 8u;
          Locale = sub_4EF6E0(::CodePage);
          dword_A969F9C = 1;
        }
        for ( k = 0; k < 6; ++k )
          word_A969F90[k] = 0;
        sub_4EF7E0(a1, a2, a3);
        result = 0;
      }
      else
      {
        if ( dword_A969AC4 )
        {
          sub_4EF760();
          sub_4EF7E0(a1, a2, a3);
          result = 0;
        }
        else
        {
          result = -1;
        }
      }
    }
    else
    {
      sub_4EF760();
      sub_4EF7E0(a1, a2, a3);
      result = 0;
    }
  }
  return result;
}
// 5A20C8: using guessed type int dword_5A20C8[];
// 5A20CC: using guessed type __int16 word_5A20CC[];
// A969AC4: using guessed type int dword_A969AC4;
// A969F90: using guessed type __int16 word_A969F90[];
// A969F9C: using guessed type int dword_A969F9C;

//----- (004EF680) --------------------------------------------------------
UINT __cdecl sub_4EF680(UINT a1)
{
  UINT result; // eax@2

  dword_A969AC4 = 0;
  switch ( a1 )
  {
    case 0xFFFFFFFEu:
      dword_A969AC4 = 1;
      result = GetOEMCP();
      break;
    case 0xFFFFFFFDu:
      dword_A969AC4 = 1;
      result = GetACP();
      break;
    case 0xFFFFFFFCu:
      dword_A969AC4 = 1;
      result = dword_A969B18;
      break;
    default:
      result = a1;
      break;
  }
  return result;
}
// A969AC4: using guessed type int dword_A969AC4;

//----- (004EF6E0) --------------------------------------------------------
signed int __cdecl sub_4EF6E0(int a1)
{
  signed int result; // eax@2

  switch ( a1 )
  {
    case 932:
      result = 1041;
      break;
    case 936:
      result = 2052;
      break;
    case 949:
      result = 1042;
      break;
    case 950:
      result = 1028;
      break;
    default:
      result = 0;
      break;
  }
  return result;
}

//----- (004EF760) --------------------------------------------------------
int __cdecl sub_4EF760()
{
  int result; // eax@3
  signed int i; // [sp+0h] [bp-4h]@1
  signed int j; // [sp+0h] [bp-4h]@4

  for ( i = 0; i < 257; ++i )
  {
    byte_A96A0A0[i] = 0;
    result = i + 1;
  }
  CodePage = 0;
  dword_A969F9C = 0;
  Locale = 0;
  for ( j = 0; j < 6; ++j )
  {
    result = j;
    word_A969F90[j] = 0;
  }
  return result;
}
// A969F90: using guessed type __int16 word_A969F90[];
// A969F9C: using guessed type int dword_A969F9C;

//----- (004EF7E0) --------------------------------------------------------
BOOL __usercall sub_4EF7E0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>)
{
  BOOL result; // eax@1
  WORD v4; // dx@13
  WORD v5; // cx@15
  unsigned int i; // [sp+0h] [bp-51Ch]@2
  unsigned int k; // [sp+0h] [bp-51Ch]@7
  unsigned int l; // [sp+0h] [bp-51Ch]@11
  unsigned int m; // [sp+0h] [bp-51Ch]@20
  char v10[256]; // [sp+4h] [bp-518h]@11
  CHAR DestStr[256]; // [sp+104h] [bp-418h]@11
  struct _cpinfo CPInfo; // [sp+204h] [bp-318h]@1
  const CHAR MultiByteStr[256]; // [sp+218h] [bp-304h]@4
  WORD CharType[256]; // [sp+318h] [bp-204h]@11
  BYTE *j; // [sp+518h] [bp-4h]@5

  result = GetCPInfo(CodePage, &CPInfo);
  if ( result == 1 )
  {
    for ( i = 0; i < 0x100; ++i )
      MultiByteStr[i] = i;
    MultiByteStr[0] = 32;
    for ( j = CPInfo.LeadByte; *j; j += 2 )
    {
      for ( k = *j; k <= j[1]; ++k )
        MultiByteStr[k] = 32;
    }
    sub_4F7AA0((int)MultiByteStr, a1, a2, a3, 1u, MultiByteStr, 256, CharType, CodePage, Locale, 0);
    sub_4F4440((int)MultiByteStr, a1, a2, a3, Locale, 0x100u, MultiByteStr, 256, DestStr, 256, CodePage, 0);
    result = sub_4F4440((int)v10, a1, a2, a3, Locale, 0x200u, MultiByteStr, 256, v10, 256, CodePage, 0);
    for ( l = 0; l < 0x100; ++l )
    {
      v4 = CharType[l];
      if ( v4 & 1 )
      {
        byte_A96A0A1[l] |= 0x10u;
        byte_A969FA0[l] = DestStr[l];
      }
      else
      {
        v5 = CharType[l];
        if ( v5 & 2 )
        {
          byte_A96A0A1[l] |= 0x20u;
          byte_A969FA0[l] = v10[l];
        }
        else
        {
          byte_A969FA0[l] = 0;
        }
      }
      result = l + 1;
    }
  }
  else
  {
    for ( m = 0; m < 0x100; ++m )
    {
      if ( m < 0x41 || m > 0x5A )
      {
        if ( m < 0x61 || m > 0x7A )
        {
          byte_A969FA0[m] = 0;
        }
        else
        {
          byte_A96A0A1[m] |= 0x20u;
          byte_A969FA0[m] = m - 32;
        }
      }
      else
      {
        byte_A96A0A1[m] |= 0x10u;
        byte_A969FA0[m] = m + 32;
      }
      result = m + 1;
    }
  }
  return result;
}
// 4EF7E0: using guessed type const CHAR MultiByteStr[256];
// 4EF7E0: using guessed type WORD CharType[256];
// 4EF7E0: using guessed type CHAR DestStr[256];
// 4EF7E0: using guessed type char var_518[256];

//----- (004EFB10) --------------------------------------------------------
signed int __usercall sub_4EFB10<eax>(int a1<ebx>, int a2<edi>, int a3<esi>)
{
  signed int result; // eax@2

  if ( !dword_A96B520 )
  {
    result = sub_4EF380(a1, a2, a3, 0xFFFFFFFDu);
    dword_A96B520 = 1;
  }
  return result;
}
// A96B520: using guessed type int dword_A96B520;

//----- (004EFB50) --------------------------------------------------------
int __cdecl sub_4EFB50(int a1, unsigned __int8 a2)
{
  int v2; // edx@1
  char v3; // cl@2
  int v4; // ecx@5
  int v5; // esi@5
  int v6; // eax@5
  int v7; // eax@6
  int result; // eax@9
  unsigned int v9; // eax@10
  unsigned int v10; // eax@14

  v2 = a1;
  if ( a1 & 3 )
  {
    while ( 1 )
    {
      v3 = *(_BYTE *)v2++;
      if ( v3 == a2 )
        break;
      if ( !v3 )
        return 0;
      if ( !(v2 & 3) )
        goto LABEL_5;
    }
    result = v2 - 1;
  }
  else
  {
    while ( 1 )
    {
LABEL_5:
      while ( 1 )
      {
        v4 = ((a2 << 8) | a2 | (((a2 << 8) | a2) << 16)) ^ *(_DWORD *)v2;
        v5 = *(_DWORD *)v2 + 2130640639;
        v6 = (*(_DWORD *)v2 + 2130640639) ^ ~*(_DWORD *)v2;
        v2 += 4;
        if ( ((v4 + 2130640639) ^ ~v4) & 0x81010100 )
          break;
        v7 = v6 & 0x81010100;
        if ( v7 && ((unsigned int)&unk_1010100 & v7 || !(v5 & 0x80000000)) )
          return 0;
      }
      v9 = *(_DWORD *)(v2 - 4);
      if ( (_BYTE)v9 == a2 )
        break;
      if ( !(_BYTE)v9 )
        return 0;
      if ( BYTE1(v9) == a2 )
        return v2 - 3;
      if ( !BYTE1(v9) )
        return 0;
      v10 = v9 >> 16;
      if ( (_BYTE)v10 == a2 )
        return v2 - 2;
      if ( !(_BYTE)v10 )
        return 0;
      if ( BYTE1(v10) == a2 )
        return v2 - 1;
      if ( !BYTE1(v10) )
        return 0;
    }
    result = v2 - 4;
  }
  return result;
}

//----- (004EFC10) --------------------------------------------------------
int __cdecl sub_4EFC10()
{
  return sub_4F7CF0(65536, 196608);
}

//----- (004EFC30) --------------------------------------------------------
bool __cdecl sub_4EFC30()
{
  return 4195835.0 - 4195835.0 / 3145727.0 * 3145727.0 > 1.0;
}

//----- (004EFC90) --------------------------------------------------------
bool __cdecl sub_4EFC90()
{
  bool result; // eax@3
  FARPROC v1; // [sp+0h] [bp-8h]@2
  HMODULE hModule; // [sp+4h] [bp-4h]@1

  hModule = GetModuleHandleA("KERNEL32");
  if ( hModule && (v1 = GetProcAddress(hModule, "IsProcessorFeaturePresent")) != 0 )
    result = ((int (__stdcall *)(_DWORD))v1)(0);
  else
    result = sub_4EFC30();
  return result;
}

//----- (004EFCE0) --------------------------------------------------------
int __usercall sub_4EFCE0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int *a4)
{
  __int16 v4; // dx@4
  char v5; // ST10_1@7
  int v6; // edx@7
  int result; // eax@7
  int v8; // [sp+0h] [bp-Ch]@3
  char v9; // [sp+4h] [bp-8h]@6
  int v10; // [sp+14h] [bp+8h]@6

  if ( sub_4F8110(a1, a2, a3, *(_BYTE *)a4) != 101 )
  {
    do
    {
      a4 = (signed int *)((char *)a4 + 1);
      if ( cbMultiByte <= 1 )
      {
        v4 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * *(_BYTE *)a4);
        v8 = v4 & 4;
      }
      else
      {
        v8 = sub_4F0440(a1, a2, a3, *(_BYTE *)a4, 4);
      }
    }
    while ( v8 );
  }
  v9 = *(_BYTE *)a4;
  *(_BYTE *)a4 = byte_5A23E8;
  v10 = (int)((char *)a4 + 1);
  do
  {
    v5 = *(_BYTE *)v10;
    *(_BYTE *)v10 = v9;
    v9 = v5;
    v6 = *(_BYTE *)v10;
    result = v10++ + 1;
  }
  while ( v6 );
  return result;
}
// 5A21D8: using guessed type __int16 off_5A21D8[2];
// 5A23E8: using guessed type char byte_5A23E8;

//----- (004EFD90) --------------------------------------------------------
int __cdecl sub_4EFD90(int a1)
{
  int result; // eax@4
  int v2; // ecx@4
  int v3; // [sp+0h] [bp-4h]@9
  int v4; // [sp+Ch] [bp+8h]@4
  int i; // [sp+Ch] [bp+8h]@9

  while ( *(_BYTE *)a1 && *(_BYTE *)a1 != byte_5A23E8 )
    ++a1;
  result = a1;
  v2 = *(_BYTE *)a1;
  v4 = a1 + 1;
  if ( v2 )
  {
    while ( *(_BYTE *)v4 && *(_BYTE *)v4 != 101 && *(_BYTE *)v4 != 69 )
      ++v4;
    v3 = v4;
    for ( i = v4 - 1; *(_BYTE *)i == 48; --i )
      ;
    if ( *(_BYTE *)i == byte_5A23E8 )
      --i;
    do
    {
      ++i;
      *(_BYTE *)i = *(_BYTE *)v3;
      result = *(_BYTE *)i;
      ++v3;
    }
    while ( *(_BYTE *)i );
  }
  return result;
}
// 5A23E8: using guessed type char byte_5A23E8;

//----- (004EFE70) --------------------------------------------------------
bool __cdecl sub_4EFE70(int a1)
{
  return *(double *)a1 >= 0.0;
}

//----- (004EFEA0) --------------------------------------------------------
int __usercall sub_4EFEA0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6)
{
  int result; // eax@2
  int v7; // [sp+0h] [bp-Ch]@3
  int v8; // [sp+4h] [bp-8h]@2
  int v9; // [sp+8h] [bp-4h]@2

  if ( a4 )
  {
    sub_4F8960(a1, a2, a3, (int)&v8, a6);
    result = v8;
    *(_DWORD *)a5 = v8;
    *(_DWORD *)(a5 + 4) = v9;
  }
  else
  {
    result = sub_4F89E0(a1, a2, a3, (int)&v7, a6);
    *(_DWORD *)a5 = v7;
  }
  return result;
}

//----- (004EFEF0) --------------------------------------------------------
int __cdecl sub_4EFEF0(char *a1, int a2, int a3, int a4)
{
  int v4; // eax@8
  signed int v6; // [sp+0h] [bp-Ch]@11
  int v7; // [sp+4h] [bp-8h]@2
  int v8; // [sp+8h] [bp-4h]@4

  if ( byte_A969ACC )
  {
    v7 = dword_A969AC8;
    sub_4F0410((*(_DWORD *)dword_A969AC8 == 45) + a2, a3 > 0);
  }
  else
  {
    v7 = (int)sub_4F8B20(*(_DWORD *)a1);
    sub_4F8A20((a3 > 0) + (*(_DWORD *)v7 == 45) + a2, a3 + 1, v7);
  }
  v8 = a2;
  if ( *(_DWORD *)v7 == 45 )
  {
    *(_BYTE *)a2 = 45;
    v8 = a2 + 1;
  }
  if ( a3 > 0 )
  {
    *(_BYTE *)v8 = *(_BYTE *)(v8 + 1);
    ++v8;
    *(_BYTE *)v8 = byte_5A23E8;
  }
  sub_4E4720((byte_A969ACC == 0) + a3 + v8);
  if ( a4 )
    *(_BYTE *)v4 = 69;
  if ( **(_BYTE **)(v7 + 12) != 48 )
  {
    v6 = *(_DWORD *)(v7 + 4) - 1;
    if ( v6 < 0 )
    {
      v6 = -v6;
      *(_BYTE *)(v4 + 1) = 45;
    }
    if ( v6 >= 100 )
    {
      *(_BYTE *)(v4 + 2) += v6 / 100;
      v6 %= 100;
    }
    if ( v6 >= 10 )
    {
      *(_BYTE *)(v4 + 3) += v6 / 10;
      v6 %= 10;
    }
    *(_BYTE *)(v4 + 4) += v6;
  }
  return a2;
}
// 5A23E8: using guessed type char byte_5A23E8;
// A969AC8: using guessed type int dword_A969AC8;
// A969ACC: using guessed type char byte_A969ACC;

//----- (004F00B0) --------------------------------------------------------
int __cdecl sub_4F00B0(char *a1, int a2, int a3)
{
  int v3; // ST10_4@3
  int v5; // [sp+0h] [bp-10h]@16
  int v6; // [sp+8h] [bp-8h]@2
  int v7; // [sp+Ch] [bp-4h]@2
  int v8; // [sp+Ch] [bp-4h]@6
  int v9; // [sp+Ch] [bp-4h]@9
  int v10; // [sp+Ch] [bp-4h]@12
  int v11; // [sp+20h] [bp+10h]@14

  if ( byte_A969ACC )
  {
    v6 = dword_A969AC8;
    v7 = (*(_DWORD *)dword_A969AC8 == 45) + a2;
    if ( dword_A969AD0 == a3 )
    {
      v3 = dword_A969AD0 + v7;
      *(_BYTE *)(dword_A969AD0 + v7) = 48;
      *(_BYTE *)(v3 + 1) = 0;
    }
  }
  else
  {
    v6 = (int)sub_4F8B20(*(_DWORD *)a1);
    sub_4F8A20((*(_DWORD *)v6 == 45) + a2, *(_DWORD *)(v6 + 4) + a3, v6);
  }
  v8 = a2;
  if ( *(_DWORD *)v6 == 45 )
  {
    *(_BYTE *)a2 = 45;
    v8 = a2 + 1;
  }
  if ( *(_DWORD *)(v6 + 4) > 0 )
  {
    v9 = *(_DWORD *)(v6 + 4) + v8;
  }
  else
  {
    sub_4F0410(v8, 1);
    *(_BYTE *)v8 = 48;
    v9 = v8 + 1;
  }
  if ( a3 > 0 )
  {
    sub_4F0410(v9, 1);
    *(_BYTE *)v9 = byte_5A23E8;
    v10 = v9 + 1;
    if ( *(_DWORD *)(v6 + 4) < 0 )
    {
      if ( byte_A969ACC )
      {
        v11 = -*(_DWORD *)(v6 + 4);
      }
      else
      {
        if ( a3 >= -*(_DWORD *)(v6 + 4) )
          v5 = -*(_DWORD *)(v6 + 4);
        else
          v5 = a3;
        v11 = v5;
      }
      sub_4F0410(v10, v11);
      sub_4E4640((void *)v10, 0x30u, v11);
    }
  }
  return a2;
}
// 5A23E8: using guessed type char byte_5A23E8;
// A969AC8: using guessed type int dword_A969AC8;
// A969ACC: using guessed type char byte_A969ACC;
// A969AD0: using guessed type int dword_A969AD0;

//----- (004F0240) --------------------------------------------------------
int __cdecl sub_4F0240(char *a1, int a2, int a3, int a4)
{
  int result; // eax@3
  int v5; // edx@5
  int v6; // [sp+0h] [bp-4h]@1

  dword_A969AC8 = (int)sub_4F8B20(*(_DWORD *)a1);
  dword_A969AD0 = *(_DWORD *)(dword_A969AC8 + 4) - 1;
  v6 = (*(_DWORD *)dword_A969AC8 == 45) + a2;
  sub_4F8A20(v6, a3, dword_A969AC8);
  byte_A969AD4 = dword_A969AD0 < *(_DWORD *)(dword_A969AC8 + 4) - 1;
  dword_A969AD0 = *(_DWORD *)(dword_A969AC8 + 4) - 1;
  if ( dword_A969AD0 >= -4 && dword_A969AD0 < a3 )
  {
    if ( byte_A969AD4 )
    {
      do
        v5 = *(_BYTE *)v6++;
      while ( v5 );
      *(_BYTE *)(v6 - 2) = 0;
    }
    result = sub_4F0380(a1, a2, a3);
  }
  else
  {
    result = sub_4F0340(a1, a2, a3, a4);
  }
  return result;
}
// A969AC8: using guessed type int dword_A969AC8;
// A969AD0: using guessed type int dword_A969AD0;
// A969AD4: using guessed type char byte_A969AD4;

//----- (004F0340) --------------------------------------------------------
int __cdecl sub_4F0340(char *a1, int a2, int a3, int a4)
{
  int result; // eax@1

  byte_A969ACC = 1;
  result = sub_4EFEF0(a1, a2, a3, a4);
  byte_A969ACC = 0;
  return result;
}
// A969ACC: using guessed type char byte_A969ACC;

//----- (004F0380) --------------------------------------------------------
int __cdecl sub_4F0380(char *a1, int a2, int a3)
{
  int result; // eax@1

  byte_A969ACC = 1;
  result = sub_4F00B0(a1, a2, a3);
  byte_A969ACC = 0;
  return result;
}
// A969ACC: using guessed type char byte_A969ACC;

//----- (004F03B0) --------------------------------------------------------
int __cdecl sub_4F03B0(char *a1, int a2, int a3, int a4, int a5)
{
  int result; // eax@3

  if ( a3 != 101 && a3 != 69 )
  {
    if ( a3 == 102 )
      result = sub_4F00B0(a1, a2, a4);
    else
      result = sub_4F0240(a1, a2, a4, a5);
  }
  else
  {
    result = sub_4EFEF0(a1, a2, a4, a5);
  }
  return result;
}

//----- (004F0410) --------------------------------------------------------
void __cdecl sub_4F0410(int a1, int a2)
{
  int v2; // eax@2

  if ( a2 )
  {
    v2 = sub_4E4B50(a1);
    sub_4EC160((void *)(a2 + a1), (const void *)a1, v2 + 1);
  }
}

//----- (004F0440) --------------------------------------------------------
int __usercall sub_4F0440<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int a4, __int16 a5)
{
  int result; // eax@2
  const CHAR MultiByteStr; // [sp+0h] [bp-Ch]@4
  char v7; // [sp+1h] [bp-Bh]@4
  char v8; // [sp+2h] [bp-Ah]@4
  int cbMultiByte; // [sp+4h] [bp-8h]@4
  WORD CharType[2]; // [sp+8h] [bp-4h]@6

  if ( (unsigned int)(a4 + 1) > 0x100 )
  {
    if ( *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * ((a4 >> 8) & 0xFF)) & 0x8000 )
    {
      MultiByteStr = BYTE1(a4);
      v7 = a4;
      v8 = 0;
      cbMultiByte = 2;
    }
    else
    {
      MultiByteStr = a4;
      v7 = 0;
      cbMultiByte = 1;
    }
    if ( sub_4F7AA0((int)&MultiByteStr, a1, a2, a3, 1u, &MultiByteStr, cbMultiByte, CharType, 0, 0, 1) )
      result = (unsigned __int16)(a5 & CharType[0]);
    else
      result = 0;
  }
  else
  {
    result = (unsigned __int16)(a5 & *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * a4));
  }
  return result;
}
// 5A21D8: using guessed type __int16 off_5A21D8[2];

//----- (004F0500) --------------------------------------------------------
signed int __cdecl sub_4F0500(UINT a1, LONG lDistanceToMove, DWORD dwMoveMethod)
{
  signed int result; // eax@3
  void *hFile; // [sp+0h] [bp-Ch]@4
  DWORD v5; // [sp+4h] [bp-8h]@6
  unsigned int v6; // [sp+8h] [bp-4h]@7

  if ( a1 < uNumber && *(_BYTE *)(dword_A969DA0[(signed int)a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 1 )
  {
    hFile = (void *)sub_4F3EB0(a1);
    if ( hFile == (void *)-1 )
    {
      dword_A969A60 = 9;
      result = -1;
    }
    else
    {
      v5 = SetFilePointer(hFile, lDistanceToMove, 0, dwMoveMethod);
      if ( v5 == -1 )
        v6 = GetLastError();
      else
        v6 = 0;
      if ( v6 )
      {
        sub_4F3800(v6);
        result = -1;
      }
      else
      {
        *(_BYTE *)(dword_A969DA0[(signed int)a1 >> 5] + 8 * (a1 & 0x1F) + 4) &= 0xFDu;
        result = v5;
      }
    }
  }
  else
  {
    dword_A969A60 = 9;
    dword_A969A64 = 0;
    result = -1;
  }
  return result;
}
// A969A60: using guessed type int dword_A969A60;
// A969A64: using guessed type int dword_A969A64;
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004F05F0) --------------------------------------------------------
signed int __usercall sub_4F05F0<eax>(int a1<ebx>, int a2<esi>, int a3)
{
  signed int result; // eax@5
  char v4; // [sp+0h] [bp-14h]@0
  signed int v5; // [sp+Ch] [bp-8h]@7

  if ( !a3 && sub_4EB280(a1, a2, 2, (int)"_sftbuf.c", 65, 0, "str != NULL", v4) == 1 )
    __debugbreak();
  if ( !sub_4F7230(*(_DWORD *)(a3 + 16)) )
    return 0;
  if ( (_UNKNOWN *)a3 == &unk_5A1E40 )
  {
    v5 = 0;
  }
  else
  {
    if ( (_UNKNOWN *)a3 != &unk_5A1E60 )
      return 0;
    v5 = 1;
  }
  ++dword_A969AB4;
  if ( *(_DWORD *)(a3 + 12) & 0x10C )
  {
    result = 0;
  }
  else
  {
    if ( dword_A969AD8[v5] || (dword_A969AD8[v5] = sub_4E5510(a1, a2, 0x1000u, 2, (int)"_sftbuf.c", 94)) != 0 )
    {
      *(_DWORD *)(a3 + 8) = dword_A969AD8[v5];
      *(_DWORD *)a3 = *(_DWORD *)(a3 + 8);
      *(_DWORD *)(a3 + 24) = 4096;
      *(_DWORD *)(a3 + 4) = 4096;
    }
    else
    {
      *(_DWORD *)(a3 + 8) = a3 + 20;
      *(_DWORD *)a3 = *(_DWORD *)(a3 + 8);
      *(_DWORD *)(a3 + 24) = 2;
      *(_DWORD *)(a3 + 4) = 2;
    }
    *(_DWORD *)(a3 + 12) |= 0x1102u;
    result = 1;
  }
  return result;
}
// A969AB4: using guessed type int dword_A969AB4;
// A969AD8: using guessed type int dword_A969AD8[];

//----- (004F0750) --------------------------------------------------------
int __usercall sub_4F0750<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int result; // eax@6
  int v5; // eax@7
  char v6; // [sp+0h] [bp-10h]@0

  if ( a3 && a3 != 1 && sub_4EB280(a1, a2, 2, (int)"_sftbuf.c", 161, 0, "flag == 0 || flag == 1", v6) == 1 )
    __debugbreak();
  if ( a3 )
  {
    result = *(_DWORD *)(a4 + 12) & 0x1000;
    if ( result )
    {
      sub_4EAD10(a4);
      v5 = *(_DWORD *)(a4 + 12);
      BYTE1(v5) &= 0xEEu;
      *(_DWORD *)(a4 + 12) = v5;
      *(_DWORD *)(a4 + 24) = 0;
      result = a4;
      *(_DWORD *)a4 = 0;
      *(_DWORD *)(a4 + 8) = 0;
    }
  }
  else
  {
    result = *(_DWORD *)(a4 + 12) & 0x1000;
    if ( result )
      result = sub_4EAD10(a4);
  }
  return result;
}

//----- (004F0840) --------------------------------------------------------
bool __cdecl sub_4F0840(int a1)
{
  return dword_A969AE4 && ((int (__cdecl *)(int))dword_A969AE4)(a1);
}
// A969AE4: using guessed type int dword_A969AE4;

//----- (004F0870) --------------------------------------------------------
LPVOID __cdecl sub_4F0870(int dwBytes)
{
  return sub_4F0890(dwBytes, dword_A969AE0);
}

//----- (004F0890) --------------------------------------------------------
LPVOID __cdecl sub_4F0890(int dwBytes, int a2)
{
  LPVOID result; // eax@2
  LPVOID v3; // [sp+0h] [bp-4h]@4

  if ( (unsigned int)dwBytes <= 0xFFFFFFE0 )
  {
    do
    {
      if ( (unsigned int)dwBytes > 0xFFFFFFE0 )
        v3 = 0;
      else
        v3 = sub_4F08F0(dwBytes);
      if ( v3 || !a2 )
        return v3;
    }
    while ( sub_4F0840(dwBytes) );
    result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004F08F0) --------------------------------------------------------
LPVOID __cdecl sub_4F08F0(int dwBytes)
{
  LPVOID result; // eax@3
  int v2; // [sp+0h] [bp-4h]@2

  if ( dwBytes <= (unsigned int)dword_5A23F8 && (v2 = sub_4F1490(dwBytes)) != 0 )
  {
    result = (LPVOID)v2;
  }
  else
  {
    if ( !dwBytes )
      dwBytes = 1;
    result = HeapAlloc(hHeap, 0, (dwBytes + 15) & 0xFFFFFFF0);
  }
  return result;
}
// 5A23F8: using guessed type int dword_5A23F8;

//----- (004F0950) --------------------------------------------------------
signed int __cdecl sub_4F0950()
{
  return 1;
}

//----- (004F0960) --------------------------------------------------------
LPVOID __cdecl sub_4F0960(LPVOID lpMem, int dwBytes)
{
  LPVOID result; // eax@2
  SIZE_T v3; // eax@10
  int v4; // [sp+0h] [bp-8h]@3
  LPVOID v5; // [sp+4h] [bp-4h]@4

  if ( (unsigned int)dwBytes <= 0xFFFFFFE0 )
  {
    v4 = sub_4F0E00((int)lpMem);
    if ( v4 )
    {
      v5 = 0;
      if ( dwBytes <= (unsigned int)dword_5A23F8 )
      {
        if ( sub_4F1CD0(v4, (int)lpMem, dwBytes) )
          v5 = lpMem;
      }
      result = v5;
    }
    else
    {
      if ( !dwBytes )
        dwBytes = 1;
      v3 = dwBytes + 15;
      LOBYTE(v3) = (dwBytes + 15) & 0xF0;
      result = HeapReAlloc(hHeap, 0x10u, lpMem, v3);
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 5A23F8: using guessed type int dword_5A23F8;

//----- (004F09F0) --------------------------------------------------------
LPVOID __cdecl sub_4F09F0(int lpMem, int dwBytes)
{
  LPVOID result; // eax@2
  unsigned int v3; // [sp+0h] [bp-14h]@20
  unsigned int v4; // [sp+4h] [bp-10h]@12
  unsigned int v5; // [sp+8h] [bp-Ch]@6
  LPVOID v6; // [sp+Ch] [bp-8h]@5

  if ( lpMem )
  {
    if ( dwBytes )
    {
      do
      {
        v6 = 0;
        if ( (unsigned int)dwBytes <= 0xFFFFFFE0 )
        {
          v5 = sub_4F0E00(lpMem);
          if ( v5 )
          {
            if ( dwBytes <= (unsigned int)dword_5A23F8 )
            {
              if ( sub_4F1CD0(v5, lpMem, dwBytes) )
              {
                v6 = (LPVOID)lpMem;
              }
              else
              {
                v6 = (LPVOID)sub_4F1490(dwBytes);
                if ( v6 )
                {
                  if ( *(_DWORD *)(lpMem - 4) - 1 >= (unsigned int)dwBytes )
                    v4 = dwBytes;
                  else
                    v4 = *(_DWORD *)(lpMem - 4) - 1;
                  sub_4E4810(v6, (const void *)lpMem, v4);
                  sub_4F0EC0(v5, lpMem);
                }
              }
            }
            if ( !v6 )
            {
              if ( !dwBytes )
                dwBytes = 1;
              dwBytes = (dwBytes + 15) & 0xFFFFFFF0;
              v6 = HeapAlloc(hHeap, 0, dwBytes);
              if ( v6 )
              {
                if ( *(_DWORD *)(lpMem - 4) - 1 >= (unsigned int)dwBytes )
                  v3 = dwBytes;
                else
                  v3 = *(_DWORD *)(lpMem - 4) - 1;
                sub_4E4810(v6, (const void *)lpMem, v3);
                sub_4F0EC0(v5, lpMem);
              }
            }
          }
          else
          {
            if ( !dwBytes )
              dwBytes = 1;
            dwBytes = (dwBytes + 15) & 0xFFFFFFF0;
            v6 = HeapReAlloc(hHeap, 0, (LPVOID)lpMem, dwBytes);
          }
        }
        if ( v6 || !dword_A969AE0 )
          return v6;
      }
      while ( sub_4F0840(dwBytes) );
      result = 0;
    }
    else
    {
      sub_4F0BC0((LPVOID)lpMem);
      result = 0;
    }
  }
  else
  {
    result = sub_4F0870(dwBytes);
  }
  return result;
}
// 5A23F8: using guessed type int dword_5A23F8;

//----- (004F0BC0) --------------------------------------------------------
void __cdecl sub_4F0BC0(LPVOID lpMem)
{
  unsigned int v1; // [sp+0h] [bp-4h]@2

  if ( lpMem )
  {
    v1 = sub_4F0E00((int)lpMem);
    if ( v1 )
      sub_4F0EC0(v1, (int)lpMem);
    else
      HeapFree(hHeap, 0, lpMem);
  }
}

//----- (004F0C10) --------------------------------------------------------
signed int __cdecl sub_4F0C10()
{
  signed int v1; // [sp+0h] [bp-4h]@1

  v1 = -2;
  if ( sub_4F23F0() < 0 )
    v1 = -4;
  if ( !HeapValidate(hHeap, 0, 0) )
  {
    if ( GetLastError() == 120 )
    {
      dword_A969A64 = 120;
      dword_A969A60 = 40;
    }
    else
    {
      v1 = -4;
    }
  }
  return v1;
}
// A969A60: using guessed type int dword_A969A60;
// A969A64: using guessed type int dword_A969A64;

//----- (004F0C80) --------------------------------------------------------
signed int __cdecl sub_4F0C80(int a1)
{
  signed int result; // eax@2

  hHeap = HeapCreate(a1 == 0, 0x1000u, 0);
  if ( hHeap )
  {
    if ( sub_4F0DA0() )
    {
      result = 1;
    }
    else
    {
      HeapDestroy(hHeap);
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004F0DA0) --------------------------------------------------------
signed int __cdecl sub_4F0DA0()
{
  signed int result; // eax@2

  lpMem = HeapAlloc(hHeap, 0, 0x140u);
  if ( lpMem )
  {
    dword_A969EF4 = (int)lpMem;
    dword_A969EF8 = 0;
    dword_A969EFC = 0;
    dword_A969EE0 = 16;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// A969EE0: using guessed type int dword_A969EE0;
// A969EF4: using guessed type int dword_A969EF4;
// A969EF8: using guessed type int dword_A969EF8;
// A969EFC: using guessed type int dword_A969EFC;

//----- (004F0E00) --------------------------------------------------------
unsigned int __cdecl sub_4F0E00(int a1)
{
  unsigned int i; // [sp+4h] [bp-8h]@1

  for ( i = (unsigned int)lpMem; i < (unsigned int)((char *)lpMem + 20 * dword_A969EFC); i += 20 )
  {
    if ( (unsigned int)(a1 - *(_DWORD *)(i + 12)) < 0x100000 )
      return i;
  }
  return 0;
}
// A969EFC: using guessed type int dword_A969EFC;

//----- (004F0E60) --------------------------------------------------------
bool __cdecl sub_4F0E60(int a1, int a2)
{
  unsigned int v4; // [sp+4h] [bp-8h]@1

  v4 = a2 - *(_DWORD *)(a1 + 12);
  return !((0x80000000u >> (v4 >> 15)) & *(_DWORD *)(a1 + 8)) && !(v4 & 0xF) && v4 & 0xFFF;
}

//----- (004F0EC0) --------------------------------------------------------
int __cdecl sub_4F0EC0(unsigned int a1, int a2)
{
  int v2; // ST28_4@31
  int v3; // edx@33
  int v4; // edx@36
  int result; // eax@39
  int v6; // eax@42
  int v7; // [sp+0h] [bp-3Ch]@1
  int v8; // [sp+4h] [bp-38h]@1
  int v9; // [sp+8h] [bp-34h]@15
  signed int v10; // [sp+Ch] [bp-30h]@1
  int v11; // [sp+10h] [bp-2Ch]@0
  int v12; // [sp+14h] [bp-28h]@12
  int v13; // [sp+18h] [bp-24h]@2
  int v14; // [sp+20h] [bp-1Ch]@1
  signed int v15; // [sp+28h] [bp-14h]@1
  signed int v16; // [sp+30h] [bp-Ch]@1
  int v17; // [sp+34h] [bp-8h]@1
  unsigned int v18; // [sp+38h] [bp-4h]@1

  v7 = *(_DWORD *)(a1 + 16);
  v18 = (unsigned int)(a2 - *(_DWORD *)(a1 + 12)) >> 15;
  v17 = v7 + 516 * v18 + 324;
  v14 = a2 - 4;
  v10 = *(_DWORD *)(a2 - 4) - 1;
  v8 = v10 + a2 - 4;
  v15 = *(_DWORD *)(v10 + a2 - 4);
  v16 = *(_DWORD *)(a2 - 8);
  if ( !(v15 & 1) )
  {
    v13 = (v15 >> 4) - 1;
    if ( (unsigned int)v13 > 0x3F )
      v13 = 63;
    if ( *(_DWORD *)(v8 + 4) == *(_DWORD *)(v8 + 8) )
    {
      if ( (unsigned int)v13 >= 0x20 )
      {
        *(_DWORD *)(v7 + 4 * v18 + 196) &= ~(0x80000000u >> (v13 - 32));
        --*(_BYTE *)(v13 + v7 + 4);
        if ( !*(_BYTE *)(v13 + v7 + 4) )
          *(_DWORD *)(a1 + 4) &= ~(0x80000000u >> (v13 - 32));
      }
      else
      {
        *(_DWORD *)(v7 + 4 * v18 + 68) &= ~(0x80000000u >> v13);
        --*(_BYTE *)(v13 + v7 + 4);
        if ( !*(_BYTE *)(v13 + v7 + 4) )
          *(_DWORD *)a1 &= ~(0x80000000u >> v13);
      }
    }
    *(_DWORD *)(*(_DWORD *)(v8 + 8) + 4) = *(_DWORD *)(v8 + 4);
    *(_DWORD *)(*(_DWORD *)(v8 + 4) + 8) = *(_DWORD *)(v8 + 8);
    v10 += v15;
  }
  v12 = (v10 >> 4) - 1;
  if ( (unsigned int)v12 > 0x3F )
    v12 = 63;
  if ( !(v16 & 1) )
  {
    v9 = v14 - v16;
    v11 = (v16 >> 4) - 1;
    if ( (unsigned int)v11 > 0x3F )
      v11 = 63;
    v10 += v16;
    v12 = (v10 >> 4) - 1;
    if ( (unsigned int)v12 > 0x3F )
      v12 = 63;
    if ( v11 != v12 )
    {
      if ( *(_DWORD *)(v9 + 4) == *(_DWORD *)(v9 + 8) )
      {
        if ( (unsigned int)v11 >= 0x20 )
        {
          *(_DWORD *)(v7 + 4 * v18 + 196) &= ~(0x80000000u >> (v11 - 32));
          --*(_BYTE *)(v11 + v7 + 4);
          if ( !*(_BYTE *)(v11 + v7 + 4) )
            *(_DWORD *)(a1 + 4) &= ~(0x80000000u >> (v11 - 32));
        }
        else
        {
          *(_DWORD *)(v7 + 4 * v18 + 68) &= ~(0x80000000u >> v11);
          --*(_BYTE *)(v11 + v7 + 4);
          if ( !*(_BYTE *)(v11 + v7 + 4) )
            *(_DWORD *)a1 &= ~(0x80000000u >> v11);
        }
      }
      *(_DWORD *)(*(_DWORD *)(v9 + 8) + 4) = *(_DWORD *)(v9 + 4);
      *(_DWORD *)(*(_DWORD *)(v9 + 4) + 8) = *(_DWORD *)(v9 + 8);
    }
    v14 -= v16;
  }
  if ( v16 & 1 || v11 != v12 )
  {
    v2 = v17 + 8 * v12;
    *(_DWORD *)(v14 + 4) = *(_DWORD *)(v17 + 8 * v12 + 4);
    *(_DWORD *)(v14 + 8) = v2;
    *(_DWORD *)(v2 + 4) = v14;
    *(_DWORD *)(*(_DWORD *)(v14 + 4) + 8) = v14;
    if ( *(_DWORD *)(v14 + 4) == *(_DWORD *)(v14 + 8) )
    {
      if ( (unsigned int)v12 >= 0x20 )
      {
        v4 = (*(_BYTE *)(v12 + v7 + 4))++;
        if ( !v4 )
          *(_DWORD *)(a1 + 4) |= 0x80000000u >> (v12 - 32);
        *(_DWORD *)(v7 + 4 * v18 + 196) |= 0x80000000u >> (v12 - 32);
      }
      else
      {
        v3 = (*(_BYTE *)(v12 + v7 + 4))++;
        if ( !v3 )
          *(_DWORD *)a1 |= 0x80000000u >> v12;
        *(_DWORD *)(v7 + 4 * v18 + 68) |= 0x80000000u >> v12;
      }
    }
  }
  *(_DWORD *)v14 = v10;
  *(_DWORD *)(v10 + v14 - 4) = v10;
  result = *(_DWORD *)v17 - 1;
  *(_DWORD *)v17 = result;
  if ( !*(_DWORD *)v17 )
  {
    if ( dword_A969EF8 )
    {
      VirtualFree((LPVOID)((dword_A969EF0 << 15) + *(_DWORD *)(dword_A969EF8 + 12)), 0x8000u, 0x4000u);
      *(_DWORD *)(dword_A969EF8 + 8) |= 0x80000000u >> dword_A969EF0;
      *(_DWORD *)(*(_DWORD *)(dword_A969EF8 + 16) + 4 * dword_A969EF0 + 196) = 0;
      --*(_BYTE *)(*(_DWORD *)(dword_A969EF8 + 16) + 67);
      if ( !*(_BYTE *)(*(_DWORD *)(dword_A969EF8 + 16) + 67) )
      {
        v6 = *(_DWORD *)(dword_A969EF8 + 4);
        LOBYTE(v6) = v6 & 0xFE;
        *(_DWORD *)(dword_A969EF8 + 4) = v6;
      }
      if ( *(_DWORD *)(dword_A969EF8 + 8) == -1 )
      {
        VirtualFree(*(LPVOID *)(dword_A969EF8 + 12), 0, 0x8000u);
        HeapFree(hHeap, 0, *(LPVOID *)(dword_A969EF8 + 16));
        sub_4EC160(
          (void *)dword_A969EF8,
          (const void *)(dword_A969EF8 + 20),
          (unsigned int)((char *)lpMem + 20 * dword_A969EFC-- - dword_A969EF8 - 20));
        if ( a1 > dword_A969EF8 )
          a1 -= 20;
        dword_A969EF4 = (int)lpMem;
      }
    }
    dword_A969EF8 = a1;
    result = v18;
    dword_A969EF0 = v18;
  }
  return result;
}
// A969EF0: using guessed type int dword_A969EF0;
// A969EF4: using guessed type int dword_A969EF4;
// A969EF8: using guessed type int dword_A969EF8;
// A969EFC: using guessed type int dword_A969EFC;

//----- (004F1490) --------------------------------------------------------
int __cdecl sub_4F1490(int a1)
{
  int result; // eax@24
  int v2; // ST34_4@47
  int v3; // ecx@49
  int v4; // ecx@52
  int v5; // ecx@57
  int v6; // [sp+4h] [bp-38h]@27
  unsigned int v7; // [sp+8h] [bp-34h]@2
  int j; // [sp+Ch] [bp-30h]@27
  char *v9; // [sp+10h] [bp-2Ch]@1
  int v10; // [sp+14h] [bp-28h]@1
  unsigned int v11; // [sp+18h] [bp-24h]@2
  int v12; // [sp+1Ch] [bp-20h]@1
  signed int v13; // [sp+1Ch] [bp-20h]@32
  int v14; // [sp+20h] [bp-1Ch]@32
  int i; // [sp+24h] [bp-18h]@4
  int v16; // [sp+28h] [bp-14h]@36
  int v17; // [sp+2Ch] [bp-10h]@36
  int v18; // [sp+2Ch] [bp-10h]@57
  signed int v19; // [sp+34h] [bp-8h]@36
  int v20; // [sp+38h] [bp-4h]@32

  v9 = (char *)lpMem + 20 * dword_A969EFC;
  v10 = (a1 + 23) & 0xFFFFFFF0;
  v12 = (((a1 + 23) & 0xFFFFFFF0) >> 4) - 1;
  if ( v12 >= 32 )
  {
    v11 = 0;
    v7 = 0xFFFFFFFFu >> ((((a1 + 23) & 0xFFFFFFF0) >> 4) - 33);
  }
  else
  {
    v11 = 0xFFFFFFFFu >> v12;
    v7 = -1;
  }
  for ( i = dword_A969EF4; i < (unsigned int)v9 && !(*(_DWORD *)(i + 4) & v7 | *(_DWORD *)i & v11); i += 20 )
    ;
  if ( (char *)i != v9 )
    goto LABEL_64;
  for ( i = (int)lpMem; i < (unsigned int)dword_A969EF4 && !(*(_DWORD *)(i + 4) & v7 | *(_DWORD *)i & v11); i += 20 )
    ;
  if ( i != dword_A969EF4 )
    goto LABEL_64;
  while ( i < (unsigned int)v9 && !*(_DWORD *)(i + 8) )
    i += 20;
  if ( (char *)i == v9 )
  {
    for ( i = (int)lpMem; i < (unsigned int)dword_A969EF4 && !*(_DWORD *)(i + 8); i += 20 )
      ;
    if ( i == dword_A969EF4 )
    {
      i = (int)sub_4F19D0();
      if ( !i )
        return 0;
    }
  }
  **(_DWORD **)(i + 16) = sub_4F1AE0(i);
  if ( **(_DWORD **)(i + 16) != -1 )
  {
LABEL_64:
    dword_A969EF4 = i;
    v6 = *(_DWORD *)(i + 16);
    j = *(_DWORD *)v6;
    if ( *(_DWORD *)v6 == -1 || !(*(_DWORD *)(v6 + 4 * j + 196) & v7 | *(_DWORD *)(v6 + 4 * j + 68) & v11) )
    {
      for ( j = 0; !(*(_DWORD *)(v6 + 4 * j + 196) & v7 | *(_DWORD *)(v6 + 4 * j + 68) & v11); ++j )
        ;
    }
    v20 = v6 + 516 * j + 324;
    v13 = 0;
    v14 = *(_DWORD *)(v6 + 4 * j + 68) & v11;
    if ( !v14 )
    {
      v13 = 32;
      v14 = *(_DWORD *)(v6 + 4 * j + 196) & v7;
    }
    while ( v14 >= 0 )
    {
      v14 *= 2;
      ++v13;
    }
    v17 = *(_DWORD *)(v20 + 8 * v13 + 4);
    v19 = *(_DWORD *)v17 - v10;
    v16 = (v19 >> 4) - 1;
    if ( v16 > 63 )
      v16 = 63;
    if ( v16 != v13 )
    {
      if ( *(_DWORD *)(v17 + 4) == *(_DWORD *)(v17 + 8) )
      {
        if ( v13 >= 32 )
        {
          *(_DWORD *)(v6 + 4 * j + 196) &= ~(0x80000000u >> (v13 - 32));
          --*(_BYTE *)(v13 + v6 + 4);
          if ( !*(_BYTE *)(v13 + v6 + 4) )
            *(_DWORD *)(i + 4) &= ~(0x80000000u >> (v13 - 32));
        }
        else
        {
          *(_DWORD *)(v6 + 4 * j + 68) &= ~(0x80000000u >> v13);
          --*(_BYTE *)(v13 + v6 + 4);
          if ( !*(_BYTE *)(v13 + v6 + 4) )
            *(_DWORD *)i &= ~(0x80000000u >> v13);
        }
      }
      *(_DWORD *)(*(_DWORD *)(v17 + 8) + 4) = *(_DWORD *)(v17 + 4);
      *(_DWORD *)(*(_DWORD *)(v17 + 4) + 8) = *(_DWORD *)(v17 + 8);
      if ( v19 )
      {
        v2 = v20 + 8 * v16;
        *(_DWORD *)(v17 + 4) = *(_DWORD *)(v20 + 8 * v16 + 4);
        *(_DWORD *)(v17 + 8) = v2;
        *(_DWORD *)(v2 + 4) = v17;
        *(_DWORD *)(*(_DWORD *)(v17 + 4) + 8) = v17;
        if ( *(_DWORD *)(v17 + 4) == *(_DWORD *)(v17 + 8) )
        {
          if ( v16 >= 32 )
          {
            v4 = (*(_BYTE *)(v16 + v6 + 4))++;
            if ( !v4 )
              *(_DWORD *)(i + 4) |= 0x80000000u >> (v16 - 32);
            *(_DWORD *)(v6 + 4 * j + 196) |= 0x80000000u >> (v16 - 32);
          }
          else
          {
            v3 = (*(_BYTE *)(v16 + v6 + 4))++;
            if ( !v3 )
              *(_DWORD *)i |= 0x80000000u >> v16;
            *(_DWORD *)(v6 + 4 * j + 68) |= 0x80000000u >> v16;
          }
        }
      }
    }
    if ( v19 )
    {
      *(_DWORD *)v17 = v19;
      *(_DWORD *)(v19 + v17 - 4) = v19;
    }
    v18 = v19 + v17;
    *(_DWORD *)v18 = v10 + 1;
    *(_DWORD *)(v10 + v18 - 4) = v10 + 1;
    v5 = (*(_DWORD *)v20)++;
    if ( !v5 && i == dword_A969EF8 )
    {
      if ( j == dword_A969EF0 )
        dword_A969EF8 = 0;
    }
    *(_DWORD *)v6 = j;
    result = v18 + 4;
  }
  else
  {
    result = 0;
  }
  return result;
}
// A969EF0: using guessed type int dword_A969EF0;
// A969EF4: using guessed type int dword_A969EF4;
// A969EF8: using guessed type int dword_A969EF8;
// A969EFC: using guessed type int dword_A969EFC;

//----- (004F19D0) --------------------------------------------------------
char *__cdecl sub_4F19D0()
{
  char *result; // eax@3
  void *v1; // [sp+0h] [bp-4h]@2
  char *v2; // [sp+0h] [bp-4h]@5

  if ( dword_A969EFC == dword_A969EE0 )
  {
    v1 = HeapReAlloc(hHeap, 0, lpMem, 20 * (dword_A969EE0 + 16));
    if ( !v1 )
      return 0;
    lpMem = v1;
    dword_A969EE0 += 16;
  }
  v2 = (char *)lpMem + 20 * dword_A969EFC;
  *((_DWORD *)v2 + 4) = HeapAlloc(hHeap, 8u, 0x41C4u);
  if ( *((_DWORD *)v2 + 4) )
  {
    *((_DWORD *)v2 + 3) = VirtualAlloc(0, 0x100000u, 0x2000u, 4u);
    if ( *((_DWORD *)v2 + 3) )
    {
      *(_DWORD *)v2 = 0;
      *((_DWORD *)v2 + 1) = 0;
      *((_DWORD *)v2 + 2) = -1;
      ++dword_A969EFC;
      **((_DWORD **)v2 + 4) = -1;
      result = v2;
    }
    else
    {
      HeapFree(hHeap, 0, *((LPVOID *)v2 + 4));
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// A969EE0: using guessed type int dword_A969EE0;
// A969EFC: using guessed type int dword_A969EFC;

//----- (004F1AE0) --------------------------------------------------------
signed int __cdecl sub_4F1AE0(int a1)
{
  signed int result; // eax@8
  int v2; // edx@12
  int v3; // [sp+0h] [bp-2Ch]@1
  signed int v4; // [sp+4h] [bp-28h]@1
  signed int i; // [sp+Ch] [bp-20h]@4
  int lpAddress; // [sp+1Ch] [bp-10h]@7
  int v7; // [sp+20h] [bp-Ch]@4
  int v8; // [sp+24h] [bp-8h]@1
  unsigned int j; // [sp+28h] [bp-4h]@9

  v3 = *(_DWORD *)(a1 + 16);
  v8 = *(_DWORD *)(a1 + 8);
  v4 = 0;
  while ( v8 >= 0 )
  {
    v8 *= 2;
    ++v4;
  }
  v7 = v3 + 516 * v4 + 324;
  for ( i = 0; i < 63; ++i )
  {
    *(_DWORD *)(v7 + 8 * i + 8) = v7 + 8 * i;
    *(_DWORD *)(v7 + 8 * i + 4) = v7 + 8 * i;
  }
  lpAddress = (v4 << 15) + *(_DWORD *)(a1 + 12);
  if ( VirtualAlloc((LPVOID)((v4 << 15) + *(_DWORD *)(a1 + 12)), 0x8000u, 0x1000u, 4u) )
  {
    for ( j = lpAddress; j <= lpAddress + 28672; j += 4096 )
    {
      *(_DWORD *)(j + 8) = -1;
      *(_DWORD *)(j + 4092) = -1;
      *(_DWORD *)(j + 12) = 4080;
      *(_DWORD *)(j + 16) = j + 4108;
      *(_DWORD *)(j + 20) = j - 4084;
      *(_DWORD *)(j + 4088) = 4080;
    }
    *(_DWORD *)(v3 + 516 * v4 + 832) = lpAddress + 12;
    *(_DWORD *)(*(_DWORD *)(v3 + 516 * v4 + 832) + 8) = v3 + 516 * v4 + 828;
    *(_DWORD *)(v3 + 516 * v4 + 836) = lpAddress + 28684;
    *(_DWORD *)(*(_DWORD *)(v3 + 516 * v4 + 836) + 4) = v3 + 516 * v4 + 828;
    *(_DWORD *)(v3 + 4 * v4 + 68) = 0;
    *(_DWORD *)(v3 + 4 * v4 + 196) = 1;
    v2 = (*(_BYTE *)(v3 + 67))++;
    if ( !v2 )
      *(_DWORD *)(a1 + 4) |= 1u;
    *(_DWORD *)(a1 + 8) &= ~(0x80000000u >> v4);
    result = v4;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (004F1CD0) --------------------------------------------------------
signed int __cdecl sub_4F1CD0(int a1, int a2, int a3)
{
  int v3; // eax@1
  int v5; // ST18_4@17
  int v6; // edx@19
  int v7; // edx@22
  int v8; // ST18_4@42
  int v9; // ecx@44
  int v10; // ecx@47
  int v11; // [sp+0h] [bp-30h]@1
  int v12; // [sp+4h] [bp-2Ch]@1
  int v13; // [sp+4h] [bp-2Ch]@15
  int v14; // [sp+8h] [bp-28h]@1
  signed int v15; // [sp+8h] [bp-28h]@28
  int v16; // [sp+Ch] [bp-24h]@28
  int v17; // [sp+10h] [bp-20h]@5
  int v18; // [sp+10h] [bp-20h]@15
  int v19; // [sp+10h] [bp-20h]@31
  int v20; // [sp+1Ch] [bp-14h]@1
  int v21; // [sp+1Ch] [bp-14h]@28
  signed int v22; // [sp+20h] [bp-10h]@1
  signed int v23; // [sp+20h] [bp-10h]@14
  int v24; // [sp+28h] [bp-8h]@1
  unsigned int v25; // [sp+2Ch] [bp-4h]@1

  v3 = a3 + 23;
  LOBYTE(v3) = (a3 + 23) & 0xF0;
  v11 = *(_DWORD *)(a1 + 16);
  v25 = (unsigned int)(a2 - *(_DWORD *)(a1 + 12)) >> 15;
  v24 = v11 + 516 * v25 + 324;
  v20 = a2 - 4;
  v14 = *(_DWORD *)(a2 - 4) - 1;
  v12 = v14 + a2 - 4;
  v22 = *(_DWORD *)(v14 + a2 - 4);
  if ( v3 <= v14 )
  {
    if ( v3 < v14 )
    {
      *(_DWORD *)v20 = v3 + 1;
      *(_DWORD *)(v3 + v20 - 4) = v3 + 1;
      v21 = v3 + v20;
      v15 = v14 - v3;
      v16 = (v15 >> 4) - 1;
      if ( (unsigned int)v16 > 0x3F )
        v16 = 63;
      if ( !(v22 & 1) )
      {
        v19 = (v22 >> 4) - 1;
        if ( (unsigned int)v19 > 0x3F )
          v19 = 63;
        if ( *(_DWORD *)(v12 + 4) == *(_DWORD *)(v12 + 8) )
        {
          if ( (unsigned int)v19 >= 0x20 )
          {
            *(_DWORD *)(v11 + 4 * v25 + 196) &= ~(0x80000000u >> (v19 - 32));
            --*(_BYTE *)(v19 + v11 + 4);
            if ( !*(_BYTE *)(v19 + v11 + 4) )
              *(_DWORD *)(a1 + 4) &= ~(0x80000000u >> (v19 - 32));
          }
          else
          {
            *(_DWORD *)(v11 + 4 * v25 + 68) &= ~(0x80000000u >> v19);
            --*(_BYTE *)(v19 + v11 + 4);
            if ( !*(_BYTE *)(v19 + v11 + 4) )
              *(_DWORD *)a1 &= ~(0x80000000u >> v19);
          }
        }
        *(_DWORD *)(*(_DWORD *)(v12 + 8) + 4) = *(_DWORD *)(v12 + 4);
        *(_DWORD *)(*(_DWORD *)(v12 + 4) + 8) = *(_DWORD *)(v12 + 8);
        v15 += v22;
        v16 = (v15 >> 4) - 1;
        if ( (unsigned int)v16 > 0x3F )
          v16 = 63;
      }
      v8 = v24 + 8 * v16;
      *(_DWORD *)(v21 + 4) = *(_DWORD *)(v24 + 8 * v16 + 4);
      *(_DWORD *)(v21 + 8) = v8;
      *(_DWORD *)(v8 + 4) = v21;
      *(_DWORD *)(*(_DWORD *)(v21 + 4) + 8) = v21;
      if ( *(_DWORD *)(v21 + 4) == *(_DWORD *)(v21 + 8) )
      {
        if ( (unsigned int)v16 >= 0x20 )
        {
          v10 = (*(_BYTE *)(v16 + v11 + 4))++;
          if ( !v10 )
            *(_DWORD *)(a1 + 4) |= 0x80000000u >> (v16 - 32);
          *(_DWORD *)(v11 + 4 * v25 + 196) |= 0x80000000u >> (v16 - 32);
        }
        else
        {
          v9 = (*(_BYTE *)(v16 + v11 + 4))++;
          if ( !v9 )
            *(_DWORD *)a1 |= 0x80000000u >> v16;
          *(_DWORD *)(v11 + 4 * v25 + 68) |= 0x80000000u >> v16;
        }
      }
      *(_DWORD *)v21 = v15;
      *(_DWORD *)(v15 + v21 - 4) = v15;
    }
  }
  else
  {
    if ( v22 & 1 || v3 > v22 + v14 )
      return 0;
    v17 = (v22 >> 4) - 1;
    if ( (unsigned int)v17 > 0x3F )
      v17 = 63;
    if ( *(_DWORD *)(v12 + 4) == *(_DWORD *)(v12 + 8) )
    {
      if ( (unsigned int)v17 >= 0x20 )
      {
        *(_DWORD *)(v11 + 4 * v25 + 196) &= ~(0x80000000u >> (v17 - 32));
        --*(_BYTE *)(v17 + v11 + 4);
        if ( !*(_BYTE *)(v17 + v11 + 4) )
          *(_DWORD *)(a1 + 4) &= ~(0x80000000u >> (v17 - 32));
      }
      else
      {
        *(_DWORD *)(v11 + 4 * v25 + 68) &= ~(0x80000000u >> v17);
        --*(_BYTE *)(v17 + v11 + 4);
        if ( !*(_BYTE *)(v17 + v11 + 4) )
          *(_DWORD *)a1 &= ~(0x80000000u >> v17);
      }
    }
    *(_DWORD *)(*(_DWORD *)(v12 + 8) + 4) = *(_DWORD *)(v12 + 4);
    *(_DWORD *)(*(_DWORD *)(v12 + 4) + 8) = *(_DWORD *)(v12 + 8);
    v23 = v22 + v14 - v3;
    if ( v23 > 0 )
    {
      v13 = v3 + v20;
      v18 = (v23 >> 4) - 1;
      if ( (unsigned int)v18 > 0x3F )
        v18 = 63;
      v5 = v24 + 8 * v18;
      *(_DWORD *)(v13 + 4) = *(_DWORD *)(v24 + 8 * v18 + 4);
      *(_DWORD *)(v13 + 8) = v5;
      *(_DWORD *)(v5 + 4) = v13;
      *(_DWORD *)(*(_DWORD *)(v13 + 4) + 8) = v13;
      if ( *(_DWORD *)(v13 + 4) == *(_DWORD *)(v13 + 8) )
      {
        if ( (unsigned int)v18 >= 0x20 )
        {
          v7 = (*(_BYTE *)(v18 + v11 + 4))++;
          if ( !v7 )
            *(_DWORD *)(a1 + 4) |= 0x80000000u >> (v18 - 32);
          *(_DWORD *)(v11 + 4 * v25 + 196) |= 0x80000000u >> (v18 - 32);
        }
        else
        {
          v6 = (*(_BYTE *)(v18 + v11 + 4))++;
          if ( !v6 )
            *(_DWORD *)a1 |= 0x80000000u >> v18;
          *(_DWORD *)(v11 + 4 * v25 + 68) |= 0x80000000u >> v18;
        }
      }
      *(_DWORD *)v13 = v23;
      *(_DWORD *)(v23 + v13 - 4) = v23;
    }
    *(_DWORD *)v20 = v3 + 1;
    *(_DWORD *)(v3 + v20 - 4) = v3 + 1;
  }
  return 1;
}

//----- (004F23F0) --------------------------------------------------------
signed int __cdecl sub_4F23F0()
{
  signed int result; // eax@2
  int v1; // [sp+0h] [bp-168h]@41
  int lp; // [sp+8h] [bp-160h]@5
  unsigned int v3; // [sp+Ch] [bp-15Ch]@42
  int v4; // [sp+10h] [bp-158h]@7
  signed int v5; // [sp+14h] [bp-154h]@20
  int v6; // [sp+18h] [bp-150h]@9
  signed int k; // [sp+1Ch] [bp-14Ch]@9
  int v8; // [sp+1Ch] [bp-14Ch]@24
  int v9; // [sp+1Ch] [bp-14Ch]@53
  signed int v10; // [sp+20h] [bp-148h]@20
  int v11; // [sp+24h] [bp-144h]@7
  signed int l; // [sp+28h] [bp-140h]@15
  LPVOID v13; // [sp+2Ch] [bp-13Ch]@3
  int v14; // [sp+30h] [bp-138h]@17
  int v15; // [sp+34h] [bp-134h]@39
  int v16; // [sp+38h] [bp-130h]@17
  unsigned int v17; // [sp+38h] [bp-130h]@41
  int v18; // [sp+3Ch] [bp-12Ch]@9
  void *v19; // [sp+40h] [bp-128h]@7
  int v20; // [sp+44h] [bp-124h]@47
  int i; // [sp+48h] [bp-120h]@3
  int v22; // [sp+4Ch] [bp-11Ch]@9
  int v23[64]; // [sp+50h] [bp-118h]@11
  int v24; // [sp+150h] [bp-18h]@7
  int m; // [sp+154h] [bp-14h]@39
  unsigned int v26; // [sp+158h] [bp-10h]@47
  int j; // [sp+15Ch] [bp-Ch]@7
  void *v28; // [sp+160h] [bp-8h]@15
  int v29; // [sp+164h] [bp-4h]@7

  if ( IsBadWritePtr(lpMem, 20 * dword_A969EFC) )
  {
    result = -1;
  }
  else
  {
    v13 = lpMem;
    for ( i = 0; i < dword_A969EFC; ++i )
    {
      lp = *((_DWORD *)v13 + 4);
      if ( IsBadWritePtr(*((LPVOID *)v13 + 4), 0x41C4u) )
        return -2;
      v19 = (void *)*((_DWORD *)v13 + 3);
      v24 = lp + 324;
      v29 = *((_DWORD *)v13 + 2);
      v11 = 0;
      v4 = 0;
      for ( j = 0; j < 32; ++j )
      {
        v22 = 0;
        v6 = 0;
        v18 = 0;
        for ( k = 0; k < 64; ++k )
          v23[k] = 0;
        if ( v29 >= 0 )
        {
          if ( IsBadWritePtr(v19, 0x8000u) )
            return -4;
          v28 = v19;
          for ( l = 0; l < 8; ++l )
          {
            v16 = (int)((char *)v28 + 12);
            v14 = (int)((char *)v28 + 4092);
            if ( *((_DWORD *)v28 + 2) != -1 || *(_DWORD *)v14 != -1 )
              return -5;
            do
            {
              v10 = *(_DWORD *)v16;
              v5 = *(_DWORD *)v16;
              if ( *(_DWORD *)v16 & 1 )
              {
                --v10;
                if ( v10 > 1024 )
                  return -6;
                ++v18;
              }
              else
              {
                v8 = (v10 >> 4) - 1;
                if ( v8 > 63 )
                  v8 = 63;
                ++v23[v8];
              }
              if ( v10 < 16 || v10 & 0xF || v10 > 4080 )
                return -7;
              if ( *(_DWORD *)(v10 + v16 - 4) != v5 )
                return -8;
              v16 += v10;
            }
            while ( v16 < (unsigned int)v14 );
            if ( v16 != v14 )
              return -8;
            v28 = (char *)v28 + 4096;
          }
          if ( *(_DWORD *)v24 != v18 )
            return -9;
          v15 = v24;
          for ( m = 0; m < 64; ++m )
          {
            v1 = 0;
            v17 = v15;
            while ( 1 )
            {
              v3 = *(_DWORD *)(v17 + 4);
              if ( v3 == v15 )
                break;
              if ( v1 == v23[m] )
                break;
              if ( v3 < (unsigned int)v19 || v3 >= (unsigned int)((char *)v19 + 32768) )
                return -10;
              v26 = (v3 & 0xFFFFF000) + 12;
              v20 = (v3 & 0xFFFFF000) + 4092;
              while ( v26 != v20 && v26 != v3 )
                v26 += *(_DWORD *)v26 & 0xFFFFFFFE;
              if ( v26 == v20 )
                return -11;
              v9 = (*(_DWORD *)v3 >> 4) - 1;
              if ( v9 > 63 )
                v9 = 63;
              if ( v9 != m )
                return -12;
              if ( *(_DWORD *)(v3 + 8) != v17 )
                return -13;
              v17 = v3;
              ++v1;
            }
            if ( v1 )
            {
              if ( m >= 32 )
              {
                v6 |= 0x80000000u >> (m - 32);
                v4 |= 0x80000000u >> (m - 32);
              }
              else
              {
                v22 |= 0x80000000u >> m;
                v11 |= 0x80000000u >> m;
              }
            }
            if ( *(_DWORD *)(v17 + 4) != v15 || v1 != v23[m] )
              return -14;
            if ( *(_DWORD *)(v15 + 8) != v17 )
              return -15;
            v15 += 8;
          }
        }
        if ( v22 != *(_DWORD *)(lp + 4 * j + 68) || v6 != *(_DWORD *)(lp + 4 * j + 196) )
          return -16;
        v19 = (char *)v19 + 32768;
        v24 += 516;
        v29 *= 2;
      }
      if ( v11 != *(_DWORD *)v13 || v4 != *((_DWORD *)v13 + 1) )
        return -17;
      v13 = (char *)v13 + 20;
    }
    result = 0;
  }
  return result;
}
// A969EFC: using guessed type int dword_A969EFC;
// 4F23F0: using guessed type int var_118[64];

//----- (004F2A10) --------------------------------------------------------
int __usercall sub_4F2A10<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int lp, int a5, int a6, int a7, int a8, int a9, int a10, char a11)
{
  int result; // eax@7
  int (__cdecl *v12)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // [sp+4h] [bp-4h]@11

  if ( *(_DWORD *)a8 != 429065504 )
    sub_4F3770(a8, a1, a2, a3);
  if ( *(_DWORD *)(lp + 4) & 0x66 )
  {
    if ( *(_DWORD *)(a8 + 4) )
    {
      if ( !a9 )
        sub_4F2F80(a5, a1, a2, a3, a5, a7, a8, -1);
    }
    result = 1;
  }
  else
  {
    if ( *(_DWORD *)(a8 + 12) )
    {
      if ( *(_DWORD *)lp == -529697949 )
      {
        if ( *(_DWORD *)(lp + 20) > 0x19930520u )
        {
          v12 = *(int (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)(lp + 28)
                                                                                                  + 8);
          if ( v12 )
            return v12(lp, a5, a6, a7, a8, a9, a10, (unsigned __int8)a11);
        }
      }
      sub_4F2B00(a1, a2, a3, lp, a5, a6, a7, a8, a11, a9, a10);
    }
    result = 1;
  }
  return result;
}

//----- (004F2B00) --------------------------------------------------------
int __usercall sub_4F2B00<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int ExceptionRecord, int TargetFrame, int a6, int a7, int a8, char a9, int a10, int a11)
{
  int v11; // eax@1
  int result; // eax@6
  int v13; // [sp+Ch] [bp-24h]@25
  int v14; // [sp+10h] [bp-20h]@27
  unsigned int v15; // [sp+14h] [bp-1Ch]@25
  int *v16; // [sp+18h] [bp-18h]@27
  unsigned int v17; // [sp+1Ch] [bp-14h]@19
  int v18; // [sp+20h] [bp-10h]@19
  unsigned int v19; // [sp+24h] [bp-Ch]@19
  char v20; // [sp+28h] [bp-8h]@1
  int v21; // [sp+2Ch] [bp-4h]@1

  v20 = 0;
  v11 = TargetFrame;
  v21 = *(_DWORD *)(TargetFrame + 8);
  if ( v21 < -1 || (v11 = v21, v21 >= *(_DWORD *)(a8 + 4)) )
    sub_4F3770(v11, a1, a2, a3);
  if ( *(_DWORD *)ExceptionRecord == -529697949 )
  {
    if ( *(_DWORD *)(ExceptionRecord + 16) == 3 )
    {
      result = ExceptionRecord;
      if ( *(_DWORD *)(ExceptionRecord + 20) == 429065504 )
      {
        if ( !*(_DWORD *)(ExceptionRecord + 28) )
        {
          if ( !dword_A969AE8 )
            return result;
          ExceptionRecord = dword_A969AE8;
          a6 = dword_A969AEC;
          v20 = 1;
          if ( !sub_4F8DC0((const void *)dword_A969AE8, 1u) )
            sub_4F3770(0, a1, a2, a3);
          if ( *(_DWORD *)ExceptionRecord == -529697949
            && *(_DWORD *)(ExceptionRecord + 16) == 3
            && *(_DWORD *)(ExceptionRecord + 20) == 429065504
            && !*(_DWORD *)(ExceptionRecord + 28) )
            sub_4F3770(ExceptionRecord, a1, a2, a3);
        }
      }
    }
  }
  if ( *(_DWORD *)ExceptionRecord != -529697949
    || *(_DWORD *)(ExceptionRecord + 16) != 3
    || *(_DWORD *)(ExceptionRecord + 20) != 429065504 )
  {
    if ( a9 )
      result = sub_4F36C0(ExceptionRecord, a1, a2, a3);
    else
      result = sub_4F2DA0(a1, a2, a3, (PEXCEPTION_RECORD)ExceptionRecord, TargetFrame, a6, a7, a8, v21, a10, a11);
  }
  else
  {
    result = sub_4E76D0(a8, a10, v21, (int)&v17, (int)&v19);
    v18 = result;
    while ( v17 < v19 )
    {
      if ( *(_DWORD *)v18 <= v21 && v21 <= *(_DWORD *)(v18 + 4) )
      {
        v15 = *(_DWORD *)(v18 + 16);
        v13 = *(_DWORD *)(v18 + 12);
        while ( v13 > 0 )
        {
          v16 = (int *)(*(_DWORD *)(*(_DWORD *)(ExceptionRecord + 28) + 12) + 4);
          v14 = **(_DWORD **)(*(_DWORD *)(ExceptionRecord + 28) + 12);
          while ( v14 > 0 )
          {
            if ( sub_4F2EC0(v15, *v16, *(_DWORD *)(ExceptionRecord + 28)) )
            {
              sub_4F30B0(
                a1,
                a2,
                a3,
                (PEXCEPTION_RECORD)ExceptionRecord,
                TargetFrame,
                a6,
                a7,
                a8,
                v15,
                *v16,
                v18,
                a10,
                (void *)a11);
              goto LABEL_20;
            }
            --v14;
            ++v16;
          }
          --v13;
          v15 += 16;
        }
      }
LABEL_20:
      ++v17;
      result = v18 + 20;
      v18 += 20;
    }
    if ( a9 )
      result = sub_4F3590(ExceptionRecord, ExceptionRecord);
  }
  return result;
}
// A969AE8: using guessed type int dword_A969AE8;
// A969AEC: using guessed type int dword_A969AEC;

//----- (004F2DA0) --------------------------------------------------------
int __usercall sub_4F2DA0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, PEXCEPTION_RECORD ExceptionRecord, int TargetFrame, int a6, int a7, int a8, int a9, int a10, int a11)
{
  int result; // eax@2
  unsigned int v12; // [sp+0h] [bp-Ch]@3
  int v13; // [sp+4h] [bp-8h]@3
  unsigned int v14; // [sp+8h] [bp-4h]@3

  if ( !dword_A969AF0 || (result = sub_4E7570(a1, (int)ExceptionRecord, TargetFrame, a6, a7, a8, a10, a11)) == 0 )
  {
    result = sub_4E76D0(a8, a10, a9, (int)&v12, (int)&v14);
    v13 = result;
    while ( v12 < v14 )
    {
      if ( a9 >= *(_DWORD *)v13
        && a9 <= *(_DWORD *)(v13 + 4)
        && (!*(_DWORD *)(*(_DWORD *)(v13 + 16) + 16 * (*(_DWORD *)(v13 + 12) - 1) + 4)
         || !*(_BYTE *)(*(_DWORD *)(*(_DWORD *)(v13 + 16) + 16 * (*(_DWORD *)(v13 + 12) - 1) + 4) + 8)) )
        sub_4F30B0(
          a1,
          a2,
          a3,
          ExceptionRecord,
          TargetFrame,
          a6,
          a7,
          a8,
          16 * (*(_DWORD *)(v13 + 12) - 1) + *(_DWORD *)(v13 + 16),
          0,
          v13,
          a10,
          (void *)a11);
      result = v12++ + 1;
      v13 += 20;
    }
  }
  return result;
}
// A969AF0: using guessed type int (__cdecl *dword_A969AF0)(_DWORD, _DWORD);

//----- (004F2EC0) --------------------------------------------------------
signed int __cdecl sub_4F2EC0(int a1, int a2, int a3)
{
  signed int result; // eax@3
  bool v4; // [sp+0h] [bp-4h]@13

  if ( *(_DWORD *)(a1 + 4) && *(_BYTE *)(*(_DWORD *)(a1 + 4) + 8) )
  {
    if ( *(_DWORD *)(a1 + 4) != *(_DWORD *)(a2 + 4) && sub_4E4D80(*(_DWORD *)(a1 + 4) + 8, *(_DWORD *)(a2 + 4) + 8) )
    {
      result = 0;
    }
    else
    {
      v4 = (!(*(_DWORD *)a2 & 2) || *(_DWORD *)a1 & 8)
        && (!(*(_DWORD *)a3 & 1) || *(_DWORD *)a1 & 1)
        && (!(*(_DWORD *)a3 & 2) || *(_DWORD *)a1 & 2);
      result = v4;
    }
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (004F2F80) --------------------------------------------------------
unsigned int __usercall sub_4F2F80<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>, int a5, int a6, int a7, int a8)
{
  int v8; // ebp@0
  int v9; // eax@1
  unsigned int result; // eax@10
  int v11; // [sp-Ch] [bp-30h]@1
  int v12; // [sp-8h] [bp-2Ch]@1
  int v13; // [sp-4h] [bp-28h]@1
  unsigned int v14; // [sp+0h] [bp-24h]@11
  unsigned int v15; // [sp+4h] [bp-20h]@5
  int i; // [sp+8h] [bp-1Ch]@1
  int *v17; // [sp+Ch] [bp-18h]@1
  int v18; // [sp+14h] [bp-10h]@1
  signed int (__usercall *v19)<eax>(int<ebp>); // [sp+18h] [bp-Ch]@1
  _UNKNOWN *v20; // [sp+1Ch] [bp-8h]@1
  int v21; // [sp+20h] [bp-4h]@1

  v21 = -1;
  v20 = &unk_591628;
  v19 = sub_4F4368;
  v18 = a1;
  v13 = a2;
  v12 = a4;
  v11 = a3;
  v17 = &v11;
  v9 = a5;
  for ( i = *(_DWORD *)(a5 + 8); i != a8; i = *(_DWORD *)(v9 + 8 * i) )
  {
    if ( i <= -1 || (v9 = a7, i >= *(_DWORD *)(a7 + 4)) )
      v15 = sub_4F3770(v9, a2, a3, a4);
    else
      v15 = 0;
    v21 = 0;
    if ( *(_DWORD *)(*(_DWORD *)(a7 + 8) + 8 * i + 4) )
      sub_4F3670(v8, a3, a4, *(_DWORD *)(*(_DWORD *)(a7 + 8) + 8 * i + 4), a5, 259);
    v21 = -1;
    v9 = *(_DWORD *)(a7 + 8);
  }
  result = i;
  if ( i == a8 )
  {
    v14 = 0;
  }
  else
  {
    result = sub_4F3770(i, a2, a3, a4);
    v14 = result;
  }
  *(_DWORD *)(a5 + 8) = i;
  return result;
}

//----- (004F3080) --------------------------------------------------------
int __usercall sub_4F3080<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4)
{
  if ( **(_DWORD **)a4 == -529697949 )
    sub_4F36C0(-529697949, a1, a2, a3);
  return 0;
}

//----- (004F30B0) --------------------------------------------------------
int __usercall sub_4F30B0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, PEXCEPTION_RECORD ExceptionRecord, int TargetFrame, int a6, int a7, int a8, unsigned int a9, int a10, int a11, int a12, void *a13)
{
  int v13; // eax@1
  int result; // eax@6

  v13 = TargetFrame;
  if ( a10 )
    v13 = sub_4F3310(TargetFrame, a1, a2, a3, (int)ExceptionRecord, TargetFrame, a9, a10);
  if ( a13 )
    sub_4E73F0(v13, a13, ExceptionRecord);
  else
    sub_4E73F0(TargetFrame, (PVOID)TargetFrame, ExceptionRecord);
  sub_4F2F80(a7, a1, a2, a3, TargetFrame, a7, a8, *(_DWORD *)a11);
  *(_DWORD *)(TargetFrame + 8) = *(_DWORD *)(a11 + 4) + 1;
  result = sub_4F3170(a6, a2, a3, (int)ExceptionRecord, TargetFrame, a6, a8, *(_DWORD *)(a9 + 12), a12, 256);
  if ( result )
    result = sub_4E7380((int (*)(void))result, TargetFrame);
  return result;
}

//----- (004F3170) --------------------------------------------------------
int __usercall sub_4F3170<eax>(int a1<eax>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  int v10; // ebp@0
  int v11; // eax@1
  int v13; // [sp-Ch] [bp-3Ch]@1
  int v14; // [sp+4h] [bp-2Ch]@1
  int v15; // [sp+8h] [bp-28h]@1
  int v16; // [sp+Ch] [bp-24h]@1
  int v17; // [sp+10h] [bp-20h]@1
  int v18; // [sp+14h] [bp-1Ch]@1
  int *v19; // [sp+18h] [bp-18h]@1
  int v20; // [sp+20h] [bp-10h]@1
  signed int (__usercall *v21)<eax>(int<ebp>); // [sp+24h] [bp-Ch]@1
  _UNKNOWN *v22; // [sp+28h] [bp-8h]@1
  int v23; // [sp+2Ch] [bp-4h]@1

  v23 = -1;
  v22 = &unk_591638;
  v21 = sub_4F4368;
  v20 = a1;
  v19 = &v13;
  v14 = a8;
  v16 = 0;
  v15 = *(_DWORD *)(a5 - 4);
  v18 = dword_A969AE8;
  v17 = dword_A969AEC;
  dword_A969AE8 = a4;
  dword_A969AEC = a6;
  v23 = 1;
  sub_4E74C0(a2, a3, a5, a7, a8, a9, a10);
  v14 = v11;
  v23 = -1;
  sub_4F3243(v10);
  return v14;
}
// A969AE8: using guessed type int dword_A969AE8;
// A969AEC: using guessed type int dword_A969AEC;

//----- (004F3243) --------------------------------------------------------
int __usercall sub_4F3243<eax>(int a1<ebp>)
{
  int result; // eax@1
  int v2; // ecx@2

  *(_DWORD *)(*(_DWORD *)(a1 + 12) - 4) = *(_DWORD *)(a1 - 40);
  dword_A969AE8 = *(_DWORD *)(a1 - 28);
  dword_A969AEC = *(_DWORD *)(a1 - 32);
  result = *(_DWORD *)(a1 + 8);
  if ( *(_DWORD *)result == -529697949 )
  {
    v2 = *(_DWORD *)(a1 + 8);
    if ( *(_DWORD *)(v2 + 16) == 3 )
    {
      if ( *(_DWORD *)(*(_DWORD *)(a1 + 8) + 20) == 429065504 && !*(_DWORD *)(a1 - 36) )
      {
        if ( *(_DWORD *)(a1 - 44) )
        {
          sub_4E780A(v2);
          result = sub_4F3590(*(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 8));
        }
      }
    }
  }
  return result;
}
// A969AE8: using guessed type int dword_A969AE8;
// A969AEC: using guessed type int dword_A969AEC;

//----- (004F32C0) --------------------------------------------------------
bool __cdecl sub_4F32C0(int a1)
{
  _DWORD *v2; // [sp+0h] [bp-4h]@1

  v2 = *(_DWORD **)a1;
  return **(_DWORD **)a1 == -529697949 && v2[4] == 3 && v2[5] == 429065504 && !v2[7];
}

//----- (004F3310) --------------------------------------------------------
unsigned int __usercall sub_4F3310<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>, int a5, int a6, unsigned int a7, int a8)
{
  unsigned int result; // eax@1
  int v9; // edx@2
  int v10; // eax@6
  int v11; // eax@12
  int v12; // eax@21
  unsigned int v13; // ST0C_4@23
  int v14; // eax@23
  int v15; // eax@26
  int v16; // [sp-Ch] [bp-28h]@1
  int v17; // [sp-8h] [bp-24h]@1
  int v18; // [sp-4h] [bp-20h]@1
  LPVOID lp; // [sp+0h] [bp-1Ch]@5
  int *v20; // [sp+4h] [bp-18h]@1
  int v21; // [sp+Ch] [bp-10h]@1
  signed int (__usercall *v22)<eax>(int<ebp>); // [sp+10h] [bp-Ch]@1
  _UNKNOWN *v23; // [sp+14h] [bp-8h]@1
  int v24; // [sp+18h] [bp-4h]@1

  v24 = -1;
  v23 = &unk_591650;
  v22 = sub_4F4368;
  v21 = a1;
  v18 = a2;
  v17 = a4;
  v16 = a3;
  v20 = &v16;
  result = a7;
  if ( *(_DWORD *)(a7 + 4) )
  {
    v9 = *(_DWORD *)(a7 + 4);
    result = *(_BYTE *)(v9 + 8);
    if ( *(_BYTE *)(v9 + 8) )
    {
      if ( *(_DWORD *)(a7 + 8) )
      {
        lp = (LPVOID)(a6 + *(_DWORD *)(a7 + 8) + 12);
        v24 = 0;
        if ( *(_DWORD *)a7 & 8 )
        {
          v10 = sub_4F8DC0(*(const void **)(a5 + 24), 1u);
          if ( v10 && (v10 = sub_4F8DF0(lp, 1u)) != 0 )
          {
            *(_DWORD *)lp = *(_DWORD *)(a5 + 24);
            result = sub_4F3620(*(_DWORD *)lp, a8 + 8);
            *(_DWORD *)lp = result;
          }
          else
          {
            result = sub_4F3770(v10, a2, a3, a4);
          }
        }
        else
        {
          if ( *(_DWORD *)a8 & 1 )
          {
            v11 = sub_4F8DC0(*(const void **)(a5 + 24), 1u);
            if ( v11 && (v11 = sub_4F8DF0(lp, 1u)) != 0 )
            {
              result = (unsigned int)sub_4EC160(lp, *(const void **)(a5 + 24), *(_DWORD *)(a8 + 20));
              if ( *(_DWORD *)(a8 + 20) == 4 && *(_DWORD *)lp )
              {
                result = sub_4F3620(*(_DWORD *)lp, a8 + 8);
                *(_DWORD *)lp = result;
              }
            }
            else
            {
              result = sub_4F3770(v11, a2, a3, a4);
            }
          }
          else
          {
            if ( *(_DWORD *)(a8 + 24) )
            {
              v15 = sub_4F8DC0(*(const void **)(a5 + 24), 1u);
              if ( v15 && (v15 = sub_4F8DF0(lp, 1u)) != 0 && (v15 = sub_4F8E20(*(FARPROC *)(a8 + 24))) != 0 )
              {
                if ( *(_DWORD *)a8 & 4 )
                {
                  sub_4F3620(*(_DWORD *)(a5 + 24), a8 + 8);
                  result = sub_4E73E0(lp, *(_DWORD *)(a8 + 24));
                }
                else
                {
                  sub_4F3620(*(_DWORD *)(a5 + 24), a8 + 8);
                  result = sub_4E73D0(lp, *(_DWORD *)(a8 + 24));
                }
              }
              else
              {
                result = sub_4F3770(v15, a2, a3, a4);
              }
            }
            else
            {
              v12 = sub_4F8DC0(*(const void **)(a5 + 24), 1u);
              if ( v12 && (v12 = sub_4F8DF0(lp, 1u)) != 0 )
              {
                v13 = *(_DWORD *)(a8 + 20);
                v14 = sub_4F3620(*(_DWORD *)(a5 + 24), a8 + 8);
                result = (unsigned int)sub_4EC160(lp, (const void *)v14, v13);
              }
              else
              {
                result = sub_4F3770(v12, a2, a3, a4);
              }
            }
          }
        }
      }
    }
  }
  return result;
}
// 4E73D0: using guessed type _DWORD __cdecl sub_4E73D0(_DWORD, _DWORD);
// 4E73E0: using guessed type _DWORD __cdecl sub_4E73E0(_DWORD, _DWORD);

//----- (004F3590) --------------------------------------------------------
int __usercall sub_4F3590<eax>(int result<eax>, int a2)
{
  int v2; // [sp-Ch] [bp-24h]@1
  int *v3; // [sp+0h] [bp-18h]@1
  int v4; // [sp+8h] [bp-10h]@1
  signed int (__usercall *v5)<eax>(int<ebp>); // [sp+Ch] [bp-Ch]@1
  _UNKNOWN *v6; // [sp+10h] [bp-8h]@1
  int v7; // [sp+14h] [bp-4h]@1

  v7 = -1;
  v6 = &unk_591660;
  v5 = sub_4F4368;
  v4 = result;
  v3 = &v2;
  if ( a2 )
  {
    result = a2;
    if ( *(_DWORD *)(*(_DWORD *)(a2 + 28) + 4) )
    {
      v7 = 0;
      result = sub_4E73C0(*(_DWORD *)(a2 + 24), *(_DWORD *)(*(_DWORD *)(a2 + 28) + 4));
    }
  }
  return result;
}
// 4E73C0: using guessed type _DWORD __cdecl sub_4E73C0(_DWORD, _DWORD);

//----- (004F3620) --------------------------------------------------------
int __cdecl sub_4F3620(int a1, int a2)
{
  int v3; // [sp+0h] [bp-4h]@1

  v3 = *(_DWORD *)a2 + a1;
  if ( *(_DWORD *)(a2 + 4) >= 0 )
    v3 += *(_DWORD *)(a2 + 4) + *(_DWORD *)(*(_DWORD *)(a1 + *(_DWORD *)(a2 + 4)) + *(_DWORD *)(a2 + 8));
  return v3;
}

//----- (004F3670) --------------------------------------------------------
void __userpurge sub_4F3670(int a1<ebp>, int a2<edi>, int a3<esi>, int a4, int a5, int a6)
{
  void (__stdcall *v6)(_DWORD, _DWORD); // eax@1

  *(_DWORD *)(a1 - 4) = *(_DWORD *)(a1 + 12) + 12;
  sub_4E782D();
  v6(a2, a3);
  sub_4E782D();
}

//----- (004F36C0) --------------------------------------------------------
unsigned int __usercall sub_4F36C0<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>)
{
  int v5; // [sp-Ch] [bp-24h]@1
  int v6; // [sp-8h] [bp-20h]@1
  int v7; // [sp-4h] [bp-1Ch]@1
  int *v8; // [sp+0h] [bp-18h]@1
  int v9; // [sp+8h] [bp-10h]@1
  signed int (__usercall *v10)<eax>(int<ebp>); // [sp+Ch] [bp-Ch]@1
  _UNKNOWN *v11; // [sp+10h] [bp-8h]@1
  int v12; // [sp+14h] [bp-4h]@1

  v11 = &unk_591670;
  v10 = sub_4F4368;
  v9 = a1;
  v7 = a2;
  v6 = a4;
  v5 = a3;
  v8 = &v5;
  v12 = 0;
  if ( dword_A969AF4 )
  {
    v12 = 1;
    dword_A969AF4();
    v12 = 0;
  }
  v12 = -1;
  return sub_4F372A(a2, a3, a4);
}
// A969AF4: using guessed type int (*dword_A969AF4)(void);

//----- (004F372A) --------------------------------------------------------
unsigned int __usercall sub_4F372A<eax>(int a1<ebx>, int a2<edi>, int a3<esi>)
{
  return sub_4F8E50(a1, a2, a3);
}

//----- (004F3770) --------------------------------------------------------
unsigned int __usercall sub_4F3770<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>)
{
  int v5; // [sp-Ch] [bp-24h]@1
  int v6; // [sp-8h] [bp-20h]@1
  int v7; // [sp-4h] [bp-1Ch]@1
  int *v8; // [sp+0h] [bp-18h]@1
  int v9; // [sp+8h] [bp-10h]@1
  signed int (__usercall *v10)<eax>(int<ebp>); // [sp+Ch] [bp-Ch]@1
  _UNKNOWN *v11; // [sp+10h] [bp-8h]@1
  int v12; // [sp+14h] [bp-4h]@1

  v11 = &unk_591688;
  v10 = sub_4F4368;
  v9 = a1;
  v7 = a2;
  v6 = a4;
  v5 = a3;
  v8 = &v5;
  v12 = 0;
  if ( off_5A2404 )
  {
    v12 = 1;
    a1 = off_5A2404();
    v12 = 0;
  }
  v12 = -1;
  return sub_4F37DA(a1, a2, a3, a4);
}
// 5A2404: using guessed type int (*off_5A2404)(void);

//----- (004F37DA) --------------------------------------------------------
unsigned int __usercall sub_4F37DA<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>)
{
  return sub_4F36C0(a1, a2, a3, a4);
}

//----- (004F3800) --------------------------------------------------------
unsigned int __cdecl sub_4F3800(unsigned int a1)
{
  unsigned int result; // eax@1
  unsigned int i; // [sp+0h] [bp-4h]@1

  result = a1;
  dword_A969A64 = a1;
  for ( i = 0; i < 0x2D; ++i )
  {
    result = a1;
    if ( a1 == dword_5A2408[2 * i] )
    {
      dword_A969A60 = dword_5A240C[2 * i];
      return result;
    }
  }
  if ( a1 < 0x13 || a1 > 0x24 )
  {
    if ( a1 < 0xBC || a1 > 0xCA )
      dword_A969A60 = 22;
    else
      dword_A969A60 = 8;
  }
  else
  {
    dword_A969A60 = 13;
  }
  return result;
}
// 5A2408: using guessed type int dword_5A2408[];
// 5A240C: using guessed type int dword_5A240C[];
// A969A60: using guessed type int dword_A969A60;
// A969A64: using guessed type int dword_A969A64;

//----- (004F3890) --------------------------------------------------------
UINT __usercall sub_4F3890<eax>(int a1<ebx>, int a2<esi>)
{
  int v2; // ST2C_4@25
  DWORD nStdHandle; // [sp+0h] [bp-6Ch]@31
  signed int v5; // [sp+4h] [bp-68h]@9
  signed int v6; // [sp+8h] [bp-64h]@8
  UINT v7; // [sp+8h] [bp-64h]@11
  HANDLE *v8; // [sp+Ch] [bp-60h]@8
  signed int v9; // [sp+10h] [bp-5Ch]@11
  signed int v10; // [sp+14h] [bp-58h]@19
  signed int i; // [sp+14h] [bp-58h]@27
  DWORD v12; // [sp+18h] [bp-54h]@34
  int v13; // [sp+1Ch] [bp-50h]@1
  int v14; // [sp+1Ch] [bp-50h]@13
  int v15; // [sp+1Ch] [bp-50h]@29
  HANDLE hFile; // [sp+20h] [bp-4Ch]@33
  struct _STARTUPINFOA StartupInfo; // [sp+24h] [bp-48h]@6
  LPBYTE v18; // [sp+68h] [bp-4h]@8

  v13 = sub_4E5510(a1, a2, 0x100u, 2, (int)"ioinit.c", 129);
  if ( !v13 )
    sub_4EC600(a1, a2, 27);
  dword_A969DA0[0] = v13;
  uNumber = 32;
  while ( v13 < (unsigned int)(dword_A969DA0[0] + 256) )
  {
    *(_BYTE *)(v13 + 4) = 0;
    *(_DWORD *)v13 = -1;
    *(_BYTE *)(v13 + 5) = 10;
    v13 += 8;
  }
  GetStartupInfoA(&StartupInfo);
  if ( StartupInfo.cbReserved2 && StartupInfo.lpReserved2 )
  {
    v6 = *(_DWORD *)StartupInfo.lpReserved2;
    v18 = StartupInfo.lpReserved2 + 4;
    v8 = (HANDLE *)&StartupInfo.lpReserved2[v6 + 4];
    if ( v6 >= 2048 )
      v5 = 2048;
    else
      v5 = v6;
    v7 = v5;
    v9 = 1;
    while ( (signed int)uNumber < v5 )
    {
      v14 = sub_4E5510(a1, a2, 0x100u, 2, (int)"ioinit.c", 182);
      if ( !v14 )
      {
        v7 = uNumber;
        break;
      }
      dword_A969DA0[v9] = v14;
      uNumber += 32;
      while ( v14 < (unsigned int)(dword_A969DA0[v9] + 256) )
      {
        *(_BYTE *)(v14 + 4) = 0;
        *(_DWORD *)v14 = -1;
        *(_BYTE *)(v14 + 5) = 10;
        v14 += 8;
      }
      ++v9;
    }
    v10 = 0;
    while ( v10 < (signed int)v7 )
    {
      if ( *v8 != (HANDLE)-1 && *v18 & 1 && (*v18 & 8 || GetFileType(*v8)) )
      {
        v2 = dword_A969DA0[v10 >> 5] + 8 * (v10 & 0x1F);
        *(_DWORD *)v2 = *v8;
        *(_BYTE *)(v2 + 4) = *v18;
      }
      ++v10;
      ++v18;
      ++v8;
    }
  }
  for ( i = 0; i < 3; ++i )
  {
    v15 = dword_A969DA0[0] + 8 * i;
    if ( *(_DWORD *)(dword_A969DA0[0] + 8 * i) == -1 )
    {
      *(_BYTE *)(v15 + 4) = -127;
      if ( i )
        nStdHandle = -(i != 1) - 11;
      else
        nStdHandle = -10;
      hFile = GetStdHandle(nStdHandle);
      if ( hFile != (HANDLE)-1 && (v12 = GetFileType(hFile)) != 0 )
      {
        *(_DWORD *)v15 = hFile;
        if ( (unsigned __int8)v12 == 2 )
        {
          *(_BYTE *)(v15 + 4) |= 0x40u;
        }
        else
        {
          if ( (unsigned __int8)v12 == 3 )
            *(_BYTE *)(v15 + 4) |= 8u;
        }
      }
      else
      {
        *(_BYTE *)(v15 + 4) |= 0x40u;
      }
    }
    else
    {
      *(_BYTE *)(v15 + 4) |= 0x80u;
    }
  }
  return SetHandleCount(uNumber);
}
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004F3C00) --------------------------------------------------------
int __usercall sub_4F3C00<eax>(int a1<ebx>, int a2<esi>)
{
  signed int i; // [sp+0h] [bp-Ch]@1
  int v4; // [sp+4h] [bp-8h]@1
  unsigned int j; // [sp+8h] [bp-4h]@4
  int v6; // [sp+8h] [bp-4h]@11

  v4 = -1;
  for ( i = 0; i < 64; ++i )
  {
    if ( !dword_A969DA0[i] )
    {
      v6 = sub_4E5510(a1, a2, 0x100u, 2, (int)"osfinfo.c", 121);
      if ( v6 )
      {
        dword_A969DA0[i] = v6;
        uNumber += 32;
        while ( v6 < (unsigned int)(dword_A969DA0[i] + 256) )
        {
          *(_BYTE *)(v6 + 4) = 0;
          *(_DWORD *)v6 = -1;
          *(_BYTE *)(v6 + 5) = 10;
          v6 += 8;
        }
        v4 = 32 * i;
      }
      return v4;
    }
    for ( j = dword_A969DA0[i]; j < dword_A969DA0[i] + 256; j += 8 )
    {
      if ( !(*(_BYTE *)(j + 4) & 1) )
      {
        *(_DWORD *)j = -1;
        v4 = ((signed int)(j - dword_A969DA0[i]) >> 3) + 32 * i;
        break;
      }
    }
    if ( v4 != -1 )
      return v4;
  }
  return v4;
}
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004F3D30) --------------------------------------------------------
signed int __cdecl sub_4F3D30(signed int a1, HANDLE hHandle)
{
  signed int result; // eax@11

  if ( a1 >= uNumber || *(_DWORD *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F)) != -1 )
  {
    dword_A969A60 = 9;
    dword_A969A64 = 0;
    result = -1;
  }
  else
  {
    if ( dword_5A20A4 == 1 )
    {
      if ( a1 )
      {
        if ( a1 == 1 )
        {
          SetStdHandle(0xFFFFFFF5u, hHandle);
        }
        else
        {
          if ( a1 == 2 )
            SetStdHandle(0xFFFFFFF4u, hHandle);
        }
      }
      else
      {
        SetStdHandle(0xFFFFFFF6u, hHandle);
      }
    }
    *(_DWORD *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F)) = hHandle;
    result = 0;
  }
  return result;
}
// 5A20A4: using guessed type int dword_5A20A4;
// A969A60: using guessed type int dword_A969A60;
// A969A64: using guessed type int dword_A969A64;
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004F3DE0) --------------------------------------------------------
signed int __cdecl sub_4F3DE0(signed int a1)
{
  signed int result; // eax@12

  if ( a1 < uNumber
    && *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 1
    && *(_DWORD *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F)) != -1 )
  {
    if ( dword_5A20A4 == 1 )
    {
      if ( a1 )
      {
        if ( a1 == 1 )
        {
          SetStdHandle(0xFFFFFFF5u, 0);
        }
        else
        {
          if ( a1 == 2 )
            SetStdHandle(0xFFFFFFF4u, 0);
        }
      }
      else
      {
        SetStdHandle(0xFFFFFFF6u, 0);
      }
    }
    *(_DWORD *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F)) = -1;
    result = 0;
  }
  else
  {
    dword_A969A60 = 9;
    dword_A969A64 = 0;
    result = -1;
  }
  return result;
}
// 5A20A4: using guessed type int dword_5A20A4;
// A969A60: using guessed type int dword_A969A60;
// A969A64: using guessed type int dword_A969A64;
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004F3EB0) --------------------------------------------------------
signed int __cdecl sub_4F3EB0(signed int a1)
{
  signed int result; // eax@3

  if ( a1 < uNumber && *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 1 )
  {
    result = *(_DWORD *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F));
  }
  else
  {
    dword_A969A60 = 9;
    dword_A969A64 = 0;
    result = -1;
  }
  return result;
}
// A969A60: using guessed type int dword_A969A60;
// A969A64: using guessed type int dword_A969A64;
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004F4000) --------------------------------------------------------
signed int __usercall sub_4F4000<eax>(int a1<ebx>, int a2<esi>, signed int a3, LONG lDistanceToMove)
{
  signed int result; // eax@3
  void *v5; // eax@22
  char v6; // [sp+0h] [bp-1030h]@0
  DWORD nNumberOfBytesToWrite; // [sp+Ch] [bp-1024h]@13
  int v8; // [sp+14h] [bp-101Ch]@1
  __int32 v9; // [sp+18h] [bp-1018h]@10
  signed int v10; // [sp+20h] [bp-1010h]@8
  signed int v11; // [sp+24h] [bp-100Ch]@7
  int v12; // [sp+28h] [bp-1008h]@15
  char v13; // [sp+2Ch] [bp-1004h]@11
  int v14; // [sp+102Ch] [bp-4h]@11

  v8 = 0;
  if ( a3 < uNumber && *(_BYTE *)(dword_A969DA0[a3 >> 5] + 8 * (a3 & 0x1F) + 4) & 1 )
  {
    if ( lDistanceToMove < 0 && sub_4EB280(a1, a2, 2, (int)"chsize.c", 129, 0, "size >= 0", v6) == 1 )
      __debugbreak();
    v11 = sub_4F0500(a3, 0, 1u);
    if ( v11 != -1 && (v10 = sub_4F0500(a3, 0, 2u), v10 != -1) )
    {
      v9 = lDistanceToMove - v10;
      if ( lDistanceToMove - v10 <= 0 )
      {
        if ( v9 < 0 )
        {
          sub_4F0500(a3, lDistanceToMove, 0);
          v5 = (void *)sub_4F3EB0(a3);
          v8 = (SetEndOfFile(v5) != 0) - 1;
          if ( v8 == -1 )
          {
            dword_A969A60 = 13;
            dword_A969A64 = GetLastError();
          }
        }
      }
      else
      {
        sub_4E4640(&v13, 0, 0x1000u);
        v14 = sub_4F8E70(a3, 32768);
        while ( 1 )
        {
          nNumberOfBytesToWrite = v9 < 4096 ? v9 : 4096;
          v12 = sub_4E7F70(a3, (signed int)&v13, nNumberOfBytesToWrite);
          if ( v12 == -1 )
            break;
          v9 -= v12;
          if ( v9 <= 0 )
            goto LABEL_20;
        }
        if ( dword_A969A64 == 5 )
          dword_A969A60 = 13;
        v8 = -1;
LABEL_20:
        sub_4F8E70(a3, v14);
      }
      sub_4F0500(a3, v11, 0);
      result = v8;
    }
    else
    {
      result = -1;
    }
  }
  else
  {
    dword_A969A60 = 9;
    result = -1;
  }
  return result;
}
// A969A60: using guessed type int dword_A969A60;
// A969A64: using guessed type int dword_A969A64;
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004F4270) --------------------------------------------------------
signed int __usercall sub_4F4270<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, signed int a5, int a6, int a7, int a8, int a9, int a10)
{
  signed int result; // eax@3
  int v11; // [sp+0h] [bp-2Ch]@4
  char v12; // [sp+4h] [bp-28h]@10
  int v13; // [sp+Ch] [bp-20h]@7
  int v14; // [sp+14h] [bp-18h]@7
  int v15; // [sp+18h] [bp-14h]@7
  int v16; // [sp+20h] [bp-Ch]@7
  int v17; // [sp+28h] [bp-4h]@7
  int v18; // [sp+34h] [bp+8h]@1

  v18 = a4 - 1900;
  if ( v18 >= 70 && v18 <= 138 )
  {
    v11 = dword_5A2660[a5] + a6;
    if ( !(v18 & 3) && a5 > 2 )
      ++v11;
    sub_4F47A0(a1, a2, a3);
    v17 = dword_5A2578 + a9 + 60 * (a8 + 60 * (a7 + 24 * (((v18 - 1) >> 2) + 365 * (v18 - 70) + v11 - 17)));
    v16 = v11;
    v15 = v18;
    v14 = a5 - 1;
    v13 = a7;
    if ( a10 == 1 || a10 == -1 && dword_5A257C && sub_4F4B50((int)&v12) )
      v17 += dword_5A2580;
    result = v17;
  }
  else
  {
    result = -1;
  }
  return result;
}
// 5A2578: using guessed type int dword_5A2578;
// 5A257C: using guessed type int dword_5A257C;
// 5A2580: using guessed type int dword_5A2580;
// 5A2660: using guessed type int dword_5A2660[];

//----- (004F4368) --------------------------------------------------------
signed int __usercall sub_4F4368<eax>(int a1<ebp>)
{
  int v1; // ebx@1
  int v2; // eax@1
  int v3; // esi@2
  int v4; // edi@2
  int v5; // eax@5
  int v6; // edi@7
  int v7; // ecx@7
  signed int result; // eax@9

  v1 = *(_DWORD *)(a1 + 12);
  v2 = *(_DWORD *)(a1 + 8);
  if ( *(_DWORD *)(v2 + 4) & 6 )
  {
    sub_4E77A2(v1 + 16, v1, -1);
    result = 1;
  }
  else
  {
    *(_DWORD *)(a1 - 8) = v2;
    *(_DWORD *)(a1 - 4) = *(_DWORD *)(a1 + 16);
    *(_DWORD *)(v1 - 4) = a1 - 8;
    v3 = *(_DWORD *)(v1 + 12);
    v4 = *(_DWORD *)(v1 + 8);
    while ( v3 != -1 )
    {
      if ( *(_DWORD *)(v4 + 12 * v3 + 4) )
      {
        v5 = (*(int (**)(void))(v4 + 12 * v3 + 4))();
        v1 = *(_DWORD *)(a1 + 12);
        if ( v5 )
        {
          if ( v5 < 0 )
            return 0;
          v6 = *(_DWORD *)(v1 + 8);
          sub_4E7760(*(PVOID *)(a1 + 12));
          a1 = v1 + 16;
          sub_4E77A2(v1 + 16, v1, v3);
          sub_4E7836(*(_DWORD *)(v6 + 12 * v3 + 8), v1 + 16, 1);
          *(_DWORD *)(v1 + 12) = *(_DWORD *)(v6 + 4 * v7);
          (*(void (**)(void))(v6 + 4 * v7 + 8))();
        }
      }
      v4 = *(_DWORD *)(v1 + 8);
      v3 = *(_DWORD *)(v4 + 12 * v3);
    }
    result = 1;
  }
  return result;
}

//----- (004F4440) --------------------------------------------------------
int __usercall sub_4F4440<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>, LCID Locale, DWORD dwMapFlags, LPCSTR lpMultiByteStr, int cbMultiByte, LPSTR lpDestStr, int cchDest, UINT CodePage, int a12)
{
  int result; // eax@6
  int v13; // eax@16
  void *v14; // esp@16
  int v15; // eax@29
  void *v16; // esp@29
  int v17; // [sp-Ch] [bp-40h]@1
  int v18; // [sp-8h] [bp-3Ch]@1
  int v19; // [sp-4h] [bp-38h]@1
  int *v20; // [sp+0h] [bp-34h]@29
  int *v21; // [sp+4h] [bp-30h]@16
  int cchWideChar; // [sp+8h] [bp-2Ch]@29
  int v23; // [sp+Ch] [bp-28h]@20
  LPWSTR lpSrcStr; // [sp+10h] [bp-24h]@16
  LPCWSTR lpWideCharStr; // [sp+14h] [bp-20h]@29
  int cchSrc; // [sp+18h] [bp-1Ch]@14
  int *v27; // [sp+1Ch] [bp-18h]@1
  int v28; // [sp+24h] [bp-10h]@1
  signed int (__usercall *v29)<eax>(int<ebp>); // [sp+28h] [bp-Ch]@1
  _UNKNOWN *v30; // [sp+2Ch] [bp-8h]@1
  int v31; // [sp+30h] [bp-4h]@1

  v31 = -1;
  v30 = &unk_5916D8;
  v29 = sub_4F4368;
  v28 = a1;
  v19 = a2;
  v18 = a4;
  v17 = a3;
  v27 = &v17;
  if ( !dword_A969AFC )
  {
    if ( LCMapStringW(0, 0x100u, &SrcStr, 1, 0, 0) )
    {
      dword_A969AFC = 1;
    }
    else
    {
      if ( !LCMapStringA(0, 0x100u, String2, 1, 0, 0) )
        return 0;
      dword_A969AFC = 2;
    }
  }
  if ( cbMultiByte > 0 )
    cbMultiByte = sub_4F4750((int)lpMultiByteStr, cbMultiByte);
  if ( dword_A969AFC == 2 )
    return LCMapStringA(Locale, dwMapFlags, lpMultiByteStr, cbMultiByte, lpDestStr, cchDest);
  if ( dword_A969AFC == 1 )
  {
    if ( !CodePage )
      CodePage = dword_A969B18;
    cchSrc = MultiByteToWideChar(CodePage, a12 != 0 ? 9 : 1, lpMultiByteStr, cbMultiByte, 0, 0);
    if ( !cchSrc )
      return 0;
    v13 = 2 * cchSrc + 3;
    LOBYTE(v13) = v13 & 0xFC;
    v14 = alloca(v13);
    v21 = &v17;
    v27 = &v17;
    lpSrcStr = (LPWSTR)&v17;
    v31 = -1;
    if ( !&v17 )
      return 0;
    if ( !MultiByteToWideChar(CodePage, 1u, lpMultiByteStr, cbMultiByte, lpSrcStr, cchSrc) )
      return 0;
    v23 = LCMapStringW(Locale, dwMapFlags, lpSrcStr, cchSrc, 0, 0);
    if ( !v23 )
      return 0;
    if ( dwMapFlags & 0x400 )
    {
      if ( cchDest )
      {
        if ( v23 > cchDest )
          return 0;
        if ( !LCMapStringW(Locale, dwMapFlags, lpSrcStr, cchSrc, (LPWSTR)lpDestStr, cchDest) )
          return 0;
      }
    }
    else
    {
      cchWideChar = v23;
      v15 = 2 * v23 + 3;
      LOBYTE(v15) = v15 & 0xFC;
      v16 = alloca(v15);
      v20 = &v17;
      v27 = &v17;
      lpWideCharStr = (LPCWSTR)&v17;
      v31 = -1;
      if ( !&v17 )
        return 0;
      if ( !LCMapStringW(Locale, dwMapFlags, lpSrcStr, cchSrc, (LPWSTR)lpWideCharStr, cchWideChar) )
        return 0;
      if ( cchDest )
      {
        v23 = WideCharToMultiByte(CodePage, 0x220u, lpWideCharStr, cchWideChar, lpDestStr, cchDest, 0, 0);
        if ( !v23 )
          return 0;
      }
      else
      {
        v23 = WideCharToMultiByte(CodePage, 0x220u, lpWideCharStr, cchWideChar, 0, 0, 0, 0);
        if ( !v23 )
          return 0;
      }
    }
    result = v23;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 4F4440: could not find valid save-restore pair for ebx
// 4F4440: could not find valid save-restore pair for edi
// 4F4440: could not find valid save-restore pair for esi
// A969AFC: using guessed type int dword_A969AFC;

//----- (004F4750) --------------------------------------------------------
int __cdecl sub_4F4750(int a1, int a2)
{
  int v2; // edx@2
  int result; // eax@6
  int v4; // [sp+0h] [bp-8h]@1
  int i; // [sp+4h] [bp-4h]@1

  v4 = a2;
  for ( i = a1; ; ++i )
  {
    v2 = v4--;
    if ( !v2 )
      break;
    if ( !*(_BYTE *)i )
      break;
  }
  if ( *(_BYTE *)i )
    result = a2;
  else
    result = i - a1;
  return result;
}

//----- (004F47A0) --------------------------------------------------------
int __usercall sub_4F47A0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>)
{
  int result; // eax@3

  if ( !dword_A969BD8 )
  {
    if ( !dword_A969BD8 )
    {
      sub_4F47D0(a1, a2, a3);
      result = dword_A969BD8++ + 1;
    }
  }
  return result;
}
// A969BD8: using guessed type int dword_A969BD8;

//----- (004F47D0) --------------------------------------------------------
int __usercall sub_4F47D0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>)
{
  int result; // eax@2
  int v4; // eax@22
  int v5; // [sp+0h] [bp-Ch]@1
  int v6; // [sp+0h] [bp-Ch]@23
  BOOL UsedDefaultChar; // [sp+4h] [bp-8h]@9
  int v8; // [sp+8h] [bp-4h]@1

  v8 = 0;
  dword_A969B20 = 0;
  dword_5A2620 = -1;
  dword_5A2610 = -1;
  v5 = sub_4F8F70(a1, a2, a3, (int)"TZ");
  if ( v5 )
  {
    result = *(_BYTE *)v5;
    if ( *(_BYTE *)v5 )
    {
      if ( !dword_A969BD4 || (result = sub_4E4D80(v5, dword_A969BD4)) != 0 )
      {
        sub_4E5F50(a1, a3, dword_A969BD4, 2);
        v4 = sub_4E4B50(v5);
        result = sub_4E5510(a1, a3, v4 + 1, 2, (int)"tzset.c", 268);
        dword_A969BD4 = result;
        if ( result )
        {
          sub_4E4720(dword_A969BD4);
          sub_4E7850((int)lpMultiByteStr, v5, 3u);
          lpMultiByteStr[3] = 0;
          v6 = v5 + 3;
          if ( *(_BYTE *)v6 == 45 )
          {
            ++v8;
            ++v6;
          }
          dword_5A2578 = 3600 * sub_4E4E40(a1, a2, a3, (signed int *)v6);
          while ( *(_BYTE *)v6 == 43 || (signed int)*(_BYTE *)v6 >= 48 && (signed int)*(_BYTE *)v6 <= 57 )
            ++v6;
          if ( *(_BYTE *)v6 == 58 )
          {
            ++v6;
            dword_5A2578 += 60 * sub_4E4E40(a1, a2, a3, (signed int *)v6);
            while ( (signed int)*(_BYTE *)v6 >= 48 && (signed int)*(_BYTE *)v6 <= 57 )
              ++v6;
            if ( *(_BYTE *)v6 == 58 )
            {
              ++v6;
              dword_5A2578 += sub_4E4E40(a1, a2, a3, (signed int *)v6);
              while ( (signed int)*(_BYTE *)v6 >= 48 && (signed int)*(_BYTE *)v6 <= 57 )
                ++v6;
            }
          }
          if ( v8 )
            dword_5A2578 = -dword_5A2578;
          result = v6;
          dword_5A257C = *(_BYTE *)v6;
          if ( dword_5A257C )
          {
            result = sub_4E7850((int)off_5A2608, v6, 3u);
            off_5A2608[3] = 0;
          }
          else
          {
            *off_5A2608 = 0;
          }
        }
      }
    }
  }
  else
  {
    result = GetTimeZoneInformation(&TimeZoneInformation);
    if ( result != -1 )
    {
      dword_A969B20 = 1;
      dword_5A2578 = 60 * TimeZoneInformation.Bias;
      if ( TimeZoneInformation.StandardDate.wMonth )
        dword_5A2578 += 60 * TimeZoneInformation.StandardBias;
      if ( TimeZoneInformation.DaylightDate.wMonth && TimeZoneInformation.DaylightBias )
      {
        dword_5A257C = 1;
        dword_5A2580 = 60 * (TimeZoneInformation.DaylightBias - TimeZoneInformation.StandardBias);
      }
      else
      {
        dword_5A257C = 0;
        dword_5A2580 = 0;
      }
      if ( !WideCharToMultiByte(
              dword_A969B18,
              0x220u,
              TimeZoneInformation.StandardName,
              -1,
              lpMultiByteStr,
              63,
              0,
              &UsedDefaultChar)
        || UsedDefaultChar )
        *lpMultiByteStr = 0;
      else
        lpMultiByteStr[63] = 0;
      result = WideCharToMultiByte(
                 dword_A969B18,
                 0x220u,
                 TimeZoneInformation.DaylightName,
                 -1,
                 off_5A2608,
                 63,
                 0,
                 &UsedDefaultChar);
      if ( !result || UsedDefaultChar )
      {
        *off_5A2608 = 0;
      }
      else
      {
        result = (int)off_5A2608;
        off_5A2608[63] = 0;
      }
    }
  }
  return result;
}
// 5A2578: using guessed type int dword_5A2578;
// 5A257C: using guessed type int dword_5A257C;
// 5A2580: using guessed type int dword_5A2580;
// 5A2610: using guessed type int dword_5A2610;
// 5A2620: using guessed type int dword_5A2620;
// A969B20: using guessed type int dword_A969B20;
// A969BD4: using guessed type int dword_A969BD4;

//----- (004F4B50) --------------------------------------------------------
bool __cdecl sub_4F4B50(int a1)
{
  bool result; // eax@2
  int v2; // [sp+0h] [bp-4h]@28

  if ( !dword_5A257C )
    return 0;
  if ( *(_DWORD *)(a1 + 20) != dword_5A2610 || *(_DWORD *)(a1 + 20) != dword_5A2620 )
  {
    if ( dword_A969B20 )
    {
      if ( TimeZoneInformation.DaylightDate.wYear )
        sub_4F4E50(
          1,
          0,
          *(_DWORD *)(a1 + 20),
          TimeZoneInformation.DaylightDate.wMonth,
          0,
          0,
          TimeZoneInformation.DaylightDate.wDay,
          TimeZoneInformation.DaylightDate.wHour,
          TimeZoneInformation.DaylightDate.wMinute,
          TimeZoneInformation.DaylightDate.wSecond,
          TimeZoneInformation.DaylightDate.wMilliseconds);
      else
        sub_4F4E50(
          1,
          1,
          *(_DWORD *)(a1 + 20),
          TimeZoneInformation.DaylightDate.wMonth,
          TimeZoneInformation.DaylightDate.wDay,
          TimeZoneInformation.DaylightDate.wDayOfWeek,
          0,
          TimeZoneInformation.DaylightDate.wHour,
          TimeZoneInformation.DaylightDate.wMinute,
          TimeZoneInformation.DaylightDate.wSecond,
          TimeZoneInformation.DaylightDate.wMilliseconds);
      if ( TimeZoneInformation.StandardDate.wYear )
        sub_4F4E50(
          0,
          0,
          *(_DWORD *)(a1 + 20),
          TimeZoneInformation.StandardDate.wMonth,
          0,
          0,
          TimeZoneInformation.StandardDate.wDay,
          TimeZoneInformation.StandardDate.wHour,
          TimeZoneInformation.StandardDate.wMinute,
          TimeZoneInformation.StandardDate.wSecond,
          TimeZoneInformation.StandardDate.wMilliseconds);
      else
        sub_4F4E50(
          0,
          1,
          *(_DWORD *)(a1 + 20),
          TimeZoneInformation.StandardDate.wMonth,
          TimeZoneInformation.StandardDate.wDay,
          TimeZoneInformation.StandardDate.wDayOfWeek,
          0,
          TimeZoneInformation.StandardDate.wHour,
          TimeZoneInformation.StandardDate.wMinute,
          TimeZoneInformation.StandardDate.wSecond,
          TimeZoneInformation.StandardDate.wMilliseconds);
    }
    else
    {
      sub_4F4E50(1, 1, *(_DWORD *)(a1 + 20), 4, 1, 0, 0, 2, 0, 0, 0);
      sub_4F4E50(0, 1, *(_DWORD *)(a1 + 20), 10, 5, 0, 0, 2, 0, 0, 0);
    }
  }
  if ( dword_5A2614 >= dword_5A2624 )
  {
    if ( *(_DWORD *)(a1 + 28) < dword_5A2624 || *(_DWORD *)(a1 + 28) > dword_5A2614 )
      return 1;
    if ( *(_DWORD *)(a1 + 28) > dword_5A2624 && *(_DWORD *)(a1 + 28) < dword_5A2614 )
      return 0;
  }
  else
  {
    if ( *(_DWORD *)(a1 + 28) < dword_5A2614 || *(_DWORD *)(a1 + 28) > dword_5A2624 )
      return 0;
    if ( *(_DWORD *)(a1 + 28) > dword_5A2614 && *(_DWORD *)(a1 + 28) < dword_5A2624 )
      return 1;
  }
  v2 = 1000 * (3600 * *(_DWORD *)(a1 + 8) + 60 * *(_DWORD *)(a1 + 4) + *(_DWORD *)a1);
  if ( *(_DWORD *)(a1 + 28) == dword_5A2614 )
    result = v2 >= dword_5A2618;
  else
    result = v2 < dword_5A2628;
  return result;
}
// 5A257C: using guessed type int dword_5A257C;
// 5A2610: using guessed type int dword_5A2610;
// 5A2614: using guessed type int dword_5A2614;
// 5A2618: using guessed type int dword_5A2618;
// 5A2620: using guessed type int dword_5A2620;
// 5A2624: using guessed type int dword_5A2624;
// 5A2628: using guessed type int dword_5A2628;
// A969B20: using guessed type int dword_A969B20;

//----- (004F4E50) --------------------------------------------------------
int __cdecl sub_4F4E50(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11)
{
  int result; // eax@20
  int v12; // [sp+0h] [bp-14h]@16
  int v13; // [sp+4h] [bp-10h]@10
  int v14; // [sp+8h] [bp-Ch]@3
  int v15; // [sp+Ch] [bp-8h]@5
  int v16; // [sp+Ch] [bp-8h]@6
  int v17; // [sp+10h] [bp-4h]@5

  if ( a2 == 1 )
  {
    if ( a3 & 3 )
      v14 = dword_5A2660[a4];
    else
      v14 = dword_5A262C[a4];
    v15 = v14 + 1;
    v17 = (365 * (a3 - 70) + v14 + 1 + ((a3 - 1) >> 2) - 13) % 7;
    if ( (365 * (a3 - 70) + v14 + 1 + ((a3 - 1) >> 2) - 13) % 7 >= a6 )
      v16 = a6 - v17 + v15 + 7 * a5;
    else
      v16 = a6 - v17 + v15 + 7 * (a5 - 1);
    if ( a5 == 5 )
    {
      v13 = a3 & 3 ? dword_5A2664[a4] : dword_5A2630[a4];
      if ( v16 > v13 )
        v16 -= 7;
    }
  }
  else
  {
    if ( a3 & 3 )
      v12 = dword_5A2660[a4];
    else
      v12 = dword_5A262C[a4];
    v16 = a7 + v12;
  }
  if ( a1 == 1 )
  {
    dword_5A2614 = v16;
    result = 1000 * (60 * (60 * a8 + a9) + a10);
    dword_5A2618 = result + a11;
    dword_5A2610 = a3;
  }
  else
  {
    dword_5A2624 = v16;
    result = 1000 * dword_5A2580 + 1000 * (60 * (60 * a8 + a9) + a10) + a11;
    dword_5A2628 = 1000 * dword_5A2580 + 1000 * (60 * (60 * a8 + a9) + a10) + a11;
    if ( dword_5A2628 >= 0 )
    {
      if ( dword_5A2628 >= (signed int)&unk_5265C00 )
      {
        result = dword_5A2628 - (_DWORD)&unk_5265C00;
        dword_5A2628 -= (signed int)&unk_5265C00;
        ++dword_5A2624;
      }
    }
    else
    {
      dword_5A2628 += (int)&unk_5265C00;
      --dword_5A2624;
    }
    dword_5A2620 = a3;
  }
  return result;
}
// 5A2580: using guessed type int dword_5A2580;
// 5A2610: using guessed type int dword_5A2610;
// 5A2614: using guessed type int dword_5A2614;
// 5A2618: using guessed type int dword_5A2618;
// 5A2620: using guessed type int dword_5A2620;
// 5A2624: using guessed type int dword_5A2624;
// 5A2628: using guessed type int dword_5A2628;
// 5A262C: using guessed type int dword_5A262C[];
// 5A2630: using guessed type int dword_5A2630[];
// 5A2660: using guessed type int dword_5A2660[];
// 5A2664: using guessed type int dword_5A2664[];

//----- (004F5050) --------------------------------------------------------
_UNKNOWN *__cdecl sub_4F5050(signed int *a1)
{
  _UNKNOWN *result; // eax@2
  int v2; // ST00_4@3
  int v3; // ST00_4@14
  signed int v4; // ST08_4@14
  int v5; // [sp+0h] [bp-14h]@3
  signed int i; // [sp+0h] [bp-14h]@11
  int v7; // [sp+4h] [bp-10h]@9
  signed int v8; // [sp+8h] [bp-Ch]@1
  signed int v9; // [sp+8h] [bp-Ch]@3
  signed int v10; // [sp+8h] [bp-Ch]@8
  signed int v11; // [sp+Ch] [bp-8h]@1

  v8 = *a1;
  v11 = 0;
  if ( *a1 >= 0 )
  {
    v2 = v8 / (signed int)&unk_7861F80;
    v9 = v8 - 126230400 * v8 / (signed int)&unk_7861F80;
    v5 = 4 * v2 + 70;
    if ( v9 >= (signed int)&unk_1E13380 )
    {
      ++v5;
      v9 -= (signed int)&unk_1E13380;
      if ( v9 >= (signed int)&unk_1E13380 )
      {
        ++v5;
        v9 -= (signed int)&unk_1E13380;
        if ( v9 < (signed int)&unk_1E28500 )
        {
          v11 = 1;
        }
        else
        {
          ++v5;
          v9 -= (signed int)&unk_1E28500;
        }
      }
    }
    dword_A969BE0[5] = v5;
    dword_A969BE0[7] = v9 / 86400;
    v10 = v9 - 86400 * dword_A969BE0[7];
    if ( v11 )
      v7 = (int)dword_5A2630;
    else
      v7 = (int)dword_5A2664;
    for ( i = 1; *(_DWORD *)(v7 + 4 * i) < dword_A969BE0[7]; ++i )
      ;
    v3 = i - 1;
    dword_A969BE0[4] = v3;
    dword_A969BE0[3] = dword_A969BE0[7] - *(_DWORD *)(v7 + 4 * v3);
    dword_A969BE0[6] = (*a1 / 86400 + 4) % 7;
    dword_A969BE0[2] = v10 / 3600;
    v4 = v10 - 3600 * dword_A969BE0[2];
    dword_A969BE0[1] = v4 / 60;
    dword_A969BE0[0] = v4 - 60 * dword_A969BE0[1];
    dword_A969BE0[8] = 0;
    result = (_UNKNOWN *)dword_A969BE0;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 5A2630: using guessed type int dword_5A2630[];
// 5A2664: using guessed type int dword_5A2664[];

//----- (004F5220) --------------------------------------------------------
char __cdecl sub_4F5220(int a1, int a2)
{
  int v2; // esi@1
  int v3; // edi@1
  int v4; // eax@2
  char v5; // t0@5
  int v6; // ebx@8
  signed int v7; // ST04_4@11
  int v8; // eax@11

  v2 = a2;
  v3 = a1;
  if ( *((_DWORD *)&unk_A969B00 + 2) )
  {
    v4 = 255;
    v6 = 0;
    while ( (_BYTE)v4 )
    {
      LOBYTE(v4) = *(_BYTE *)v2++;
      LOBYTE(v6) = *(_BYTE *)v3++;
      if ( (_BYTE)v4 != (_BYTE)v6 )
      {
        v7 = v4;
        v8 = sub_4F8110(v6, v3, v2, v6);
        v6 = v8;
        v4 = sub_4F8110(v8, v3, v2, v7);
        if ( (_BYTE)v6 != (_BYTE)v4 )
          return -((unsigned __int8)v6 < (unsigned __int8)v4) - (((unsigned __int8)v6 < (unsigned __int8)v4) - 1);
      }
    }
  }
  else
  {
    LOBYTE(v4) = -1;
    while ( (_BYTE)v4 )
    {
      LOBYTE(v4) = *(_BYTE *)v2++;
      BYTE1(v4) = *(_BYTE *)v3++;
      if ( BYTE1(v4) != (_BYTE)v4 )
      {
        v5 = BYTE1(v4);
        BYTE1(v4) = ((unsigned __int8)(v4 - 65) < 0x1Au ? 0x20 : 0) + v4 - 65 + 65;
        LOBYTE(v4) = ((unsigned __int8)(v5 - 65) < 0x1Au ? 0x20 : 0) + v5 - 65 + 65;
        if ( (_BYTE)v4 != BYTE1(v4) )
        {
          LOBYTE(v4) = -((unsigned __int8)v4 < BYTE1(v4)) - (((unsigned __int8)v4 < BYTE1(v4)) - 1);
          return v4;
        }
      }
    }
  }
  return v4;
}

//----- (004F52B0) --------------------------------------------------------
signed int __cdecl sub_4F52B0(UINT a1)
{
  void *v2; // eax@5
  DWORD v3; // [sp+0h] [bp-4h]@6

  if ( a1 >= uNumber || !(*(_BYTE *)(dword_A969DA0[(signed int)a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 1) )
  {
    dword_A969A60 = 9;
    return -1;
  }
  if ( *(_BYTE *)(dword_A969DA0[(signed int)a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 1 )
  {
    v2 = (void *)sub_4F3EB0(a1);
    if ( FlushFileBuffers(v2) )
      v3 = 0;
    else
      v3 = GetLastError();
    if ( !v3 )
      return v3;
    dword_A969A64 = v3;
  }
  dword_A969A60 = 9;
  return -1;
}
// A969A60: using guessed type int dword_A969A60;
// A969A64: using guessed type int dword_A969A64;
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004F537C) --------------------------------------------------------
double __usercall sub_4F537C<st0>(__int16 a1<cx>, int a2<ebp>, long double a3<st1>, long double a4<st0>)
{
  double result; // st7@1

  *(_BYTE *)(a2 - 144) = -2;
  result = atan2(fabs(a3), fabs(a4));
  if ( (_BYTE)a1 )
    result = 3.141592653589793116 - result;
  if ( HIBYTE(a1) )
    result = -result;
  return result;
}

//----- (004F539C) --------------------------------------------------------
#error "FFFFFFFF: positive sp value has been found (funcsize=0)"

//----- (004F53CC) --------------------------------------------------------
double __cdecl sub_4F53CC()
{
  return tbyte_5A26FA;
}
// 5A26FA: using guessed type _TBYTE tbyte_5A26FA;

//----- (004F53D5) --------------------------------------------------------
double __fastcall sub_4F53D5(__int16 a1)
{
  double result; // st7@2

  if ( (_BYTE)a1 )
  {
    result = 3.141592653589793116;
    if ( HIBYTE(a1) )
      result = -3.141592653589793116;
  }
  else
  {
    result = 0.0;
  }
  return result;
}

//----- (004F53F2) --------------------------------------------------------
double __cdecl sub_4F53F2()
{
  double result; // st7@1
  char v1; // cl@1

  result = sub_4F53CC();
  if ( v1 )
    result = -result;
  return result;
}

//----- (004F5484) --------------------------------------------------------
int __usercall sub_4F5484<eax>(__int16 a1<fpstat>, double a2<st1>, char a3, char a4, char a5, double a6, double a7)
{
  int v7; // ebp@0
  double v8; // st7@1
  int v9; // edx@1
  char v11; // [sp+0h] [bp-2A4h]@0
  char v12; // [sp+4h] [bp-2A0h]@0
  char v13; // [sp+8h] [bp-29Ch]@0

  sub_4F5621(a6);
  v8 = sub_4F5621(a7);
  sub_4F56C7(v9, v7, a1, a2, v8, v11, v12, v13);
  return sub_4F54BE();
}
// 4F54BE: using guessed type int sub_4F54BE(void);

//----- (004F54C5) --------------------------------------------------------
double __usercall sub_4F54C5<st0>(int a1<ebp>, double result<st0>)
{
  __int16 v2; // fps@2
  char v6; // al@2
  int v7; // ebx@18
  __int16 v8; // fps@21

  if ( dword_A969A28 )
    return result;
  UNDEF(v2);
  dbl_A969C10 = result;
  v6 = *(_BYTE *)(a1 - 144);
  if ( !v6 )
    goto LABEL_7;
  if ( v6 != -1 && v6 != -2 )
  {
    if ( !v6 )
      return result;
    *(_DWORD *)(a1 - 142) = v6;
    goto LABEL_18;
  }
  if ( WORD3(dbl_A969C10) & 0x7FF0 )
  {
    if ( (WORD3(dbl_A969C10) & 0x7FF0) != 32752 )
    {
LABEL_7:
      if ( *(_WORD *)(a1 - 164) & 0x20 || !(v2 & 0x20) )
        return result;
      *(_DWORD *)(a1 - 142) = 8;
      goto LABEL_18;
    }
    *(_DWORD *)(a1 - 142) = 3;
    if ( fabs(result) > 1.797693134862316e308 )
      result = result * 1.797693134862316e308;
  }
  else
  {
    *(_DWORD *)(a1 - 142) = 4;
    if ( fabs(result) < 2.225073858507201e-308 )
      result = result * 0.0;
  }
LABEL_18:
  v7 = *(_DWORD *)(a1 - 148) + 1;
  *(_DWORD *)(a1 - 138) = v7;
  if ( !byte_A969C18 )
  {
    *(_DWORD *)(a1 - 134) = *(_DWORD *)(a1 + 8);
    *(_DWORD *)(a1 - 134 + 4) = *(_DWORD *)(a1 + 12);
    if ( *(_BYTE *)(v7 + 12) != 1 )
    {
      *(_DWORD *)(a1 - 126) = *(_DWORD *)(a1 + 16);
      *(_DWORD *)(a1 - 126 + 4) = *(_DWORD *)(a1 + 20);
    }
  }
  UNDEF(v8);
  *(_QWORD *)(a1 - 118) = *(_QWORD *)&result;
  sub_4F9040(v8, *(_BYTE *)(*(_DWORD *)(a1 - 148) + 14), a1 - 142, a1 - 164);
  return *(double *)(a1 - 118);
}
// A969A28: using guessed type int dword_A969A28;
// A969C10: using guessed type double dbl_A969C10;
// A969C18: using guessed type char byte_A969C18;

//----- (004F5621) --------------------------------------------------------
double __cdecl sub_4F5621(double a1)
{
  double v1; // ST06_8@2
  double result; // st7@2

  if ( (WORD3(a1) & 0x7FF0) == 32752 )
  {
    HIDWORD(v1) = *(_QWORD *)&a1 >> 21;
    LODWORD(v1) = LODWORD(a1);
    result = v1;
  }
  else
  {
    result = a1;
  }
  return result;
}

//----- (004F5660) --------------------------------------------------------
int __usercall sub_4F5660<eax>(int a1<edx>, __int16 a2<cx>, int a3<ebp>, __int16 a4<fpstat>, double _ST7<st0>, char a6, char a7, char a8)
{
  signed __int16 v8; // bx@2

  if ( *(_BYTE *)(a1 + 14) == 5 )
  {
    HIBYTE(v8) = ((unsigned __int8)(*(_WORD *)(a3 - 164) >> 8) | 2) & 0xFE;
    LOBYTE(v8) = 63;
  }
  else
  {
    v8 = 4927;
  }
  *(_WORD *)(a3 - 162) = v8;
  _EBX = &off_5A270D;
  __asm { fxam }
  *(_DWORD *)(a3 - 148) = a1;
  *(_WORD *)(a3 - 160) = a4;
  *(_BYTE *)(a3 - 144) = 0;
  LOBYTE(a2) = __ROL__((char)(2 * *(_BYTE *)(a3 - 159)) >> 1, 1);
  _AL = a2 & 0xF;
  __asm { xlat }
  return (*(int (__thiscall **)(int))(_AL + a1 + 16))(a2 & 0x404);
}
// 5A270D: using guessed type void *off_5A270D;

//----- (004F56C7) --------------------------------------------------------
int __usercall sub_4F56C7<eax>(int a1<edx>, int a2<ebp>, __int16 a3<fpstat>, double _ST6<st1>, double a5<st0>, char a6, char a7, char a8)
{
  signed __int16 v8; // bx@2
  __int16 v10; // fps@4
  char v12; // cl@4
  __int16 v13; // cx@4
  char v16; // ah@4

  if ( *(_BYTE *)(a1 + 14) == 5 )
  {
    HIBYTE(v8) = ((unsigned __int8)(*(_WORD *)(a2 - 164) >> 8) | 2) & 0xFE;
    LOBYTE(v8) = 63;
  }
  else
  {
    v8 = 4927;
  }
  *(_WORD *)(a2 - 162) = v8;
  _EBX = &off_5A270D;
  __asm { fxam }
  *(_DWORD *)(a2 - 148) = a1;
  *(_WORD *)(a2 - 160) = a3;
  *(_BYTE *)(a2 - 144) = 0;
  UNDEF(v10);
  _ST6 = a5;
  v12 = *(_BYTE *)(a2 - 159);
  __asm { fxam }
  *(_WORD *)(a2 - 160) = v10;
  HIBYTE(v13) = __ROL__((char)(2 * *(_BYTE *)(a2 - 159)) >> 1, 1);
  _AL = HIBYTE(v13) & 0xF;
  __asm { xlat }
  v16 = _AL;
  LOBYTE(v13) = __ROL__((char)(2 * v12) >> 1, 1);
  _AL = v13 & 0xF;
  __asm { xlat }
  return (*(int (__thiscall **)(int))((char)(4 * v16 | _AL) + a1 + 16))(v13 & 0x404);
}
// 5A270D: using guessed type void *off_5A270D;

//----- (004F579F) --------------------------------------------------------
double __usercall sub_4F579F<st0>(int a1<ebp>, double a2<st1>, double a3<st0>)
{
  double v3; // st6@1

  *(_QWORD *)(a1 - 158) = *(_QWORD *)&a2;
  v3 = *(double *)(a1 - 158);
  if ( *(_BYTE *)(a1 - 151) & 0x40 )
    *(_BYTE *)(a1 - 144) = 7;
  else
    *(_BYTE *)(a1 - 144) = 1;
  return a3 + v3;
}

//----- (004F57C7) --------------------------------------------------------
double __usercall sub_4F57C7<st0>(int a1<ebp>, double a2<st1>, double a3<st0>)
{
  double v3; // st6@1
  double v4; // qt0@2
  double v5; // st6@2

  *(_QWORD *)(a1 - 158) = *(_QWORD *)&a2;
  v3 = *(double *)(a1 - 158);
  if ( *(_BYTE *)(a1 - 151) & 0x40
    && (v4 = v3,
        v5 = a3,
        a3 = v4,
        *(_QWORD *)(a1 - 158) = *(_QWORD *)&v5,
        v3 = *(double *)(a1 - 158),
        *(_BYTE *)(a1 - 151) & 0x40) )
    *(_BYTE *)(a1 - 144) = 7;
  else
    *(_BYTE *)(a1 - 144) = 1;
  return a3 + v3;
}

//----- (004F5806) --------------------------------------------------------
void __usercall sub_4F5806(int a1<ebp>)
{
  __asm
  {
    fstp    st
    fstp    st
    fld     tbyte_5A26F0
  }
  JUMPOUT(*(_BYTE *)(a1 - 144), 0, loc_4F5820);
  JUMPOUT(*(int *)sub_4F5819);
}
// 4F5806: inconsistent fpu stack
// 4F5820: using guessed type int loc_4F5820();

//----- (004F5819) --------------------------------------------------------
void __usercall sub_4F5819(int a1<ebp>)
{
  *(_BYTE *)(a1 - 144) = 1;
}

//----- (004F5830) --------------------------------------------------------
void __cdecl sub_4F5830()
{
  JUMPOUT(loc_4F5850);
}
// 4F5850: using guessed type int __cdecl loc_4F5850(__int16, int, int, int);

//----- (004F5847) --------------------------------------------------------
double __usercall sub_4F5847<st0>(int a1<eax>, int a2<edx>, int a3<ecx>, double a4<st0>, __int16 a5, int a6, int a7, int a8)
{
  __int16 v8; // fps@1
  int v10; // [sp+0h] [bp-20h]@1
  int v11; // [sp+4h] [bp-1Ch]@1
  int v12; // [sp+8h] [bp-18h]@1
  int v13; // [sp+Ch] [bp-14h]@1
  double v14; // [sp+18h] [bp-8h]@1

  v10 = a1;
  UNDEF(v8);
  v14 = a4;
  v11 = a3;
  v12 = a7;
  v13 = a8;
  sub_4F9040(v8, a2, (int)&v10, (int)&a5);
  return v14;
}

//----- (004F58A5) --------------------------------------------------------
void __cdecl sub_4F58A5()
{
  ;
}

//----- (004F58BC) --------------------------------------------------------
double __usercall sub_4F58BC<st0>(int a1<eax>, double result<st0>)
{
  if ( !(a1 & 0x80000) )
    result = result + 1.0;
  return result;
}

//----- (004F58D5) --------------------------------------------------------
double __fastcall sub_4F58D5(int a1, int a2)
{
  double result; // st7@2

  if ( (*(_DWORD *)(a2 + 4) & 0x7FF00000) == 2146435072 )
    result = COERCE_DOUBLE(*(_QWORD *)a2 << 11);
  else
    result = *(double *)a2;
  return result;
}

//----- (004F5918) --------------------------------------------------------
int __cdecl sub_4F5918(int a1, int a2)
{
  int result; // eax@1

  result = a2 & 0x7FF00000;
  if ( (a2 & 0x7FF00000) == 2146435072 )
    result = a2;
  return result;
}

//----- (004F5A20) --------------------------------------------------------
int __cdecl sub_4F5A20(unsigned int a1, int a2, unsigned int a3)
{
  if ( a3 != 10 || (a1 & 0x80000000u) == 0 )
    sub_4F5A70(a1, a2, a3, 0);
  else
    sub_4F5A70(a1, a2, 0xAu, 1);
  return a2;
}

//----- (004F5A70) --------------------------------------------------------
int __cdecl sub_4F5A70(unsigned int a1, int a2, unsigned int a3, int a4)
{
  char v4; // ST00_1@9
  int result; // eax@9
  int v6; // [sp+4h] [bp-Ch]@4
  int v7; // [sp+8h] [bp-8h]@3
  int v8; // [sp+Ch] [bp-4h]@1
  int v9; // [sp+Ch] [bp-4h]@8

  v8 = a2;
  if ( a4 )
  {
    *(_BYTE *)a2 = 45;
    v8 = a2 + 1;
    a1 = -a1;
  }
  v7 = v8;
  do
  {
    v6 = a1 % a3;
    a1 /= a3;
    if ( (unsigned int)v6 <= 9 )
      *(_BYTE *)v8++ = v6 + 48;
    else
      *(_BYTE *)v8++ = v6 + 87;
  }
  while ( a1 );
  *(_BYTE *)v8 = 0;
  v9 = v8 - 1;
  do
  {
    v4 = *(_BYTE *)v9;
    *(_BYTE *)v9 = *(_BYTE *)v7;
    *(_BYTE *)v7 = v4;
    --v9;
    result = v7++ + 1;
  }
  while ( v7 < (unsigned int)v9 );
  return result;
}

//----- (004F5BF0) --------------------------------------------------------
int __stdcall sub_4F5BF0(__int64 a1, int a2, unsigned int a3, int a4)
{
  char v4; // ST10_1@9
  int result; // eax@9
  int v6; // [sp+4h] [bp-Ch]@4
  int v7; // [sp+8h] [bp-8h]@3
  int v8; // [sp+Ch] [bp-4h]@1
  int v9; // [sp+Ch] [bp-4h]@8

  v8 = a2;
  if ( a4 )
  {
    *(_BYTE *)a2 = 45;
    v8 = a2 + 1;
    a1 = -a1;
  }
  v7 = v8;
  do
  {
    v6 = sub_4F7370(a1, a3);
    a1 = sub_4F7300(a1, a3, 0);
    if ( (unsigned int)v6 <= 9 )
      *(_BYTE *)v8++ = v6 + 48;
    else
      *(_BYTE *)v8++ = v6 + 87;
  }
  while ( a1 );
  *(_BYTE *)v8 = 0;
  v9 = v8 - 1;
  do
  {
    v4 = *(_BYTE *)v9;
    *(_BYTE *)v9 = *(_BYTE *)v7;
    *(_BYTE *)v7 = v4;
    --v9;
    result = v7++ + 1;
  }
  while ( v7 < (unsigned int)v9 );
  return result;
}

//----- (004F5D10) --------------------------------------------------------
int __usercall sub_4F5D10<eax>(int ebx0<ebx>, int esi0<esi>, int a1, int a2, int a3, int a4)
{
  char v7; // [sp+0h] [bp-38h]@0
  int v8; // [sp+10h] [bp-28h]@7
  int v9; // [sp+18h] [bp-20h]@7
  int v10; // [sp+1Ch] [bp-1Ch]@7
  int v11; // [sp+20h] [bp-18h]@7
  signed int v12; // [sp+24h] [bp-14h]@7

  if ( !a1 && sub_4EB280(ebx0, esi0, 2, (int)"vsprintf.c", 90, 0, "string != NULL", v7) == 1 )
    __debugbreak();
  if ( !a3 && sub_4EB280(ebx0, esi0, 2, (int)"vsprintf.c", 91, 0, "format != NULL", v7) == 1 )
    __debugbreak();
  v12 = 66;
  v11 = a1;
  v9 = a1;
  v10 = a2;
  v8 = sub_4EC8E0(ebx0, esi0, (int)&v9, a3, a4);
  --v10;
  if ( v10 < 0 )
    sub_4EC660(ebx0, esi0, 0, (int)&v9);
  else
    *(_BYTE *)v9++ = 0;
  return v8;
}

//----- (004F5FB0) --------------------------------------------------------
signed int __stdcall sub_4F5FB0(int a1)
{
  signed int result; // eax@5
  int v2; // [sp+0h] [bp-Ch]@2
  int *v3; // [sp+4h] [bp-8h]@2
  signed int v4; // [sp+8h] [bp-4h]@2

  if ( a1 )
  {
    v3 = &dword_A969C20;
    v2 = dword_A969C20;
    v4 = 21;
  }
  else
  {
    v3 = &dword_A969C1C;
    v2 = dword_A969C1C;
    v4 = 2;
  }
  if ( v2 )
  {
    if ( v2 != 1 )
    {
      *v3 = 0;
      ((void (__cdecl *)(signed int))v2)(v4);
    }
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// A969C1C: using guessed type int dword_A969C1C;
// A969C20: using guessed type int dword_A969C20;

//----- (004F6020) --------------------------------------------------------
signed int __usercall sub_4F6020<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4)
{
  signed int result; // eax@7
  int v5; // [sp+4h] [bp-14h]@2
  int *v6; // [sp+8h] [bp-10h]@2
  int v7; // [sp+Ch] [bp-Ch]@0
  int i; // [sp+10h] [bp-8h]@18
  int v9; // [sp+14h] [bp-4h]@0

  switch ( a4 )
  {
    case 2:
      v6 = &dword_A969C1C;
      v5 = dword_A969C1C;
      goto LABEL_8;
    case 21:
      v6 = &dword_A969C20;
      v5 = dword_A969C20;
      goto LABEL_8;
    case 22:
      v6 = &dword_A969C24;
      v5 = dword_A969C24;
      goto LABEL_8;
    case 15:
      v6 = &dword_A969C28;
      v5 = dword_A969C28;
      goto LABEL_8;
    case 4:
    case 8:
    case 11:
      v6 = (int *)(sub_4F61E0(a4) + 8);
      v5 = *v6;
LABEL_8:
      if ( v5 == 1 )
      {
        result = 0;
      }
      else
      {
        if ( !v5 )
          sub_4EB000(a1, a2, a3, 3u);
        if ( a4 == 8 || a4 == 11 || a4 == 4 )
        {
          v7 = dword_A969C3C;
          dword_A969C3C = 0;
          if ( a4 == 8 )
          {
            v9 = dword_5A27A4;
            dword_5A27A4 = 140;
          }
        }
        if ( a4 == 8 )
        {
          for ( i = dword_5A2798; i < dword_5A279C + dword_5A2798; ++i )
            dword_5A2728[3 * i] = 0;
        }
        else
        {
          *v6 = 0;
        }
        if ( a4 == 8 )
          ((void (__cdecl *)(_DWORD, _DWORD))v5)(8, dword_5A27A4);
        else
          ((void (__cdecl *)(_DWORD))v5)(a4);
        if ( a4 == 8 || a4 == 11 || a4 == 4 )
        {
          dword_A969C3C = v7;
          if ( a4 == 8 )
            dword_5A27A4 = v9;
        }
        result = 0;
      }
      break;
    default:
      result = -1;
      break;
  }
  return result;
}
// 5A2728: using guessed type int dword_5A2728[];
// 5A2798: using guessed type int dword_5A2798;
// 5A279C: using guessed type int dword_5A279C;
// 5A27A4: using guessed type int dword_5A27A4;
// A969C1C: using guessed type int dword_A969C1C;
// A969C20: using guessed type int dword_A969C20;
// A969C24: using guessed type int dword_A969C24;
// A969C28: using guessed type int dword_A969C28;
// A969C3C: using guessed type int dword_A969C3C;

//----- (004F61E0) --------------------------------------------------------
unsigned int __cdecl sub_4F61E0(int a1)
{
  unsigned int result; // eax@6
  unsigned int v2; // [sp+0h] [bp-4h]@1

  v2 = (unsigned int)&unk_5A2720;
  do
  {
    if ( *(_DWORD *)(v2 + 4) == a1 )
      break;
    v2 += 12;
  }
  while ( v2 < (unsigned int)((char *)&unk_5A2720 + 12 * dword_5A27A0) );
  if ( v2 >= (unsigned int)((char *)&unk_5A2720 + 12 * dword_5A27A0) || *(_DWORD *)(v2 + 4) != a1 )
    result = 0;
  else
    result = v2;
  return result;
}
// 5A27A0: using guessed type int dword_5A27A0;

//----- (004F6240) --------------------------------------------------------
int __cdecl sub_4F6240(int a1, int a2, int a3)
{
  HMODULE hModule; // [sp+0h] [bp-8h]@2
  int v5; // [sp+4h] [bp-4h]@1

  v5 = 0;
  if ( !dword_A969C30 )
  {
    hModule = LoadLibraryA("user32.dll");
    if ( !hModule
      || (dword_A969C30 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD))GetProcAddress(hModule, "MessageBoxA")) == 0 )
      return 0;
    dword_A969C34 = GetProcAddress(hModule, "GetActiveWindow");
    dword_A969C38 = (int (__stdcall *)(_DWORD))GetProcAddress(hModule, "GetLastActivePopup");
  }
  if ( dword_A969C34 )
    v5 = dword_A969C34();
  if ( v5 )
  {
    if ( dword_A969C38 )
      v5 = dword_A969C38(v5);
  }
  return dword_A969C30(v5, a1, a2, a3);
}
// A969C30: using guessed type int (__stdcall *dword_A969C30)(_DWORD, _DWORD, _DWORD, _DWORD);
// A969C34: using guessed type int (*dword_A969C34)(void);
// A969C38: using guessed type int (__stdcall *dword_A969C38)(_DWORD);

//----- (004F6300) --------------------------------------------------------
int __usercall sub_4F6300<eax>(int a1<ebx>, int a2<esi>)
{
  signed int i; // [sp+0h] [bp-8h]@1
  int v4; // [sp+4h] [bp-4h]@1

  v4 = 0;
  for ( i = 3; i < dword_A96B500; ++i )
  {
    if ( *(_DWORD *)(dword_A96A1B4 + 4 * i) )
    {
      if ( *(_DWORD *)(*(_DWORD *)(dword_A96A1B4 + 4 * i) + 12) & 0x83
        && sub_4E4260(a1, a2, *(_DWORD *)(dword_A96A1B4 + 4 * i)) != -1 )
        ++v4;
      if ( i >= 20 )
      {
        sub_4E5F50(a1, a2, *(_DWORD *)(dword_A96A1B4 + 4 * i), 2);
        *(_DWORD *)(dword_A96A1B4 + 4 * i) = 0;
      }
    }
  }
  return v4;
}
// A96A1B4: using guessed type int dword_A96A1B4;
// A96B500: using guessed type int dword_A96B500;

//----- (004F63B0) --------------------------------------------------------
LONG __cdecl sub_4F63B0(int a1, struct _EXCEPTION_POINTERS *ExceptionInfo)
{
  LONG result; // eax@3
  int v3; // [sp+0h] [bp-14h]@8
  int i; // [sp+4h] [bp-10h]@9
  unsigned int v5; // [sp+8h] [bp-Ch]@1
  int v6; // [sp+Ch] [bp-8h]@12
  void (__cdecl *v7)(signed int, int); // [sp+10h] [bp-4h]@8

  v5 = sub_4F6560(a1);
  if ( v5 && *(_DWORD *)(v5 + 8) )
  {
    if ( *(_DWORD *)(v5 + 8) == 5 )
    {
      *(_DWORD *)(v5 + 8) = 0;
      result = 1;
    }
    else
    {
      if ( *(_DWORD *)(v5 + 8) == 1 )
      {
        result = -1;
      }
      else
      {
        v7 = *(void (__cdecl **)(signed int, int))(v5 + 8);
        v3 = dword_A969C3C;
        dword_A969C3C = (int)ExceptionInfo;
        if ( *(_DWORD *)(v5 + 4) == 8 )
        {
          for ( i = dword_5A2798; i < dword_5A279C + dword_5A2798; ++i )
            dword_5A2728[3 * i] = 0;
          v6 = dword_5A27A4;
          switch ( *(_DWORD *)v5 )
          {
            case 0xC000008E:
              dword_5A27A4 = 131;
              break;
            case 0xC0000090:
              dword_5A27A4 = 129;
              break;
            case 0xC0000091:
              dword_5A27A4 = 132;
              break;
            case 0xC0000093:
              dword_5A27A4 = 133;
              break;
            case 0xC000008D:
              dword_5A27A4 = 130;
              break;
            case 0xC000008F:
              dword_5A27A4 = 134;
              break;
            case 0xC0000092:
              dword_5A27A4 = 138;
              break;
          }
          v7(8, dword_5A27A4);
          dword_5A27A4 = v6;
        }
        else
        {
          *(_DWORD *)(v5 + 8) = 0;
          ((void (__cdecl *)(_DWORD))v7)(*(_DWORD *)(v5 + 4));
        }
        dword_A969C3C = v3;
        result = -1;
      }
    }
  }
  else
  {
    result = UnhandledExceptionFilter(ExceptionInfo);
  }
  return result;
}
// 5A2728: using guessed type int dword_5A2728[];
// 5A2798: using guessed type int dword_5A2798;
// 5A279C: using guessed type int dword_5A279C;
// 5A27A4: using guessed type int dword_5A27A4;
// A969C3C: using guessed type int dword_A969C3C;

//----- (004F6560) --------------------------------------------------------
unsigned int __cdecl sub_4F6560(int a1)
{
  unsigned int result; // eax@6
  unsigned int v2; // [sp+0h] [bp-4h]@1

  v2 = (unsigned int)&unk_5A2720;
  do
  {
    if ( *(_DWORD *)v2 == a1 )
      break;
    v2 += 12;
  }
  while ( v2 < (unsigned int)((char *)&unk_5A2720 + 12 * dword_5A27A0) );
  if ( v2 < (unsigned int)((char *)&unk_5A2720 + 12 * dword_5A27A0) && *(_DWORD *)v2 == a1 )
    result = v2;
  else
    result = 0;
  return result;
}
// 5A27A0: using guessed type int dword_5A27A0;

//----- (004F65C0) --------------------------------------------------------
unsigned __int8 *__usercall sub_4F65C0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>)
{
  unsigned __int8 *v4; // [sp+0h] [bp-4h]@3

  if ( !dword_A96B520 )
    sub_4EFB10(a1, a2, a3);
  v4 = (unsigned __int8 *)dword_A96A1A8;
  if ( *(_BYTE *)dword_A96A1A8 == 34 )
  {
    while ( 1 )
    {
      ++v4;
      if ( *v4 == 34 )
        break;
      if ( !*v4 )
        break;
      if ( sub_4F92C0(*v4) )
        ++v4;
    }
    if ( *v4 == 34 )
      ++v4;
  }
  else
  {
    while ( (signed int)*v4 > 32 )
      ++v4;
  }
  while ( *v4 && (signed int)*v4 <= 32 )
    ++v4;
  return v4;
}
// A96A1A8: using guessed type int dword_A96A1A8;
// A96B520: using guessed type int dword_A96B520;

//----- (004F6680) --------------------------------------------------------
int __usercall sub_4F6680<eax>(int a1<ebx>, int a2<edi>, int a3<esi>)
{
  int result; // eax@17
  unsigned int v4; // [sp+0h] [bp-10h]@12
  int v5; // [sp+4h] [bp-Ch]@8
  int v6; // [sp+8h] [bp-8h]@3
  int i; // [sp+Ch] [bp-4h]@3
  int j; // [sp+Ch] [bp-4h]@10

  if ( !dword_A96B520 )
    sub_4EFB10(a1, a2, a3);
  v6 = 0;
  for ( i = dword_A969AB8; *(_BYTE *)i; i += sub_4E4B50(i) + 1 )
  {
    if ( *(_BYTE *)i != 61 )
      ++v6;
  }
  v5 = sub_4E5510(a1, a3, 4 * v6 + 4, 2, (int)"stdenvp.c", 109);
  dword_A969A88 = v5;
  if ( !v5 )
    sub_4EC600(a1, a3, 9);
  for ( j = dword_A969AB8; *(_BYTE *)j; j += v4 )
  {
    v4 = sub_4E4B50(j) + 1;
    if ( *(_BYTE *)j != 61 )
    {
      *(_DWORD *)v5 = sub_4E5510(a1, a3, v4, 2, (int)"stdenvp.c", 121);
      if ( !*(_DWORD *)v5 )
        sub_4EC600(a1, a3, 9);
      sub_4E4720(*(_DWORD *)v5);
      v5 += 4;
    }
  }
  sub_4E5F50(a1, a3, dword_A969AB8, 2);
  dword_A969AB8 = 0;
  result = v5;
  *(_DWORD *)v5 = 0;
  dword_A96B510 = 1;
  return result;
}
// A969A88: using guessed type int dword_A969A88;
// A969AB8: using guessed type int dword_A969AB8;
// A96B510: using guessed type int dword_A96B510;
// A96B520: using guessed type int dword_A96B520;

//----- (004F67D0) --------------------------------------------------------
int __usercall sub_4F67D0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>)
{
  int result; // eax@8
  int v4; // [sp+0h] [bp-14h]@4
  int v5; // [sp+8h] [bp-Ch]@6
  int v6; // [sp+Ch] [bp-8h]@6
  int v7; // [sp+10h] [bp-4h]@6

  if ( !dword_A96B520 )
    sub_4EFB10(a1, a2, a3);
  GetModuleFileNameA(0, Filename, 0x104u);
  dword_A969A98 = (int)Filename;
  if ( *(_BYTE *)dword_A96A1A8 )
    v4 = dword_A96A1A8;
  else
    v4 = dword_A969A98;
  sub_4F68B0(v4, 0, 0, (int)&v5, (int)&v7);
  v6 = sub_4E5510(a1, a3, v7 + 4 * v5, 2, (int)"stdargv.c", 128);
  if ( !v6 )
    sub_4EC600(a1, a3, 8);
  sub_4F68B0(v4, v6, v6 + 4 * v5, (int)&v5, (int)&v7);
  result = v5 - 1;
  dword_A969A7C = v5 - 1;
  dword_A969A80 = v6;
  return result;
}
// A969A7C: using guessed type int dword_A969A7C;
// A969A80: using guessed type int dword_A969A80;
// A969A98: using guessed type int dword_A969A98;
// A96A1A8: using guessed type int dword_A96A1A8;
// A96B520: using guessed type int dword_A96B520;

//----- (004F68B0) --------------------------------------------------------
int __cdecl sub_4F68B0(int a1, int a2, int a3, int a4, int a5)
{
  unsigned int v5; // ecx@52
  int result; // eax@75
  bool v7; // [sp+0h] [bp-14h]@30
  unsigned int v8; // [sp+4h] [bp-10h]@39
  unsigned __int8 v9; // [sp+8h] [bp-Ch]@19
  signed int v10; // [sp+Ch] [bp-8h]@39
  int v11; // [sp+10h] [bp-4h]@1

  *(_DWORD *)a5 = 0;
  *(_DWORD *)a4 = 1;
  v11 = a1;
  if ( a2 )
  {
    *(_DWORD *)a2 = a3;
    a2 += 4;
  }
  if ( *(_BYTE *)a1 == 34 )
  {
    while ( 1 )
    {
      ++v11;
      if ( *(_BYTE *)v11 == 34 )
        break;
      if ( !*(_BYTE *)v11 )
        break;
      if ( byte_A96A0A1[*(_BYTE *)v11] & 4 )
      {
        ++*(_DWORD *)a5;
        if ( a3 )
          *(_BYTE *)a3++ = *(_BYTE *)v11++;
      }
      ++*(_DWORD *)a5;
      if ( a3 )
        *(_BYTE *)a3++ = *(_BYTE *)v11;
    }
    ++*(_DWORD *)a5;
    if ( a3 )
      *(_BYTE *)a3++ = 0;
    if ( *(_BYTE *)v11 == 34 )
      ++v11;
  }
  else
  {
    do
    {
      ++*(_DWORD *)a5;
      if ( a3 )
        *(_BYTE *)a3++ = *(_BYTE *)v11;
      v9 = *(_BYTE *)v11++;
      if ( byte_A96A0A1[v9] & 4 )
      {
        ++*(_DWORD *)a5;
        if ( a3 )
          *(_BYTE *)a3++ = *(_BYTE *)v11;
        ++v11;
      }
    }
    while ( v9 != 32 && v9 && v9 != 9 );
    if ( v9 )
    {
      if ( a3 )
        *(_BYTE *)(a3 - 1) = 0;
    }
    else
    {
      --v11;
    }
  }
  v7 = 0;
  while ( 1 )
  {
    if ( *(_BYTE *)v11 )
    {
      while ( *(_BYTE *)v11 == 32 || *(_BYTE *)v11 == 9 )
        ++v11;
    }
    if ( !*(_BYTE *)v11 )
      break;
    if ( a2 )
    {
      *(_DWORD *)a2 = a3;
      a2 += 4;
    }
    ++*(_DWORD *)a4;
    while ( 1 )
    {
      v10 = 1;
      v8 = 0;
      while ( *(_BYTE *)v11 == 92 )
      {
        ++v11;
        ++v8;
      }
      if ( *(_BYTE *)v11 == 34 )
      {
        if ( !(v8 % 2) )
        {
          if ( v7 )
          {
            if ( *(_BYTE *)(v11 + 1) == 34 )
              ++v11;
            else
              v10 = 0;
          }
          else
          {
            v10 = 0;
          }
          v7 = v7 == 0;
        }
        v8 >>= 1;
      }
      while ( 1 )
      {
        v5 = v8--;
        if ( !v5 )
          break;
        if ( a3 )
          *(_BYTE *)a3++ = 92;
        ++*(_DWORD *)a5;
      }
      if ( !*(_BYTE *)v11 || !v7 && (*(_BYTE *)v11 == 32 || *(_BYTE *)v11 == 9) )
        break;
      if ( v10 )
      {
        if ( a3 )
        {
          if ( byte_A96A0A1[*(_BYTE *)v11] & 4 )
          {
            *(_BYTE *)a3++ = *(_BYTE *)v11++;
            ++*(_DWORD *)a5;
          }
          *(_BYTE *)a3++ = *(_BYTE *)v11;
        }
        else
        {
          if ( byte_A96A0A1[*(_BYTE *)v11] & 4 )
          {
            ++v11;
            ++*(_DWORD *)a5;
          }
        }
        ++*(_DWORD *)a5;
      }
      ++v11;
    }
    if ( a3 )
      *(_BYTE *)a3++ = 0;
    ++*(_DWORD *)a5;
  }
  if ( a2 )
    *(_DWORD *)a2 = 0;
  result = *(_DWORD *)a4 + 1;
  *(_DWORD *)a4 = result;
  return result;
}

//----- (004F6CE0) --------------------------------------------------------
int __usercall sub_4F6CE0<eax>(int a1<ebx>, int a2<esi>)
{
  int result; // eax@6
  LPCH lpMultiByteStr; // [sp+0h] [bp-18h]@1
  int lpMultiByteStra; // [sp+0h] [bp-18h]@17
  const WCHAR *lpWideCharStr; // [sp+4h] [bp-14h]@1
  int cbMultiByte; // [sp+8h] [bp-10h]@16
  unsigned int cbMultiBytea; // [sp+8h] [bp-10h]@31
  LPCH v8; // [sp+Ch] [bp-Ch]@26
  int v9; // [sp+Ch] [bp-Ch]@31
  const WCHAR *v10; // [sp+10h] [bp-8h]@11

  lpWideCharStr = 0;
  lpMultiByteStr = 0;
  if ( !dword_A969D44 )
  {
    lpWideCharStr = GetEnvironmentStringsW();
    if ( lpWideCharStr )
    {
      dword_A969D44 = 1;
    }
    else
    {
      lpMultiByteStr = GetEnvironmentStrings();
      if ( !lpMultiByteStr )
        return 0;
      dword_A969D44 = 2;
    }
  }
  if ( dword_A969D44 == 1 )
  {
    if ( lpWideCharStr || (lpWideCharStr = GetEnvironmentStringsW()) != 0 )
    {
      v10 = lpWideCharStr;
      while ( *v10 )
      {
        ++v10;
        if ( !*v10 )
          ++v10;
      }
      cbMultiByte = WideCharToMultiByte(0, 0, lpWideCharStr, v10 - lpWideCharStr + 1, 0, 0, 0, 0);
      if ( cbMultiByte && (lpMultiByteStra = sub_4E5510(a1, a2, cbMultiByte, 2, (int)"a_env.c", 100)) != 0 )
      {
        if ( !WideCharToMultiByte(
                0,
                0,
                lpWideCharStr,
                v10 - lpWideCharStr + 1,
                (LPSTR)lpMultiByteStra,
                cbMultiByte,
                0,
                0) )
        {
          sub_4E5F50(a1, a2, lpMultiByteStra, 2);
          lpMultiByteStra = 0;
        }
        FreeEnvironmentStringsW((LPWCH)lpWideCharStr);
        result = lpMultiByteStra;
      }
      else
      {
        FreeEnvironmentStringsW((LPWCH)lpWideCharStr);
        result = 0;
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    if ( dword_A969D44 == 2 )
    {
      if ( lpMultiByteStr || (lpMultiByteStr = GetEnvironmentStrings()) != 0 )
      {
        v8 = lpMultiByteStr;
        while ( *v8 )
        {
          ++v8;
          if ( !*v8 )
            ++v8;
        }
        cbMultiBytea = v8 - lpMultiByteStr + 1;
        v9 = sub_4E5510(a1, a2, v8 - lpMultiByteStr + 1, 2, (int)"a_env.c", 143);
        if ( v9 )
        {
          sub_4E4810((void *)v9, lpMultiByteStr, cbMultiBytea);
          FreeEnvironmentStringsA(lpMultiByteStr);
          result = v9;
        }
        else
        {
          FreeEnvironmentStringsA(lpMultiByteStr);
          result = 0;
        }
      }
      else
      {
        result = 0;
      }
    }
    else
    {
      result = 0;
    }
  }
  return result;
}
// A969D44: using guessed type int dword_A969D44;

//----- (004F6F00) --------------------------------------------------------
signed int __usercall sub_4F6F00<eax>(int a1<ebx>, int a2<esi>)
{
  signed int result; // eax@6

  if ( dword_A969AC0 == 1 || !dword_A969AC0 && dword_5A20A4 == 1 )
  {
    sub_4F6F50(a1, a2, 252);
    if ( dword_A969D48 )
      dword_A969D48();
    result = sub_4F6F50(a1, a2, 255);
  }
  return result;
}
// 5A20A4: using guessed type int dword_5A20A4;
// A969AC0: using guessed type int dword_A969AC0;
// A969D48: using guessed type int (*dword_A969D48)(void);

//----- (004F6F50) --------------------------------------------------------
signed int __usercall sub_4F6F50<eax>(int ebx0<ebx>, int a2<esi>, int a1)
{
  signed int result; // eax@5
  int v4; // ST08_4@12
  const void *v5; // ST04_4@12
  HANDLE v6; // eax@12
  int v7; // eax@17
  char v8; // [sp+0h] [bp-1BCh]@0
  char v9; // [sp+Ch] [bp-1B0h]@18
  CHAR Filename; // [sp+ACh] [bp-110h]@14
  int v11; // [sp+1B0h] [bp-Ch]@16
  unsigned int i; // [sp+1B4h] [bp-8h]@1
  DWORD NumberOfBytesWritten; // [sp+1B8h] [bp-4h]@12

  for ( i = 0; i < 0x12 && a1 != dword_5A27A8[2 * i]; ++i )
    ;
  result = i;
  if ( a1 == dword_5A27A8[2 * i] )
  {
    if ( a1 != 252 )
    {
      result = sub_4EB280(ebx0, a2, 1, 0, 0, 0, (const char *)*(&lpBuffer + 2 * i), v8);
      if ( result == 1 )
        __debugbreak();
    }
    if ( dword_A969AC0 != 1 && (dword_A969AC0 || dword_5A20A4 != 1) )
    {
      if ( a1 != 252 )
      {
        if ( !GetModuleFileNameA(0, &Filename, 0x104u) )
          sub_4E4720((int)&Filename);
        v11 = (int)&Filename;
        if ( (unsigned int)(sub_4E4B50((int)&Filename) + 1) > 0x3C )
        {
          v7 = sub_4E4B50((int)&Filename);
          v11 = v11 + v7 - 59;
          sub_4E7850(v11, (int)"...", 3u);
        }
        sub_4E4720((int)&v9);
        sub_4E4730((int)&v9, v11);
        sub_4E4730((int)&v9, (int)"\n\n");
        sub_4E4730((int)&v9, (int)*(&lpBuffer + 2 * i));
        result = sub_4F6240((int)&v9, (int)"Microsoft Visual C++ Runtime Library", 73744);
      }
    }
    else
    {
      v4 = sub_4E4B50((int)*(&lpBuffer + 2 * i));
      v5 = *(&lpBuffer + 2 * i);
      v6 = GetStdHandle(0xFFFFFFF4u);
      result = WriteFile(v6, v5, v4, &NumberOfBytesWritten, 0);
    }
  }
  return result;
}
// 5A20A4: using guessed type int dword_5A20A4;
// 5A27A8: using guessed type int dword_5A27A8[];
// A969AC0: using guessed type int dword_A969AC0;

//----- (004F7160) --------------------------------------------------------
int __usercall sub_4F7160<eax>(int ebx0<ebx>, int a2<esi>, int a1)
{
  int result; // eax@7
  char v4; // [sp+0h] [bp-10h]@0

  if ( !a1 && sub_4EB280(ebx0, a2, 2, (int)"_getbuf.c", 46, 0, "str != NULL", v4) == 1 )
    __debugbreak();
  ++dword_A969AB4;
  *(_DWORD *)(a1 + 8) = sub_4E5510(ebx0, a2, 0x1000u, 2, (int)"_getbuf.c", 59);
  if ( *(_DWORD *)(a1 + 8) )
  {
    *(_DWORD *)(a1 + 12) |= 8u;
    *(_DWORD *)(a1 + 24) = 4096;
  }
  else
  {
    *(_DWORD *)(a1 + 12) |= 4u;
    *(_DWORD *)(a1 + 8) = a1 + 20;
    *(_DWORD *)(a1 + 24) = 2;
  }
  result = *(_DWORD *)(a1 + 8);
  *(_DWORD *)a1 = result;
  *(_DWORD *)(a1 + 4) = 0;
  return result;
}
// A969AB4: using guessed type int dword_A969AB4;

//----- (004F7230) --------------------------------------------------------
int __cdecl sub_4F7230(signed int a1)
{
  int result; // eax@2

  if ( a1 < uNumber )
    result = *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 0x40;
  else
    result = 0;
  return result;
}
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004F7260) --------------------------------------------------------
signed int __cdecl sub_4F7260(LPSTR lpMultiByteStr, const WCHAR WideCharStr)
{
  signed int result; // eax@2
  BOOL UsedDefaultChar; // [sp+0h] [bp-8h]@7
  int v4; // [sp+4h] [bp-4h]@7

  if ( lpMultiByteStr )
  {
    if ( dword_A969B08 )
    {
      UsedDefaultChar = 0;
      v4 = WideCharToMultiByte(dword_A969B18, 0x220u, &WideCharStr, 1, lpMultiByteStr, cbMultiByte, 0, &UsedDefaultChar);
      if ( v4 && !UsedDefaultChar )
      {
        result = v4;
      }
      else
      {
        dword_A969A60 = 42;
        result = -1;
      }
    }
    else
    {
      if ( (signed int)WideCharStr <= 255 )
      {
        *lpMultiByteStr = WideCharStr;
        result = 1;
      }
      else
      {
        dword_A969A60 = 42;
        result = -1;
      }
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// A969A60: using guessed type int dword_A969A60;

//----- (004F7300) --------------------------------------------------------
__int64 __stdcall sub_4F7300(unsigned __int64 a1, unsigned int a2, unsigned int a3)
{
  unsigned __int64 v3; // qtt@2
  __int64 result; // qax@2
  unsigned int v5; // ecx@3
  unsigned int v6; // ebx@3
  unsigned __int64 v7; // qax@3
  unsigned __int8 v8; // cf@4
  unsigned int v9; // eax@5
  unsigned int v10; // esi@5
  int v11; // ecx@5
  unsigned __int64 v12; // qax@5

  if ( a3 )
  {
    v5 = a3;
    v6 = a2;
    v7 = a1;
    do
    {
      v8 = v5 & 1;
      v5 >>= 1;
      v6 = __RCR__(v6, v8);
      v8 = BYTE4(v7) & 1;
      HIDWORD(v7) >>= 1;
      LODWORD(v7) = __RCR__(v7, v8);
    }
    while ( v5 );
    v9 = v7 / v6;
    v10 = v9;
    v11 = a3 * v9;
    v12 = v9 * (unsigned __int64)a2;
    v8 = __CFADD__(v11, HIDWORD(v12));
    HIDWORD(v12) += v11;
    if ( v8 || HIDWORD(v12) > HIDWORD(a1) || HIDWORD(v12) >= HIDWORD(a1) && (unsigned int)v12 > (unsigned int)a1 )
      --v10;
    result = v10;
  }
  else
  {
    LODWORD(v3) = a1;
    HIDWORD(v3) = HIDWORD(a1) % a2;
    LODWORD(result) = v3 / a2;
    HIDWORD(result) = HIDWORD(a1) / a2;
  }
  return result;
}

//----- (004F7370) --------------------------------------------------------
int __stdcall sub_4F7370(unsigned __int64 a1, __int64 a2)
{
  unsigned __int64 v2; // qtt@2
  int result; // eax@2
  unsigned int v4; // ecx@3
  unsigned int v5; // ebx@3
  unsigned __int64 v6; // qax@3
  unsigned __int8 v7; // cf@4
  unsigned int v8; // eax@5
  int v9; // ecx@5
  unsigned __int64 v10; // qax@5

  if ( HIDWORD(a2) )
  {
    v4 = HIDWORD(a2);
    v5 = a2;
    v6 = a1;
    do
    {
      v7 = v4 & 1;
      v4 >>= 1;
      v5 = __RCR__(v5, v7);
      v7 = BYTE4(v6) & 1;
      HIDWORD(v6) >>= 1;
      LODWORD(v6) = __RCR__(v6, v7);
    }
    while ( v4 );
    v8 = v6 / v5;
    v9 = HIDWORD(a2) * v8;
    v10 = (unsigned int)a2 * (unsigned __int64)v8;
    v7 = __CFADD__(v9, HIDWORD(v10));
    HIDWORD(v10) += v9;
    if ( v7 || HIDWORD(v10) > HIDWORD(a1) || HIDWORD(v10) >= HIDWORD(a1) && (unsigned int)v10 > (unsigned int)a1 )
      LODWORD(v10) = v10 - a2;
    result = -(v10 - (_DWORD)a1);
  }
  else
  {
    LODWORD(v2) = a1;
    HIDWORD(v2) = HIDWORD(a1) % (unsigned int)a2;
    result = v2 % (unsigned int)a2;
  }
  return result;
}

//----- (004F73F0) --------------------------------------------------------
signed int __usercall sub_4F73F0<eax>(int a1<ebx>, int a2<esi>, LPWSTR lpWideCharStr, LPCSTR lpMultiByteStr, unsigned int a5)
{
  signed int result; // eax@7
  char v6; // [sp+0h] [bp-Ch]@0

  if ( cbMultiByte != 1
    && cbMultiByte != 2
    && sub_4EB280(a1, a2, 2, (int)"mbtowc.c", 79, 0, "MB_CUR_MAX == 1 || MB_CUR_MAX == 2", v6) == 1 )
    __debugbreak();
  if ( lpMultiByteStr && a5 )
  {
    if ( *lpMultiByteStr )
    {
      if ( dword_A969B08 )
      {
        if ( *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * (unsigned __int8)*lpMultiByteStr) & 0x8000 )
        {
          if ( cbMultiByte > 1
            && (signed int)a5 >= cbMultiByte
            && MultiByteToWideChar(dword_A969B18, 9u, lpMultiByteStr, cbMultiByte, lpWideCharStr, lpWideCharStr != 0)
            || a5 >= cbMultiByte && lpMultiByteStr[1] )
          {
            result = cbMultiByte;
          }
          else
          {
            dword_A969A60 = 42;
            result = -1;
          }
        }
        else
        {
          if ( MultiByteToWideChar(dword_A969B18, 9u, lpMultiByteStr, 1, lpWideCharStr, lpWideCharStr != 0) )
          {
            result = 1;
          }
          else
          {
            dword_A969A60 = 42;
            result = -1;
          }
        }
      }
      else
      {
        if ( lpWideCharStr )
          *lpWideCharStr = (unsigned __int8)*lpMultiByteStr;
        result = 1;
      }
    }
    else
    {
      if ( lpWideCharStr )
        *lpWideCharStr = 0;
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 5A21D8: using guessed type __int16 off_5A21D8[2];
// A969A60: using guessed type int dword_A969A60;

//----- (004F76B0) --------------------------------------------------------
int __usercall sub_4F76B0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int a4)
{
  __int16 v4; // ax@3
  int v6; // [sp+0h] [bp-4h]@2

  if ( cbMultiByte <= 1 )
  {
    v4 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * a4);
    v6 = v4 & 8;
  }
  else
  {
    v6 = sub_4F0440(a1, a2, a3, a4, 8);
  }
  return v6;
}
// 5A21D8: using guessed type __int16 off_5A21D8[2];

//----- (004F7940) --------------------------------------------------------
int __usercall sub_4F7940<eax>(__int64 a1<edx:eax>, unsigned __int8 a2<cl>)
{
  __int64 v2; // qax@3

  if ( a2 >= 0x40u )
  {
    LODWORD(v2) = 0;
  }
  else
  {
    if ( a2 >= 0x20u )
      LODWORD(v2) = 0;
    else
      v2 = a1 << (a2 & 0x1F);
  }
  return v2;
}

//----- (004F7960) --------------------------------------------------------
signed int __usercall sub_4F7960<eax>(int a1<ebx>, int a2<esi>, int a3, int a4)
{
  int v5; // eax@20
  int v6; // eax@20
  char v7; // [sp+0h] [bp-10h]@0

  if ( !a4 && sub_4EB280(a1, a2, 2, (int)"ungetc.c", 96, 0, "str != NULL", v7) == 1 )
    __debugbreak();
  if ( a3 == -1 || !(*(_DWORD *)(a4 + 12) & 1) && (!(*(_DWORD *)(a4 + 12) & 0x80) || *(_DWORD *)(a4 + 12) & 2) )
    return -1;
  if ( !*(_DWORD *)(a4 + 8) )
    sub_4F7160(a1, a2, a4);
  if ( *(_DWORD *)a4 == *(_DWORD *)(a4 + 8) )
  {
    if ( *(_DWORD *)(a4 + 4) )
      return -1;
    ++*(_DWORD *)a4;
  }
  if ( *(_DWORD *)(a4 + 12) & 0x40 )
  {
    --*(_DWORD *)a4;
    if ( **(_BYTE **)a4 != (char)a3 )
    {
      ++*(_DWORD *)a4;
      return -1;
    }
  }
  else
  {
    --*(_DWORD *)a4;
    **(_BYTE **)a4 = a3;
  }
  ++*(_DWORD *)(a4 + 4);
  v5 = *(_DWORD *)(a4 + 12);
  LOBYTE(v5) = v5 & 0xEF;
  *(_DWORD *)(a4 + 12) = v5;
  v6 = *(_DWORD *)(a4 + 12);
  LOBYTE(v6) = v6 | 1;
  *(_DWORD *)(a4 + 12) = v6;
  return (unsigned __int8)a3;
}

//----- (004F7AA0) --------------------------------------------------------
BOOL __usercall sub_4F7AA0<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>, DWORD dwInfoType, LPCSTR lpMultiByteStr, int cbMultiByte, LPWORD lpCharType, UINT CodePage, LCID Locale, int a11)
{
  BOOL result; // eax@6
  int v12; // eax@16
  void *v13; // esp@16
  int v14; // [sp-Ch] [bp-38h]@1
  int v15; // [sp-8h] [bp-34h]@1
  int v16; // [sp-4h] [bp-30h]@1
  int *v17; // [sp+0h] [bp-2Ch]@16
  int cchSrc; // [sp+4h] [bp-28h]@18
  LPWSTR lpSrcStr; // [sp+8h] [bp-24h]@16
  int cchWideChar; // [sp+Ch] [bp-20h]@14
  WORD CharType; // [sp+10h] [bp-1Ch]@2
  int *v22; // [sp+14h] [bp-18h]@1
  int v23; // [sp+1Ch] [bp-10h]@1
  signed int (__usercall *v24)<eax>(int<ebp>); // [sp+20h] [bp-Ch]@1
  _UNKNOWN *v25; // [sp+24h] [bp-8h]@1
  int v26; // [sp+28h] [bp-4h]@1

  v26 = -1;
  v25 = &unk_591B28;
  v24 = sub_4F4368;
  v23 = a1;
  v16 = a2;
  v15 = a4;
  v14 = a3;
  v22 = &v14;
  if ( !dword_A969D50 )
  {
    if ( GetStringTypeW(1u, &SrcStr, 1, &CharType) )
    {
      dword_A969D50 = 1;
    }
    else
    {
      if ( !GetStringTypeA(0, 1u, String2, 1, &CharType) )
        return 0;
      dword_A969D50 = 2;
    }
  }
  if ( dword_A969D50 == 2 )
  {
    if ( !Locale )
      Locale = dword_A969B08;
    result = GetStringTypeA(Locale, dwInfoType, lpMultiByteStr, cbMultiByte, lpCharType);
  }
  else
  {
    if ( dword_A969D50 == 1 )
    {
      if ( !CodePage )
        CodePage = dword_A969B18;
      cchWideChar = MultiByteToWideChar(CodePage, a11 != 0 ? 9 : 1, lpMultiByteStr, cbMultiByte, 0, 0);
      if ( cchWideChar )
      {
        v26 = 0;
        v12 = 2 * cchWideChar + 3;
        LOBYTE(v12) = v12 & 0xFC;
        v13 = alloca(v12);
        v17 = &v14;
        v22 = &v14;
        lpSrcStr = (LPWSTR)&v14;
        sub_4E4640(&v14, 0, 2 * cchWideChar);
        v26 = -1;
        if ( lpSrcStr )
        {
          cchSrc = MultiByteToWideChar(CodePage, 1u, lpMultiByteStr, cbMultiByte, lpSrcStr, cchWideChar);
          if ( cchSrc )
            result = GetStringTypeW(dwInfoType, lpSrcStr, cchSrc, lpCharType);
          else
            result = 0;
        }
        else
        {
          result = 0;
        }
      }
      else
      {
        result = 0;
      }
    }
    else
    {
      result = 0;
    }
  }
  return result;
}
// 4F7AA0: could not find valid save-restore pair for ebx
// 4F7AA0: could not find valid save-restore pair for edi
// 4F7AA0: could not find valid save-restore pair for esi
// A969D50: using guessed type int dword_A969D50;

//----- (004F7CA0) --------------------------------------------------------
int __cdecl sub_4F7CA0(int a1, int a2)
{
  int v2; // ST14_4@1
  __int16 v4; // [sp+Ch] [bp-10h]@0

  v2 = ~a2 & sub_4F7D70(v4) | a2 & a1;
  sub_4F7EF0(v2);
  return v2;
}

//----- (004F7CF0) --------------------------------------------------------
int __cdecl sub_4F7CF0(int a1, int a2)
{
  return sub_4F7CA0(a1, a2 & 0xFFF7FFFF);
}

//----- (004F7D70) --------------------------------------------------------
signed int __cdecl sub_4F7D70(__int16 a1)
{
  signed int v1; // eax@4
  signed int v2; // eax@10
  signed int v3; // edx@21
  signed int v4; // eax@22
  signed int v5; // ecx@23
  int v7; // [sp+4h] [bp-8h]@13
  signed int v8; // [sp+8h] [bp-4h]@1

  v8 = 0;
  if ( a1 & 1 )
    v8 = 16;
  if ( a1 & 4 )
  {
    v1 = v8;
    LOBYTE(v1) = v8 | 8;
    v8 = v1;
  }
  if ( a1 & 8 )
    v8 |= 4u;
  if ( a1 & 0x10 )
    v8 |= 2u;
  if ( a1 & 0x20 )
  {
    v2 = v8;
    LOBYTE(v2) = v8 | 1;
    v8 = v2;
  }
  if ( a1 & 2 )
    v8 |= 0x80000u;
  v7 = a1 & 0xC00;
  if ( v7 > 2048 )
  {
    if ( v7 == 3072 )
    {
      v5 = v8;
      BYTE1(v5) |= 3u;
      v8 = v5;
    }
  }
  else
  {
    if ( v7 == 2048 )
    {
      v3 = v8;
      BYTE1(v3) |= 2u;
      v8 = v3;
    }
    else
    {
      if ( a1 & 0xC00 && v7 == 1024 )
      {
        v4 = v8;
        BYTE1(v4) |= 1u;
        v8 = v4;
      }
    }
  }
  if ( a1 & 0x300 )
  {
    if ( (a1 & 0x300) == 512 )
      v8 |= 0x10000u;
  }
  else
  {
    v8 |= 0x20000u;
  }
  if ( a1 & 0x1000 )
    v8 |= 0x40000u;
  return v8;
}

//----- (004F7EF0) --------------------------------------------------------
signed __int16 __cdecl sub_4F7EF0(int a1)
{
  int v1; // ecx@11
  int v2; // edx@24
  int v3; // eax@29
  int v5; // [sp+4h] [bp-8h]@13
  signed __int16 v6; // [sp+8h] [bp-4h]@1

  v6 = 0;
  if ( a1 & 0x10 )
    v6 = 1;
  if ( a1 & 8 )
    v6 |= 4u;
  if ( a1 & 4 )
    v6 |= 8u;
  if ( a1 & 2 )
    v6 |= 0x10u;
  if ( a1 & 1 )
    v6 |= 0x20u;
  v1 = a1;
  if ( v1 & 0x80000 )
    v6 |= 2u;
  v5 = a1 & 0x300;
  if ( (unsigned int)v5 > 0x200 )
  {
    if ( v5 == 768 )
      v6 |= 0xC00u;
  }
  else
  {
    if ( v5 == 512 )
    {
      v6 |= 0x800u;
    }
    else
    {
      if ( a1 & 0x300 && v5 == 256 )
        v6 |= 0x400u;
    }
  }
  v2 = a1;
  if ( v2 & 0x30000 )
  {
    if ( (a1 & 0x30000) == 65536 )
      v6 |= 0x200u;
  }
  else
  {
    v6 |= 0x300u;
  }
  v3 = a1;
  if ( v3 & 0x40000 )
    v6 |= 0x1000u;
  return v6;
}

//----- (004F8050) --------------------------------------------------------
signed int __cdecl sub_4F8050(char a1)
{
  signed int v1; // eax@4
  signed int v2; // eax@10
  signed int v4; // [sp+0h] [bp-4h]@1

  v4 = 0;
  if ( a1 & 1 )
    v4 = 16;
  if ( a1 & 4 )
  {
    v1 = v4;
    LOBYTE(v1) = v4 | 8;
    v4 = v1;
  }
  if ( a1 & 8 )
    v4 |= 4u;
  if ( a1 & 0x10 )
    v4 |= 2u;
  if ( a1 & 0x20 )
  {
    v2 = v4;
    LOBYTE(v2) = v4 | 1;
    v4 = v2;
  }
  if ( a1 & 2 )
    v4 |= 0x80000u;
  return v4;
}

//----- (004F8110) --------------------------------------------------------
int __usercall sub_4F8110<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, signed int a4)
{
  int result; // eax@5
  __int16 v5; // cx@9
  int v6; // [sp+0h] [bp-10h]@8
  CHAR DestStr[4]; // [sp+4h] [bp-Ch]@15
  const CHAR MultiByteStr; // [sp+8h] [bp-8h]@13
  char v9; // [sp+9h] [bp-7h]@13
  char v10; // [sp+Ah] [bp-6h]@13
  int cbMultiByte; // [sp+Ch] [bp-4h]@13

  if ( dword_A969B08 )
  {
    if ( a4 >= 256
      || (::cbMultiByte <= 1 ? (v5 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * a4), v6 = v5 & 1) : (v6 = sub_4F0440(a1, a2, a3, a4, 1)),
          v6) )
    {
      if ( *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * ((a4 >> 8) & 0xFF)) & 0x8000 )
      {
        MultiByteStr = BYTE1(a4);
        v9 = a4;
        v10 = 0;
        cbMultiByte = 2;
      }
      else
      {
        MultiByteStr = a4;
        v9 = 0;
        cbMultiByte = 1;
      }
      cbMultiByte = sub_4F4440(
                      cbMultiByte,
                      a1,
                      a2,
                      a3,
                      dword_A969B08,
                      0x100u,
                      &MultiByteStr,
                      cbMultiByte,
                      DestStr,
                      3,
                      0,
                      1);
      if ( cbMultiByte )
      {
        if ( cbMultiByte == 1 )
          result = (unsigned __int8)DestStr[0];
        else
          result = ((unsigned __int8)DestStr[1] << 8) | (unsigned __int8)DestStr[0];
      }
      else
      {
        result = a4;
      }
    }
    else
    {
      result = a4;
    }
  }
  else
  {
    if ( a4 >= 65 )
    {
      if ( a4 <= 90 )
        a4 += 32;
    }
    result = a4;
  }
  return result;
}
// 5A21D8: using guessed type __int16 off_5A21D8[2];

//----- (004F8240) --------------------------------------------------------
signed int __cdecl sub_4F8240(int a1, signed int a2)
{
  signed int result; // eax@2
  int i; // [sp+0h] [bp-Ch]@3

  if ( ~(-1 << (31 - a2 % 32)) & *(_DWORD *)(a1 + 4 * a2 / 32) )
  {
    result = 0;
  }
  else
  {
    for ( i = a2 / 32 + 1; i < 3; ++i )
    {
      if ( *(_DWORD *)(a1 + 4 * i) )
        return 0;
    }
    result = 1;
  }
  return result;
}

//----- (004F82D0) --------------------------------------------------------
signed int __cdecl sub_4F82D0(int a1, signed int a2)
{
  signed int v3; // [sp+0h] [bp-10h]@1
  int i; // [sp+4h] [bp-Ch]@1

  v3 = sub_4F93B0(*(_DWORD *)(a1 + 4 * a2 / 32), 1 << (31 - a2 % 32), a1 + 4 * a2 / 32);
  for ( i = a2 / 32 - 1; i >= 0 && v3; --i )
    v3 = sub_4F93B0(*(_DWORD *)(a1 + 4 * i), 1u, a1 + 4 * i);
  return v3;
}

//----- (004F8380) --------------------------------------------------------
signed int __cdecl sub_4F8380(int a1, signed int a2)
{
  signed int v3; // [sp+4h] [bp-18h]@1
  int v4; // [sp+8h] [bp-14h]@1
  int i; // [sp+Ch] [bp-10h]@4
  char v6; // [sp+14h] [bp-8h]@1

  v3 = 0;
  v4 = a2 / 32;
  v6 = 31 - a2 % 32;
  if ( (1 << v6) & *(_DWORD *)(a1 + 4 * a2 / 32) && !sub_4F8240(a1, a2 + 1) )
    v3 = sub_4F82D0(a1, a2 - 1);
  *(_DWORD *)(a1 + 4 * v4) &= -1 << v6;
  for ( i = v4 + 1; i < 3; ++i )
    *(_DWORD *)(a1 + 4 * i) = 0;
  return v3;
}

//----- (004F8460) --------------------------------------------------------
int __cdecl sub_4F8460(int a1, int a2)
{
  int result; // eax@1
  signed int i; // [sp+0h] [bp-Ch]@1
  int v4; // [sp+4h] [bp-8h]@1
  int v5; // [sp+8h] [bp-4h]@1

  result = a2;
  v5 = a2;
  v4 = a1;
  for ( i = 0; i < 3; ++i )
  {
    *(_DWORD *)v4 = *(_DWORD *)v5;
    result = v4 + 4;
    v4 += 4;
    v5 += 4;
  }
  return result;
}

//----- (004F84B0) --------------------------------------------------------
int __cdecl sub_4F84B0(int a1)
{
  int result; // eax@3
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 3; ++i )
  {
    *(_DWORD *)(a1 + 4 * i) = 0;
    result = i + 1;
  }
  return result;
}

//----- (004F84E0) --------------------------------------------------------
signed int __cdecl sub_4F84E0(int a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 3; ++i )
  {
    if ( *(_DWORD *)(a1 + 4 * i) )
      return 0;
  }
  return 1;
}

//----- (004F8520) --------------------------------------------------------
int __cdecl sub_4F8520(int a1, signed int a2)
{
  int result; // eax@1
  int v3; // ST0C_4@3
  int v4; // [sp+4h] [bp-18h]@1
  signed int i; // [sp+10h] [bp-Ch]@1
  signed int j; // [sp+10h] [bp-Ch]@4
  int v7; // [sp+14h] [bp-8h]@1
  int v8; // [sp+18h] [bp-4h]@1

  v4 = a2 / 32;
  result = a2 % 32;
  v8 = a2 % 32;
  v7 = 0;
  for ( i = 0; i < 3; ++i )
  {
    v3 = ~(-1 << a2 % 32) & *(_DWORD *)(a1 + 4 * i);
    *(_DWORD *)(a1 + 4 * i) >>= v8;
    *(_DWORD *)(a1 + 4 * i) |= v7;
    v7 = v3 << (32 - v8);
    result = i + 1;
  }
  for ( j = 2; j >= 0; --j )
  {
    if ( j < v4 )
      *(_DWORD *)(a1 + 4 * j) = 0;
    else
      *(_DWORD *)(a1 + 4 * j) = *(_DWORD *)(a1 + 4 * (j - v4));
    result = j - 1;
  }
  return result;
}

//----- (004F8610) --------------------------------------------------------
int __cdecl sub_4F8610(int a1, int a2, int a3)
{
  signed int v3; // ST08_4@11
  char v5; // [sp+4h] [bp-30h]@6
  int v6; // [sp+10h] [bp-24h]@15
  int v7; // [sp+14h] [bp-20h]@1
  int v8; // [sp+18h] [bp-1Ch]@3
  int v9; // [sp+1Ch] [bp-18h]@1
  int v10; // [sp+20h] [bp-14h]@1
  int v11; // [sp+24h] [bp-10h]@1
  int v12; // [sp+28h] [bp-Ch]@15
  int v13; // [sp+2Ch] [bp-8h]@2
  int v14; // [sp+30h] [bp-4h]@1

  v14 = (*(_WORD *)(a1 + 10) & 0x7FFF) - 16383;
  v7 = *(_WORD *)(a1 + 10) & 0x8000;
  v9 = *(_DWORD *)(a1 + 6);
  v10 = *(_DWORD *)(a1 + 2);
  v11 = *(_WORD *)a1 << 16;
  if ( v14 == -16383 )
  {
    v13 = 0;
    if ( sub_4F84E0((int)&v9) )
    {
      v8 = 0;
    }
    else
    {
      sub_4F84B0((int)&v9);
      v8 = 2;
    }
  }
  else
  {
    sub_4F8460((int)&v5, (int)&v9);
    if ( sub_4F8380((int)&v9, *(_DWORD *)(a3 + 8)) )
      ++v14;
    if ( v14 >= *(_DWORD *)(a3 + 4) - *(_DWORD *)(a3 + 8) )
    {
      if ( v14 > *(_DWORD *)(a3 + 4) )
      {
        if ( v14 < *(_DWORD *)a3 )
        {
          v13 = *(_DWORD *)(a3 + 20) + v14;
          v9 &= 0x7FFFFFFFu;
          sub_4F8520((int)&v9, *(_DWORD *)(a3 + 12));
          v8 = 0;
        }
        else
        {
          sub_4F84B0((int)&v9);
          v9 |= 0x80000000u;
          sub_4F8520((int)&v9, *(_DWORD *)(a3 + 12));
          v13 = *(_DWORD *)(a3 + 20) + *(_DWORD *)a3;
          v8 = 1;
        }
      }
      else
      {
        v3 = *(_DWORD *)(a3 + 4) - v14;
        sub_4F8460((int)&v9, (int)&v5);
        sub_4F8520((int)&v9, v3);
        sub_4F8380((int)&v9, *(_DWORD *)(a3 + 8));
        sub_4F8520((int)&v9, *(_DWORD *)(a3 + 12) + 1);
        v13 = 0;
        v8 = 2;
      }
    }
    else
    {
      sub_4F84B0((int)&v9);
      v13 = 0;
      v8 = 2;
    }
  }
  v12 = 32 - (*(_DWORD *)(a3 + 12) + 1);
  v6 = (v7 != 0 ? 0x80000000 : 0) | (v13 << v12) | v9;
  if ( *(_DWORD *)(a3 + 16) == 64 )
  {
    *(_DWORD *)(a2 + 4) = v6;
    *(_DWORD *)a2 = v10;
  }
  else
  {
    if ( *(_DWORD *)(a3 + 16) == 32 )
      *(_DWORD *)a2 = v6;
  }
  return v8;
}

//----- (004F8860) --------------------------------------------------------
int __cdecl sub_4F8860(int a1, int a2)
{
  return sub_4F8610(a1, a2, (int)&unk_5A2840);
}

//----- (004F8880) --------------------------------------------------------
int __cdecl sub_4F8880(int a1, int a2)
{
  return sub_4F8610(a1, a2, (int)&unk_5A2858);
}

//----- (004F88A0) --------------------------------------------------------
signed int __cdecl sub_4F88A0(int a1, int a2)
{
  __int16 v3; // [sp+0h] [bp-18h]@1
  signed int v4; // [sp+4h] [bp-14h]@1
  int v5; // [sp+8h] [bp-10h]@1
  int v6; // [sp+Ch] [bp-Ch]@1
  int v7; // [sp+10h] [bp-8h]@1
  int v8; // [sp+14h] [bp-4h]@1

  v4 = 0;
  LOWORD(v8) = *(_WORD *)(a1 + 10) & 0x7FFF;
  v3 = *(_WORD *)(a1 + 10) & 0x8000;
  v5 = *(_DWORD *)(a1 + 6);
  v6 = *(_DWORD *)(a1 + 2);
  v7 = *(_WORD *)a1 << 16;
  if ( sub_4F8380((int)&v5, 64) )
  {
    v5 = -2147483648;
    LOWORD(v8) = v8 + 1;
  }
  if ( (unsigned __int16)v8 == 32767 )
    v4 = 1;
  *(_DWORD *)(a2 + 4) = v5;
  *(_DWORD *)a2 = v6;
  *(_WORD *)(a2 + 8) = v8 | v3;
  return v4;
}

//----- (004F8960) --------------------------------------------------------
int __usercall sub_4F8960<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5)
{
  char v6; // [sp+0h] [bp-10h]@1
  char v7; // [sp+4h] [bp-Ch]@1

  sub_4F96B0(a1, a2, a3, (int)&v7, (int)&v6, a5, 0, 0, 0, 0);
  return sub_4F8860((int)&v7, a4);
}

//----- (004F89E0) --------------------------------------------------------
int __usercall sub_4F89E0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5)
{
  char v6; // [sp+0h] [bp-10h]@1
  char v7; // [sp+4h] [bp-Ch]@1

  sub_4F96B0(a1, a2, a3, (int)&v7, (int)&v6, a5, 0, 0, 0, 0);
  return sub_4F8880((int)&v7, a4);
}

//----- (004F8A20) --------------------------------------------------------
void *__cdecl sub_4F8A20(int a1, int a2, int a3)
{
  void *result; // eax@14
  int v4; // eax@15
  char v5; // [sp+0h] [bp-Ch]@4
  int v6; // [sp+4h] [bp-8h]@1
  int v7; // [sp+8h] [bp-4h]@1
  int i; // [sp+8h] [bp-4h]@9

  v6 = *(_DWORD *)(a3 + 12);
  *(_BYTE *)a1 = 48;
  v7 = a1 + 1;
  while ( a2 > 0 )
  {
    if ( *(_BYTE *)v6 )
      v5 = *(_BYTE *)v6++;
    else
      v5 = 48;
    *(_BYTE *)v7++ = v5;
    --a2;
  }
  *(_BYTE *)v7 = 0;
  if ( a2 >= 0 && (signed int)*(_BYTE *)v6 >= 53 )
  {
    for ( i = v7 - 1; *(_BYTE *)i == 57; --i )
      *(_BYTE *)i = 48;
    ++*(_BYTE *)i;
  }
  if ( *(_BYTE *)a1 == 49 )
  {
    result = (void *)a3;
    ++*(_DWORD *)(a3 + 4);
  }
  else
  {
    v4 = sub_4E4B50(a1 + 1);
    result = sub_4EC160((void *)a1, (const void *)(a1 + 1), v4 + 1);
  }
  return result;
}

//----- (004F8B20) --------------------------------------------------------
int *__cdecl sub_4F8B20(char a1)
{
  unsigned int v2; // [sp+0h] [bp-Ch]@1
  unsigned int v3; // [sp+4h] [bp-8h]@1
  __int16 v4; // [sp+8h] [bp-4h]@1

  sub_4F8BA0((int)&v2, (int)&a1);
  dword_A969D80 = sub_4FA230(v2, v3, v4, 17, 0, (int)&word_A969D58);
  dword_A969D78 = byte_A969D5A;
  dword_A969D7C = word_A969D58;
  dword_A969D84 = (int)&unk_A969D5C;
  return &dword_A969D78;
}
// A969D58: using guessed type __int16 word_A969D58;
// A969D5A: using guessed type char byte_A969D5A;
// A969D78: using guessed type int dword_A969D78;
// A969D7C: using guessed type int dword_A969D7C;
// A969D80: using guessed type int dword_A969D80;
// A969D84: using guessed type int dword_A969D84;

//----- (004F8BA0) --------------------------------------------------------
int __cdecl sub_4F8BA0(int a1, int a2)
{
  int v2; // edx@1
  int result; // eax@6
  unsigned __int16 v4; // [sp+4h] [bp-18h]@1
  unsigned __int16 v5; // [sp+8h] [bp-14h]@1
  unsigned int v6; // [sp+Ch] [bp-10h]@1
  signed int v7; // [sp+10h] [bp-Ch]@1
  int v8; // [sp+14h] [bp-8h]@1
  signed __int16 v9; // [sp+18h] [bp-4h]@3

  v7 = -2147483648;
  v5 = (*(_WORD *)(a2 + 6) & 0x7FF0) >> 4;
  v4 = *(_WORD *)(a2 + 6) & 0x8000;
  v2 = *(_DWORD *)(a2 + 4);
  v8 = v2 & 0xFFFFF;
  v6 = *(_DWORD *)a2;
  if ( v5 )
  {
    if ( v5 == 2047 )
      v9 = 32767;
    else
      v9 = v5 - 1023 + 16383;
  }
  else
  {
    if ( !v8 && !v6 )
    {
      result = a1;
      *(_DWORD *)(a1 + 4) = 0;
      *(_DWORD *)a1 = 0;
      *(_WORD *)(a1 + 8) = 0;
      return result;
    }
    v9 = 15361;
    v7 = 0;
  }
  *(_DWORD *)(a1 + 4) = (v6 >> 21) | (v8 << 11) | v7;
  *(_DWORD *)a1 = v6 << 11;
  while ( !(*(_DWORD *)(a1 + 4) & 0x80000000) )
  {
    *(_DWORD *)(a1 + 4) = (*(_DWORD *)a1 & 0x80000000) != 0 | 2 * *(_DWORD *)(a1 + 4);
    *(_DWORD *)a1 *= 2;
    --v9;
  }
  result = (unsigned __int16)v9 | v4;
  *(_WORD *)(a1 + 8) = result;
  return result;
}

//----- (004F8D10) --------------------------------------------------------
int __usercall sub_4F8D10<eax>(int a1<ebx>, int a2<esi>)
{
  return sub_4EC600(a1, a2, 2);
}

//----- (004F8D20) --------------------------------------------------------
LONG __userpurge sub_4F8D20<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, struct _EXCEPTION_POINTERS *a4)
{
  LONG result; // eax@7

  if ( a4->ExceptionRecord->ExceptionCode == -529697949
    && a4->ExceptionRecord->NumberParameters == 3
    && a4->ExceptionRecord->ExceptionInformation[0] == 429065504 )
    sub_4F36C0((int)a4->ExceptionRecord, a1, a2, a3);
  if ( lpTopLevelExceptionFilter && sub_4F8E20((FARPROC)lpTopLevelExceptionFilter) )
    result = lpTopLevelExceptionFilter(a4);
  else
    result = 0;
  return result;
}

//----- (004F8D80) --------------------------------------------------------
LONG (__stdcall *__cdecl sub_4F8D80())(struct _EXCEPTION_POINTERS *)
{
  LONG (__stdcall *result)(struct _EXCEPTION_POINTERS *); // eax@1

  result = SetUnhandledExceptionFilter((LPTOP_LEVEL_EXCEPTION_FILTER)sub_4F8D20);
  lpTopLevelExceptionFilter = result;
  return result;
}

//----- (004F8DA0) --------------------------------------------------------
LPTOP_LEVEL_EXCEPTION_FILTER __cdecl sub_4F8DA0()
{
  return SetUnhandledExceptionFilter(lpTopLevelExceptionFilter);
}

//----- (004F8DC0) --------------------------------------------------------
signed int __cdecl sub_4F8DC0(const void *lp, UINT_PTR ucb)
{
  signed int v3; // [sp+0h] [bp-4h]@1

  v3 = 1;
  if ( IsBadReadPtr(lp, ucb) )
    v3 = 0;
  return v3;
}

//----- (004F8DF0) --------------------------------------------------------
signed int __cdecl sub_4F8DF0(LPVOID lp, UINT_PTR ucb)
{
  signed int v3; // [sp+0h] [bp-4h]@1

  v3 = 1;
  if ( IsBadWritePtr(lp, ucb) )
    v3 = 0;
  return v3;
}

//----- (004F8E20) --------------------------------------------------------
signed int __cdecl sub_4F8E20(FARPROC lpfn)
{
  signed int v2; // [sp+0h] [bp-4h]@1

  v2 = 1;
  if ( IsBadCodePtr(lpfn) )
    v2 = 0;
  return v2;
}

//----- (004F8E50) --------------------------------------------------------
unsigned int __usercall sub_4F8E50<eax>(int a1<ebx>, int a2<edi>, int a3<esi>)
{
  sub_4F6F50(a1, a3, 10);
  sub_4F6020(a1, a2, a3, 22);
  return sub_4EB000(a1, a2, a3, 3u);
}

//----- (004F8E70) --------------------------------------------------------
signed int __cdecl sub_4F8E70(signed int a1, int a2)
{
  int v3; // [sp+0h] [bp-4h]@4

  if ( a1 >= uNumber || !(*(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 1) )
  {
    dword_A969A60 = 9;
    return -1;
  }
  v3 = *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) & 0x80;
  if ( a2 == 32768 )
  {
    *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) &= 0x7Fu;
  }
  else
  {
    if ( a2 != 16384 )
    {
      dword_A969A60 = 22;
      return -1;
    }
    *(_BYTE *)(dword_A969DA0[a1 >> 5] + 8 * (a1 & 0x1F) + 4) |= 0x80u;
  }
  return v3 != 0 ? 16384 : 32768;
}
// A969A60: using guessed type int dword_A969A60;
// A969DA0: using guessed type int dword_A969DA0[];

//----- (004F8F70) --------------------------------------------------------
int __usercall sub_4F8F70<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4)
{
  int *v5; // [sp+0h] [bp-8h]@1
  unsigned int v6; // [sp+4h] [bp-4h]@10

  v5 = (int *)dword_A969A88;
  if ( !dword_A96B510 )
    return 0;
  if ( !dword_A969A88 && dword_A969A90 )
  {
    if ( sub_4FA7A0(a1, a2, a3) )
      return 0;
    v5 = (int *)dword_A969A88;
  }
  if ( v5 && a4 )
  {
    v6 = sub_4E4B50(a4);
    while ( *v5 )
    {
      if ( sub_4E4B50(*v5) > v6 && *(_BYTE *)(*v5 + v6) == 61 && !sub_4FA750(a1, a2, a3, (PCNZCH)*v5, (PCNZCH)a4, v6) )
        return *v5 + v6 + 1;
      ++v5;
    }
  }
  return 0;
}
// A969A88: using guessed type int dword_A969A88;
// A969A90: using guessed type int dword_A969A90;
// A96B510: using guessed type int dword_A96B510;

//----- (004F9040) --------------------------------------------------------
int __usercall sub_4F9040<eax>(__int16 a1<fpstat>, int a2, int a3, int a4)
{
  int v4; // eax@15
  int result; // eax@17
  ULONG_PTR Arguments; // [sp+8h] [bp-68h]@16
  int v7; // [sp+30h] [bp-40h]@14
  int v8; // [sp+34h] [bp-3Ch]@14
  int v9; // [sp+40h] [bp-30h]@14
  int v10; // [sp+60h] [bp-10h]@1
  int v11; // [sp+64h] [bp-Ch]@1
  int v12; // [sp+68h] [bp-8h]@17
  int v13; // [sp+6Ch] [bp-4h]@2

  v10 = *(_WORD *)a4;
  v11 = (int)&v10;
  switch ( *(_DWORD *)a3 )
  {
    case 1:
    case 5:
      v13 = 8;
      break;
    case 3:
      v13 = 17;
      break;
    case 4:
      v13 = 18;
      break;
    case 2:
      v13 = 4;
      break;
    case 8:
      v13 = 16;
      break;
    case 7:
      *(_DWORD *)a3 = 1;
      goto LABEL_8;
    default:
LABEL_8:
      v13 = 0;
      break;
  }
  if ( v13 && !sub_4FAF80(v13, (double *)(a3 + 24), *(_DWORD *)v11) )
  {
    if ( a2 != 16 && a2 != 22 && a2 != 29 )
    {
      v4 = v9;
      LOBYTE(v4) = v9 & 0xFE;
      v9 = v4;
    }
    else
    {
      v9 = (v9 | 1) & 0xFFFFFFE1 | 2;
      v7 = *(_DWORD *)(a3 + 16);
      v8 = *(_DWORD *)(a3 + 20);
    }
    sub_4FAAB0(a1, (ULONG_PTR)&Arguments, v11, v13, a2, a3 + 8, a3 + 24);
  }
  sub_4FB4F0();
  v12 = 0;
  result = a3;
  if ( *(_DWORD *)a3 != 8 && !dword_5A2948 )
  {
    result = sub_4FB4A0();
    v12 = result;
  }
  if ( !v12 )
    result = sub_4FB3A0(*(_DWORD *)a3);
  return result;
}
// 5A2948: using guessed type int dword_5A2948;

//----- (004F92C0) --------------------------------------------------------
bool __cdecl sub_4F92C0(unsigned __int8 a1)
{
  return sub_4F9340(a1, 0, 4);
}

//----- (004F9340) --------------------------------------------------------
bool __cdecl sub_4F9340(unsigned __int8 a1, int a2, char a3)
{
  int v5; // [sp+4h] [bp-4h]@3

  return (unsigned __int8)(a3 & byte_A96A0A1[a1])
      || (!a2 ? (v5 = 0) : (v5 = (unsigned __int16)(a2 & word_5A21E2[a1])), v5);
}
// 5A21E2: using guessed type __int16 word_5A21E2[];

//----- (004F93B0) --------------------------------------------------------
signed int __cdecl sub_4F93B0(unsigned int a1, unsigned int a2, int a3)
{
  signed int v4; // [sp+0h] [bp-8h]@1
  int v5; // [sp+4h] [bp-4h]@1

  v4 = 0;
  v5 = a2 + a1;
  if ( a2 + a1 < a1 || v5 < a2 )
    v4 = 1;
  *(_DWORD *)a3 = v5;
  return v4;
}

//----- (004F93F0) --------------------------------------------------------
signed int __cdecl sub_4F93F0(int a1, int a2)
{
  if ( sub_4F93B0(*(_DWORD *)a1, *(_DWORD *)a2, a1) && sub_4F93B0(*(_DWORD *)(a1 + 4), 1u, a1 + 4) )
    ++*(_DWORD *)(a1 + 8);
  if ( sub_4F93B0(*(_DWORD *)(a1 + 4), *(_DWORD *)(a2 + 4), a1 + 4) )
    ++*(_DWORD *)(a1 + 8);
  return sub_4F93B0(*(_DWORD *)(a1 + 8), *(_DWORD *)(a2 + 8), a1 + 8);
}

//----- (004F94A0) --------------------------------------------------------
int __cdecl sub_4F94A0(int a1)
{
  bool v1; // ST04_4@1
  bool v2; // ST00_4@1
  int result; // eax@1

  v1 = (*(_DWORD *)a1 & 0x80000000) != 0;
  v2 = (*(_DWORD *)(a1 + 4) & 0x80000000) != 0;
  *(_DWORD *)a1 *= 2;
  *(_DWORD *)(a1 + 4) = v1 | 2 * *(_DWORD *)(a1 + 4);
  result = a1;
  *(_DWORD *)(a1 + 8) = v2 | 2 * *(_DWORD *)(a1 + 8);
  return result;
}

//----- (004F9500) --------------------------------------------------------
int __cdecl sub_4F9500(int a1)
{
  int v1; // ST00_4@1
  int v2; // ST04_4@1
  int result; // eax@1

  v1 = (*(_DWORD *)(a1 + 8) & 1) != 0 ? 0x80000000 : 0;
  v2 = (*(_DWORD *)(a1 + 4) & 1) != 0 ? 0x80000000 : 0;
  *(_DWORD *)(a1 + 8) >>= 1;
  *(_DWORD *)(a1 + 4) = v1 | (*(_DWORD *)(a1 + 4) >> 1);
  result = a1;
  *(_DWORD *)a1 = v2 | (*(_DWORD *)a1 >> 1);
  return result;
}

//----- (004F9570) --------------------------------------------------------
int __cdecl sub_4F9570(int a1, int a2, int a3)
{
  int result; // eax@8
  signed __int16 v4; // [sp+0h] [bp-10h]@1
  int v5; // [sp+4h] [bp-Ch]@3
  int v6; // [sp+8h] [bp-8h]@3
  int v7; // [sp+Ch] [bp-4h]@3

  v4 = 16462;
  *(_DWORD *)a3 = 0;
  *(_DWORD *)(a3 + 4) = 0;
  *(_DWORD *)(a3 + 8) = 0;
  while ( a2 )
  {
    v5 = *(_DWORD *)a3;
    v6 = *(_DWORD *)(a3 + 4);
    v7 = *(_DWORD *)(a3 + 8);
    sub_4F94A0(a3);
    sub_4F94A0(a3);
    sub_4F93F0(a3, (int)&v5);
    sub_4F94A0(a3);
    v5 = *(_BYTE *)a1;
    v6 = 0;
    v7 = 0;
    sub_4F93F0(a3, (int)&v5);
    --a2;
    ++a1;
  }
  while ( !*(_DWORD *)(a3 + 8) )
  {
    *(_DWORD *)(a3 + 8) = *(_DWORD *)(a3 + 4) >> 16;
    *(_DWORD *)(a3 + 4) = *(_QWORD *)a3 >> 16;
    *(_DWORD *)a3 <<= 16;
    v4 -= 16;
  }
  while ( !(*(_DWORD *)(a3 + 8) & 0x8000) )
  {
    sub_4F94A0(a3);
    --v4;
  }
  result = a3;
  *(_WORD *)(a3 + 10) = v4;
  return result;
}

//----- (004F96B0) --------------------------------------------------------
int __usercall sub_4F96B0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  __int16 v10; // ax@45
  __int16 v11; // cx@63
  __int16 v12; // cx@75
  __int16 v13; // dx@109
  __int16 v14; // cx@118
  int v16; // [sp+4h] [bp-B0h]@117
  int v17; // [sp+8h] [bp-ACh]@108
  int v18; // [sp+14h] [bp-A0h]@74
  int v19; // [sp+1Ch] [bp-98h]@62
  int v20; // [sp+24h] [bp-90h]@44
  int v21; // [sp+38h] [bp-7Ch]@106
  signed int v22; // [sp+3Ch] [bp-78h]@1
  signed int v23; // [sp+40h] [bp-74h]@1
  int v24; // [sp+44h] [bp-70h]@1
  int v25; // [sp+48h] [bp-6Ch]@1
  char *v26; // [sp+4Ch] [bp-68h]@1
  int i; // [sp+4Ch] [bp-68h]@137
  int v28; // [sp+50h] [bp-64h]@1
  __int16 v29; // [sp+54h] [bp-60h]@140
  int v30; // [sp+56h] [bp-5Eh]@150
  int v31; // [sp+5Ah] [bp-5Ah]@150
  __int16 v32; // [sp+5Eh] [bp-56h]@150
  int v33; // [sp+60h] [bp-54h]@1
  int v34; // [sp+64h] [bp-50h]@150
  int v35; // [sp+68h] [bp-4Ch]@1
  __int16 v36; // [sp+6Ch] [bp-48h]@150
  int v37; // [sp+70h] [bp-44h]@1
  int v38; // [sp+74h] [bp-40h]@1
  int v39; // [sp+78h] [bp-3Ch]@8
  char v40; // [sp+7Ch] [bp-38h]@1
  char v41; // [sp+93h] [bp-21h]@133
  int v42; // [sp+98h] [bp-1Ch]@1
  int v43; // [sp+9Ch] [bp-18h]@1
  int v44; // [sp+A0h] [bp-14h]@1
  int v45; // [sp+A4h] [bp-10h]@150
  int v46; // [sp+A8h] [bp-Ch]@1
  int v47; // [sp+ACh] [bp-8h]@150
  int v48; // [sp+B0h] [bp-4h]@1

  v26 = &v40;
  LOWORD(v42) = 0;
  v23 = 1;
  v24 = 0;
  v33 = 0;
  v46 = 0;
  v43 = 0;
  v38 = 0;
  v22 = 0;
  v44 = 0;
  v25 = 0;
  v37 = 0;
  v35 = 0;
  v48 = a6;
  v28 = a6;
  while ( *(_BYTE *)v48 == 32 || *(_BYTE *)v48 == 9 || *(_BYTE *)v48 == 10 || *(_BYTE *)v48 == 13 )
    ++v48;
LABEL_7:
  while ( v35 != 10 )
  {
    LOBYTE(v39) = *(_BYTE *)v48++;
    switch ( v35 )
    {
      case 0:
        if ( (char)v39 < 49 || (char)v39 > 57 )
        {
          if ( (char)v39 == byte_5A23E8 )
          {
            v35 = 5;
          }
          else
          {
            switch ( (_BYTE)v39 )
            {
              case 0x2B:
                v35 = 2;
                LOWORD(v42) = 0;
                break;
              case 0x2D:
                v35 = 2;
                LOWORD(v42) = -32768;
                break;
              case 0x30:
                v35 = 1;
                break;
              default:
                v35 = 10;
                --v48;
                break;
            }
          }
        }
        else
        {
          v35 = 3;
          --v48;
        }
        break;
      case 1:
        v33 = 1;
        if ( (char)v39 < 49 || (char)v39 > 57 )
        {
          if ( (char)v39 == byte_5A23E8 )
          {
            v35 = 4;
          }
          else
          {
            switch ( (char)v39 )
            {
              case 48:
                v35 = 1;
                break;
              case 68:
              case 69:
              case 100:
              case 101:
                v35 = 6;
                break;
              case 43:
              case 45:
                --v48;
                v35 = 11;
                break;
              default:
                v35 = 10;
                --v48;
                break;
            }
          }
        }
        else
        {
          v35 = 3;
          --v48;
        }
        break;
      case 2:
        if ( (char)v39 < 49 || (char)v39 > 57 )
        {
          if ( (char)v39 == byte_5A23E8 )
          {
            v35 = 5;
          }
          else
          {
            if ( (_BYTE)v39 == 48 )
            {
              v35 = 1;
            }
            else
            {
              v35 = 10;
              v48 = v28;
            }
          }
        }
        else
        {
          v35 = 3;
          --v48;
        }
        break;
      case 3:
        v33 = 1;
        while ( 1 )
        {
          if ( cbMultiByte <= 1 )
          {
            v10 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * (unsigned __int8)v39);
            v20 = v10 & 4;
          }
          else
          {
            v20 = sub_4F0440(a1, a2, a3, (unsigned __int8)v39, 4);
          }
          if ( !v20 )
            break;
          if ( (unsigned int)v24 >= 0x19 )
          {
            ++v25;
          }
          else
          {
            ++v24;
            *v26++ = v39 - 48;
          }
          LOBYTE(v39) = *(_BYTE *)v48++;
        }
        if ( (char)v39 == byte_5A23E8 )
        {
          v35 = 4;
        }
        else
        {
          switch ( (char)v39 )
          {
            case 68:
            case 69:
            case 100:
            case 101:
              v35 = 6;
              break;
            case 43:
            case 45:
              --v48;
              v35 = 11;
              break;
            default:
              v35 = 10;
              --v48;
              break;
          }
        }
        break;
      case 4:
        v33 = 1;
        v46 = 1;
        if ( !v24 )
        {
          while ( (char)v39 == 48 )
          {
            --v25;
            LOBYTE(v39) = *(_BYTE *)v48++;
          }
        }
        while ( 1 )
        {
          if ( cbMultiByte <= 1 )
          {
            v11 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * (unsigned __int8)v39);
            v19 = v11 & 4;
          }
          else
          {
            v19 = sub_4F0440(a1, a2, a3, (unsigned __int8)v39, 4);
          }
          if ( !v19 )
            break;
          if ( (unsigned int)v24 < 0x19 )
          {
            ++v24;
            *v26++ = v39 - 48;
            --v25;
          }
          LOBYTE(v39) = *(_BYTE *)v48++;
        }
        switch ( (char)v39 )
        {
          case 68:
          case 69:
          case 100:
          case 101:
            v35 = 6;
            break;
          case 43:
          case 45:
            --v48;
            v35 = 11;
            break;
          default:
            v35 = 10;
            --v48;
            break;
        }
        break;
      case 5:
        v46 = 1;
        if ( cbMultiByte <= 1 )
        {
          v12 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * (unsigned __int8)v39);
          v18 = v12 & 4;
        }
        else
        {
          v18 = sub_4F0440(a1, a2, a3, (unsigned __int8)v39, 4);
        }
        if ( v18 )
        {
          v35 = 4;
          --v48;
        }
        else
        {
          v35 = 10;
          v48 = v28;
        }
        break;
      case 6:
        v28 = v48 - 2;
        if ( (char)v39 < 49 || (char)v39 > 57 )
        {
          switch ( (_BYTE)v39 )
          {
            case 0x2B:
              v35 = 7;
              break;
            case 0x2D:
              v35 = 7;
              v23 = -1;
              break;
            case 0x30:
              v35 = 8;
              break;
            default:
              v35 = 10;
              v48 -= 2;
              break;
          }
        }
        else
        {
          v35 = 9;
          --v48;
        }
        break;
      case 8:
        v43 = 1;
        while ( (char)v39 == 48 )
          LOBYTE(v39) = *(_BYTE *)v48++;
        if ( (char)v39 < 49 || (char)v39 > 57 )
        {
          v35 = 10;
          --v48;
        }
        else
        {
          v35 = 9;
          --v48;
        }
        break;
      case 7:
        if ( (char)v39 < 49 || (char)v39 > 57 )
        {
          if ( (_BYTE)v39 == 48 )
          {
            v35 = 8;
          }
          else
          {
            v35 = 10;
            v48 = v28;
          }
        }
        else
        {
          v35 = 9;
          --v48;
        }
        break;
      case 9:
        v43 = 1;
        v21 = 0;
        while ( 1 )
        {
          if ( cbMultiByte <= 1 )
          {
            v13 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * (unsigned __int8)v39);
            v17 = v13 & 4;
          }
          else
          {
            v17 = sub_4F0440(a1, a2, a3, (unsigned __int8)v39, 4);
          }
          if ( !v17 )
            break;
          v21 = 10 * v21 + (char)v39 - 48;
          if ( v21 > 5200 )
          {
            v21 = 5201;
            break;
          }
          LOBYTE(v39) = *(_BYTE *)v48++;
        }
        v44 = v21;
        while ( 1 )
        {
          if ( cbMultiByte <= 1 )
          {
            v14 = *(_WORD *)(*(_DWORD *)off_5A21D8 + 2 * (unsigned __int8)v39);
            v16 = v14 & 4;
          }
          else
          {
            v16 = sub_4F0440(a1, a2, a3, (unsigned __int8)v39, 4);
          }
          if ( !v16 )
            break;
          LOBYTE(v39) = *(_BYTE *)v48++;
        }
        v35 = 10;
        --v48;
        break;
      case 11:
        if ( a10 )
        {
          v28 = v48 - 1;
          if ( (_BYTE)v39 == 43 )
          {
            v35 = 7;
          }
          else
          {
            if ( (_BYTE)v39 == 45 )
            {
              v35 = 7;
              v23 = -1;
            }
            else
            {
              v35 = 10;
              --v48;
            }
          }
        }
        else
        {
          v35 = 10;
          --v48;
        }
        break;
      default:
        goto LABEL_7;
    }
  }
  *(_DWORD *)a5 = v48;
  if ( v33 && !v38 )
  {
    if ( (unsigned int)v24 > 0x18 )
    {
      if ( v41 >= 5 )
        ++v41;
      v24 = 24;
      --v26;
      ++v25;
    }
    if ( v24 )
    {
      for ( i = (int)(v26 - 1); !*(_BYTE *)i; --i )
      {
        --v24;
        ++v25;
      }
      sub_4F9570((int)&v40, v24, (int)&v29);
      if ( v23 < 0 )
        v44 = -v44;
      v44 += v25;
      if ( !v43 )
        v44 += a8;
      if ( !v46 )
        v44 -= a9;
      if ( v44 <= 5200 )
      {
        if ( v44 >= -5200 )
        {
          sub_4FB9F0((int)&v29, v44, a7);
          v36 = v29;
          v47 = v30;
          v45 = v31;
          LOWORD(v34) = v32;
        }
        else
        {
          v22 = 1;
        }
      }
      else
      {
        v38 = 1;
      }
    }
    else
    {
      v36 = 0;
      LOWORD(v34) = 0;
      v45 = 0;
      v47 = 0;
    }
  }
  if ( v33 )
  {
    if ( v38 )
    {
      LOWORD(v34) = 32767;
      v45 = -2147483648;
      v47 = 0;
      v36 = 0;
      v37 |= 2u;
    }
    else
    {
      if ( v22 )
      {
        v36 = 0;
        LOWORD(v34) = 0;
        v45 = 0;
        v47 = 0;
        v37 |= 1u;
      }
    }
  }
  else
  {
    v36 = 0;
    LOWORD(v34) = 0;
    v45 = 0;
    v47 = 0;
    v37 |= 4u;
  }
  *(_WORD *)a4 = v36;
  *(_DWORD *)(a4 + 2) = v47;
  *(_DWORD *)(a4 + 6) = v45;
  *(_WORD *)(a4 + 10) = v42 | v34;
  return v37;
}
// 5A21D8: using guessed type __int16 off_5A21D8[2];
// 5A23E8: using guessed type char byte_5A23E8;

//----- (004FA230) --------------------------------------------------------
signed int __cdecl sub_4FA230(unsigned int a1, unsigned int a2, __int16 a3, signed int a4, char a5, int a6)
{
  int j; // [sp+0h] [bp-74h]@33
  unsigned __int16 v8; // [sp+4h] [bp-70h]@1
  __int16 v9; // [sp+18h] [bp-5Ch]@22
  signed int v10; // [sp+1Ch] [bp-58h]@1
  char v11; // [sp+20h] [bp-54h]@1
  char v12; // [sp+21h] [bp-53h]@1
  char v13; // [sp+22h] [bp-52h]@1
  char v14; // [sp+23h] [bp-51h]@1
  char v15; // [sp+24h] [bp-50h]@1
  char v16; // [sp+25h] [bp-4Fh]@1
  char v17; // [sp+26h] [bp-4Eh]@1
  char v18; // [sp+27h] [bp-4Dh]@1
  char v19; // [sp+28h] [bp-4Ch]@1
  char v20; // [sp+29h] [bp-4Bh]@1
  char v21; // [sp+2Ah] [bp-4Ah]@1
  char v22; // [sp+2Bh] [bp-49h]@1
  unsigned int v23; // [sp+2Ch] [bp-48h]@1
  int i; // [sp+30h] [bp-44h]@29
  int v25; // [sp+34h] [bp-40h]@22
  int v26; // [sp+38h] [bp-3Ch]@1
  char v27[10]; // [sp+3Ch] [bp-38h]@22
  unsigned __int16 v28; // [sp+46h] [bp-2Eh]@22
  int v29; // [sp+48h] [bp-2Ch]@29
  char v30; // [sp+4Ch] [bp-28h]@39
  unsigned int v31; // [sp+50h] [bp-24h]@1
  int v32; // [sp+54h] [bp-20h]@1
  int v33; // [sp+58h] [bp-1Ch]@38
  __int64 v34; // [sp+5Ch] [bp-18h]@38
  int k; // [sp+64h] [bp-10h]@36
  __int16 v36; // [sp+68h] [bp-Ch]@22
  unsigned int v37; // [sp+6Ch] [bp-8h]@22
  int v38; // [sp+70h] [bp-4h]@36

  LOWORD(v26) = 77;
  v32 = 323162868;
  v11 = -52;
  v12 = -52;
  v13 = -52;
  v14 = -52;
  v15 = -52;
  v16 = -52;
  v17 = -52;
  v18 = -52;
  v19 = -52;
  v20 = -52;
  v21 = -5;
  v22 = 63;
  v10 = 1;
  v31 = a2;
  v23 = a1;
  v8 = a3 & 0x7FFF;
  if ( a3 & 0x8000 )
    *(_BYTE *)(a6 + 2) = 45;
  else
    *(_BYTE *)(a6 + 2) = 32;
  if ( !v8 && !v31 && !v23 )
  {
    *(_WORD *)a6 = 0;
    *(_BYTE *)(a6 + 2) = 32;
    *(_BYTE *)(a6 + 3) = 1;
    *(_BYTE *)(a6 + 4) = 48;
    *(_BYTE *)(a6 + 5) = 0;
    return 1;
  }
  if ( v8 == 32767 )
  {
    *(_WORD *)a6 = 1;
    if ( v31 == -2147483648 && !v23 || v31 & 0x40000000 )
    {
      if ( !(a3 & 0x8000) || v31 != -1073741824 || v23 )
      {
        if ( v31 != -2147483648 || v23 )
        {
          sub_4E4720(a6 + 4);
          *(_BYTE *)(a6 + 3) = 6;
          v10 = 0;
        }
        else
        {
          sub_4E4720(a6 + 4);
          *(_BYTE *)(a6 + 3) = 5;
          v10 = 0;
        }
      }
      else
      {
        sub_4E4720(a6 + 4);
        *(_BYTE *)(a6 + 3) = 5;
        v10 = 0;
      }
    }
    else
    {
      sub_4E4720(a6 + 4);
      *(_BYTE *)(a6 + 3) = 6;
      v10 = 0;
    }
  }
  else
  {
    v36 = (unsigned __int8)a3;
    LOWORD(v25) = v31 >> 24;
    v37 = 154 * (v31 >> 24) + (unsigned __int16)((signed int)v8 >> 8) * (unsigned __int16)v26 + 19728 * v8 - v32;
    v9 = (154 * (v31 >> 24) + (unsigned __int16)((signed int)v8 >> 8) * (unsigned __int16)v26 + 19728 * v8 - v32) >> 16;
    v28 = a3 & 0x7FFF;
    *(_QWORD *)&v27[2] = __PAIR__(v31, v23);
    *(_WORD *)v27 = 0;
    sub_4FB9F0(
      (int)v27,
      -(signed __int16)((154 * (v31 >> 24)
                       + (unsigned __int16)((signed int)v8 >> 8) * (unsigned __int16)v26
                       + 19728 * v8
                       - v32) >> 16),
      1);
    if ( (signed int)v28 >= 16383 )
    {
      ++v9;
      sub_4FB5B0((int)v27, (int)&v11);
    }
    *(_WORD *)a6 = v9;
    if ( a5 & 1 )
    {
      a4 += v9;
      if ( a4 <= 0 )
      {
        *(_WORD *)a6 = 0;
        *(_BYTE *)(a6 + 2) = 32;
        *(_BYTE *)(a6 + 3) = 1;
        *(_BYTE *)(a6 + 4) = 48;
        *(_BYTE *)(a6 + 5) = 0;
        return 1;
      }
    }
    if ( a4 > 21 )
      a4 = 21;
    v29 = v28 - 16382;
    v28 = 0;
    for ( i = 0; i < 8; ++i )
      sub_4F94A0((int)v27);
    if ( v29 < 0 )
    {
      for ( j = -v29 & 0xFF; j > 0; --j )
        sub_4F9500((int)v27);
    }
    v38 = a6 + 4;
    for ( k = a4 + 1; k > 0; --k )
    {
      v33 = *(_DWORD *)v27;
      v34 = *(_QWORD *)&v27[4];
      sub_4F94A0((int)v27);
      sub_4F94A0((int)v27);
      sub_4F93F0((int)v27, (int)&v33);
      sub_4F94A0((int)v27);
      *(_BYTE *)v38++ = HIBYTE(v28) + 48;
      HIBYTE(v28) = 0;
    }
    --v38;
    v30 = *(_BYTE *)v38--;
    if ( v30 < 53 )
    {
      while ( v38 >= (unsigned int)(a6 + 4) && *(_BYTE *)v38 == 48 )
        --v38;
      if ( v38 < (unsigned int)(a6 + 4) )
      {
        *(_WORD *)a6 = 0;
        *(_BYTE *)(a6 + 2) = 32;
        *(_BYTE *)(a6 + 3) = 1;
        *(_BYTE *)(a6 + 4) = 48;
        *(_BYTE *)(a6 + 5) = 0;
        return 1;
      }
    }
    else
    {
      while ( v38 >= (unsigned int)(a6 + 4) && *(_BYTE *)v38 == 57 )
        *(_BYTE *)v38-- = 48;
      if ( v38 < (unsigned int)(a6 + 4) )
      {
        ++v38;
        ++*(_WORD *)a6;
      }
      ++*(_BYTE *)v38;
    }
    *(_BYTE *)(a6 + 3) = (_BYTE)v38 - (a6 + 4) + 1;
    *(_BYTE *)(a6 + *(_BYTE *)(a6 + 3) + 4) = 0;
  }
  return v10;
}

//----- (004FA750) --------------------------------------------------------
int __usercall sub_4FA750<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, PCNZCH lpMultiByteStr, PCNZCH lpString2, int cchCount2)
{
  int result; // eax@2
  int v7; // [sp+0h] [bp-4h]@3

  if ( cchCount2 )
  {
    v7 = sub_4FBAC0(cchCount2, a1, a2, a3, Locale, 1u, lpMultiByteStr, cchCount2, lpString2, cchCount2, CodePage);
    if ( v7 )
      result = v7 - 2;
    else
      result = 2147483647;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004FA7A0) --------------------------------------------------------
signed int __usercall sub_4FA7A0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>)
{
  int cbMultiByte; // [sp+0h] [bp-Ch]@3
  int lpMultiByteStr; // [sp+4h] [bp-8h]@5
  LPCWSTR *i; // [sp+8h] [bp-4h]@1

  for ( i = (LPCWSTR *)dword_A969A90; *i; ++i )
  {
    cbMultiByte = WideCharToMultiByte(1u, 0, *i, -1, 0, 0, 0, 0);
    if ( !cbMultiByte )
      return -1;
    lpMultiByteStr = sub_4E5510(a1, a3, cbMultiByte, 2, (int)"wtombenv.c", 61);
    if ( !lpMultiByteStr )
      return -1;
    if ( !WideCharToMultiByte(1u, 0, *i, -1, (LPSTR)lpMultiByteStr, cbMultiByte, 0, 0) )
      return -1;
    sub_4FBF10(a1, a2, a3, lpMultiByteStr, 0);
  }
  return 0;
}
// A969A90: using guessed type int dword_A969A90;

//----- (004FAAB0) --------------------------------------------------------
int __usercall sub_4FAAB0<eax>(__int16 a1<fpstat>, ULONG_PTR Arguments, int a3, char a4, __int16 a5, int a6, int a7)
{
  int v7; // eax@4
  int v8; // eax@10
  int v9; // eax@11
  int v10; // eax@14
  int v11; // eax@20
  ULONG_PTR v12; // ecx@37
  int v13; // edx@37
  ULONG_PTR v14; // eax@37
  int v15; // ecx@37
  int v16; // eax@40
  int v17; // eax@46
  int v18; // eax@48
  int v19; // eax@49
  int v20; // eax@50
  int v21; // eax@51
  int v22; // edx@56
  int v23; // edx@57
  int v24; // edx@58
  ULONG_PTR v25; // ecx@59
  int v26; // edx@59
  int result; // eax@59
  char v28; // [sp+0h] [bp-18h]@0
  char v29; // [sp+0h] [bp-18h]@11
  int v30; // [sp+0h] [bp-18h]@52
  char v31; // [sp+4h] [bp-14h]@0
  char v32; // [sp+4h] [bp-14h]@11
  char v33; // [sp+8h] [bp-10h]@0
  int v34; // [sp+8h] [bp-10h]@31
  int v35; // [sp+Ch] [bp-Ch]@21
  char v36; // [sp+10h] [bp-8h]@11
  DWORD dwExceptionCode; // [sp+14h] [bp-4h]@0

  *(_DWORD *)(Arguments + 4) = 0;
  *(_DWORD *)(Arguments + 8) = 0;
  *(_DWORD *)(Arguments + 12) = 0;
  if ( a4 & 0x10 )
  {
    dwExceptionCode = -1073741681;
    *(_DWORD *)(Arguments + 4) |= 1u;
  }
  if ( a4 & 2 )
  {
    dwExceptionCode = -1073741677;
    v7 = *(_DWORD *)(Arguments + 4);
    LOBYTE(v7) = v7 | 2;
    *(_DWORD *)(Arguments + 4) = v7;
  }
  if ( a4 & 1 )
  {
    dwExceptionCode = -1073741679;
    *(_DWORD *)(Arguments + 4) |= 4u;
  }
  if ( a4 & 4 )
  {
    dwExceptionCode = -1073741682;
    *(_DWORD *)(Arguments + 4) |= 8u;
  }
  if ( a4 & 8 )
  {
    dwExceptionCode = -1073741680;
    v8 = *(_DWORD *)(Arguments + 4);
    LOBYTE(v8) = v8 | 0x10;
    *(_DWORD *)(Arguments + 4) = v8;
  }
  *(_DWORD *)(Arguments + 8) = 16 * ((*(_DWORD *)a3 & 1) == 0) | *(_DWORD *)(Arguments + 8) & 0xFFFFFFEF;
  *(_DWORD *)(Arguments + 8) = 8 * ((*(_DWORD *)a3 & 4) == 0) | *(_DWORD *)(Arguments + 8) & 0xFFFFFFF7;
  v9 = *(_DWORD *)(Arguments + 8);
  LOBYTE(v9) = v9 & 0xFB;
  *(_DWORD *)(Arguments + 8) = 4 * ((*(_DWORD *)a3 & 8) == 0) | v9;
  *(_DWORD *)(Arguments + 8) = 2 * ((*(_DWORD *)a3 & 0x10) == 0) | *(_DWORD *)(Arguments + 8) & 0xFFFFFFFD;
  *(_DWORD *)(Arguments + 8) = (*(_DWORD *)a3 & 0x20) == 0 | *(_DWORD *)(Arguments + 8) & 0xFFFFFFFE;
  v36 = sub_4FB4B0(a1, v28, v31, v33);
  if ( v36 & 1 )
    *(_DWORD *)(Arguments + 12) |= 0x10u;
  if ( v36 & 4 )
  {
    v10 = *(_DWORD *)(Arguments + 12);
    LOBYTE(v10) = v10 | 8;
    *(_DWORD *)(Arguments + 12) = v10;
  }
  if ( v36 & 8 )
    *(_DWORD *)(Arguments + 12) |= 4u;
  if ( v36 & 0x10 )
    *(_DWORD *)(Arguments + 12) |= 2u;
  if ( v36 & 0x20 )
  {
    v11 = *(_DWORD *)(Arguments + 12);
    LOBYTE(v11) = v11 | 1;
    *(_DWORD *)(Arguments + 12) = v11;
  }
  v35 = *(_DWORD *)a3 & 0xC00;
  if ( (unsigned int)v35 > 0x800 )
  {
    if ( v35 == 3072 )
      *(_DWORD *)Arguments |= 3u;
  }
  else
  {
    if ( v35 == 2048 )
    {
      *(_DWORD *)Arguments = *(_DWORD *)Arguments & 0xFFFFFFFC | 2;
    }
    else
    {
      if ( v35 )
      {
        if ( v35 == 1024 )
          *(_DWORD *)Arguments = *(_DWORD *)Arguments & 0xFFFFFFFC | 1;
      }
      else
      {
        *(_DWORD *)Arguments &= 0xFFFFFFFCu;
      }
    }
  }
  v34 = *(_DWORD *)a3 & 0x300;
  if ( v34 )
  {
    if ( v34 == 512 )
    {
      *(_DWORD *)Arguments = *(_DWORD *)Arguments & 0xFFFFFFE3 | 4;
    }
    else
    {
      if ( v34 == 768 )
        *(_DWORD *)Arguments &= 0xFFFFFFE3u;
    }
  }
  else
  {
    *(_DWORD *)Arguments = *(_DWORD *)Arguments & 0xFFFFFFE3 | 8;
  }
  *(_DWORD *)Arguments = 32 * (a5 & 0xFFF) | *(_DWORD *)Arguments & 0xFFFE001F;
  *(_DWORD *)(Arguments + 32) |= 1u;
  *(_DWORD *)(Arguments + 32) = *(_DWORD *)(Arguments + 32) & 0xFFFFFFE1 | 2;
  v12 = Arguments;
  v13 = a6;
  *(_DWORD *)(Arguments + 16) = *(_DWORD *)a6;
  *(_DWORD *)(v12 + 20) = *(_DWORD *)(v13 + 4);
  *(_DWORD *)(Arguments + 80) |= 1u;
  *(_DWORD *)(Arguments + 80) = *(_DWORD *)(Arguments + 80) & 0xFFFFFFE1 | 2;
  v14 = Arguments;
  v15 = a7;
  *(_DWORD *)(Arguments + 64) = *(_DWORD *)a7;
  *(_DWORD *)(v14 + 68) = *(_DWORD *)(v15 + 4);
  sub_4FB4D0(a1, v29, v32, v34);
  RaiseException(dwExceptionCode, 0, 1u, &Arguments);
  if ( (*(_DWORD *)(Arguments + 8) >> 4) & 1 )
    *(_DWORD *)a3 &= 0xFFFFFFFEu;
  if ( (*(_DWORD *)(Arguments + 8) >> 3) & 1 )
  {
    v16 = *(_DWORD *)a3;
    LOBYTE(v16) = *(_DWORD *)a3 & 0xFB;
    *(_DWORD *)a3 = v16;
  }
  if ( (*(_DWORD *)(Arguments + 8) >> 2) & 1 )
    *(_DWORD *)a3 &= 0xFFFFFFF7u;
  if ( (*(_DWORD *)(Arguments + 8) >> 1) & 1 )
    *(_DWORD *)a3 &= 0xFFFFFFEFu;
  if ( *(_DWORD *)(Arguments + 8) & 1 )
  {
    v17 = *(_DWORD *)a3;
    LOBYTE(v17) = *(_DWORD *)a3 & 0xDF;
    *(_DWORD *)a3 = v17;
  }
  switch ( *(_DWORD *)Arguments & 3 )
  {
    case 3:
      v18 = *(_DWORD *)a3;
      BYTE1(v18) = BYTE1(v18) & 0xF3 | 0xC;
      *(_DWORD *)a3 = v18;
      break;
    case 2:
      v19 = *(_DWORD *)a3;
      BYTE1(v19) = BYTE1(v19) & 0xF3 | 8;
      *(_DWORD *)a3 = v19;
      break;
    case 1:
      v20 = *(_DWORD *)a3;
      BYTE1(v20) = BYTE1(v20) & 0xF3 | 4;
      *(_DWORD *)a3 = v20;
      break;
    case 0:
      v21 = *(_DWORD *)a3;
      BYTE1(v21) &= 0xF3u;
      *(_DWORD *)a3 = v21;
      break;
    default:
      break;
  }
  v30 = (*(_DWORD *)Arguments >> 2) & 7;
  if ( v30 )
  {
    if ( v30 == 1 )
    {
      v23 = *(_DWORD *)a3;
      BYTE1(v23) = BYTE1(v23) & 0xF3 | 2;
      *(_DWORD *)a3 = v23;
    }
    else
    {
      if ( v30 == 2 )
      {
        v24 = *(_DWORD *)a3;
        BYTE1(v24) &= 0xF3u;
        *(_DWORD *)a3 = v24;
      }
    }
  }
  else
  {
    v22 = *(_DWORD *)a3;
    BYTE1(v22) = BYTE1(v22) & 0xF3 | 3;
    *(_DWORD *)a3 = v22;
  }
  v25 = Arguments;
  v26 = a7;
  result = *(_DWORD *)(Arguments + 64);
  *(_DWORD *)a7 = result;
  *(_DWORD *)(v26 + 4) = *(_DWORD *)(v25 + 68);
  return result;
}

//----- (004FAF80) --------------------------------------------------------
bool __cdecl sub_4FAF80(char a1, double *a2, __int16 a3)
{
  int v3; // eax@3
  int v4; // eax@6
  bool v6; // [sp+0h] [bp-44h]@41
  double v7; // [sp+4h] [bp-40h]@29
  double v8; // [sp+Ch] [bp-38h]@25
  double v9; // [sp+14h] [bp-30h]@21
  double v10; // [sp+1Ch] [bp-28h]@17
  int v11; // [sp+24h] [bp-20h]@9
  int v12; // [sp+2Ch] [bp-18h]@38
  int v13; // [sp+30h] [bp-14h]@38
  double v14; // [sp+34h] [bp-10h]@38
  int v15; // [sp+3Ch] [bp-8h]@35
  int v16; // [sp+40h] [bp-4h]@1

  v16 = a1 & 0x1F;
  if ( a1 & 8 && a3 & 1 )
  {
    sub_4FB530(1);
    v3 = v16;
    LOBYTE(v3) = v16 & 0xF7;
    v16 = v3;
  }
  else
  {
    if ( a1 & 4 && a3 & 4 )
    {
      sub_4FB530(4);
      v4 = v16;
      LOBYTE(v4) = v16 & 0xFB;
      v16 = v4;
    }
    else
    {
      if ( a1 & 1 && a3 & 8 )
      {
        sub_4FB530(8);
        v11 = a3 & 0xC00;
        if ( (unsigned int)v11 > 0x800 )
        {
          if ( v11 == 3072 )
          {
            if ( *a2 <= 0.0 )
              v7 = -dbl_5A2978;
            else
              v7 = dbl_5A2978;
            *(_QWORD *)a2 = *(_QWORD *)&v7;
          }
        }
        else
        {
          if ( v11 == 2048 )
          {
            if ( *a2 <= 0.0 )
              v9 = -dbl_5A2978;
            else
              v9 = dbl_5A2968;
            *(_QWORD *)a2 = *(_QWORD *)&v9;
          }
          else
          {
            if ( a3 & 0xC00 )
            {
              if ( v11 == 1024 )
              {
                if ( *a2 <= 0.0 )
                  v8 = -dbl_5A2968;
                else
                  v8 = dbl_5A2978;
                *(_QWORD *)a2 = *(_QWORD *)&v8;
              }
            }
            else
            {
              if ( *a2 <= 0.0 )
                v10 = -dbl_5A2968;
              else
                v10 = dbl_5A2968;
              *(_QWORD *)a2 = *(_QWORD *)&v10;
            }
          }
        }
        v16 &= 0xFFFFFFFEu;
      }
      else
      {
        if ( a1 & 2 && a3 & 0x10 )
        {
          v15 = 0;
          if ( a1 & 0x10 )
            v15 = 1;
          if ( *a2 == 0.0 )
          {
            v15 = 1;
          }
          else
          {
            v14 = sub_4FC4D0(*a2, (int)&v12);
            v13 = v12 - 1536;
            if ( v12 - 1536 >= -1074 )
            {
              v6 = v14 < 0.0;
              WORD3(v14) = BYTE6(v14) & 0xF;
              WORD3(v14) |= 0x10u;
              while ( v13 < -1021 )
              {
                if ( LOBYTE(v14) & 1 && !v15 )
                  v15 = 1;
                LODWORD(v14) >>= 1;
                if ( BYTE4(v14) & 1 )
                  LODWORD(v14) |= 0x80000000u;
                HIDWORD(v14) >>= 1;
                ++v13;
              }
              if ( v6 )
                v14 = -v14;
            }
            else
            {
              v14 = v14 * 0.0;
              v15 = 1;
            }
            *(_QWORD *)a2 = *(_QWORD *)&v14;
          }
          if ( v15 )
            sub_4FB530(16);
          v16 &= 0xFFFFFFFDu;
        }
      }
    }
  }
  if ( a1 & 0x10 && a3 & 0x20 )
  {
    sub_4FB530(32);
    v16 &= 0xFFFFFFEFu;
  }
  return v16 == 0;
}
// 5A2968: using guessed type double dbl_5A2968;
// 5A2978: using guessed type double dbl_5A2978;

//----- (004FB300) --------------------------------------------------------
double __cdecl sub_4FB300(signed int a1, int a2, int a3, int a4, int a5, int a6, double a7)
{
  double result; // st7@4
  int v8; // [sp+0h] [bp-20h]@2
  char *v9; // [sp+4h] [bp-1Ch]@1
  int v10; // [sp+8h] [bp-18h]@2
  int v11; // [sp+Ch] [bp-14h]@2
  int v12; // [sp+10h] [bp-10h]@2
  int v13; // [sp+14h] [bp-Ch]@2
  double v14; // [sp+18h] [bp-8h]@2

  v9 = sub_4FB3E0(a2);
  if ( v9 )
  {
    v8 = a1;
    v10 = a3;
    v11 = a4;
    v12 = a5;
    v13 = a6;
    v14 = a7;
    sub_4FB4F0();
    if ( !sub_4FB4A0() )
      sub_4FB3A0(a1);
    result = v14;
  }
  else
  {
    sub_4FB4F0();
    sub_4FB3A0(a1);
    result = a7;
  }
  return result;
}

//----- (004FB3A0) --------------------------------------------------------
signed int __cdecl sub_4FB3A0(signed int a1)
{
  signed int result; // eax@1

  result = a1;
  if ( a1 == 1 )
  {
    dword_A969A60 = 33;
  }
  else
  {
    if ( a1 > 1 )
    {
      if ( a1 <= 3 )
        dword_A969A60 = 34;
    }
  }
  return result;
}
// A969A60: using guessed type int dword_A969A60;

//----- (004FB3E0) --------------------------------------------------------
char *__cdecl sub_4FB3E0(int a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 27; ++i )
  {
    if ( dword_5A2870[2 * i] == a1 )
      return (char *)off_5A2874[2 * i];
  }
  return 0;
}
// 5A2870: using guessed type int dword_5A2870[];

//----- (004FB420) --------------------------------------------------------
signed int __cdecl sub_4FB420(char a1)
{
  signed int v2; // [sp+0h] [bp-4h]@2

  if ( a1 & 0x20 )
  {
    v2 = 5;
  }
  else
  {
    if ( a1 & 8 )
    {
      v2 = 1;
    }
    else
    {
      if ( a1 & 4 )
      {
        v2 = 2;
      }
      else
      {
        if ( a1 & 1 )
        {
          v2 = 3;
        }
        else
        {
          if ( a1 & 2 )
            v2 = 4;
          else
            v2 = 0;
        }
      }
    }
  }
  return v2;
}

//----- (004FB4A0) --------------------------------------------------------
int __cdecl sub_4FB4A0()
{
  return 0;
}

//----- (004FB4B0) --------------------------------------------------------
int __usercall sub_4FB4B0<eax>(__int16 a1<fpstat>, char a2, char a3, char a4)
{
  return a1;
}

//----- (004FB4D0) --------------------------------------------------------
int __usercall sub_4FB4D0<eax>(__int16 a1<fpstat>, char a2, char a3, char a4)
{
  __asm { fnclex }
  return a1;
}

//----- (004FB4F0) --------------------------------------------------------
int __cdecl sub_4FB4F0()
{
  __int16 v1; // [sp+Ch] [bp-8h]@0

  return v1;
}

//----- (004FB530) --------------------------------------------------------
int __cdecl sub_4FB530(char a1)
{
  return a1 & 4;
}

//----- (004FB5B0) --------------------------------------------------------
int __cdecl sub_4FB5B0(int a1, int a2)
{
  __int16 v2; // ST3C_2@1
  __int16 v3; // ST34_2@1
  int result; // eax@4
  int v5; // ecx@38
  int j; // [sp+14h] [bp-34h]@19
  unsigned __int16 v7; // [sp+18h] [bp-30h]@1
  unsigned __int16 k; // [sp+18h] [bp-30h]@25
  unsigned __int16 v9; // [sp+1Ch] [bp-2Ch]@1
  int v10; // [sp+20h] [bp-28h]@17
  int v11; // [sp+24h] [bp-24h]@19
  unsigned __int16 v12; // [sp+28h] [bp-20h]@1
  signed int i; // [sp+2Ch] [bp-1Ch]@17
  unsigned __int16 v14; // [sp+30h] [bp-18h]@1
  int v15; // [sp+34h] [bp-14h]@1
  int v16; // [sp+38h] [bp-10h]@1
  int v17; // [sp+3Ch] [bp-Ch]@1
  int v18; // [sp+40h] [bp-8h]@19
  int v19; // [sp+44h] [bp-4h]@1

  v19 = 0;
  v15 = 0;
  v16 = 0;
  v17 = 0;
  v2 = *(_WORD *)(a1 + 10);
  v3 = *(_WORD *)(a2 + 10);
  v9 = (v3 ^ v2) & 0x8000;
  v14 = v2 & 0x7FFF;
  v12 = v3 & 0x7FFF;
  v7 = v12 + v14;
  if ( (signed int)v14 < 32767 && (signed int)v12 < 32767 && (signed int)v7 <= 49149 )
  {
    if ( (signed int)v7 > 16319 )
    {
      if ( v14 || (++v7, *(_DWORD *)(a1 + 8) & 0x7FFFFFFF) || *(_DWORD *)(a1 + 4) || *(_DWORD *)a1 )
      {
        if ( v12 || (++v7, *(_DWORD *)(a2 + 8) & 0x7FFFFFFF) || *(_DWORD *)(a2 + 4) || *(_DWORD *)a2 )
        {
          v10 = 0;
          for ( i = 0; i < 5; ++i )
          {
            v11 = 2 * i;
            v18 = 8;
            for ( j = 5 - i; j > 0; --j )
            {
              if ( sub_4F93B0(
                     *(int *)((char *)&v15 + v10),
                     *(_WORD *)(v18 + a2) * *(_WORD *)(v11 + a1),
                     (int)((char *)&v15 + v10)) )
                ++*(_WORD *)((char *)&v16 + v10);
              v11 += 2;
              v18 -= 2;
            }
            v10 += 2;
          }
          for ( k = v7 - 16382; (signed __int16)k > 0 && !(v17 & 0x80000000); --k )
            sub_4F94A0((int)&v15);
          if ( (signed __int16)k <= 0 )
          {
            --k;
            while ( (k & 0x8000u) != 0 )
            {
              if ( v15 & 1 )
                ++v19;
              sub_4F9500((int)&v15);
              ++k;
            }
            if ( v19 )
              LOWORD(v15) = v15 | 1;
          }
          if ( (signed int)(unsigned __int16)v15 > 32768 || (v5 = v15, (v5 & 0x1FFFF) == 98304) )
          {
            if ( *(int *)((char *)&v15 + 2) == -1 )
            {
              *(int *)((char *)&v15 + 2) = 0;
              if ( *(int *)((char *)&v16 + 2) == -1 )
              {
                *(int *)((char *)&v16 + 2) = 0;
                if ( HIWORD(v17) == 65535 )
                {
                  HIWORD(v17) = -32768;
                  ++k;
                }
                else
                {
                  ++HIWORD(v17);
                }
              }
              else
              {
                ++*(int *)((char *)&v16 + 2);
              }
            }
            else
            {
              ++*(int *)((char *)&v15 + 2);
            }
          }
          if ( (signed int)k < 32767 )
          {
            *(_WORD *)a1 = HIWORD(v15);
            *(_DWORD *)(a1 + 2) = v16;
            *(_DWORD *)(a1 + 6) = v17;
            result = v9 | k;
            *(_WORD *)(a1 + 10) = result;
          }
          else
          {
            result = a1;
            *(_DWORD *)(a1 + 8) = v9 != 0 ? -32768 : 2147450880;
            *(_DWORD *)(a1 + 4) = 0;
            *(_DWORD *)a1 = 0;
          }
        }
        else
        {
          *(_DWORD *)(a1 + 8) = 0;
          *(_DWORD *)(a1 + 4) = 0;
          result = a1;
          *(_DWORD *)a1 = 0;
        }
      }
      else
      {
        result = a1;
        *(_WORD *)(a1 + 10) = 0;
      }
    }
    else
    {
      result = a1;
      *(_DWORD *)(a1 + 8) = 0;
      *(_DWORD *)(a1 + 4) = 0;
      *(_DWORD *)a1 = 0;
    }
  }
  else
  {
    *(_DWORD *)(a1 + 8) = v9 != 0 ? -32768 : 2147450880;
    result = a1;
    *(_DWORD *)(a1 + 4) = 0;
    *(_DWORD *)a1 = 0;
  }
  return result;
}

//----- (004FB9F0) --------------------------------------------------------
char *__cdecl sub_4FB9F0(int a1, signed int a2, int a3)
{
  char *result; // eax@1
  int v4; // [sp+0h] [bp-18h]@7
  int v5; // [sp+4h] [bp-14h]@9
  int v6; // [sp+8h] [bp-10h]@9
  int v7; // [sp+Ch] [bp-Ch]@9
  int v8; // [sp+10h] [bp-8h]@8
  int v9; // [sp+14h] [bp-4h]@1

  result = (char *)&unk_5A2990 - 96;
  v9 = (int)((char *)&unk_5A2990 - 96);
  if ( a2 )
  {
    if ( a2 < 0 )
    {
      a2 = -a2;
      v9 = (int)((char *)&unk_5A2AF0 - 96);
    }
    if ( !a3 )
    {
      result = (char *)a1;
      *(_WORD *)a1 = 0;
    }
    while ( a2 )
    {
      v9 += 84;
      v4 = a2 & 7;
      result = (char *)(a2 >> 3);
      a2 >>= 3;
      if ( v4 )
      {
        v8 = 12 * v4 + v9;
        if ( (signed int)*(_WORD *)(12 * v4 + v9) >= 32768 )
        {
          v5 = *(_DWORD *)v8;
          v6 = *(_DWORD *)(v8 + 4);
          v7 = *(_DWORD *)(v8 + 8);
          --*(int *)((char *)&v5 + 2);
          v8 = (int)&v5;
        }
        result = (char *)sub_4FB5B0(a1, v8);
      }
    }
  }
  return result;
}

//----- (004FBAC0) --------------------------------------------------------
int __usercall sub_4FBAC0<eax>(int a1<eax>, int a2<ebx>, int a3<edi>, int a4<esi>, LCID Locale, DWORD dwCmpFlags, PCNZCH lpMultiByteStr, signed int cbMultiByte, PCNZCH lpString2, signed int cchCount2, UINT CodePage)
{
  int result; // eax@6
  int v12; // eax@56
  void *v13; // esp@56
  int v14; // eax@62
  void *v15; // esp@62
  int v16; // [sp-Ch] [bp-54h]@1
  int v17; // [sp-8h] [bp-50h]@1
  int v18; // [sp-4h] [bp-4Ch]@1
  int *v19; // [sp+0h] [bp-48h]@62
  int *v20; // [sp+4h] [bp-44h]@56
  BYTE *i; // [sp+8h] [bp-40h]@35
  struct _cpinfo CPInfo; // [sp+Ch] [bp-3Ch]@24
  LPWSTR lpWideCharStr; // [sp+20h] [bp-28h]@62
  LPWSTR lpString1; // [sp+24h] [bp-24h]@56
  int cchWideChar; // [sp+28h] [bp-20h]@60
  int cchCount1; // [sp+2Ch] [bp-1Ch]@54
  int *v27; // [sp+30h] [bp-18h]@1
  int v28; // [sp+38h] [bp-10h]@1
  signed int (__usercall *v29)<eax>(int<ebp>); // [sp+3Ch] [bp-Ch]@1
  _UNKNOWN *v30; // [sp+40h] [bp-8h]@1
  int v31; // [sp+44h] [bp-4h]@1

  v31 = -1;
  v30 = &unk_591C58;
  v29 = sub_4F4368;
  v28 = a1;
  v18 = a2;
  v17 = a4;
  v16 = a3;
  v27 = &v16;
  if ( !dword_A969D8C )
  {
    if ( CompareStringW(0, 0, &SrcStr, 1, &SrcStr, 1) )
    {
      dword_A969D8C = 1;
    }
    else
    {
      if ( !CompareStringA(0, 0, String2, 1, String2, 1) )
        return 0;
      dword_A969D8C = 2;
    }
  }
  if ( cbMultiByte > 0 )
    cbMultiByte = sub_4FBEC0((int)lpMultiByteStr, cbMultiByte);
  if ( cchCount2 > 0 )
    cchCount2 = sub_4FBEC0((int)lpString2, cchCount2);
  if ( dword_A969D8C == 2 )
    return CompareStringA(Locale, dwCmpFlags, lpMultiByteStr, cbMultiByte, lpString2, cchCount2);
  if ( dword_A969D8C != 1 )
    return 0;
  if ( !CodePage )
    CodePage = dword_A969B18;
  if ( cbMultiByte && cchCount2 )
    goto LABEL_70;
  if ( cbMultiByte == cchCount2 )
    return 2;
  if ( cchCount2 > 1 )
    return 1;
  if ( cbMultiByte > 1 )
    return 3;
  if ( !GetCPInfo(CodePage, &CPInfo) )
    return 0;
  if ( (cbMultiByte || cchCount2 != 1) && (cbMultiByte != 1 || cchCount2) )
  {
    if ( sub_4EB280(
           a2,
           a4,
           2,
           (int)"a_cmp.c",
           182,
           0,
           "cchCount1==0 && cchCount2==1 || cchCount1==1 && cchCount2==0",
           v16) == 1 )
      __debugbreak();
  }
  if ( cbMultiByte > 0 )
  {
    if ( CPInfo.MaxCharSize >= 2 )
    {
      for ( i = CPInfo.LeadByte; *i && i[1]; i += 2 )
      {
        if ( (unsigned __int8)*lpMultiByteStr >= (signed int)*i && (unsigned __int8)*lpMultiByteStr <= (signed int)i[1] )
          return 2;
      }
      result = 3;
    }
    else
    {
      result = 3;
    }
    return result;
  }
  if ( cchCount2 <= 0 )
  {
LABEL_70:
    cchCount1 = MultiByteToWideChar(CodePage, 9u, lpMultiByteStr, cbMultiByte, 0, 0);
    if ( cchCount1 )
    {
      v12 = 2 * cchCount1 + 3;
      LOBYTE(v12) = v12 & 0xFC;
      v13 = alloca(v12);
      v20 = &v16;
      v27 = &v16;
      lpString1 = (LPWSTR)&v16;
      v31 = -1;
      if ( &v16 )
      {
        if ( MultiByteToWideChar(CodePage, 1u, lpMultiByteStr, cbMultiByte, lpString1, cchCount1) )
        {
          cchWideChar = MultiByteToWideChar(CodePage, 9u, lpString2, cchCount2, 0, 0);
          if ( cchWideChar )
          {
            v14 = 2 * cchWideChar + 3;
            LOBYTE(v14) = v14 & 0xFC;
            v15 = alloca(v14);
            v19 = &v16;
            v27 = &v16;
            lpWideCharStr = (LPWSTR)&v16;
            v31 = -1;
            if ( &v16 )
            {
              if ( MultiByteToWideChar(CodePage, 1u, lpString2, cchCount2, lpWideCharStr, cchWideChar) )
                result = CompareStringW(Locale, dwCmpFlags, lpString1, cchCount1, lpWideCharStr, cchWideChar);
              else
                result = 0;
            }
            else
            {
              result = 0;
            }
          }
          else
          {
            result = 0;
          }
        }
        else
        {
          result = 0;
        }
      }
      else
      {
        result = 0;
      }
    }
    else
    {
      result = 0;
    }
    return result;
  }
  if ( CPInfo.MaxCharSize >= 2 )
  {
    for ( i = CPInfo.LeadByte; *i && i[1]; i += 2 )
    {
      if ( (unsigned __int8)*lpString2 >= (signed int)*i && (unsigned __int8)*lpString2 <= (signed int)i[1] )
        return 2;
    }
    result = 1;
  }
  else
  {
    result = 1;
  }
  return result;
}
// 4FBAC0: could not find valid save-restore pair for edi
// A969D8C: using guessed type int dword_A969D8C;

//----- (004FBEC0) --------------------------------------------------------
int __cdecl sub_4FBEC0(int a1, int a2)
{
  int v2; // edx@2
  int result; // eax@6
  int v4; // [sp+0h] [bp-8h]@1
  int i; // [sp+4h] [bp-4h]@1

  v4 = a2;
  for ( i = a1; ; ++i )
  {
    v2 = v4--;
    if ( !v2 )
      break;
    if ( !*(_BYTE *)i )
      break;
  }
  if ( *(_BYTE *)i )
    result = a2;
  else
    result = i - a1;
  return result;
}

//----- (004FBF10) --------------------------------------------------------
signed int __usercall sub_4FBF10<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5)
{
  int v6; // eax@42
  int v7; // [sp+4h] [bp-18h]@2
  bool v8; // [sp+8h] [bp-14h]@5
  int lpName; // [sp+Ch] [bp-10h]@42
  int v10; // [sp+10h] [bp-Ch]@23
  int v11; // [sp+10h] [bp-Ch]@29
  int v12; // [sp+10h] [bp-Ch]@37
  int v13; // [sp+14h] [bp-8h]@23

  if ( !a4 || (v7 = sub_4E4BD0(a4, 61)) == 0 || a4 == v7 )
    return -1;
  v8 = *(_BYTE *)(v7 + 1) == 0;
  if ( dword_A969A88 == dword_A969A8C )
    dword_A969A88 = (int)sub_4FC270(a1, a3, (int *)dword_A969A88);
  if ( !dword_A969A88 )
  {
    if ( a5 && dword_A969A90 )
    {
      if ( sub_4FA7A0(a1, a2, a3) )
        return -1;
    }
    else
    {
      if ( v8 )
        return 0;
      if ( !dword_A969A88 )
      {
        dword_A969A88 = sub_4E5510(a1, a3, 4u, 2, (int)"setenv.c", 135);
        if ( !dword_A969A88 )
          return -1;
        *(_DWORD *)dword_A969A88 = 0;
      }
      if ( !dword_A969A90 )
      {
        dword_A969A90 = sub_4E5510(a1, a3, 4u, 2, (int)"setenv.c", 142);
        if ( !dword_A969A90 )
          return -1;
        *(_DWORD *)dword_A969A90 = 0;
      }
    }
  }
  v10 = dword_A969A88;
  v13 = sub_4FC1F0(a1, a2, a3, (const CHAR *)a4, v7 - a4);
  if ( v13 >= 0 && *(_DWORD *)v10 )
  {
    if ( v8 )
    {
      sub_4E5F50(a1, a3, *(_DWORD *)(v10 + 4 * v13), 2);
      while ( *(_DWORD *)(v10 + 4 * v13) )
      {
        a3 = v10;
        *(_DWORD *)(v10 + 4 * v13) = *(_DWORD *)(v10 + 4 * v13 + 4);
        ++v13;
      }
      v11 = sub_4E5990(a1, a3, v10, 4 * v13, 2, (int)"setenv.c", 185);
      if ( v11 )
        dword_A969A88 = v11;
    }
    else
    {
      *(_DWORD *)(v10 + 4 * v13) = a4;
    }
  }
  else
  {
    if ( v8 )
      return 0;
    if ( v13 < 0 )
      v13 = -v13;
    v12 = sub_4E5990(a1, a3, v10, 4 * v13 + 8, 2, (int)"setenv.c", 206);
    if ( !v12 )
      return -1;
    *(_DWORD *)(v12 + 4 * v13) = a4;
    *(_DWORD *)(v12 + 4 * v13 + 4) = 0;
    dword_A969A88 = v12;
  }
  if ( a5 )
  {
    v6 = sub_4E4B50(a4);
    lpName = sub_4E5510(a1, a3, v6 + 2, 2, (int)"setenv.c", 229);
    if ( lpName )
    {
      sub_4E4720(lpName);
      *(_BYTE *)(v7 - a4 + lpName) = 0;
      SetEnvironmentVariableA((LPCSTR)lpName, (LPCSTR)(v8 == 0 ? v7 - a4 + lpName + 1 : 0));
      sub_4E5F50(a1, a3, lpName, 2);
    }
  }
  return 0;
}
// A969A88: using guessed type int dword_A969A88;
// A969A8C: using guessed type int dword_A969A8C;
// A969A90: using guessed type int dword_A969A90;

//----- (004FC1F0) --------------------------------------------------------
int __usercall sub_4FC1F0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, const CHAR *a4, int a5)
{
  PCNZCH *i; // [sp+0h] [bp-4h]@1

  for ( i = (PCNZCH *)dword_A969A88; *i; ++i )
  {
    if ( !sub_4FA750(a1, a2, a3, a4, *i, a5) && ((*i)[a5] == 61 || !(*i)[a5]) )
      return (signed int)((char *)i - dword_A969A88) >> 2;
  }
  return -((signed int)((char *)i - dword_A969A88) >> 2);
}
// A969A88: using guessed type int dword_A969A88;

//----- (004FC270) --------------------------------------------------------
int *__usercall sub_4FC270<eax>(int a1<ebx>, int a2<esi>, int *a3)
{
  int *result; // eax@2
  int v4; // edx@3
  int v5; // eax@9
  int v6; // [sp+0h] [bp-10h]@1
  int *v7; // [sp+4h] [bp-Ch]@1
  int *v8; // [sp+4h] [bp-Ch]@7
  int *v9; // [sp+8h] [bp-8h]@5
  int *v10; // [sp+Ch] [bp-4h]@5

  v6 = 0;
  v7 = a3;
  if ( a3 )
  {
    while ( 1 )
    {
      v4 = *v7;
      ++v7;
      if ( !v4 )
        break;
      ++v6;
    }
    v9 = (int *)sub_4E5510(a1, a2, 4 * v6 + 4, 2, (int)"setenv.c", 326);
    v10 = v9;
    if ( !v9 )
      sub_4EC600(a1, a2, 9);
    v8 = a3;
    while ( *v8 )
    {
      v5 = sub_4E4B50(*v8);
      *v9 = sub_4E5510(a1, a2, v5 + 1, 2, (int)"setenv.c", 335);
      if ( *v9 )
        sub_4E4720(*v9);
      ++v8;
      ++v9;
    }
    *v9 = 0;
    result = v10;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004FC360) --------------------------------------------------------
double __cdecl sub_4FC360(double a1, __int16 a2)
{
  double v2; // ST00_8@1

  v2 = a1;
  WORD3(v2) = 16 * (a2 + 1022) | WORD3(a1) & 0x800F;
  return v2;
}

//----- (004FC4D0) --------------------------------------------------------
double __cdecl sub_4FC4D0(double a1, int a2)
{
  int v2; // eax@11
  bool v4; // [sp+0h] [bp-14h]@7
  double v5; // [sp+8h] [bp-Ch]@2
  int v6; // [sp+10h] [bp-4h]@2

  if ( a1 == 0.0 )
  {
    v5 = 0.0;
    v6 = 0;
  }
  else
  {
    if ( !(WORD3(a1) & 0x7FF0) && (HIDWORD(a1) << 12 || LODWORD(a1)) )
    {
      v6 = -1021;
      v4 = a1 < 0.0;
      while ( !(BYTE6(a1) & 0x10) )
      {
        HIDWORD(a1) *= 2;
        if ( LODWORD(a1) & 0x80000000 )
        {
          v2 = HIDWORD(a1);
          LOBYTE(v2) = BYTE4(a1) | 1;
          HIDWORD(a1) = v2;
        }
        LODWORD(a1) *= 2;
        --v6;
      }
      WORD3(a1) &= 0xFFEFu;
      if ( v4 )
        WORD3(a1) |= 0x8000u;
      v5 = sub_4FC360(a1, 0);
    }
    else
    {
      v5 = sub_4FC360(a1, 0);
      v6 = (signed __int16)((WORD3(a1) & 0x7FF0) >> 4) - 1022;
    }
  }
  *(_DWORD *)a2 = v6;
  return v5;
}

//----- (004FC610) --------------------------------------------------------
void __usercall sub_4FC610(int a1<ebx>, int a2<esi>)
{
  char v2; // [sp+0h] [bp-3Ch]@1
  char v3; // [sp+4h] [bp-38h]@1
  char v4; // [sp+14h] [bp-28h]@1
  int v5; // [sp+38h] [bp-4h]@1

  sub_4019DD("string too long", &v2);
  v5 = 0;
  sub_4FC7C0((int)&v4, a1, a2, (int)&v3);
  sub_4FD090((int)&v4, (int)&unk_592E48);
}
// 4019DD: using guessed type _DWORD __stdcall sub_4019DD(_DWORD, _DWORD);

//----- (004FC670) --------------------------------------------------------
int __userpurge sub_4FC670<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4)
{
  int v4; // ST04_4@1

  v4 = a1;
  sub_4FCE20(a1, a2, a3, a4);
  sub_401848(a4 + 12);
  *(_DWORD *)v4 = &off_591C90;
  return v4;
}
// 401848: using guessed type _DWORD __stdcall sub_401848(_DWORD);
// 591C90: using guessed type int (__stdcall *off_591C90)(int);

//----- (004FC6E0) --------------------------------------------------------
int __thiscall sub_4FC6E0(void *this)
{
  return sub_401465((char *)this + 12);
}
// 401465: using guessed type int __thiscall sub_401465(_DWORD);

//----- (004FC700) --------------------------------------------------------
void __usercall sub_4FC700(int a1<ecx>, int a2<ebx>, int a3<esi>)
{
  char v3; // [sp+4h] [bp-1Ch]@1

  sub_4FC670((int)&v3, a2, a3, a1);
  sub_4FD090((int)&v3, (int)&unk_592EB8);
}

//----- (004FC730) --------------------------------------------------------
void __usercall sub_4FC730(int a1<ecx>, int a2<ebx>, int a3<esi>)
{
  int v3; // ST00_4@1

  v3 = a1;
  *(_DWORD *)a1 = &off_591C90;
  sub_401654(a1 + 12);
  sub_4FCEE0(v3, a2, a3);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);
// 591C90: using guessed type int (__stdcall *off_591C90)(int);

//----- (004FC790) --------------------------------------------------------
int __userpurge sub_4FC790<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, char a4)
{
  int v5; // [sp+0h] [bp-4h]@1

  v5 = a1;
  sub_4FC730(a1, a2, a3);
  if ( a4 & 1 )
    sub_4EB990(a2, a3, v5);
  return v5;
}

//----- (004FC7C0) --------------------------------------------------------
int __userpurge sub_4FC7C0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4)
{
  int v4; // ST04_4@1

  v4 = a1;
  sub_4FC7F0(a1, a2, a3, a4);
  *(_DWORD *)v4 = &off_591CA0;
  return v4;
}
// 591CA0: using guessed type int (__stdcall *off_591CA0)(int);

//----- (004FC7F0) --------------------------------------------------------
int __userpurge sub_4FC7F0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4)
{
  int v4; // ST04_4@1
  char *v6; // [sp+4h] [bp-10h]@1
  int v7; // [sp+10h] [bp-4h]@1

  v4 = a1;
  v6 = &byte_5840D0;
  sub_4FCDB0(a1, a2, a3, (int *)&v6);
  v7 = 0;
  sub_401848(a4);
  *(_DWORD *)v4 = &off_591C90;
  return v4;
}
// 401848: using guessed type _DWORD __stdcall sub_401848(_DWORD);
// 5840D0: using guessed type char byte_5840D0;
// 591C90: using guessed type int (__stdcall *off_591C90)(int);

//----- (004FC860) --------------------------------------------------------
void __usercall sub_4FC860(int a1<ecx>, int a2<ebx>, int a3<esi>)
{
  *(_DWORD *)a1 = &off_591CA0;
  sub_4FC730(a1, a2, a3);
}
// 591CA0: using guessed type int (__stdcall *off_591CA0)(int);

//----- (004FC880) --------------------------------------------------------
void __usercall sub_4FC880(int a1<ecx>, int a2<ebx>, int a3<esi>)
{
  char v3; // [sp+4h] [bp-1Ch]@1

  sub_4FC8E0((int)&v3, a2, a3, a1);
  sub_4FD090((int)&v3, (int)&unk_592E48);
}

//----- (004FC8B0) --------------------------------------------------------
int __userpurge sub_4FC8B0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, char a4)
{
  int v5; // [sp+0h] [bp-4h]@1

  v5 = a1;
  sub_4FC860(a1, a2, a3);
  if ( a4 & 1 )
    sub_4EB990(a2, a3, v5);
  return v5;
}

//----- (004FC8E0) --------------------------------------------------------
int __userpurge sub_4FC8E0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4)
{
  int v4; // ST04_4@1

  v4 = a1;
  sub_4FC670(a1, a2, a3, a4);
  *(_DWORD *)v4 = &off_591CA0;
  return v4;
}
// 591CA0: using guessed type int (__stdcall *off_591CA0)(int);

//----- (004FC910) --------------------------------------------------------
void __usercall sub_4FC910(int a1<ebx>, int a2<esi>)
{
  char v2; // [sp+0h] [bp-3Ch]@1
  char v3; // [sp+4h] [bp-38h]@1
  char v4; // [sp+14h] [bp-28h]@1
  int v5; // [sp+38h] [bp-4h]@1

  sub_4019DD("invalid string position", &v2);
  v5 = 0;
  sub_4FC970((int)&v4, a1, a2, (int)&v3);
  sub_4FD090((int)&v4, (int)&unk_592F48);
}
// 4019DD: using guessed type _DWORD __stdcall sub_4019DD(_DWORD, _DWORD);

//----- (004FC970) --------------------------------------------------------
int __userpurge sub_4FC970<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4)
{
  int v4; // ST04_4@1

  v4 = a1;
  sub_4FC7F0(a1, a2, a3, a4);
  *(_DWORD *)v4 = &off_591CC8;
  return v4;
}
// 591CC8: using guessed type int (__stdcall *off_591CC8)(int);

//----- (004FC9A0) --------------------------------------------------------
void __usercall sub_4FC9A0(int a1<ecx>, int a2<ebx>, int a3<esi>)
{
  *(_DWORD *)a1 = &off_591CC8;
  sub_4FC730(a1, a2, a3);
}
// 591CC8: using guessed type int (__stdcall *off_591CC8)(int);

//----- (004FC9C0) --------------------------------------------------------
void __usercall sub_4FC9C0(int a1<ecx>, int a2<ebx>, int a3<esi>)
{
  char v3; // [sp+4h] [bp-1Ch]@1

  sub_4FCA20((int)&v3, a2, a3, a1);
  sub_4FD090((int)&v3, (int)&unk_592F48);
}

//----- (004FC9F0) --------------------------------------------------------
int __userpurge sub_4FC9F0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, char a4)
{
  int v5; // [sp+0h] [bp-4h]@1

  v5 = a1;
  sub_4FC9A0(a1, a2, a3);
  if ( a4 & 1 )
    sub_4EB990(a2, a3, v5);
  return v5;
}

//----- (004FCA20) --------------------------------------------------------
int __userpurge sub_4FCA20<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4)
{
  int v4; // ST04_4@1

  v4 = a1;
  sub_4FC670(a1, a2, a3, a4);
  *(_DWORD *)v4 = &off_591CC8;
  return v4;
}
// 591CC8: using guessed type int (__stdcall *off_591CC8)(int);

//----- (004FCA50) --------------------------------------------------------
int __usercall sub_4FCA50<eax>(int a1<ebx>, int a2<esi>)
{
  sub_4014A1();
  sub_4FCA70(a1, a2);
  sub_4FCA90();
  return sub_4FCAC0(a1, a2);
}
// 4014A1: using guessed type int sub_4014A1(void);

//----- (004FCA70) --------------------------------------------------------
int __usercall sub_4FCA70<eax>(int a1<ebx>, int a2<esi>)
{
  return sub_4E8BF0(a1, a2, (int)sub_4014AB);
}
// 4014AB: using guessed type int sub_4014AB();

//----- (004FCA90) --------------------------------------------------------
int __cdecl sub_4FCA90()
{
  int result; // eax@1

  result = byte_A96B54C & 1;
  if ( !(byte_A96B54C & 1) )
    byte_A96B54C |= 1u;
  return result;
}
// A96B54C: using guessed type char byte_A96B54C;

//----- (004FCAC0) --------------------------------------------------------
int __usercall sub_4FCAC0<eax>(int a1<ebx>, int a2<esi>)
{
  return sub_4E8BF0(a1, a2, (int)sub_4FCAE0);
}

//----- (004FCAE0) --------------------------------------------------------
void __cdecl sub_4FCAE0()
{
  ;
}

//----- (004FCC50) --------------------------------------------------------
LPCSTR __usercall sub_4FCC50<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, LPCSTR lpMultiByteStr)
{
  LPCSTR result; // eax@8
  LPCSTR i; // [sp+0h] [bp-Ch]@2
  int lpDestStr; // [sp+4h] [bp-8h]@1
  int cchDest; // [sp+8h] [bp-4h]@9

  lpDestStr = 0;
  if ( dword_A969B08 )
  {
    cchDest = sub_4F4440(dword_A969B08, a1, a2, a3, dword_A969B08, 0x100u, lpMultiByteStr, -1, 0, 0, 0, 1);
    if ( cchDest )
    {
      lpDestStr = sub_4E5510(a1, a3, cchDest, 2, (int)"strlwr.c", 100);
      if ( lpDestStr )
      {
        if ( sub_4F4440(
               lpDestStr,
               a1,
               a2,
               a3,
               dword_A969B08,
               0x100u,
               lpMultiByteStr,
               -1,
               (LPSTR)lpDestStr,
               cchDest,
               0,
               1) )
          sub_4E4720((int)lpMultiByteStr);
      }
    }
    sub_4E5F50(a1, a3, lpDestStr, 2);
    result = lpMultiByteStr;
  }
  else
  {
    for ( i = lpMultiByteStr; *i; ++i )
    {
      if ( *i >= 65 )
      {
        if ( *i <= 90 )
          *i += 32;
      }
    }
    result = lpMultiByteStr;
  }
  return result;
}

//----- (004FCD80) --------------------------------------------------------
int __userpurge sub_4FCD80<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, char a4)
{
  int v5; // [sp+0h] [bp-4h]@1

  v5 = a1;
  sub_4FCEE0(a1, a2, a3);
  if ( a4 & 1 )
    sub_4EB990(a2, a3, v5);
  return v5;
}

//----- (004FCDB0) --------------------------------------------------------
int __userpurge sub_4FCDB0<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int *a4)
{
  int v4; // eax@1
  int v6; // [sp+0h] [bp-8h]@1

  v6 = a1;
  *(_DWORD *)a1 = &off_591CE4;
  v4 = sub_4E4B50(*a4);
  *(_DWORD *)(v6 + 4) = sub_4EB920(a2, a3, v4 + 1);
  if ( *(_DWORD *)(v6 + 4) )
    sub_4E4720(*(_DWORD *)(v6 + 4));
  *(_DWORD *)(v6 + 8) = 1;
  return v6;
}
// 591CE4: using guessed type int (__stdcall *off_591CE4)(int);

//----- (004FCE20) --------------------------------------------------------
int __userpurge sub_4FCE20<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, int a4)
{
  int v4; // eax@2
  int v6; // [sp+0h] [bp-8h]@1

  v6 = a1;
  *(_DWORD *)a1 = &off_591CE4;
  *(_DWORD *)(a1 + 8) = *(_DWORD *)(a4 + 8);
  if ( *(_DWORD *)(a1 + 8) )
  {
    v4 = sub_4E4B50(*(_DWORD *)(a4 + 4));
    *(_DWORD *)(v6 + 4) = sub_4EB920(a2, a3, v4 + 1);
    if ( *(_DWORD *)(v6 + 4) )
      sub_4E4720(*(_DWORD *)(v6 + 4));
  }
  else
  {
    *(_DWORD *)(a1 + 4) = *(_DWORD *)(a4 + 4);
  }
  return v6;
}
// 591CE4: using guessed type int (__stdcall *off_591CE4)(int);

//----- (004FCEE0) --------------------------------------------------------
void __usercall sub_4FCEE0(int a1<ecx>, int a2<ebx>, int a3<esi>)
{
  *(_DWORD *)a1 = &off_591CE4;
  if ( *(_DWORD *)(a1 + 8) )
    sub_4EB990(a2, a3, *(_DWORD *)(a1 + 4));
}
// 591CE4: using guessed type int (__stdcall *off_591CE4)(int);

//----- (004FCF20) --------------------------------------------------------
int __thiscall sub_4FCF20(int this)
{
  int result; // eax@2

  if ( *(_DWORD *)(this + 4) )
    result = *(_DWORD *)(this + 4);
  else
    result = (int)"Unknown exception";
  return result;
}

//----- (004FCF50) --------------------------------------------------------
void __thiscall sub_4FCF50(int this)
{
  *(_DWORD *)this = &off_591D04;
  if ( *(_DWORD *)(this + 4) )
    sub_4F0BC0(*(LPVOID *)(this + 4));
}
// 591D04: using guessed type int (__stdcall *off_591D04)(int);

//----- (004FCF80) --------------------------------------------------------
int __userpurge sub_4FCF80<eax>(int a1<ecx>, int a2<ebx>, int a3<esi>, char a4)
{
  int v5; // [sp+0h] [bp-4h]@1

  v5 = a1;
  sub_4FCF50(a1);
  if ( a4 & 1 )
    sub_4EB990(a2, a3, v5);
  return v5;
}

//----- (004FD090) --------------------------------------------------------
void __stdcall sub_4FD090(int a1, int a2)
{
  DWORD dwExceptionCode; // [sp+8h] [bp-20h]@1
  DWORD dwExceptionFlags; // [sp+Ch] [bp-1Ch]@1
  DWORD nNumberOfArguments; // [sp+18h] [bp-10h]@1
  ULONG_PTR Arguments; // [sp+1Ch] [bp-Ch]@1
  int v6; // [sp+20h] [bp-8h]@1
  int v7; // [sp+24h] [bp-4h]@1

  memcpy(&dwExceptionCode, &unk_591D08, 0x20u);
  v6 = a1;
  v7 = a2;
  RaiseException(dwExceptionCode, dwExceptionFlags, nNumberOfArguments, &Arguments);
}

//----- (00504280) --------------------------------------------------------
int __usercall sub_504280<eax>(int a1<ebp>)
{
  return sub_4014C9(*(_DWORD *)(a1 - 16) + 32);
}
// 4014C9: using guessed type int __thiscall sub_4014C9(_DWORD);

//----- (0050428C) --------------------------------------------------------
int __usercall SEH_421FE0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592B08, a1, a2, a3, a4, a5, a6, a7);
}

//----- (005042A0) --------------------------------------------------------
int __usercall sub_5042A0<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 28);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (005042A9) --------------------------------------------------------
int __usercall sub_5042A9<eax>(int a1<ebp>)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 - 40) & 1;
  if ( result )
    result = sub_401654(*(_DWORD *)(a1 + 8));
  return result;
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (005042C0) --------------------------------------------------------
int __usercall SEH_4DF110<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592B38, a1, a2, a3, a4, a5, a6, a7);
}

//----- (005042E0) --------------------------------------------------------
int __usercall sub_5042E0<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 2716);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (005042EC) --------------------------------------------------------
int __usercall sub_5042EC<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3088);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (005042F8) --------------------------------------------------------
int __usercall sub_5042F8<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3108);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504304) --------------------------------------------------------
int __usercall sub_504304<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3124);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504310) --------------------------------------------------------
int __usercall sub_504310<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3144);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (0050431C) --------------------------------------------------------
int __usercall sub_50431C<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3160);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504328) --------------------------------------------------------
int __usercall sub_504328<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3180);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504334) --------------------------------------------------------
int __usercall sub_504334<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3196);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504340) --------------------------------------------------------
int __usercall sub_504340<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3216);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (0050434C) --------------------------------------------------------
int __usercall sub_50434C<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3232);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504358) --------------------------------------------------------
int __usercall sub_504358<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3252);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504364) --------------------------------------------------------
int __usercall sub_504364<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3268);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504370) --------------------------------------------------------
int __usercall sub_504370<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3284);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (0050437C) --------------------------------------------------------
int __usercall sub_50437C<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3300);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504388) --------------------------------------------------------
int __usercall sub_504388<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3316);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504394) --------------------------------------------------------
int __usercall sub_504394<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 3332);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (005043A0) --------------------------------------------------------
int __usercall SEH_4DF6E0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592B70, a1, a2, a3, a4, a5, a6, a7);
}

//----- (005043E0) --------------------------------------------------------
int __usercall sub_5043E0<eax>(int a1<ebp>)
{
  return sub_401A0A(a1 - 632);
}
// 401A0A: using guessed type int __thiscall sub_401A0A(_DWORD);

//----- (005043EC) --------------------------------------------------------
int __usercall SEH_4E0EB0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592C20, a1, a2, a3, a4, a5, a6, a7);
}

//----- (00504400) --------------------------------------------------------
int __usercall sub_504400<eax>(int a1<ebp>)
{
  return sub_401654(*(_DWORD *)(a1 - 16));
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504409) --------------------------------------------------------
int __usercall SEH_4E1210<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592C50, a1, a2, a3, a4, a5, a6, a7);
}

//----- (00504420) --------------------------------------------------------
int __usercall sub_504420<eax>(int a1<ebp>)
{
  return sub_401654(*(_DWORD *)(a1 - 16));
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504429) --------------------------------------------------------
int __usercall SEH_4E12B0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592C80, a1, a2, a3, a4, a5, a6, a7);
}

//----- (00504440) --------------------------------------------------------
int __usercall sub_504440<eax>(int a1<ebp>)
{
  return sub_401A0A(a1 - 76);
}
// 401A0A: using guessed type int __thiscall sub_401A0A(_DWORD);

//----- (00504449) --------------------------------------------------------
int __usercall SEH_4E1340<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592CB0, a1, a2, a3, a4, a5, a6, a7);
}

//----- (00504460) --------------------------------------------------------
int __usercall SEH_4E31A0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592CE0, a1, a2, a3, a4, a5, a6, a7);
}

//----- (00504470) --------------------------------------------------------
int __usercall sub_504470<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 28);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504479) --------------------------------------------------------
int __usercall sub_504479<eax>(int a1<ebp>)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 - 36) & 1;
  if ( result )
    result = sub_401654(*(_DWORD *)(a1 + 8));
  return result;
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504490) --------------------------------------------------------
int __usercall SEH_4E3650<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592D40, a1, a2, a3, a4, a5, a6, a7);
}

//----- (005044B0) --------------------------------------------------------
int __usercall sub_5044B0<eax>(int a1<ebp>)
{
  return sub_401519(*(_DWORD *)(a1 - 20), *(_DWORD *)(a1 + 8));
}
// 401519: using guessed type int __cdecl sub_401519(_DWORD, _DWORD);

//----- (005044C1) --------------------------------------------------------
int __usercall SEH_4E3990<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592D78, a1, a2, a3, a4, a5, a6, a7);
}

//----- (005044E0) --------------------------------------------------------
int __usercall sub_5044E0<eax>(int a1<ebp>)
{
  return sub_401654(*(_DWORD *)(a1 - 16));
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (005044E9) --------------------------------------------------------
int __usercall SEH_4E3BA0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592DA8, a1, a2, a3, a4, a5, a6, a7);
}

//----- (00504500) --------------------------------------------------------
int __usercall sub_504500<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 56);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504509) --------------------------------------------------------
int __usercall SEH_4FC610<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592E58, a1, a2, a3, a4, a5, a6, a7);
}

//----- (00504520) --------------------------------------------------------
void __usercall sub_504520(int a1<ebx>, int a2<ebp>, int a3<esi>)
{
  sub_4FCEE0(*(_DWORD *)(a2 - 16), a1, a3);
}

//----- (00504529) --------------------------------------------------------
int __usercall SEH_4FC670<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592E80, a1, a2, a3, a4, a5, a6, a7);
}

//----- (00504540) --------------------------------------------------------
void __usercall sub_504540(int a1<ebx>, int a2<ebp>, int a3<esi>)
{
  sub_4FCEE0(*(_DWORD *)(a2 - 16), a1, a3);
}

//----- (00504549) --------------------------------------------------------
int __usercall SEH_4FC730<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592EC8, a1, a2, a3, a4, a5, a6, a7);
}

//----- (00504560) --------------------------------------------------------
void __usercall sub_504560(int a1<ebx>, int a2<ebp>, int a3<esi>)
{
  sub_4FCEE0(*(_DWORD *)(a2 - 20), a1, a3);
}

//----- (00504569) --------------------------------------------------------
int __usercall SEH_4FC7F0<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592EF0, a1, a2, a3, a4, a5, a6, a7);
}

//----- (00504580) --------------------------------------------------------
int __usercall sub_504580<eax>(int a1<ebp>)
{
  return sub_401654(a1 - 56);
}
// 401654: using guessed type int __thiscall sub_401654(_DWORD);

//----- (00504589) --------------------------------------------------------
int __usercall SEH_4FC910<eax>(int a1<ebx>, int a2<edi>, int a3<esi>, int a4, int a5, int a6, int a7)
{
  return sub_4E7450((int)&unk_592F58, a1, a2, a3, a4, a5, a6, a7);
}

//----- (005055FD) --------------------------------------------------------
LONG __usercall start<eax>(int a1<ebx>, int a2<edi>, int a3<esi>)
{
  int v3; // eax@1

  v3 = (int)LoadLibraryA("TMSRV.dll");
  return sub_4EC4A0(v3, a1, a2, a3);
}


